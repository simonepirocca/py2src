{"total_count": 7, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/harlowja/fasteners/issues/24", "repository_url": "https://api.github.com/repos/harlowja/fasteners", "labels_url": "https://api.github.com/repos/harlowja/fasteners/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/harlowja/fasteners/issues/24/comments", "events_url": "https://api.github.com/repos/harlowja/fasteners/issues/24/events", "html_url": "https://github.com/harlowja/fasteners/issues/24", "id": 133833090, "node_id": "MDU6SXNzdWUxMzM4MzMwOTA=", "number": 24, "title": "Use Appveyor to make sure things keep working on Windows", "user": {"login": "johntyree", "id": 108972, "node_id": "MDQ6VXNlcjEwODk3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/108972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johntyree", "html_url": "https://github.com/johntyree", "followers_url": "https://api.github.com/users/johntyree/followers", "following_url": "https://api.github.com/users/johntyree/following{/other_user}", "gists_url": "https://api.github.com/users/johntyree/gists{/gist_id}", "starred_url": "https://api.github.com/users/johntyree/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johntyree/subscriptions", "organizations_url": "https://api.github.com/users/johntyree/orgs", "repos_url": "https://api.github.com/users/johntyree/repos", "events_url": "https://api.github.com/users/johntyree/events{/privacy}", "received_events_url": "https://api.github.com/users/johntyree/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-02-15T22:29:13Z", "updated_at": "2016-03-02T22:07:03Z", "closed_at": "2016-03-02T19:24:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It would be great to get Windows-based tests running regularly. It's free for OSS.\n\nwww.appveyor.com\n\nAs the repo owner, I think you, @harlowja, or a blessed contributor need to actually set it up.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/harlowja/fasteners/issues/22", "repository_url": "https://api.github.com/repos/harlowja/fasteners", "labels_url": "https://api.github.com/repos/harlowja/fasteners/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/harlowja/fasteners/issues/22/comments", "events_url": "https://api.github.com/repos/harlowja/fasteners/issues/22/events", "html_url": "https://github.com/harlowja/fasteners/issues/22", "id": 133799434, "node_id": "MDU6SXNzdWUxMzM3OTk0MzQ=", "number": 22, "title": "Process Lock tests assume POSIX", "user": {"login": "johntyree", "id": 108972, "node_id": "MDQ6VXNlcjEwODk3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/108972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johntyree", "html_url": "https://github.com/johntyree", "followers_url": "https://api.github.com/users/johntyree/followers", "following_url": "https://api.github.com/users/johntyree/following{/other_user}", "gists_url": "https://api.github.com/users/johntyree/gists{/gist_id}", "starred_url": "https://api.github.com/users/johntyree/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johntyree/subscriptions", "organizations_url": "https://api.github.com/users/johntyree/orgs", "repos_url": "https://api.github.com/users/johntyree/repos", "events_url": "https://api.github.com/users/johntyree/events{/privacy}", "received_events_url": "https://api.github.com/users/johntyree/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-02-15T19:39:58Z", "updated_at": "2016-02-23T02:57:53Z", "closed_at": "2016-02-23T02:57:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `test_process_lock` module assumes we're on a POSIX system.\n\nIt _looks_ like it can be fixed pretty easily, but I really don't know much about the details of locking on various platforms.\n\nHere we import `fcntl`: https://github.com/harlowja/fasteners/blob/master/fasteners/tests/test_process_lock.py#L19\n\nAnd here we use it: https://github.com/harlowja/fasteners/blob/master/fasteners/tests/test_process_lock.py#L127\n\nAnd here it looks like we could be using this instead: https://github.com/harlowja/fasteners/blob/master/fasteners/process_lock.py#L227\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/harlowja/fasteners/issues/16", "repository_url": "https://api.github.com/repos/harlowja/fasteners", "labels_url": "https://api.github.com/repos/harlowja/fasteners/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/harlowja/fasteners/issues/16/comments", "events_url": "https://api.github.com/repos/harlowja/fasteners/issues/16/events", "html_url": "https://github.com/harlowja/fasteners/issues/16", "id": 120663279, "node_id": "MDU6SXNzdWUxMjA2NjMyNzk=", "number": 16, "title": "Allow `InterProcessLock` to receive a `pathlib.Path` object", "user": {"login": "cool-RR", "id": 56778, "node_id": "MDQ6VXNlcjU2Nzc4", "avatar_url": "https://avatars1.githubusercontent.com/u/56778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cool-RR", "html_url": "https://github.com/cool-RR", "followers_url": "https://api.github.com/users/cool-RR/followers", "following_url": "https://api.github.com/users/cool-RR/following{/other_user}", "gists_url": "https://api.github.com/users/cool-RR/gists{/gist_id}", "starred_url": "https://api.github.com/users/cool-RR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cool-RR/subscriptions", "organizations_url": "https://api.github.com/users/cool-RR/orgs", "repos_url": "https://api.github.com/users/cool-RR/repos", "events_url": "https://api.github.com/users/cool-RR/events{/privacy}", "received_events_url": "https://api.github.com/users/cool-RR/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-12-06T22:00:37Z", "updated_at": "2015-12-30T18:39:44Z", "closed_at": "2015-12-30T18:39:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/harlowja/fasteners/issues/15", "repository_url": "https://api.github.com/repos/harlowja/fasteners", "labels_url": "https://api.github.com/repos/harlowja/fasteners/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/harlowja/fasteners/issues/15/comments", "events_url": "https://api.github.com/repos/harlowja/fasteners/issues/15/events", "html_url": "https://github.com/harlowja/fasteners/issues/15", "id": 120024767, "node_id": "MDU6SXNzdWUxMjAwMjQ3Njc=", "number": 15, "title": "How to handle multiple running instances?", "user": {"login": "paulochf", "id": 107470, "node_id": "MDQ6VXNlcjEwNzQ3MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/107470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulochf", "html_url": "https://github.com/paulochf", "followers_url": "https://api.github.com/users/paulochf/followers", "following_url": "https://api.github.com/users/paulochf/following{/other_user}", "gists_url": "https://api.github.com/users/paulochf/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulochf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulochf/subscriptions", "organizations_url": "https://api.github.com/users/paulochf/orgs", "repos_url": "https://api.github.com/users/paulochf/repos", "events_url": "https://api.github.com/users/paulochf/events{/privacy}", "received_events_url": "https://api.github.com/users/paulochf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-12-02T20:06:24Z", "updated_at": "2015-12-03T16:05:09Z", "closed_at": "2015-12-03T16:05:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\n\nI'm converting my code from lockfile to fasteners and then I got stuck on a problem.\n\nI have a script started by cron about a couple minutes which I want it to be the only instance running.\nI think it's normal some executions last for more than 2 minutes, but I want that new instances started by cron while another is running don't wait for the lock.\n\nNow, the script (a Django Command) is something like below:\n\n``` python\nclass Command(BaseCommand):\n    # ...\n\n    @interprocess_locked(\"path/to/lock\")\n    def handle(self, *args, **options):\n        # do something\n```\n\nbut if I run it twice, one runs and the other waits.\n\nWhat should I do to get the behavior I want? I guess it could be related to the [context manager quoted in Readme](https://github.com/harlowja/fasteners#generic-helpers). It's a guess, but maybe if I use it at `handle()` beggining instead of the decorator I could get that, but I'm finding difficult to use due the lack of documentation for the waiting rule. Something like:\n\n``` python\nclass Command(BaseCommand):\n    # ...\n\n    def handle(self, *args, **options):\n        ### pseudocode\n        with \"try to get lock at 'path/to/lock' without waiting it\":\n            # do something\n```\n\nThank you so much!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/harlowja/fasteners/issues/12", "repository_url": "https://api.github.com/repos/harlowja/fasteners", "labels_url": "https://api.github.com/repos/harlowja/fasteners/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/harlowja/fasteners/issues/12/comments", "events_url": "https://api.github.com/repos/harlowja/fasteners/issues/12/events", "html_url": "https://github.com/harlowja/fasteners/issues/12", "id": 116462868, "node_id": "MDU6SXNzdWUxMTY0NjI4Njg=", "number": 12, "title": "Cannot use a relative path to a file in the current directory as a lock", "user": {"login": "ubershmekel", "id": 77754, "node_id": "MDQ6VXNlcjc3NzU0", "avatar_url": "https://avatars3.githubusercontent.com/u/77754?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubershmekel", "html_url": "https://github.com/ubershmekel", "followers_url": "https://api.github.com/users/ubershmekel/followers", "following_url": "https://api.github.com/users/ubershmekel/following{/other_user}", "gists_url": "https://api.github.com/users/ubershmekel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubershmekel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubershmekel/subscriptions", "organizations_url": "https://api.github.com/users/ubershmekel/orgs", "repos_url": "https://api.github.com/users/ubershmekel/repos", "events_url": "https://api.github.com/users/ubershmekel/events{/privacy}", "received_events_url": "https://api.github.com/users/ubershmekel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-11-12T01:56:16Z", "updated_at": "2015-11-13T19:40:51Z", "closed_at": "2015-11-13T18:48:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The problem is `dirname` here\n\n```\n    def _do_open(self):\n        basedir = os.path.dirname(self.path)\n```\n\nWhich causes this exception because basedir is empty.\n\n```\nTraceback (most recent call last):\n  File \"test_fastener.py\", line 19, in <module>\n    test()\n  File \"C:\\Python26\\lib\\site-packages\\fasteners\\process_lock.py\", line 250, in wrapper\n    with lock:\n  File \"C:\\Python26\\lib\\site-packages\\fasteners\\process_lock.py\", line 173, in __enter__\n    self.acquire()\n  File \"C:\\Python26\\lib\\site-packages\\fasteners\\process_lock.py\", line 150, in acquire\n    self._do_open()\n  File \"C:\\Python26\\lib\\site-packages\\fasteners\\process_lock.py\", line 114, in _do_open\n    made_basedir = _ensure_tree(basedir)\n  File \"C:\\Python26\\lib\\site-packages\\fasteners\\process_lock.py\", line 37, in _ensure_tree\n    os.makedirs(path)\n  File \"C:\\Python26\\lib\\os.py\", line 157, in makedirs\n    mkdir(name, mode)\nWindowsError: [Error 3] The system cannot find the path specified: ''\n```\n\nHonestly I'm surprised this library is trying to create the file or directory. It should just fail if the lock is missing.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/harlowja/fasteners/issues/11", "repository_url": "https://api.github.com/repos/harlowja/fasteners", "labels_url": "https://api.github.com/repos/harlowja/fasteners/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/harlowja/fasteners/issues/11/comments", "events_url": "https://api.github.com/repos/harlowja/fasteners/issues/11/events", "html_url": "https://github.com/harlowja/fasteners/issues/11", "id": 115410399, "node_id": "MDU6SXNzdWUxMTU0MTAzOTk=", "number": 11, "title": "There are no code examples in the docs", "user": {"login": "ubershmekel", "id": 77754, "node_id": "MDQ6VXNlcjc3NzU0", "avatar_url": "https://avatars3.githubusercontent.com/u/77754?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ubershmekel", "html_url": "https://github.com/ubershmekel", "followers_url": "https://api.github.com/users/ubershmekel/followers", "following_url": "https://api.github.com/users/ubershmekel/following{/other_user}", "gists_url": "https://api.github.com/users/ubershmekel/gists{/gist_id}", "starred_url": "https://api.github.com/users/ubershmekel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ubershmekel/subscriptions", "organizations_url": "https://api.github.com/users/ubershmekel/orgs", "repos_url": "https://api.github.com/users/ubershmekel/repos", "events_url": "https://api.github.com/users/ubershmekel/events{/privacy}", "received_events_url": "https://api.github.com/users/ubershmekel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-11-06T00:50:06Z", "updated_at": "2016-02-03T01:22:55Z", "closed_at": "2016-02-03T01:22:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Am I looking in the wrong place?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/harlowja/fasteners/issues/4", "repository_url": "https://api.github.com/repos/harlowja/fasteners", "labels_url": "https://api.github.com/repos/harlowja/fasteners/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/harlowja/fasteners/issues/4/comments", "events_url": "https://api.github.com/repos/harlowja/fasteners/issues/4/events", "html_url": "https://github.com/harlowja/fasteners/issues/4", "id": 85848462, "node_id": "MDU6SXNzdWU4NTg0ODQ2Mg==", "number": 4, "title": "Unable to acquire write lock -> read lock -> write lock", "user": {"login": "harlowja", "id": 970458, "node_id": "MDQ6VXNlcjk3MDQ1OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/970458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harlowja", "html_url": "https://github.com/harlowja", "followers_url": "https://api.github.com/users/harlowja/followers", "following_url": "https://api.github.com/users/harlowja/following{/other_user}", "gists_url": "https://api.github.com/users/harlowja/gists{/gist_id}", "starred_url": "https://api.github.com/users/harlowja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harlowja/subscriptions", "organizations_url": "https://api.github.com/users/harlowja/orgs", "repos_url": "https://api.github.com/users/harlowja/repos", "events_url": "https://api.github.com/users/harlowja/events{/privacy}", "received_events_url": "https://api.github.com/users/harlowja/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-06-07T03:41:26Z", "updated_at": "2015-06-07T03:43:24Z", "closed_at": "2015-06-07T03:43:24Z", "author_association": "OWNER", "active_lock_reason": null, "body": "This should be working, since the _sole_ writer can get a read lock (as its exclusively got the write lock) and then it should be able to again get the write lock it already has.\n", "performed_via_github_app": null, "score": 1.0}]}