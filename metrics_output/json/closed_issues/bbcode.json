{"total_count": 26, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/dcwatson/bbcode/issues/35", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/35/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/35/events", "html_url": "https://github.com/dcwatson/bbcode/issues/35", "id": 548583112, "node_id": "MDU6SXNzdWU1NDg1ODMxMTI=", "number": 35, "title": "replace_links=False doesn't work on video tag/mp4", "user": {"login": "dzpt", "id": 5781080, "node_id": "MDQ6VXNlcjU3ODEwODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5781080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzpt", "html_url": "https://github.com/dzpt", "followers_url": "https://api.github.com/users/dzpt/followers", "following_url": "https://api.github.com/users/dzpt/following{/other_user}", "gists_url": "https://api.github.com/users/dzpt/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzpt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzpt/subscriptions", "organizations_url": "https://api.github.com/users/dzpt/orgs", "repos_url": "https://api.github.com/users/dzpt/repos", "events_url": "https://api.github.com/users/dzpt/events{/privacy}", "received_events_url": "https://api.github.com/users/dzpt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-12T15:10:50Z", "updated_at": "2020-01-12T15:24:39Z", "closed_at": "2020-01-12T15:24:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n        def render_video(name, value, options, parent, context):\r\n            return '<video width=\"100%\" controls><source src=\"' + format(\r\n                value) + '\" type=\"video/mp4\"></video>'\r\n\r\n        parser.add_formatter('video', render_video, replace_links=False)\r\n```\r\n\r\noutput:\r\n\r\n`<video width=\"100%\" controls=\"\" flashstopped=\"true\" id=\"dummyid75\" preload=\"metadata\"><source src=\"<a rel=\" nofollow\"=\"\" href=\"https://domain.com/media/ts/2020/01/11/09/27/f6e662d8-9d69-4512-8c8c-27284c09ce39.mp4\">https://domain.com/media/ts/2020/01/11/09/27/f6e662d8-9d69-4512-8c8c-27284c09ce39.mp4\" type=\"video/mp4\"&gt;</video>`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/34", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/34/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/34/events", "html_url": "https://github.com/dcwatson/bbcode/issues/34", "id": 542666977, "node_id": "MDU6SXNzdWU1NDI2NjY5Nzc=", "number": 34, "title": "make tag options dict case-insensitive", "user": {"login": "dcwatson", "id": 293445, "node_id": "MDQ6VXNlcjI5MzQ0NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/293445?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dcwatson", "html_url": "https://github.com/dcwatson", "followers_url": "https://api.github.com/users/dcwatson/followers", "following_url": "https://api.github.com/users/dcwatson/following{/other_user}", "gists_url": "https://api.github.com/users/dcwatson/gists{/gist_id}", "starred_url": "https://api.github.com/users/dcwatson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dcwatson/subscriptions", "organizations_url": "https://api.github.com/users/dcwatson/orgs", "repos_url": "https://api.github.com/users/dcwatson/repos", "events_url": "https://api.github.com/users/dcwatson/events{/privacy}", "received_events_url": "https://api.github.com/users/dcwatson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-26T20:47:45Z", "updated_at": "2019-12-27T14:48:00Z", "closed_at": "2019-12-27T14:48:00Z", "author_association": "OWNER", "active_lock_reason": null, "body": "But still retain the original case of the option keys. Essentially, I want to use something like this:\r\n\r\nhttps://github.com/psf/requests/blob/master/requests/structures.py#L15", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/33", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/33/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/33/events", "html_url": "https://github.com/dcwatson/bbcode/issues/33", "id": 533156319, "node_id": "MDU6SXNzdWU1MzMxNTYzMTk=", "number": 33, "title": "URLs with ampersand seem to break", "user": {"login": "zarmstrong", "id": 565269, "node_id": "MDQ6VXNlcjU2NTI2OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/565269?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zarmstrong", "html_url": "https://github.com/zarmstrong", "followers_url": "https://api.github.com/users/zarmstrong/followers", "following_url": "https://api.github.com/users/zarmstrong/following{/other_user}", "gists_url": "https://api.github.com/users/zarmstrong/gists{/gist_id}", "starred_url": "https://api.github.com/users/zarmstrong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zarmstrong/subscriptions", "organizations_url": "https://api.github.com/users/zarmstrong/orgs", "repos_url": "https://api.github.com/users/zarmstrong/repos", "events_url": "https://api.github.com/users/zarmstrong/events{/privacy}", "received_events_url": "https://api.github.com/users/zarmstrong/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-05T06:40:13Z", "updated_at": "2019-12-07T04:16:05Z", "closed_at": "2019-12-07T04:16:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "A url with ampersand in the query string seems to break.  It appears like the ampersand is stripped by default.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/30", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/30/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/30/events", "html_url": "https://github.com/dcwatson/bbcode/issues/30", "id": 419513918, "node_id": "MDU6SXNzdWU0MTk1MTM5MTg=", "number": 30, "title": "Output is html escaped even if `escape_html=False`", "user": {"login": "jpstotz", "id": 924885, "node_id": "MDQ6VXNlcjkyNDg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/924885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpstotz", "html_url": "https://github.com/jpstotz", "followers_url": "https://api.github.com/users/jpstotz/followers", "following_url": "https://api.github.com/users/jpstotz/following{/other_user}", "gists_url": "https://api.github.com/users/jpstotz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpstotz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpstotz/subscriptions", "organizations_url": "https://api.github.com/users/jpstotz/orgs", "repos_url": "https://api.github.com/users/jpstotz/repos", "events_url": "https://api.github.com/users/jpstotz/events{/privacy}", "received_events_url": "https://api.github.com/users/jpstotz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-11T14:55:38Z", "updated_at": "2019-04-10T15:39:28Z", "closed_at": "2019-04-10T14:17:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport bbcode\r\nparser = bbcode.Parser(escape_html=False)\r\nprint (parser.format(\"A' [b]A'[/b]\"));\r\n```\r\nExpected output: `A' <strong>A'</strong>`\r\nActual output: `A' <strong>A&#39;</strong>`\r\n\r\nAffected version: bbcode 1.0.32, tested with Python3.6/3.7", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/27", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/27/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/27/events", "html_url": "https://github.com/dcwatson/bbcode/issues/27", "id": 282296066, "node_id": "MDU6SXNzdWUyODIyOTYwNjY=", "number": 27, "title": "\"Dash\" symbols inside code block", "user": {"login": "lampslave", "id": 880505, "node_id": "MDQ6VXNlcjg4MDUwNQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/880505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lampslave", "html_url": "https://github.com/lampslave", "followers_url": "https://api.github.com/users/lampslave/followers", "following_url": "https://api.github.com/users/lampslave/following{/other_user}", "gists_url": "https://api.github.com/users/lampslave/gists{/gist_id}", "starred_url": "https://api.github.com/users/lampslave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lampslave/subscriptions", "organizations_url": "https://api.github.com/users/lampslave/orgs", "repos_url": "https://api.github.com/users/lampslave/repos", "events_url": "https://api.github.com/users/lampslave/events{/privacy}", "received_events_url": "https://api.github.com/users/lampslave/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-15T01:50:34Z", "updated_at": "2017-12-15T21:49:10Z", "closed_at": "2017-12-15T21:30:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Dashes inside code block should remain unchanged, but in 1.0.26:\r\n```\r\nprint(bbcode.render_html('[code]--[/code]'))\r\n<code>&ndash;</code>\r\n\r\nprint(bbcode.render_html('[code]---[/code]'))\r\n<code>&mdash;</code>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/26", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/26/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/26/events", "html_url": "https://github.com/dcwatson/bbcode/issues/26", "id": 227095573, "node_id": "MDU6SXNzdWUyMjcwOTU1NzM=", "number": 26, "title": "url bbcode replaces \\n with <br> tag", "user": {"login": "Goury", "id": 1081221, "node_id": "MDQ6VXNlcjEwODEyMjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1081221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Goury", "html_url": "https://github.com/Goury", "followers_url": "https://api.github.com/users/Goury/followers", "following_url": "https://api.github.com/users/Goury/following{/other_user}", "gists_url": "https://api.github.com/users/Goury/gists{/gist_id}", "starred_url": "https://api.github.com/users/Goury/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Goury/subscriptions", "organizations_url": "https://api.github.com/users/Goury/orgs", "repos_url": "https://api.github.com/users/Goury/repos", "events_url": "https://api.github.com/users/Goury/events{/privacy}", "received_events_url": "https://api.github.com/users/Goury/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-08T16:06:53Z", "updated_at": "2017-05-17T00:58:33Z", "closed_at": "2017-05-17T00:58:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I don't know why, but it should not.\r\n\r\nExample: user posts message: `[url=\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"]\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"[/url]`\r\nIt becames very long empty post.\r\n\r\nExpected behaviour:\r\n`<a href=\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\">\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n</a>`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/24", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/24/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/24/events", "html_url": "https://github.com/dcwatson/bbcode/issues/24", "id": 180608092, "node_id": "MDU6SXNzdWUxODA2MDgwOTI=", "number": 24, "title": "Unvalid BBCode Generates HTML", "user": {"login": "erayerdin", "id": 2399084, "node_id": "MDQ6VXNlcjIzOTkwODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2399084?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erayerdin", "html_url": "https://github.com/erayerdin", "followers_url": "https://api.github.com/users/erayerdin/followers", "following_url": "https://api.github.com/users/erayerdin/following{/other_user}", "gists_url": "https://api.github.com/users/erayerdin/gists{/gist_id}", "starred_url": "https://api.github.com/users/erayerdin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erayerdin/subscriptions", "organizations_url": "https://api.github.com/users/erayerdin/orgs", "repos_url": "https://api.github.com/users/erayerdin/repos", "events_url": "https://api.github.com/users/erayerdin/events{/privacy}", "received_events_url": "https://api.github.com/users/erayerdin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-10-03T10:29:32Z", "updated_at": "2016-10-04T14:00:40Z", "closed_at": "2016-10-04T14:00:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use this module in my Django project as below:\n\n```\n##################\n# BBCode Parsers #\n##################\nimport bbcode\nfrom django.core.urlresolvers import reverse\n\n# Parser Object\nplatform_parser = bbcode.Parser(\n    install_defaults=False,\n    replace_links=False,\n    drop_unrecognized=True\n)\n\n# Parser Functions\ndef render_refer_entry_tag(tag_name, value, options, parent, context) -> str:\n    return '<a href=\"{url}\">#{pk}</a>'.format(\n        url=reverse(\"entry\", kwargs={\"pk\":value}),\n        pk=value\n    )\n\ndef render_refer_title_tag(tag_name, value, options, parent, context) -> str:\n    return '<a href=\"{url}\">{content}</a>'.format(\n        url=reverse(\"title\", kwargs={\"label\": value}),\n        content=value\n    )\n\n# Parsers\nplatform_parser.add_formatter(\n    \"g\",\n    render_refer_entry_tag,\n    strip=True,\n    swallow_trailing_newline=True,\n    same_tag_closes=True,\n    newline_closes=True\n)\n\nplatform_parser.add_formatter(\n    \"b\",\n    render_refer_title_tag,\n    strip=True,\n    swallow_trailing_newline=True,\n    same_tag_closes=True,\n    newline_closes=True\n)\n```\n\nFollowing generates unexpected output while it is not valid at all:\n\n```\nAssertionError: '<a href=\"/g/4332/\">#4332</a>' != '[g]4332'\n- <a href=\"/g/4332/\">#4332</a>\n+ [g]4332\n```\n\nI want it to stay same. I could not find any valid option for _Parser_ class in documentation.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/23", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/23/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/23/events", "html_url": "https://github.com/dcwatson/bbcode/issues/23", "id": 166123322, "node_id": "MDU6SXNzdWUxNjYxMjMzMjI=", "number": 23, "title": "Formatters should only transform their contents and not the contents of their children", "user": {"login": "zaygraveyard", "id": 603764, "node_id": "MDQ6VXNlcjYwMzc2NA==", "avatar_url": "https://avatars0.githubusercontent.com/u/603764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaygraveyard", "html_url": "https://github.com/zaygraveyard", "followers_url": "https://api.github.com/users/zaygraveyard/followers", "following_url": "https://api.github.com/users/zaygraveyard/following{/other_user}", "gists_url": "https://api.github.com/users/zaygraveyard/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaygraveyard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaygraveyard/subscriptions", "organizations_url": "https://api.github.com/users/zaygraveyard/orgs", "repos_url": "https://api.github.com/users/zaygraveyard/repos", "events_url": "https://api.github.com/users/zaygraveyard/events{/privacy}", "received_events_url": "https://api.github.com/users/zaygraveyard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2016-07-18T15:35:45Z", "updated_at": "2016-07-20T13:36:26Z", "closed_at": "2016-07-19T20:32:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "### How to reproduce\n\n``` py\nimport bbcode\n\ndef render(bbcode_text):\n    parser = bbcode.Parser()\n    parser.add_simple_formatter('left', '<div class=\"bb-left\">%(value)s</div>')\n    parser.add_simple_formatter(\n        'code',\n        '<code>%(value)s</code>',\n        same_tag_closes=True,\n        render_embedded=False,\n        transform_newlines=False,\n        escape_html=False,\n        replace_links=False,\n        replace_cosmetic=False,\n        strip=True,\n        swallow_trailing_newline=True\n    )\n    return parser.format(bbcode_text)\n\nprint render('[left]a\\nb[code]c\\nd[/code]\\ne\\nf[/left]')\n```\n### Expected output\n\n```\n<div class=\"bb-left\">a<br>b<code>c\\nd</code><br>e<br>f</div>\n```\n### Actual output\n\n```\n<div class=\"bb-left\">a<br>b<code>c<br>d</code><br>e<br>f</div>\n```\n\nNote the `<br>` inside the `<code>c<br>d</code>` instead of the `\\n`.\n### Version\n\nBBCode 1.0.22\nPython 2.7.12\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/22", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/22/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/22/events", "html_url": "https://github.com/dcwatson/bbcode/issues/22", "id": 115538272, "node_id": "MDU6SXNzdWUxMTU1MzgyNzI=", "number": 22, "title": "Quotation marks in brackes confuses parser", "user": {"login": "angry-elf", "id": 205876, "node_id": "MDQ6VXNlcjIwNTg3Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/205876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angry-elf", "html_url": "https://github.com/angry-elf", "followers_url": "https://api.github.com/users/angry-elf/followers", "following_url": "https://api.github.com/users/angry-elf/following{/other_user}", "gists_url": "https://api.github.com/users/angry-elf/gists{/gist_id}", "starred_url": "https://api.github.com/users/angry-elf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angry-elf/subscriptions", "organizations_url": "https://api.github.com/users/angry-elf/orgs", "repos_url": "https://api.github.com/users/angry-elf/repos", "events_url": "https://api.github.com/users/angry-elf/events{/privacy}", "received_events_url": "https://api.github.com/users/angry-elf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-06T16:24:21Z", "updated_at": "2016-02-26T23:06:51Z", "closed_at": "2016-02-26T22:01:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here are samples:\n\n``` python\nimport bbcode\nbbcode.render_html(\"[b]Hello, [world][/b]\")\n'<strong>Hello, [world]</strong>'  # all ok\n\nbbcode.render_html(\"[b]Hello, [wor'ld][/b]\")\n'<strong>Hello, [wor&#39;ld][/b]</strong>'   # see - [/b] and closing </strong>\n\nbbcode.render_html(\"[b]Hello, [wor\\\"ld][/b]\")\n'<strong>Hello, [wor&quot;ld][/b]</strong>'  # same issue\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/20", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/20/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/20/events", "html_url": "https://github.com/dcwatson/bbcode/issues/20", "id": 100595645, "node_id": "MDU6SXNzdWUxMDA1OTU2NDU=", "number": 20, "title": "Problem: lines too looong", "user": {"login": "obestwalter", "id": 263007, "node_id": "MDQ6VXNlcjI2MzAwNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/263007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obestwalter", "html_url": "https://github.com/obestwalter", "followers_url": "https://api.github.com/users/obestwalter/followers", "following_url": "https://api.github.com/users/obestwalter/following{/other_user}", "gists_url": "https://api.github.com/users/obestwalter/gists{/gist_id}", "starred_url": "https://api.github.com/users/obestwalter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obestwalter/subscriptions", "organizations_url": "https://api.github.com/users/obestwalter/orgs", "repos_url": "https://api.github.com/users/obestwalter/repos", "events_url": "https://api.github.com/users/obestwalter/events{/privacy}", "received_events_url": "https://api.github.com/users/obestwalter/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-08-12T17:38:52Z", "updated_at": "2016-03-15T19:38:06Z", "closed_at": "2016-03-15T19:38:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would you accept a PR with [PEP8 conform line](https://www.python.org/dev/peps/pep-0008/#maximum-line-length) lengths?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/19", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/19/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/19/events", "html_url": "https://github.com/dcwatson/bbcode/issues/19", "id": 65168706, "node_id": "MDU6SXNzdWU2NTE2ODcwNg==", "number": 19, "title": "url should allow specifying target and rel attributes ", "user": {"login": "rbu", "id": 65913, "node_id": "MDQ6VXNlcjY1OTEz", "avatar_url": "https://avatars2.githubusercontent.com/u/65913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rbu", "html_url": "https://github.com/rbu", "followers_url": "https://api.github.com/users/rbu/followers", "following_url": "https://api.github.com/users/rbu/following{/other_user}", "gists_url": "https://api.github.com/users/rbu/gists{/gist_id}", "starred_url": "https://api.github.com/users/rbu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rbu/subscriptions", "organizations_url": "https://api.github.com/users/rbu/orgs", "repos_url": "https://api.github.com/users/rbu/repos", "events_url": "https://api.github.com/users/rbu/events{/privacy}", "received_events_url": "https://api.github.com/users/rbu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-03-30T09:10:25Z", "updated_at": "2018-02-14T19:31:37Z", "closed_at": "2018-02-14T19:31:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be nice if we could replace\n\n```\n[url=example.com]page[/url]\n```\n\nwith this:\n`<a href=\"http://example.com/\" target=\"_blank\" rel=\"nofollow\">link</a>`\n\nby setting an config option to the BBCode instance.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/18", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/18/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/18/events", "html_url": "https://github.com/dcwatson/bbcode/issues/18", "id": 59482825, "node_id": "MDU6SXNzdWU1OTQ4MjgyNQ==", "number": 18, "title": "Option to use custom tag opener/closer on formatter level", "user": {"login": "sh4nks", "id": 1510708, "node_id": "MDQ6VXNlcjE1MTA3MDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1510708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sh4nks", "html_url": "https://github.com/sh4nks", "followers_url": "https://api.github.com/users/sh4nks/followers", "following_url": "https://api.github.com/users/sh4nks/following{/other_user}", "gists_url": "https://api.github.com/users/sh4nks/gists{/gist_id}", "starred_url": "https://api.github.com/users/sh4nks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sh4nks/subscriptions", "organizations_url": "https://api.github.com/users/sh4nks/orgs", "repos_url": "https://api.github.com/users/sh4nks/repos", "events_url": "https://api.github.com/users/sh4nks/events{/privacy}", "received_events_url": "https://api.github.com/users/sh4nks/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-02T13:48:26Z", "updated_at": "2015-03-03T23:53:21Z", "closed_at": "2015-03-03T23:53:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey! \nIt would be cool if there would be an option to change the tag_opener and tag_closer on formatter level. Or instead of this, a regex that matches for example an emoji (like `:smile:` or `:)`).\nSorry if this is already available but I couldn't find it.. just had a quick look on the source and in the docs this isn't mentioned.\n\nThanks!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/16", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/16/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/16/events", "html_url": "https://github.com/dcwatson/bbcode/issues/16", "id": 57995476, "node_id": "MDU6SXNzdWU1Nzk5NTQ3Ng==", "number": 16, "title": "Obscure XSS using url tag", "user": {"login": "Javex", "id": 641439, "node_id": "MDQ6VXNlcjY0MTQzOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/641439?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Javex", "html_url": "https://github.com/Javex", "followers_url": "https://api.github.com/users/Javex/followers", "following_url": "https://api.github.com/users/Javex/following{/other_user}", "gists_url": "https://api.github.com/users/Javex/gists{/gist_id}", "starred_url": "https://api.github.com/users/Javex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Javex/subscriptions", "organizations_url": "https://api.github.com/users/Javex/orgs", "repos_url": "https://api.github.com/users/Javex/repos", "events_url": "https://api.github.com/users/Javex/events{/privacy}", "received_events_url": "https://api.github.com/users/Javex/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-02-17T22:53:42Z", "updated_at": "2019-03-24T09:40:05Z", "closed_at": "2015-02-27T22:48:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey there,\n\ntoday a few fellow students (@qll, @Immortalem, myself) took a look at your library and scanned it for potential security issues. We came up pretty much empty handed but were able to find a pretty nasty way to inject javascript through your parser, though not all browsers are vulnerable to this (most notably IE 10 and Chrome 40).\n\nThe exact details of this XSS include sending, e.g. a `\\x01` byte before the `javascript:` part so it bypasses your filter but still executes as valid JavaScript:\n\n```\n<a href=\"\\x01javascript:alert(1)\">Test</a>\n```\n\nWe developed this case (and found other possible cases) using Shazzer (see [1](http://shazzer.co.uk/database/All/Characters-before-javascript-uri) and [2](http://shazzer.co.uk/database/All/Characters-after-javascript-uri)).\n\nWhile this seems like a weird edge case, there actually lies a real vulnerability as any user could generate this and run JS in the context of another user. And Chrome 40 is actually the current recent version.\n\nYour current approach using blacklisting has the unfortunate result that there may always come up some way to bypass it (for example, there exists an ancient `vbscript:` URI for IE6 or something like that, though these would be very ancient machines indeed...).\n\nHowever, using a whitelisting approach would involve building a whitelist of allowed tags and that can be infinite (think `irc://`, `steam://`, ...).\n\nWe would like to contribute to this project by offering a fix. But before blindly sending a pull request, we want to get your input on this.\n\nMethod 1:\nWe develop some method that fixes the above bug and still keeps blacklisting intact. While we feel this should be possible in a reasonably secure way, using the blacklisting approach might turn some other, weirder way, to evade it. However, we think such a fix is possible.\n\nMethod 2:\nWe implement a whitelisting approach that allows augmenting allowed tags by users of your libary.\n\nI'd personally prefer the first method as the other one limits functionality. However, since this is your library, we want this to be your decision in the end.\n\nPlease let me know how you stand on this issue and we can get started on a fix :+1: \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/15", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/15/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/15/events", "html_url": "https://github.com/dcwatson/bbcode/issues/15", "id": 52562630, "node_id": "MDU6SXNzdWU1MjU2MjYzMA==", "number": 15, "title": "Parsing links not working correctly", "user": {"login": "nookiepl", "id": 264324, "node_id": "MDQ6VXNlcjI2NDMyNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/264324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nookiepl", "html_url": "https://github.com/nookiepl", "followers_url": "https://api.github.com/users/nookiepl/followers", "following_url": "https://api.github.com/users/nookiepl/following{/other_user}", "gists_url": "https://api.github.com/users/nookiepl/gists{/gist_id}", "starred_url": "https://api.github.com/users/nookiepl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nookiepl/subscriptions", "organizations_url": "https://api.github.com/users/nookiepl/orgs", "repos_url": "https://api.github.com/users/nookiepl/repos", "events_url": "https://api.github.com/users/nookiepl/events{/privacy}", "received_events_url": "https://api.github.com/users/nookiepl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-12-20T12:26:01Z", "updated_at": "2014-12-20T20:27:35Z", "closed_at": "2014-12-20T20:24:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nThere is problem with parsing links. If source string contains more than one url with same domain (?), rest of them are repeated by first two.\n\n```\nimport bbcode\np = bbcode.Parser()\np.parse(\"http://github.com/ http://example.org http://github.com/dcwatson/\")\n```\n\nResult:\n    '<a href=\"http://github.com/dcwatson/\">http://github.com/dcwatson/</a> <a href=\"http://example.org\">http://example.org</a> <a href=\"http://github.com/dcwatson/\">http://github.com/dcwatson/</a>'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/14", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/14/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/14/events", "html_url": "https://github.com/dcwatson/bbcode/issues/14", "id": 42184293, "node_id": "MDU6SXNzdWU0MjE4NDI5Mw==", "number": 14, "title": "Quoted option values are cut on square bracket", "user": {"login": "homeworkprod", "id": 95277, "node_id": "MDQ6VXNlcjk1Mjc3", "avatar_url": "https://avatars0.githubusercontent.com/u/95277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/homeworkprod", "html_url": "https://github.com/homeworkprod", "followers_url": "https://api.github.com/users/homeworkprod/followers", "following_url": "https://api.github.com/users/homeworkprod/following{/other_user}", "gists_url": "https://api.github.com/users/homeworkprod/gists{/gist_id}", "starred_url": "https://api.github.com/users/homeworkprod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/homeworkprod/subscriptions", "organizations_url": "https://api.github.com/users/homeworkprod/orgs", "repos_url": "https://api.github.com/users/homeworkprod/repos", "events_url": "https://api.github.com/users/homeworkprod/events{/privacy}", "received_events_url": "https://api.github.com/users/homeworkprod/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-09-08T10:53:33Z", "updated_at": "2014-09-10T10:27:02Z", "closed_at": "2014-09-09T16:56:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'd like to enable users to specify the author of a quote. http://bbcode.readthedocs.org/en/latest/formatters.html describes an approach to implement a quote tag formatter that recognizes multiple variants of such a specification. I'm only allow `[quote author=\"John\"]\u2026[/quote]` in my code.\n\nThis fails when the author name contains square brackets, as it is not uncommon on Internet forums (especially in gaming communities):\n\n```\n[quote author=\"SomeClan][John\"]\u2026[/quote]\n```\n\nIn this case only `SomeClan` is recognized as the option value, the first closing square bracket is interpreted as the start tag's closing symbol, and `[John\"]` followed by the text between the quote tags will be the content.\n\nSince the value of the `author` option is quoted, I expect the parser to honor those quotes and not interpret tag delimiters inside it.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/11", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/11/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/11/events", "html_url": "https://github.com/dcwatson/bbcode/issues/11", "id": 30666642, "node_id": "MDU6SXNzdWUzMDY2NjY0Mg==", "number": 11, "title": "Possible improvements to linker", "user": {"login": "pythonesque", "id": 923144, "node_id": "MDQ6VXNlcjkyMzE0NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/923144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pythonesque", "html_url": "https://github.com/pythonesque", "followers_url": "https://api.github.com/users/pythonesque/followers", "following_url": "https://api.github.com/users/pythonesque/following{/other_user}", "gists_url": "https://api.github.com/users/pythonesque/gists{/gist_id}", "starred_url": "https://api.github.com/users/pythonesque/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pythonesque/subscriptions", "organizations_url": "https://api.github.com/users/pythonesque/orgs", "repos_url": "https://api.github.com/users/pythonesque/repos", "events_url": "https://api.github.com/users/pythonesque/events{/privacy}", "received_events_url": "https://api.github.com/users/pythonesque/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-04-02T08:03:29Z", "updated_at": "2014-05-06T05:58:50Z", "closed_at": "2014-05-06T02:10:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I noticed that there are some things about linker (the user hook into the bbcode parser that activates on link detection) that could be made a bit nicer.  The biggest one is:\n- Give linker access to the context like render() has.  Without this I'm not sure there's an idiomatic way of getting this information to the linker, so I am getting around it by overriding large swathes of the Parser class.\n\nIt would be convenient (and quite easy, I suspect) to make the following changes, but I can work around all of them by overriding the URL formatter so they're not critical:\n- linker is used by default in _render_url, not just _link_replace (there are only very slight differences between them as it is).\n- Allow different schemes than http:// for link replacement (https:// is the obvious one that comes to mind).\n- For _domain_re, allow a custom list of matchable domains (there are probably clever ICANN related things you could do to get and cache an official list but that's probably a library in itself).\n\nFrom a perf standpoint:\n\nHave you tested whether it's faster to not capture the https?:// the first time around (rather than using a noncapturing group, or doing a full regex replace)?  I.e., change _url_re to\n\n``` python\nr'(?im)\\b((?:((https?://)|www\\d{0,3}[.]|[a-z0-9.\\-]+[.][a-z]{2,4}/)(?:[^\\s()<>]+|\\([^\\s()<>]+\\))+(?:\\([^\\s()<>]+\\)|[^\\s`!()\\[\\]{};:\\'\".,<>?]))\n```\n\nand then use the new capture group to decide whether it was necessary to check for prepending http(s)?  Obviously it's very dependent on the regex implementation but this technique wouldn't require rescanning the URL again, and would also make the (I suspect) common task of matching all links to a given domain faster.\n\n(Also, I feel like domain_re would be, if not faster, at least more correct if it was explicitly anchored to the beginning of the string with ^--any reason it isn't?)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/10", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/10/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/10/events", "html_url": "https://github.com/dcwatson/bbcode/issues/10", "id": 24689763, "node_id": "MDU6SXNzdWUyNDY4OTc2Mw==", "number": 10, "title": "Problem with :[", "user": {"login": "nookiepl", "id": 264324, "node_id": "MDQ6VXNlcjI2NDMyNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/264324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nookiepl", "html_url": "https://github.com/nookiepl", "followers_url": "https://api.github.com/users/nookiepl/followers", "following_url": "https://api.github.com/users/nookiepl/following{/other_user}", "gists_url": "https://api.github.com/users/nookiepl/gists{/gist_id}", "starred_url": "https://api.github.com/users/nookiepl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nookiepl/subscriptions", "organizations_url": "https://api.github.com/users/nookiepl/orgs", "repos_url": "https://api.github.com/users/nookiepl/repos", "events_url": "https://api.github.com/users/nookiepl/events{/privacy}", "received_events_url": "https://api.github.com/users/nookiepl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-12-22T22:57:59Z", "updated_at": "2014-05-06T01:39:37Z", "closed_at": "2014-05-06T01:39:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\n> import bbcode\n> parser = bbcode.Parser()\n> parser.install_default_formatters()\n> parser.format(\"Test :[ something\")\n> 'Test :Test :[ something'\n\nAs you can see, when using [ as ie. emoticon (without closing ]), there is problem with output. Text is duplicated.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/9", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/9/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/9/events", "html_url": "https://github.com/dcwatson/bbcode/issues/9", "id": 17842217, "node_id": "MDU6SXNzdWUxNzg0MjIxNw==", "number": 9, "title": "Color tag CSS injection", "user": {"login": "Drumm-", "id": 1192055, "node_id": "MDQ6VXNlcjExOTIwNTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1192055?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Drumm-", "html_url": "https://github.com/Drumm-", "followers_url": "https://api.github.com/users/Drumm-/followers", "following_url": "https://api.github.com/users/Drumm-/following{/other_user}", "gists_url": "https://api.github.com/users/Drumm-/gists{/gist_id}", "starred_url": "https://api.github.com/users/Drumm-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Drumm-/subscriptions", "organizations_url": "https://api.github.com/users/Drumm-/orgs", "repos_url": "https://api.github.com/users/Drumm-/repos", "events_url": "https://api.github.com/users/Drumm-/events{/privacy}", "received_events_url": "https://api.github.com/users/Drumm-/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-08-09T01:00:25Z", "updated_at": "2013-08-12T03:10:59Z", "closed_at": "2013-08-09T11:52:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not a major bug. But you know somebody is going to be able to exploit this:\nhttps://github.com/dcwatson/bbcode/blob/master/bbcode.py#L137 is not secure. I can do [color=red; font-size: 1000px]Blah[/color] for example. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/8", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/8/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/8/events", "html_url": "https://github.com/dcwatson/bbcode/issues/8", "id": 14760601, "node_id": "MDU6SXNzdWUxNDc2MDYwMQ==", "number": 8, "title": "PhpBB BBCode url error", "user": {"login": "frafra", "id": 4068, "node_id": "MDQ6VXNlcjQwNjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/4068?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frafra", "html_url": "https://github.com/frafra", "followers_url": "https://api.github.com/users/frafra/followers", "following_url": "https://api.github.com/users/frafra/following{/other_user}", "gists_url": "https://api.github.com/users/frafra/gists{/gist_id}", "starred_url": "https://api.github.com/users/frafra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frafra/subscriptions", "organizations_url": "https://api.github.com/users/frafra/orgs", "repos_url": "https://api.github.com/users/frafra/repos", "events_url": "https://api.github.com/users/frafra/events{/privacy}", "received_events_url": "https://api.github.com/users/frafra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-05-25T17:29:05Z", "updated_at": "2014-05-06T02:14:32Z", "closed_at": "2014-05-06T02:14:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Current output (taken directly from PhpBB database posts table):\n\n``` python\n>>> t=\"[url=http://www.dlvr.it/:3pzdg5xo]dlvr[/url:3pzdg5xo]\"\n>>> bbcode.render_html(t)\n'<a href=\"http://www.dlvr.it/:3pzdg5xo\">dlvr[/url:3pzdg5xo]</a>'\n```\n\nExpected output:\n\n``` python\n'<a href=\"http://www.dlvr.it/\">dlvr</a>'\n```\n\nI don't know it this kind of BBCode is valid, but PhpBB uses it like a comment (don't why it do that) and they declare they use BBCode, so maybe it should recognized.\n\nI suppose that bbcode could just strip them.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/7", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/7/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/7/events", "html_url": "https://github.com/dcwatson/bbcode/issues/7", "id": 13981974, "node_id": "MDU6SXNzdWUxMzk4MTk3NA==", "number": 7, "title": "Some tag values should not be stripped by default", "user": {"login": "marcinn", "id": 139032, "node_id": "MDQ6VXNlcjEzOTAzMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/139032?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marcinn", "html_url": "https://github.com/marcinn", "followers_url": "https://api.github.com/users/marcinn/followers", "following_url": "https://api.github.com/users/marcinn/following{/other_user}", "gists_url": "https://api.github.com/users/marcinn/gists{/gist_id}", "starred_url": "https://api.github.com/users/marcinn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marcinn/subscriptions", "organizations_url": "https://api.github.com/users/marcinn/orgs", "repos_url": "https://api.github.com/users/marcinn/repos", "events_url": "https://api.github.com/users/marcinn/events{/privacy}", "received_events_url": "https://api.github.com/users/marcinn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-05-05T19:28:47Z", "updated_at": "2014-05-06T01:40:35Z", "closed_at": "2014-05-06T01:40:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Let's take source text:\n`Normal font [b]and bold font [/b]and again normal`\n\nAs the result \"bold font\" will be joined with \"and again\" without space.\nBut expected result is `<strong>and bold font </strong>and`, because many non-dev users have no idea about stripping tag values (they even don't now anything about tags and bbcode).\n\nVersion: 1.0.10\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/6", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/6/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/6/events", "html_url": "https://github.com/dcwatson/bbcode/issues/6", "id": 13365071, "node_id": "MDU6SXNzdWUxMzM2NTA3MQ==", "number": 6, "title": "render_embedded=False doesn't ignore opening tags", "user": {"login": "reclosedev", "id": 660112, "node_id": "MDQ6VXNlcjY2MDExMg==", "avatar_url": "https://avatars3.githubusercontent.com/u/660112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reclosedev", "html_url": "https://github.com/reclosedev", "followers_url": "https://api.github.com/users/reclosedev/followers", "following_url": "https://api.github.com/users/reclosedev/following{/other_user}", "gists_url": "https://api.github.com/users/reclosedev/gists{/gist_id}", "starred_url": "https://api.github.com/users/reclosedev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reclosedev/subscriptions", "organizations_url": "https://api.github.com/users/reclosedev/orgs", "repos_url": "https://api.github.com/users/reclosedev/repos", "events_url": "https://api.github.com/users/reclosedev/events{/privacy}", "received_events_url": "https://api.github.com/users/reclosedev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-04-18T18:42:35Z", "updated_at": "2013-04-18T20:11:43Z", "closed_at": "2013-04-18T19:48:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Code with custom formater, which demonstrates the problem:\n\n``` python\nimport bbcode\n\nparser = bbcode.Parser()\n\ndef render_code(name, value, options, parent, context):\n    if options:\n        lang = parser._replace(options.keys()[0], parser.REPLACE_ESCAPE)\n        highlight_class = \"lang-%s\" % lang\n    else:\n        highlight_class = 'no-highlight'\n    return '<code class=\"%s\">%s</code>' % (highlight_class, value)\n\nparser.add_formatter(\n    \"code\", render_code, \n    render_embedded=False, \n    transform_newlines=False, \n    replace_links=False,\n    replace_cosmetic=False,\n)\n\nmarkup = \"\"\"text before code:\n[code python]\ndef test():\n    print \"test (c)\", 'test'\n    code = 123\n    a = [code]\n    b = 42\n[/code] after code\"\"\"\nprint parser.format(markup)\n```\n\nOutput:\n\n```\ntext before code:<br /><code class=\"lang-python\">def test():\n    print &quot;test (c)&quot;, &#39;test&#39;\n    code = 123\n    a = [code]\n    b = 42\n[/code] after code</code>\n```\n\nExpected:\n\n```\ntext before code:<br /><code class=\"lang-python\">def test():\n    print &quot;test (c)&quot;, &#39;test&#39;\n    code = 123\n    a = [code]\n    b = 42\n</code> after code\n```\n\nPostmarkup has the same issue.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/5", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/5/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/5/events", "html_url": "https://github.com/dcwatson/bbcode/issues/5", "id": 12008647, "node_id": "MDU6SXNzdWUxMjAwODY0Nw==", "number": 5, "title": "Add more basic tags", "user": {"login": "slav0nic", "id": 199555, "node_id": "MDQ6VXNlcjE5OTU1NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/199555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slav0nic", "html_url": "https://github.com/slav0nic", "followers_url": "https://api.github.com/users/slav0nic/followers", "following_url": "https://api.github.com/users/slav0nic/following{/other_user}", "gists_url": "https://api.github.com/users/slav0nic/gists{/gist_id}", "starred_url": "https://api.github.com/users/slav0nic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slav0nic/subscriptions", "organizations_url": "https://api.github.com/users/slav0nic/orgs", "repos_url": "https://api.github.com/users/slav0nic/repos", "events_url": "https://api.github.com/users/slav0nic/events{/privacy}", "received_events_url": "https://api.github.com/users/slav0nic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-03-14T07:52:35Z", "updated_at": "2014-05-06T02:19:12Z", "closed_at": "2014-05-06T02:19:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Some basic tags not  implemented.\nFor example:\n\n```\n[img]\n[email]\n[size]\n[quote <name>]\n[code [codetype]]\n[font]\n[sub]\n[sup]\n\n```\n\nhttp://bb.bbboy.net/man/BbCode.html\nhttp://www.bbcode.org/reference.php\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/4", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/4/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/4/events", "html_url": "https://github.com/dcwatson/bbcode/issues/4", "id": 12008345, "node_id": "MDU6SXNzdWUxMjAwODM0NQ==", "number": 4, "title": "XSS vulnerability in some tags", "user": {"login": "slav0nic", "id": 199555, "node_id": "MDQ6VXNlcjE5OTU1NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/199555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slav0nic", "html_url": "https://github.com/slav0nic", "followers_url": "https://api.github.com/users/slav0nic/followers", "following_url": "https://api.github.com/users/slav0nic/following{/other_user}", "gists_url": "https://api.github.com/users/slav0nic/gists{/gist_id}", "starred_url": "https://api.github.com/users/slav0nic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slav0nic/subscriptions", "organizations_url": "https://api.github.com/users/slav0nic/orgs", "repos_url": "https://api.github.com/users/slav0nic/repos", "events_url": "https://api.github.com/users/slav0nic/events{/privacy}", "received_events_url": "https://api.github.com/users/slav0nic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2013-03-14T07:37:05Z", "updated_at": "2014-08-27T23:34:40Z", "closed_at": "2013-03-14T16:54:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\n[url]javascript:alert('XSS');[/url]\n[url]123\" onmouseover=\"alert('Hacked');[/url]\n```\n\nSolution: escaping more symbols like \", '. All returned html values between tags must be escaped.\n\ncheck as this done in django for example https://github.com/django/django/blob/master/django/utils/html.py#L39\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/3", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/3/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/3/events", "html_url": "https://github.com/dcwatson/bbcode/issues/3", "id": 9278647, "node_id": "MDU6SXNzdWU5Mjc4NjQ3", "number": 3, "title": "Leading slashes getting removed", "user": {"login": "zauberparacelsus", "id": 548168, "node_id": "MDQ6VXNlcjU0ODE2OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/548168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zauberparacelsus", "html_url": "https://github.com/zauberparacelsus", "followers_url": "https://api.github.com/users/zauberparacelsus/followers", "following_url": "https://api.github.com/users/zauberparacelsus/following{/other_user}", "gists_url": "https://api.github.com/users/zauberparacelsus/gists{/gist_id}", "starred_url": "https://api.github.com/users/zauberparacelsus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zauberparacelsus/subscriptions", "organizations_url": "https://api.github.com/users/zauberparacelsus/orgs", "repos_url": "https://api.github.com/users/zauberparacelsus/repos", "events_url": "https://api.github.com/users/zauberparacelsus/events{/privacy}", "received_events_url": "https://api.github.com/users/zauberparacelsus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8316888, "node_id": "MDU6TGFiZWw4MzE2ODg4", "url": "https://api.github.com/repos/dcwatson/bbcode/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-12-14T08:21:46Z", "updated_at": "2012-12-18T15:39:22Z", "closed_at": "2012-12-18T15:39:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "The bbcode parser is stripping the leading slashes out of links.  Because of this, relative links cannot be used without additional hacking.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/2", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/2/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/2/events", "html_url": "https://github.com/dcwatson/bbcode/issues/2", "id": 9194829, "node_id": "MDU6SXNzdWU5MTk0ODI5", "number": 2, "title": "Image tag unsupported", "user": {"login": "zauberparacelsus", "id": 548168, "node_id": "MDQ6VXNlcjU0ODE2OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/548168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zauberparacelsus", "html_url": "https://github.com/zauberparacelsus", "followers_url": "https://api.github.com/users/zauberparacelsus/followers", "following_url": "https://api.github.com/users/zauberparacelsus/following{/other_user}", "gists_url": "https://api.github.com/users/zauberparacelsus/gists{/gist_id}", "starred_url": "https://api.github.com/users/zauberparacelsus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zauberparacelsus/subscriptions", "organizations_url": "https://api.github.com/users/zauberparacelsus/orgs", "repos_url": "https://api.github.com/users/zauberparacelsus/repos", "events_url": "https://api.github.com/users/zauberparacelsus/events{/privacy}", "received_events_url": "https://api.github.com/users/zauberparacelsus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8316894, "node_id": "MDU6TGFiZWw4MzE2ODk0", "url": "https://api.github.com/repos/dcwatson/bbcode/labels/wontfix", "name": "wontfix", "color": "ffffff", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2012-12-11T20:45:46Z", "updated_at": "2014-08-26T10:23:00Z", "closed_at": "2012-12-11T21:37:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "The parser does not appear to support the [img] bbcode tag.  Like the other issue I reported, I'll need to code around it.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/dcwatson/bbcode/issues/1", "repository_url": "https://api.github.com/repos/dcwatson/bbcode", "labels_url": "https://api.github.com/repos/dcwatson/bbcode/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/dcwatson/bbcode/issues/1/comments", "events_url": "https://api.github.com/repos/dcwatson/bbcode/issues/1/events", "html_url": "https://github.com/dcwatson/bbcode/issues/1", "id": 9167836, "node_id": "MDU6SXNzdWU5MTY3ODM2", "number": 1, "title": "double line returns", "user": {"login": "zauberparacelsus", "id": 548168, "node_id": "MDQ6VXNlcjU0ODE2OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/548168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zauberparacelsus", "html_url": "https://github.com/zauberparacelsus", "followers_url": "https://api.github.com/users/zauberparacelsus/followers", "following_url": "https://api.github.com/users/zauberparacelsus/following{/other_user}", "gists_url": "https://api.github.com/users/zauberparacelsus/gists{/gist_id}", "starred_url": "https://api.github.com/users/zauberparacelsus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zauberparacelsus/subscriptions", "organizations_url": "https://api.github.com/users/zauberparacelsus/orgs", "repos_url": "https://api.github.com/users/zauberparacelsus/repos", "events_url": "https://api.github.com/users/zauberparacelsus/events{/privacy}", "received_events_url": "https://api.github.com/users/zauberparacelsus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 8316891, "node_id": "MDU6TGFiZWw4MzE2ODkx", "url": "https://api.github.com/repos/dcwatson/bbcode/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-12-11T03:26:25Z", "updated_at": "2012-12-11T21:11:28Z", "closed_at": "2012-12-11T21:11:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "This module has  a tendency to convert each line return into a double line break.  I don't know if this is a part of bbcode's standard, but it's rather annoying because I like to keep careful control over my formatting.\n\nAs far as I can tell, there's no way to disable this behavior aside from running python's replace() function on the render_html() function's output.\n", "performed_via_github_app": null, "score": 1.0}]}