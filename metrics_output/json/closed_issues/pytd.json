{"total_count": 28, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/treasure-data/pytd/issues/88", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/88/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/88/events", "html_url": "https://github.com/treasure-data/pytd/issues/88", "id": 613617191, "node_id": "MDU6SXNzdWU2MTM2MTcxOTE=", "number": 88, "title": "Clarify the difference between td-client-python and pytd", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-06T21:14:09Z", "updated_at": "2020-05-11T02:31:26Z", "closed_at": "2020-05-11T02:31:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The relationship is unclear in pytd official document. We may be able to take some description in [Treasure Data Dec 2019 Release Note](https://support.treasuredata.com/hc/en-us/articles/360038238094-Release-Note-20191201) to guide users.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/87", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/87/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/87/events", "html_url": "https://github.com/treasure-data/pytd/issues/87", "id": 611685873, "node_id": "MDU6SXNzdWU2MTE2ODU4NzM=", "number": 87, "title": "Fix document site URL from zendesk to Confluence", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-04T08:14:56Z", "updated_at": "2020-05-11T02:31:26Z", "closed_at": "2020-05-11T02:31:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Since our document site was moved from Zendesk to Confluence, we need to fix links for support pages.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/84", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/84/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/84/events", "html_url": "https://github.com/treasure-data/pytd/issues/84", "id": 591558652, "node_id": "MDU6SXNzdWU1OTE1NTg2NTI=", "number": 84, "title": "Hard to understand how to use `tdclient` in PrestoQueryEngine", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-01T01:54:21Z", "updated_at": "2020-04-10T05:18:57Z", "closed_at": "2020-04-10T05:18:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "pytd's Presto client uses `prestodb.dbapi.Cursor` by default, but if user passes at least one extra parameter with a query (i.e., db, result_url, priority, retry_limit, wait_interval, or wait_callback\u00a0https://pytd-doc.readthedocs.io/en/1.2.0/generated/pytd.Client.html#pytd.Client.query), then pytd returns\u00a0`tdclient.cursor.Cursor`.\u00a0\r\n\r\nThat is, while the following operation returns\u00a0`prestodb.dbapi.Cursor`:\r\n```py\r\nclient_presto.query('select 1')\u00a0 # =>\u00a0prestodb.dbapi.Cursor\r\n```\r\nan extra parameter `priority`, for example, forces the method to use tdclient's Cursor:\r\n```py\r\nclient_presto.query('select 1', priority=0)\u00a0 # =>\u00a0tdclient.cursor.Cursor\r\n```\r\n\r\nFor those who want to use `tdclient` for Presto queries, the usage is a bit tricky and hard to understand.\r\n\r\nWe should make it easier to understand by adding an optional config parameter and/or improving documentation.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/79", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/79/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/79/events", "html_url": "https://github.com/treasure-data/pytd/issues/79", "id": 587898698, "node_id": "MDU6SXNzdWU1ODc4OTg2OTg=", "number": 79, "title": "'pytd.Client' object has no attribute 'query_engine'", "user": {"login": "Antchouay12", "id": 44853638, "node_id": "MDQ6VXNlcjQ0ODUzNjM4", "avatar_url": "https://avatars0.githubusercontent.com/u/44853638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Antchouay12", "html_url": "https://github.com/Antchouay12", "followers_url": "https://api.github.com/users/Antchouay12/followers", "following_url": "https://api.github.com/users/Antchouay12/following{/other_user}", "gists_url": "https://api.github.com/users/Antchouay12/gists{/gist_id}", "starred_url": "https://api.github.com/users/Antchouay12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Antchouay12/subscriptions", "organizations_url": "https://api.github.com/users/Antchouay12/orgs", "repos_url": "https://api.github.com/users/Antchouay12/repos", "events_url": "https://api.github.com/users/Antchouay12/events{/privacy}", "received_events_url": "https://api.github.com/users/Antchouay12/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-25T18:22:18Z", "updated_at": "2020-04-02T05:02:14Z", "closed_at": "2020-04-02T05:02:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Following code fails when replacing pandas_td by pytd.pandas_td:\r\n```\r\n#import pandas_td as td\r\nimport pytd.pandas_td as td\r\ncon = td.connect(apikey=td_api_key)\r\nengine = con.query_engine(database='global', type='presto')\r\n```\r\n\r\nwith error:\r\n`AttributeError: 'Client' object has no attribute 'query_engine'`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/78", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/78/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/78/events", "html_url": "https://github.com/treasure-data/pytd/issues/78", "id": 584377575, "node_id": "MDU6SXNzdWU1ODQzNzc1NzU=", "number": 78, "title": "Support `msgpack` format as `to_td` option", "user": {"login": "akito19", "id": 8242734, "node_id": "MDQ6VXNlcjgyNDI3MzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/8242734?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akito19", "html_url": "https://github.com/akito19", "followers_url": "https://api.github.com/users/akito19/followers", "following_url": "https://api.github.com/users/akito19/following{/other_user}", "gists_url": "https://api.github.com/users/akito19/gists{/gist_id}", "starred_url": "https://api.github.com/users/akito19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akito19/subscriptions", "organizations_url": "https://api.github.com/users/akito19/orgs", "repos_url": "https://api.github.com/users/akito19/repos", "events_url": "https://api.github.com/users/akito19/events{/privacy}", "received_events_url": "https://api.github.com/users/akito19/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-19T12:29:36Z", "updated_at": "2020-04-01T01:15:49Z", "closed_at": "2020-04-01T01:15:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "### Purpose\r\n\r\nImport `object` datatype values of DataFrame to Treasure Data as `string` type.\r\n\r\n### Behaviors\r\n\r\nCurrently, when we try to import these data into Treasure Data by using `pandas_td.to_td`, the values would be not necessarily that these are `object`:\r\n\r\ne.g.)\r\n\r\n```py\r\nimport pytd.pandas_td as td\r\nimport pandas as pd\r\n\r\ndf = pd.DataFrame([{'id':'00123', 'num': '45678'}])\r\ncon = td.connect()\r\n\r\ntd.to_td(df, 'kasai_test.pytd', con, if_exists='replace')\r\n```\r\n\r\nIn this case, both `id` and `num` are stored as `long` type in Treasure Data in spite of `object` type in DataFrame.\r\nI guess that converting to CSV might cause this result since CSV doesn't have typing system.\r\n\r\nHowever, `fmt='msgpack'` has been available in calling `BulkImportWriter.write_dataframe` since version [1.0.0](https://github.com/treasure-data/pytd/blob/master/CHANGELOG.rst#v100-2019-11-11).\r\nThus, we can store these values as `string` if we use the `write_dataframe` explicitly like below:\r\n\r\n```py\r\nimport pytd\r\nimport pandas as pd\r\n\r\ndf = pd.DataFrame({'id': '00324', 'test': '5678'}, index=range(2))\r\nclient = pytd.Client()\r\n\r\ntable = pytd.table.Table(client, \"kasai_test\", \"pytd\")\r\nwriter = pytd.writer.BulkImportWriter()\r\nwriter.write_dataframe(df, table, if_exists=\"overwrite\", fmt=\"msgpack\")\r\n```\r\n\r\nBecause pytd has already enabled choosing format when using `bulk_import`, users might expect to be able to set format as well as `write_dataframe`.\r\nThus, I propose that pytd supports `msgpack` format in `to_td` options.\r\n\r\nWhat do you think about it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/74", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/74/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/74/events", "html_url": "https://github.com/treasure-data/pytd/issues/74", "id": 577255520, "node_id": "MDU6SXNzdWU1NzcyNTU1MjA=", "number": 74, "title": "Use GitHub Actions for releasing package distribution", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-07T01:44:35Z", "updated_at": "2020-03-18T00:32:15Z", "closed_at": "2020-03-18T00:32:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://packaging.python.org/guides/publishing-package-distribution-releases-using-github-actions-ci-cd-workflows/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/67", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/67/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/67/events", "html_url": "https://github.com/treasure-data/pytd/issues/67", "id": 572549070, "node_id": "MDU6SXNzdWU1NzI1NDkwNzA=", "number": 67, "title": "Cannot write `null` value for string columns", "user": {"login": "masaomoc", "id": 2192963, "node_id": "MDQ6VXNlcjIxOTI5NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/2192963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/masaomoc", "html_url": "https://github.com/masaomoc", "followers_url": "https://api.github.com/users/masaomoc/followers", "following_url": "https://api.github.com/users/masaomoc/following{/other_user}", "gists_url": "https://api.github.com/users/masaomoc/gists{/gist_id}", "starred_url": "https://api.github.com/users/masaomoc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/masaomoc/subscriptions", "organizations_url": "https://api.github.com/users/masaomoc/orgs", "repos_url": "https://api.github.com/users/masaomoc/repos", "events_url": "https://api.github.com/users/masaomoc/events{/privacy}", "received_events_url": "https://api.github.com/users/masaomoc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-28T06:29:31Z", "updated_at": "2020-03-03T05:58:52Z", "closed_at": "2020-03-03T05:58:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "# Problem\r\n\r\nI expect DataFrame `numpy.nan` or None value to be written as `null` on TD. However, current implementation does not seem to handle them properly.\r\n\r\n## Version\r\n\r\n- pytd: 1.0.0\r\n- pandas: 0.25.3\r\n\r\n## How to reproduce\r\n\r\n```\r\nimport pandas as pd\r\nimport pytd\r\n\r\ndf = pd.DataFrame(data=[{'a':'A','b':'B'}, {'a':'A','b':'B','c':'C'}])\r\n\r\nclient = pytd.Client(database='test_db', apikey=apikey)\r\nclient.load_table_from_dataframe(df, 'test_db.test', writer='insert_into', if_exists='overwrite')\r\nresult = client.query('select * from test_db.test')\r\nprint(result)\r\n=> {'data': [['A', 'B', 'nan', 1582870254], ['A', 'B', 'C', 1582870254]], 'columns':     ['a', 'b', 'c', 'time']}\r\n```\r\n\r\nWhile I tried `df = df.where(df.notnull(), None)` as well, to replace `np.nan` to None, only BulkImportWriter could write the value as `null`.\r\n\r\n## Situation Summary\r\n\r\n|                |   numpy.nan                       | None                         |\r\n|----------------|-------------------------------|-----------------------------|\r\n|BulkImportWriter|`'NaN'`          |`null`         |\r\n|InsertIntoWriter          |`'nan'`            | `'None'`            |\r\n|SparkWriter          |`'nan'`|`'None'`|", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/64", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/64/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/64/events", "html_url": "https://github.com/treasure-data/pytd/issues/64", "id": 558542094, "node_id": "MDU6SXNzdWU1NTg1NDIwOTQ=", "number": 64, "title": "pandas 1.0.1 evaluation", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-01T13:35:49Z", "updated_at": "2020-03-09T04:47:48Z", "closed_at": "2020-03-09T04:47:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Since [pandas v1.0.0](https://pandas.pydata.org/pandas-docs/version/1.0.0/whatsnew/v1.0.0.html#pandas-array-inference-changes) introduces:\r\n- pandas.NA\r\n- dtype string\r\n\r\nwe definitely need to ensure to work with it. At least, we do have to care `pandas.NA` which may be converted into \"NA\"-ish string like `numpy.nan`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/62", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/62/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/62/events", "html_url": "https://github.com/treasure-data/pytd/issues/62", "id": 557887962, "node_id": "MDU6SXNzdWU1NTc4ODc5NjI=", "number": 62, "title": "Fetch TD job id of executed query", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1153470537, "node_id": "MDU6TGFiZWwxMTUzNDcwNTM3", "url": "https://api.github.com/repos/treasure-data/pytd/labels/enhancement", "name": "enhancement", "color": "a2eeef", "default": true, "description": "New feature or request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-31T03:19:51Z", "updated_at": "2020-02-03T03:43:00Z", "closed_at": "2020-02-03T03:43:00Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "`Client#query` executes TD job when `QueryEngine` is defined by td-client's Presto/Hive connection. However, we currently have no way to retrieve the TD job ids associated with executed queries.\r\n\r\nSince `tdclient.Cursor.execute` returns job id, there is a workaround like:\r\n\r\n```py\r\nimport pytd\r\n\r\nclient = pytd.Client(default_engine='presto')  # or 'hive'\r\ncur = client.default_engine.cursor(priority=0)  # force pytd to use td-client's connection\r\njob_id = cur.execute('select 1')\r\nrows = cur.fetchall()\r\ncolumns = [desc[0] for desc in cur.description]\r\n\r\njob_id, {\"data\": rows, \"columns\": columns}\r\n```\r\n\r\nIt'd be nice if pytd provides auxiliary function for fetching such a corresponding job id.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/54", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/54/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/54/events", "html_url": "https://github.com/treasure-data/pytd/issues/54", "id": 506159684, "node_id": "MDU6SXNzdWU1MDYxNTk2ODQ=", "number": 54, "title": "Add unique bulk_import name not only `time.time()` for BulkImportWriter", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-12T09:15:48Z", "updated_at": "2019-10-15T07:43:07Z", "closed_at": "2019-10-15T07:43:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Once a bulk_import session is created at the same timing (same second), the bulk load name will conflict, which frequently happens on CI. In the current implementation, we don't have to avoid this issue.\r\nIt'd be better to add some unique_id like PID for bulk load names.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/52", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/52/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/52/events", "html_url": "https://github.com/treasure-data/pytd/issues/52", "id": 503331063, "node_id": "MDU6SXNzdWU1MDMzMzEwNjM=", "number": 52, "title": "Get TypeError when a column has \"\\x85\" value", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-07T09:24:27Z", "updated_at": "2019-10-09T01:59:51Z", "closed_at": "2019-10-09T01:59:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When a dataframe has a value [`\\x85`](https://www.charbase.com/0085-unicode-next-line-nel) `client.load_table_from_dataframe()` fails with `TypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'`.\r\n\r\nThis could be a td-client-python issue, though.\r\n\r\nReproducible code:\r\n\r\n```py\r\n>>> import pandas as pd\r\n>>> import pytd\r\n>>> client = pytd.Client()\r\n>>> df = pd.DataFrame(data={'col1': [1, 2], 'col2': [3, 10], 'col3': ['foo', \"\\x85.\"]})\r\n>>> client.load_table_from_dataframe(df, \"aki_test.foo\", if_exists=\"overwrite\")\r\nuploading data converted into a CSV file\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/pytd/writer.py in _bulk_import(self, table, csv, if_exists)\r\n    315             logger.info(\"uploading data converted into a CSV file\")\r\n--> 316             bulk_import.upload_file(\"part\", \"csv\", csv.name)\r\n    317             bulk_import.freeze()\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/tdclient/bulk_import_model.py in upload_file(self, part_name, fmt, file_like)\r\n    179         response = self._client.bulk_import_upload_file(\r\n--> 180             self.name, part_name, fmt, file_like\r\n    181         )\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/tdclient/client.py in bulk_import_upload_file(self, name, part_name, format, file)\r\n    605         \"\"\"\r\n--> 606         return self.api.bulk_import_upload_file(name, part_name, format, file)\r\n    607\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/tdclient/bulk_import_api.py in bulk_import_upload_file(self, name, part_name, format, file, **kwargs)\r\n    160         self.validate_part_name(part_name)\r\n--> 161         with contextlib.closing(self._prepare_file(file, format, **kwargs)) as fp:\r\n    162             size = os.fstat(fp.fileno()).st_size\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/tdclient/api.py in _prepare_file(self, file_like, fmt, **kwargs)\r\n    564             with contextlib.closing(self._read_file(file_like, fmt, **kwargs)) as items:\r\n--> 565                 for item in items:\r\n    566                     try:\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/tdclient/api.py in _read_csv_file(self, file_like, dialect, columns, encoding, **kwargs)\r\n    642             for row in reader:\r\n--> 643                 record = {k: value(v) for (k, v) in row.items()}\r\n    644                 self._validate_record(record)\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/tdclient/api.py in <dictcomp>(.0)\r\n    642             for row in reader:\r\n--> 643                 record = {k: value(v) for (k, v) in row.items()}\r\n    644                 self._validate_record(record)\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/tdclient/api.py in value(s)\r\n    625             try:\r\n--> 626                 return int(s)\r\n    627             except (OverflowError, ValueError):\r\n\r\nTypeError: int() argument must be a string, a bytes-like object or a number, not 'NoneType'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-122-5c97b73a8201> in <module>\r\n----> 1 client.load_table_from_dataframe(df, \"aki_test.foo\", if_exists=\"overwrite\")\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/pytd/client.py in load_table_from_dataframe(self, dataframe, destination, writer, if_exists, **kwargs)\r\n    250             destination = self.get_table(database, table)\r\n    251\r\n--> 252         destination.import_dataframe(dataframe, writer, if_exists, **kwargs)\r\n    253\r\n    254     def __enter__(self):\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/pytd/table.py in import_dataframe(self, dataframe, writer, if_exists, **kwargs)\r\n    115             writer = Writer.from_string(writer, **kwargs)\r\n    116\r\n--> 117         writer.write_dataframe(dataframe, self, if_exists)\r\n    118\r\n    119         if writer_from_string:\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/pytd/writer.py in write_dataframe(self, dataframe, table, if_exists)\r\n    262         dataframe.to_csv(fp.name)\r\n    263\r\n--> 264         self._bulk_import(table, fp, if_exists)\r\n    265\r\n    266         fp.close()\r\n\r\n~/src/workflow-examples/machine-learning-box/sentiment-analysis/.venv/lib/python3.6/site-packages/pytd/writer.py in _bulk_import(self, table, csv, if_exists)\r\n    318         except Exception as e:\r\n    319             bulk_import.delete()\r\n--> 320             raise RuntimeError(\"failed to upload file: {}\".format(e))\r\n    321\r\n    322         logger.info(\"performing a bulk import job\")\r\n\r\nRuntimeError: failed to upload file: int() argument must be a string, a bytes-like object or a number, not 'NoneType'\r\n```\r\n\r\nThe CSV saved by pandas is as the following:\r\n\r\n```\r\n,col1,col2,col3\r\n0,1,3,foo\r\n1,2,10,<U+0085>.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/50", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/50/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/50/events", "html_url": "https://github.com/treasure-data/pytd/issues/50", "id": 502479613, "node_id": "MDU6SXNzdWU1MDI0Nzk2MTM=", "number": 50, "title": "pytd.pandas_td.read_query() fails if endpoint given without `https://`", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-04T07:35:45Z", "updated_at": "2019-10-07T07:51:18Z", "closed_at": "2019-10-07T07:51:18Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "After using `pytd.pandas_td.create_engine()`,  Presto query fails with `InvalidURL: Invalid URL 'https://:443/v1/statement': No host supplied`.\r\n\r\n```py\r\nIn [10]: import pytd.pandas_td as td\r\n\r\nIn [11]: connection = td.connect(apikey=apikey, endpoint=\"api.treasuredata.com\")\r\n\r\nIn [12]: engine = td.create_engine(\"presto:sample_datasets\", con=connection)\r\n\r\nIn [13]: td.read_td(\"select 1\", engine)\r\n---------------------------------------------------------------------------\r\nInvalidURL                                Traceback (most recent call last)\r\n<ipython-input-13-d9143040b180> in <module>\r\n----> 1 td.read_td(\"select * from house_prices tablesample bernoulli(25)\", engine)\r\n\r\n~/src/pytd/pytd/pandas_td/__init__.py in read_td_query(query, engine, index_col, parse_dates, distributed_join, params)\r\n    160\r\n    161     return _to_dataframe(\r\n--> 162         engine.execute(header + query, **params), index_col, parse_dates\r\n    163     )\r\n    164\r\n\r\n~/src/pytd/pytd/query_engine.py in execute(self, query, **kwargs)\r\n     78         \"\"\"\r\n     79         cur = self.cursor(**kwargs)\r\n---> 80         cur.execute(query)\r\n     81         rows = cur.fetchall()\r\n     82         columns = [desc[0] for desc in cur.description]\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/prestodb/dbapi.py in execute(self, operation, params)\r\n    226     def execute(self, operation, params=None):\r\n    227         self._query = prestodb.client.PrestoQuery(self._request, sql=operation)\r\n--> 228         result = self._query.execute()\r\n    229         self._iterator = iter(result)\r\n    230         return result\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/prestodb/client.py in execute(self)\r\n    518             )\r\n    519\r\n--> 520         response = self._request.post(self._sql)\r\n    521         status = self._request.process(response)\r\n    522         self.query_id = status.id\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/prestodb/client.py in post(self, sql)\r\n    345             timeout=self._request_timeout,\r\n    346             allow_redirects=self._redirect_handler is None,\r\n--> 347             proxies=PROXIES,\r\n    348         )\r\n    349         if self._redirect_handler is not None:\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/prestodb/exceptions.py in decorated(*args, **kwargs)\r\n    132             logger.info('failed after {} attempts'.format(attempt))\r\n    133             if error is not None:\r\n--> 134                 raise error\r\n    135             return result\r\n    136         return decorated\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/prestodb/exceptions.py in decorated(*args, **kwargs)\r\n    119             for attempt in range(1, max_attempts + 1):\r\n    120                 try:\r\n--> 121                     result = func(*args, **kwargs)\r\n    122                     if any(guard(result) for guard in conditions):\r\n    123                         handle_retry.retry(func, args, kwargs, None, attempt)\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/requests/sessions.py in post(self, url, data, json, **kwargs)\r\n    579         \"\"\"\r\n    580\r\n--> 581         return self.request('POST', url, data=data, json=json, **kwargs)\r\n    582\r\n    583     def put(self, url, data=None, **kwargs):\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/requests/sessions.py in request(self, method, url, params, data, headers, cookies, files, auth, timeout, allow_redirects, proxies, hooks, stream, verify, cert, json)\r\n    517             hooks=hooks,\r\n    518         )\r\n--> 519         prep = self.prepare_request(req)\r\n    520\r\n    521         proxies = proxies or {}\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/requests/sessions.py in prepare_request(self, request)\r\n    460             auth=merge_setting(auth, self.auth),\r\n    461             cookies=merged_cookies,\r\n--> 462             hooks=merge_hooks(request.hooks, self.hooks),\r\n    463         )\r\n    464         return p\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/requests/models.py in prepare(self, method, url, headers, files, data, params, auth, cookies, hooks, json)\r\n    311\r\n    312         self.prepare_method(method)\r\n--> 313         self.prepare_url(url, params)\r\n    314         self.prepare_headers(headers)\r\n    315         self.prepare_cookies(cookies)\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/requests/models.py in prepare_url(self, url, params)\r\n    388\r\n    389         if not host:\r\n--> 390             raise InvalidURL(\"Invalid URL %r: No host supplied\" % url)\r\n    391\r\n    392         # In general, we want to try IDNA encoding the hostname if the string contains\r\n\r\nInvalidURL: Invalid URL 'https://:443/v1/statement': No host supplied\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/40", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/40/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/40/events", "html_url": "https://github.com/treasure-data/pytd/issues/40", "id": 478251705, "node_id": "MDU6SXNzdWU0NzgyNTE3MDU=", "number": 40, "title": "Presto execution error", "user": {"login": "Remi42JP", "id": 42564543, "node_id": "MDQ6VXNlcjQyNTY0NTQz", "avatar_url": "https://avatars3.githubusercontent.com/u/42564543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Remi42JP", "html_url": "https://github.com/Remi42JP", "followers_url": "https://api.github.com/users/Remi42JP/followers", "following_url": "https://api.github.com/users/Remi42JP/following{/other_user}", "gists_url": "https://api.github.com/users/Remi42JP/gists{/gist_id}", "starred_url": "https://api.github.com/users/Remi42JP/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Remi42JP/subscriptions", "organizations_url": "https://api.github.com/users/Remi42JP/orgs", "repos_url": "https://api.github.com/users/Remi42JP/repos", "events_url": "https://api.github.com/users/Remi42JP/events{/privacy}", "received_events_url": "https://api.github.com/users/Remi42JP/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-08T05:01:25Z", "updated_at": "2019-08-08T05:29:44Z", "closed_at": "2019-08-08T05:29:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if the error is due to PYTD or not, but connection using the PRESTO engine doesn't seem to work anymore (it was working just fine yesterday).\r\n\r\nWhen running a simple code as below I get an \"Internal Failure\" error:\r\n```\r\nimport pytd\r\ntd_client = pytd.Client(database='my_database', apikey='XXX', endpoint='https://api.treasuredata.com/', default_engine='presto')\r\ntd_client.query(\"select count(*) from mytable\")\r\n```\r\n\r\nPrestoQueryError: PrestoQueryError(type=INTERNAL_ERROR, name=GENERIC_INTERNAL_ERROR, message=\"Internal failure: [Ljava.lang.String;@51c95cf3 (of class [Ljava.lang.String;)\", query_id=20190808_044649_00122_rpyj2)\r\n\r\nIf I switch the engine to \"hive\", the query execute just fine, but I have errors in other part of the code with another error \"InternalError: job error: 535701608: error\".\r\n\r\nAny idea what could be the cause?\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/36", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/36/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/36/events", "html_url": "https://github.com/treasure-data/pytd/issues/36", "id": 473276482, "node_id": "MDU6SXNzdWU0NzMyNzY0ODI=", "number": 36, "title": "Invalid handling `None` value for InsertIntoWriter", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-26T09:53:54Z", "updated_at": "2019-07-30T03:00:34Z", "closed_at": "2019-07-30T03:00:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When a column has `None` value it will be converted to `nan` and can't handle it with InsertIntoWriter since the value doesn't have quotes for the string.\r\n\r\nThis doesn't happen with SparkWriter and BulkImportWriter.\r\n\r\nReproducible code:\r\n```py\r\nIn [1]: import os\r\n\r\nIn [2]: import pandas as pd\r\n\r\nIn [3]: import pytd.pandas_td as td\r\n\r\nIn [6]: df = pd.DataFrame({'a':[1, 2], 'b': [None, 3]})\r\n\r\nIn [7]: df\r\nOut[7]:\r\n   a    b\r\n0  1  NaN\r\n1  2  3.0\r\n\r\nIn [9]: con = td.connect(apikey=os.environ[\"TD_API_KEY\"], endpoint=os.environ[\"TD_API_SERVER\"])\r\n\r\nIn [10]: td.to_td(df, \"aki.pytd_test\", con, if_exists=\"overwrite\", index=False, writer=\"insert_into\")\r\n---------------------------------------------------------------------------\r\nPrestoUserError                           Traceback (most recent call last)\r\n<ipython-input-10-93a602a9721b> in <module>\r\n----> 1 td.to_td(df, \"aki.pytd_test\", con, if_exists=\"overwrite\", index=False, writer=\"insert_into\")\r\n\r\n~/src/pytd/pytd/pandas_td/__init__.py in to_td(frame, name, con, if_exists, time_col, time_index, index, index_label, chunksize, date_format, writer)\r\n    394\r\n    395     database, table = name.split(\".\")\r\n--> 396     con.get_table(database, table).import_dataframe(frame, writer, mode)\r\n    397\r\n    398\r\n\r\n~/src/pytd/pytd/table.py in import_dataframe(self, dataframe, writer, if_exists, **kwargs)\r\n    115             writer = Writer.from_string(writer, **kwargs)\r\n    116\r\n--> 117         writer.write_dataframe(dataframe, self, if_exists)\r\n    118\r\n    119         if writer_from_string:\r\n\r\n~/src/pytd/pytd/writer.py in write_dataframe(self, dataframe, table, if_exists)\r\n    122\r\n    123         self._insert_into(\r\n--> 124             table, dataframe.values.tolist(), column_names, column_types, if_exists\r\n    125         )\r\n    126\r\n\r\n~/src/pytd/pytd/writer.py in _insert_into(self, table, list_of_list, column_names, column_types, if_exists)\r\n    189             \", \".join(rows),\r\n    190         )\r\n--> 191         table.client.query(q_insert, engine=\"presto\")\r\n    192\r\n    193\r\n\r\n~/src/pytd/pytd/client.py in query(self, query, engine)\r\n    177             engine = self.default_engine\r\n    178         header = engine.create_header(\"Client#query\")\r\n--> 179         return engine.execute(header + query)\r\n    180\r\n    181     def get_table(self, database, table):\r\n\r\n~/src/pytd/pytd/query_engine.py in execute(self, query)\r\n     61         cur = self.cursor()\r\n     62         cur.execute(query)\r\n---> 63         rows = cur.fetchall()\r\n     64         columns = [desc[0] for desc in cur.description]\r\n     65         return {\"data\": rows, \"columns\": columns}\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/prestodb/dbapi.py in fetchall(self)\r\n    290     def fetchall(self):\r\n    291         # type: () -> List[List[Any]]\r\n--> 292         return list(self.genall())\r\n    293\r\n    294     def cancel(self):\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/prestodb/client.py in __iter__(self)\r\n    465         # Subsequent fetches from GET requests until next_uri is empty.\r\n    466         while not self._query.is_finished():\r\n--> 467             rows = self._query.fetch()\r\n    468             for row in rows:\r\n    469                 self._rownumber += 1\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/prestodb/client.py in fetch(self)\r\n    532         \"\"\"Continue fetching data for the current query_id\"\"\"\r\n    533         response = self._request.get(self._request.next_uri)\r\n--> 534         status = self._request.process(response)\r\n    535         if status.columns:\r\n    536             self._columns = status.columns\r\n\r\n~/src/pytd/.venv/lib/python3.6/site-packages/prestodb/client.py in process(self, http_response)\r\n    410         logger.debug('HTTP {}: {}'.format(http_response.status_code, response))\r\n    411         if 'error' in response:\r\n--> 412             raise self._process_error(response['error'], response.get('id'))\r\n    413\r\n    414         if constants.HEADER_CLEAR_SESSION in http_response.headers:\r\n\r\nPrestoUserError: PrestoUserError(type=USER_ERROR, name=SYNTAX_ERROR, message=\"line 3:53: Column 'nan' cannot be resolved\", query_id=20190726_094954_33069_fe7t5)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/33", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/33/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/33/events", "html_url": "https://github.com/treasure-data/pytd/issues/33", "id": 472810474, "node_id": "MDU6SXNzdWU0NzI4MTA0NzQ=", "number": 33, "title": "Consider to restrict DBAPI only for Presto engine", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-07-25T11:23:11Z", "updated_at": "2019-07-25T14:36:48Z", "closed_at": "2019-07-25T14:36:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As @takuti mentioned at https://github.com/treasure-data/pytd/pull/30#issuecomment-514980178, `connect(pytd.Client(database='sample_datasets', default_engine='hive'))` might introduces some possibility of failure to use `cursor`. On this issue, we need to clarify what kind of issue will occur and should decide whether we have to limit using of Hive engine for DBAPI.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/31", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/31/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/31/events", "html_url": "https://github.com/treasure-data/pytd/issues/31", "id": 472667102, "node_id": "MDU6SXNzdWU0NzI2NjcxMDI=", "number": 31, "title": "Unable to upload a dataframe via `to_td`", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-25T05:09:15Z", "updated_at": "2019-07-25T10:55:08Z", "closed_at": "2019-07-25T10:55:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "By using pytd 0.6.0, `to_td` doesn't work because of lacking passing `writer` option to `import_dataframe`\r\nhttps://github.com/treasure-data/pytd/blob/52159b72d96dd74038bf53f22f9fffea03fac61a/pytd/pandas_td/__init__.py#L390\r\n\r\nReproducible code:\r\n\r\n```py\r\nIn [2]: import pandas as pd\r\n\r\nIn [3]: import pytd.pandas_td as td\r\n\r\nIn [4]: df = pd.DataFrame({'a':[1, 2], 'b':[3, 4]})\r\n\r\nIn [5]: import os\r\n\r\nIn [6]: con = td.connect(apikey=os.environ[\"TD_API_KEY\"], endpoint=os.environ[\"TD_API_SERVER\"])\r\n\r\nIn [7]: td.to_td(df, \"aki.pytd_test\", con, if_exists=\"overwrite\", index=False)\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-7-b3f151171a7c> in <module>\r\n----> 1 td.to_td(df, \"aki.pytd_test\", con, if_exists=\"overwrite\", index=False)\r\n\r\n~/src/pytd/pytd/pandas_td/__init__.py in to_td(frame, name, con, if_exists, time_col, time_index, index, index_label, chunksize, date_format)\r\n    388\r\n    389     database, table = name.split(\".\")\r\n--> 390     con.get_table(database, table).import_dataframe(frame, mode)\r\n    391\r\n    392\r\n\r\n~/src/pytd/pytd/table.py in import_dataframe(self, dataframe, writer, if_exists, **kwargs)\r\n    113\r\n    114         if writer_from_string:\r\n--> 115             writer = Writer.from_string(writer, **kwargs)\r\n    116\r\n    117         writer.write_dataframe(dataframe, self, if_exists)\r\n\r\n~/src/pytd/pytd/writer.py in from_string(writer, **kwargs)\r\n     72             return SparkWriter(**kwargs)\r\n     73         else:\r\n---> 74             raise ValueError(\"unknown way to upload data to TD is specified\")\r\n     75\r\n     76\r\n\r\nValueError: unknown way to upload data to TD is specified\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/29", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/29/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/29/events", "html_url": "https://github.com/treasure-data/pytd/issues/29", "id": 472123007, "node_id": "MDU6SXNzdWU0NzIxMjMwMDc=", "number": 29, "title": "Unable to use `cursor` since `pytd.Client` doesn't have `engine`", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-24T07:27:24Z", "updated_at": "2019-07-25T11:24:58Z", "closed_at": "2019-07-25T11:24:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "When I tried [the notebook of pytd](https://colab.research.google.com/drive/1ps_ChU-H2FvkeNlj1e1fcOebCt4ryN11) on Google Colaboratory, I hit this error. As of pytd 0.6.0, `Client` has only `default_engine` not `engine`.\r\n\r\n```\r\nfrom pytd.dbapi import connect\r\n\r\nconn.cursor()\r\n```\r\n\r\n```\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-19-a37f180d0efe> in <module>()\r\n----> 1 conn.cursor()\r\n\r\n/usr/local/lib/python3.6/dist-packages/pytd/dbapi/connection.py in cursor(self)\r\n     31 \r\n     32     def cursor(self):\r\n---> 33         return self.client.engine.cursor()\r\n     34 \r\n     35     def __enter__(self):\r\n\r\nAttributeError: 'Client' object has no attribute 'engine'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/25", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/25/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/25/events", "html_url": "https://github.com/treasure-data/pytd/issues/25", "id": 463365105, "node_id": "MDU6SXNzdWU0NjMzNjUxMDU=", "number": 25, "title": "Introduce auto code formatting", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-07-02T18:06:15Z", "updated_at": "2019-07-08T23:12:19Z", "closed_at": "2019-07-08T23:12:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/treasure-data/pytd/pull/24#discussion_r299321461", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/21", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/21/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/21/events", "html_url": "https://github.com/treasure-data/pytd/issues/21", "id": 445577482, "node_id": "MDU6SXNzdWU0NDU1Nzc0ODI=", "number": 21, "title": "Unable to set a client's endpoint by argument", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-17T19:04:37Z", "updated_at": "2019-05-17T23:56:43Z", "closed_at": "2019-05-17T23:56:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Since the current implementation doesn't set client endpoint by using the `endpoint` argument. The `endpoint` option should be set both argument and environment variable.\r\nhttps://github.com/treasure-data/pytd/blob/master/pytd/client.py#L49\r\n\r\n```py\r\nimport pytd.pandas_td as td\r\ncon = td.connect(\"1/XXXX\", \"https://api.eu01.treasuredata.com\")\r\nprint(con.endpoint)\r\n# This shows `https://api.treasuredata.com`\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/19", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/19/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/19/events", "html_url": "https://github.com/treasure-data/pytd/issues/19", "id": 445087623, "node_id": "MDU6SXNzdWU0NDUwODc2MjM=", "number": 19, "title": "Unable to connect prest API in development environment", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-16T18:00:41Z", "updated_at": "2019-05-17T21:25:04Z", "closed_at": "2019-05-17T21:25:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The current code replaces endpoint for presto `api.xxxx` with `api-presto.xxxx`.  While it works well with the production environment, it replace `api-development.xxxx` with `api-presto-development.xxxx` even if the correct api endpoint should be `api-development-presto.xxxx`. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/18", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/18/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/18/events", "html_url": "https://github.com/treasure-data/pytd/issues/18", "id": 442619513, "node_id": "MDU6SXNzdWU0NDI2MTk1MTM=", "number": 18, "title": "`to_td` fails with nonexistent database", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-10T09:16:17Z", "updated_at": "2019-09-17T01:30:48Z", "closed_at": "2019-09-17T01:30:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "While to_td works well with a nonexistent table, it doesn't work with a nonexistent database.\r\n\r\nIt'd be nice to create a database as well, or raising specific error message would be fine.\r\n\r\n```py\r\n>>> td.to_td(df, 'aki_test.test_pytd123', con, if_exists='replace', index=False)\r\nTraceback (most recent call last):\r\n  File \"/Users/ariga/src/pytd-test/.venv/lib/python3.6/site-packages/pytd/writer.py\", line 90, in write_dataframe\r\n    sdf.write.mode(if_exists).format('com.treasuredata.spark').option('table', destination).save()\r\n  File \"/Users/ariga/src/pytd-test/.venv/lib/python3.6/site-packages/pyspark/sql/readwriter.py\", line 732, in save\r\n    self._jwrite.save()\r\n  File \"/Users/ariga/src/pytd-test/.venv/lib/python3.6/site-packages/py4j/java_gateway.py\", line 1257, in __call__\r\n    answer, self.gateway_client, self.target_id, self.name)\r\n  File \"/Users/ariga/src/pytd-test/.venv/lib/python3.6/site-packages/pyspark/sql/utils.py\", line 63, in deco\r\n    return f(*a, **kw)\r\n  File \"/Users/ariga/src/pytd-test/.venv/lib/python3.6/site-packages/py4j/protocol.py\", line 328, in get_return_value\r\n    format(target_id, \".\", name), value)\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o61.save.\r\n: com.treasuredata.client.TDClientHttpNotFoundException: [TARGET_NOT_FOUND] [404:Not Found] API request to /v3/table/create/aki_test/test_pytd123/log has failed: Resource not found\r\n\tat com.treasuredata.client.TDRequestErrorHandler.defaultHttpResponseErrorResolver(TDRequestErrorHandler.java:119)\r\n\tat com.treasuredata.client.TDHttpRequestHandler.resolveHttpResponseError(TDHttpRequestHandler.java:88)\r\n\tat com.treasuredata.client.TDHttpClient.submitRequest(TDHttpClient.java:402)\r\n\tat com.treasuredata.client.TDHttpClient.submitRequest(TDHttpClient.java:452)\r\n\tat com.treasuredata.client.TDHttpClient.call(TDHttpClient.java:475)\r\n\tat com.treasuredata.client.TDClient.doPost(TDClient.java:253)\r\n\tat com.treasuredata.client.TDClient.createTable(TDClient.java:423)\r\n\tat com.treasuredata.client.TDClient.createTableIfNotExists(TDClient.java:431)\r\n\tat com.treasuredata.spark.DefaultSource.createRelation(DefaultSource.scala:105)\r\n\tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:45)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:86)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:155)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:80)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:80)\r\n\tat org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.execution.SQLExecution$$anonfun$withNewExecutionId$1.apply(SQLExecution.scala:78)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:125)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:73)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:285)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:271)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n\tat py4j.Gateway.invoke(Gateway.java:282)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.GatewayConnection.run(GatewayConnection.java:238)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/ariga/src/pytd-test/.venv/lib/python3.6/site-packages/pytd/pandas_td/__init__.py\", line 349, in to_td\r\n    writer.write_dataframe(frame, con.database, name, mode)\r\n  File \"/Users/ariga/src/pytd-test/.venv/lib/python3.6/site-packages/pytd/writer.py\", line 94, in write_dataframe\r\n    raise RuntimeError('failed to load table via td-spark: ' + str(e.java_exception))\r\nRuntimeError: failed to load table via td-spark: com.treasuredata.client.TDClientHttpNotFoundException: [TARGET_NOT_FOUND] [404:Not Found] API request to /v3/table/create/aki_test/test_pytd123/log has failed: Resource not found\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/14", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/14/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/14/events", "html_url": "https://github.com/treasure-data/pytd/issues/14", "id": 442099094, "node_id": "MDU6SXNzdWU0NDIwOTkwOTQ=", "number": 14, "title": "Installation fails due to conflict between requests and urllib3", "user": {"login": "chezou", "id": 916653, "node_id": "MDQ6VXNlcjkxNjY1Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/916653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chezou", "html_url": "https://github.com/chezou", "followers_url": "https://api.github.com/users/chezou/followers", "following_url": "https://api.github.com/users/chezou/following{/other_user}", "gists_url": "https://api.github.com/users/chezou/gists{/gist_id}", "starred_url": "https://api.github.com/users/chezou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chezou/subscriptions", "organizations_url": "https://api.github.com/users/chezou/orgs", "repos_url": "https://api.github.com/users/chezou/repos", "events_url": "https://api.github.com/users/chezou/events{/privacy}", "received_events_url": "https://api.github.com/users/chezou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-09T07:53:44Z", "updated_at": "2019-05-10T01:58:57Z", "closed_at": "2019-05-10T01:58:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, the installation of requests which is depended by python-presto-client conflicts with urllib3 which is installed by td-client-python. \r\n\r\nA workaround is installing urllib3 v1.24.2 before pytd.\r\n\r\nlogs:\r\n\r\n```\r\n$ pip install --user pytd[spark]\r\nCollecting pytd[spark]\r\n  Downloading https://files.pythonhosted.org/packages/23/da/49e55ecbb596d50807fd9bdaee0966546d61c52af55af9b4080a6ea183d0/pytd-0.3.0-py3-none-any.whl\r\nCollecting pytz>=2018.5 (from pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/3d/73/fe30c2daaaa0713420d0382b16fbb761409f532c56bdcc514bf7b6262bb6/pytz-2019.1-py2.py3-none-any.whl (510kB)\r\nCollecting td-client>=0.12.0 (from pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/7b/52/e64c98e0a3740ae46e0e0b535c80298a358c0143c670a80a775020489679/td_client-0.13.0-py2.py3-none-any.whl (78kB)\r\nCollecting presto-python-client>=0.6.0 (from pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/e7/7a/93af61569a6ea408b3ab3497ef84e1a97176b8faf0314b031e0f123e91f7/presto_python_client-0.7.0-py3-none-any.whl\r\nCollecting pandas>=0.22.0 (from pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/19/74/e50234bc82c553fecdbd566d8650801e3fe2d6d8c8d940638e3d8a7c5522/pandas-0.24.2-cp36-cp36m-manylinux1_x86_64.whl (10.1MB)\r\nCollecting pyarrow>=0.11.0; extra == \"spark\" (from pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/ad/25/094b122d828d24b58202712a74e661e36cd551ca62d331e388ff68bae91d/pyarrow-0.13.0-cp36-cp36m-manylinux1_x86_64.whl (48.5MB)\r\nCollecting pyspark>=2.4.0; extra == \"spark\" (from pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/37/98/244399c0daa7894cdf387e7007d5e8b3710a79b67f3fd991c0b0b644822d/pyspark-2.4.3.tar.gz (215.6MB)\r\nCollecting python-dateutil (from td-client>=0.12.0->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/41/17/c62faccbfbd163c7f57f3844689e3a78bae1f403648a6afb1d0866d87fbb/python_dateutil-2.8.0-py2.py3-none-any.whl (226kB)\r\nCollecting urllib3 (from td-client>=0.12.0->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/39/ec/d93dfc69617a028915df914339ef66936ea976ef24fa62940fd86ba0326e/urllib3-1.25.2-py2.py3-none-any.whl (150kB)\r\nCollecting msgpack (from td-client>=0.12.0->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/92/7e/ae9e91c1bb8d846efafd1f353476e3fd7309778b582d2fb4cea4cc15b9a2/msgpack-0.6.1-cp36-cp36m-manylinux1_x86_64.whl (248kB)\r\nCollecting six (from td-client>=0.12.0->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/73/fb/00a976f728d0d1fecfe898238ce23f502a721c0ac0ecfedb80e0d88c64e9/six-1.12.0-py2.py3-none-any.whl\r\nCollecting requests (from presto-python-client>=0.6.0->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/7d/e3/20f3d364d6c8e5d2353c72a67778eb189176f08e873c9900e10c0287b84b/requests-2.21.0-py2.py3-none-any.whl (57kB)\r\nCollecting click (from presto-python-client>=0.6.0->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/fa/37/45185cb5abbc30d7257104c434fe0b07e5a195a6847506c074527aa599ec/Click-7.0-py2.py3-none-any.whl (81kB)\r\nCollecting numpy>=1.12.0 (from pandas>=0.22.0->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/c1/e2/4db8df8f6cddc98e7d7c537245ef2f4e41a1ed17bf0c3177ab3cc6beac7f/numpy-1.16.3-cp36-cp36m-manylinux1_x86_64.whl (17.3MB)\r\nCollecting py4j==0.10.7 (from pyspark>=2.4.0; extra == \"spark\"->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/e3/53/c737818eb9a7dc32a7cd4f1396e787bd94200c3997c72c1dbe028587bd76/py4j-0.10.7-py2.py3-none-any.whl (197kB)\r\nCollecting certifi>=2017.4.17 (from requests->presto-python-client>=0.6.0->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/60/75/f692a584e85b7eaba0e03827b3d51f45f571c2e793dd731e598828d380aa/certifi-2019.3.9-py2.py3-none-any.whl (158kB)\r\nCollecting chardet<3.1.0,>=3.0.2 (from requests->presto-python-client>=0.6.0->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl (133kB)\r\nCollecting idna<2.9,>=2.5 (from requests->presto-python-client>=0.6.0->pytd[spark])\r\n  Downloading https://files.pythonhosted.org/packages/14/2c/cd551d81dbe15200be1cf41cd03869a46fe7226e7450af7a6545bfc474c9/idna-2.8-py2.py3-none-any.whl (58kB)\r\nBuilding wheels for collected packages: pyspark\r\n  Building wheel for pyspark (setup.py): started\r\n  Building wheel for pyspark (setup.py): finished with status 'done'\r\n  Stored in directory: /tmp/pip-ephem-wheel-cache-c09ktw36/wheels/8d/20/f0/b30e2024226dc112e256930dd2cd4f06d00ab053c86278dcf3\r\nSuccessfully built pyspark\r\nERROR: requests 2.21.0 has requirement urllib3<1.25,>=1.21.1, but you'll have urllib3 1.25.2 which is incompatible.\r\nInstalling collected packages: pytz, six, python-dateutil, urllib3, msgpack, td-client, certifi, chardet, idna, requests, click, presto-python-client, numpy, pandas, pyarrow, py4j, pyspark, pytd\r\n  WARNING: The script chardetect is installed in '/home/td-user/.local/bin' which is not on PATH.\r\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\r\n  WARNING: The scripts f2py, f2py3 and f2py3.6 are installed in '/home/td-user/.local/bin' which is not on PATH.\r\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\r\n  WARNING: The script plasma_store is installed in '/home/td-user/.local/bin' which is not on PATH.\r\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\r\nSuccessfully installed certifi-2019.3.9 chardet-3.0.4 click-7.0 idna-2.8 msgpack-0.6.1 numpy-1.16.3 pandas-0.24.2 presto-python-client-0.7.0 py4j-0.10.7 pyarrow-0.13.0 pyspark-2.4.3 pytd-0.3.0 python-dateutil-2.8.0 pytz-2019.1 requests-2.21.0 six-1.12.0 td-client-0.13.0 urllib3-1.25.2\r\n```\r\n\r\n```\r\n(.venv) \u279c  pytd-test pip install urllib3==1.24.2 pytd\\[spark\\]\r\nCollecting urllib3==1.24.2\r\n  Using cached https://files.pythonhosted.org/packages/df/1c/59cca3abf96f991f2ec3131a4ffe72ae3d9ea1f5894abe8a9c5e3c77cfee/urllib3-1.24.2-py2.py3-none-any.whl\r\nCollecting pytd[spark]\r\n  Using cached https://files.pythonhosted.org/packages/23/da/49e55ecbb596d50807fd9bdaee0966546d61c52af55af9b4080a6ea183d0/pytd-0.3.0-py3-none-any.whl\r\nCollecting td-client>=0.12.0 (from pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/7b/52/e64c98e0a3740ae46e0e0b535c80298a358c0143c670a80a775020489679/td_client-0.13.0-py2.py3-none-any.whl\r\nCollecting pandas>=0.22.0 (from pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/2a/67/0a59cb257c72bb837575ca0ddf5f0fe2a482e98209b7a1bed8cde68ddb46/pandas-0.24.2-cp36-cp36m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl\r\nCollecting presto-python-client>=0.6.0 (from pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/e7/7a/93af61569a6ea408b3ab3497ef84e1a97176b8faf0314b031e0f123e91f7/presto_python_client-0.7.0-py3-none-any.whl\r\nCollecting pytz>=2018.5 (from pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/3d/73/fe30c2daaaa0713420d0382b16fbb761409f532c56bdcc514bf7b6262bb6/pytz-2019.1-py2.py3-none-any.whl\r\nCollecting pyarrow>=0.11.0; extra == \"spark\" (from pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/00/26/ecc5174b36278f54b35d51fd7e4e5b35b1192546ba03b670190a85b41133/pyarrow-0.13.0-cp36-cp36m-macosx_10_6_intel.whl\r\nCollecting pyspark>=2.4.0; extra == \"spark\" (from pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/37/98/244399c0daa7894cdf387e7007d5e8b3710a79b67f3fd991c0b0b644822d/pyspark-2.4.3.tar.gz\r\nCollecting python-dateutil (from td-client>=0.12.0->pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/41/17/c62faccbfbd163c7f57f3844689e3a78bae1f403648a6afb1d0866d87fbb/python_dateutil-2.8.0-py2.py3-none-any.whl\r\nCollecting msgpack (from td-client>=0.12.0->pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/81/9c/0036c66234482044070836cc622266839e2412f8108849ab0bfdeaab8578/msgpack-0.6.1.tar.gz\r\nCollecting six (from td-client>=0.12.0->pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/73/fb/00a976f728d0d1fecfe898238ce23f502a721c0ac0ecfedb80e0d88c64e9/six-1.12.0-py2.py3-none-any.whl\r\nCollecting numpy>=1.12.0 (from pandas>=0.22.0->pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/ae/76/4a4c012bca5688881c18f6e04694d221b88daa5d38526a4df87d75711199/numpy-1.16.3-cp36-cp36m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl\r\nCollecting requests (from presto-python-client>=0.6.0->pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/7d/e3/20f3d364d6c8e5d2353c72a67778eb189176f08e873c9900e10c0287b84b/requests-2.21.0-py2.py3-none-any.whl\r\nCollecting click (from presto-python-client>=0.6.0->pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/fa/37/45185cb5abbc30d7257104c434fe0b07e5a195a6847506c074527aa599ec/Click-7.0-py2.py3-none-any.whl\r\nCollecting py4j==0.10.7 (from pyspark>=2.4.0; extra == \"spark\"->pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/e3/53/c737818eb9a7dc32a7cd4f1396e787bd94200c3997c72c1dbe028587bd76/py4j-0.10.7-py2.py3-none-any.whl\r\nCollecting idna<2.9,>=2.5 (from requests->presto-python-client>=0.6.0->pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/14/2c/cd551d81dbe15200be1cf41cd03869a46fe7226e7450af7a6545bfc474c9/idna-2.8-py2.py3-none-any.whl\r\nCollecting certifi>=2017.4.17 (from requests->presto-python-client>=0.6.0->pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/60/75/f692a584e85b7eaba0e03827b3d51f45f571c2e793dd731e598828d380aa/certifi-2019.3.9-py2.py3-none-any.whl\r\nCollecting chardet<3.1.0,>=3.0.2 (from requests->presto-python-client>=0.6.0->pytd[spark])\r\n  Using cached https://files.pythonhosted.org/packages/bc/a9/01ffebfb562e4274b6487b4bb1ddec7ca55ec7510b22e4c51f14098443b8/chardet-3.0.4-py2.py3-none-any.whl\r\nInstalling collected packages: urllib3, six, python-dateutil, msgpack, td-client, pytz, numpy, pandas, idna, certifi, chardet, requests, click, presto-python-client, pyarrow, py4j, pyspark, pytd\r\n  Running setup.py install for msgpack ... done\r\n  Running setup.py install for pyspark ... done\r\nSuccessfully installed certifi-2019.3.9 chardet-3.0.4 click-7.0 idna-2.8 msgpack-0.6.1 numpy-1.16.3 pandas-0.24.2 presto-python-client-0.7.0 py4j-0.10.7 pyarrow-0.13.0 pyspark-2.4.3 pytd-0.3.0 python-dateutil-2.8.0 pytz-2019.1 requests-2.21.0 six-1.12.0 td-client-0.13.0 urllib3-1.24.2\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/12", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/12/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/12/events", "html_url": "https://github.com/treasure-data/pytd/issues/12", "id": 433931456, "node_id": "MDU6SXNzdWU0MzM5MzE0NTY=", "number": 12, "title": "Add doc string for IPython magic commands", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-04-16T18:47:09Z", "updated_at": "2019-04-17T00:56:08Z", "closed_at": "2019-04-17T00:56:08Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Like https://googleapis.github.io/google-cloud-python/latest/bigquery/magics.html", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/10", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/10/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/10/events", "html_url": "https://github.com/treasure-data/pytd/issues/10", "id": 433519342, "node_id": "MDU6SXNzdWU0MzM1MTkzNDI=", "number": 10, "title": "Drop Python2 support", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-04-15T23:25:56Z", "updated_at": "2019-04-16T18:19:53Z", "closed_at": "2019-04-16T18:19:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Python 2 will become EOL on January 2020 and pandas or sklearn has [already dropped support Py2](https://python3statement.org/). There is almost no reason this brand-new Python tool supports Python2.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/5", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/5/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/5/events", "html_url": "https://github.com/treasure-data/pytd/issues/5", "id": 431719662, "node_id": "MDU6SXNzdWU0MzE3MTk2NjI=", "number": 5, "title": "Launch documentation site", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-10T21:15:46Z", "updated_at": "2019-09-06T16:10:30Z", "closed_at": "2019-09-06T16:10:30Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/4", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/4/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/4/events", "html_url": "https://github.com/treasure-data/pytd/issues/4", "id": 431719028, "node_id": "MDU6SXNzdWU0MzE3MTkwMjg=", "number": 4, "title": "Add a link to pytd on pandas-td README", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-04-10T21:13:57Z", "updated_at": "2019-05-07T03:15:02Z", "closed_at": "2019-05-07T03:15:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "[pandas-td](https://github.com/treasure-data/pandas-td) won't be updated after pytd becomes GA. This is the first step of the change.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/3", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/3/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/3/events", "html_url": "https://github.com/treasure-data/pytd/issues/3", "id": 431717562, "node_id": "MDU6SXNzdWU0MzE3MTc1NjI=", "number": 3, "title": "Release v0.1.0 at PyPI", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-04-10T21:09:50Z", "updated_at": "2019-04-23T06:54:59Z", "closed_at": "2019-04-23T06:54:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/treasure-data/pytd/issues/2", "repository_url": "https://api.github.com/repos/treasure-data/pytd", "labels_url": "https://api.github.com/repos/treasure-data/pytd/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/treasure-data/pytd/issues/2/comments", "events_url": "https://api.github.com/repos/treasure-data/pytd/issues/2/events", "html_url": "https://github.com/treasure-data/pytd/issues/2", "id": 431716833, "node_id": "MDU6SXNzdWU0MzE3MTY4MzM=", "number": 2, "title": "Transfer the repository ownership to treasure-data", "user": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "takuti", "id": 853567, "node_id": "MDQ6VXNlcjg1MzU2Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/853567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takuti", "html_url": "https://github.com/takuti", "followers_url": "https://api.github.com/users/takuti/followers", "following_url": "https://api.github.com/users/takuti/following{/other_user}", "gists_url": "https://api.github.com/users/takuti/gists{/gist_id}", "starred_url": "https://api.github.com/users/takuti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takuti/subscriptions", "organizations_url": "https://api.github.com/users/takuti/orgs", "repos_url": "https://api.github.com/users/takuti/repos", "events_url": "https://api.github.com/users/takuti/events{/privacy}", "received_events_url": "https://api.github.com/users/takuti/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-04-10T21:07:50Z", "updated_at": "2019-04-22T06:17:51Z", "closed_at": "2019-04-22T06:17:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/treasure-data", "performed_via_github_app": null, "score": 1.0}]}