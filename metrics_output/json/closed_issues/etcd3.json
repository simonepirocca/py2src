{"total_count": 44, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1203", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1203/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1203/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1203/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/1203", "id": 642361266, "node_id": "MDU6SXNzdWU2NDIzNjEyNjY=", "number": 1203, "title": "\"ConnectionFailedError: etcd connection failed\" when connecting by cert", "user": {"login": "YonguoS", "id": 16115101, "node_id": "MDQ6VXNlcjE2MTE1MTAx", "avatar_url": "https://avatars1.githubusercontent.com/u/16115101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YonguoS", "html_url": "https://github.com/YonguoS", "followers_url": "https://api.github.com/users/YonguoS/followers", "following_url": "https://api.github.com/users/YonguoS/following{/other_user}", "gists_url": "https://api.github.com/users/YonguoS/gists{/gist_id}", "starred_url": "https://api.github.com/users/YonguoS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YonguoS/subscriptions", "organizations_url": "https://api.github.com/users/YonguoS/orgs", "repos_url": "https://api.github.com/users/YonguoS/repos", "events_url": "https://api.github.com/users/YonguoS/events{/privacy}", "received_events_url": "https://api.github.com/users/YonguoS/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-20T11:42:24Z", "updated_at": "2020-06-23T13:47:13Z", "closed_at": "2020-06-23T13:47:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version: etcd3-0.12.0;   \r\nCode:    \r\n`import etcd3`\r\n`client = etcd3.client( host='100.85.243.19',\r\n                    port=22379,\r\n                    timeout=60,\r\n                    ca_cert='/root/etcd_keys/ca.pem',\r\n                    cert_key='/root/etcd_keys/pkcs8-key.pem',\r\n                    cert_cert='/root/etcd_keys/client.pem',\r\n                )`\r\n\r\nConnection by password is ok, but cert has some prolems--exception occurred when I try to get value:   \r\n Traceback (most recent call last):\r\n  File \"/root/PycharmProjects/LearnPython/leecode/test.py\", line 16, in <module>\r\n    print client.get('/cn-region01/s-csm-CSM-GaussDB/master')\r\n  File \"/usr/lib/python2.7/site-packages/etcd3/client.py\", line 283, in get\r\n    range_response = self.get_response(key, **kwargs)\r\n  File \"/usr/lib/python2.7/site-packages/etcd3/client.py\", line 48, in handler\r\n    _translate_exception(exc)\r\n  File \"/usr/lib/python2.7/site-packages/etcd3/client.py\", line 32, in _translate_exception\r\n    raise exception\r\netcd3.exceptions.ConnectionFailedError: etcd connection failed", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1149", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1149/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1149/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1149/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/1149", "id": 613727618, "node_id": "MDU6SXNzdWU2MTM3Mjc2MTg=", "number": 1149, "title": "import etcd3 error", "user": {"login": "songlin51", "id": 5369383, "node_id": "MDQ6VXNlcjUzNjkzODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/5369383?v=4", "gravatar_id": "", "url": "https://api.github.com/users/songlin51", "html_url": "https://github.com/songlin51", "followers_url": "https://api.github.com/users/songlin51/followers", "following_url": "https://api.github.com/users/songlin51/following{/other_user}", "gists_url": "https://api.github.com/users/songlin51/gists{/gist_id}", "starred_url": "https://api.github.com/users/songlin51/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/songlin51/subscriptions", "organizations_url": "https://api.github.com/users/songlin51/orgs", "repos_url": "https://api.github.com/users/songlin51/repos", "events_url": "https://api.github.com/users/songlin51/events{/privacy}", "received_events_url": "https://api.github.com/users/songlin51/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-07T02:25:09Z", "updated_at": "2020-05-07T02:31:21Z", "closed_at": "2020-05-07T02:31:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "python 2.7.12 run  import etcd3 An error\uff1a\r\n\r\nFile \"xx.py\", line 10, in <module>\r\n    import etcd3\r\n  File \"/Library/Python/2.7/site-packages/etcd3/__init__.py\", line 4, in <module>\r\n    from etcd3.client import Etcd3Client\r\n  File \"/Library/Python/2.7/site-packages/etcd3/client.py\", line 13, in <module>\r\n    import etcd3.locks as locks\r\n  File \"/Library/Python/2.7/site-packages/etcd3/locks.py\", line 3, in <module>\r\n    import tenacity\r\n  File \"/Library/Python/2.7/site-packages/tenacity/__init__.py\", line 504, in <module>\r\n    from tenacity.tornadoweb import TornadoRetrying\r\n  File \"/Library/Python/2.7/site-packages/tenacity/tornadoweb.py\", line 23, in <module>\r\n    from tornado import gen\r\n  File \"/Library/Python/2.7/site-packages/tornado-6.0.3-py2.7-macosx-10.14-intel.egg/tornado/gen.py\", line 126\r\n    def _value_from_stopiteration(e: Union[StopIteration, \"Return\"]) -> Any:\r\n                                   ^\r\nSyntaxError: invalid syntax\r\n\r\nI don't know what the question is, hope to answer it thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1107", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1107/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1107/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1107/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/1107", "id": 597423607, "node_id": "MDU6SXNzdWU1OTc0MjM2MDc=", "number": 1107, "title": "Lock.acquire method misses DELETE event while waiting", "user": {"login": "cenkalti", "id": 661618, "node_id": "MDQ6VXNlcjY2MTYxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/661618?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cenkalti", "html_url": "https://github.com/cenkalti", "followers_url": "https://api.github.com/users/cenkalti/followers", "following_url": "https://api.github.com/users/cenkalti/following{/other_user}", "gists_url": "https://api.github.com/users/cenkalti/gists{/gist_id}", "starred_url": "https://api.github.com/users/cenkalti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cenkalti/subscriptions", "organizations_url": "https://api.github.com/users/cenkalti/orgs", "repos_url": "https://api.github.com/users/cenkalti/repos", "events_url": "https://api.github.com/users/cenkalti/events{/privacy}", "received_events_url": "https://api.github.com/users/cenkalti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-09T17:01:16Z", "updated_at": "2020-04-14T09:21:07Z", "closed_at": "2020-04-14T09:21:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "... because it does not pass revision number to `watch_once` method. If DELETE event happens before watch, it does not get sent to the watcher and `acquire` waits to end of timeout.\r\n\r\nGo implementation does it correctly: https://github.com/etcd-io/etcd/blob/7eae024eade9e4d523544026c9312b687dbfae94/clientv3/concurrency/mutex.go#L85\r\n\r\nThe bug is introduced in this commit: https://github.com/kragniz/python-etcd3/commit/59c16eb4322835e7fc2fb1409071dd77e50f082a\r\n\r\nIt's interesting no one has reported this issue since 2017.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1026", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1026/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1026/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1026/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/1026", "id": 560127477, "node_id": "MDU6SXNzdWU1NjAxMjc0Nzc=", "number": 1026, "title": "AttributeError: '_MultiThreadedRendezvous' object has no attribute 'events'", "user": {"login": "skeetwu", "id": 3224744, "node_id": "MDQ6VXNlcjMyMjQ3NDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3224744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skeetwu", "html_url": "https://github.com/skeetwu", "followers_url": "https://api.github.com/users/skeetwu/followers", "following_url": "https://api.github.com/users/skeetwu/following{/other_user}", "gists_url": "https://api.github.com/users/skeetwu/gists{/gist_id}", "starred_url": "https://api.github.com/users/skeetwu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skeetwu/subscriptions", "organizations_url": "https://api.github.com/users/skeetwu/orgs", "repos_url": "https://api.github.com/users/skeetwu/repos", "events_url": "https://api.github.com/users/skeetwu/events{/privacy}", "received_events_url": "https://api.github.com/users/skeetwu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-05T04:07:20Z", "updated_at": "2020-07-21T05:39:46Z", "closed_at": "2020-07-17T02:11:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI got follow exception:\r\n```python\r\n  File \"/root/CSF-BCMT/bcmt-controller\", line 198, in <module>\r\n    new_task = b.etcd_watch_prefix_once(\"/BCMT/queue/\" + role, start_revision=wait_index)\r\n  File \"/root/CSF-BCMT/ncms/commands/utils/bcmt.py\", line 448, in etcd_watch_prefix_once\r\n    key_prefix, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/etcd3/client.py\", line 747, in watch_prefix_once\r\n    return self.watch_once(key_prefix, timeout=timeout, **kwargs)\r\n  File \"/usr/local/lib/python3.6/site-packages/etcd3/client.py\", line 725, in watch_once\r\n    return response.events[0]\r\nAttributeError: '_MultiThreadedRendezvous' object has no attribute 'events'\r\n\r\n```\r\n\r\ncall stack code:\r\n/root/CSF-BCMT/bcmt-controller\", line 198\r\n`    new_task = b.etcd_watch_prefix_once(\"/BCMT/queue/\" + role, start_revision=wait_index)\r\n`\r\n/root/CSF-BCMT/ncms/commands/utils/bcmt.py\", line 448\r\n```\r\n    def etcd_watch_prefix_once(self, key_prefix, *args, **kwargs):\r\n        if not self.etcd_inited:\r\n            self.init_etcd()\r\n        etcd_result = self.etcd_client_array[BCMT.etcd_using_client_idx].watch_prefix_once(\r\n                    key_prefix, **kwargs)\r\n        return etcd_result\r\n```\r\nThree threads run these code in the same time, it looks like this issue was caused by multi threads.\r\ncould you help to give some idea about this and how to fix or avoid it.\r\n\r\nB&R\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/952", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/952/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/952/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/952/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/952", "id": 534408570, "node_id": "MDU6SXNzdWU1MzQ0MDg1NzA=", "number": 952, "title": "Install errors on 0.11.0", "user": {"login": "RattyDAVE", "id": 9049822, "node_id": "MDQ6VXNlcjkwNDk4MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/9049822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RattyDAVE", "html_url": "https://github.com/RattyDAVE", "followers_url": "https://api.github.com/users/RattyDAVE/followers", "following_url": "https://api.github.com/users/RattyDAVE/following{/other_user}", "gists_url": "https://api.github.com/users/RattyDAVE/gists{/gist_id}", "starred_url": "https://api.github.com/users/RattyDAVE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RattyDAVE/subscriptions", "organizations_url": "https://api.github.com/users/RattyDAVE/orgs", "repos_url": "https://api.github.com/users/RattyDAVE/repos", "events_url": "https://api.github.com/users/RattyDAVE/events{/privacy}", "received_events_url": "https://api.github.com/users/RattyDAVE/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-07T14:30:55Z", "updated_at": "2020-01-04T14:18:50Z", "closed_at": "2020-01-04T14:18:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the past hour or so I am now getting errors. I think this may be related to the new commit.\r\n\r\nOutput below.\r\n\r\nDAVE\r\n\r\n\r\n```\r\n# pip install etcd3\r\nCollecting etcd3\r\n  Using cached https://files.pythonhosted.org/packages/a6/99/c3ae7544f75067192c490f817b9440acbe32dda1f7e9c27b19c1e85c46e3/etcd3-0.11.0.tar.gz\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /opt/tljh/hub/bin/python3 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-eyzmdsdq/etcd3/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-eyzmdsdq/etcd3/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-install-eyzmdsdq/etcd3/pip-egg-info\r\n         cwd: /tmp/pip-install-eyzmdsdq/etcd3/\r\n    Complete output (7 lines):\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-eyzmdsdq/etcd3/setup.py\", line 23, in <module>\r\n        requirements = load_reqs('requirements/base.txt')\r\n      File \"/tmp/pip-install-eyzmdsdq/etcd3/setup.py\", line 16, in load_reqs\r\n        with open(filename) as reqs_file:\r\n    FileNotFoundError: [Errno 2] No such file or directory: 'requirements/base.txt'\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/866", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/866/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/866/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/866/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/866", "id": 506397293, "node_id": "MDU6SXNzdWU1MDYzOTcyOTM=", "number": 866, "title": "Pip install from git fails", "user": {"login": "niconorsk", "id": 13668596, "node_id": "MDQ6VXNlcjEzNjY4NTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/13668596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/niconorsk", "html_url": "https://github.com/niconorsk", "followers_url": "https://api.github.com/users/niconorsk/followers", "following_url": "https://api.github.com/users/niconorsk/following{/other_user}", "gists_url": "https://api.github.com/users/niconorsk/gists{/gist_id}", "starred_url": "https://api.github.com/users/niconorsk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/niconorsk/subscriptions", "organizations_url": "https://api.github.com/users/niconorsk/orgs", "repos_url": "https://api.github.com/users/niconorsk/repos", "events_url": "https://api.github.com/users/niconorsk/events{/privacy}", "received_events_url": "https://api.github.com/users/niconorsk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-13T23:30:36Z", "updated_at": "2019-10-14T17:10:19Z", "closed_at": "2019-10-14T17:10:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`pip install git+https://github.com/kragniz/python-etcd3\r\nCollecting git+https://github.com/kragniz/python-etcd3\r\n  Cloning https://github.com/kragniz/python-etcd3 to /tmp/pip-req-build-h_7qgp3d\r\n  Running command git clone -q https://github.com/kragniz/python-etcd3 /tmp/pip-req-build-h_7qgp3d\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /home/nicolai.moore/src/product/slsecure/.tox/integration/bin/python3.6 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-req-build-h_7qgp3d/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-req-build-h_7qgp3d/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base pip-egg-info\r\n         cwd: /tmp/pip-req-build-h_7qgp3d/\r\n    Complete output (1 lines):\r\n    error in etcd3 setup command: 'tests_require' must be a string or list of strings containing valid project/version requirement specifiers; Invalid requirement, parse error at \"'-r base.'\"\r\n`\r\nTested with pip3.6 19.2.3 and pip3.6 10.0\r\nThis seems to have been introduced by https://github.com/kragniz/python-etcd3/pull/854", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/831", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/831/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/831/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/831/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/831", "id": 482723219, "node_id": "MDU6SXNzdWU0ODI3MjMyMTk=", "number": 831, "title": "lease", "user": {"login": "it-xiaoma", "id": 32784566, "node_id": "MDQ6VXNlcjMyNzg0NTY2", "avatar_url": "https://avatars0.githubusercontent.com/u/32784566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/it-xiaoma", "html_url": "https://github.com/it-xiaoma", "followers_url": "https://api.github.com/users/it-xiaoma/followers", "following_url": "https://api.github.com/users/it-xiaoma/following{/other_user}", "gists_url": "https://api.github.com/users/it-xiaoma/gists{/gist_id}", "starred_url": "https://api.github.com/users/it-xiaoma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/it-xiaoma/subscriptions", "organizations_url": "https://api.github.com/users/it-xiaoma/orgs", "repos_url": "https://api.github.com/users/it-xiaoma/repos", "events_url": "https://api.github.com/users/it-xiaoma/events{/privacy}", "received_events_url": "https://api.github.com/users/it-xiaoma/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-08-20T08:39:45Z", "updated_at": "2019-11-21T03:42:08Z", "closed_at": "2019-11-21T03:42:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/779", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/779/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/779/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/779/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/779", "id": 449869950, "node_id": "MDU6SXNzdWU0NDk4Njk5NTA=", "number": 779, "title": "JWT support", "user": {"login": "paulcaskey", "id": 6267671, "node_id": "MDQ6VXNlcjYyNjc2NzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/6267671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulcaskey", "html_url": "https://github.com/paulcaskey", "followers_url": "https://api.github.com/users/paulcaskey/followers", "following_url": "https://api.github.com/users/paulcaskey/following{/other_user}", "gists_url": "https://api.github.com/users/paulcaskey/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulcaskey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulcaskey/subscriptions", "organizations_url": "https://api.github.com/users/paulcaskey/orgs", "repos_url": "https://api.github.com/users/paulcaskey/repos", "events_url": "https://api.github.com/users/paulcaskey/events{/privacy}", "received_events_url": "https://api.github.com/users/paulcaskey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-29T15:17:12Z", "updated_at": "2019-06-04T19:25:45Z", "closed_at": "2019-06-04T19:25:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm wondering if anyone here has done any thought or design work into including JWT support for authentication. I'm new to JWT and etcd v3 so I'm not sure if this would be easy or hard.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/729", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/729/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/729/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/729/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/729", "id": 428321546, "node_id": "MDU6SXNzdWU0MjgzMjE1NDY=", "number": 729, "title": "Resuming a stopped watch results in lost events", "user": {"login": "boolean5", "id": 5280463, "node_id": "MDQ6VXNlcjUyODA0NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5280463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boolean5", "html_url": "https://github.com/boolean5", "followers_url": "https://api.github.com/users/boolean5/followers", "following_url": "https://api.github.com/users/boolean5/following{/other_user}", "gists_url": "https://api.github.com/users/boolean5/gists{/gist_id}", "starred_url": "https://api.github.com/users/boolean5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boolean5/subscriptions", "organizations_url": "https://api.github.com/users/boolean5/orgs", "repos_url": "https://api.github.com/users/boolean5/repos", "events_url": "https://api.github.com/users/boolean5/events{/privacy}", "received_events_url": "https://api.github.com/users/boolean5/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-04-02T16:17:58Z", "updated_at": "2019-05-12T22:03:20Z", "closed_at": "2019-05-12T22:03:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Taking into account that there may exist multiple events with the same revision, there is currently no way to restart a watch exactly from where it stopped.\r\n\r\n**Example**:\r\nWe start a watch on prefix `\"key\"`.\r\nAt revision 5, a transaction containing the following operations is applied:\r\n\r\n```\r\nput(\"key1\", \"val1\")\r\nput(\"key2\", \"val2\")\r\n```\r\nThe watch receives the event that corresponds to `put(\"key1\", \"val1\")` and then is stopped by an exception.\r\n\r\nIf we restart the watch from revision 6 (i.e., the last received event's modified revision + 1) we will miss an event (i.e., `put(\"key2\", \"val2\")`). On the other hand, if we restart it from revision 5 we will see again an event that we have already processed.\r\n\r\n**Proposed solution**:\r\nIn the [gRPC API](https://github.com/etcd-io/etcd/blob/master/etcdserver/etcdserverpb/rpc.pb.go#L1780) of etcd, each `WatchResponse` contains a list of `Events`. Etcd [guarantees](https://github.com/etcd-io/etcd/blob/master/Documentation/learning/api.md#watch-streams) that all events with the same revision will be contained in the same list. Therefore, a solution would be to change the implementation of watch to return this event list instead of returning the events one by one.\r\n\r\nThis way, when a watch is stopped we would be able to resume it from the last received event's modified revision + 1 without losing any events.\r\n\r\nIn case you want to avoid changing the current watch API, this could become a separate watch function.\r\n\r\n@kragniz, please let me know what you think.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/726", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/726/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/726/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/726/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/726", "id": 427851647, "node_id": "MDU6SXNzdWU0Mjc4NTE2NDc=", "number": 726, "title": "Counting keys in a transaction?", "user": {"login": "pjz", "id": 11100, "node_id": "MDQ6VXNlcjExMTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/11100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pjz", "html_url": "https://github.com/pjz", "followers_url": "https://api.github.com/users/pjz/followers", "following_url": "https://api.github.com/users/pjz/following{/other_user}", "gists_url": "https://api.github.com/users/pjz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pjz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pjz/subscriptions", "organizations_url": "https://api.github.com/users/pjz/orgs", "repos_url": "https://api.github.com/users/pjz/repos", "events_url": "https://api.github.com/users/pjz/events{/privacy}", "received_events_url": "https://api.github.com/users/pjz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-01T18:35:41Z", "updated_at": "2019-04-02T14:33:55Z", "closed_at": "2019-04-02T14:33:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Is there a way to do a comparison on the count of keys with a prefix inside a transaction?  That is, I want to do something like:\r\n```\r\n    txn.compare( txn.key('/prefix/', count_only=True).value < 10)\r\n```\r\n\r\nTo only allow the `txn.success()` bit to run if there are less than ten items with the prefix `/prefix/`.  I believe the go client can do this using `WithPrefix()` and `CountOnly()` but I can't find where/if something similar is available here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/719", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/719/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/719/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/719/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/719", "id": 426555935, "node_id": "MDU6SXNzdWU0MjY1NTU5MzU=", "number": 719, "title": "Misleading doc", "user": {"login": "miha-plesko", "id": 8102426, "node_id": "MDQ6VXNlcjgxMDI0MjY=", "avatar_url": "https://avatars1.githubusercontent.com/u/8102426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miha-plesko", "html_url": "https://github.com/miha-plesko", "followers_url": "https://api.github.com/users/miha-plesko/followers", "following_url": "https://api.github.com/users/miha-plesko/following{/other_user}", "gists_url": "https://api.github.com/users/miha-plesko/gists{/gist_id}", "starred_url": "https://api.github.com/users/miha-plesko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miha-plesko/subscriptions", "organizations_url": "https://api.github.com/users/miha-plesko/orgs", "repos_url": "https://api.github.com/users/miha-plesko/repos", "events_url": "https://api.github.com/users/miha-plesko/events{/privacy}", "received_events_url": "https://api.github.com/users/miha-plesko/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-28T15:24:48Z", "updated_at": "2019-07-10T05:46:43Z", "closed_at": "2019-07-09T21:32:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, thanks for this awesome project. Wanted to let you know in current docs you say\r\n\r\n```python\r\n# locks\r\nlock = etcd.lock('thing')\r\n# do something\r\nlock.release()\r\n```\r\n\r\nwhich is not working, because lock has to be acquired!\r\n\r\n```python\r\n# locks\r\nlock = etcd.lock('thing')\r\nlock.acquire()  # <------------------------- this is missing\r\n# do something\r\nlock.release()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/686", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/686/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/686/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/686/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/686", "id": 414010535, "node_id": "MDU6SXNzdWU0MTQwMTA1MzU=", "number": 686, "title": "Version 0.9.0 is not on PyPI", "user": {"login": "orivej", "id": 101514, "node_id": "MDQ6VXNlcjEwMTUxNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/101514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orivej", "html_url": "https://github.com/orivej", "followers_url": "https://api.github.com/users/orivej/followers", "following_url": "https://api.github.com/users/orivej/following{/other_user}", "gists_url": "https://api.github.com/users/orivej/gists{/gist_id}", "starred_url": "https://api.github.com/users/orivej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orivej/subscriptions", "organizations_url": "https://api.github.com/users/orivej/orgs", "repos_url": "https://api.github.com/users/orivej/repos", "events_url": "https://api.github.com/users/orivej/events{/privacy}", "received_events_url": "https://api.github.com/users/orivej/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-25T09:32:10Z", "updated_at": "2019-04-10T21:11:03Z", "closed_at": "2019-04-10T21:11:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://pypi.org/project/etcd3/ lists 0.8.1.\r\n\r\nPreviously: #442", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/594", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/594/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/594/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/594/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/594", "id": 377377861, "node_id": "MDU6SXNzdWUzNzczNzc4NjE=", "number": 594, "title": "Working add_watch_callback example (or what is the diff between watch)", "user": {"login": "ayashjorden", "id": 4204371, "node_id": "MDQ6VXNlcjQyMDQzNzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/4204371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayashjorden", "html_url": "https://github.com/ayashjorden", "followers_url": "https://api.github.com/users/ayashjorden/followers", "following_url": "https://api.github.com/users/ayashjorden/following{/other_user}", "gists_url": "https://api.github.com/users/ayashjorden/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayashjorden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayashjorden/subscriptions", "organizations_url": "https://api.github.com/users/ayashjorden/orgs", "repos_url": "https://api.github.com/users/ayashjorden/repos", "events_url": "https://api.github.com/users/ayashjorden/events{/privacy}", "received_events_url": "https://api.github.com/users/ayashjorden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-05T12:24:57Z", "updated_at": "2018-12-06T08:12:19Z", "closed_at": "2018-12-06T08:12:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\nI'm not the python expert, but would like to make use `add_watch_callback`.\r\n\r\nCurrent code  in the constructor:\r\n```\r\n        self.watch_id = self.client.add_watch_callback(\r\n            prefix, callback=self.dequeue)\r\n```\r\n\r\nThank you,\r\nJorden", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/567", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/567/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/567/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/567/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/567", "id": 367856727, "node_id": "MDU6SXNzdWUzNjc4NTY3Mjc=", "number": 567, "title": "Update proto files to the latest version", "user": {"login": "boolean5", "id": 5280463, "node_id": "MDQ6VXNlcjUyODA0NjM=", "avatar_url": "https://avatars2.githubusercontent.com/u/5280463?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boolean5", "html_url": "https://github.com/boolean5", "followers_url": "https://api.github.com/users/boolean5/followers", "following_url": "https://api.github.com/users/boolean5/following{/other_user}", "gists_url": "https://api.github.com/users/boolean5/gists{/gist_id}", "starred_url": "https://api.github.com/users/boolean5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boolean5/subscriptions", "organizations_url": "https://api.github.com/users/boolean5/orgs", "repos_url": "https://api.github.com/users/boolean5/repos", "events_url": "https://api.github.com/users/boolean5/events{/privacy}", "received_events_url": "https://api.github.com/users/boolean5/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-10-08T16:02:45Z", "updated_at": "2018-10-15T12:49:38Z", "closed_at": "2018-10-15T12:49:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `rpc.proto` file used to generate the protobuf stubs is outdated and lacks several recently added etcd features.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/529", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/529/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/529/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/529/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/529", "id": 354344931, "node_id": "MDU6SXNzdWUzNTQzNDQ5MzE=", "number": 529, "title": "Get should return response header even for non-existent keys", "user": {"login": "mvle", "id": 9408668, "node_id": "MDQ6VXNlcjk0MDg2Njg=", "avatar_url": "https://avatars3.githubusercontent.com/u/9408668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mvle", "html_url": "https://github.com/mvle", "followers_url": "https://api.github.com/users/mvle/followers", "following_url": "https://api.github.com/users/mvle/following{/other_user}", "gists_url": "https://api.github.com/users/mvle/gists{/gist_id}", "starred_url": "https://api.github.com/users/mvle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mvle/subscriptions", "organizations_url": "https://api.github.com/users/mvle/orgs", "repos_url": "https://api.github.com/users/mvle/repos", "events_url": "https://api.github.com/users/mvle/events{/privacy}", "received_events_url": "https://api.github.com/users/mvle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-27T14:33:57Z", "updated_at": "2019-04-24T13:30:03Z", "closed_at": "2019-04-24T13:30:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seems like currently, if you do a Get on a key that doesn't exist, (None, None) is returned.\r\nBut I think the api spec for Get indicates that it should at least return the response header which includes information such as cluster revision, etc. The GO client does indeed return such header on a similar Get.\r\n\r\nShouldn't be hard to change code to do this. Thoughts?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/442", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/442/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/442/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/442/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/442", "id": 332715057, "node_id": "MDU6SXNzdWUzMzI3MTUwNTc=", "number": 442, "title": "0.8.1 not on PyPI", "user": {"login": "jd", "id": 2644, "node_id": "MDQ6VXNlcjI2NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jd", "html_url": "https://github.com/jd", "followers_url": "https://api.github.com/users/jd/followers", "following_url": "https://api.github.com/users/jd/following{/other_user}", "gists_url": "https://api.github.com/users/jd/gists{/gist_id}", "starred_url": "https://api.github.com/users/jd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jd/subscriptions", "organizations_url": "https://api.github.com/users/jd/orgs", "repos_url": "https://api.github.com/users/jd/repos", "events_url": "https://api.github.com/users/jd/events{/privacy}", "received_events_url": "https://api.github.com/users/jd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-06-15T09:57:49Z", "updated_at": "2018-07-17T08:57:33Z", "closed_at": "2018-07-17T08:57:33Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "@kragniz I've pushed 0.8.1 tag but somehow it did not end up on PyPI. Not sure what I've missed?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/437", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/437/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/437/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/437/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/437", "id": 329127782, "node_id": "MDU6SXNzdWUzMjkxMjc3ODI=", "number": 437, "title": "Bug: Can't kill the process of watch unless kill -9 in python27", "user": {"login": "xuhuigithub", "id": 27714293, "node_id": "MDQ6VXNlcjI3NzE0Mjkz", "avatar_url": "https://avatars1.githubusercontent.com/u/27714293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuhuigithub", "html_url": "https://github.com/xuhuigithub", "followers_url": "https://api.github.com/users/xuhuigithub/followers", "following_url": "https://api.github.com/users/xuhuigithub/following{/other_user}", "gists_url": "https://api.github.com/users/xuhuigithub/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuhuigithub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuhuigithub/subscriptions", "organizations_url": "https://api.github.com/users/xuhuigithub/orgs", "repos_url": "https://api.github.com/users/xuhuigithub/repos", "events_url": "https://api.github.com/users/xuhuigithub/events{/privacy}", "received_events_url": "https://api.github.com/users/xuhuigithub/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-06-04T16:23:48Z", "updated_at": "2018-07-24T10:11:40Z", "closed_at": "2018-07-23T16:44:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "HI @jd \r\nWhen I used watch code in Python 2.7, when I wanted to stop watch, I found that I could not stop it unless I forced it.\r\n\r\n```python\r\nimport etcd3\r\netcd = etcd3.client(host='192.168.61.90', port=2379)\r\nevents_iterator, cancel = etcd.watch(\"/watch\")\r\n\r\nfor event in events_iterator:\r\n  print(event.value)\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/436", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/436/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/436/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/436/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/436", "id": 328425282, "node_id": "MDU6SXNzdWUzMjg0MjUyODI=", "number": 436, "title": "No support for eventlet", "user": {"login": "gszpura", "id": 2082982, "node_id": "MDQ6VXNlcjIwODI5ODI=", "avatar_url": "https://avatars1.githubusercontent.com/u/2082982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gszpura", "html_url": "https://github.com/gszpura", "followers_url": "https://api.github.com/users/gszpura/followers", "following_url": "https://api.github.com/users/gszpura/following{/other_user}", "gists_url": "https://api.github.com/users/gszpura/gists{/gist_id}", "starred_url": "https://api.github.com/users/gszpura/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gszpura/subscriptions", "organizations_url": "https://api.github.com/users/gszpura/orgs", "repos_url": "https://api.github.com/users/gszpura/repos", "events_url": "https://api.github.com/users/gszpura/events{/privacy}", "received_events_url": "https://api.github.com/users/gszpura/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-01T08:24:18Z", "updated_at": "2018-06-01T09:38:49Z", "closed_at": "2018-06-01T09:38:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is just knowledge sharing. \r\nI think that python-etcd3 is blocking eventlet greenthreads.\r\nHere's a blocking example:\r\n```\r\n# python-etcd3 == 0.8.0\r\n# eventlet == 0.23.0\r\nimport etcd3\r\nimport eventlet\r\neventlet.monkey_patch()\r\n\r\n\r\ndef thread1():\r\n    client = etcd3.client(host='127.0.0.1', port=2379)\r\n    events_iterator, cancel = client.watch(\"/foo\")\r\n    for event in events_iterator:\r\n        print(event)\r\n\r\n\r\ndef thread2():\r\n    i = 0\r\n    while True:\r\n        print(i)\r\n        eventlet.sleep(1)\r\n        i += 1\r\n\r\n\r\neventlet.spawn_n(thread1)\r\neventlet.spawn_n(thread2)\r\n\r\nwhile True:\r\n    eventlet.sleep(1)\r\n\r\n```\r\n\r\nThe problem is probably in grpcio lib as it stops here:\r\n```\r\nFile \"src/python/grpcio/grpc/_cython/_cygrpc/channel.pyx.pxi\", line 432, in grpc._cython.cygrpc.Channel.next_call_event\r\n  File \"src/python/grpcio/grpc/_cython/_cygrpc/channel.pyx.pxi\", line 149, in grpc._cython.cygrpc._next_call_event\r\n  File \"src/python/grpcio/grpc/_cython/_cygrpc/channel.pyx.pxi\", line 150, in grpc._cython.cygrpc._next_call_event\r\n  File \"src/python/grpcio/grpc/_cython/_cygrpc/channel.pyx.pxi\", line 431, in grpc._cython.cygrpc.Channel.next_call_event.on_success\r\n  File \"src/python/grpcio/grpc/_cython/_cygrpc/channel.pyx.pxi\", line 236, in grpc._cython.cygrpc._process_integrated_call_tag\r\n```\r\n\r\nIf you have any information about this topic I will appreciate.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/430", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/430/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/430/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/430/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/430", "id": 323418933, "node_id": "MDU6SXNzdWUzMjM0MTg5MzM=", "number": 430, "title": "New grpc release breaks `python-etcd3`'s implicit protobuf requirement", "user": {"login": "kaiw", "id": 1995, "node_id": "MDQ6VXNlcjE5OTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/1995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kaiw", "html_url": "https://github.com/kaiw", "followers_url": "https://api.github.com/users/kaiw/followers", "following_url": "https://api.github.com/users/kaiw/following{/other_user}", "gists_url": "https://api.github.com/users/kaiw/gists{/gist_id}", "starred_url": "https://api.github.com/users/kaiw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kaiw/subscriptions", "organizations_url": "https://api.github.com/users/kaiw/orgs", "repos_url": "https://api.github.com/users/kaiw/repos", "events_url": "https://api.github.com/users/kaiw/events{/privacy}", "received_events_url": "https://api.github.com/users/kaiw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-15T23:30:31Z", "updated_at": "2018-05-16T10:11:37Z", "closed_at": "2018-05-16T10:11:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "The most recent grpc release removes their dependency on protobuf (see https://github.com/grpc/grpc/releases/tag/v1.12.0), which breaks `python-etcd3`. Since there's explicit protobuf usage here, it seems reasonable to add a protobuf dependency to the requirements?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/429", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/429/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/429/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/429/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/429", "id": 322690818, "node_id": "MDU6SXNzdWUzMjI2OTA4MTg=", "number": 429, "title": "tenacity v4.10.0 breaks the compatibility with python v2.7", "user": {"login": "zhangzujian", "id": 13048299, "node_id": "MDQ6VXNlcjEzMDQ4Mjk5", "avatar_url": "https://avatars3.githubusercontent.com/u/13048299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangzujian", "html_url": "https://github.com/zhangzujian", "followers_url": "https://api.github.com/users/zhangzujian/followers", "following_url": "https://api.github.com/users/zhangzujian/following{/other_user}", "gists_url": "https://api.github.com/users/zhangzujian/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangzujian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangzujian/subscriptions", "organizations_url": "https://api.github.com/users/zhangzujian/orgs", "repos_url": "https://api.github.com/users/zhangzujian/repos", "events_url": "https://api.github.com/users/zhangzujian/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangzujian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-14T06:46:00Z", "updated_at": "2018-05-14T08:01:48Z", "closed_at": "2018-05-14T08:01:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "tenacity is not compatible with python 2.7 after version 4.4.0.\r\n\r\nRelated issue: https://github.com/jd/tenacity/issues/88\r\n\r\nEDIT:\r\n\r\nIt's a problem of building a RPM package and can be resolved by setting the RPM spec:\r\n\r\n```\r\n%global _python_bytecompile_errors_terminate_build 0\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/423", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/423/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/423/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/423", "id": 321099776, "node_id": "MDU6SXNzdWUzMjEwOTk3NzY=", "number": 423, "title": "Create client error", "user": {"login": "JinmingHao", "id": 38746443, "node_id": "MDQ6VXNlcjM4NzQ2NDQz", "avatar_url": "https://avatars2.githubusercontent.com/u/38746443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JinmingHao", "html_url": "https://github.com/JinmingHao", "followers_url": "https://api.github.com/users/JinmingHao/followers", "following_url": "https://api.github.com/users/JinmingHao/following{/other_user}", "gists_url": "https://api.github.com/users/JinmingHao/gists{/gist_id}", "starred_url": "https://api.github.com/users/JinmingHao/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JinmingHao/subscriptions", "organizations_url": "https://api.github.com/users/JinmingHao/orgs", "repos_url": "https://api.github.com/users/JinmingHao/repos", "events_url": "https://api.github.com/users/JinmingHao/events{/privacy}", "received_events_url": "https://api.github.com/users/JinmingHao/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-08T08:58:41Z", "updated_at": "2018-05-08T09:08:20Z", "closed_at": "2018-05-08T09:08:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Something wrong when create etcd client,\r\n\r\n        Traceback (most recent call last):\r\n          File \"grpc.py\", line 1, in <module>\r\n             import etcd3\r\n          File \"/home/vagrant/.pyenv/versions/promotion/lib/python3.6/site-packages/etcd3/__init__.py\", l \r\n       ine 4, in <module>\r\n            from etcd3.client import Etcd3Client\r\n          File \"/home/vagrant/.pyenv/versions/promotion/lib/python3.6/site-packages/etcd3/client.py\", line \r\n        6, in <module>\r\n            import grpc._channel\r\n        ModuleNotFoundError: No module named 'grpc._channel'; 'grpc' is not a package\r\n\r\nmy python version is 3.6.5, anyone can give me some suggestions\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/419", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/419/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/419/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/419/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/419", "id": 318923150, "node_id": "MDU6SXNzdWUzMTg5MjMxNTA=", "number": 419, "title": "etcd3.exceptions.ConnectionFailedError", "user": {"login": "surinkim", "id": 7010567, "node_id": "MDQ6VXNlcjcwMTA1Njc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7010567?v=4", "gravatar_id": "", "url": "https://api.github.com/users/surinkim", "html_url": "https://github.com/surinkim", "followers_url": "https://api.github.com/users/surinkim/followers", "following_url": "https://api.github.com/users/surinkim/following{/other_user}", "gists_url": "https://api.github.com/users/surinkim/gists{/gist_id}", "starred_url": "https://api.github.com/users/surinkim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/surinkim/subscriptions", "organizations_url": "https://api.github.com/users/surinkim/orgs", "repos_url": "https://api.github.com/users/surinkim/repos", "events_url": "https://api.github.com/users/surinkim/events{/privacy}", "received_events_url": "https://api.github.com/users/surinkim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-30T15:03:39Z", "updated_at": "2018-05-05T02:02:27Z", "closed_at": "2018-05-05T02:02:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\nMy python code is simple from [etcd3 readme.md](https://github.com/kragniz/python-etcd3).\r\n\r\n    import etcd3\r\n    etcd = etcd3.client()\r\n    etcd.get('foo')\r\n\r\nHowever, when the script run, `etcd3.exceptions.ConnectionFailedError\r\n` has occurred.\r\n\r\nBecause I can it by using `curl + etcdctl`, so, I think it is not `etcd` problem.\r\n\r\n    $ curl -L http://localhost:4001/v2/keys/mykey -XPUT -d value=\"Hello\"\r\n    {\"action\":\"set\",\"node\":{\"key\":\"/mykey\",\"value\":\"Hello\",\"modifiedIndex\":52,\"createdIndex\":52},\"prevNode\":{\"key\":\"/mykey\",\"value\":\"Hello World\",\"modifiedIndex\":51,\"createdIndex\":51}}\r\n    $ \r\n    $ etcdctl get /mykey\r\n    Hello\r\n\r\n**Is it etcd3's bug? How can I solve this problem?**\r\n\r\nI'm currently using `etcd3 0.7.0`.\r\nI've tried even the old version(0.4.0 ~ 0.6.0), but I still have problems.\r\n\r\nMy stack trace is below,\r\n\r\n    (scaling_python_kor) hyun@hyun-VirtualBox:~/work/scaling_python_kor/Chapter07$ python 08_etcd-lock.py \r\n    Traceback (most recent call last):\r\n      File \"/home/hyun/work/scaling_python_kor/lib/python3.5/site-packages/etcd3/client.py\", line 46, in handler\r\n        return f(*args, **kwargs)\r\n      File \"/home/hyun/work/scaling_python_kor/lib/python3.5/site-packages/etcd3/client.py\", line 249, in get\r\n        credentials=self.call_credentials,\r\n      File \"/home/hyun/work/scaling_python_kor/lib/python3.5/site-packages/grpc/_channel.py\", line 487, in __call__\r\n        return _end_unary_response_blocking(state, call, False, deadline)\r\n      File \"/home/hyun/work/scaling_python_kor/lib/python3.5/site-packages/grpc/_channel.py\", line 437, in _end_unary_response_blocking\r\n        raise _Rendezvous(state, None, None, deadline)\r\n    grpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNAVAILABLE, Trying to connect an http1.x server)>\r\n    \r\n    During handling of the above exception, another exception occurred:\r\n    \r\n    Traceback (most recent call last):\r\n      File \"08_etcd-lock.py\", line 5, in <module>\r\n        etcd.get('foo')\r\n      File \"/home/hyun/work/scaling_python_kor/lib/python3.5/site-packages/etcd3/client.py\", line 48, in handler\r\n        _translate_exception(exc)\r\n      File \"/home/hyun/work/scaling_python_kor/lib/python3.5/site-packages/etcd3/client.py\", line 32, in _translate_exception\r\n        raise exception\r\n    etcd3.exceptions.ConnectionFailedError\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/415", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/415/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/415/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/415/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/415", "id": 316654773, "node_id": "MDU6SXNzdWUzMTY2NTQ3NzM=", "number": 415, "title": "Any plan to release a new version?", "user": {"login": "lynic", "id": 3202036, "node_id": "MDQ6VXNlcjMyMDIwMzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/3202036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lynic", "html_url": "https://github.com/lynic", "followers_url": "https://api.github.com/users/lynic/followers", "following_url": "https://api.github.com/users/lynic/following{/other_user}", "gists_url": "https://api.github.com/users/lynic/gists{/gist_id}", "starred_url": "https://api.github.com/users/lynic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lynic/subscriptions", "organizations_url": "https://api.github.com/users/lynic/orgs", "repos_url": "https://api.github.com/users/lynic/repos", "events_url": "https://api.github.com/users/lynic/events{/privacy}", "received_events_url": "https://api.github.com/users/lynic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-23T04:03:46Z", "updated_at": "2018-05-10T06:31:13Z", "closed_at": "2018-05-10T06:31:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/408", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/408/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/408/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/408", "id": 316127173, "node_id": "MDU6SXNzdWUzMTYxMjcxNzM=", "number": 408, "title": "Do get_prefix() and get_all() return values when they should return keys and values?", "user": {"login": "dementedhedgehog", "id": 1158958, "node_id": "MDQ6VXNlcjExNTg5NTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1158958?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dementedhedgehog", "html_url": "https://github.com/dementedhedgehog", "followers_url": "https://api.github.com/users/dementedhedgehog/followers", "following_url": "https://api.github.com/users/dementedhedgehog/following{/other_user}", "gists_url": "https://api.github.com/users/dementedhedgehog/gists{/gist_id}", "starred_url": "https://api.github.com/users/dementedhedgehog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dementedhedgehog/subscriptions", "organizations_url": "https://api.github.com/users/dementedhedgehog/orgs", "repos_url": "https://api.github.com/users/dementedhedgehog/repos", "events_url": "https://api.github.com/users/dementedhedgehog/events{/privacy}", "received_events_url": "https://api.github.com/users/dementedhedgehog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-20T04:52:12Z", "updated_at": "2018-04-22T21:50:35Z", "closed_at": "2018-04-22T21:50:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "The docs say they return keys.\r\nMy experience says they return values.\r\netcdctl returns both keys and values for get_prefix\r\n\r\nAm I crazy?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/388", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/388/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/388/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/388/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/388", "id": 309833605, "node_id": "MDU6SXNzdWUzMDk4MzM2MDU=", "number": 388, "title": "[INFO] Gevent is now officially supported by grpc", "user": {"login": "Revolution1", "id": 3241438, "node_id": "MDQ6VXNlcjMyNDE0Mzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/3241438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Revolution1", "html_url": "https://github.com/Revolution1", "followers_url": "https://api.github.com/users/Revolution1/followers", "following_url": "https://api.github.com/users/Revolution1/following{/other_user}", "gists_url": "https://api.github.com/users/Revolution1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Revolution1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Revolution1/subscriptions", "organizations_url": "https://api.github.com/users/Revolution1/orgs", "repos_url": "https://api.github.com/users/Revolution1/repos", "events_url": "https://api.github.com/users/Revolution1/events{/privacy}", "received_events_url": "https://api.github.com/users/Revolution1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-03-29T17:08:10Z", "updated_at": "2018-06-17T12:00:41Z", "closed_at": "2018-06-17T12:00:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/grpc/grpc/issues/4629\r\nhttps://github.com/grpc/grpc/pull/14561", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/362", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/362/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/362/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/362/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/362", "id": 301976485, "node_id": "MDU6SXNzdWUzMDE5NzY0ODU=", "number": 362, "title": "What is the API to get all the keys (not values) in etcd3?", "user": {"login": "vhosakot", "id": 8882663, "node_id": "MDQ6VXNlcjg4ODI2NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8882663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vhosakot", "html_url": "https://github.com/vhosakot", "followers_url": "https://api.github.com/users/vhosakot/followers", "following_url": "https://api.github.com/users/vhosakot/following{/other_user}", "gists_url": "https://api.github.com/users/vhosakot/gists{/gist_id}", "starred_url": "https://api.github.com/users/vhosakot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vhosakot/subscriptions", "organizations_url": "https://api.github.com/users/vhosakot/orgs", "repos_url": "https://api.github.com/users/vhosakot/repos", "events_url": "https://api.github.com/users/vhosakot/events{/privacy}", "received_events_url": "https://api.github.com/users/vhosakot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-03T07:25:34Z", "updated_at": "2019-09-19T19:47:25Z", "closed_at": "2018-03-12T18:31:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `get_all()` API returns the values of all the keys, but not the keys themselves.\r\n\r\nAfter putting the following keys and values, what is the API to get a list of just the keys `/foo`, `/bar`, `/baz` and `/qux`?\r\n\r\n```\r\n>>> etcd.put(\"/foo\", \"a\")\r\n>>> etcd.put(\"/bar\", \"b\")\r\n>>> etcd.put(\"/baz\", \"c\")\r\n>>> etcd.put(\"/qux\", \"d\")\r\n```\r\n\r\nI was not able to find this in the documentation in https://python-etcd3.readthedocs.io/en/latest/usage.html.\r\n\r\nIt is possible to get just the keys in `etcd3` using `etcdctl` the following way:\r\n\r\n```\r\nETCDCTL_API=3 etcdctl get --prefix=true \"\" | grep '/'\r\n/bar\r\n/baz\r\n/foo\r\n/qux\r\n```\r\n\r\nBut, I wasn't able to find the python API to do the above. Let me know if I'm missing anything.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/172", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/172/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/172/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/172", "id": 243267833, "node_id": "MDU6SXNzdWUyNDMyNjc4MzM=", "number": 172, "title": "status() doesn't honor timeout, hangs indefinitely", "user": {"login": "jbrendel", "id": 233741, "node_id": "MDQ6VXNlcjIzMzc0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/233741?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbrendel", "html_url": "https://github.com/jbrendel", "followers_url": "https://api.github.com/users/jbrendel/followers", "following_url": "https://api.github.com/users/jbrendel/following{/other_user}", "gists_url": "https://api.github.com/users/jbrendel/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbrendel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbrendel/subscriptions", "organizations_url": "https://api.github.com/users/jbrendel/orgs", "repos_url": "https://api.github.com/users/jbrendel/repos", "events_url": "https://api.github.com/users/jbrendel/events{/privacy}", "received_events_url": "https://api.github.com/users/jbrendel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-07-16T21:31:31Z", "updated_at": "2017-07-16T23:38:26Z", "closed_at": "2017-07-16T23:38:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "In `Etcd3Client.status()` there is the line:\r\n\r\n    status_response = self.maintenancestub.Status(status_request)\r\n\r\nNo 'timeout' value is passed in. Therefore, if it can't connect to etcd at this point (maybe the server can't be reached) it will just sit there for a long time. It will probably timeout eventually, but it's too long.\r\n\r\nIt's easy to honor the timeout value of the etcd client, though, by modifying this line as follows:\r\n\r\n    status_response = self.maintenancestub.Status(status_request, self.timeout)\r\n\r\nThis works like a charm and gives a proper `ConnectionTimeoutError` exception.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/161", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/161/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/161/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/161", "id": 236722389, "node_id": "MDU6SXNzdWUyMzY3MjIzODk=", "number": 161, "title": "Transactions don't work with empty values.", "user": {"login": "lavagetto", "id": 1475424, "node_id": "MDQ6VXNlcjE0NzU0MjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1475424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lavagetto", "html_url": "https://github.com/lavagetto", "followers_url": "https://api.github.com/users/lavagetto/followers", "following_url": "https://api.github.com/users/lavagetto/following{/other_user}", "gists_url": "https://api.github.com/users/lavagetto/gists{/gist_id}", "starred_url": "https://api.github.com/users/lavagetto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lavagetto/subscriptions", "organizations_url": "https://api.github.com/users/lavagetto/orgs", "repos_url": "https://api.github.com/users/lavagetto/repos", "events_url": "https://api.github.com/users/lavagetto/events{/privacy}", "received_events_url": "https://api.github.com/users/lavagetto/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-18T13:53:07Z", "updated_at": "2017-06-18T14:24:14Z", "closed_at": "2017-06-18T14:24:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "At the moment, python-etcd3 code for transactions doesn't allow no value to be defined in compare operations (which would be, in SQL terms, the NULL term).\r\n\r\nThis means that it's impossible to write even simple constructs like \"Create this key if it doesn't exist\".\r\n\r\n```\r\nc = etcd3.client()\r\nres = c.transaction(compare=[c.transactions.create('test') == 0], success=[c.transactions.put('test', 'testvalue')], failure=[]) # This returns false\r\nres = c.transaction(compare=[c.transactions.create('test') == None], success=[c.transactions.put('test', 'testvalue')], failure=[]) # This raises an exception\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/151", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/151/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/151/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/151/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/151", "id": 233490484, "node_id": "MDU6SXNzdWUyMzM0OTA0ODQ=", "number": 151, "title": "support py3.6?", "user": {"login": "daoiqi", "id": 2141872, "node_id": "MDQ6VXNlcjIxNDE4NzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/2141872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daoiqi", "html_url": "https://github.com/daoiqi", "followers_url": "https://api.github.com/users/daoiqi/followers", "following_url": "https://api.github.com/users/daoiqi/following{/other_user}", "gists_url": "https://api.github.com/users/daoiqi/gists{/gist_id}", "starred_url": "https://api.github.com/users/daoiqi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daoiqi/subscriptions", "organizations_url": "https://api.github.com/users/daoiqi/orgs", "repos_url": "https://api.github.com/users/daoiqi/repos", "events_url": "https://api.github.com/users/daoiqi/events{/privacy}", "received_events_url": "https://api.github.com/users/daoiqi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-05T04:13:22Z", "updated_at": "2017-08-14T11:03:31Z", "closed_at": "2017-08-14T11:03:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "support py3.6?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/135", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/135/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/135/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/135", "id": 228986097, "node_id": "MDU6SXNzdWUyMjg5ODYwOTc=", "number": 135, "title": "Can't access to ResponseHeader", "user": {"login": "styleex", "id": 2076945, "node_id": "MDQ6VXNlcjIwNzY5NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2076945?v=4", "gravatar_id": "", "url": "https://api.github.com/users/styleex", "html_url": "https://github.com/styleex", "followers_url": "https://api.github.com/users/styleex/followers", "following_url": "https://api.github.com/users/styleex/following{/other_user}", "gists_url": "https://api.github.com/users/styleex/gists{/gist_id}", "starred_url": "https://api.github.com/users/styleex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/styleex/subscriptions", "organizations_url": "https://api.github.com/users/styleex/orgs", "repos_url": "https://api.github.com/users/styleex/repos", "events_url": "https://api.github.com/users/styleex/events{/privacy}", "received_events_url": "https://api.github.com/users/styleex/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-16T10:33:29Z", "updated_at": "2019-05-12T22:03:20Z", "closed_at": "2019-05-12T22:03:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "In get/put/del/watch response, can't access to ResponseHeader (in particular, revision field)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/134", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/134/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/134/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/134", "id": 228973228, "node_id": "MDU6SXNzdWUyMjg5NzMyMjg=", "number": 134, "title": "WatchResponse `compact_revision` infinity loop", "user": {"login": "styleex", "id": 2076945, "node_id": "MDQ6VXNlcjIwNzY5NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2076945?v=4", "gravatar_id": "", "url": "https://api.github.com/users/styleex", "html_url": "https://github.com/styleex", "followers_url": "https://api.github.com/users/styleex/followers", "following_url": "https://api.github.com/users/styleex/following{/other_user}", "gists_url": "https://api.github.com/users/styleex/gists{/gist_id}", "starred_url": "https://api.github.com/users/styleex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/styleex/subscriptions", "organizations_url": "https://api.github.com/users/styleex/orgs", "repos_url": "https://api.github.com/users/styleex/repos", "events_url": "https://api.github.com/users/styleex/events{/privacy}", "received_events_url": "https://api.github.com/users/styleex/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-16T09:44:34Z", "updated_at": "2017-08-19T08:15:02Z", "closed_at": "2017-08-19T08:15:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "In application I can't detect when etcd return compact_revision in WatchResponse. I expect, what in this case exception will raised and i can react on it (for example run full synchronizaion)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/115", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/115/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/115/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/115", "id": 223369108, "node_id": "MDU6SXNzdWUyMjMzNjkxMDg=", "number": 115, "title": "Dockerfile python version", "user": {"login": "dimd", "id": 652724, "node_id": "MDQ6VXNlcjY1MjcyNA==", "avatar_url": "https://avatars3.githubusercontent.com/u/652724?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimd", "html_url": "https://github.com/dimd", "followers_url": "https://api.github.com/users/dimd/followers", "following_url": "https://api.github.com/users/dimd/following{/other_user}", "gists_url": "https://api.github.com/users/dimd/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimd/subscriptions", "organizations_url": "https://api.github.com/users/dimd/orgs", "repos_url": "https://api.github.com/users/dimd/repos", "events_url": "https://api.github.com/users/dimd/events{/privacy}", "received_events_url": "https://api.github.com/users/dimd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-21T12:29:34Z", "updated_at": "2017-04-21T15:21:15Z", "closed_at": "2017-04-21T15:21:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The python docker image version is not decalring a specific version, so the latest one is downloaded.\r\nCurrently the latest version is 3.6.1. This causes this step of the image build to fail:\r\n\r\n```bash\r\nRUN tox -epy35 --notest\r\n``` \r\n\r\nsince python3.5 is not installed.\r\n\r\nOne solution would be to explicitly declare the desired python version in the FROM directive.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/112", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/112/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/112/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/112", "id": 222605269, "node_id": "MDU6SXNzdWUyMjI2MDUyNjk=", "number": 112, "title": "etcd3.client() support etcd cluster", "user": {"login": "davidstack", "id": 5036200, "node_id": "MDQ6VXNlcjUwMzYyMDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/5036200?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidstack", "html_url": "https://github.com/davidstack", "followers_url": "https://api.github.com/users/davidstack/followers", "following_url": "https://api.github.com/users/davidstack/following{/other_user}", "gists_url": "https://api.github.com/users/davidstack/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidstack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidstack/subscriptions", "organizations_url": "https://api.github.com/users/davidstack/orgs", "repos_url": "https://api.github.com/users/davidstack/repos", "events_url": "https://api.github.com/users/davidstack/events{/privacy}", "received_events_url": "https://api.github.com/users/davidstack/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 452972401, "node_id": "MDU6TGFiZWw0NTI5NzI0MDE=", "url": "https://api.github.com/repos/kragniz/python-etcd3/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-19T03:17:44Z", "updated_at": "2017-04-21T03:34:52Z", "closed_at": "2017-04-21T03:34:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "can i set etcd cluster address in etcd3.client(host=\"192.168.0.9,192.168.0.10\u201c)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/109", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/109/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/109/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/109", "id": 221914221, "node_id": "MDU6SXNzdWUyMjE5MTQyMjE=", "number": 109, "title": "Lock with leases", "user": {"login": "connor4312", "id": 2230985, "node_id": "MDQ6VXNlcjIyMzA5ODU=", "avatar_url": "https://avatars0.githubusercontent.com/u/2230985?v=4", "gravatar_id": "", "url": "https://api.github.com/users/connor4312", "html_url": "https://github.com/connor4312", "followers_url": "https://api.github.com/users/connor4312/followers", "following_url": "https://api.github.com/users/connor4312/following{/other_user}", "gists_url": "https://api.github.com/users/connor4312/gists{/gist_id}", "starred_url": "https://api.github.com/users/connor4312/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/connor4312/subscriptions", "organizations_url": "https://api.github.com/users/connor4312/orgs", "repos_url": "https://api.github.com/users/connor4312/repos", "events_url": "https://api.github.com/users/connor4312/events{/privacy}", "received_events_url": "https://api.github.com/users/connor4312/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-15T00:19:01Z", "updated_at": "2017-04-15T01:12:12Z", "closed_at": "2017-04-15T01:12:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I was browsing through this client while working on a version for Node.js. I noticed that your locking is implemented on a straight k/v without using a lease. I suggest you consider using a lease for this, so that if something happens to the server or application which makes the lock, the resource isn't abandoned indefinitely. The downside is that it's possible that a lock is 'lost' while a process thinks it has it, but the set of situations in which that can occur and cause issues is a strict subset of the situations (only one I can think of: a partial network partition) in which the lock would otherwise be held indefinitely.\r\n\r\nMy implementation and little more reasoning is here, if you're interested: https://github.com/WatchBeam/etcd3/pull/5", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/96", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/96/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/96/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/96", "id": 214652282, "node_id": "MDU6SXNzdWUyMTQ2NTIyODI=", "number": 96, "title": "Grpc exceptions wrapping doesn't work with generators", "user": {"login": "therve", "id": 159137, "node_id": "MDQ6VXNlcjE1OTEzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/therve", "html_url": "https://github.com/therve", "followers_url": "https://api.github.com/users/therve/followers", "following_url": "https://api.github.com/users/therve/following{/other_user}", "gists_url": "https://api.github.com/users/therve/gists{/gist_id}", "starred_url": "https://api.github.com/users/therve/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/therve/subscriptions", "organizations_url": "https://api.github.com/users/therve/orgs", "repos_url": "https://api.github.com/users/therve/repos", "events_url": "https://api.github.com/users/therve/events{/privacy}", "received_events_url": "https://api.github.com/users/therve/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-03-16T10:05:32Z", "updated_at": "2017-03-16T11:29:38Z", "closed_at": "2017-03-16T11:29:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "The _handle_errors generator ought to work with regular functions, but generators like get_prefix and get_all fails outside of the return. It should be handled specifically.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/93", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/93/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/93/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/93", "id": 212911645, "node_id": "MDU6SXNzdWUyMTI5MTE2NDU=", "number": 93, "title": "A few broken links in install docs", "user": {"login": "jaypipes", "id": 265023, "node_id": "MDQ6VXNlcjI2NTAyMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/265023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaypipes", "html_url": "https://github.com/jaypipes", "followers_url": "https://api.github.com/users/jaypipes/followers", "following_url": "https://api.github.com/users/jaypipes/following{/other_user}", "gists_url": "https://api.github.com/users/jaypipes/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaypipes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaypipes/subscriptions", "organizations_url": "https://api.github.com/users/jaypipes/orgs", "repos_url": "https://api.github.com/users/jaypipes/repos", "events_url": "https://api.github.com/users/jaypipes/events{/privacy}", "received_events_url": "https://api.github.com/users/jaypipes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-09T01:46:20Z", "updated_at": "2017-03-09T08:54:50Z", "closed_at": "2017-03-09T08:54:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Nothing major, just a few broken links in the install docs that mention github.com/kragniz/etcd3 instead of github.com/kragniz/python-etcd3.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/88", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/88/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/88/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/88", "id": 206558892, "node_id": "MDU6SXNzdWUyMDY1NTg4OTI=", "number": 88, "title": "Watch with no etcd up - Infinite loop", "user": {"login": "ChristopheDaSilva", "id": 6168472, "node_id": "MDQ6VXNlcjYxNjg0NzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/6168472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChristopheDaSilva", "html_url": "https://github.com/ChristopheDaSilva", "followers_url": "https://api.github.com/users/ChristopheDaSilva/followers", "following_url": "https://api.github.com/users/ChristopheDaSilva/following{/other_user}", "gists_url": "https://api.github.com/users/ChristopheDaSilva/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChristopheDaSilva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChristopheDaSilva/subscriptions", "organizations_url": "https://api.github.com/users/ChristopheDaSilva/orgs", "repos_url": "https://api.github.com/users/ChristopheDaSilva/repos", "events_url": "https://api.github.com/users/ChristopheDaSilva/events{/privacy}", "received_events_url": "https://api.github.com/users/ChristopheDaSilva/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-02-09T16:41:52Z", "updated_at": "2017-05-23T12:59:40Z", "closed_at": "2017-05-23T12:59:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nWhen we try, to add a watch but etcd is not running, there is no exception raise or status failed return.\r\n\r\nIn the next example, I try to connect the with the wrong port. No issue for client creation, but when I create my watch, etcd3 never return.\r\n\r\n```\r\n>>> import etcd3\r\n>>> c=etcd3.client(host='127.0.0.1', port='2378', timeout=3)\r\n>>> c.watch_once('1111')\r\n```\r\n\r\nIn the watch.py file (add_callback method), the watch queue is not receiving the watcher timeout.\r\n\r\nI think at this line:\r\n`return self._watch_id_queue.get()`\r\nshould send the timeout value:\r\n`return self._watch_id_queue.get(timeout=self.timeout)`\r\n\r\nIn this case, the add_callback can catch the Empty exception sent by queue.Queue.\r\n\r\nBest regards,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/76", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/76/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/76/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/76", "id": 199246542, "node_id": "MDU6SXNzdWUxOTkyNDY1NDI=", "number": 76, "title": "Docs show every method's args as *args, **kwargs", "user": {"login": "kragniz", "id": 735008, "node_id": "MDQ6VXNlcjczNTAwOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/735008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kragniz", "html_url": "https://github.com/kragniz", "followers_url": "https://api.github.com/users/kragniz/followers", "following_url": "https://api.github.com/users/kragniz/following{/other_user}", "gists_url": "https://api.github.com/users/kragniz/gists{/gist_id}", "starred_url": "https://api.github.com/users/kragniz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kragniz/subscriptions", "organizations_url": "https://api.github.com/users/kragniz/orgs", "repos_url": "https://api.github.com/users/kragniz/repos", "events_url": "https://api.github.com/users/kragniz/events{/privacy}", "received_events_url": "https://api.github.com/users/kragniz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-06T17:32:20Z", "updated_at": "2018-03-31T00:13:36Z", "closed_at": "2018-03-31T00:13:36Z", "author_association": "OWNER", "active_lock_reason": null, "body": "For some reason the docs are displaying method arguments as `(*args, **kwargs)`.\r\n\r\neg `get_prefix(*args, **kwargs)` instead of `get_prefix(self, key_prefix, sort_order=None, sort_target='key')`\r\n\r\nNot sure why this is happening, but it makes them really confusing so should be fixed.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/72", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/72/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/72/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/72", "id": 197359025, "node_id": "MDU6SXNzdWUxOTczNTkwMjU=", "number": 72, "title": "Wrap grpc exceptions", "user": {"login": "takac", "id": 1015381, "node_id": "MDQ6VXNlcjEwMTUzODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1015381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takac", "html_url": "https://github.com/takac", "followers_url": "https://api.github.com/users/takac/followers", "following_url": "https://api.github.com/users/takac/following{/other_user}", "gists_url": "https://api.github.com/users/takac/gists{/gist_id}", "starred_url": "https://api.github.com/users/takac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takac/subscriptions", "organizations_url": "https://api.github.com/users/takac/orgs", "repos_url": "https://api.github.com/users/takac/repos", "events_url": "https://api.github.com/users/takac/events{/privacy}", "received_events_url": "https://api.github.com/users/takac/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-12-23T12:05:46Z", "updated_at": "2017-01-04T10:39:51Z", "closed_at": "2017-01-04T10:39:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The client can throw out quite confusing grpc exceptions which could be neatly wrapped.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.5/site-packages/flask/app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/usr/local/lib/python3.5/site-packages/flask/app.py\", line 1614, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/usr/local/lib/python3.5/site-packages/flask/app.py\", line 1517, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/usr/local/lib/python3.5/site-packages/flask/_compat.py\", line 33, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.5/site-packages/flask/app.py\", line 1612, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/usr/local/lib/python3.5/site-packages/flask/app.py\", line 1598, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  ...\r\n  File \"/usr/local/lib/python3.5/site-packages/etcd3/client.py\", line 525, in add_member\r\n    self.timeout)\r\n  File \"/usr/local/lib/python3.5/site-packages/grpc/_channel.py\", line 481, in __call__\r\n    return _end_unary_response_blocking(state, False, deadline)\r\n  File \"/usr/local/lib/python3.5/site-packages/grpc/_channel.py\", line 432, in _end_unary_response_blocking\r\n    raise _Rendezvous(state, None, None, deadline)\r\n```\r\n\r\nDeadline exceeded is a non critical error I would like to catch:\r\n\r\n```python\r\nfor i in range(4):\r\n    try:\r\n        etcd.add_member([\"http://172.1.1.1:2380\"])\r\n        return True   \r\n    except DeadlineExceeded:\r\n        print(\"hit deadline\")\r\n     return False\r\n```\r\n\r\nAnother obvious one I have seen: StatusUnavailable\r\n\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.5/site-packages/etcd3/client.py\", line 564, in members\r\n    self.timeout)\r\n  File \"/usr/local/lib/python3.5/site-packages/grpc/_channel.py\", line 481, in __call__\r\n    return _end_unary_response_blocking(state, False, deadline)\r\n  File \"/usr/local/lib/python3.5/site-packages/grpc/_channel.py\", line 432, in _end_unary_response_blocking\r\n    raise _Rendezvous(state, None, None, deadline)\r\ngrpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNAVAILABLE, )>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/71", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/71/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/71/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/71", "id": 196880450, "node_id": "MDU6SXNzdWUxOTY4ODA0NTA=", "number": 71, "title": "Adding a callback to watch a prefix", "user": {"login": "yannlambret", "id": 3092811, "node_id": "MDQ6VXNlcjMwOTI4MTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3092811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yannlambret", "html_url": "https://github.com/yannlambret", "followers_url": "https://api.github.com/users/yannlambret/followers", "following_url": "https://api.github.com/users/yannlambret/following{/other_user}", "gists_url": "https://api.github.com/users/yannlambret/gists{/gist_id}", "starred_url": "https://api.github.com/users/yannlambret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yannlambret/subscriptions", "organizations_url": "https://api.github.com/users/yannlambret/orgs", "repos_url": "https://api.github.com/users/yannlambret/repos", "events_url": "https://api.github.com/users/yannlambret/events{/privacy}", "received_events_url": "https://api.github.com/users/yannlambret/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-21T09:08:55Z", "updated_at": "2017-05-30T10:14:35Z", "closed_at": "2016-12-21T19:57:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\r\n\r\nIt looks like there is currently no way to add a callback to watch a prefix. Client's `add_watch_callback` method works perfectly when watching a key, but the only way to watch a prefix is to do it in a blocking way as shown in the README:\r\n\r\n```python\r\nwatch_count = 0\r\nevents_iterator, cancel = etcd.watch_prefix(\"/doot/watch/prefix/\")\r\nfor event in events_iterator:\r\n    print(event)\r\n    watch_count += 1\r\n    if watch_count > 10:\r\n        cancel()\r\n```\r\nWhen doing this in a dedicated thread, the execution is blocked as long as the `events_iterator` generator does not yield any value, and I'm not able to interrupt the thread. Am I missing something,  or should there be an `add_watch_prefix_callback` dedicated method?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/56", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/56/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/56/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/56", "id": 193356617, "node_id": "MDU6SXNzdWUxOTMzNTY2MTc=", "number": 56, "title": "Get 'None' or a default value if key does not exist", "user": {"login": "yannlambret", "id": 3092811, "node_id": "MDQ6VXNlcjMwOTI4MTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/3092811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yannlambret", "html_url": "https://github.com/yannlambret", "followers_url": "https://api.github.com/users/yannlambret/followers", "following_url": "https://api.github.com/users/yannlambret/following{/other_user}", "gists_url": "https://api.github.com/users/yannlambret/gists{/gist_id}", "starred_url": "https://api.github.com/users/yannlambret/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yannlambret/subscriptions", "organizations_url": "https://api.github.com/users/yannlambret/orgs", "repos_url": "https://api.github.com/users/yannlambret/repos", "events_url": "https://api.github.com/users/yannlambret/events{/privacy}", "received_events_url": "https://api.github.com/users/yannlambret/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-12-04T15:24:33Z", "updated_at": "2017-01-04T10:40:29Z", "closed_at": "2017-01-04T10:40:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nThanks for working on this. I've just started using etcd v3 so maybe I'm missing something, but I find that the default behavior of the client's 'get' method when requesting a non-existing key is inappropriate. I think we should take advantage of a behavior similar to the Python dictionary, i.e. be able to get at least 'None' instead of catching an exception.\r\n\r\nThis is especially true when we want to test if a key already exist. Moreover, it would be more consistent with the 'etcdctl' CLI tool that does not display anything when a non-existing key is requested, an return a 0 exit code.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/31", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/31/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/31/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/31", "id": 184121731, "node_id": "MDU6SXNzdWUxODQxMjE3MzE=", "number": 31, "title": "ImportError: No module named etcdrpc", "user": {"login": "durzo", "id": 346775, "node_id": "MDQ6VXNlcjM0Njc3NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/346775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/durzo", "html_url": "https://github.com/durzo", "followers_url": "https://api.github.com/users/durzo/followers", "following_url": "https://api.github.com/users/durzo/following{/other_user}", "gists_url": "https://api.github.com/users/durzo/gists{/gist_id}", "starred_url": "https://api.github.com/users/durzo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/durzo/subscriptions", "organizations_url": "https://api.github.com/users/durzo/orgs", "repos_url": "https://api.github.com/users/durzo/repos", "events_url": "https://api.github.com/users/durzo/events{/privacy}", "received_events_url": "https://api.github.com/users/durzo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-10-20T02:40:52Z", "updated_at": "2016-10-20T13:23:56Z", "closed_at": "2016-10-20T13:23:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Firstly, thanks for taking the time to make this module. lots of people have been waiting for a v3 implementation.\n\nUsing Ubuntu 12.04 LTS with python 2.7.6 and pip 1.5.4. After installing via `pip install etcd3` and getting many, many warning messages (but successful installation):\n\n```\n$ cat test3.py\n#!/usr/bin/python\n\nimport etcd3\nconn = etcd3.client(host='127.0.0.1')\nconn.get('/test')\n\n$ ./test3.py\nTraceback (most recent call last):\n  File \"./test3.py\", line 3, in <module>\n    import etcd3\n  File \"/usr/local/lib/python2.7/dist-packages/etcd3/__init__.py\", line 3, in <module>\n    from etcd3.client import Etcd3Client\n  File \"/usr/local/lib/python2.7/dist-packages/etcd3/client.py\", line 5, in <module>\n    import etcd3.transactions as transactions\n  File \"/usr/local/lib/python2.7/dist-packages/etcd3/transactions.py\", line 1, in <module>\n    from etcd3.etcdrpc import rpc_pb2 as etcdrpc\nImportError: No module named etcdrpc\n\n$ ls /usr/local/lib/python2.7/dist-packages/etcd3\nclient.py  client.pyc  exceptions.py  exceptions.pyc  __init__.py  __init__.pyc  members.py  members.pyc  transactions.py  transactions.pyc  utils.py  utils.pyc\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/15", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/15/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/15/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/15", "id": 182268127, "node_id": "MDU6SXNzdWUxODIyNjgxMjc=", "number": 15, "title": "Travis CI py27 and py34 tests both use Python 3.5", "user": {"login": "takac", "id": 1015381, "node_id": "MDQ6VXNlcjEwMTUzODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1015381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/takac", "html_url": "https://github.com/takac", "followers_url": "https://api.github.com/users/takac/followers", "following_url": "https://api.github.com/users/takac/following{/other_user}", "gists_url": "https://api.github.com/users/takac/gists{/gist_id}", "starred_url": "https://api.github.com/users/takac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/takac/subscriptions", "organizations_url": "https://api.github.com/users/takac/orgs", "repos_url": "https://api.github.com/users/takac/repos", "events_url": "https://api.github.com/users/takac/events{/privacy}", "received_events_url": "https://api.github.com/users/takac/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-10-11T13:46:12Z", "updated_at": "2016-10-11T14:01:56Z", "closed_at": "2016-10-11T14:01:56Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` json\n{\n  \"language\": \"python\",\n  \"python\": 3.5,\n  \"env\": \"TOXENV=py27\",\n...\n}\n```\n\nTests are only running against python 3.5.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1", "repository_url": "https://api.github.com/repos/kragniz/python-etcd3", "labels_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1/comments", "events_url": "https://api.github.com/repos/kragniz/python-etcd3/issues/1/events", "html_url": "https://github.com/kragniz/python-etcd3/issues/1", "id": 180540836, "node_id": "MDU6SXNzdWUxODA1NDA4MzY=", "number": 1, "title": "Initial Update", "user": {"login": "pyup-bot", "id": 16239342, "node_id": "MDQ6VXNlcjE2MjM5MzQy", "avatar_url": "https://avatars0.githubusercontent.com/u/16239342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pyup-bot", "html_url": "https://github.com/pyup-bot", "followers_url": "https://api.github.com/users/pyup-bot/followers", "following_url": "https://api.github.com/users/pyup-bot/following{/other_user}", "gists_url": "https://api.github.com/users/pyup-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/pyup-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pyup-bot/subscriptions", "organizations_url": "https://api.github.com/users/pyup-bot/orgs", "repos_url": "https://api.github.com/users/pyup-bot/repos", "events_url": "https://api.github.com/users/pyup-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/pyup-bot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-10-02T22:50:00Z", "updated_at": "2016-10-02T22:53:03Z", "closed_at": "2016-10-02T22:53:03Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "Hi \ud83d\udc4a\n\nThis is my first visit to this fine repo, but it seems you have been working hard to keep all dependencies updated so far.\n\nOnce you have closed this issue, I'll create seperate pull requests for every update as soon as I find one.\n\nThat's it for now!\n\nHappy merging! \ud83e\udd16\n", "performed_via_github_app": null, "score": 1.0}]}