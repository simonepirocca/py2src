{"total_count": 35, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/55", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/55/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/55/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/55", "id": 634537856, "node_id": "MDU6SXNzdWU2MzQ1Mzc4NTY=", "number": 55, "title": "Send mouse and keyboard inputs", "user": {"login": "Karol-G", "id": 3471895, "node_id": "MDQ6VXNlcjM0NzE4OTU=", "avatar_url": "https://avatars0.githubusercontent.com/u/3471895?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Karol-G", "html_url": "https://github.com/Karol-G", "followers_url": "https://api.github.com/users/Karol-G/followers", "following_url": "https://api.github.com/users/Karol-G/following{/other_user}", "gists_url": "https://api.github.com/users/Karol-G/gists{/gist_id}", "starred_url": "https://api.github.com/users/Karol-G/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Karol-G/subscriptions", "organizations_url": "https://api.github.com/users/Karol-G/orgs", "repos_url": "https://api.github.com/users/Karol-G/repos", "events_url": "https://api.github.com/users/Karol-G/events{/privacy}", "received_events_url": "https://api.github.com/users/Karol-G/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-08T11:44:53Z", "updated_at": "2020-06-08T12:06:04Z", "closed_at": "2020-06-08T12:06:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI want to automate a little program. However when using PyAutoGui for sending key strokes and moving/clicking with the mouse the actions happen on my real display and not the virtual one. How can I achieve that these events are executed inside the virtual display?\r\nI tried vncdotool already, however the application seems to be not really supported/working anymore :(\r\n\r\nBest\r\nKarol", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/54", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/54/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/54/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/54", "id": 633434412, "node_id": "MDU6SXNzdWU2MzM0MzQ0MTI=", "number": 54, "title": "How to take screen number?", "user": {"login": "ymd-h", "id": 3405876, "node_id": "MDQ6VXNlcjM0MDU4NzY=", "avatar_url": "https://avatars3.githubusercontent.com/u/3405876?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ymd-h", "html_url": "https://github.com/ymd-h", "followers_url": "https://api.github.com/users/ymd-h/followers", "following_url": "https://api.github.com/users/ymd-h/following{/other_user}", "gists_url": "https://api.github.com/users/ymd-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/ymd-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ymd-h/subscriptions", "organizations_url": "https://api.github.com/users/ymd-h/orgs", "repos_url": "https://api.github.com/users/ymd-h/repos", "events_url": "https://api.github.com/users/ymd-h/events{/privacy}", "received_events_url": "https://api.github.com/users/ymd-h/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-07T13:53:22Z", "updated_at": "2020-06-14T12:06:41Z", "closed_at": "2020-06-14T12:06:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thank you for your useful package.\r\n\r\nI uses PyVirtualDisplay to visualize reinforcement learning environment ([OpenAI Gym](https://gym.openai.com/)) on Google Corab, so that I need display number and screen number to set `os.environ[\"DISPLAY\"] = f\":{display}.{screen}\"`\r\n\r\n- Until version 0.2.5, screen number was `Display.screen`\r\n- From version 1.0 to version 1.3, screen number was `Display._obj.screen`\r\n- From version 1.3.1, screen number is `Display._obj._screen`\r\n\r\nAre there any stable method to take screen number?\r\n(or is it guaranteed that the screen number is always 0?)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/52", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/52/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/52/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/52", "id": 627363881, "node_id": "MDU6SXNzdWU2MjczNjM4ODE=", "number": 52, "title": "API to pass custom arguments to the underlying X server?", "user": {"login": "The-Compiler", "id": 625793, "node_id": "MDQ6VXNlcjYyNTc5Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/625793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/The-Compiler", "html_url": "https://github.com/The-Compiler", "followers_url": "https://api.github.com/users/The-Compiler/followers", "following_url": "https://api.github.com/users/The-Compiler/following{/other_user}", "gists_url": "https://api.github.com/users/The-Compiler/gists{/gist_id}", "starred_url": "https://api.github.com/users/The-Compiler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/The-Compiler/subscriptions", "organizations_url": "https://api.github.com/users/The-Compiler/orgs", "repos_url": "https://api.github.com/users/The-Compiler/repos", "events_url": "https://api.github.com/users/The-Compiler/events{/privacy}", "received_events_url": "https://api.github.com/users/The-Compiler/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-29T15:47:58Z", "updated_at": "2020-06-01T15:26:50Z", "closed_at": "2020-06-01T15:26:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using PyVirtualDisplay in my [pytest-xvfb](https://github.com/The-Compiler/pytest-xvfb) project, and so far that has worked rather well.\r\n\r\npytest-xvfb allows users to pass custom arguments to the underlying Xvfb. It did this by doing the following before the v1.0 release:\r\n\r\n```python\r\ndisp.args.extend(...)\r\n```\r\n\r\nWith v1.0, due to 20f6838e3870d11b75c8e30b08d225c1c640db96, this stopped working. Instead, this seems to work, and is what I thought was a public API (given that it's `proc` and not `_proc`):\r\n\r\n```python\r\ndisp.proc.args.extend(...)\r\n```\r\n\r\nBut with v1.1, this seems to break again, due to 0aed78349f7bf7ca9b05d2b89f1a66eedf6c9397 (which seems to switch to plain `subprocess` instead of using `EasyProcess`)?\r\n\r\nSo now I can't see any possibility to pass custom args anymore... Wasn't 0aed78349f7bf7ca9b05d2b89f1a66eedf6c9397 a public API break? If that's not supported anymore, would it be possible to add something like an `extra_args` argument to `Display` or `Display.start()`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/51", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/51/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/51/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/51", "id": 627277925, "node_id": "MDU6SXNzdWU2MjcyNzc5MjU=", "number": 51, "title": "Versions 1.1 causes error with pytest_xvfb", "user": {"login": "djhoese", "id": 1828519, "node_id": "MDQ6VXNlcjE4Mjg1MTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1828519?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djhoese", "html_url": "https://github.com/djhoese", "followers_url": "https://api.github.com/users/djhoese/followers", "following_url": "https://api.github.com/users/djhoese/following{/other_user}", "gists_url": "https://api.github.com/users/djhoese/gists{/gist_id}", "starred_url": "https://api.github.com/users/djhoese/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djhoese/subscriptions", "organizations_url": "https://api.github.com/users/djhoese/orgs", "repos_url": "https://api.github.com/users/djhoese/repos", "events_url": "https://api.github.com/users/djhoese/events{/privacy}", "received_events_url": "https://api.github.com/users/djhoese/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-29T13:42:28Z", "updated_at": "2020-05-29T14:36:43Z", "closed_at": "2020-05-29T14:36:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "This might be an incompatibility between pytest_xvfb and pyvirtualdisplay 1.0+, but my travis CI jobs have started failing with the below exception. The full travis log is [here](https://travis-ci.org/github/ssec/sift/jobs/692426751).\r\n\r\n```\r\n  File \"/home/travis/miniconda/envs/test/lib/python3.7/site-packages/pluggy/callers.py\", line 187, in _multicall\r\n    res = hook_impl.function(*args)\r\n  File \"/home/travis/miniconda/envs/test/lib/python3.7/site-packages/pytest_xvfb.py\", line 99, in pytest_unconfigure\r\n    config.xvfb.stop()\r\n  File \"/home/travis/miniconda/envs/test/lib/python3.7/site-packages/pytest_xvfb.py\", line 61, in stop\r\n    self._virtual_display.stop()\r\n  File \"/home/travis/miniconda/envs/test/lib/python3.7/site-packages/pyvirtualdisplay/display.py\", line 76, in stop\r\n    self._obj.stop()\r\n  File \"/home/travis/miniconda/envs/test/lib/python3.7/site-packages/pyvirtualdisplay/abstractdisplay.py\", line 313, in stop\r\n    raise XStartError(\"stop() is called before start().\")\r\npyvirtualdisplay.abstractdisplay.XStartError: stop() is called before start().\r\n```\r\n\r\nFor now I can probably limit the version of pyvirtualdisplay, but wanted to check this was expected.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/49", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/49/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/49/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/49", "id": 622151763, "node_id": "MDU6SXNzdWU2MjIxNTE3NjM=", "number": 49, "title": "TypeError: __init__() got an unexpected keyword argument 'url'", "user": {"login": "LarryMartell", "id": 1308192, "node_id": "MDQ6VXNlcjEzMDgxOTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1308192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LarryMartell", "html_url": "https://github.com/LarryMartell", "followers_url": "https://api.github.com/users/LarryMartell/followers", "following_url": "https://api.github.com/users/LarryMartell/following{/other_user}", "gists_url": "https://api.github.com/users/LarryMartell/gists{/gist_id}", "starred_url": "https://api.github.com/users/LarryMartell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LarryMartell/subscriptions", "organizations_url": "https://api.github.com/users/LarryMartell/orgs", "repos_url": "https://api.github.com/users/LarryMartell/repos", "events_url": "https://api.github.com/users/LarryMartell/events{/privacy}", "received_events_url": "https://api.github.com/users/LarryMartell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-20T23:45:43Z", "updated_at": "2020-05-21T21:17:39Z", "closed_at": "2020-05-21T21:17:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have some code that uses the pyvirtualdisplay package and it works fine.\r\n\r\npyvirtualdisplay.Display calls EasyProcess like this:\r\n\r\n```\r\n       @classmethod\r\n       def check_installed(cls):\r\n           EasyProcess([PROGRAM, '-help'], url=URL,\r\n                       ubuntu_package=PACKAGE).check_installed()\r\n\r\n```\r\nI made a branch and made some changes. In the branch, when I\r\ninstantiate Display and it gets to this point it fails with:\r\n\r\n> TypeError: __init__() got an unexpected keyword argument 'url'\r\n\r\n\r\nThere are no changes in my branch related to using Display. What's\r\nvery odd is that the __init__() function for EasyProcess has this\r\nsignature, and the call to it from Display is the same in my master\r\nbranch and it works:\r\n\r\n```\r\n    def __init__(\r\n        self, cmd, cwd=None, use_temp_files=True, env=None,\r\n    ):\r\n\r\n```\r\nSo that url param must be getting passed to something else.\r\n\r\nI did some googling and found a post on SO where someone was having\r\nthe same issue, and the answer was that they overrode the EasyProcess\r\n__init__ with their own init. If I am doing that I have no clue how\r\nthat could be. I did inspect EasyProcess just before the call and it\r\nwas the correct code.\r\n\r\nHere is the end of the stack trace:\r\n\r\n```\r\n-> display = Display(visible=0, size=(800, 600))\r\n> /usr/local/lib/python3.7/site-packages/pyvirtualdisplay/display.py(33)__init__()\r\n-> self._obj = self.display_class(\r\n  /usr/local/lib/python3.7/site-packages/pyvirtualdisplay/display.py(51)display_class()\r\n-> cls.check_installed()\r\n  /usr/local/lib/python3.7/site-packages/pyvirtualdisplay/xvfb.py(38)check_installed()\r\n-> ubuntu_package=PACKAGE).check_installed()\r\n\r\n\r\n```\r\n\r\nAnyone have any thoughts on what could be causing this or how I can\r\ndebug it further?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/46", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/46/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/46/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/46", "id": 613265601, "node_id": "MDU6SXNzdWU2MTMyNjU2MDE=", "number": 46, "title": "https://pyvirtualdisplay.readthedocs.io returns 404", "user": {"login": "xtuc", "id": 1493671, "node_id": "MDQ6VXNlcjE0OTM2NzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1493671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xtuc", "html_url": "https://github.com/xtuc", "followers_url": "https://api.github.com/users/xtuc/followers", "following_url": "https://api.github.com/users/xtuc/following{/other_user}", "gists_url": "https://api.github.com/users/xtuc/gists{/gist_id}", "starred_url": "https://api.github.com/users/xtuc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xtuc/subscriptions", "organizations_url": "https://api.github.com/users/xtuc/orgs", "repos_url": "https://api.github.com/users/xtuc/repos", "events_url": "https://api.github.com/users/xtuc/events{/privacy}", "received_events_url": "https://api.github.com/users/xtuc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-06T12:01:12Z", "updated_at": "2020-05-28T05:46:00Z", "closed_at": "2020-05-28T05:46:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "It looks like the documentation linked in pip and the README here: https://pyvirtualdisplay.readthedocs.io/ doesn't exist anymore.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/44", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/44/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/44/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/44", "id": 557106677, "node_id": "MDU6SXNzdWU1NTcxMDY2Nzc=", "number": 44, "title": "-resizeable option not on version of Xephyr bundled with xquartz 2.7.11", "user": {"login": "caccavale", "id": 6198074, "node_id": "MDQ6VXNlcjYxOTgwNzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/6198074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caccavale", "html_url": "https://github.com/caccavale", "followers_url": "https://api.github.com/users/caccavale/followers", "following_url": "https://api.github.com/users/caccavale/following{/other_user}", "gists_url": "https://api.github.com/users/caccavale/gists{/gist_id}", "starred_url": "https://api.github.com/users/caccavale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caccavale/subscriptions", "organizations_url": "https://api.github.com/users/caccavale/orgs", "repos_url": "https://api.github.com/users/caccavale/repos", "events_url": "https://api.github.com/users/caccavale/events{/privacy}", "received_events_url": "https://api.github.com/users/caccavale/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-29T20:47:49Z", "updated_at": "2020-02-06T20:42:27Z", "closed_at": "2020-02-06T20:42:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "There are a couple options which don't exist for this version of xephyr/x/(etc) and break the library on MacOS Catalina.  Notably, `-resizeable` and `-displayfd`.  The latter is not an issue as long as `check_startup` is not passed to `Display(...)`. \r\n\r\nIf you'd be willing to accept it I can PR a fix which allows `Display(..., resizeable=False)` and provides some better output for mac users (I kicked myself when I realized trying to debug with `check_startup` was the issue I was trying to debug).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/43", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/43/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/43/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/43", "id": 556909800, "node_id": "MDU6SXNzdWU1NTY5MDk4MDA=", "number": 43, "title": "Is anyone else having problems with maximizing windows?", "user": {"login": "sfantu", "id": 1675098, "node_id": "MDQ6VXNlcjE2NzUwOTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1675098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfantu", "html_url": "https://github.com/sfantu", "followers_url": "https://api.github.com/users/sfantu/followers", "following_url": "https://api.github.com/users/sfantu/following{/other_user}", "gists_url": "https://api.github.com/users/sfantu/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfantu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfantu/subscriptions", "organizations_url": "https://api.github.com/users/sfantu/orgs", "repos_url": "https://api.github.com/users/sfantu/repos", "events_url": "https://api.github.com/users/sfantu/events{/privacy}", "received_events_url": "https://api.github.com/users/sfantu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-29T14:46:23Z", "updated_at": "2020-03-04T22:07:16Z", "closed_at": "2020-03-04T22:07:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/42", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/42/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/42/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/42", "id": 545612226, "node_id": "MDU6SXNzdWU1NDU2MTIyMjY=", "number": 42, "title": "I have the problem with PyVirtualDisplay==0.2.5 package for running tests with usage of virtual displays (headless mode)", "user": {"login": "ratmirasanov", "id": 24833489, "node_id": "MDQ6VXNlcjI0ODMzNDg5", "avatar_url": "https://avatars0.githubusercontent.com/u/24833489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ratmirasanov", "html_url": "https://github.com/ratmirasanov", "followers_url": "https://api.github.com/users/ratmirasanov/followers", "following_url": "https://api.github.com/users/ratmirasanov/following{/other_user}", "gists_url": "https://api.github.com/users/ratmirasanov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ratmirasanov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ratmirasanov/subscriptions", "organizations_url": "https://api.github.com/users/ratmirasanov/orgs", "repos_url": "https://api.github.com/users/ratmirasanov/repos", "events_url": "https://api.github.com/users/ratmirasanov/events{/privacy}", "received_events_url": "https://api.github.com/users/ratmirasanov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-01-06T08:50:47Z", "updated_at": "2020-04-23T07:36:34Z", "closed_at": "2020-02-01T12:24:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "My tests are working and running as expected with PyVirtualDisplay==0.2.1, but I have a problem with the latest version of this package (for example, PyVirtualDisplay==0.2.5).\r\n\r\nMy code snippet:\r\n```\r\n...\r\ndef _set_up(self):\r\n\r\n    # Creation of instance of the browser.\r\n    self.display = Display(visible=0, size=(config.WIDTH, config.HEIGHT))\r\n    self.display.start()\r\n    desired = self.get_desired_capabilities(config.BROWSER)\r\n    self.driver = webdriver.Remote(command_executor=config.ACTIVE_NODE, desired_capabilities=desired)\r\n    # Maximize window size.\r\n    self.driver.set_window_size(config.WIDTH, config.HEIGHT)\r\n...\r\n```\r\n\r\nError message:\r\n\r\n> Error Traceback (most recent call last): File \"/usr/local/Cellar/python/3.7.6/Frameworks/Python.framework/Versions/3.7/lib/python3.7/unittest/case.py\", line 59, in testPartExecutor yield File \"/usr/local/Cellar/python/3.7.6/Frameworks/Python.framework/Versions/3.7/lib/python3.7/unittest/case.py\", line 624, in run self.setUp() File \"/Users/ratmirasanov/Documents/testing/welcome_widget/test_welcome_widget.py\", line 24, in setUp self._set_up() File \"/Users/ratmirasanov/Documents/testing/utilities.py\", line 41, in _set_up self.display.start() File \"/Users/ratmirasanov/Documents/testing/venv/lib/python3.7/site-packages/pyvirtualdisplay/abstractdisplay.py\", line 171, in start raise XStartTimeoutError(msg % d) pyvirtualdisplay.abstractdisplay.XStartTimeoutError: Failed to start X on display \":1001\" (xdpyinfo check failed).\r\n\r\nI did not find any working solution to fix this problem. Any help will be appreciated. Thanks.\r\n\r\nUPD: The `PyVirtualDisplay==0.2.5` package is working as expected on Ubuntu 18.04.3 LTS.\r\n\r\nWhere is located the xdpyindo program: `/usr/bin/xdpyinfo`.\r\n\r\nThe problem is on my Mac (macOS Catalina 10.15.2) with XQuartz (https://www.xquartz.org/index.html) installed (xdpyindo program is located in `/opt/X11/bin/xdpyinfo` folder).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/40", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/40/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/40/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/40", "id": 456077206, "node_id": "MDU6SXNzdWU0NTYwNzcyMDY=", "number": 40, "title": "0.2.3 broken on Windows", "user": {"login": "surfaceowl", "id": 22673372, "node_id": "MDQ6VXNlcjIyNjczMzcy", "avatar_url": "https://avatars2.githubusercontent.com/u/22673372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/surfaceowl", "html_url": "https://github.com/surfaceowl", "followers_url": "https://api.github.com/users/surfaceowl/followers", "following_url": "https://api.github.com/users/surfaceowl/following{/other_user}", "gists_url": "https://api.github.com/users/surfaceowl/gists{/gist_id}", "starred_url": "https://api.github.com/users/surfaceowl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/surfaceowl/subscriptions", "organizations_url": "https://api.github.com/users/surfaceowl/orgs", "repos_url": "https://api.github.com/users/surfaceowl/repos", "events_url": "https://api.github.com/users/surfaceowl/events{/privacy}", "received_events_url": "https://api.github.com/users/surfaceowl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-06-14T06:11:55Z", "updated_at": "2019-07-01T08:10:53Z", "closed_at": "2019-07-01T08:10:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "PyVirtualDisplay is no longer working on Windows after [PR #35](https://github.com/ponty/PyVirtualDisplay/pull/35).  We do selenium testing in both Linux and Windows. Everything works great with PyVirtualDisplay v0.21, but fails with timeouts when we use v0.2.3.\r\n\r\n Per [the PyVirtualDisplay listing on pypi](https://pypi.org/project/PyVirtualDisplay/#history), it is an OS Independent library... so we need to change this useful check on the X Server so PyVirtualDisplay still words cross-platform.\r\n\r\n[This PR added a check](https://github.com/ponty/PyVirtualDisplay/blame/5ae6aeb48be7618822b641568c3cbd455542cf9f/pyvirtualdisplay/abstractdisplay.py) to make sure the X Server used is solely used by PyVirtualDisplay to avoid a race condition.  This is a helpful change.  Unfortunately, the OS library used was `fcntl`, which is only available on Unix/Linux , and that **breaks cross-platform ability** of PyVirtualDisplay >0.2.1.  \r\n\r\n**_Short term,_** in `abstractdisplay.py` we could change line 46 with functionality to only do this check if NOT on a windows machine.  \r\n**current code:**  \r\n```\r\nif self.check_startup:\r\n....do stuff\r\n```\r\n<br>\r\n\r\n**Sample code:**\r\n```\r\nimport platform\r\nself.check_startup and platform.system() != \"Windows\":\r\n....do stuff\r\nelse:\r\n....pass\r\n```\r\n\r\n**_Long Term -_**  Could `fcntl` be replaced with a cross-platform library called`portalocker`?  This adds a python dependency but is fully cross-platform  Links on [pypi ](https://pypi.org/project/portalocker/)and [github](https://github.com/WoLpH/portalocker).  \r\n\r\nI'm not familiar with the details of PyVirtualDisplay, but would be glad to help draft a fix and do regression testing on both Windows and Linux.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/38", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/38/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/38/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/38", "id": 448576053, "node_id": "MDU6SXNzdWU0NDg1NzYwNTM=", "number": 38, "title": "DPI spec support", "user": {"login": "swills", "id": 863202, "node_id": "MDQ6VXNlcjg2MzIwMg==", "avatar_url": "https://avatars3.githubusercontent.com/u/863202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swills", "html_url": "https://github.com/swills", "followers_url": "https://api.github.com/users/swills/followers", "following_url": "https://api.github.com/users/swills/following{/other_user}", "gists_url": "https://api.github.com/users/swills/gists{/gist_id}", "starred_url": "https://api.github.com/users/swills/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swills/subscriptions", "organizations_url": "https://api.github.com/users/swills/orgs", "repos_url": "https://api.github.com/users/swills/repos", "events_url": "https://api.github.com/users/swills/events{/privacy}", "received_events_url": "https://api.github.com/users/swills/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-26T15:03:57Z", "updated_at": "2019-05-27T01:18:03Z", "closed_at": "2019-05-26T19:12:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "In addition to specifying the display height and width, I need to specify the display dpi, to Xvfb, via the -dpi flag. The default value of 100 dpi in Xvfb doesn't match my physical display of 96.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/37", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/37/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/37/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/37", "id": 447966003, "node_id": "MDU6SXNzdWU0NDc5NjYwMDM=", "number": 37, "title": "Please release a new stable version.", "user": {"login": "leycec", "id": 217028, "node_id": "MDQ6VXNlcjIxNzAyOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/217028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/leycec", "html_url": "https://github.com/leycec", "followers_url": "https://api.github.com/users/leycec/followers", "following_url": "https://api.github.com/users/leycec/following{/other_user}", "gists_url": "https://api.github.com/users/leycec/gists{/gist_id}", "starred_url": "https://api.github.com/users/leycec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/leycec/subscriptions", "organizations_url": "https://api.github.com/users/leycec/orgs", "repos_url": "https://api.github.com/users/leycec/repos", "events_url": "https://api.github.com/users/leycec/events{/privacy}", "received_events_url": "https://api.github.com/users/leycec/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-24T03:45:11Z", "updated_at": "2019-05-29T02:59:44Z", "closed_at": "2019-05-29T02:59:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "PyVirtualDisplay appears to have entered its senescent phase.\r\n\r\nThis is perfectly normal, of course. Even the most prolific software projects inevitably decline and dwindle into that good twilight world of historical obscurity.\r\n\r\n## That is Not Dead Which Can Eternal Lie\r\n\r\nIn this case, however, PyVirtualDisplay *is* still widely used elsewhere \u2013 including as a mandatory dependency of [InstaPy](https://github.com/timgrossmann/InstaPy), [SeleniumBase](https://github.com/seleniumbase/SeleniumBase), and [pytest-xvfb](https://github.com/The-Compiler/pytest-xvfb). If PyVirtualDisplay summarily dies, all downstream packages either die as well *or* are required to significantly refactor their integration and support for X.\r\n\r\nNeither of these two alternatives are ideal. In fact, both plainly suck.\r\n\r\n## The Midnight Hour is Close at Hand\r\n\r\nIt's to the benefit of all involved that we keep PyVirtualDisplay alive as long as possible. The last stable release was [two-and-a-half years ago](https://github.com/ponty/PyVirtualDisplay/releases) and fails to explicitly support Python >= 3.6. That's... *not so good.*\r\n\r\nIf you no longer have the time or inclination to maintain PyVirtualDisplay, @ponty, that's perfectly understandable. In the interest of avoiding a community-driven fork, would granting repository push access to a proven community member (e.g., @Elias481) be feasible? If not, would temporarily resuscitating PyVirtualDisplay yourself for one final stable release be feasible?\r\n\r\n## But Wait... There's More!\r\n\r\nSadly, releasing a new PyVirtualDisplay version is probably the least of the pending work that needs doing. Fun unpaid chores also include:\r\n\r\n* Explicitly testing and supporting **Python 3.7.**\r\n* Either merging *or* closing [all open pull requests](https://github.com/ponty/PyVirtualDisplay/pulls) \u2013 all of which seem fairly useful and constructive.\r\n* At least commenting on [all open issues](https://github.com/ponty/PyVirtualDisplay/issues), some of which are over three years old. Ideally, issues that are *not* realistically resolvable should simply be closed.\r\n\r\n## All that Begins Ends, Too\r\n\r\nAnd... I'm done now.\r\n\r\nThanks for the many intrepid years of open-source volunteerism, @ponty. Whichever way you and PyVirtualDisplay elect to go, at least we'll always have version 0.2.1 and our shared memories of stabler, faster, and better supported days.\r\n\r\nPineapple express emoji for all! :pineapple: :train: ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/34", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/34/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/34/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/34", "id": 370448362, "node_id": "MDU6SXNzdWUzNzA0NDgzNjI=", "number": 34, "title": "pyvirtualdisplay + nginx + flask + uwsgi doesn't find Xvfb in PATH", "user": {"login": "Longbowman", "id": 4450907, "node_id": "MDQ6VXNlcjQ0NTA5MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4450907?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Longbowman", "html_url": "https://github.com/Longbowman", "followers_url": "https://api.github.com/users/Longbowman/followers", "following_url": "https://api.github.com/users/Longbowman/following{/other_user}", "gists_url": "https://api.github.com/users/Longbowman/gists{/gist_id}", "starred_url": "https://api.github.com/users/Longbowman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Longbowman/subscriptions", "organizations_url": "https://api.github.com/users/Longbowman/orgs", "repos_url": "https://api.github.com/users/Longbowman/repos", "events_url": "https://api.github.com/users/Longbowman/events{/privacy}", "received_events_url": "https://api.github.com/users/Longbowman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-16T05:45:53Z", "updated_at": "2018-10-16T22:45:31Z", "closed_at": "2018-10-16T22:45:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "pyvirtualdisplay + nginx + flask + uwsgi doesn't find Xvfb in PATH although it works fine without uwsgi. \r\nalso code works fine without pyvirtualdisplay \r\n\r\nhere is the code \r\n\r\n```\r\ndisplay = Display(visible=False,size=(int(width), int(height)))  \r\ndisplay.start()\r\n \r\n \r\n \r\n \r\ncapability = webdriver.DesiredCapabilities.FIREFOX\r\ncapability['handleAlerts'] = True\r\ncapability['acceptSslCerts'] = True\r\ncapability['acceptInsecureCerts'] = True\r\ncapability['javascriptEnabled'] = True\r\ncapability['marionette'] = True\r\n \r\ncapability['locationContextEnabled'] = False\r\ncapability['applicationCacheEnabled'] = False\r\ncapability['browserConnectionEnabled'] = False\r\ncapability['databaseEnabled'] = False\r\n \r\nprofile = FirefoxProfile()\r\n#profile.set_preference(\"browser.privatebrowsing.autostart\", True)\r\nprofile.set_preference(\"general.useragent.override\",useragent)\r\nprofile.set_preference(\"network.proxy.socks_port\",PORT)\r\nprofile.set_preference(\"network.proxy.socks\",PROXY)\r\nprofile.set_preference(\"network.proxy.type\",1)\r\nprofile.set_preference(\"network.proxy.http\",PROXY)\r\nprofile.set_preference(\"network.proxy.http_port\",PORT)\r\nprofile.set_preference(\"network.proxy.ssl_port\",PORT)\r\nprofile.set_preference(\"network.proxy.ssl\",PROXY)\r\n \r\nprofile.set_preference(\"intl.accept_languages\", \"en-GB, en\")\r\nprofile.set_preference(\"browser.search.countryCode\", \"GB\")\r\n \r\nprofile.set_preference(\"geo.enabled\", False)\r\n \r\nops = Options()  \r\nops.log.level=\"error\"\r\nbinary = FirefoxBinary(firefox_path = 'firefoxpath')\r\ndriver = webdriver.Firefox(firefox_binary=binary, firefox_options = ops,executable_path='/usr/local/bin/geckodriver', capabilities = capability, firefox_profile = profile)\r\n\r\n################################\r\ndo something\r\n################################\r\n \r\ndriver.stop()\r\n```\r\n\r\nhere is an error what we have \r\n\r\n```\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"/home/ubuntu/anaconda3/envs/flaskappenv/lib/python3.7/site-p\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     response = self.full_dispatch_request()\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"/home/ubuntu/anaconda3/envs/flaskappenv/lib/python3.7/site-p\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     rv = self.handle_user_exception(e)\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"/home/ubuntu/anaconda3/envs/flaskappenv/lib/python3.7/site-p\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     reraise(exc_type, exc_value, tb)\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"/home/ubuntu/anaconda3/envs/flaskappenv/lib/python3.7/site-p\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     raise value\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"/home/ubuntu/anaconda3/envs/flaskappenv/lib/python3.7/site-p\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     rv = self.dispatch_request()\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"/home/ubuntu/anaconda3/envs/flaskappenv/lib/python3.7/site-p\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     return self.view_functions[rule.endpoint](**req.view_args)\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"./flaskapp.py\", line 315, in hello\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     findcanvas(screenjson)\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"./flaskapp.py\", line 77, in findcanvas\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     display = Display(visible=False,size=(int(width), int(height)))\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"/home/ubuntu/anaconda3/envs/flaskappenv/lib/python3.7/site-p\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     self._obj = self.display_class(\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"/home/ubuntu/anaconda3/envs/flaskappenv/lib/python3.7/site-p\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     cls.check_installed()\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"/home/ubuntu/anaconda3/envs/flaskappenv/lib/python3.7/site-p\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     ubuntu_package=PACKAGE).check_installed()\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:   File \"/home/ubuntu/anaconda3/envs/flaskappenv/lib/python3.7/site-p\r\nOct 16 05:06:29 instance-3 uwsgi[5588]:     raise EasyProcessCheckInstalledError(self)\r\nOct 16 05:06:29 instance-3 uwsgi[5588]: easyprocess.EasyProcessCheckInstalledError: cmd=['Xvfb', '-help']\r\nOct 16 05:06:29 instance-3 uwsgi[5588]: OSError=[Errno 2] No such file or directory: 'Xvfb': 'Xvfb'\r\nOct 16 05:06:29 instance-3 uwsgi[5588]: Program install error!\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/33", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/33/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/33/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/33", "id": 349766511, "node_id": "MDU6SXNzdWUzNDk3NjY1MTE=", "number": 33, "title": "Check the display successfully starts before returning (2)", "user": {"login": "Elias481", "id": 38512369, "node_id": "MDQ6VXNlcjM4NTEyMzY5", "avatar_url": "https://avatars2.githubusercontent.com/u/38512369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Elias481", "html_url": "https://github.com/Elias481", "followers_url": "https://api.github.com/users/Elias481/followers", "following_url": "https://api.github.com/users/Elias481/following{/other_user}", "gists_url": "https://api.github.com/users/Elias481/gists{/gist_id}", "starred_url": "https://api.github.com/users/Elias481/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Elias481/subscriptions", "organizations_url": "https://api.github.com/users/Elias481/orgs", "repos_url": "https://api.github.com/users/Elias481/repos", "events_url": "https://api.github.com/users/Elias481/events{/privacy}", "received_events_url": "https://api.github.com/users/Elias481/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-11T21:56:10Z", "updated_at": "2020-05-29T07:56:07Z", "closed_at": "2020-05-29T07:56:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After checking for successfull start it should be verified that the display found running with xdpyinfo is really the display we started.\r\nIf multiple python processes open new display at the same time it's possible that the same target display number is allocated by multiple instances the same time.\r\nFirst X server process started will successfully come up of course, but the other processes just see the X-Server at that displaynumber running and do not complain.\r\nProblem occurs (in our case) when the real owner of the process calls the displays close/shuts down the process. All other processes using this X Server are now getting problems. (Probably problems can arise even before if the script needs a dedicated/unshared X server instance to be successfull.)\r\n\r\nI see with random display number I can minimize chances that this happens, but anyway I cannot be sure (without setting MIN_DISPLAY_NUMBER explicitly to some unused range what is quite inconvenient as we would need to assign a unique MIN_DISPLAY_NUMBER to every script running on that server).\r\n\r\nCurrently I had to implement something like the following to avoid running into the problem, but it would be fine if the API would handle this.\r\n```python\r\n    def start_display(tries, *args, **kwargs):\r\n        display = Display(*args, **kwargs)\r\n        display.start()\r\n        dispstarttry = 1\r\n        while not display.is_alive():\r\n            if dispstarttry >= tries:\r\n                display.wait()\r\n                print('Could start display after %d tries\\nXvfb output last try:\\nSTDOUT:\\n-----------------------\\n%s\\nSTDERR:\\n-----------------------\\n%s'\r\n                      % (dispstarttry, display.stdout, display.stderr))\r\n                sys.exit(2)\r\n            display.close()\r\n            display = Display(*args, **kwargs)\r\n            display.start()\r\n            dispstarttry += 1\r\n        return display\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/30", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/30/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/30/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/30", "id": 285677421, "node_id": "MDU6SXNzdWUyODU2Nzc0MjE=", "number": 30, "title": "Have a better way to get unique display number", "user": {"login": "ionelmc", "id": 129501, "node_id": "MDQ6VXNlcjEyOTUwMQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/129501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ionelmc", "html_url": "https://github.com/ionelmc", "followers_url": "https://api.github.com/users/ionelmc/followers", "following_url": "https://api.github.com/users/ionelmc/following{/other_user}", "gists_url": "https://api.github.com/users/ionelmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/ionelmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ionelmc/subscriptions", "organizations_url": "https://api.github.com/users/ionelmc/orgs", "repos_url": "https://api.github.com/users/ionelmc/repos", "events_url": "https://api.github.com/users/ionelmc/events{/privacy}", "received_events_url": "https://api.github.com/users/ionelmc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-03T12:47:48Z", "updated_at": "2020-05-28T05:44:25Z", "closed_at": "2020-05-28T05:44:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently there's the `RANDOMIZE_DISPLAY_NR` users can patch to get better concurrent behavior but it's contrived to use.\r\n\r\nCould we have a better API for this? Or maybe an atomic \"get number and lock file\"?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/29", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/29/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/29/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/29", "id": 282887293, "node_id": "MDU6SXNzdWUyODI4ODcyOTM=", "number": 29, "title": "Resizable Xephyr window in PyVirtualDisplay", "user": {"login": "sdaau", "id": 26737749, "node_id": "MDQ6VXNlcjI2NzM3NzQ5", "avatar_url": "https://avatars0.githubusercontent.com/u/26737749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdaau", "html_url": "https://github.com/sdaau", "followers_url": "https://api.github.com/users/sdaau/followers", "following_url": "https://api.github.com/users/sdaau/following{/other_user}", "gists_url": "https://api.github.com/users/sdaau/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdaau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdaau/subscriptions", "organizations_url": "https://api.github.com/users/sdaau/orgs", "repos_url": "https://api.github.com/users/sdaau/repos", "events_url": "https://api.github.com/users/sdaau/events{/privacy}", "received_events_url": "https://api.github.com/users/sdaau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-12-18T13:57:33Z", "updated_at": "2018-12-20T13:32:14Z", "closed_at": "2018-12-20T13:32:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Not sure if this is exactly a bug, but I just wanted to document this:\r\n\r\nI had wanted a resizeable window when I use PyVirtualDisplay - and it turns out it is a relatively easy hack - simply add this line in `/usr/local/lib/python2.7/dist-packages/pyvirtualdisplay/xephyr.py` (tested on Ubuntu 14.04):\r\n\r\n        @property\r\n        def _cmd(self):\r\n            cmd = [PROGRAM,\r\n                   dict(black='-br', white='-wr')[self.bgcolor],\r\n                   '-screen',\r\n                   'x'.join(map(str, list(self.size) + [self.color_depth])),\r\n                   '-resizeable',   # add this line\r\n                   self.new_display_var,\r\n                   ]\r\n            return cmd\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/28", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/28/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/28/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/28", "id": 264062672, "node_id": "MDU6SXNzdWUyNjQwNjI2NzI=", "number": 28, "title": "Unable to specify custom DISPLAY", "user": {"login": "chrisspen", "id": 116631, "node_id": "MDQ6VXNlcjExNjYzMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/116631?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisspen", "html_url": "https://github.com/chrisspen", "followers_url": "https://api.github.com/users/chrisspen/followers", "following_url": "https://api.github.com/users/chrisspen/following{/other_user}", "gists_url": "https://api.github.com/users/chrisspen/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisspen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisspen/subscriptions", "organizations_url": "https://api.github.com/users/chrisspen/orgs", "repos_url": "https://api.github.com/users/chrisspen/repos", "events_url": "https://api.github.com/users/chrisspen/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisspen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-10-10T00:23:04Z", "updated_at": "2017-10-11T07:27:41Z", "closed_at": "2017-10-10T16:19:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Perhaps I missed it in the docs and the code, but is there any way to set the `DISPLAY` value? I'm unable to get this package to work on a headless server, and I'm trying to debug what `DISPLAY` variable this uses for Xvfb, but there doesn't seem to be any specified in `xvfb.py`, nor does it seem to allow you to specify one.\r\n\r\nAll the docs I can find on Xvfb say it should be called like `Xvfb :99`, but the command generated in `XvfbDisplay._cmd` doesn't set this variable. Wouldn't that prevent it from working on a headless server?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/26", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/26/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/26/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/26", "id": 254368666, "node_id": "MDU6SXNzdWUyNTQzNjg2NjY=", "number": 26, "title": "KeyError when DISPLAY not peresent in ENV", "user": {"login": "Drachenfels", "id": 135730, "node_id": "MDQ6VXNlcjEzNTczMA==", "avatar_url": "https://avatars0.githubusercontent.com/u/135730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Drachenfels", "html_url": "https://github.com/Drachenfels", "followers_url": "https://api.github.com/users/Drachenfels/followers", "following_url": "https://api.github.com/users/Drachenfels/following{/other_user}", "gists_url": "https://api.github.com/users/Drachenfels/gists{/gist_id}", "starred_url": "https://api.github.com/users/Drachenfels/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Drachenfels/subscriptions", "organizations_url": "https://api.github.com/users/Drachenfels/orgs", "repos_url": "https://api.github.com/users/Drachenfels/repos", "events_url": "https://api.github.com/users/Drachenfels/events{/privacy}", "received_events_url": "https://api.github.com/users/Drachenfels/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-31T15:09:50Z", "updated_at": "2018-12-20T13:30:49Z", "closed_at": "2018-12-20T13:30:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "This happens when I am running selenium script in a docker, not sure exactly when:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/crawler/session.py\", line 47, in __del__\r\n    self.display.stop()\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyvirtualdisplay/abstractdisplay.py\", line 118, in stop\r\n    self.redirect_display(False)\r\n  File \"/usr/local/lib/python3.5/dist-packages/pyvirtualdisplay/abstractdisplay.py\", line 87, in redirect_display\r\n    del os.environ['DISPLAY']\r\n  File \"/usr/lib/python3.5/os.py\", line 741, in __delitem__\r\n    raise KeyError(key) from None\r\nKeyError: 'DISPLAY'\r\n```\r\nNot sure if this was overlooked or I do something wrong.\r\n\r\nBottom line is that in most places in the code similar issues with display not being part of env were navigated, this one seems like forgotten fix.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/25", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/25/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/25/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/25", "id": 224974751, "node_id": "MDU6SXNzdWUyMjQ5NzQ3NTE=", "number": 25, "title": "Check the display successfully starts before returning", "user": {"login": "mithro", "id": 21212, "node_id": "MDQ6VXNlcjIxMjEy", "avatar_url": "https://avatars2.githubusercontent.com/u/21212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mithro", "html_url": "https://github.com/mithro", "followers_url": "https://api.github.com/users/mithro/followers", "following_url": "https://api.github.com/users/mithro/following{/other_user}", "gists_url": "https://api.github.com/users/mithro/gists{/gist_id}", "starred_url": "https://api.github.com/users/mithro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mithro/subscriptions", "organizations_url": "https://api.github.com/users/mithro/orgs", "repos_url": "https://api.github.com/users/mithro/repos", "events_url": "https://api.github.com/users/mithro/events{/privacy}", "received_events_url": "https://api.github.com/users/mithro/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-04-28T04:06:42Z", "updated_at": "2020-05-28T05:40:07Z", "closed_at": "2020-05-28T05:40:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "(Fix [this TODO](https://github.com/ponty/PyVirtualDisplay/blob/cb2529ed5a525862a8c74eb9f471fc1002ad1623/pyvirtualdisplay/abstractdisplay.py#L108-L109))\r\n\r\nWe use the `xdpyinfo` tool in our own code to check if a X server is working.\r\n\r\nCode something like this would work;\r\n```python\r\nstart_time = time.time()\r\nwhile time.time() - start_time < START_TIMEOUT:\r\n    # We don't explicitly set the display, as we want to check the\r\n    # environment value.\r\n    exit_code = subprocess.call(['xdpyinfo'])\r\n    if exit_code == 0:\r\n        logging.info('Successfully started Xvfb with display \"%s\".', display)\r\n        return\r\n    logging.warn('xdpyinfo check failed with exit code %s while starting Xvfb on \"%s\".', exit_code, display)\r\n    time.sleep(0.1)\r\nlogging.fatal('Failed to start Xvfb on display \"%s\" (xdpyinfo check failed).', display)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/21", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/21/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/21/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/21", "id": 196434830, "node_id": "MDU6SXNzdWUxOTY0MzQ4MzA=", "number": 21, "title": "RAM consumption Xvfd reaches almost 100% ", "user": {"login": "GildedHonour", "id": 2032888, "node_id": "MDQ6VXNlcjIwMzI4ODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2032888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GildedHonour", "html_url": "https://github.com/GildedHonour", "followers_url": "https://api.github.com/users/GildedHonour/followers", "following_url": "https://api.github.com/users/GildedHonour/following{/other_user}", "gists_url": "https://api.github.com/users/GildedHonour/gists{/gist_id}", "starred_url": "https://api.github.com/users/GildedHonour/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GildedHonour/subscriptions", "organizations_url": "https://api.github.com/users/GildedHonour/orgs", "repos_url": "https://api.github.com/users/GildedHonour/repos", "events_url": "https://api.github.com/users/GildedHonour/events{/privacy}", "received_events_url": "https://api.github.com/users/GildedHonour/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-19T15:03:07Z", "updated_at": "2016-12-27T04:15:26Z", "closed_at": "2016-12-27T04:15:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a script working on a server. Over time, as I can see in the dashboard of my server, the RAM consumption of Xvfd is increasing and reaching almost 100%. Here's my code:\r\n\r\n```\r\nfrom pyvirtualdisplay\r\n\r\ndisplay = Display(visible=0, size=(800, 600))\r\ndisplay.start()\r\n# some staff\r\n\r\ndisplay.sendstop()\r\n```\r\nAm I releasing the Xvfd correctly?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/19", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/19/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/19/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/19", "id": 189900452, "node_id": "MDU6SXNzdWUxODk5MDA0NTI=", "number": 19, "title": "Add VNC -rfbauth option", "user": {"login": "ottothecow", "id": 5453276, "node_id": "MDQ6VXNlcjU0NTMyNzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/5453276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ottothecow", "html_url": "https://github.com/ottothecow", "followers_url": "https://api.github.com/users/ottothecow/followers", "following_url": "https://api.github.com/users/ottothecow/following{/other_user}", "gists_url": "https://api.github.com/users/ottothecow/gists{/gist_id}", "starred_url": "https://api.github.com/users/ottothecow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ottothecow/subscriptions", "organizations_url": "https://api.github.com/users/ottothecow/orgs", "repos_url": "https://api.github.com/users/ottothecow/repos", "events_url": "https://api.github.com/users/ottothecow/events{/privacy}", "received_events_url": "https://api.github.com/users/ottothecow/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-11-17T00:52:12Z", "updated_at": "2019-05-26T19:03:48Z", "closed_at": "2019-05-26T19:03:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Due to a bug ([here](https://bugs.chromium.org/p/chromedriver/issues/detail?id=1037) and [here](https://bugs.chromium.org/p/chromedriver/issues/detail?id=1300)) with selenium/chromedriver/chrome not correctly sending keystrokes when running tightvnc server, I had to switch to using vnc4server if I wanted to peek at what was happening while running PyVirtualDisplay.\r\n\r\nI believe vnc4server requires a password (at least on my systems it does) and whatever password file it defaults to when called by PyVirtualDisplay was not accessible.\r\n\r\nSo on import, I redifined XvncDisplay._cmd to specify a password file location (set by running vncpasswd):\r\n\r\n```python\r\nfrom pyvirtualdisplay.xvnc import XvncDisplay\r\n@property\r\ndef _cmd(self):\r\n        cmd = ['Xvnc',\r\n               '-depth', str(self.color_depth),\r\n               '-geometry', '%dx%d' % (self.size[0], self.size[1]),\r\n               '-rfbport', str(self.rfbport), '-rfbauth', '/etc/vncpasswd',\r\n               self.new_display_var,\r\n               ]\r\n        return cmd\r\nXvncDisplay._cmd =_cmd\r\n```\r\n\r\nI'd suggest adding this as an option available when creating a Display (or providing a more universal option to add any additional arguments when calling Xvnc).\r\n\r\nThe same syntax applies to tightvncserver as well as vnc4server (and I believe RealVNC and x11vnc as well, since they all default themselves to the Xvnc executable on install).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/18", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/18/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/18/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/18", "id": 180562396, "node_id": "MDU6SXNzdWUxODA1NjIzOTY=", "number": 18, "title": "Send keys to window", "user": {"login": "OctoNezd", "id": 15308404, "node_id": "MDQ6VXNlcjE1MzA4NDA0", "avatar_url": "https://avatars0.githubusercontent.com/u/15308404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/OctoNezd", "html_url": "https://github.com/OctoNezd", "followers_url": "https://api.github.com/users/OctoNezd/followers", "following_url": "https://api.github.com/users/OctoNezd/following{/other_user}", "gists_url": "https://api.github.com/users/OctoNezd/gists{/gist_id}", "starred_url": "https://api.github.com/users/OctoNezd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/OctoNezd/subscriptions", "organizations_url": "https://api.github.com/users/OctoNezd/orgs", "repos_url": "https://api.github.com/users/OctoNezd/repos", "events_url": "https://api.github.com/users/OctoNezd/events{/privacy}", "received_events_url": "https://api.github.com/users/OctoNezd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-03T04:44:57Z", "updated_at": "2016-10-04T18:54:42Z", "closed_at": "2016-10-04T18:54:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "How do I do that with you lib? \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/16", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/16/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/16/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/16", "id": 133173405, "node_id": "MDU6SXNzdWUxMzMxNzM0MDU=", "number": 16, "title": "Dublicate display number in celery.", "user": {"login": "StagnantIce", "id": 1449602, "node_id": "MDQ6VXNlcjE0NDk2MDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1449602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StagnantIce", "html_url": "https://github.com/StagnantIce", "followers_url": "https://api.github.com/users/StagnantIce/followers", "following_url": "https://api.github.com/users/StagnantIce/following{/other_user}", "gists_url": "https://api.github.com/users/StagnantIce/gists{/gist_id}", "starred_url": "https://api.github.com/users/StagnantIce/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StagnantIce/subscriptions", "organizations_url": "https://api.github.com/users/StagnantIce/orgs", "repos_url": "https://api.github.com/users/StagnantIce/repos", "events_url": "https://api.github.com/users/StagnantIce/events{/privacy}", "received_events_url": "https://api.github.com/users/StagnantIce/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-02-12T07:10:38Z", "updated_at": "2020-05-28T06:26:06Z", "closed_at": "2020-05-28T06:26:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, i use PyVirtualDisplay==0.1.5 to take screenshots in celery.\n\n```\n        self.DISPLAY = SmartDisplay(visible=0, size=(2560, 1600), bgcolor='black').start()\n        print u\"Create display...%s\" % self.DISPLAY.new_display_var\n```\n\nBut sometimes new_display_var is dublicate for two workers:\n\n[2016-02-12 04:23:20,879: WARNING/Worker-2] DISPLAY: :1098\n[2016-02-12 04:44:08,713: WARNING/Worker-3] DISPLAY: :1098\n\nPlease help, thank you.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/14", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/14/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/14/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/14", "id": 109138000, "node_id": "MDU6SXNzdWUxMDkxMzgwMDA=", "number": 14, "title": "When os.environ has no DISPLAY variable, PyVirtualDisplay sets it to \":0\" when calling stop() instead of deleting it", "user": {"login": "adveres", "id": 775690, "node_id": "MDQ6VXNlcjc3NTY5MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/775690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adveres", "html_url": "https://github.com/adveres", "followers_url": "https://api.github.com/users/adveres/followers", "following_url": "https://api.github.com/users/adveres/following{/other_user}", "gists_url": "https://api.github.com/users/adveres/gists{/gist_id}", "starred_url": "https://api.github.com/users/adveres/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adveres/subscriptions", "organizations_url": "https://api.github.com/users/adveres/orgs", "repos_url": "https://api.github.com/users/adveres/repos", "events_url": "https://api.github.com/users/adveres/events{/privacy}", "received_events_url": "https://api.github.com/users/adveres/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-30T17:10:53Z", "updated_at": "2015-10-22T08:24:33Z", "closed_at": "2015-10-22T08:23:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nFirst, thank you for the great library.  I believe I've found a bug.\nYou fixed Issue #2 by adding a default DISPLAY of \":0\" when stopping the display. This is an issue if we try to create multiple displays sequentially, because stop() is incorrectly leaving the DISPLAY environment variable set, when the key should be deleted.  I have the same use-case as Issue #2, where the CentOS machine I am running on does not have a DISPLAY environment variable by default.\n\nSee script/output below, and let me know if you need any more details. I am using xvfb on a CentOS server that has no DISPLAY by default.\n\n``` python\nimport os\nimport time\nfrom pyvirtualdisplay import Display\nfrom selenium import webdriver\nfrom selenium.webdriver.firefox.firefox_binary import FirefoxBinary\n\n\ndef start():\n    display = None\n\n    if 'DISPLAY' not in os.environ:\n        print(\"  Bringing up a new display, because os.environ does not have one.\")\n        display = Display(visible=False, size=(1920, 1200))  # TODO is this cheating?? Huge resolution.\n        display.start()\n\n        print(\"  Started pyvirtualdisplay with backend '%s', screen '%s'.\" % (display.backend, display.screen))\n    else:\n        print(\"  Environ DISPLAY is '%s', no need to use pyvirtualdisplay.\" % os.environ['DISPLAY'])\n\n    # TODO do we need to sleep here for the display to start?\n\n    try:\n        with open(\"/tmp/firefoxLog.txt\", 'w') as log_file:\n            binary = FirefoxBinary(firefox_path='/usr/bin/firefox', log_file=log_file)\n            browser = webdriver.Firefox(firefox_binary=binary)\n            browser.get(\"http://www.google.com\")\n    except:\n        if display:\n            print(\"  Stopping display because the browser failed to come up.\")\n            display.stop()\n        else:\n            print(\"  No need to stop display, because we did not make one earlier.\")\n\n        raise\n\n    return display, browser\n\n\ndef stop(display, browser):\n    if browser:\n        print \"  Quitting browser\"\n        browser.quit()\n    if display:\n        print \"  Stopping display\"\n        display.stop()\n\n\nprint \"TEST1\"\nd1, b1 = start()\ntime.sleep(3)\nstop(d1, b1)\n\ntime.sleep(2)\n\nprint \"\\nTEST2\"\nd2, b2 = start()\ntime.sleep(3)\nstop(d2, b2)\n\n\nexit(0)\n\n```\n\nI believe this can be fixed by deleting \"DISPLAY\" from the environ dictionary if it was not there when we initially started.\n\nThank you!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/13", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/13/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/13/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/13", "id": 99923124, "node_id": "MDU6SXNzdWU5OTkyMzEyNA==", "number": 13, "title": "Ignore passing diplay size from variable", "user": {"login": "vkudyushev", "id": 10075139, "node_id": "MDQ6VXNlcjEwMDc1MTM5", "avatar_url": "https://avatars1.githubusercontent.com/u/10075139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vkudyushev", "html_url": "https://github.com/vkudyushev", "followers_url": "https://api.github.com/users/vkudyushev/followers", "following_url": "https://api.github.com/users/vkudyushev/following{/other_user}", "gists_url": "https://api.github.com/users/vkudyushev/gists{/gist_id}", "starred_url": "https://api.github.com/users/vkudyushev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vkudyushev/subscriptions", "organizations_url": "https://api.github.com/users/vkudyushev/orgs", "repos_url": "https://api.github.com/users/vkudyushev/repos", "events_url": "https://api.github.com/users/vkudyushev/events{/privacy}", "received_events_url": "https://api.github.com/users/vkudyushev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-08-09T19:49:14Z", "updated_at": "2015-08-10T21:48:30Z", "closed_at": "2015-08-10T21:48:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Whet I trying to pass display size from variable, that taken from text file, pyvirtual ignore it and starts dizplay with width 1px and height 3-6px \nWhen I print display size like (1366, 768) in same script in works perfect.\nSo, I've also tried to replace quotes (' and \") fron variable, but it gives same result.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/11", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/11/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/11/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/11", "id": 31203333, "node_id": "MDU6SXNzdWUzMTIwMzMzMw==", "number": 11, "title": "PyPi Release 0.1.4", "user": {"login": "anthonywu", "id": 462072, "node_id": "MDQ6VXNlcjQ2MjA3Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/462072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthonywu", "html_url": "https://github.com/anthonywu", "followers_url": "https://api.github.com/users/anthonywu/followers", "following_url": "https://api.github.com/users/anthonywu/following{/other_user}", "gists_url": "https://api.github.com/users/anthonywu/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthonywu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthonywu/subscriptions", "organizations_url": "https://api.github.com/users/anthonywu/orgs", "repos_url": "https://api.github.com/users/anthonywu/repos", "events_url": "https://api.github.com/users/anthonywu/events{/privacy}", "received_events_url": "https://api.github.com/users/anthonywu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-04-09T23:19:39Z", "updated_at": "2014-04-11T22:58:46Z", "closed_at": "2014-04-11T22:58:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "With Issue #10 fixed, I'm looking forward to a new release on PyPi so I don't have to install using git+ssh. Any plan of doing a minor release soon?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/10", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/10/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/10/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/10", "id": 28753506, "node_id": "MDU6SXNzdWUyODc1MzUwNg==", "number": 10, "title": "`Display.__repr__` raises `AttributeError` if invoked before `Display.start()`", "user": {"login": "anthonywu", "id": 462072, "node_id": "MDQ6VXNlcjQ2MjA3Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/462072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anthonywu", "html_url": "https://github.com/anthonywu", "followers_url": "https://api.github.com/users/anthonywu/followers", "following_url": "https://api.github.com/users/anthonywu/following{/other_user}", "gists_url": "https://api.github.com/users/anthonywu/gists{/gist_id}", "starred_url": "https://api.github.com/users/anthonywu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anthonywu/subscriptions", "organizations_url": "https://api.github.com/users/anthonywu/orgs", "repos_url": "https://api.github.com/users/anthonywu/repos", "events_url": "https://api.github.com/users/anthonywu/events{/privacy}", "received_events_url": "https://api.github.com/users/anthonywu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-03-05T00:00:56Z", "updated_at": "2014-04-09T23:19:39Z", "closed_at": "2014-04-08T13:29:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Reproduce\n\n```\ndisplay = Display()\n  # ... truncated stacktrace ...\n/lib/python2.7/site-packages/easyprocess/__init__.pyc in __repr__(self)\n    135         msg = '<%s cmd_param=%s alias={alias} cmd=%s ({scmd}) oserror=%s returncode=%s stdout=\"%s\" stderr=\"%s\" timeout=%s>' % (\n    136             self.__class__.__name__,\n--> 137             self.cmd_param,\n    138             self.cmd,\n    139             self.oserror,\nAttributeError: Display instance has no attribute 'cmd_param'\n```\n## Cause:\n\n`AbstractDisplay`, being an instance of `EasyProcess`, does not define `EasyProcess.cmd_param` until [`EasyProcess. __init__` is invoked](https://github.com/ponty/PyVirtualDisplay/blob/master/pyvirtualdisplay/abstractdisplay.py#L74)\n\nI understand why you do not want to call `EasyProcess. __init__` until `AbstractDisplay.start()`, but that leaves this edge case.\n## Proposed solutions\n1. in `AbstractDisplay.__init__`, set a dummy `cmd_param` attribute\n2. implement `AbstractDisplay.__repr__` and handle the case where `start()` has not been invoked\n3. encourage use of displays in a context manager, e.g.\n\n```\nimport contextlib\nimport pyvirtualdisplay\n\n@contextlib.contextmanager\ndef virtual_display(*display_pargs, **display_kwargs):\n  display = pyvirtualdisplay.Display(*display_pargs, **display_kwargs)\n  display.start()\n  yield\n  display.stop()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/9", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/9/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/9/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/9", "id": 21147424, "node_id": "MDU6SXNzdWUyMTE0NzQyNA==", "number": 9, "title": "Support -fbdir option in Xvfb", "user": {"login": "Julian-O", "id": 945973, "node_id": "MDQ6VXNlcjk0NTk3Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/945973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Julian-O", "html_url": "https://github.com/Julian-O", "followers_url": "https://api.github.com/users/Julian-O/followers", "following_url": "https://api.github.com/users/Julian-O/following{/other_user}", "gists_url": "https://api.github.com/users/Julian-O/gists{/gist_id}", "starred_url": "https://api.github.com/users/Julian-O/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Julian-O/subscriptions", "organizations_url": "https://api.github.com/users/Julian-O/orgs", "repos_url": "https://api.github.com/users/Julian-O/repos", "events_url": "https://api.github.com/users/Julian-O/events{/privacy}", "received_events_url": "https://api.github.com/users/Julian-O/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-10-17T11:44:04Z", "updated_at": "2013-12-18T14:10:41Z", "closed_at": "2013-12-18T14:10:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Xvfb supports an option to have the virtual screen memory-mapped to a file in a given directory. This is useful for debugging.\n\nThe constructor for XvfbDisplay should optionally accept a directory name. If non-null, it should be included as a command-line parameter in _cmd.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/7", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/7/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/7/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/7", "id": 4548260, "node_id": "MDU6SXNzdWU0NTQ4MjYw", "number": 7, "title": "Output from X client is discarded", "user": {"login": "Julian-O", "id": 945973, "node_id": "MDQ6VXNlcjk0NTk3Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/945973?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Julian-O", "html_url": "https://github.com/Julian-O", "followers_url": "https://api.github.com/users/Julian-O/followers", "following_url": "https://api.github.com/users/Julian-O/following{/other_user}", "gists_url": "https://api.github.com/users/Julian-O/gists{/gist_id}", "starred_url": "https://api.github.com/users/Julian-O/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Julian-O/subscriptions", "organizations_url": "https://api.github.com/users/Julian-O/orgs", "repos_url": "https://api.github.com/users/Julian-O/repos", "events_url": "https://api.github.com/users/Julian-O/events{/privacy}", "received_events_url": "https://api.github.com/users/Julian-O/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5073520, "node_id": "MDU6TGFiZWw1MDczNTIw", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Invalid", "name": "Invalid", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-05-12T17:28:44Z", "updated_at": "2012-05-14T09:25:52Z", "closed_at": "2012-05-14T09:25:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "[I'm looking at Xvfb in particular, but I believe the issues apply across the board.]\n\nXvfb generates (stderr) output as it runs, which is useful for debugging. PyVirtualDisplay discards this output.\n\nIt would be desirable to either:\n1. be able to specify a destination file in XvfbDisplay constructor for stderr.\n   \n   or \n2. have the stderr output passed to a logger object, so I can see it/redirect it/suppress it through the standard Python mechanism.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/6", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/6/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/6/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/6", "id": 3058904, "node_id": "MDU6SXNzdWUzMDU4OTA0", "number": 6, "title": "Problems with easy_install of PyVirtualDisplay", "user": {"login": "nwiesmueller", "id": 473323, "node_id": "MDQ6VXNlcjQ3MzMyMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/473323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nwiesmueller", "html_url": "https://github.com/nwiesmueller", "followers_url": "https://api.github.com/users/nwiesmueller/followers", "following_url": "https://api.github.com/users/nwiesmueller/following{/other_user}", "gists_url": "https://api.github.com/users/nwiesmueller/gists{/gist_id}", "starred_url": "https://api.github.com/users/nwiesmueller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nwiesmueller/subscriptions", "organizations_url": "https://api.github.com/users/nwiesmueller/orgs", "repos_url": "https://api.github.com/users/nwiesmueller/repos", "events_url": "https://api.github.com/users/nwiesmueller/events{/privacy}", "received_events_url": "https://api.github.com/users/nwiesmueller/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5073630, "node_id": "MDU6TGFiZWw1MDczNjMw", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 5073611, "node_id": "MDU6TGFiZWw1MDczNjEx", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Fixed", "name": "Fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-02-01T21:15:03Z", "updated_at": "2012-02-09T14:36:08Z", "closed_at": "2012-02-09T14:36:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I don't have permissions to re-open the original bug but on all systems I've tried (Ubuntu, Debian), I'm getting an error when I run easy_install pyvirtualdisplay. I understand that this was fixed at one point but now appears to be broken a again. This is using python 2.7. \nProcessing entrypoint2-0.0.3.tar.gz\nRunning entrypoint2-0.0.3/setup.py -q bdist_egg --dist-dir /tmp/easy_install-ZedArx/entrypoint2-0.0.3/egg-dist-tmp-clJihS\nTraceback (most recent call last):\n  File \"/usr/bin/easy_install\", line 9, in <module>\n    load_entry_point('distribute==0.6.16dev-r0', 'console_scripts', 'easy_install')()\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 1912, in main\n    with_ei_usage(lambda:\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 1893, in with_ei_usage\n    return f()\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 1916, in <lambda>\n    distclass=DistributionWithoutHelpCommands, **kw\n  File \"/usr/lib/python2.7/distutils/core.py\", line 152, in setup\n    dist.run_commands()\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 953, in run_commands\n    self.run_command(cmd)\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 972, in run_command\n    cmd_obj.run()\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 364, in run\n    self.easy_install(spec, not self.no_deps)\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 604, in easy_install\n    return self.install_item(spec, dist.location, tmpdir, deps)\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 636, in install_item\n    self.process_distribution(spec, dist, deps)\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 688, in process_distribution\n    [requirement], self.local_index, self.easy_install\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 544, in resolve\n    dist = best[req.key] = env.best_match(req, self, installer)\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 786, in best_match\n    return self.obtain(req, installer) # try and download/install\n  File \"/usr/lib/python2.7/dist-packages/pkg_resources.py\", line 798, in obtain\n    return installer(requirement)\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 604, in easy_install\n    return self.install_item(spec, dist.location, tmpdir, deps)\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 634, in install_item\n    dists = self.install_eggs(spec, download, tmpdir)\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 824, in install_eggs\n    return self.build_and_install(setup_script, setup_base)\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 1101, in build_and_install\n    self.run_setup(setup_script, setup_base, args)\n  File \"/usr/lib/python2.7/dist-packages/setuptools/command/easy_install.py\", line 1090, in run_setup\n    run_setup(setup_script, args)\n  File \"/usr/lib/python2.7/dist-packages/setuptools/sandbox.py\", line 29, in run_setup\n    lambda: execfile(\n  File \"/usr/lib/python2.7/dist-packages/setuptools/sandbox.py\", line 70, in run\n    return func()\n  File \"/usr/lib/python2.7/dist-packages/setuptools/sandbox.py\", line 31, in <lambda>\n    {'**file**':setup_script, '**name**':'**main**'}\n  File \"setup.py\", line 6, in <module>\nzipimport.ZipImportError: bad local file header in paver-minilib.zip\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/5", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/5/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/5/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/5", "id": 2984119, "node_id": "MDU6SXNzdWUyOTg0MTE5", "number": 5, "title": "Problems with easy_install of PyVirtualDisplay", "user": {"login": "hschilling", "id": 867557, "node_id": "MDQ6VXNlcjg2NzU1Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/867557?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hschilling", "html_url": "https://github.com/hschilling", "followers_url": "https://api.github.com/users/hschilling/followers", "following_url": "https://api.github.com/users/hschilling/following{/other_user}", "gists_url": "https://api.github.com/users/hschilling/gists{/gist_id}", "starred_url": "https://api.github.com/users/hschilling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hschilling/subscriptions", "organizations_url": "https://api.github.com/users/hschilling/orgs", "repos_url": "https://api.github.com/users/hschilling/repos", "events_url": "https://api.github.com/users/hschilling/events{/privacy}", "received_events_url": "https://api.github.com/users/hschilling/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5073630, "node_id": "MDU6TGFiZWw1MDczNjMw", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 5073611, "node_id": "MDU6TGFiZWw1MDczNjEx", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Fixed", "name": "Fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2012-01-26T18:59:11Z", "updated_at": "2012-02-09T15:00:39Z", "closed_at": "2012-01-26T19:31:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\n Love PyVirtualDisplay but easy_install doesn't work for me on all but one system I have available for testing. I get this error. BTW, pip install  does work fine. \n\neasy_install pyvirtualdisplay\n\n(( much snippage ))\n\nTraceback (most recent call last):\n File \"/hx/u/hschilli/openmdao/T777-add-gui-javascript-unit-tests/devenv/bin/easy_install\", line 8, in <module>\n   load_entry_point('setuptools==0.6c11', 'console_scripts', 'easy_install')()\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 1712, in main\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 1700, in with_ei_usage\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 1716, in <lambda>\n File \"/usr/lib/python2.6/distutils/core.py\", line 152, in setup\n   dist.run_commands()\n File \"/usr/lib/python2.6/distutils/dist.py\", line 975, in run_commands\n   self.run_command(cmd)\n File \"/usr/lib/python2.6/distutils/dist.py\", line 995, in run_command\n   cmd_obj.run()\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 211, in run\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 446, in easy_install\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 478, in install_item\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 519, in process_distribution\n File \"build/bdist.linux-i686/egg/pkg_resources.py\", line 563, in resolve\n   plugin_env, full_env=None, installer=None, fallback=True\n File \"build/bdist.linux-i686/egg/pkg_resources.py\", line 799, in best_match\n\n File \"build/bdist.linux-i686/egg/pkg_resources.py\", line 811, in obtain\n   self.add(other)\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 446, in easy_install\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 476, in install_item\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 655, in install_eggs\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 930, in build_and_install\n File \"build/bdist.linux-i686/egg/setuptools/command/easy_install.py\", line 919, in run_setup\n File \"build/bdist.linux-i686/egg/setuptools/sandbox.py\", line 62, in run_setup\n File \"build/bdist.linux-i686/egg/setuptools/sandbox.py\", line 105, in run\n File \"build/bdist.linux-i686/egg/setuptools/sandbox.py\", line 64, in <lambda>\n File \"setup.py\", line 6, in <module>\n   sys.path.insert(0, os.path.normpath(os.path.join(here,\nzipimport.ZipImportError: bad local file header in paver-minilib.zip\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/4", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/4/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/4/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/4", "id": 1610219, "node_id": "MDU6SXNzdWUxNjEwMjE5", "number": 4, "title": "import error on fresh install", "user": {"login": "anonymous83819", "id": 1039336, "node_id": "MDQ6VXNlcjEwMzkzMzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1039336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anonymous83819", "html_url": "https://github.com/anonymous83819", "followers_url": "https://api.github.com/users/anonymous83819/followers", "following_url": "https://api.github.com/users/anonymous83819/following{/other_user}", "gists_url": "https://api.github.com/users/anonymous83819/gists{/gist_id}", "starred_url": "https://api.github.com/users/anonymous83819/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anonymous83819/subscriptions", "organizations_url": "https://api.github.com/users/anonymous83819/orgs", "repos_url": "https://api.github.com/users/anonymous83819/repos", "events_url": "https://api.github.com/users/anonymous83819/events{/privacy}", "received_events_url": "https://api.github.com/users/anonymous83819/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5073520, "node_id": "MDU6TGFiZWw1MDczNTIw", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Invalid", "name": "Invalid", "color": "DDDDDD", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2011-09-09T18:30:04Z", "updated_at": "2011-12-10T13:01:05Z", "closed_at": "2011-12-10T13:01:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "line 2 of abstractdisplay.py should be \"import os.path as path\" instead of \"import path from path\".  I fixed my copy locally and it is working fine, but I just wanted to contribute the fix upstream so all can benefit.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/3", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/3/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/3/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/3", "id": 1345717, "node_id": "MDU6SXNzdWUxMzQ1NzE3", "number": 3, "title": "add tightvnc support", "user": {"login": "j0hnsmith", "id": 118963, "node_id": "MDQ6VXNlcjExODk2Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/118963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/j0hnsmith", "html_url": "https://github.com/j0hnsmith", "followers_url": "https://api.github.com/users/j0hnsmith/followers", "following_url": "https://api.github.com/users/j0hnsmith/following{/other_user}", "gists_url": "https://api.github.com/users/j0hnsmith/gists{/gist_id}", "starred_url": "https://api.github.com/users/j0hnsmith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/j0hnsmith/subscriptions", "organizations_url": "https://api.github.com/users/j0hnsmith/orgs", "repos_url": "https://api.github.com/users/j0hnsmith/repos", "events_url": "https://api.github.com/users/j0hnsmith/events{/privacy}", "received_events_url": "https://api.github.com/users/j0hnsmith/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5073809, "node_id": "MDU6TGFiZWw1MDczODA5", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Enhancement", "name": "Enhancement", "color": "e102d8", "default": false, "description": null}, {"id": 5073611, "node_id": "MDU6TGFiZWw1MDczNjEx", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Fixed", "name": "Fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-08-04T16:54:29Z", "updated_at": "2011-11-13T14:17:18Z", "closed_at": "2011-11-13T14:17:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "With tightvncserver installed on a Ubuntu server I can use a vnc client to connect to the xvfb display by doing\n\n```\nexport DISPLAY=:1\nvncserver :1\npython my_webdriver_script.py\n```\n\nthen connecting to port 5901\n\nIt would be great if the same functionality could be added to pyvirtualdisplay somehow.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/2", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/2/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/2/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/2", "id": 1211721, "node_id": "MDU6SXNzdWUxMjExNzIx", "number": 2, "title": "KeyError when env doesn't have a DISPLAY", "user": {"login": "Hornswoggles", "id": 531325, "node_id": "MDQ6VXNlcjUzMTMyNQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/531325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hornswoggles", "html_url": "https://github.com/Hornswoggles", "followers_url": "https://api.github.com/users/Hornswoggles/followers", "following_url": "https://api.github.com/users/Hornswoggles/following{/other_user}", "gists_url": "https://api.github.com/users/Hornswoggles/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hornswoggles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hornswoggles/subscriptions", "organizations_url": "https://api.github.com/users/Hornswoggles/orgs", "repos_url": "https://api.github.com/users/Hornswoggles/repos", "events_url": "https://api.github.com/users/Hornswoggles/events{/privacy}", "received_events_url": "https://api.github.com/users/Hornswoggles/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5073630, "node_id": "MDU6TGFiZWw1MDczNjMw", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Bug", "name": "Bug", "color": "e10c02", "default": false, "description": null}, {"id": 5073611, "node_id": "MDU6TGFiZWw1MDczNjEx", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Fixed", "name": "Fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-07-12T21:41:52Z", "updated_at": "2011-07-13T17:59:27Z", "closed_at": "2011-07-13T17:59:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "`xephyr=Display(visible=1, size=(320, 240)).start()\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/local/lib/python2.6/dist-packages/pyvirtualdisplay/abstractdisplay.py\", line 65, in start\n    self.old_display_var = os.environ['DISPLAY']\n  File \"/usr/lib/python2.6/UserDict.py\", line 22, in __getitem__\n    raise KeyError(key)\nKeyError: 'DISPLAY'`\n\nEasily fixed by adding DISPLAY to the environment with\n`$: export DISPLAY=':0'`\n\nCould handle the exception with a message or needs some logic to handle if DISPLAY doesn't exist. How about:\n\n``` 65c65\n-        self.old_display_var = os.environ['DISPLAY']\n+         self.old_display_var = os.environ['DISPLAY'] if 'DISPLAY' in os.environ else ':0'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/1", "repository_url": "https://api.github.com/repos/ponty/PyVirtualDisplay", "labels_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/1/comments", "events_url": "https://api.github.com/repos/ponty/PyVirtualDisplay/issues/1/events", "html_url": "https://github.com/ponty/PyVirtualDisplay/issues/1", "id": 1164484, "node_id": "MDU6SXNzdWUxMTY0NDg0", "number": 1, "title": "Make Display support the context manager protocol", "user": {"login": "thobe", "id": 104385, "node_id": "MDQ6VXNlcjEwNDM4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/104385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thobe", "html_url": "https://github.com/thobe", "followers_url": "https://api.github.com/users/thobe/followers", "following_url": "https://api.github.com/users/thobe/following{/other_user}", "gists_url": "https://api.github.com/users/thobe/gists{/gist_id}", "starred_url": "https://api.github.com/users/thobe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thobe/subscriptions", "organizations_url": "https://api.github.com/users/thobe/orgs", "repos_url": "https://api.github.com/users/thobe/repos", "events_url": "https://api.github.com/users/thobe/events{/privacy}", "received_events_url": "https://api.github.com/users/thobe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 5073809, "node_id": "MDU6TGFiZWw1MDczODA5", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Enhancement", "name": "Enhancement", "color": "e102d8", "default": false, "description": null}, {"id": 5073611, "node_id": "MDU6TGFiZWw1MDczNjEx", "url": "https://api.github.com/repos/ponty/PyVirtualDisplay/labels/Fixed", "name": "Fixed", "color": "02e10c", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2011-07-04T22:41:44Z", "updated_at": "2011-07-05T15:27:58Z", "closed_at": "2011-07-05T15:09:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "A common way to use pyvirtualdisplay is to start up a display, do some things with applications in that display, then stop it. It would be nice if the with statement could be used to control the lifecycle of the display in such scenarios. For example:\n\n``` python\nwith Display(visible=0, size=(800, 600)):\n    browser = webdriver.Firefox()\n    browser.get('http://www.google.com')\n    browser.save_screenshot('screenshot_of_google_in_firefox.png')\n    browser.quit()\n```\n\nTo support this, the Display class (or one of its super classes) would have to support the [context manager protocol](http://www.python.org/dev/peps/pep-0343/), the implementation would probably look something like this:\n\n``` python\nclass AbstractDisplay(EasyProcess):\n    # ... all existing code still remains as is, but this is added:\n    def __enter__(self):\n        self.start()\n        return self\n    def __exit__(self, *exc_info):\n        self.stop()\n```\n", "performed_via_github_app": null, "score": 1.0}]}