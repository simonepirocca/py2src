{"total_count": 95, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Toblerity/rtree/issues/164", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/164/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/164/events", "html_url": "https://github.com/Toblerity/rtree/issues/164", "id": 678288741, "node_id": "MDU6SXNzdWU2NzgyODg3NDE=", "number": 164, "title": "Exact nearest neighbor search (100% recall)", "user": {"login": "carlosg-m", "id": 55836583, "node_id": "MDQ6VXNlcjU1ODM2NTgz", "avatar_url": "https://avatars2.githubusercontent.com/u/55836583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlosg-m", "html_url": "https://github.com/carlosg-m", "followers_url": "https://api.github.com/users/carlosg-m/followers", "following_url": "https://api.github.com/users/carlosg-m/following{/other_user}", "gists_url": "https://api.github.com/users/carlosg-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlosg-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlosg-m/subscriptions", "organizations_url": "https://api.github.com/users/carlosg-m/orgs", "repos_url": "https://api.github.com/users/carlosg-m/repos", "events_url": "https://api.github.com/users/carlosg-m/events{/privacy}", "received_events_url": "https://api.github.com/users/carlosg-m/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-08-13T09:21:19Z", "updated_at": "2020-08-18T11:47:32Z", "closed_at": "2020-08-13T23:01:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "1) Set up example\r\n```\r\nquery = gpd.GeoDataFrame(geometry=[wkt.loads('POINT (63.5812539649480755 80913.2000242236681515)')])\r\n\r\nindex = gpd.GeoDataFrame(geometry=[wkt.loads('LINESTRING (85.8859634903127471 82832.3576955195312621, 64.8852557908774514 80858.0114142517995788)'),\r\n                                   wkt.loads('LINESTRING (85.6619588893721300 82832.6896892121876590, 39.3227658066882526 80893.9887075474689482)')])\r\n```\r\n2) Check data and bounds (minx, miny, maxx, maxy) \r\n```\r\nprint(index.geometry.bounds.iloc[0].tolist())\r\nprint(index.geometry.bounds.iloc[1].tolist())\r\n\r\n[64.88525579087745, 80858.0114142518, 85.88596349031275, 82832.35769551953]\r\n[39.32276580668825, 80893.98870754747, 85.66195888937213, 82832.68968921219]\r\n\r\nprint(query.geometry.bounds.iloc[0].tolist())\r\n\r\n[63.581253964948075, 80913.20002422367, 63.581253964948075, 80913.20002422367]\r\n```\r\n3) Create and load Rtree\r\n```\r\nsindex = rtree.index.Index()\r\nsindex.insert(0, index.geometry.bounds.iloc[0].tolist())\r\nsindex.insert(1, index.geometry.bounds.iloc[1].tolist())\r\n```\r\n4) Query Rtree for nearest Neighbor (wrong index returned)\r\n```\r\nresult = list(sindex.nearest(query.geometry.bounds.iloc[0].tolist(), 1))\r\nprint(result)\r\n\r\n[1]\r\n```\r\n5) Correct result\r\n```\r\nresult = index.geometry.map(lambda x: x.distance(query.geometry.iloc[0]))\r\nprint(result)\r\n\r\n0     1.890925\r\n1    23.792500\r\nName: geometry, dtype: float64\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/162", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/162/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/162/events", "html_url": "https://github.com/Toblerity/rtree/issues/162", "id": 674908419, "node_id": "MDU6SXNzdWU2NzQ5MDg0MTk=", "number": 162, "title": "Inconsistency between Stream Loading and Insert when loading Rtree with Points", "user": {"login": "carlosg-m", "id": 55836583, "node_id": "MDQ6VXNlcjU1ODM2NTgz", "avatar_url": "https://avatars2.githubusercontent.com/u/55836583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlosg-m", "html_url": "https://github.com/carlosg-m", "followers_url": "https://api.github.com/users/carlosg-m/followers", "following_url": "https://api.github.com/users/carlosg-m/following{/other_user}", "gists_url": "https://api.github.com/users/carlosg-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlosg-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlosg-m/subscriptions", "organizations_url": "https://api.github.com/users/carlosg-m/orgs", "repos_url": "https://api.github.com/users/carlosg-m/repos", "events_url": "https://api.github.com/users/carlosg-m/events{/privacy}", "received_events_url": "https://api.github.com/users/carlosg-m/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-07T10:02:53Z", "updated_at": "2020-08-07T13:19:37Z", "closed_at": "2020-08-07T13:19:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Create test generator to load points instead of bounding boxes.\r\n```\r\ndef gen():\r\n  points = [(1,2), (3,4)]\r\n  for i, p in enumerate(points):\r\n    yield i, p, None \r\n```\r\n\r\nCan't use stream loading.\r\n```\r\nsindex = rtree.index.Index(gen())\r\n\r\nRTreeError: Error in \"Index_CreateWithStream\": IllegalArgumentException: RTree::BulkLoader::bulkLoadUsingSTR: Empty data stream given.\r\n```\r\n\r\nHowever using the insert method it works as expected.\r\n```\r\nsindex = rtree.index.Index()\r\n\r\nfor item in gen():\r\n  sindex.insert(*item)\r\n\r\nprint(sindex)\r\nrtree.index.Index(bounds=[1.0, 2.0, 3.0, 4.0], size=2)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/160", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/160/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/160/events", "html_url": "https://github.com/Toblerity/rtree/issues/160", "id": 666403171, "node_id": "MDU6SXNzdWU2NjY0MDMxNzE=", "number": 160, "title": "Are both Geographic coordinate systems and Projected coordinate systems supported?", "user": {"login": "carlosg-m", "id": 55836583, "node_id": "MDQ6VXNlcjU1ODM2NTgz", "avatar_url": "https://avatars2.githubusercontent.com/u/55836583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlosg-m", "html_url": "https://github.com/carlosg-m", "followers_url": "https://api.github.com/users/carlosg-m/followers", "following_url": "https://api.github.com/users/carlosg-m/following{/other_user}", "gists_url": "https://api.github.com/users/carlosg-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlosg-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlosg-m/subscriptions", "organizations_url": "https://api.github.com/users/carlosg-m/orgs", "repos_url": "https://api.github.com/users/carlosg-m/repos", "events_url": "https://api.github.com/users/carlosg-m/events{/privacy}", "received_events_url": "https://api.github.com/users/carlosg-m/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-27T15:56:25Z", "updated_at": "2020-07-31T14:35:58Z", "closed_at": "2020-07-31T14:01:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does this library expect input coordinates to be in a cartesian plane or does it also work with WGS84?\r\n\r\nThe 3d index expects ECEF coordinates like pyinterp.RTree?\r\n\r\nhttps://pangeo-pyinterp.readthedocs.io/en/latest/generated/pyinterp.RTree.html\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/159", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/159/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/159/events", "html_url": "https://github.com/Toblerity/rtree/issues/159", "id": 665819793, "node_id": "MDU6SXNzdWU2NjU4MTk3OTM=", "number": 159, "title": "Can't serialize rtree index when using stream loading", "user": {"login": "carlosg-m", "id": 55836583, "node_id": "MDQ6VXNlcjU1ODM2NTgz", "avatar_url": "https://avatars2.githubusercontent.com/u/55836583?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlosg-m", "html_url": "https://github.com/carlosg-m", "followers_url": "https://api.github.com/users/carlosg-m/followers", "following_url": "https://api.github.com/users/carlosg-m/following{/other_user}", "gists_url": "https://api.github.com/users/carlosg-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlosg-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlosg-m/subscriptions", "organizations_url": "https://api.github.com/users/carlosg-m/orgs", "repos_url": "https://api.github.com/users/carlosg-m/repos", "events_url": "https://api.github.com/users/carlosg-m/events{/privacy}", "received_events_url": "https://api.github.com/users/carlosg-m/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-26T16:57:55Z", "updated_at": "2020-07-31T21:59:45Z", "closed_at": "2020-07-31T21:59:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is my setup. I use a generator to get bounding boxes from a Dask DataFrame and feed them to the rtree.\r\n\r\n```\r\ndef rtree_gen(gen):\r\n  for item in gen:\r\n    index, bounds = item[0], item[1:]\r\n    yield index, bounds, None\r\n  \r\ntroco_sindex_gen = troco[['minx','miny','maxx','maxy']].itertuples(name=None)\r\ntroco_sindex_gen = rtree_gen(troco_sindex_gen)\r\n```\r\n\r\nDoing this is very fast and works while the tree object is on memory. **However it's not possible to serialize, resulting index files (rtree.idx, rtree.dat) will be empty in disk.**\r\n```\r\ntroco_sindex = rtree.index.Index(troco_sindex_gen, 'rtree')\r\n\r\ntroco_sindex.close()\r\n\r\n# This does not work\r\nload_tree = rtree.index.Index('rtree')\r\n```\r\n\r\nHowever when using the \"insert\" method, the serialization works and it's possible to load the tree from disk, while being much slower to create.\r\n\r\n```\r\ntroco_sindex = rtree.index.Index('rtree')\r\n\r\nfor index, bb, _ in troco_sindex_gen:\r\n  troco_sindex.insert(index, bb)\r\n\r\ntroco_sindex.close()\r\n\r\n# This works\r\nload_tree = rtree.index.Index('rtree')\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/154", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/154/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/154/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/154/events", "html_url": "https://github.com/Toblerity/rtree/issues/154", "id": 613078633, "node_id": "MDU6SXNzdWU2MTMwNzg2MzM=", "number": 154, "title": "Can enteries of an Index be updated?", "user": {"login": "habedi77", "id": 12297645, "node_id": "MDQ6VXNlcjEyMjk3NjQ1", "avatar_url": "https://avatars1.githubusercontent.com/u/12297645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/habedi77", "html_url": "https://github.com/habedi77", "followers_url": "https://api.github.com/users/habedi77/followers", "following_url": "https://api.github.com/users/habedi77/following{/other_user}", "gists_url": "https://api.github.com/users/habedi77/gists{/gist_id}", "starred_url": "https://api.github.com/users/habedi77/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/habedi77/subscriptions", "organizations_url": "https://api.github.com/users/habedi77/orgs", "repos_url": "https://api.github.com/users/habedi77/repos", "events_url": "https://api.github.com/users/habedi77/events{/privacy}", "received_events_url": "https://api.github.com/users/habedi77/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-06T06:22:54Z", "updated_at": "2020-05-06T13:08:42Z", "closed_at": "2020-05-06T13:08:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "My question is, if I want to update the coordinates for 1 or many entries, does index offer any support?\r\n\r\nOr should I just delete and insert it again?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/140", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/140/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/140/events", "html_url": "https://github.com/Toblerity/rtree/issues/140", "id": 561441191, "node_id": "MDU6SXNzdWU1NjE0NDExOTE=", "number": 140, "title": "nearest picking just first item", "user": {"login": "adriangb", "id": 1755071, "node_id": "MDQ6VXNlcjE3NTUwNzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1755071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adriangb", "html_url": "https://github.com/adriangb", "followers_url": "https://api.github.com/users/adriangb/followers", "following_url": "https://api.github.com/users/adriangb/following{/other_user}", "gists_url": "https://api.github.com/users/adriangb/gists{/gist_id}", "starred_url": "https://api.github.com/users/adriangb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adriangb/subscriptions", "organizations_url": "https://api.github.com/users/adriangb/orgs", "repos_url": "https://api.github.com/users/adriangb/repos", "events_url": "https://api.github.com/users/adriangb/events{/privacy}", "received_events_url": "https://api.github.com/users/adriangb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-02-07T06:08:56Z", "updated_at": "2020-02-11T14:33:01Z", "closed_at": "2020-02-11T14:33:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I ran into a case where my index had a large rectangle with a smaller rectangle inside. When I run `nearest` with `num_results=1` on a point inside the smaller rectangle, only 1 result is returned. Since the point is within both (verified by running `intersection`) I would expect that the distance to both items is 0, thus they are both equally near and are both returned. I also noticed that it's always the first one that was inserted into the index that is returned (I swapped the order of insertion and it did not change the result, if one were actually nearer, the result should change).\r\n\r\n```python3\r\nfrom rtree import index\r\n\r\npoint = (0, 0)\r\nsmall_box = (-10, -10, 10, 10)\r\nlarge_box = (-50, -50, 50, 50)\r\n\r\nidx = index.Index()\r\nidx.insert(0, small_box)\r\nidx.insert(1, large_box)\r\n\r\nprint(list(idx.nearest(point, 2)))\r\nprint(list(idx.nearest(point, 1)))\r\nprint(list(idx.intersection(point)))\r\nprint(\"\\n\")\r\n\r\n# swap order of insertion and index, this should change which one nearest returns\r\nidx = index.Index()\r\nidx.insert(0, large_box)\r\nidx.insert(1, small_box)\r\n\r\nprint(list(idx.nearest(point, 2)))\r\nprint(list(idx.nearest(point, 1)))\r\nprint(list(idx.intersection(point)))\r\nprint(\"\\n\")\r\n```\r\nOutput:\r\n```\r\n[0, 1]  # expected output for num_results=2\r\n[0]      # should also be 0, 1\r\n[0, 1]  # intersection confirms point is within both rectangles\r\n\r\n\r\n[0, 1]  # expected output for num_results=2\r\n[0]      # inconsistent with above result, swapping indexes should make this [1]\r\n[0, 1]  # intersection confirms point is within both rectangles\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/135", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/135/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/135/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/135/events", "html_url": "https://github.com/Toblerity/rtree/issues/135", "id": 540640698, "node_id": "MDU6SXNzdWU1NDA2NDA2OTg=", "number": 135, "title": "`undefined symbol: Error_GetLastErrorNum` when dependabot checks dependancies", "user": {"login": "bryanculbertson", "id": 144028, "node_id": "MDQ6VXNlcjE0NDAyOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/144028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryanculbertson", "html_url": "https://github.com/bryanculbertson", "followers_url": "https://api.github.com/users/bryanculbertson/followers", "following_url": "https://api.github.com/users/bryanculbertson/following{/other_user}", "gists_url": "https://api.github.com/users/bryanculbertson/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryanculbertson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryanculbertson/subscriptions", "organizations_url": "https://api.github.com/users/bryanculbertson/orgs", "repos_url": "https://api.github.com/users/bryanculbertson/repos", "events_url": "https://api.github.com/users/bryanculbertson/events{/privacy}", "received_events_url": "https://api.github.com/users/bryanculbertson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-19T23:33:12Z", "updated_at": "2020-01-15T20:41:41Z", "closed_at": "2020-01-15T20:41:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "[Dependabot](https://dependabot.com/) stopped being able to check dependancies when rtree >0.9 is a requirement. According to their logs the failure is `undefined symbol: Error_GetLastErrorNum` when trying to pip install `rtree`.\r\n\r\nI have filed an issue with Dependabot, but haven't heard back from them yet. Is there another fix for this other than getting Dependabot to install the latest `libspatialindex`?\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/tmp/tmpbs28h248build/rtree/setup.py\", line 3, in <module>\r\n    import rtree\r\n  File \"/tmp/tmpbs28h248build/rtree/rtree/__init__.py\", line 1, in <module>\r\n    from .index import Rtree\r\n  File \"/tmp/tmpbs28h248build/rtree/rtree/index.py\", line 6, in <module>\r\n    from . import core\r\n  File \"/tmp/tmpbs28h248build/rtree/rtree/core.py\", line 145, in <module>\r\n    rt.Error_GetLastErrorNum.restype = ctypes.c_int\r\n  File \"/usr/local/.pyenv/versions/3.7.5/lib/python3.7/ctypes/__init__.py\", line 377, in __getattr__\r\n    func = self.__getitem__(name)\r\n  File \"/usr/local/.pyenv/versions/3.7.5/lib/python3.7/ctypes/__init__.py\", line 382, in __getitem__\r\n    func = self._FuncPtr((name_or_ordinal, self))\r\nAttributeError: /usr/local/.pyenv/versions/3.7.5/bin/python3.7: undefined symbol: Error_GetLastErrorNum\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/132", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/132/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/132/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/132/events", "html_url": "https://github.com/Toblerity/rtree/issues/132", "id": 537036594, "node_id": "MDU6SXNzdWU1MzcwMzY1OTQ=", "number": 132, "title": "AttributeError: python: undefined symbol: Error_GetLastErrorNum again", "user": {"login": "davidedelvento", "id": 579771, "node_id": "MDQ6VXNlcjU3OTc3MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/579771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidedelvento", "html_url": "https://github.com/davidedelvento", "followers_url": "https://api.github.com/users/davidedelvento/followers", "following_url": "https://api.github.com/users/davidedelvento/following{/other_user}", "gists_url": "https://api.github.com/users/davidedelvento/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidedelvento/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidedelvento/subscriptions", "organizations_url": "https://api.github.com/users/davidedelvento/orgs", "repos_url": "https://api.github.com/users/davidedelvento/repos", "events_url": "https://api.github.com/users/davidedelvento/events{/privacy}", "received_events_url": "https://api.github.com/users/davidedelvento/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-12T15:09:42Z", "updated_at": "2020-02-11T14:47:17Z", "closed_at": "2020-02-11T14:47:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Per your suggestion in issue #64 I am opening a new issue. The error is exactly the same as the one in #64 \r\n\r\nUbuntu v16.04\r\nPython v3.5.2\r\nlibspatialindex v1.8.5 installed from source in `/usr/local/lib/`\r\n\r\nrtree v0.9.3 downloaded from PyPI with pip3\r\n\r\nI am trying libspatialindex v1.9.3 but that is failing for a plethora of other (unrelated) issues given the number of changes they made since v1.8.5 which break the rest of my system.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/130", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/130/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/130/events", "html_url": "https://github.com/Toblerity/rtree/issues/130", "id": 535479560, "node_id": "MDU6SXNzdWU1MzU0Nzk1NjA=", "number": 130, "title": "WindowsError not defined", "user": {"login": "mikedh", "id": 1403074, "node_id": "MDQ6VXNlcjE0MDMwNzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1403074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikedh", "html_url": "https://github.com/mikedh", "followers_url": "https://api.github.com/users/mikedh/followers", "following_url": "https://api.github.com/users/mikedh/following{/other_user}", "gists_url": "https://api.github.com/users/mikedh/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikedh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikedh/subscriptions", "organizations_url": "https://api.github.com/users/mikedh/orgs", "repos_url": "https://api.github.com/users/mikedh/repos", "events_url": "https://api.github.com/users/mikedh/events{/privacy}", "received_events_url": "https://api.github.com/users/mikedh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Toblerity/rtree/milestones/6", "html_url": "https://github.com/Toblerity/rtree/milestone/6", "labels_url": "https://api.github.com/repos/Toblerity/rtree/milestones/6/labels", "id": 4919903, "node_id": "MDk6TWlsZXN0b25lNDkxOTkwMw==", "number": 6, "title": "0.9.3", "description": "", "creator": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars2.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2019-12-10T16:36:59Z", "updated_at": "2019-12-21T14:56:51Z", "due_on": "2019-12-20T08:00:00Z", "closed_at": "2019-12-21T14:56:51Z"}, "comments": 2, "created_at": "2019-12-10T04:07:57Z", "updated_at": "2019-12-10T20:40:49Z", "closed_at": "2019-12-10T19:26:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Looks like `WindowsError` isn't always defined: https://github.com/Toblerity/rtree/commit/45506b3a680b2e5cef549260c4454fd665837510#r36349115", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/126", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/126/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/126/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/126/events", "html_url": "https://github.com/Toblerity/rtree/issues/126", "id": 532250248, "node_id": "MDU6SXNzdWU1MzIyNTAyNDg=", "number": 126, "title": "rtree 0.9 changes `PATH` incorrectly ", "user": {"login": "icexelloss", "id": 793516, "node_id": "MDQ6VXNlcjc5MzUxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/793516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icexelloss", "html_url": "https://github.com/icexelloss", "followers_url": "https://api.github.com/users/icexelloss/followers", "following_url": "https://api.github.com/users/icexelloss/following{/other_user}", "gists_url": "https://api.github.com/users/icexelloss/gists{/gist_id}", "starred_url": "https://api.github.com/users/icexelloss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icexelloss/subscriptions", "organizations_url": "https://api.github.com/users/icexelloss/orgs", "repos_url": "https://api.github.com/users/icexelloss/repos", "events_url": "https://api.github.com/users/icexelloss/events{/privacy}", "received_events_url": "https://api.github.com/users/icexelloss/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-03T20:37:08Z", "updated_at": "2019-12-03T20:58:39Z", "closed_at": "2019-12-03T20:40:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nI am a dev on https://github.com/ibis-project/ibis, recently we found this issue this rtree 0.9:\r\n\r\n```\r\n(ibis-env) root@a14be6873e30:/ibis# python\r\nPython 3.6.7 | packaged by conda-forge | (default, Nov  6 2019, 16:19:42) \r\n[GCC 7.3.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import os\r\n>>> os.environ['PATH']\r\n'/opt/conda/envs/ibis-env/bin:/opt/conda/bin:/opt/conda/condabin:/opt/conda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\r\n>>> import rtree\r\n>>> os.environ['PATH']\r\n'/opt/conda/envs/ibis-env/bin:/opt/conda/bin:/opt/conda/condabin:/opt/conda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin;/opt/conda/envs/ibis-env/lib'\r\n>>> rtree.__version__\r\n'0.9.1'\r\n```\r\n\r\nThis seems to be a new bug in 0.9:\r\n\r\n```\r\n(ibis-env) root@a14be6873e30:/ibis# python\r\nPython 3.6.7 | packaged by conda-forge | (default, Nov  6 2019, 16:19:42) \r\n[GCC 7.3.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import os\r\n>>> os.environ['PATH']\r\n'/opt/conda/envs/ibis-env/bin:/opt/conda/bin:/opt/conda/condabin:/opt/conda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\r\n>>> import rtree\r\n>>> import os\r\n>>> os.environ['PATH']\r\n'/opt/conda/envs/ibis-env/bin:/opt/conda/bin:/opt/conda/condabin:/opt/conda/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\r\n>>> rtree.__version__\r\n'0.8.3'\r\n>>> \r\n```\r\n\r\nThe impact of this is that our CI is failing due because it can no longer create subprocess with the incorrect PATH, and we would have to ping to 0.8.3 of rtree until this is fixed. (We picked the dependency via geopandas). I wonder if folks can take a look? Much appreciated!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/124", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/124/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/124/events", "html_url": "https://github.com/Toblerity/rtree/issues/124", "id": 531730510, "node_id": "MDU6SXNzdWU1MzE3MzA1MTA=", "number": 124, "title": "rtree.core adds to PATH env var with semicolon instead of colon for posix systems", "user": {"login": "bolliger32", "id": 4801430, "node_id": "MDQ6VXNlcjQ4MDE0MzA=", "avatar_url": "https://avatars2.githubusercontent.com/u/4801430?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bolliger32", "html_url": "https://github.com/bolliger32", "followers_url": "https://api.github.com/users/bolliger32/followers", "following_url": "https://api.github.com/users/bolliger32/following{/other_user}", "gists_url": "https://api.github.com/users/bolliger32/gists{/gist_id}", "starred_url": "https://api.github.com/users/bolliger32/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bolliger32/subscriptions", "organizations_url": "https://api.github.com/users/bolliger32/orgs", "repos_url": "https://api.github.com/users/bolliger32/repos", "events_url": "https://api.github.com/users/bolliger32/events{/privacy}", "received_events_url": "https://api.github.com/users/bolliger32/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-12-03T05:25:53Z", "updated_at": "2019-12-03T20:40:10Z", "closed_at": "2019-12-03T20:40:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This renders whatever the last path was in PATH unusable.\r\n\r\nhttps://github.com/Toblerity/rtree/blob/49f67091ccad45b095c62f872ec6925bd44b650f/rtree/core.py#L97", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/123", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/123/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/123/events", "html_url": "https://github.com/Toblerity/rtree/issues/123", "id": 528702911, "node_id": "MDU6SXNzdWU1Mjg3MDI5MTE=", "number": 123, "title": "OSError: dlopen(libspatialindex_c.dylib, 6): image not found", "user": {"login": "bstadlbauer", "id": 11799671, "node_id": "MDQ6VXNlcjExNzk5Njcx", "avatar_url": "https://avatars0.githubusercontent.com/u/11799671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bstadlbauer", "html_url": "https://github.com/bstadlbauer", "followers_url": "https://api.github.com/users/bstadlbauer/followers", "following_url": "https://api.github.com/users/bstadlbauer/following{/other_user}", "gists_url": "https://api.github.com/users/bstadlbauer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bstadlbauer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bstadlbauer/subscriptions", "organizations_url": "https://api.github.com/users/bstadlbauer/orgs", "repos_url": "https://api.github.com/users/bstadlbauer/repos", "events_url": "https://api.github.com/users/bstadlbauer/events{/privacy}", "received_events_url": "https://api.github.com/users/bstadlbauer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-11-26T12:47:43Z", "updated_at": "2019-12-07T05:45:22Z", "closed_at": "2019-12-07T05:44:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "When installing `rtree` with the following way: \r\n\r\n    conda create -n tmp-test python=3.6\r\n    conda activate tmp-test\r\n    pip install rtree\r\n\r\nWe get the following error in MacOS (10.14.6): \r\n```\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/private/var/folders/v4/8_tc4m_s7c7g8j61l732znyh0000gn/T/pip-install-or8d7_tk/rtree/setup.py\", line 3, in <module>\r\n        import rtree\r\n      File \"/private/var/folders/v4/8_tc4m_s7c7g8j61l732znyh0000gn/T/pip-install-or8d7_tk/rtree/rtree/__init__.py\", line 1, in <module>\r\n        from .index import Rtree\r\n      File \"/private/var/folders/v4/8_tc4m_s7c7g8j61l732znyh0000gn/T/pip-install-or8d7_tk/rtree/rtree/index.py\", line 6, in <module>\r\n        from . import core\r\n      File \"/private/var/folders/v4/8_tc4m_s7c7g8j61l732znyh0000gn/T/pip-install-or8d7_tk/rtree/rtree/core.py\", line 107, in <module>\r\n        rt = ctypes.CDLL(lib_name)\r\n      File \"/Users/bstadlbauer/miniconda3/envs/tmp-test/lib/python3.6/ctypes/__init__.py\", line 348, in __init__\r\n        self._handle = _dlopen(self._name, mode)\r\n    OSError: dlopen(libspatialindex_c.dylib, 6): image not found\r\n```\r\n\r\nand on Debian: \r\n```\r\n    Complete output (13 lines):\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-lswwpd_9/rtree/setup.py\", line 3, in <module>\r\n        import rtree\r\n      File \"/tmp/pip-install-lswwpd_9/rtree/rtree/__init__.py\", line 1, in <module>\r\n        from .index import Rtree\r\n      File \"/tmp/pip-install-lswwpd_9/rtree/rtree/index.py\", line 6, in <module>\r\n        from . import core\r\n      File \"/tmp/pip-install-lswwpd_9/rtree/rtree/core.py\", line 107, in <module>\r\n        rt = ctypes.CDLL(lib_name)\r\n      File \"/var/lib/jenkins/tools/miniconda3/envs/platform-python-cluster_develop_23/lib/python3.6/ctypes/__init__.py\", line 348, in __init__\r\n        self._handle = _dlopen(self._name, mode)\r\n    OSError: libspatialindex_c.so: cannot open shared object file: No such file or directory\r\n```\r\n\r\nOn debian installing libspatialindex dev-dependecies helps: `apt install libspatialindex-dev`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/122", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/122/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/122/events", "html_url": "https://github.com/Toblerity/rtree/issues/122", "id": 528543569, "node_id": "MDU6SXNzdWU1Mjg1NDM1Njk=", "number": 122, "title": "Change in handling of empty stream", "user": {"login": "jorisvandenbossche", "id": 1020496, "node_id": "MDQ6VXNlcjEwMjA0OTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1020496?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jorisvandenbossche", "html_url": "https://github.com/jorisvandenbossche", "followers_url": "https://api.github.com/users/jorisvandenbossche/followers", "following_url": "https://api.github.com/users/jorisvandenbossche/following{/other_user}", "gists_url": "https://api.github.com/users/jorisvandenbossche/gists{/gist_id}", "starred_url": "https://api.github.com/users/jorisvandenbossche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jorisvandenbossche/subscriptions", "organizations_url": "https://api.github.com/users/jorisvandenbossche/orgs", "repos_url": "https://api.github.com/users/jorisvandenbossche/repos", "events_url": "https://api.github.com/users/jorisvandenbossche/events{/privacy}", "received_events_url": "https://api.github.com/users/jorisvandenbossche/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-26T07:36:19Z", "updated_at": "2019-12-07T04:43:54Z", "closed_at": "2019-12-07T04:43:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We noticed a change in the handling of an empty stream in the geopandas test suite (https://github.com/geopandas/geopandas/issues/1221). It doesn't seem anything critical, but still wondering if this was an accidental change or on purpose.\r\n\r\nWith rtree 0.8.3, you get a \"Empty data stream given\" error when passing an empty generator:\r\n\r\n```\r\nIn [17]: sindex = rtree.index.Index((x for x in []))\r\n---------------------------------------------------------------------------\r\nRTreeError                                Traceback (most recent call last)\r\n<ipython-input-17-fa5e0cb56316> in <module>\r\n----> 1 sindex = rtree.index.Index((x for x in []))\r\n\r\n~/miniconda3/lib/python3.7/site-packages/rtree/index.py in __init__(self, *args, **kwargs)\r\n    262 \r\n    263         if stream:\r\n--> 264             self.handle = self._create_idx_from_stream(stream)\r\n    265         else:\r\n    266             self.handle = IndexHandle(self.properties.handle)\r\n\r\n~/miniconda3/lib/python3.7/site-packages/rtree/index.py in _create_idx_from_stream(self, stream)\r\n    726 \r\n    727         stream = core.NEXTFUNC(py_next_item)\r\n--> 728         return IndexStreamHandle(self.properties.handle, stream)\r\n    729 \r\n    730     def leaves(self):\r\n\r\n~/miniconda3/lib/python3.7/site-packages/rtree/index.py in __init__(self, *args, **kwargs)\r\n    852 \r\n    853     def __init__(self, *args, **kwargs):\r\n--> 854         self._ptr = self._create(*args, **kwargs)\r\n    855 \r\n    856     def _create(self, *args, **kwargs):\r\n\r\n~/miniconda3/lib/python3.7/site-packages/rtree/core.py in check_void(result, func, cargs)\r\n     27         msg = 'Error in \"%s\": %s' % (func.__name__, s)\r\n     28         rt.Error_Reset()\r\n---> 29         raise RTreeError(msg)\r\n     30     return result\r\n     31 \r\n\r\nRTreeError: Error in \"Index_CreateWithStream\": IllegalArgumentException: RTree::BulkLoader::bulkLoadUsingSTR: Empty data stream given.\r\n```\r\n\r\nWith 0.9.1, this seems to \"work\" now (it creates an index object):\r\n\r\n```\r\nIn [22]: sindex = rtree.index.Index((x for x in []))\r\n```\r\n\r\nbut once you try to do something with it, it gives a *\"'Index' object has no attribute 'handle'\"* error, which doesn't seem a very useful error message towards users:\r\n\r\n```\r\nIn [23]: sindex.bounds \r\n...\r\n~/miniconda3/envs/dev/lib/python3.7/site-packages/rtree/index.py in get_bounds(self, coordinate_interleaved)\r\n    908             coordinate_interleaved = self.interleaved\r\n    909         return _get_bounds(\r\n--> 910             self.handle, core.rt.Index_GetBounds, coordinate_interleaved)\r\n    911     bounds = property(get_bounds)\r\n    912 \r\n\r\nAttributeError: 'Index' object has no attribute 'handle'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/120", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/120/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/120/events", "html_url": "https://github.com/Toblerity/rtree/issues/120", "id": 527904854, "node_id": "MDU6SXNzdWU1Mjc5MDQ4NTQ=", "number": 120, "title": "rtree version 0.9 install error:  OSError: libspatialindex_c.so: cannot open shared object file", "user": {"login": "lior-k", "id": 5006408, "node_id": "MDQ6VXNlcjUwMDY0MDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/5006408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lior-k", "html_url": "https://github.com/lior-k", "followers_url": "https://api.github.com/users/lior-k/followers", "following_url": "https://api.github.com/users/lior-k/following{/other_user}", "gists_url": "https://api.github.com/users/lior-k/gists{/gist_id}", "starred_url": "https://api.github.com/users/lior-k/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lior-k/subscriptions", "organizations_url": "https://api.github.com/users/lior-k/orgs", "repos_url": "https://api.github.com/users/lior-k/repos", "events_url": "https://api.github.com/users/lior-k/events{/privacy}", "received_events_url": "https://api.github.com/users/lior-k/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2019-11-25T07:37:02Z", "updated_at": "2019-12-10T19:48:25Z", "closed_at": "2019-11-25T15:09:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nrunning `pip install \"rtree>=0.8,<1\"` fails with this error:\r\n```\r\nCollecting rtree<1,>=0.8\r\n  Downloading https://files.pythonhosted.org/packages/5e/64/a01a6675c39ddfba2467cc6b432ce9af2e71a3a67e9e8ace106ccda10df8/Rtree-0.9.0.tar.gz (52kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 61kB 2.7MB/s\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-r2lpov2a/rtree/setup.py\", line 3, in <module>\r\n        import rtree\r\n      File \"/tmp/pip-build-r2lpov2a/rtree/rtree/__init__.py\", line 1, in <module>\r\n        from .index import Rtree\r\n      File \"/tmp/pip-build-r2lpov2a/rtree/rtree/index.py\", line 6, in <module>\r\n        from . import core\r\n      File \"/tmp/pip-build-r2lpov2a/rtree/rtree/core.py\", line 104, in <module>\r\n        rt = ctypes.CDLL(lib_name)\r\n      File \"/usr/local/lib/python3.6/ctypes/__init__.py\", line 348, in __init__\r\n        self._handle = _dlopen(self._name, mode)\r\n    OSError: libspatialindex_c.so: cannot open shared object file: No such file or directory\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-r2lpov2a/rtree/\r\n```\r\n\r\nI installed `libspatialindex_c.so` manually by running the following, but the above error still happens even though `/usr/local/lib/libspatialindex_c.so` exists now :\r\n```\r\nLIBSPATIALINDEX_VERSION=spatialindex-src-1.8.5\r\ncurl -sLO \"http://download.osgeo.org/libspatialindex/$LIBSPATIALINDEX_VERSION.tar.gz\" && \\\r\n    tar xzf \"$LIBSPATIALINDEX_VERSION.tar.gz\" && \\\r\n    rm -rf \"$LIBSPATIALINDEX_VERSION.tar.gz\" && \\\r\n    cd \"$LIBSPATIALINDEX_VERSION\" && \\\r\n    ./configure && \\\r\n    make -j $( getconf _NPROCESSORS_ONLN 2>/dev/null || echo 1 ) && \\\r\n    make install\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/112", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/112/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/112/events", "html_url": "https://github.com/Toblerity/rtree/issues/112", "id": 451117370, "node_id": "MDU6SXNzdWU0NTExMTczNzA=", "number": 112, "title": "Make a new release", "user": {"login": "vitlav", "id": 3002368, "node_id": "MDQ6VXNlcjMwMDIzNjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3002368?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vitlav", "html_url": "https://github.com/vitlav", "followers_url": "https://api.github.com/users/vitlav/followers", "following_url": "https://api.github.com/users/vitlav/following{/other_user}", "gists_url": "https://api.github.com/users/vitlav/gists{/gist_id}", "starred_url": "https://api.github.com/users/vitlav/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vitlav/subscriptions", "organizations_url": "https://api.github.com/users/vitlav/orgs", "repos_url": "https://api.github.com/users/vitlav/repos", "events_url": "https://api.github.com/users/vitlav/events{/privacy}", "received_events_url": "https://api.github.com/users/vitlav/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-01T19:34:48Z", "updated_at": "2019-06-01T20:19:29Z", "closed_at": "2019-06-01T20:19:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please make a new release (set tag and build tarball) with python3 support", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/111", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/111/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/111/events", "html_url": "https://github.com/Toblerity/rtree/issues/111", "id": 366076613, "node_id": "MDU6SXNzdWUzNjYwNzY2MTM=", "number": 111, "title": "Python 3* compatibility", "user": {"login": "TheChymera", "id": 950524, "node_id": "MDQ6VXNlcjk1MDUyNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/950524?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheChymera", "html_url": "https://github.com/TheChymera", "followers_url": "https://api.github.com/users/TheChymera/followers", "following_url": "https://api.github.com/users/TheChymera/following{/other_user}", "gists_url": "https://api.github.com/users/TheChymera/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheChymera/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheChymera/subscriptions", "organizations_url": "https://api.github.com/users/TheChymera/orgs", "repos_url": "https://api.github.com/users/TheChymera/repos", "events_url": "https://api.github.com/users/TheChymera/events{/privacy}", "received_events_url": "https://api.github.com/users/TheChymera/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-10-02T20:57:04Z", "updated_at": "2018-10-02T21:46:39Z", "closed_at": "2018-10-02T21:46:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does the latest release (0.8.3) support Python3* all the way up to 3.6? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/107", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/107/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/107/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/107/events", "html_url": "https://github.com/Toblerity/rtree/issues/107", "id": 330612367, "node_id": "MDU6SXNzdWUzMzA2MTIzNjc=", "number": 107, "title": "Flushing Operation on Indexes", "user": {"login": "achapkowski", "id": 5131271, "node_id": "MDQ6VXNlcjUxMzEyNzE=", "avatar_url": "https://avatars1.githubusercontent.com/u/5131271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/achapkowski", "html_url": "https://github.com/achapkowski", "followers_url": "https://api.github.com/users/achapkowski/followers", "following_url": "https://api.github.com/users/achapkowski/following{/other_user}", "gists_url": "https://api.github.com/users/achapkowski/gists{/gist_id}", "starred_url": "https://api.github.com/users/achapkowski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/achapkowski/subscriptions", "organizations_url": "https://api.github.com/users/achapkowski/orgs", "repos_url": "https://api.github.com/users/achapkowski/repos", "events_url": "https://api.github.com/users/achapkowski/events{/privacy}", "received_events_url": "https://api.github.com/users/achapkowski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Toblerity/rtree/milestones/4", "html_url": "https://github.com/Toblerity/rtree/milestone/4", "labels_url": "https://api.github.com/repos/Toblerity/rtree/milestones/4/labels", "id": 4836205, "node_id": "MDk6TWlsZXN0b25lNDgzNjIwNQ==", "number": 4, "title": "0.9.0", "description": "", "creator": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars2.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-11-11T22:09:19Z", "updated_at": "2020-03-02T18:55:30Z", "due_on": "2019-11-27T08:00:00Z", "closed_at": "2019-12-03T20:39:47Z"}, "comments": 2, "created_at": "2018-06-08T10:53:37Z", "updated_at": "2019-11-11T23:16:28Z", "closed_at": "2019-11-11T23:16:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I see on the Spatial index, there is an option to close the index file, is there a way to flush?\r\n\r\nPer Python Doc:\r\n\r\n```Flush the write buffers of the stream if applicable. This does nothing for read-only and non-blocking streams.```\r\n\r\nI think this would help for the creation of very large spatial indexes, so you can write very large indexes to disk without holding everything in memory before writing.\r\n\r\nDesired Workflow:\r\n\r\n```\r\nfrom rtree import Index\r\nidx = Index('rtree.index')\r\n\r\nfor cnt, g in enumerate(geoms):\r\n    idx.insert(cnt, g.bounds())\r\n    if cnt == 10000:\r\n         idx.flush()\r\n```\r\n\r\nI don't know if this is possible since it's just a wrapper on the c libraries, but I figured I'd ask here first.\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/105", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/105/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/105/events", "html_url": "https://github.com/Toblerity/rtree/issues/105", "id": 316209309, "node_id": "MDU6SXNzdWUzMTYyMDkzMDk=", "number": 105, "title": "Multithreading issue", "user": {"login": "yatagan", "id": 724577, "node_id": "MDQ6VXNlcjcyNDU3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/724577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yatagan", "html_url": "https://github.com/yatagan", "followers_url": "https://api.github.com/users/yatagan/followers", "following_url": "https://api.github.com/users/yatagan/following{/other_user}", "gists_url": "https://api.github.com/users/yatagan/gists{/gist_id}", "starred_url": "https://api.github.com/users/yatagan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yatagan/subscriptions", "organizations_url": "https://api.github.com/users/yatagan/orgs", "repos_url": "https://api.github.com/users/yatagan/repos", "events_url": "https://api.github.com/users/yatagan/events{/privacy}", "received_events_url": "https://api.github.com/users/yatagan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-20T10:11:46Z", "updated_at": "2019-11-11T23:12:32Z", "closed_at": "2019-11-11T23:12:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "My code works well until I start to use several threads:\r\n\r\n```\r\n<class 'ctypes.ArgumentError'>: argument 5: <class 'TypeError'>: expected LP_LP_c_void_p instance instead of pointer to LP_c_void_p\r\n```\r\n\r\nIt happens on line 481: https://github.com/Toblerity/rtree/blob/483bd9b21d897a9cc63642517c24d637f008b1bd/rtree/index.py#L481\r\n\r\nRtree==0.8.3", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/104", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/104/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/104/events", "html_url": "https://github.com/Toblerity/rtree/issues/104", "id": 314413384, "node_id": "MDU6SXNzdWUzMTQ0MTMzODQ=", "number": 104, "title": "Import docs to RTD", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-04-15T12:56:15Z", "updated_at": "2018-04-15T13:19:47Z", "closed_at": "2018-04-15T13:19:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Follow up on #102.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/100", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/100/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/100/events", "html_url": "https://github.com/Toblerity/rtree/issues/100", "id": 288051052, "node_id": "MDU6SXNzdWUyODgwNTEwNTI=", "number": 100, "title": "sjoin failure on larger files", "user": {"login": "lucaspanayiotou", "id": 31956847, "node_id": "MDQ6VXNlcjMxOTU2ODQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/31956847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucaspanayiotou", "html_url": "https://github.com/lucaspanayiotou", "followers_url": "https://api.github.com/users/lucaspanayiotou/followers", "following_url": "https://api.github.com/users/lucaspanayiotou/following{/other_user}", "gists_url": "https://api.github.com/users/lucaspanayiotou/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucaspanayiotou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucaspanayiotou/subscriptions", "organizations_url": "https://api.github.com/users/lucaspanayiotou/orgs", "repos_url": "https://api.github.com/users/lucaspanayiotou/repos", "events_url": "https://api.github.com/users/lucaspanayiotou/events{/privacy}", "received_events_url": "https://api.github.com/users/lucaspanayiotou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-01-12T09:07:46Z", "updated_at": "2019-11-15T14:38:13Z", "closed_at": "2019-11-11T23:13:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are using rtree and getting the following error when working with large files, in our case over 500K rows and 55 columns (18 populated). Our code runs in a docker container using apache. Our developer mentioned that the failure could be due to this being a memory intensive task. Our error is as follows.\r\n\r\n2018-01-11 16:36:49,938 - INFO - Processing locations.\r\n2018-01-11 16:36:50,177 - INFO - STARTED: keys_server.CAFL.CAFLKeysLookup.process_locations\r\n2018-01-11 16:36:50,277 - INFO - COMPLETED: keys_server.CAFL.CAFLKeysLookup.process_locations in 0.0s\r\n2018-01-11 16:36:51,860 - INFO - STARTED: keys_server.CAFL.CAFLKeysLookup._get_area_peril_ids\r\n2018-01-11 16:36:51,999 - INFO - COMPLETED: keys_server.CAFL.CAFLKeysLookup._get_area_peril_ids in 0.0s\r\n2018-01-11 16:36:52,000 - INFO - Creating a geodataframe\r\n2018-01-11 16:37:03,246 - INFO - Reprojecting geodataframe\r\n2018-01-11 16:37:48,627 - INFO - Performing spatial join\r\n2018-01-11 16:38:14,539 - ERROR - Keys lookup error: Error in \"Index_CreateWithStream\": Tools::BufferedFileWriter::open: Cannot open file.: iostream error.\r\nTraceback (most recent call last):\r\n  File \"/var/www/oasis/oasis_keys_server/app.py\", line 173, in get_keys\r\n    for location_rec in keys_lookup.process_locations(loc_data, mime_type=mime_type):\r\n  File \"/var/www/oasis/keys_server/CAFL/CAFLKeysLookup.py\", line 74, in process_locations\r\n    for geo_df_row in self._get_area_peril_ids(loc_df, include_context=True):\r\n  File \"/var/www/oasis/keys_server/CAFL/CAFLKeysLookup.py\", line 188, in _get_area_peril_ids\r\n    pointInPolys = sjoin(points, self.polys, how='left', op='within')\r\n  File \"/usr/local/lib/python2.7/dist-packages/geopandas/tools/sjoin.py\", line 69, in sjoin\r\n    tree_idx = rtree.index.Index(stream)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rtree/index.py\", line 264, in __init__\r\n    self.handle = self._create_idx_from_stream(stream)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rtree/index.py\", line 728, in _create_idx_from_stream\r\n    return IndexStreamHandle(self.properties.handle, stream)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rtree/index.py\", line 854, in __init__\r\n    self._ptr = self._create(*args, **kwargs)\r\n  File \"/usr/local/lib/python2.7/dist-packages/rtree/core.py\", line 28, in check_void\r\n    raise RTreeError(msg)\r\nRTreeError: Error in \"Index_CreateWithStream\": Tools::BufferedFileWriter::open: Cannot open file.: iostream error", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/99", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/99/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/99/events", "html_url": "https://github.com/Toblerity/rtree/issues/99", "id": 287291335, "node_id": "MDU6SXNzdWUyODcyOTEzMzU=", "number": 99, "title": "Nearest Neighbors Order", "user": {"login": "SZanlongo", "id": 3081414, "node_id": "MDQ6VXNlcjMwODE0MTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/3081414?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SZanlongo", "html_url": "https://github.com/SZanlongo", "followers_url": "https://api.github.com/users/SZanlongo/followers", "following_url": "https://api.github.com/users/SZanlongo/following{/other_user}", "gists_url": "https://api.github.com/users/SZanlongo/gists{/gist_id}", "starred_url": "https://api.github.com/users/SZanlongo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SZanlongo/subscriptions", "organizations_url": "https://api.github.com/users/SZanlongo/orgs", "repos_url": "https://api.github.com/users/SZanlongo/repos", "events_url": "https://api.github.com/users/SZanlongo/events{/privacy}", "received_events_url": "https://api.github.com/users/SZanlongo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-10T01:59:56Z", "updated_at": "2019-11-11T23:15:59Z", "closed_at": "2019-11-11T23:15:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does `nearest` simply return the `k` nearest neighbors (unordered), or do they follow a specific ordering?\r\n\r\nI've tried following the implementation myself but haven't figured it out yet.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/98", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/98/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/98/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/98/events", "html_url": "https://github.com/Toblerity/rtree/issues/98", "id": 285195123, "node_id": "MDU6SXNzdWUyODUxOTUxMjM=", "number": 98, "title": "issue while performing spatial join operation", "user": {"login": "shreeprem4u", "id": 34597454, "node_id": "MDQ6VXNlcjM0NTk3NDU0", "avatar_url": "https://avatars0.githubusercontent.com/u/34597454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shreeprem4u", "html_url": "https://github.com/shreeprem4u", "followers_url": "https://api.github.com/users/shreeprem4u/followers", "following_url": "https://api.github.com/users/shreeprem4u/following{/other_user}", "gists_url": "https://api.github.com/users/shreeprem4u/gists{/gist_id}", "starred_url": "https://api.github.com/users/shreeprem4u/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shreeprem4u/subscriptions", "organizations_url": "https://api.github.com/users/shreeprem4u/orgs", "repos_url": "https://api.github.com/users/shreeprem4u/repos", "events_url": "https://api.github.com/users/shreeprem4u/events{/privacy}", "received_events_url": "https://api.github.com/users/shreeprem4u/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-30T10:12:37Z", "updated_at": "2017-12-31T18:35:59Z", "closed_at": "2017-12-31T18:35:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Traceback (most recent call last):\r\n  File \"join.py\", line 2, in <module>\r\n    import geopandas as gpd\r\n  File \"/usr/local/lib/python2.7/dist-packages/geopandas/__init__.py\", line 1, in <module>\r\n    from geopandas.geoseries import GeoSeries\r\n  File \"/usr/local/lib/python2.7/dist-packages/geopandas/geoseries.py\", line 12, in <module>\r\n    from geopandas.base import GeoPandasBase, _series_unary_op, _CoordinateIndexer\r\n  File \"/usr/local/lib/python2.7/dist-packages/geopandas/base.py\", line 14, in <module>\r\n    from rtree.core import RTreeError\r\n  File \"/usr/local/lib/python2.7/dist-packages/rtree/__init__.py\", line 1, in <module>\r\n    from .index import Rtree\r\n  File \"/usr/local/lib/python2.7/dist-packages/rtree/index.py\", line 5, in <module>\r\n    from . import core\r\n  File \"/usr/local/lib/python2.7/dist-packages/rtree/core.py\", line 125, in <module>\r\n    raise OSError(\"Could not find libspatialindex_c library file\")\r\nOSError: Could not find libspatialindex_c library file\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/97", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/97/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/97/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/97/events", "html_url": "https://github.com/Toblerity/rtree/issues/97", "id": 283247226, "node_id": "MDU6SXNzdWUyODMyNDcyMjY=", "number": 97, "title": "Migrate to MIT License?", "user": {"login": "yeesian", "id": 1231079, "node_id": "MDQ6VXNlcjEyMzEwNzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1231079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yeesian", "html_url": "https://github.com/yeesian", "followers_url": "https://api.github.com/users/yeesian/followers", "following_url": "https://api.github.com/users/yeesian/following{/other_user}", "gists_url": "https://api.github.com/users/yeesian/gists{/gist_id}", "starred_url": "https://api.github.com/users/yeesian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yeesian/subscriptions", "organizations_url": "https://api.github.com/users/yeesian/orgs", "repos_url": "https://api.github.com/users/yeesian/repos", "events_url": "https://api.github.com/users/yeesian/events{/privacy}", "received_events_url": "https://api.github.com/users/yeesian/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 25, "created_at": "2017-12-19T14:24:11Z", "updated_at": "2018-12-05T20:51:59Z", "closed_at": "2018-12-05T20:51:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\n> libspatialindex changed from a LGPL to a MIT license as of the 1.8.0 release. For most situations, this should have no impact on the library\u2019s use, but it should open it up for usage in situations that otherwise might have been problematic. Versions of libspatialindex prior to 1.8.0 were licensed LGPL 2.0, with the license description on this file. The codebase has been been updated, with licensing information replaced in headers and source files, to use the MIT license as of the 1.8.0+ release.\r\n> This change was made to support the inclusion of software depending on libspatialindex in static linking-only environments such as embedded systems and Apple\u2019s iOS. libspatialindex versions prior to 1.8.0 will continue to live on as LGPL software, and developers can continue to contribute to them under terms of that license, but the main development effort, and ongoing maintenance, releases, and bug applications, will move forward using the new MIT license at http://github.com/libspatialindex/libspatialindex\r\n\r\n[(source)](https://libspatialindex.github.io/#licensing-history)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/96", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/96/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/96/events", "html_url": "https://github.com/Toblerity/rtree/issues/96", "id": 280931348, "node_id": "MDU6SXNzdWUyODA5MzEzNDg=", "number": 96, "title": "Index stream error", "user": {"login": "GISConsortium", "id": 12030296, "node_id": "MDQ6VXNlcjEyMDMwMjk2", "avatar_url": "https://avatars2.githubusercontent.com/u/12030296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GISConsortium", "html_url": "https://github.com/GISConsortium", "followers_url": "https://api.github.com/users/GISConsortium/followers", "following_url": "https://api.github.com/users/GISConsortium/following{/other_user}", "gists_url": "https://api.github.com/users/GISConsortium/gists{/gist_id}", "starred_url": "https://api.github.com/users/GISConsortium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GISConsortium/subscriptions", "organizations_url": "https://api.github.com/users/GISConsortium/orgs", "repos_url": "https://api.github.com/users/GISConsortium/repos", "events_url": "https://api.github.com/users/GISConsortium/events{/privacy}", "received_events_url": "https://api.github.com/users/GISConsortium/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-11T08:26:55Z", "updated_at": "2017-12-11T15:16:11Z", "closed_at": "2017-12-11T15:16:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "import rtree\r\nridx = rtree.index.Index( [(0,(0,0,10,10),None), (1,(0,0,10,10),None)] )\r\n\r\nI am facing this issue while creating index on my data.\r\n\r\nTraceback (most recent call last):\r\nFile \"_ctypes/callbacks.c\", line 313, in 'calling callback function'\r\nFile \"C:\\Python27\\lib\\site-packages\\rtree\\index.py\", line 717, in py_next_item\r\np_dimension[0] = dimension\r\nValueError: NULL pointer access\r\nTraceback (most recent call last):\r\nPython Shell, prompt 3, line 1\r\nFile \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 264, in init\r\nself.handle = self._create_idx_from_stream(stream)\r\nFile \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 728, in _create_idx_from_stream\r\nreturn IndexStreamHandle(self.properties.handle, stream)\r\nFile \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 854, in init\r\nself._ptr = self._create(*args, **kwargs)\r\nFile \"C:\\Python27\\Lib\\site-packages\\rtree\\core.py\", line 28, in check_void\r\nraise RTreeError(msg)\r\nrtree.core.RTreeError: Error in \"Index_CreateWithStream\": IllegalArgumentException: RTree::BulkLoader::bulkLoadUsingSTR: Empty data stream given.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/95", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/95/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/95/events", "html_url": "https://github.com/Toblerity/rtree/issues/95", "id": 280686255, "node_id": "MDU6SXNzdWUyODA2ODYyNTU=", "number": 95, "title": "Issue while indexing", "user": {"login": "GISConsortium", "id": 12030296, "node_id": "MDQ6VXNlcjEyMDMwMjk2", "avatar_url": "https://avatars2.githubusercontent.com/u/12030296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GISConsortium", "html_url": "https://github.com/GISConsortium", "followers_url": "https://api.github.com/users/GISConsortium/followers", "following_url": "https://api.github.com/users/GISConsortium/following{/other_user}", "gists_url": "https://api.github.com/users/GISConsortium/gists{/gist_id}", "starred_url": "https://api.github.com/users/GISConsortium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GISConsortium/subscriptions", "organizations_url": "https://api.github.com/users/GISConsortium/orgs", "repos_url": "https://api.github.com/users/GISConsortium/repos", "events_url": "https://api.github.com/users/GISConsortium/events{/privacy}", "received_events_url": "https://api.github.com/users/GISConsortium/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-09T05:53:45Z", "updated_at": "2017-12-09T14:33:56Z", "closed_at": "2017-12-09T14:33:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "from rtree import index\r\nidx= index.Index((7, (-3.5731852365209757, 0.7485694484767316, -2.9501297095816534, 1.5179486218942282), None))\r\n\r\n\r\nError:\r\n\r\nTraceback (most recent call last):\r\n  File \"_ctypes/callbacks.c\", line 313, in 'calling callback function'\r\n  File \"C:\\Python27\\lib\\site-packages\\rtree\\index.py\", line 699, in py_next_item\r\n    p_id[0], coordinates, obj = next(stream_iter)\r\nTypeError: 'int' object is not iterable\r\nTraceback (most recent call last):\r\n  Python Shell, prompt 5, line 1\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 264, in __init__\r\n    self.handle = self._create_idx_from_stream(stream)\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 728, in _create_idx_from_stream\r\n    return IndexStreamHandle(self.properties.handle, stream)\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 854, in __init__\r\n    self._ptr = self._create(*args, **kwargs)\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\core.py\", line 28, in check_void\r\n    raise RTreeError(msg)\r\nrtree.core.RTreeError: Error in \"Index_CreateWithStream\": IllegalArgumentException: RTree::BulkLoader::bulkLoadUsingSTR: Empty data stream given.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/94", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/94/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/94/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/94/events", "html_url": "https://github.com/Toblerity/rtree/issues/94", "id": 280371559, "node_id": "MDU6SXNzdWUyODAzNzE1NTk=", "number": 94, "title": "Issue calling rtree.index.Index(object)", "user": {"login": "GISConsortium", "id": 12030296, "node_id": "MDQ6VXNlcjEyMDMwMjk2", "avatar_url": "https://avatars2.githubusercontent.com/u/12030296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GISConsortium", "html_url": "https://github.com/GISConsortium", "followers_url": "https://api.github.com/users/GISConsortium/followers", "following_url": "https://api.github.com/users/GISConsortium/following{/other_user}", "gists_url": "https://api.github.com/users/GISConsortium/gists{/gist_id}", "starred_url": "https://api.github.com/users/GISConsortium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GISConsortium/subscriptions", "organizations_url": "https://api.github.com/users/GISConsortium/orgs", "repos_url": "https://api.github.com/users/GISConsortium/repos", "events_url": "https://api.github.com/users/GISConsortium/events{/privacy}", "received_events_url": "https://api.github.com/users/GISConsortium/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-08T04:59:58Z", "updated_at": "2017-12-08T14:07:25Z", "closed_at": "2017-12-08T14:07:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "import rtree\r\nstream=(8, (-3.5731852365209757, 0.7485694484767316, -2.9501297095816534, 1.5179486218942282), None)\r\ntree_idx = rtree.index.Index(stream)\r\nTraceback (most recent call last):\r\n  File \"_ctypes/callbacks.c\", line 313, in 'calling callback function'\r\n  File \"C:\\Python27\\lib\\site-packages\\rtree\\index.py\", line 701, in py_next_item\r\n    p_id[0], coordinates, obj = next(stream_iter)\r\nTypeError: 'int' object is not iterable\r\nTraceback (most recent call last):\r\n  Python Shell, prompt 4, line 1\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 266, in __init__\r\n    self.handle = self._create_idx_from_stream(stream)\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 730, in _create_idx_from_stream\r\n    return IndexStreamHandle(self.properties.handle, stream)\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 856, in __init__\r\n    self._ptr = self._create(*args, **kwargs)\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\core.py\", line 28, in check_void\r\n    raise RTreeError(msg)\r\nrtree.core.RTreeError: Error in \"Index_CreateWithStream\": IllegalArgumentExc", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/93", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/93/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/93/events", "html_url": "https://github.com/Toblerity/rtree/issues/93", "id": 279726395, "node_id": "MDU6SXNzdWUyNzk3MjYzOTU=", "number": 93, "title": "Issue with RTree while using GeoPandas", "user": {"login": "GISConsortium", "id": 12030296, "node_id": "MDQ6VXNlcjEyMDMwMjk2", "avatar_url": "https://avatars2.githubusercontent.com/u/12030296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GISConsortium", "html_url": "https://github.com/GISConsortium", "followers_url": "https://api.github.com/users/GISConsortium/followers", "following_url": "https://api.github.com/users/GISConsortium/following{/other_user}", "gists_url": "https://api.github.com/users/GISConsortium/gists{/gist_id}", "starred_url": "https://api.github.com/users/GISConsortium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GISConsortium/subscriptions", "organizations_url": "https://api.github.com/users/GISConsortium/orgs", "repos_url": "https://api.github.com/users/GISConsortium/repos", "events_url": "https://api.github.com/users/GISConsortium/events{/privacy}", "received_events_url": "https://api.github.com/users/GISConsortium/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-06T11:56:01Z", "updated_at": "2017-12-07T04:33:27Z", "closed_at": "2017-12-06T14:02:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to work on geopandas, python 2.7, on windows environment. \r\n\r\nI am implementing example provided at: https://automating-gis-processes.github.io/2016/Lesson3-spatial-join.html\r\n\r\nBut I got the below-mentioned issue for R-tree while using geo-pandas.\r\nAll lines are working fine, except for the last one.\r\n\r\nMy Script:\r\n\r\nimport geopandas as gpd\r\nfp=r\"C:\\Shared\\Test_Data\\geopandastest\\Vaestotietoruudukko_2015\\Vaestotietoruudukko_2015.shp\"\r\npop = gpd.read_file(fp)\r\naddr_fp =r'C:\\Shared\\Test_Data\\geopandastest\\address\\addresses_epsg3879.shp'\r\naddresses = gpd.read_file(addr_fp)\r\njoin = gpd.sjoin(addresses, pop, how=\"inner\", op=\"within\")\r\n\r\nI am getting this error:\r\n\r\nTraceback (most recent call last):\r\n  File \"_ctypes/callbacks.c\", line 313, in 'calling callback function'\r\n  File \"C:\\Python27\\lib\\site-packages\\rtree\\index.py\", line 717, in py_next_item\r\n    p_dimension[0] = dimension\r\nValueError: NULL pointer access\r\nTraceback (most recent call last):\r\n  Python Shell, prompt 25, line 1\r\n  File \"C:\\Python27\\Lib\\site-packages\\geopandas\\tools\\sjoin.py\", line 69, in sjoin\r\n    tree_idx = rtree.index.Index(stream)\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 264, in __init__\r\n    self.handle = self._create_idx_from_stream(stream)\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 728, in _create_idx_from_stream\r\n    return IndexStreamHandle(self.properties.handle, stream)\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\index.py\", line 854, in __init__\r\n    self._ptr = self._create(*args, **kwargs)\r\n  File \"C:\\Python27\\Lib\\site-packages\\rtree\\core.py\", line 28, in check_void\r\n    raise RTreeError(msg)\r\nrtree.core.RTreeError: Error in \"Index_CreateWithStream\": IllegalArgumentException: RTree::BulkLoader::bulkLoadUsingSTR: Empty data stream given.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/91", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/91/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/91/events", "html_url": "https://github.com/Toblerity/rtree/issues/91", "id": 236531401, "node_id": "MDU6SXNzdWUyMzY1MzE0MDE=", "number": 91, "title": "AttributeError: 'function' object has no attribute 'Index'", "user": {"login": "nafis042", "id": 26213218, "node_id": "MDQ6VXNlcjI2MjEzMjE4", "avatar_url": "https://avatars0.githubusercontent.com/u/26213218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nafis042", "html_url": "https://github.com/nafis042", "followers_url": "https://api.github.com/users/nafis042/followers", "following_url": "https://api.github.com/users/nafis042/following{/other_user}", "gists_url": "https://api.github.com/users/nafis042/gists{/gist_id}", "starred_url": "https://api.github.com/users/nafis042/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nafis042/subscriptions", "organizations_url": "https://api.github.com/users/nafis042/orgs", "repos_url": "https://api.github.com/users/nafis042/repos", "events_url": "https://api.github.com/users/nafis042/events{/privacy}", "received_events_url": "https://api.github.com/users/nafis042/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-16T16:25:18Z", "updated_at": "2017-06-16T16:41:20Z", "closed_at": "2017-06-16T16:41:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "from rtree import index\r\n\r\ndef read(request):\r\n    idx = index.Index()\r\n    return HttpResponse(\"\")\r\n\r\ngetting this error : AttributeError: 'function' object has no attribute 'Index'\r\nI am running on windows and downloaded the whl file from http://www.lfd.uci.edu/~gohlke/pythonlibs/#rtree", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/90", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/90/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/90/events", "html_url": "https://github.com/Toblerity/rtree/issues/90", "id": 221967052, "node_id": "MDU6SXNzdWUyMjE5NjcwNTI=", "number": 90, "title": "Get number of items in the index", "user": {"login": "r-barnes", "id": 3118036, "node_id": "MDQ6VXNlcjMxMTgwMzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/3118036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/r-barnes", "html_url": "https://github.com/r-barnes", "followers_url": "https://api.github.com/users/r-barnes/followers", "following_url": "https://api.github.com/users/r-barnes/following{/other_user}", "gists_url": "https://api.github.com/users/r-barnes/gists{/gist_id}", "starred_url": "https://api.github.com/users/r-barnes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/r-barnes/subscriptions", "organizations_url": "https://api.github.com/users/r-barnes/orgs", "repos_url": "https://api.github.com/users/r-barnes/repos", "events_url": "https://api.github.com/users/r-barnes/events{/privacy}", "received_events_url": "https://api.github.com/users/r-barnes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Toblerity/rtree/milestones/4", "html_url": "https://github.com/Toblerity/rtree/milestone/4", "labels_url": "https://api.github.com/repos/Toblerity/rtree/milestones/4/labels", "id": 4836205, "node_id": "MDk6TWlsZXN0b25lNDgzNjIwNQ==", "number": 4, "title": "0.9.0", "description": "", "creator": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars2.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-11-11T22:09:19Z", "updated_at": "2020-03-02T18:55:30Z", "due_on": "2019-11-27T08:00:00Z", "closed_at": "2019-12-03T20:39:47Z"}, "comments": 0, "created_at": "2017-04-15T19:15:25Z", "updated_at": "2019-11-14T19:41:42Z", "closed_at": "2019-11-14T19:41:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there, or can there be, a way to get the number of items in the index?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/89", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/89/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/89/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/89/events", "html_url": "https://github.com/Toblerity/rtree/issues/89", "id": 221965538, "node_id": "MDU6SXNzdWUyMjE5NjU1Mzg=", "number": 89, "title": "Index stream error message is unhelpful", "user": {"login": "r-barnes", "id": 3118036, "node_id": "MDQ6VXNlcjMxMTgwMzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/3118036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/r-barnes", "html_url": "https://github.com/r-barnes", "followers_url": "https://api.github.com/users/r-barnes/followers", "following_url": "https://api.github.com/users/r-barnes/following{/other_user}", "gists_url": "https://api.github.com/users/r-barnes/gists{/gist_id}", "starred_url": "https://api.github.com/users/r-barnes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/r-barnes/subscriptions", "organizations_url": "https://api.github.com/users/r-barnes/orgs", "repos_url": "https://api.github.com/users/r-barnes/repos", "events_url": "https://api.github.com/users/r-barnes/events{/privacy}", "received_events_url": "https://api.github.com/users/r-barnes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2017-04-15T18:46:25Z", "updated_at": "2019-11-24T16:52:17Z", "closed_at": "2019-11-14T19:44:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have the following program:\r\n\r\n```\r\nimport rtree\r\nridx1 = rtree.index.Index( [(0,(0,0,10,10))] )\r\nridx2 = rtree.index.Index( [(0,(0,0,10,10),None)] )\r\n```\r\n\r\nRunning it gives the following output:\r\n\r\n```\r\n>>> import rtree\r\n>>> \r\n>>> ridx = rtree.index.Index( [(0,(0,0,10,10))] )\r\nTraceback (most recent call last):\r\n  File \"_ctypes/callbacks.c\", line 234, in 'calling callback function'\r\n  File \"/usr/lib/python3/dist-packages/rtree/index.py\", line 679, in py_next_item\r\n    p_id[0], coordinates, obj = next(stream_iter)\r\nValueError: not enough values to unpack (expected 3, got 2)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/lib/python3/dist-packages/rtree/index.py\", line 246, in __init__\r\n    self.handle = self._create_idx_from_stream(stream)\r\n  File \"/usr/lib/python3/dist-packages/rtree/index.py\", line 710, in _create_idx_from_stream\r\n    return core.rt.Index_CreateWithStream(self.properties.handle, stream)\r\n  File \"/usr/lib/python3/dist-packages/rtree/core.py\", line 24, in check_void\r\n    raise RTreeError(msg)\r\nrtree.core.RTreeError: Error in \"Index_CreateWithStream\": b'IllegalArgumentException: RTree::BulkLoader::bulkLoadUsingSTR: Empty data stream given.'\r\n>>> \r\n>>> ridx = rtree.index.Index( [(0,(0,0,10,10),None)] )\r\n>>> \r\n```\r\n\r\nNote that the key message to me, the user, is `Empty data stream given.`\r\n\r\nIn reality, the issue is that I haven't included a `None` object as part of the input tuple. It would be nice if this issue was detected and a more helpful message given to the user.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/88", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/88/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/88/events", "html_url": "https://github.com/Toblerity/rtree/issues/88", "id": 219955897, "node_id": "MDU6SXNzdWUyMTk5NTU4OTc=", "number": 88, "title": "Cannot install rtree with PyInstaller (spatialindex library is not copied)", "user": {"login": "Felix-neko", "id": 5650922, "node_id": "MDQ6VXNlcjU2NTA5MjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/5650922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Felix-neko", "html_url": "https://github.com/Felix-neko", "followers_url": "https://api.github.com/users/Felix-neko/followers", "following_url": "https://api.github.com/users/Felix-neko/following{/other_user}", "gists_url": "https://api.github.com/users/Felix-neko/gists{/gist_id}", "starred_url": "https://api.github.com/users/Felix-neko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Felix-neko/subscriptions", "organizations_url": "https://api.github.com/users/Felix-neko/orgs", "repos_url": "https://api.github.com/users/Felix-neko/repos", "events_url": "https://api.github.com/users/Felix-neko/events{/privacy}", "received_events_url": "https://api.github.com/users/Felix-neko/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-04-06T16:27:42Z", "updated_at": "2020-08-06T07:37:28Z", "closed_at": "2019-11-14T19:46:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a Python script that use `rtree`. I want to build an exe file with it and its dependencies via PyInstaller. \r\n\r\nAlas, when the exe is built, the \r\n\r\nHere is a minimal example of script `rtree_demo.py` using `rtree` (taken from your tutorial):\r\n```\r\nimport rtree\r\nfrom rtree import index\r\n\r\nif __name__ == \"__main__\":\r\n    idx = index.Index()\r\n    left, bottom, right, top = (0.0, 0.0, 1.0, 1.0)\r\n    idx.insert(0, (left, bottom, right, top))\r\n    print(list(idx.intersection((1.0, 1.0, 2.0, 2.0))))\r\n    print(list(idx.intersection((1.0000001, 1.0000001, 2.0, 2.0))))\r\n```\r\n\r\nI tried to build it with PyInstaller:\r\n\r\n`pyinstaller.exe --onedir rtree_demo.py`\r\n\r\nWhen it was built, I tried to run `dist/rtree_demo/rtree_demo.exe`. Alas, it said me:\r\n\r\n```\r\nOSError: could not find or load spatialindex_c.dll\r\nFailed to execute script rtree_demo\r\n```\r\n\r\nCannot you fix it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/86", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/86/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/86/events", "html_url": "https://github.com/Toblerity/rtree/issues/86", "id": 212933361, "node_id": "MDU6SXNzdWUyMTI5MzMzNjE=", "number": 86, "title": " ..", "user": {"login": "angelc134", "id": 12435819, "node_id": "MDQ6VXNlcjEyNDM1ODE5", "avatar_url": "https://avatars2.githubusercontent.com/u/12435819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/angelc134", "html_url": "https://github.com/angelc134", "followers_url": "https://api.github.com/users/angelc134/followers", "following_url": "https://api.github.com/users/angelc134/following{/other_user}", "gists_url": "https://api.github.com/users/angelc134/gists{/gist_id}", "starred_url": "https://api.github.com/users/angelc134/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/angelc134/subscriptions", "organizations_url": "https://api.github.com/users/angelc134/orgs", "repos_url": "https://api.github.com/users/angelc134/repos", "events_url": "https://api.github.com/users/angelc134/events{/privacy}", "received_events_url": "https://api.github.com/users/angelc134/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-03-09T04:36:48Z", "updated_at": "2017-03-09T04:37:04Z", "closed_at": "2017-03-09T04:37:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/84", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/84/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/84/events", "html_url": "https://github.com/Toblerity/rtree/issues/84", "id": 211930826, "node_id": "MDU6SXNzdWUyMTE5MzA4MjY=", "number": 84, "title": "Documentation is outdated", "user": {"login": "QuLogic", "id": 302469, "node_id": "MDQ6VXNlcjMwMjQ2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/302469?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuLogic", "html_url": "https://github.com/QuLogic", "followers_url": "https://api.github.com/users/QuLogic/followers", "following_url": "https://api.github.com/users/QuLogic/following{/other_user}", "gists_url": "https://api.github.com/users/QuLogic/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuLogic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuLogic/subscriptions", "organizations_url": "https://api.github.com/users/QuLogic/orgs", "repos_url": "https://api.github.com/users/QuLogic/repos", "events_url": "https://api.github.com/users/QuLogic/events{/privacy}", "received_events_url": "https://api.github.com/users/QuLogic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-05T05:08:50Z", "updated_at": "2018-04-15T12:55:25Z", "closed_at": "2018-04-15T12:55:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "http://toblerity.github.com/rtree/ (in the info here) redirects to http://toblerity.org/rtree/ which is the documentation for 0.7.0, when there have been 4 releases after that.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/83", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/83/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/83/events", "html_url": "https://github.com/Toblerity/rtree/issues/83", "id": 200300842, "node_id": "MDU6SXNzdWUyMDAzMDA4NDI=", "number": 83, "title": "getting the size of the index", "user": {"login": "DeoLeung", "id": 3764720, "node_id": "MDQ6VXNlcjM3NjQ3MjA=", "avatar_url": "https://avatars2.githubusercontent.com/u/3764720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DeoLeung", "html_url": "https://github.com/DeoLeung", "followers_url": "https://api.github.com/users/DeoLeung/followers", "following_url": "https://api.github.com/users/DeoLeung/following{/other_user}", "gists_url": "https://api.github.com/users/DeoLeung/gists{/gist_id}", "starred_url": "https://api.github.com/users/DeoLeung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DeoLeung/subscriptions", "organizations_url": "https://api.github.com/users/DeoLeung/orgs", "repos_url": "https://api.github.com/users/DeoLeung/repos", "events_url": "https://api.github.com/users/DeoLeung/events{/privacy}", "received_events_url": "https://api.github.com/users/DeoLeung/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-01-12T07:56:06Z", "updated_at": "2019-11-14T19:45:19Z", "closed_at": "2019-11-14T19:45:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm curious that how to get the size of the index? in the form of the points(rectangles) inserted.\r\n\r\nThanks,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/80", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/80/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/80/events", "html_url": "https://github.com/Toblerity/rtree/issues/80", "id": 195274677, "node_id": "MDU6SXNzdWUxOTUyNzQ2Nzc=", "number": 80, "title": "Exceptions in stream generator are (somewhat) ignored", "user": {"login": "nchidsey", "id": 14133223, "node_id": "MDQ6VXNlcjE0MTMzMjIz", "avatar_url": "https://avatars3.githubusercontent.com/u/14133223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nchidsey", "html_url": "https://github.com/nchidsey", "followers_url": "https://api.github.com/users/nchidsey/followers", "following_url": "https://api.github.com/users/nchidsey/following{/other_user}", "gists_url": "https://api.github.com/users/nchidsey/gists{/gist_id}", "starred_url": "https://api.github.com/users/nchidsey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nchidsey/subscriptions", "organizations_url": "https://api.github.com/users/nchidsey/orgs", "repos_url": "https://api.github.com/users/nchidsey/repos", "events_url": "https://api.github.com/users/nchidsey/events{/privacy}", "received_events_url": "https://api.github.com/users/nchidsey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Toblerity/rtree/milestones/4", "html_url": "https://github.com/Toblerity/rtree/milestone/4", "labels_url": "https://api.github.com/repos/Toblerity/rtree/milestones/4/labels", "id": 4836205, "node_id": "MDk6TWlsZXN0b25lNDgzNjIwNQ==", "number": 4, "title": "0.9.0", "description": "", "creator": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars2.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-11-11T22:09:19Z", "updated_at": "2020-03-02T18:55:30Z", "due_on": "2019-11-27T08:00:00Z", "closed_at": "2019-12-03T20:39:47Z"}, "comments": 4, "created_at": "2016-12-13T14:57:31Z", "updated_at": "2019-11-14T19:56:23Z", "closed_at": "2019-11-14T19:56:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Exceptions that occur inside a stream generator do not usually cause the program to stop.  They are printed to stderr but then either continue or another unrelated exception is raised from rtree.  Three reproduction examples:\r\n\r\n```python\r\ndef keyboard_interrupt_gen():\r\n    while True:\r\n        yield (0, (1,2,3,4), None)\r\n        time.sleep(0.1)\r\n\r\ndef bad_gen_1():\r\n    # insert at least 6 or so before the exception\r\n    for i in range(10):\r\n        yield (i, (1,2,3,4), None)\r\n    raise Exception(\"raising here\")\r\n\r\ndef bad_gen_2():\r\n    yield (0, (1,2,3,4), None)\r\n    raise Exception(\"raising here\")\r\n\r\nRtree(keyboard_interrupt_gen())\r\nprint \"should not get here\"\r\n```\r\n\r\nIf a `KeyboardInterrupt` or any other exception is raised *after* a minimal number of items are yielded (looks like around 5), then a traceback is printed to stderr, but the exception is lost and the code continues.  \"should not get here\" is printed in the example above for the first two generator functions even though they never finish successfully.\r\n\r\nIf the exception occurs *before* a minimal number of items (but after at least 1), then the traceback is printed to stderr as above, but also another exception occurs in rtree, which at least ends the processing though not with the original exception:\r\n```\r\nrtree.core.RTreeError: Error in \"Index_CreateWithStream\": IllegalArgumentException: Region::combineRegion: Region has different number of dimensions.\r\nException AttributeError: AttributeError(\"'IndexStreamHandle' object has no attribute '_ptr'\",) in <bound method IndexStreamHandle.__del__ of <rtree.index.IndexStreamHandle object at 0x0229DEF0>> ignored\r\n```\r\n\r\nSo under normal conditions, a `KeyboardInterrupt` or other exception is effectively ignored and the program continues.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/79", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/79/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/79/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/79/events", "html_url": "https://github.com/Toblerity/rtree/issues/79", "id": 194908532, "node_id": "MDU6SXNzdWUxOTQ5MDg1MzI=", "number": 79, "title": "0.8.3 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Toblerity/rtree/milestones/2", "html_url": "https://github.com/Toblerity/rtree/milestone/2", "labels_url": "https://api.github.com/repos/Toblerity/rtree/milestones/2/labels", "id": 1380166, "node_id": "MDk6TWlsZXN0b25lMTM4MDE2Ng==", "number": 2, "title": "0.8.3", "description": "", "creator": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars2.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2015-10-27T19:04:19Z", "updated_at": "2016-12-14T20:55:22Z", "due_on": "2015-12-15T08:00:00Z", "closed_at": "2016-12-14T20:55:22Z"}, "comments": 1, "created_at": "2016-12-12T07:37:56Z", "updated_at": "2016-12-20T11:08:40Z", "closed_at": "2016-12-14T20:43:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We should get a release with the fix for #71 out to help downstream developers: https://github.com/gboeing/osmnx/issues/8#issuecomment-266358053.\r\n\r\n- [x] close or actively defer other open tickets\r\n- [x] tag\r\n- [x] make dists\r\n- [x] upload", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/78", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/78/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/78/events", "html_url": "https://github.com/Toblerity/rtree/issues/78", "id": 191849684, "node_id": "MDU6SXNzdWUxOTE4NDk2ODQ=", "number": 78, "title": "egg_info failed with error code 1 on Debian", "user": {"login": "raphadasilva", "id": 2005117, "node_id": "MDQ6VXNlcjIwMDUxMTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/2005117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raphadasilva", "html_url": "https://github.com/raphadasilva", "followers_url": "https://api.github.com/users/raphadasilva/followers", "following_url": "https://api.github.com/users/raphadasilva/following{/other_user}", "gists_url": "https://api.github.com/users/raphadasilva/gists{/gist_id}", "starred_url": "https://api.github.com/users/raphadasilva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raphadasilva/subscriptions", "organizations_url": "https://api.github.com/users/raphadasilva/orgs", "repos_url": "https://api.github.com/users/raphadasilva/repos", "events_url": "https://api.github.com/users/raphadasilva/events{/privacy}", "received_events_url": "https://api.github.com/users/raphadasilva/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-11-27T08:43:23Z", "updated_at": "2016-11-28T07:43:23Z", "closed_at": "2016-11-27T14:53:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Morning !\r\n\r\nI'm sorry if a similar issue was already opened, but I didn't find anything title close to my problem.\r\n\r\nI'm using Linux SMP Debian 3.16.7-ckt25-2 (kernel release 3.16.0-4-amd64) on my laptop, and here's the log when I run a sudo pip3 install rtree : \r\n\r\n```\r\nDownloading/unpacking rtree\r\n  Downloading Rtree-0.8.2.tar.gz (55kB): 55kB downloaded\r\n  Running setup.py (path:/tmp/pip-build-06qzn7u1/rtree/setup.py) egg_info for package rtree\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 17, in <module>\r\n      File \"/tmp/pip-build-06qzn7u1/rtree/setup.py\", line 4, in <module>\r\n        import rtree\r\n      File \"/tmp/pip-build-06qzn7u1/rtree/rtree/__init__.py\", line 1, in <module>\r\n        from .index import Rtree\r\n      File \"/tmp/pip-build-06qzn7u1/rtree/rtree/index.py\", line 6, in <module>\r\n        from . import core\r\n      File \"/tmp/pip-build-06qzn7u1/rtree/rtree/core.py\", line 110, in <module>\r\n        rt.Error_GetLastErrorNum.restype = ctypes.c_int\r\n      File \"/usr/lib/python3.4/ctypes/__init__.py\", line 364, in __getattr__\r\n        func = self.__getitem__(name)\r\n      File \"/usr/lib/python3.4/ctypes/__init__.py\", line 369, in __getitem__\r\n        func = self._FuncPtr((name_or_ordinal, self))\r\n    AttributeError: /usr/bin/python3: undefined symbol: Error_GetLastErrorNum\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n\r\n  File \"<string>\", line 17, in <module>\r\n\r\n  File \"/tmp/pip-build-06qzn7u1/rtree/setup.py\", line 4, in <module>\r\n\r\n    import rtree\r\n\r\n  File \"/tmp/pip-build-06qzn7u1/rtree/rtree/__init__.py\", line 1, in <module>\r\n\r\n    from .index import Rtree\r\n\r\n  File \"/tmp/pip-build-06qzn7u1/rtree/rtree/index.py\", line 6, in <module>\r\n\r\n    from . import core\r\n\r\n  File \"/tmp/pip-build-06qzn7u1/rtree/rtree/core.py\", line 110, in <module>\r\n\r\n    rt.Error_GetLastErrorNum.restype = ctypes.c_int\r\n\r\n  File \"/usr/lib/python3.4/ctypes/__init__.py\", line 364, in __getattr__\r\n\r\n    func = self.__getitem__(name)\r\n\r\n  File \"/usr/lib/python3.4/ctypes/__init__.py\", line 369, in __getitem__\r\n\r\n    func = self._FuncPtr((name_or_ordinal, self))\r\n\r\nAttributeError: /usr/bin/python3: undefined symbol: Error_GetLastErrorNum\r\n\r\n----------------------------------------\r\nCleaning up...\r\nCommand python setup.py egg_info failed with error code 1 in /tmp/pip-build-06qzn7u1/rtree\r\nStoring debug log for failure in /root/.pip/pip.log\r\n```\r\nI'm sorry, it's quite long... But hope you could help !\r\n\r\nThanks in advance and have a nice day.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/75", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/75/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/75/events", "html_url": "https://github.com/Toblerity/rtree/issues/75", "id": 171549543, "node_id": "MDU6SXNzdWUxNzE1NDk1NDM=", "number": 75, "title": "pip install fails with \"AttributeError: /usr/bin/python2: undefined symbol: Error_GetLastErrorNum\"", "user": {"login": "traverseda", "id": 2125828, "node_id": "MDQ6VXNlcjIxMjU4Mjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/2125828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/traverseda", "html_url": "https://github.com/traverseda", "followers_url": "https://api.github.com/users/traverseda/followers", "following_url": "https://api.github.com/users/traverseda/following{/other_user}", "gists_url": "https://api.github.com/users/traverseda/gists{/gist_id}", "starred_url": "https://api.github.com/users/traverseda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/traverseda/subscriptions", "organizations_url": "https://api.github.com/users/traverseda/orgs", "repos_url": "https://api.github.com/users/traverseda/repos", "events_url": "https://api.github.com/users/traverseda/events{/privacy}", "received_events_url": "https://api.github.com/users/traverseda/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-08-17T00:36:01Z", "updated_at": "2016-10-16T04:10:14Z", "closed_at": "2016-10-16T04:10:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nCollecting rtree (from trimesh[all])\n  Using cached Rtree-0.8.2.tar.gz\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 1, in <module>\n      File \"/tmp/pip-build-Bh7x0q/rtree/setup.py\", line 4, in <module>\n        import rtree\n      File \"rtree/__init__.py\", line 1, in <module>\n        from .index import Rtree\n      File \"rtree/index.py\", line 6, in <module>\n        from . import core\n      File \"rtree/core.py\", line 110, in <module>\n        rt.Error_GetLastErrorNum.restype = ctypes.c_int\n      File \"/usr/lib/python2.7/ctypes/__init__.py\", line 375, in __getattr__\n        func = self.__getitem__(name)\n      File \"/usr/lib/python2.7/ctypes/__init__.py\", line 380, in __getitem__\n        func = self._FuncPtr((name_or_ordinal, self))\n    AttributeError: /usr/bin/python2: undefined symbol: Error_GetLastErrorNum\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/71", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/71/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/71/events", "html_url": "https://github.com/Toblerity/rtree/issues/71", "id": 148364652, "node_id": "MDU6SXNzdWUxNDgzNjQ2NTI=", "number": 71, "title": "Some tests failure with Python 2.7 on Debian 8.3", "user": {"login": "frallain", "id": 1921242, "node_id": "MDQ6VXNlcjE5MjEyNDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1921242?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frallain", "html_url": "https://github.com/frallain", "followers_url": "https://api.github.com/users/frallain/followers", "following_url": "https://api.github.com/users/frallain/following{/other_user}", "gists_url": "https://api.github.com/users/frallain/gists{/gist_id}", "starred_url": "https://api.github.com/users/frallain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frallain/subscriptions", "organizations_url": "https://api.github.com/users/frallain/orgs", "repos_url": "https://api.github.com/users/frallain/repos", "events_url": "https://api.github.com/users/frallain/events{/privacy}", "received_events_url": "https://api.github.com/users/frallain/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Toblerity/rtree/milestones/2", "html_url": "https://github.com/Toblerity/rtree/milestone/2", "labels_url": "https://api.github.com/repos/Toblerity/rtree/milestones/2/labels", "id": 1380166, "node_id": "MDk6TWlsZXN0b25lMTM4MDE2Ng==", "number": 2, "title": "0.8.3", "description": "", "creator": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars2.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 5, "state": "closed", "created_at": "2015-10-27T19:04:19Z", "updated_at": "2016-12-14T20:55:22Z", "due_on": "2015-12-15T08:00:00Z", "closed_at": "2016-12-14T20:55:22Z"}, "comments": 6, "created_at": "2016-04-14T13:40:07Z", "updated_at": "2016-10-16T04:03:05Z", "closed_at": "2016-10-16T04:03:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to make it pass all the tests but I am stuck on these 3 tests:\n\n``` bash\napt-get install libspatialindex-c3 libspatialindex-dev libspatialindex3 libspatialindex3-dbg\nwget http://github.com/Toblerity/rtree/archive/master.tar.gz # (Latest commit 16bd3a7 on Oct 27, 2015)\ntar zxf master.tar.gz \ncd rtree-master/\npython setup.py install\npython setup.py test \n```\n\n```\nrunning test\nrunning egg_info\nwriting requirements to Rtree.egg-info/requires.txt\nwriting Rtree.egg-info/PKG-INFO\nwriting top-level names to Rtree.egg-info/top_level.txt\nwriting dependency_links to Rtree.egg-info/dependency_links.txt\nreading manifest file 'Rtree.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\nwriting manifest file 'Rtree.egg-info/SOURCES.txt'\nrunning build_ext\n/app/rtree-master/tests/BoundsCheck.txt\nDoctest: BoundsCheck.txt ... ok\n/app/rtree-master/tests/index.txt\nDoctest: index.txt ... FAIL\n/app/rtree-master/tests/properties.txt\nDoctest: properties.txt ... ok\n/app/rtree-master/tests/test_customStorage.txt\nDoctest: test_customStorage.txt ... ok\n/app/rtree-master/tests/test_misc.txt\nDoctest: test_misc.txt ... FAIL\n/app/rtree-master/tests/z_cleanup.txt\nDoctest: z_cleanup.txt ... FAIL\n\n======================================================================\nFAIL: /app/rtree-master/tests/index.txt\nDoctest: index.txt\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/doctest.py\", line 2226, in runTest\n    raise self.failureException(self.format_failure(new.getvalue()))\nAssertionError: Failed doctest test for index.txt\n  File \"/app/rtree-master/tests/index.txt\", line 0\n\n----------------------------------------------------------------------\nFile \"/app/rtree-master/tests/index.txt\", line 260, in index.txt\nFailed example:\n    sorted(hits)\nExpected:\n    [0, 4, 16, 27, 35, 40, 47, 50, 76, 80]\nGot:\n    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\n\n======================================================================\nFAIL: /app/rtree-master/tests/test_misc.txt\nDoctest: test_misc.txt\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/doctest.py\", line 2226, in runTest\n    raise self.failureException(self.format_failure(new.getvalue()))\nAssertionError: Failed doctest test for test_misc.txt\n  File \"/app/rtree-master/tests/test_misc.txt\", line 0\n\n----------------------------------------------------------------------\nFile \"/app/rtree-master/tests/test_misc.txt\", line 39, in test_misc.txt\nFailed example:\n    r = Rtree(f)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/lib/python2.7/doctest.py\", line 1315, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest test_misc.txt[13]>\", line 1, in <module>\n        r = Rtree(f)\n      File \"/app/rtree-master/rtree/index.py\", line 212, in __init__\n        if os.path.exists(p):\n      File \"/usr/lib/python2.7/genericpath.py\", line 18, in exists\n        os.stat(path)\n    UnicodeEncodeError: 'ascii' codec can't encode character u'\\u4500' in position 26: ordinal not in range(128)\n\n\n======================================================================\nFAIL: /app/rtree-master/tests/z_cleanup.txt\nDoctest: z_cleanup.txt\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/doctest.py\", line 2226, in runTest\n    raise self.failureException(self.format_failure(new.getvalue()))\nAssertionError: Failed doctest test for z_cleanup.txt\n  File \"/app/rtree-master/tests/z_cleanup.txt\", line 0\n\n----------------------------------------------------------------------\nFile \"/app/rtree-master/tests/z_cleanup.txt\", line 12, in z_cleanup.txt\nFailed example:\n    for f in files:\n        try:\n            os.remove(f)\n        except OSError:\n            time.sleep(0.1)\n            os.remove(f)\nException raised:\n    Traceback (most recent call last):\n      File \"/usr/lib/python2.7/doctest.py\", line 1315, in __run\n        compileflags, 1) in test.globs\n      File \"<doctest z_cleanup.txt[5]>\", line 6, in <module>\n        os.remove(f)\n    OSError: [Errno 2] No such file or directory: 'gilename\\xe4\\x94\\x80abc.dat'\n\n\n----------------------------------------------------------------------\nRan 6 tests in 0.251s\n\nFAILED (failures=3)\nException NameError: \"global name 'rt' is not defined\" in <bound method PropertyHandle.__del__ of <rtree.index.PropertyHandle object at 0x7fc311190850>> ignored\nException NameError: \"global name 'rt' is not defined\" in <bound method PropertyHandle.__del__ of <rtree.index.PropertyHandle object at 0x7fc30627d110>> ignored\n```\n\nAny ideas of what could have gone wrong ?\n\nThanks for that piece of software\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/70", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/70/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/70/events", "html_url": "https://github.com/Toblerity/rtree/issues/70", "id": 148307665, "node_id": "MDU6SXNzdWUxNDgzMDc2NjU=", "number": 70, "title": "Cannot append idx_extension or dat_extension to python strings", "user": {"login": "ARF1", "id": 5834577, "node_id": "MDQ6VXNlcjU4MzQ1Nzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5834577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ARF1", "html_url": "https://github.com/ARF1", "followers_url": "https://api.github.com/users/ARF1/followers", "following_url": "https://api.github.com/users/ARF1/following{/other_user}", "gists_url": "https://api.github.com/users/ARF1/gists{/gist_id}", "starred_url": "https://api.github.com/users/ARF1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ARF1/subscriptions", "organizations_url": "https://api.github.com/users/ARF1/orgs", "repos_url": "https://api.github.com/users/ARF1/repos", "events_url": "https://api.github.com/users/ARF1/events{/privacy}", "received_events_url": "https://api.github.com/users/ARF1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-14T09:48:16Z", "updated_at": "2016-10-16T04:03:43Z", "closed_at": "2016-10-16T04:03:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Presumably related to #69.\n\nOn\n\n```\nPython 3.4.4 |Continuum Analytics, Inc.| (default, Mar  4 2016, 15:23:09) [MSC v\n.1600 32 bit (Intel)] on win32\n```\n\nthe `dat_extension` and `idx_extension` properties cannot be appended to python strings:\n\n```\nTraceback (most recent call last):\n  File \"C:\\Users\\ARF1\\Documents\\Programming\\gis\\module1.py\", line 243, in\n<module>\n    run(args)\n  File \"C:\\Users\\ARF1\\Documents\\Programming\\gis\\module1.py\", line 140, in\nrun\n    filename = 'test' + rtree_props.dat_extension\nTypeError: Can't convert 'bytes' object to str implicitly\nPress any key to continue . . .\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/69", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/69/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/69/events", "html_url": "https://github.com/Toblerity/rtree/issues/69", "id": 148306737, "node_id": "MDU6SXNzdWUxNDgzMDY3Mzc=", "number": 69, "title": "dat_extension & idx_extension cannot be set", "user": {"login": "ARF1", "id": 5834577, "node_id": "MDQ6VXNlcjU4MzQ1Nzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5834577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ARF1", "html_url": "https://github.com/ARF1", "followers_url": "https://api.github.com/users/ARF1/followers", "following_url": "https://api.github.com/users/ARF1/following{/other_user}", "gists_url": "https://api.github.com/users/ARF1/gists{/gist_id}", "starred_url": "https://api.github.com/users/ARF1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ARF1/subscriptions", "organizations_url": "https://api.github.com/users/ARF1/orgs", "repos_url": "https://api.github.com/users/ARF1/repos", "events_url": "https://api.github.com/users/ARF1/events{/privacy}", "received_events_url": "https://api.github.com/users/ARF1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-14T09:44:02Z", "updated_at": "2016-08-24T19:00:55Z", "closed_at": "2016-08-24T19:00:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "On\n\n```\nPython 3.4.4 |Continuum Analytics, Inc.| (default, Mar  4 2016, 15:23:09) [MSC v\n.1600 32 bit (Intel)] on win32\n```\n\nthe `dat_extension` and `idx_extension` properties cannot be set:\n\n```\nTraceback (most recent call last):\n  File \"C:\\Users\\ARF1\\Documents\\Programming\\gis\\module1.py\", line 242, in\n<module>\n    run(args)\n  File \"C:\\Users\\ARF1\\Documents\\Programming\\gis\\module1.py\", line 138, in\nrun\n    rtree_props.dat_extension = 'rtree_dat'\n  File \"C:\\Anaconda\\envs\\gis\\lib\\site-packages\\rtree\\index.py\", line 1056, in se\nt_dat_extension\n    return core.rt.IndexProperty_SetFileNameExtensionDat(self.handle, value)\nctypes.ArgumentError: argument 2: <class 'TypeError'>: wrong type\nPress any key to continue . . .\n```\n\nFailed work-arounds:\n- `rtree_props.dat_extension = r'rtree_dat'`\n- `rtree_props.dat_extension = c_wchar_p('rtree_dat')`\n- `rtree_props.dat_extension = c_char_p(b'rtree_dat')`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/68", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/68/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/68/events", "html_url": "https://github.com/Toblerity/rtree/issues/68", "id": 148088644, "node_id": "MDU6SXNzdWUxNDgwODg2NDQ=", "number": 68, "title": "Bulk insert not working?", "user": {"login": "chusband", "id": 2432180, "node_id": "MDQ6VXNlcjI0MzIxODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/2432180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chusband", "html_url": "https://github.com/chusband", "followers_url": "https://api.github.com/users/chusband/followers", "following_url": "https://api.github.com/users/chusband/following{/other_user}", "gists_url": "https://api.github.com/users/chusband/gists{/gist_id}", "starred_url": "https://api.github.com/users/chusband/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chusband/subscriptions", "organizations_url": "https://api.github.com/users/chusband/orgs", "repos_url": "https://api.github.com/users/chusband/repos", "events_url": "https://api.github.com/users/chusband/events{/privacy}", "received_events_url": "https://api.github.com/users/chusband/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-04-13T14:58:10Z", "updated_at": "2016-10-16T04:04:00Z", "closed_at": "2016-10-16T04:04:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using version 1.8.5 of libspatialindex and version 0.8.2 of rtree\n\n``` python\nfrom rtree import index\nfrom random import random\ndef generator_function():\n    for i, coord in enumerate((random(), random()) for i in range(10000)):\n        yield (i, (coord[0], coord[1], coord[0], coord[1]), None)\n%time tree = index.Index(generator_function())\n```\n\nRTreeError: Error in \"Index_CreateWithStream\": b'IllegalArgumentException: Region::combineRegion: Region has different number of dimensions.'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/67", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/67/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/67/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/67/events", "html_url": "https://github.com/Toblerity/rtree/issues/67", "id": 146419492, "node_id": "MDU6SXNzdWUxNDY0MTk0OTI=", "number": 67, "title": "Memory leak / garbage collection issue with large objects", "user": {"login": "ARF1", "id": 5834577, "node_id": "MDQ6VXNlcjU4MzQ1Nzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5834577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ARF1", "html_url": "https://github.com/ARF1", "followers_url": "https://api.github.com/users/ARF1/followers", "following_url": "https://api.github.com/users/ARF1/following{/other_user}", "gists_url": "https://api.github.com/users/ARF1/gists{/gist_id}", "starred_url": "https://api.github.com/users/ARF1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ARF1/subscriptions", "organizations_url": "https://api.github.com/users/ARF1/orgs", "repos_url": "https://api.github.com/users/ARF1/repos", "events_url": "https://api.github.com/users/ARF1/events{/privacy}", "received_events_url": "https://api.github.com/users/ARF1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Toblerity/rtree/milestones/4", "html_url": "https://github.com/Toblerity/rtree/milestone/4", "labels_url": "https://api.github.com/repos/Toblerity/rtree/milestones/4/labels", "id": 4836205, "node_id": "MDk6TWlsZXN0b25lNDgzNjIwNQ==", "number": 4, "title": "0.9.0", "description": "", "creator": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars2.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 10, "state": "closed", "created_at": "2019-11-11T22:09:19Z", "updated_at": "2020-03-02T18:55:30Z", "due_on": "2019-11-27T08:00:00Z", "closed_at": "2019-12-03T20:39:47Z"}, "comments": 2, "created_at": "2016-04-06T20:10:16Z", "updated_at": "2019-11-11T22:09:36Z", "closed_at": "2016-12-12T16:54:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "If one stores a large number of (large-ish) objects (python nested lists) in the RTree, one encounters the following error on Windows and CPython 3.4.4, rtree 0.8.2:\n\n`RTreeError: Error in \"Index_CreateWithStream\": b'bad allocation'`\n\nSame issue occurs when one does not use stream loading.\n\nMy hunch is that the buffer created with `create_string_buffer(...)` in `_serialize(...)` never gets freed.\n\nThe only reliable solution I found was to call\n\n```\nimport gc\ngc.collect()\n```\n\nin `py_next_item(...)` in `Index._create_idx_from_stream(...)` every once in a while.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/66", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/66/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/66/events", "html_url": "https://github.com/Toblerity/rtree/issues/66", "id": 136986267, "node_id": "MDU6SXNzdWUxMzY5ODYyNjc=", "number": 66, "title": "Bulk Stream loading", "user": {"login": "soumyamittal", "id": 9538328, "node_id": "MDQ6VXNlcjk1MzgzMjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/9538328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/soumyamittal", "html_url": "https://github.com/soumyamittal", "followers_url": "https://api.github.com/users/soumyamittal/followers", "following_url": "https://api.github.com/users/soumyamittal/following{/other_user}", "gists_url": "https://api.github.com/users/soumyamittal/gists{/gist_id}", "starred_url": "https://api.github.com/users/soumyamittal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/soumyamittal/subscriptions", "organizations_url": "https://api.github.com/users/soumyamittal/orgs", "repos_url": "https://api.github.com/users/soumyamittal/repos", "events_url": "https://api.github.com/users/soumyamittal/events{/privacy}", "received_events_url": "https://api.github.com/users/soumyamittal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-02-28T00:31:03Z", "updated_at": "2016-03-18T00:07:48Z", "closed_at": "2016-03-18T00:07:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "The combination of Rtree 0.8.2 and libspatialindex 1.8.5 works well on Darwin (OS X) with stream loading but it shows error of wrong number of dimensions when using on RHEL 6.5. So I downgraded the libspatialindex to different versions and observed no errors with < 1.8.0. But then, I started getting problems with wrong id's (all zeros) similar to previous issues. \nSo, now I downgraded Rtree as well to version 0.8.0 and now everything works well! \n\nEssentially, stream loading works for me on 0.8.0 + 1.8.0 combination on RHEL 6.5. The usual workarounds work in my case as well, such as using insert method and returning raw objects but they are slow. \n\nWhy is this happening? Are there any optimizations added in the newer versions for both Rtree and libspatialindex?\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/65", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/65/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/65/events", "html_url": "https://github.com/Toblerity/rtree/issues/65", "id": 129765111, "node_id": "MDU6SXNzdWUxMjk3NjUxMTE=", "number": 65, "title": "Index does not pickle fully", "user": {"login": "megatron-me-uk", "id": 1583328, "node_id": "MDQ6VXNlcjE1ODMzMjg=", "avatar_url": "https://avatars3.githubusercontent.com/u/1583328?v=4", "gravatar_id": "", "url": "https://api.github.com/users/megatron-me-uk", "html_url": "https://github.com/megatron-me-uk", "followers_url": "https://api.github.com/users/megatron-me-uk/followers", "following_url": "https://api.github.com/users/megatron-me-uk/following{/other_user}", "gists_url": "https://api.github.com/users/megatron-me-uk/gists{/gist_id}", "starred_url": "https://api.github.com/users/megatron-me-uk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/megatron-me-uk/subscriptions", "organizations_url": "https://api.github.com/users/megatron-me-uk/orgs", "repos_url": "https://api.github.com/users/megatron-me-uk/repos", "events_url": "https://api.github.com/users/megatron-me-uk/events{/privacy}", "received_events_url": "https://api.github.com/users/megatron-me-uk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-29T13:23:19Z", "updated_at": "2016-10-19T14:28:54Z", "closed_at": "2016-10-19T14:28:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "When pickling and unpickling an Index, not enough information is stored to create a new index. Instead, pointers to the original index are stored. This can cause problems in multiprocess environments (such as pyspark).\n\nMinimal code to reproduce:\n\n```\n>>> import rtree\n>>> index=rtree.index.Index()\n>>> index.insert(1, (1,1,2,2))\n>>> index.intersection((1.5,1.5))\n<generator object _get_ids at 0x7ffe78c9b780>\n>>> list(index.intersection((1.5,1.5)))\n[1]\n>>> import cPickle\n>>> pck=cPickle.dumps(index)\n>>> index2=cPickle.loads(pck)\n>>> list(index2.intersection((1.5,1.5)))\n[1]\n>>> pck\n\"ccopy_reg\\n_reconstructor\\np1\\n(crtree.index\\nIndex\\np2\\nc__builtin__\\nobject\\np3\\nNtRp4\\n(dp5\\nS'owned'\\np6\\nI01\\nsS'handle'\\np7\\nI20381712\\nsS'properties'\\np8\\ng1\\n(crtree.index\\nProperty\\np9\\ng3\\nNtRp10\\n(dp11\\ng7\\nI20354048\\nsg6\\nI01\\nsbsS'interleaved'\\np12\\nI01\\nsb.\"\n>>> del index\n>>> \n>>> list(index2.intersection((1.5,1.5)))\nSegmentation fault\n```\n\nOn pyspark this means that an rtree Index cannot be broadcast to the slave nodes. A possible workaround is to create the index separately on each slave node.\n\nNote: I believe this is a separate issue to several highly google-able multithreading issues that produce the same error messages, namely:\n\n```\nRTreeError('Error in \"IndexProperty_GetDimension\": Property Dimension was empty',)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/64", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/64/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/64/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/64/events", "html_url": "https://github.com/Toblerity/rtree/issues/64", "id": 126977412, "node_id": "MDU6SXNzdWUxMjY5Nzc0MTI=", "number": 64, "title": "AttributeError: python: undefined symbol: Error_GetLastErrorNum", "user": {"login": "davidedelvento", "id": 579771, "node_id": "MDQ6VXNlcjU3OTc3MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/579771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidedelvento", "html_url": "https://github.com/davidedelvento", "followers_url": "https://api.github.com/users/davidedelvento/followers", "following_url": "https://api.github.com/users/davidedelvento/following{/other_user}", "gists_url": "https://api.github.com/users/davidedelvento/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidedelvento/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidedelvento/subscriptions", "organizations_url": "https://api.github.com/users/davidedelvento/orgs", "repos_url": "https://api.github.com/users/davidedelvento/repos", "events_url": "https://api.github.com/users/davidedelvento/events{/privacy}", "received_events_url": "https://api.github.com/users/davidedelvento/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2016-01-15T23:09:20Z", "updated_at": "2020-06-18T19:21:07Z", "closed_at": "2019-11-14T19:45:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've installed `spatialindex/1.8.5` from source and I'm trying to compile rtree 0.8.2 against it. Running\n\n```\npython setup.py install \n```\n\ntries to import rtree and fails in `ctype` \n\n```\nTraceback (most recent call last):\n  File \"setup.py\", line 4, in <module>\n    import rtree\n  File \"/glade/scratch/ddvento/build/Rtree-0.8.2/rtree/__init__.py\", line 1, in <module>\n    from .index import Rtree\n  File \"/glade/scratch/ddvento/build/Rtree-0.8.2/rtree/index.py\", line 6, in <module>\n    from . import core\n  File \"/glade/scratch/ddvento/build/Rtree-0.8.2/rtree/core.py\", line 110, in <module>\n    rt.Error_GetLastErrorNum.restype = ctypes.c_int\n  File \"/glade/apps/opt/python/2.7.7/gnu-westmere/4.8.2/lib/python2.7/ctypes/__init__.py\", line 378, in __getattr__\n    func = self.__getitem__(name)\n  File \"/glade/apps/opt/python/2.7.7/gnu-westmere/4.8.2/lib/python2.7/ctypes/__init__.py\", line 383, in __getitem__\n    func = self._FuncPtr((name_or_ordinal, self))\nAttributeError: python: undefined symbol: Error_GetLastErrorNum\n```\n\nMy plan to let rtree know about spatialindex was via the C compiler, but it failed before. How should I proceed?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/63", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/63/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/63/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/63/events", "html_url": "https://github.com/Toblerity/rtree/issues/63", "id": 123017650, "node_id": "MDU6SXNzdWUxMjMwMTc2NTA=", "number": 63, "title": "bulk loading and ids", "user": {"login": "capekode", "id": 3441812, "node_id": "MDQ6VXNlcjM0NDE4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/3441812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/capekode", "html_url": "https://github.com/capekode", "followers_url": "https://api.github.com/users/capekode/followers", "following_url": "https://api.github.com/users/capekode/following{/other_user}", "gists_url": "https://api.github.com/users/capekode/gists{/gist_id}", "starred_url": "https://api.github.com/users/capekode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/capekode/subscriptions", "organizations_url": "https://api.github.com/users/capekode/orgs", "repos_url": "https://api.github.com/users/capekode/repos", "events_url": "https://api.github.com/users/capekode/events{/privacy}", "received_events_url": "https://api.github.com/users/capekode/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-18T20:06:36Z", "updated_at": "2015-12-19T08:48:40Z", "closed_at": "2015-12-19T08:48:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "hallo, \ni have the following test code:\n\n```\nfrom rtree import index.Index\n\ndef test():\n    for i in range(10):\n        yield (i,(i,i,i,i),{'i':i})\n\nidx=Index('/tmp/idxtest',test())\nfor i in idx.nearest((0,0,0,0),20,objects=True):\n    print( i.id, i.bounds, i.object )\n```\n\nand the output is:\n\n```\n0 {'i': 0} [0.0, 0.0, 0.0, 0.0]\n0 {'i': 1} [1.0, 1.0, 1.0, 1.0]\n0 {'i': 2} [2.0, 2.0, 2.0, 2.0]\n0 {'i': 3} [3.0, 3.0, 3.0, 3.0]\n0 {'i': 4} [4.0, 4.0, 4.0, 4.0]\n0 {'i': 5} [5.0, 5.0, 5.0, 5.0]\n0 {'i': 6} [6.0, 6.0, 6.0, 6.0]\n0 {'i': 7} [7.0, 7.0, 7.0, 7.0]\n0 {'i': 8} [8.0, 8.0, 8.0, 8.0]\n0 {'i': 9} [9.0, 9.0, 9.0, 9.0]\n```\n\n... all ids are 0! \ni have verified the ids arrive unchanged at least until [here](https://github.com/Toblerity/rtree/blob/master/rtree/index.py#L692), but what happens after is a little too hard to track for me. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/62", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/62/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/62/events", "html_url": "https://github.com/Toblerity/rtree/issues/62", "id": 122510996, "node_id": "MDU6SXNzdWUxMjI1MTA5OTY=", "number": 62, "title": "encode - decode bytes", "user": {"login": "capekode", "id": 3441812, "node_id": "MDQ6VXNlcjM0NDE4MTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/3441812?v=4", "gravatar_id": "", "url": "https://api.github.com/users/capekode", "html_url": "https://github.com/capekode", "followers_url": "https://api.github.com/users/capekode/followers", "following_url": "https://api.github.com/users/capekode/following{/other_user}", "gists_url": "https://api.github.com/users/capekode/gists{/gist_id}", "starred_url": "https://api.github.com/users/capekode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/capekode/subscriptions", "organizations_url": "https://api.github.com/users/capekode/orgs", "repos_url": "https://api.github.com/users/capekode/repos", "events_url": "https://api.github.com/users/capekode/events{/privacy}", "received_events_url": "https://api.github.com/users/capekode/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-12-16T14:10:35Z", "updated_at": "2015-12-16T23:35:09Z", "closed_at": "2015-12-16T23:35:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, \ni'm trying to use rtree in python3. i'm using the version installed by:  \n\n   pip3 install rtree\n\non my ubuntu 15.04. \n\ncreating a (disk stored) index, i got an error about wrong type in set_dat_extension. had a look at the code and noticed that, at least in my version, there is:\n\n```\n    v = value.encode('utf-8')\n    return core.rt.IndexProperty_SetFileNameExtensionDat(self.handle, value)\n```\n\nso, you encode the string into bytes but after you still pass the original string to the c function. i fixed this, here as well as in set_idx_extension, passing v instead of value. i also modified get_idx_extension and get_dat_extension adding a .decode('utf-8') in order to return strings and not bytes (without this step there were other errors about adding bytes to strings...). that solved the problem. \ni guess you'll probably want to reflect the fix on your sources. \n\nand thank you for the great job done so far!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/61", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/61/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/61/events", "html_url": "https://github.com/Toblerity/rtree/issues/61", "id": 121642048, "node_id": "MDU6SXNzdWUxMjE2NDIwNDg=", "number": 61, "title": "References to Internal Nodes", "user": {"login": "Nithanaroy", "id": 670556, "node_id": "MDQ6VXNlcjY3MDU1Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/670556?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nithanaroy", "html_url": "https://github.com/Nithanaroy", "followers_url": "https://api.github.com/users/Nithanaroy/followers", "following_url": "https://api.github.com/users/Nithanaroy/following{/other_user}", "gists_url": "https://api.github.com/users/Nithanaroy/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nithanaroy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nithanaroy/subscriptions", "organizations_url": "https://api.github.com/users/Nithanaroy/orgs", "repos_url": "https://api.github.com/users/Nithanaroy/repos", "events_url": "https://api.github.com/users/Nithanaroy/events{/privacy}", "received_events_url": "https://api.github.com/users/Nithanaroy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-12-11T05:45:08Z", "updated_at": "2016-10-16T04:04:16Z", "closed_at": "2016-10-16T04:04:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is more of a question rather than a issue. Pardon me if this is a wrong place to ask. For my thesis, I want to modify the rtree. For that I need references to root or internal nodes so that I can traverse the tree. I debugged the code and couldn't find a tree construction. Can some one help me?\n\nI am new to libspatialindex python package.\n![screen shot 2015-12-10 at 10 39 48 pm](https://cloud.githubusercontent.com/assets/670556/11736729/f51371f2-9f8e-11e5-9e00-c32af1c2097b.png)\nFrom original RTree Paper.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/60", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/60/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/60/events", "html_url": "https://github.com/Toblerity/rtree/issues/60", "id": 118764806, "node_id": "MDU6SXNzdWUxMTg3NjQ4MDY=", "number": 60, "title": "How to use stream loading and disk storage together?", "user": {"login": "BrenBarn", "id": 1439047, "node_id": "MDQ6VXNlcjE0MzkwNDc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1439047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BrenBarn", "html_url": "https://github.com/BrenBarn", "followers_url": "https://api.github.com/users/BrenBarn/followers", "following_url": "https://api.github.com/users/BrenBarn/following{/other_user}", "gists_url": "https://api.github.com/users/BrenBarn/gists{/gist_id}", "starred_url": "https://api.github.com/users/BrenBarn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BrenBarn/subscriptions", "organizations_url": "https://api.github.com/users/BrenBarn/orgs", "repos_url": "https://api.github.com/users/BrenBarn/repos", "events_url": "https://api.github.com/users/BrenBarn/events{/privacy}", "received_events_url": "https://api.github.com/users/BrenBarn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-25T05:38:28Z", "updated_at": "2016-10-16T04:09:12Z", "closed_at": "2016-10-16T04:08:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "As far as I can tell from the documentation and the code, Rtree lets you either specify a filename for disk-based index, or a stream for stream loading.  But how can I do both?  What if I want a disk-based index which is populated by reading from a stream?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/59", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/59/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/59/events", "html_url": "https://github.com/Toblerity/rtree/issues/59", "id": 114723690, "node_id": "MDU6SXNzdWUxMTQ3MjM2OTA=", "number": 59, "title": "test_stream_input is failing", "user": {"login": "ocefpaf", "id": 950575, "node_id": "MDQ6VXNlcjk1MDU3NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/950575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ocefpaf", "html_url": "https://github.com/ocefpaf", "followers_url": "https://api.github.com/users/ocefpaf/followers", "following_url": "https://api.github.com/users/ocefpaf/following{/other_user}", "gists_url": "https://api.github.com/users/ocefpaf/gists{/gist_id}", "starred_url": "https://api.github.com/users/ocefpaf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ocefpaf/subscriptions", "organizations_url": "https://api.github.com/users/ocefpaf/orgs", "repos_url": "https://api.github.com/users/ocefpaf/repos", "events_url": "https://api.github.com/users/ocefpaf/events{/privacy}", "received_events_url": "https://api.github.com/users/ocefpaf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-03T01:33:41Z", "updated_at": "2016-08-24T19:12:26Z", "closed_at": "2016-05-25T13:26:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to build [`rtree` with conda](https://github.com/ioos/conda-recipes/tree/master/rtree) and make it pass all the tests but the [`test_stream_input()`](https://github.com/Toblerity/rtree/blob/master/tests/test_index.py#L10-L15) is failing.\n\nInstead of `[0, 4, 16, 27, 35, 40, 47, 50, 76, 80]` the test is returning a list with all zeros.  I am not familiar with rtree's code, but it seems that the zeros are coming from [`py_next_item`](https://github.com/Toblerity/rtree/blob/master/rtree/index.py#L685-L722).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/57", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/57/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/57/events", "html_url": "https://github.com/Toblerity/rtree/issues/57", "id": 112921934, "node_id": "MDU6SXNzdWUxMTI5MjE5MzQ=", "number": 57, "title": "Release 0.8.2 missing from GitHub?", "user": {"login": "mwtoews", "id": 895458, "node_id": "MDQ6VXNlcjg5NTQ1OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/895458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwtoews", "html_url": "https://github.com/mwtoews", "followers_url": "https://api.github.com/users/mwtoews/followers", "following_url": "https://api.github.com/users/mwtoews/following{/other_user}", "gists_url": "https://api.github.com/users/mwtoews/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwtoews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwtoews/subscriptions", "organizations_url": "https://api.github.com/users/mwtoews/orgs", "repos_url": "https://api.github.com/users/mwtoews/repos", "events_url": "https://api.github.com/users/mwtoews/events{/privacy}", "received_events_url": "https://api.github.com/users/mwtoews/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-10-23T01:13:24Z", "updated_at": "2015-10-26T20:59:55Z", "closed_at": "2015-10-26T20:59:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "From PyPI, the latest release is 0.8.2, but on GitHub the latest tagged release is 0.8.1. Shouldn't there be a 0.8.2 tag for that release?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/56", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/56/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/56/events", "html_url": "https://github.com/Toblerity/rtree/issues/56", "id": 108817265, "node_id": "MDU6SXNzdWUxMDg4MTcyNjU=", "number": 56, "title": "ctypes find_library does not find libspatialindex_c.so in non-standard locations", "user": {"login": "samfux84", "id": 11944875, "node_id": "MDQ6VXNlcjExOTQ0ODc1", "avatar_url": "https://avatars0.githubusercontent.com/u/11944875?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samfux84", "html_url": "https://github.com/samfux84", "followers_url": "https://api.github.com/users/samfux84/followers", "following_url": "https://api.github.com/users/samfux84/following{/other_user}", "gists_url": "https://api.github.com/users/samfux84/gists{/gist_id}", "starred_url": "https://api.github.com/users/samfux84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samfux84/subscriptions", "organizations_url": "https://api.github.com/users/samfux84/orgs", "repos_url": "https://api.github.com/users/samfux84/repos", "events_url": "https://api.github.com/users/samfux84/events{/privacy}", "received_events_url": "https://api.github.com/users/samfux84/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "mwtoews", "id": 895458, "node_id": "MDQ6VXNlcjg5NTQ1OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/895458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwtoews", "html_url": "https://github.com/mwtoews", "followers_url": "https://api.github.com/users/mwtoews/followers", "following_url": "https://api.github.com/users/mwtoews/following{/other_user}", "gists_url": "https://api.github.com/users/mwtoews/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwtoews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwtoews/subscriptions", "organizations_url": "https://api.github.com/users/mwtoews/orgs", "repos_url": "https://api.github.com/users/mwtoews/repos", "events_url": "https://api.github.com/users/mwtoews/events{/privacy}", "received_events_url": "https://api.github.com/users/mwtoews/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "mwtoews", "id": 895458, "node_id": "MDQ6VXNlcjg5NTQ1OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/895458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mwtoews", "html_url": "https://github.com/mwtoews", "followers_url": "https://api.github.com/users/mwtoews/followers", "following_url": "https://api.github.com/users/mwtoews/following{/other_user}", "gists_url": "https://api.github.com/users/mwtoews/gists{/gist_id}", "starred_url": "https://api.github.com/users/mwtoews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mwtoews/subscriptions", "organizations_url": "https://api.github.com/users/mwtoews/orgs", "repos_url": "https://api.github.com/users/mwtoews/repos", "events_url": "https://api.github.com/users/mwtoews/events{/privacy}", "received_events_url": "https://api.github.com/users/mwtoews/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 24, "created_at": "2015-09-29T08:20:43Z", "updated_at": "2018-08-02T14:18:28Z", "closed_at": "2016-10-07T08:33:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please do not use find_library from ctypes to find libspatialindex_c. This only works if it is installed on in a standard location. On HPC clusters, it is very likely that the library is not installed in a standard location. Adding the installation directory to LD_LIBRARY_PATH, or specifying the installation directory in the setup.cfg file should be sufficient, but it does not work.\n\nThe only way to make rtree find libspatialindex_c on a Linux HPC cluster is to \"hack\" core.py, comment out the line\n\nlib_name = find_library('spatialindex_c')\n\nand replace lib_name in\n\nrt = ctypes.CDLL(lib_name)\n\nwith the absolut path of the library.\n\nI understand that the problem is introduced by ctypes and not by the rtree package, but please use another mechanism than find_library to detect libspatialindex_c on Linux systems. The two most practical options would be to either use LD_LIBRARY_PATH or the setup.cfg file.\n\nThank you very much and best regards\n\nSamuel Fux\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/55", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/55/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/55/events", "html_url": "https://github.com/Toblerity/rtree/issues/55", "id": 101940948, "node_id": "MDU6SXNzdWUxMDE5NDA5NDg=", "number": 55, "title": "get the points in same coordinates", "user": {"login": "titoconte", "id": 12387092, "node_id": "MDQ6VXNlcjEyMzg3MDky", "avatar_url": "https://avatars0.githubusercontent.com/u/12387092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/titoconte", "html_url": "https://github.com/titoconte", "followers_url": "https://api.github.com/users/titoconte/followers", "following_url": "https://api.github.com/users/titoconte/following{/other_user}", "gists_url": "https://api.github.com/users/titoconte/gists{/gist_id}", "starred_url": "https://api.github.com/users/titoconte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/titoconte/subscriptions", "organizations_url": "https://api.github.com/users/titoconte/orgs", "repos_url": "https://api.github.com/users/titoconte/repos", "events_url": "https://api.github.com/users/titoconte/events{/privacy}", "received_events_url": "https://api.github.com/users/titoconte/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-08-19T16:31:13Z", "updated_at": "2015-09-07T23:08:44Z", "closed_at": "2015-09-07T23:08:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "is it possible to get the points exacly in the same coordinate of the query input (not the nearest)?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/54", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/54/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/54/events", "html_url": "https://github.com/Toblerity/rtree/issues/54", "id": 96273764, "node_id": "MDU6SXNzdWU5NjI3Mzc2NA==", "number": 54, "title": "Installation error for 0.8.2", "user": {"login": "fnielsen", "id": 484028, "node_id": "MDQ6VXNlcjQ4NDAyOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/484028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fnielsen", "html_url": "https://github.com/fnielsen", "followers_url": "https://api.github.com/users/fnielsen/followers", "following_url": "https://api.github.com/users/fnielsen/following{/other_user}", "gists_url": "https://api.github.com/users/fnielsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/fnielsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fnielsen/subscriptions", "organizations_url": "https://api.github.com/users/fnielsen/orgs", "repos_url": "https://api.github.com/users/fnielsen/repos", "events_url": "https://api.github.com/users/fnielsen/events{/privacy}", "received_events_url": "https://api.github.com/users/fnielsen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-21T09:42:50Z", "updated_at": "2015-07-21T13:27:07Z", "closed_at": "2015-07-21T13:27:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is an error during installation of the pip 0.8.2 version. Here is part of the error message:\n\n```\n  File \"/tmp/pip_build_root/Rtree/setup.py\", line 4, in <module>\n\n    import rtree\n\n  File \"rtree/__init__.py\", line 1, in <module>\n\n    from .index import Rtree\n\n  File \"rtree/index.py\", line 6, in <module>\n\n    from . import core\n\n  File \"rtree/core.py\", line 110, in <module>\n\n    rt.Error_GetLastErrorNum.restype = ctypes.c_int\n\n  File \"/usr/lib/python2.7/ctypes/__init__.py\", line 378, in __getattr__\n\n    func = self.__getitem__(name)\n\n  File \"/usr/lib/python2.7/ctypes/__init__.py\", line 383, in __getitem__\n\n    func = self._FuncPtr((name_or_ordinal, self))\n\nAttributeError: /usr/bin/python: undefined symbol: Error_GetLastErrorNum\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/53", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/53/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/53/events", "html_url": "https://github.com/Toblerity/rtree/issues/53", "id": 92344265, "node_id": "MDU6SXNzdWU5MjM0NDI2NQ==", "number": 53, "title": "Multithreading", "user": {"login": "christophlingg", "id": 2032443, "node_id": "MDQ6VXNlcjIwMzI0NDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/2032443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/christophlingg", "html_url": "https://github.com/christophlingg", "followers_url": "https://api.github.com/users/christophlingg/followers", "following_url": "https://api.github.com/users/christophlingg/following{/other_user}", "gists_url": "https://api.github.com/users/christophlingg/gists{/gist_id}", "starred_url": "https://api.github.com/users/christophlingg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/christophlingg/subscriptions", "organizations_url": "https://api.github.com/users/christophlingg/orgs", "repos_url": "https://api.github.com/users/christophlingg/repos", "events_url": "https://api.github.com/users/christophlingg/events{/privacy}", "received_events_url": "https://api.github.com/users/christophlingg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2015-07-01T10:39:38Z", "updated_at": "2016-10-16T04:08:15Z", "closed_at": "2016-10-16T04:08:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for providing RTree for Python!\n\nI was wondering if rtree can be used in a multithreaded context?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/52", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/52/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/52/events", "html_url": "https://github.com/Toblerity/rtree/issues/52", "id": 92113625, "node_id": "MDU6SXNzdWU5MjExMzYyNQ==", "number": 52, "title": "Can't convert bytes object to str implicitly", "user": {"login": "songololo", "id": 4347878, "node_id": "MDQ6VXNlcjQzNDc4Nzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/4347878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/songololo", "html_url": "https://github.com/songololo", "followers_url": "https://api.github.com/users/songololo/followers", "following_url": "https://api.github.com/users/songololo/following{/other_user}", "gists_url": "https://api.github.com/users/songololo/gists{/gist_id}", "starred_url": "https://api.github.com/users/songololo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/songololo/subscriptions", "organizations_url": "https://api.github.com/users/songololo/orgs", "repos_url": "https://api.github.com/users/songololo/repos", "events_url": "https://api.github.com/users/songololo/events{/privacy}", "received_events_url": "https://api.github.com/users/songololo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-06-30T14:45:26Z", "updated_at": "2015-08-28T13:31:29Z", "closed_at": "2015-08-28T13:31:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting the following error when trying to create a new disk based index:\n\n<code>\nFile \"/path/python3.4/site-packages/rtree/index.py\", line 199, in **init**\n    f = basename + \".\" + self.properties.idx_extension\nTypeError: Can't convert 'bytes' object to str implicitly\n</code>\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/51", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/51/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/51/events", "html_url": "https://github.com/Toblerity/rtree/issues/51", "id": 87839782, "node_id": "MDU6SXNzdWU4NzgzOTc4Mg==", "number": 51, "title": "ArgumentError while running of Django, Nginx", "user": {"login": "arinkverma", "id": 1556486, "node_id": "MDQ6VXNlcjE1NTY0ODY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1556486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arinkverma", "html_url": "https://github.com/arinkverma", "followers_url": "https://api.github.com/users/arinkverma/followers", "following_url": "https://api.github.com/users/arinkverma/following{/other_user}", "gists_url": "https://api.github.com/users/arinkverma/gists{/gist_id}", "starred_url": "https://api.github.com/users/arinkverma/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arinkverma/subscriptions", "organizations_url": "https://api.github.com/users/arinkverma/orgs", "repos_url": "https://api.github.com/users/arinkverma/repos", "events_url": "https://api.github.com/users/arinkverma/events{/privacy}", "received_events_url": "https://api.github.com/users/arinkverma/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-06-12T20:23:34Z", "updated_at": "2015-10-26T21:14:12Z", "closed_at": "2015-10-26T21:14:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using rtree to find the nearest city by lat,lon. But on Nginx server after few requests I am getting following error.\n\n```\n  File \"/home/ubuntu/core/greedy/utilities.py\", line 88, in current_location\n    city = GeoLocation.CityByLatLong(location[0], location[1], idx)\n\n  File \"/home/ubuntu/core/greedy/apps/geolocations/models.py\", line 13, in CityByLatLong\n    near_list = idx.nearest((latitude, longitude), 1, objects=False)\n\n  File \"/usr/local/lib/python2.7/dist-packages/rtree/index.py\", line 567, in nearest\n    p_num_results)\n\nArgumentError: argument 5: <type 'exceptions.TypeError'>: expected LP_LP_c_longlong instance instead of pointer to LP_c_longlong\n\n```\n\nPS: On apache server, it is working perfectly well.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/50", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/50/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/50/events", "html_url": "https://github.com/Toblerity/rtree/issues/50", "id": 77826997, "node_id": "MDU6SXNzdWU3NzgyNjk5Nw==", "number": 50, "title": "incorrect id received when using stream loading", "user": {"login": "pallavg", "id": 12074568, "node_id": "MDQ6VXNlcjEyMDc0NTY4", "avatar_url": "https://avatars2.githubusercontent.com/u/12074568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pallavg", "html_url": "https://github.com/pallavg", "followers_url": "https://api.github.com/users/pallavg/followers", "following_url": "https://api.github.com/users/pallavg/following{/other_user}", "gists_url": "https://api.github.com/users/pallavg/gists{/gist_id}", "starred_url": "https://api.github.com/users/pallavg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pallavg/subscriptions", "organizations_url": "https://api.github.com/users/pallavg/orgs", "repos_url": "https://api.github.com/users/pallavg/repos", "events_url": "https://api.github.com/users/pallavg/events{/privacy}", "received_events_url": "https://api.github.com/users/pallavg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-18T22:19:53Z", "updated_at": "2016-10-16T04:10:29Z", "closed_at": "2016-10-16T04:10:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using rtree 0.8.2. The small example below recreates the problem.\n# !/usr/bin/env python\n\nfrom rtree import index\n\ndef gen(d):\n   for i,obj in enumerate(d):\n      yield (i, obj[0], obj[1])\n\ndata = [((0,0,1,1), 25), \n        ((1,1,2,2), 30),\n        ((2,2,3,3), 35)]\n\nidx = index.Index('foo', gen(data))\n\nm = idx.intersection((2,3,3,3), objects=True)\nfor a in m:\n        print a.id\n        print a.bbox\n        print a.object\n\nIt correctly prints the correct bbox/object but the wrong id (should be 2). It seems like when stream loading is used to create the index, the ID is always returned as 0. It seems to work OK if idx.insert() is used to create the tree. Thanks.\n\n$ ./test.py \n0\n[2.0, 2.0, 3.0, 3.0]\n35\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/49", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/49/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/49/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/49/events", "html_url": "https://github.com/Toblerity/rtree/issues/49", "id": 70232295, "node_id": "MDU6SXNzdWU3MDIzMjI5NQ==", "number": 49, "title": "rtree stream loading + writing to file?", "user": {"login": "pallavg", "id": 12074568, "node_id": "MDQ6VXNlcjEyMDc0NTY4", "avatar_url": "https://avatars2.githubusercontent.com/u/12074568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pallavg", "html_url": "https://github.com/pallavg", "followers_url": "https://api.github.com/users/pallavg/followers", "following_url": "https://api.github.com/users/pallavg/following{/other_user}", "gists_url": "https://api.github.com/users/pallavg/gists{/gist_id}", "starred_url": "https://api.github.com/users/pallavg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pallavg/subscriptions", "organizations_url": "https://api.github.com/users/pallavg/orgs", "repos_url": "https://api.github.com/users/pallavg/repos", "events_url": "https://api.github.com/users/pallavg/events{/privacy}", "received_events_url": "https://api.github.com/users/pallavg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-22T20:54:26Z", "updated_at": "2015-04-22T22:20:10Z", "closed_at": "2015-04-22T22:20:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI'm a new user of the R-tree package. I'm reading the documentation and I notice that stream loading is much faster in creating a R-tree than individual inserts. I have a bout 21 million bboxes I need to insert. If I insert individually using index.Index('rtree'), I see the the index/dat file created. But when I try \nindex.Index(filename='rtree', stream=foo()), the rtree get initialized but it not written to file. I'm not sure if this usage mode is supported?\n\nIs there some sample code somewhere I can look at on how to create a file-based rtree w/ stream loading? \n\nThanks.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/48", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/48/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/48/events", "html_url": "https://github.com/Toblerity/rtree/issues/48", "id": 69466963, "node_id": "MDU6SXNzdWU2OTQ2Njk2Mw==", "number": 48, "title": "3D index stream loading", "user": {"login": "mikedh", "id": 1403074, "node_id": "MDQ6VXNlcjE0MDMwNzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1403074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikedh", "html_url": "https://github.com/mikedh", "followers_url": "https://api.github.com/users/mikedh/followers", "following_url": "https://api.github.com/users/mikedh/following{/other_user}", "gists_url": "https://api.github.com/users/mikedh/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikedh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikedh/subscriptions", "organizations_url": "https://api.github.com/users/mikedh/orgs", "repos_url": "https://api.github.com/users/mikedh/repos", "events_url": "https://api.github.com/users/mikedh/events{/privacy}", "received_events_url": "https://api.github.com/users/mikedh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2015-04-19T21:31:40Z", "updated_at": "2015-10-26T21:20:09Z", "closed_at": "2015-10-26T21:20:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It looks like when doing stream loading for a 3D index the tree is created fine but the IDs aren't preserved for some reason. This issue does not exist when doing tree.insert inside a loop. \n\nI tried this with a generator function as per the documentation, as well as passing the bounds as a tuple instead of a list. I verified that in `index/_create_idx_from_stream/py_next_item` it was getting the correct ID into p_id[0].  I'm not sure what else to check, any ideas would be greatly appreciated. \n\nHere's an example which was demonstrating the issue using rtree from Toblerity/rtree/master and libspatialindex from the latest packages in the Ubuntu 14.04 repo:\n\n```\nimport numpy as np                                                                  \nimport rtree                                                                        \n\nif __name__ == '__main__':                                                          \n    properties = rtree.index.Property()                                             \n    properties.dimension = 3                                                        \n\n    points_count  = 100                                                             \n    points_random = np.random.random((points_count,3,3))                            \n    points_bounds = np.column_stack((points_random.min(axis=1),                     \n                                     points_random.max(axis=1)))                    \n\n    stacked = zip(np.arange(points_count),                                          \n                  points_bounds,                                                    \n                  [None] * points_count)                                              \n\n    tree = rtree.index.Index(stacked,                                               \n                             properties = properties)                               \n\n    # this should intersect every box, as our random boxes are all inside [0,0,0,1,1,1]                   \n    tid = list(tree.intersection([-1,-1,-1,2,2,2]))                                 \n```\n\nThe correct answer for tid would be np.arange(points_count). The actual output of this is:\n\n```\nIn [6]: len(tid)\nOut[6]: 100\n\nIn [7]: tid[0:10]\nOut[7]: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\nIn [8]: (np.array(tid) == 0).all()\nOut[8]: True\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/47", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/47/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/47/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/47/events", "html_url": "https://github.com/Toblerity/rtree/issues/47", "id": 67567419, "node_id": "MDU6SXNzdWU2NzU2NzQxOQ==", "number": 47, "title": "Error in \"IndexProperty_GetOverwrite\": Property IndexIdentifier was empty", "user": {"login": "marfago", "id": 1191501, "node_id": "MDQ6VXNlcjExOTE1MDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1191501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marfago", "html_url": "https://github.com/marfago", "followers_url": "https://api.github.com/users/marfago/followers", "following_url": "https://api.github.com/users/marfago/following{/other_user}", "gists_url": "https://api.github.com/users/marfago/gists{/gist_id}", "starred_url": "https://api.github.com/users/marfago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marfago/subscriptions", "organizations_url": "https://api.github.com/users/marfago/orgs", "repos_url": "https://api.github.com/users/marfago/repos", "events_url": "https://api.github.com/users/marfago/events{/privacy}", "received_events_url": "https://api.github.com/users/marfago/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-04-10T10:49:45Z", "updated_at": "2015-10-26T21:19:41Z", "closed_at": "2015-10-26T21:19:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Could anyone explain this error?\nThank you in advance.\nM@rco\n\n2015-04-10 12:41:17 ERROR Zope.SiteErrorLog 1428662477.860.832295083576 \nTraceback (innermost last):\n...........\n  Module Products.LinguaPlone.patches, line 34, in searchResults\n  Module Products.CMFPlone.CatalogTool, line 393, in searchResults\n  Module Products.ZCatalog.ZCatalog, line 604, in searchResults\n  Module Products.ZCatalog.Catalog, line 925, in searchResults\n  Module Products.ZCatalog.Catalog, line 547, in search\n  Module collective.geo.index.geometryindex, line 169, in _apply_index\n  Module collective.geo.index.index, line 69, in rtree\n  Module rtree.index, line 211, in __init__\n  Module rtree.index, line 985, in get_overwrite\n  Module rtree.core, line 42, in check_value\nRTreeError: Error in \"IndexProperty_GetOverwrite\": Property IndexIdentifier was empty\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/46", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/46/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/46/events", "html_url": "https://github.com/Toblerity/rtree/issues/46", "id": 67563349, "node_id": "MDU6SXNzdWU2NzU2MzM0OQ==", "number": 46, "title": "Segmentation fault", "user": {"login": "marfago", "id": 1191501, "node_id": "MDQ6VXNlcjExOTE1MDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1191501?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marfago", "html_url": "https://github.com/marfago", "followers_url": "https://api.github.com/users/marfago/followers", "following_url": "https://api.github.com/users/marfago/following{/other_user}", "gists_url": "https://api.github.com/users/marfago/gists{/gist_id}", "starred_url": "https://api.github.com/users/marfago/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marfago/subscriptions", "organizations_url": "https://api.github.com/users/marfago/orgs", "repos_url": "https://api.github.com/users/marfago/repos", "events_url": "https://api.github.com/users/marfago/events{/privacy}", "received_events_url": "https://api.github.com/users/marfago/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-04-10T10:27:59Z", "updated_at": "2015-10-26T21:31:55Z", "closed_at": "2015-10-26T21:06:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "HI,\n\nIm not expert with linux and c libraries, so probaly my description is incomplete or not very handful.\nAnyway Im experiencing a problem with libspatialindex.so.3.0.0 and rtree 8.2.\nNow and then my plone instance dies with no clues and message. I've checked the dmesg report from linux and here is what I see:\n\n[1476438.713131] traps: python[317] general protection ip:7fb04f5a2ff9 sp:7fb04a3440b0 error:0 in libspatialindex.so.3.0.0[7fb04f506000+b8000]\n[1476763.870627] python[379]: segfault at 0 ip 00007f855e9ccaea sp 00007f85409640f8 error 4 in libc-2.19.so[7f855e944000+1bb000]\n[1478334.385962] traps: python[1211] general protection ip:7ff88dbf5ff9 sp:7ff889198390 error:0 in libspatialindex.so.3.0.0[7ff88db59000+b8000]\n[1526321.346560] traps: python[17381] general protection ip:7f33d0f48ff9 sp:7f33cc4eb390 error:0 in libspatialindex.so.3.0.0[7f33d0eac000+b8000]\n[1527794.507131] traps: python[20645] general protection ip:7f8ccb8c6ff9 sp:7f8cc5766390 error:0 in libspatialindex.so.3.0.0[7f8ccb82a000+b8000]\n[1528432.553798] python[20984]: segfault at 22 ip 00007f8f4de55ff2 sp 00007f8f404f6390 error 4 in libspatialindex.so.3.0.0[7f8f4ddb9000+b8000]\n[1528892.762885] traps: python[21271] general protection ip:7f97170eeff2 sp:7f9711e90390 error:0 in libspatialindex.so.3.0.0[7f9717052000+b8000]\n[1529146.029769] python[21388]: segfault at 0 ip 00007f29b5d25aea sp 00007f298bff9a88 error 4 in libc-2.19.so[7f29b5c9d000+1bb000]\n[1529364.634798] python[21435]: segfault at 0 ip 00007fa394931aea sp 00007fa3780cc148 error 4 in libc-2.19.so[7fa3948a9000+1bb000]\n[1529636.648433] python[21533]: segfault at 0 ip 00007f7c14cbaaea sp 00007f7bf37f6af8 error 4 in libc-2.19.so[7f7c14c32000+1bb000]\n\nIm working on a linux instance (a VPS):\n\nLinux 3.13.0-46-generic #79-Ubuntu SMP Tue Mar 10 20:06:50 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux\n\nAny suggestion is very appreciated. Thank you in advace.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/43", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/43/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/43/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/43/events", "html_url": "https://github.com/Toblerity/rtree/issues/43", "id": 63621164, "node_id": "MDU6SXNzdWU2MzYyMTE2NA==", "number": 43, "title": "Install Rtree for phyton on Windows 7", "user": {"login": "ernapiantari", "id": 11606536, "node_id": "MDQ6VXNlcjExNjA2NTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/11606536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ernapiantari", "html_url": "https://github.com/ernapiantari", "followers_url": "https://api.github.com/users/ernapiantari/followers", "following_url": "https://api.github.com/users/ernapiantari/following{/other_user}", "gists_url": "https://api.github.com/users/ernapiantari/gists{/gist_id}", "starred_url": "https://api.github.com/users/ernapiantari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ernapiantari/subscriptions", "organizations_url": "https://api.github.com/users/ernapiantari/orgs", "repos_url": "https://api.github.com/users/ernapiantari/repos", "events_url": "https://api.github.com/users/ernapiantari/events{/privacy}", "received_events_url": "https://api.github.com/users/ernapiantari/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2015-03-23T04:23:44Z", "updated_at": "2020-06-10T08:22:12Z", "closed_at": "2015-03-23T12:33:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Help. I have problem when instal Rtree on my windows.\nI used cmd for install it.\nBut it's seem cannot found spatialindex_c.dll\nActually, i have spatialindex_c-64.dll\nwhat sholud i do with it?\n\nthis is what i have done:\nC:\\Python27\\Scripts\\easy_install.exe Rtree\nBest match: Rtree 0.8.2\nDownloading https://pypi.python.org/packages/source/R/Rtree/Rtree-0.8.2.tar.gz#md5=4ba7276cbd4c51b373068004ae864d3\nProcessing Rtree-0.8.2.tar.gz\nWriting c:\\users.....\\Rtree-0.8.02\\setup.cfg\nRunning Rtree-0.8.2\\setup.py -q dbist_egg --dist-dir ......\nerror: could not find or load spatialindex_c.dll\n\nAnd I tried to download Rtree-0.8.2 and install it offline too, but stiil could not find or load spatialindex_c.dll.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/42", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/42/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/42/events", "html_url": "https://github.com/Toblerity/rtree/issues/42", "id": 61293520, "node_id": "MDU6SXNzdWU2MTI5MzUyMA==", "number": 42, "title": "pickle causes Immediate segfault", "user": {"login": "adq", "id": 322473, "node_id": "MDQ6VXNlcjMyMjQ3Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/322473?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adq", "html_url": "https://github.com/adq", "followers_url": "https://api.github.com/users/adq/followers", "following_url": "https://api.github.com/users/adq/following{/other_user}", "gists_url": "https://api.github.com/users/adq/gists{/gist_id}", "starred_url": "https://api.github.com/users/adq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adq/subscriptions", "organizations_url": "https://api.github.com/users/adq/orgs", "repos_url": "https://api.github.com/users/adq/repos", "events_url": "https://api.github.com/users/adq/events{/privacy}", "received_events_url": "https://api.github.com/users/adq/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-03-13T23:22:59Z", "updated_at": "2015-04-01T13:04:59Z", "closed_at": "2015-04-01T13:04:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, if I run the following:\n\n```\nimport rtree\nimport cPickle\nx = rtree.index.Index()\ncPickle.loads(cPickle.dumps(x))\n```\n\nI get a segfault when I quit python, (or at another random time later, depends how long it runs for). I've tried using plain 'pickle' as well, but get the same behaviour.\n\nI'm using rtree 0.8.2 (installed via pip) against libspatialite 4.2.0-2 on arch linux x64, python 2.7.9\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/41", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/41/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/41/events", "html_url": "https://github.com/Toblerity/rtree/issues/41", "id": 55113503, "node_id": "MDU6SXNzdWU1NTExMzUwMw==", "number": 41, "title": "Adding compression to rtree attribute objects", "user": {"login": "brendancol", "id": 433221, "node_id": "MDQ6VXNlcjQzMzIyMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/433221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendancol", "html_url": "https://github.com/brendancol", "followers_url": "https://api.github.com/users/brendancol/followers", "following_url": "https://api.github.com/users/brendancol/following{/other_user}", "gists_url": "https://api.github.com/users/brendancol/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendancol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendancol/subscriptions", "organizations_url": "https://api.github.com/users/brendancol/orgs", "repos_url": "https://api.github.com/users/brendancol/repos", "events_url": "https://api.github.com/users/brendancol/events{/privacy}", "received_events_url": "https://api.github.com/users/brendancol/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-01-22T04:33:11Z", "updated_at": "2016-02-24T02:33:43Z", "closed_at": "2016-02-24T02:33:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey is this of any interest to submit back as a pull request?\n\n```\nimport zlib\n\nfrom rtree import Rtree\n\nclass CompressedRtree(Rtree):\n    '''\n    adds zlib compression to rtree\n    '''\n\n    def __init__(self, *args, **kwargs):\n        Rtree.__init__(self, *args, **kwargs)\n\n    def dumps(self, obj):\n        result = super(CompressedRtree, self).dumps(obj)\n        return zlib.compress(result)\n\n    def loads(self, string):\n        return super(CompressedRtree, self).loads(zlib.decompress(string))\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/40", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/40/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/40/events", "html_url": "https://github.com/Toblerity/rtree/issues/40", "id": 55048719, "node_id": "MDU6SXNzdWU1NTA0ODcxOQ==", "number": 40, "title": "Seg Fault when loading many shapefiles into single rtree", "user": {"login": "brendancol", "id": 433221, "node_id": "MDQ6VXNlcjQzMzIyMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/433221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendancol", "html_url": "https://github.com/brendancol", "followers_url": "https://api.github.com/users/brendancol/followers", "following_url": "https://api.github.com/users/brendancol/following{/other_user}", "gists_url": "https://api.github.com/users/brendancol/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendancol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendancol/subscriptions", "organizations_url": "https://api.github.com/users/brendancol/orgs", "repos_url": "https://api.github.com/users/brendancol/repos", "events_url": "https://api.github.com/users/brendancol/events{/privacy}", "received_events_url": "https://api.github.com/users/brendancol/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-01-21T17:19:04Z", "updated_at": "2016-02-24T02:34:20Z", "closed_at": "2016-02-24T02:34:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Scenario: \n- loading about 15 million polygons into rtree which are spread over about 60 shapefiles.\n- I'm using the generator style insert\n- about 2 million polygons in, inserts slow dramatically then segmentation faults.\n- I'm main guess is that I am running out of memory\n- Am I abusing rtree?  Is there a way to flush to disk every so often?\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/39", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/39/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/39/events", "html_url": "https://github.com/Toblerity/rtree/issues/39", "id": 53682793, "node_id": "MDU6SXNzdWU1MzY4Mjc5Mw==", "number": 39, "title": "Integration with Hickle", "user": {"login": "brendancol", "id": 433221, "node_id": "MDQ6VXNlcjQzMzIyMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/433221?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brendancol", "html_url": "https://github.com/brendancol", "followers_url": "https://api.github.com/users/brendancol/followers", "following_url": "https://api.github.com/users/brendancol/following{/other_user}", "gists_url": "https://api.github.com/users/brendancol/gists{/gist_id}", "starred_url": "https://api.github.com/users/brendancol/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brendancol/subscriptions", "organizations_url": "https://api.github.com/users/brendancol/orgs", "repos_url": "https://api.github.com/users/brendancol/repos", "events_url": "https://api.github.com/users/brendancol/events{/privacy}", "received_events_url": "https://api.github.com/users/brendancol/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-01-07T21:12:16Z", "updated_at": "2015-01-07T21:14:03Z", "closed_at": "2015-01-07T21:14:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey Toblerity,\nI'm investigating a library called hickle which allows you to use hdf5 to store objects. https://github.com/telegraphic/hickle\nI was trying to get this going and store rtrees inside of HDF for the compression options. Any first impressions of this?  Do you think its as easy as adding an additional import statement and using hickle on index.dumps() & index.loads()?  Any thoughts would be appreciated.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/37", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/37/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/37/events", "html_url": "https://github.com/Toblerity/rtree/issues/37", "id": 52664734, "node_id": "MDU6SXNzdWU1MjY2NDczNA==", "number": 37, "title": "Build fails on OS X", "user": {"login": "fonnesbeck", "id": 81476, "node_id": "MDQ6VXNlcjgxNDc2", "avatar_url": "https://avatars3.githubusercontent.com/u/81476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fonnesbeck", "html_url": "https://github.com/fonnesbeck", "followers_url": "https://api.github.com/users/fonnesbeck/followers", "following_url": "https://api.github.com/users/fonnesbeck/following{/other_user}", "gists_url": "https://api.github.com/users/fonnesbeck/gists{/gist_id}", "starred_url": "https://api.github.com/users/fonnesbeck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fonnesbeck/subscriptions", "organizations_url": "https://api.github.com/users/fonnesbeck/orgs", "repos_url": "https://api.github.com/users/fonnesbeck/repos", "events_url": "https://api.github.com/users/fonnesbeck/events{/privacy}", "received_events_url": "https://api.github.com/users/fonnesbeck/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2014-12-22T16:28:44Z", "updated_at": "2020-07-31T22:00:48Z", "closed_at": "2016-10-16T04:09:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Building rtree on OS X either from the current release or from master results in a failure:\n\n```\n$ pip install git+git://github.com/Toblerity/rtree.git\nDownloading/unpacking git+git://github.com/Toblerity/rtree.git\n  Cloning git://github.com/Toblerity/rtree.git to /var/folders/z_/kgsm76k94s7_jhnkfydfnd380000gn/T/pip-p4_3c96t-build\n  Running setup.py (path:/var/folders/z_/kgsm76k94s7_jhnkfydfnd380000gn/T/pip-p4_3c96t-build/setup.py) egg_info for package from git+git://github.com/Toblerity/rtree.git\n    Traceback (most recent call last):\n      File \"<string>\", line 17, in <module>\n      File \"/var/folders/z_/kgsm76k94s7_jhnkfydfnd380000gn/T/pip-p4_3c96t-build/setup.py\", line 4, in <module>\n        import rtree\n      File \"/private/var/folders/z_/kgsm76k94s7_jhnkfydfnd380000gn/T/pip-p4_3c96t-build/rtree/__init__.py\", line 1, in <module>\n        from .index import Rtree\n      File \"/private/var/folders/z_/kgsm76k94s7_jhnkfydfnd380000gn/T/pip-p4_3c96t-build/rtree/index.py\", line 6, in <module>\n        from . import core\n      File \"/private/var/folders/z_/kgsm76k94s7_jhnkfydfnd380000gn/T/pip-p4_3c96t-build/rtree/core.py\", line 110, in <module>\n        rt.Error_GetLastErrorNum.restype = ctypes.c_int\n      File \"/usr/local/Cellar/python3/3.4.2_1/Frameworks/Python.framework/Versions/3.4/lib/python3.4/ctypes/__init__.py\", line 364, in __getattr__\n        func = self.__getitem__(name)\n      File \"/usr/local/Cellar/python3/3.4.2_1/Frameworks/Python.framework/Versions/3.4/lib/python3.4/ctypes/__init__.py\", line 369, in __getitem__\n        func = self._FuncPtr((name_or_ordinal, self))\n    AttributeError: dlsym(RTLD_DEFAULT, Error_GetLastErrorNum): symbol not found\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n\n  File \"<string>\", line 17, in <module>\n\n  File \"/var/folders/z_/kgsm76k94s7_jhnkfydfnd380000gn/T/pip-p4_3c96t-build/setup.py\", line 4, in <module>\n\n    import rtree\n\n  File \"/private/var/folders/z_/kgsm76k94s7_jhnkfydfnd380000gn/T/pip-p4_3c96t-build/rtree/__init__.py\", line 1, in <module>\n\n    from .index import Rtree\n\n  File \"/private/var/folders/z_/kgsm76k94s7_jhnkfydfnd380000gn/T/pip-p4_3c96t-build/rtree/index.py\", line 6, in <module>\n\n    from . import core\n\n  File \"/private/var/folders/z_/kgsm76k94s7_jhnkfydfnd380000gn/T/pip-p4_3c96t-build/rtree/core.py\", line 110, in <module>\n\n    rt.Error_GetLastErrorNum.restype = ctypes.c_int\n\n  File \"/usr/local/Cellar/python3/3.4.2_1/Frameworks/Python.framework/Versions/3.4/lib/python3.4/ctypes/__init__.py\", line 364, in __getattr__\n\n    func = self.__getitem__(name)\n\n  File \"/usr/local/Cellar/python3/3.4.2_1/Frameworks/Python.framework/Versions/3.4/lib/python3.4/ctypes/__init__.py\", line 369, in __getitem__\n\n    func = self._FuncPtr((name_or_ordinal, self))\n\nAttributeError: dlsym(RTLD_DEFAULT, Error_GetLastErrorNum): symbol not found\n```\n\nRunning Python 3.4.2 on OS X 10.10.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/36", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/36/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/36/events", "html_url": "https://github.com/Toblerity/rtree/issues/36", "id": 52004547, "node_id": "MDU6SXNzdWU1MjAwNDU0Nw==", "number": 36, "title": "Cannot install on windows", "user": {"login": "GuidoS", "id": 288620, "node_id": "MDQ6VXNlcjI4ODYyMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/288620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuidoS", "html_url": "https://github.com/GuidoS", "followers_url": "https://api.github.com/users/GuidoS/followers", "following_url": "https://api.github.com/users/GuidoS/following{/other_user}", "gists_url": "https://api.github.com/users/GuidoS/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuidoS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuidoS/subscriptions", "organizations_url": "https://api.github.com/users/GuidoS/orgs", "repos_url": "https://api.github.com/users/GuidoS/repos", "events_url": "https://api.github.com/users/GuidoS/events{/privacy}", "received_events_url": "https://api.github.com/users/GuidoS/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2014-12-15T16:09:56Z", "updated_at": "2014-12-22T18:55:09Z", "closed_at": "2014-12-15T18:09:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "I can't seem to get the install to work for me. Any thoughts about what I can do to debug this?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/33", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/33/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/33/events", "html_url": "https://github.com/Toblerity/rtree/issues/33", "id": 43206747, "node_id": "MDU6SXNzdWU0MzIwNjc0Nw==", "number": 33, "title": "python 3.0+ compatibility?", "user": {"login": "ebo", "id": 601025, "node_id": "MDQ6VXNlcjYwMTAyNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/601025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebo", "html_url": "https://github.com/ebo", "followers_url": "https://api.github.com/users/ebo/followers", "following_url": "https://api.github.com/users/ebo/following{/other_user}", "gists_url": "https://api.github.com/users/ebo/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebo/subscriptions", "organizations_url": "https://api.github.com/users/ebo/orgs", "repos_url": "https://api.github.com/users/ebo/repos", "events_url": "https://api.github.com/users/ebo/events{/privacy}", "received_events_url": "https://api.github.com/users/ebo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-09-19T05:50:49Z", "updated_at": "2014-09-19T13:35:29Z", "closed_at": "2014-09-19T13:35:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "While tracking down some verson compatibility issues I noted in a Gentoo ebuild I developed a couple of years ago that RTree cannot work on python version 3.0+.  Has this been fixed?  Also related to this, would you like RTree to be added to the Gentoo standard distribution?\n\n  Thanks and best regards,\n\n  John 9EBo) David --\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/32", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/32/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/32/events", "html_url": "https://github.com/Toblerity/rtree/issues/32", "id": 42326631, "node_id": "MDU6SXNzdWU0MjMyNjYzMQ==", "number": 32, "title": "Support for stream loading to filebased rtree index", "user": {"login": "brandonmayer-zz", "id": 1078969, "node_id": "MDQ6VXNlcjEwNzg5Njk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1078969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brandonmayer-zz", "html_url": "https://github.com/brandonmayer-zz", "followers_url": "https://api.github.com/users/brandonmayer-zz/followers", "following_url": "https://api.github.com/users/brandonmayer-zz/following{/other_user}", "gists_url": "https://api.github.com/users/brandonmayer-zz/gists{/gist_id}", "starred_url": "https://api.github.com/users/brandonmayer-zz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brandonmayer-zz/subscriptions", "organizations_url": "https://api.github.com/users/brandonmayer-zz/orgs", "repos_url": "https://api.github.com/users/brandonmayer-zz/repos", "events_url": "https://api.github.com/users/brandonmayer-zz/events{/privacy}", "received_events_url": "https://api.github.com/users/brandonmayer-zz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-09-09T16:38:20Z", "updated_at": "2014-09-15T20:53:27Z", "closed_at": "2014-09-15T20:36:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm new to rtree so sorry if this is a basic question, but is there away to leverage streamloading to a file-based rtree?\n\nThe constrcutor to rtree.Index checks if the first argument is a basestring or a generator function. Is there a way to provide both?\n\nFor example, if I have the generator function \n\n> > > def generator_function():\n> > > ...    for i, obj in enumerate(somedata):\n> > > ...        yield (i, (obj.xmin, obj.ymin, obj.xmax, obj.ymax), obj)\n\nAnd I want to save to \"somefile\"\n\n> > > r = index.Index(\"somefile\", generator_function())\n\nresults in an exception.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/29", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/29/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/29/events", "html_url": "https://github.com/Toblerity/rtree/issues/29", "id": 39352827, "node_id": "MDU6SXNzdWUzOTM1MjgyNw==", "number": 29, "title": "Debian packaging", "user": {"login": "kalxas", "id": 383944, "node_id": "MDQ6VXNlcjM4Mzk0NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/383944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kalxas", "html_url": "https://github.com/kalxas", "followers_url": "https://api.github.com/users/kalxas/followers", "following_url": "https://api.github.com/users/kalxas/following{/other_user}", "gists_url": "https://api.github.com/users/kalxas/gists{/gist_id}", "starred_url": "https://api.github.com/users/kalxas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kalxas/subscriptions", "organizations_url": "https://api.github.com/users/kalxas/orgs", "repos_url": "https://api.github.com/users/kalxas/repos", "events_url": "https://api.github.com/users/kalxas/events{/privacy}", "received_events_url": "https://api.github.com/users/kalxas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-08-02T17:07:04Z", "updated_at": "2014-08-03T17:31:27Z", "closed_at": "2014-08-03T17:31:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/28", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/28/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/28/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/28/events", "html_url": "https://github.com/Toblerity/rtree/issues/28", "id": 39233381, "node_id": "MDU6SXNzdWUzOTIzMzM4MQ==", "number": 28, "title": "0.8.1 release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Toblerity/rtree/milestones/1", "html_url": "https://github.com/Toblerity/rtree/milestone/1", "labels_url": "https://api.github.com/repos/Toblerity/rtree/milestones/1/labels", "id": 837570, "node_id": "MDk6TWlsZXN0b25lODM3NTcw", "number": 1, "title": "0.8.1", "description": null, "creator": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2014-10-23T14:58:15Z", "updated_at": "2015-10-27T19:04:05Z", "due_on": null, "closed_at": "2015-10-27T19:04:05Z"}, "comments": 3, "created_at": "2014-07-31T20:19:30Z", "updated_at": "2015-09-22T12:43:33Z", "closed_at": "2015-09-22T12:43:33Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "To get the memory leak fix out there, among other things.\n\ncc @hobu \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/26", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/26/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/26/events", "html_url": "https://github.com/Toblerity/rtree/issues/26", "id": 39202579, "node_id": "MDU6SXNzdWUzOTIwMjU3OQ==", "number": 26, "title": "Installation issue on Ubuntu?", "user": {"login": "songololo", "id": 4347878, "node_id": "MDQ6VXNlcjQzNDc4Nzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/4347878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/songololo", "html_url": "https://github.com/songololo", "followers_url": "https://api.github.com/users/songololo/followers", "following_url": "https://api.github.com/users/songololo/following{/other_user}", "gists_url": "https://api.github.com/users/songololo/gists{/gist_id}", "starred_url": "https://api.github.com/users/songololo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/songololo/subscriptions", "organizations_url": "https://api.github.com/users/songololo/orgs", "repos_url": "https://api.github.com/users/songololo/repos", "events_url": "https://api.github.com/users/songololo/events{/privacy}", "received_events_url": "https://api.github.com/users/songololo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-07-31T14:57:12Z", "updated_at": "2014-07-31T18:47:17Z", "closed_at": "2014-07-31T18:47:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting the following error when attempting installation on Ubuntu. I have tried via pip as well as downloading and installing from the github repo.\n\nHere is the error:\nDownloading/unpacking Rtree\n  Downloading Rtree-0.8.0.tar.gz (56kB): 56kB downloaded\n  Running setup.py (path:/tmp/pip_build_root/Rtree/setup.py) egg_info for package Rtree\n    Traceback (most recent call last):\n      File \"<string>\", line 17, in <module>\n      File \"/tmp/pip_build_root/Rtree/setup.py\", line 4, in <module>\n        import rtree\n      File \"rtree/**init**.py\", line 1, in <module>\n        from .index import Rtree\n      File \"rtree/index.py\", line 31, in <module>\n        int(t) for t in **c_api_version**.decode('utf-8').split('.')]\n    ValueError: invalid literal for int() with base 10: 'SIDX_VERSION_MAJOR'\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n\n  File \"<string>\", line 17, in <module>\n\n  File \"/tmp/pip_build_root/Rtree/setup.py\", line 4, in <module>\n\n```\nimport rtree\n```\n\n  File \"rtree/**init**.py\", line 1, in <module>\n\n```\nfrom .index import Rtree\n```\n\n  File \"rtree/index.py\", line 31, in <module>\n\n```\nint(t) for t in __c_api_version__.decode('utf-8').split('.')]\n```\n\nValueError: invalid literal for int() with base 10: 'SIDX_VERSION_MAJOR'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/24", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/24/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/24/events", "html_url": "https://github.com/Toblerity/rtree/issues/24", "id": 38123894, "node_id": "MDU6SXNzdWUzODEyMzg5NA==", "number": 24, "title": "Object pickling problem w/o cPickle", "user": {"login": "someben", "id": 243341, "node_id": "MDQ6VXNlcjI0MzM0MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/243341?v=4", "gravatar_id": "", "url": "https://api.github.com/users/someben", "html_url": "https://github.com/someben", "followers_url": "https://api.github.com/users/someben/followers", "following_url": "https://api.github.com/users/someben/following{/other_user}", "gists_url": "https://api.github.com/users/someben/gists{/gist_id}", "starred_url": "https://api.github.com/users/someben/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/someben/subscriptions", "organizations_url": "https://api.github.com/users/someben/orgs", "repos_url": "https://api.github.com/users/someben/repos", "events_url": "https://api.github.com/users/someben/events{/privacy}", "received_events_url": "https://api.github.com/users/someben/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-07-17T20:43:39Z", "updated_at": "2014-07-28T03:54:54Z", "closed_at": "2014-07-28T03:54:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is a bug in the index dumping logic when you do not have cPickle available. If you use this simple script:\n\n  #!/usr/bin/env python\n\n  from rtree import index\n  import pickle as pickle\n\n  idx = index.Index()\n  left, bottom, right, top = (0.0, 0.0, 1.0, 1.0)\n  idx.insert(0, (left, bottom, right, top), \"SomePickleable\")\n  print list(idx.intersection((1.0, 1.0, 2.0, 2.0)))\n  re_idx = pickle.loads(pickle.dumps(idx))\n  print list(re_idx.intersection((1.0, 1.0, 2.0, 2.0)))\n\nIt runs fine with cPickle available:\n  $ ./rtree_bug.py \n  [0]\n  [0]\n\nBut if you force things to use (regular) Pickle:\n  mv lib/python2.7/lib-dynload/cPickle.so lib/python2.7/lib-dynload/cPickle.so.outoftheway\n\nYou get a protocol error:\n  $ ./rtree_bug.py \n  ...\n  raise ValueError(\"pickle protocol must be <= %d\" % HIGHEST_PROTOCOL)\n  ValueError: pickle protocol must be <= 2\n\nThe problem is in the dumps( ) aliasing, which I have a pull request for.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/23", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/23/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/23/events", "html_url": "https://github.com/Toblerity/rtree/issues/23", "id": 37744677, "node_id": "MDU6SXNzdWUzNzc0NDY3Nw==", "number": 23, "title": "Tests don't pass on Python 2.7", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-07-13T16:35:37Z", "updated_at": "2014-07-28T03:54:26Z", "closed_at": "2014-07-28T03:54:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Pointed out by @hobu in https://github.com/Toblerity/rtree/issues/21#issuecomment-48832117.\n\nLargely due to naive changes I made while working on Python 3.4. Should be easy fixes.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/22", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/22/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/22/events", "html_url": "https://github.com/Toblerity/rtree/issues/22", "id": 37722481, "node_id": "MDU6SXNzdWUzNzcyMjQ4MQ==", "number": 22, "title": "Have Travis use Pandas wheels for testing", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-07-12T15:54:26Z", "updated_at": "2014-07-12T15:54:48Z", "closed_at": "2014-07-12T15:54:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Sadly, I haven't found any out there.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/21", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/21/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/21/events", "html_url": "https://github.com/Toblerity/rtree/issues/21", "id": 37721510, "node_id": "MDU6SXNzdWUzNzcyMTUxMA==", "number": 21, "title": "0.8 Release", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2014-07-12T15:01:57Z", "updated_at": "2014-07-17T20:56:13Z", "closed_at": "2014-07-17T20:56:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Now that #18 is closed, Rtree works on Python 3.4 and this warrants a new release. Will tag and upload to PyPI after a little more testing with GeoPandas.\n\ncc @hobu \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/20", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/20/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/20/events", "html_url": "https://github.com/Toblerity/rtree/issues/20", "id": 37712332, "node_id": "MDU6SXNzdWUzNzcxMjMzMg==", "number": 20, "title": "\"Empty data stream given\" error", "user": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-07-12T04:16:15Z", "updated_at": "2016-12-13T14:22:41Z", "closed_at": "2014-07-28T03:54:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Trying to set GeoPandas up with Rtree support today I have run into the following:\n\n`RTreeError: Error in \"Index_CreateWithStream\": IllegalArgumentException: RTree::BulkLoader::bulkLoadUsingSTR: Empty data stream given.`\n\nIf the generator you send to the bulk loader turns out to be empty, say you filter all its element out for good reasons, leaving only an expression equivalent to\n\n```\nidx = Index(iter(()))\n```\n\nthe bulk loader quits and raises an exception. More graceful failure would be better.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/19", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/19/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/19/events", "html_url": "https://github.com/Toblerity/rtree/issues/19", "id": 36773083, "node_id": "MDU6SXNzdWUzNjc3MzA4Mw==", "number": 19, "title": "index:Id is too large and overflow", "user": {"login": "harveyaot", "id": 4371377, "node_id": "MDQ6VXNlcjQzNzEzNzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/4371377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/harveyaot", "html_url": "https://github.com/harveyaot", "followers_url": "https://api.github.com/users/harveyaot/followers", "following_url": "https://api.github.com/users/harveyaot/following{/other_user}", "gists_url": "https://api.github.com/users/harveyaot/gists{/gist_id}", "starred_url": "https://api.github.com/users/harveyaot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/harveyaot/subscriptions", "organizations_url": "https://api.github.com/users/harveyaot/orgs", "repos_url": "https://api.github.com/users/harveyaot/repos", "events_url": "https://api.github.com/users/harveyaot/events{/privacy}", "received_events_url": "https://api.github.com/users/harveyaot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-06-30T06:59:54Z", "updated_at": "2014-07-04T05:02:53Z", "closed_at": "2014-07-04T05:02:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "when I want to index a batch of points(about 240 million),some points got id like 18011072989319135231, when I do intersect ,I got overflowed id number like -435671084390416385.  I think there is some problems in converting number from python to C lib.\n     And I also check the poi id is in the range of uint64. I check the spatial index lib, I found they use uint64 as the id types.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/17", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/17/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/17/events", "html_url": "https://github.com/Toblerity/rtree/issues/17", "id": 32968538, "node_id": "MDU6SXNzdWUzMjk2ODUzOA==", "number": 17, "title": "problem with travis-ci", "user": {"login": "goulu", "id": 1368062, "node_id": "MDQ6VXNlcjEzNjgwNjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1368062?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goulu", "html_url": "https://github.com/goulu", "followers_url": "https://api.github.com/users/goulu/followers", "following_url": "https://api.github.com/users/goulu/following{/other_user}", "gists_url": "https://api.github.com/users/goulu/gists{/gist_id}", "starred_url": "https://api.github.com/users/goulu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goulu/subscriptions", "organizations_url": "https://api.github.com/users/goulu/orgs", "repos_url": "https://api.github.com/users/goulu/repos", "events_url": "https://api.github.com/users/goulu/events{/privacy}", "received_events_url": "https://api.github.com/users/goulu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-05-07T09:22:12Z", "updated_at": "2014-07-13T05:11:58Z", "closed_at": "2014-07-13T05:11:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using travis-ci to automatically build and test my project, which uses rtree.\n\ntravis-ci encounters an error when installing rtree, or rather libspatialindex ( see \nhttps://travis-ci.org/goulu/Goulib/builds/24608247 ) : \n\n```\nrtree\n    Traceback (most recent call last):\n      File \"<string>\", line 17, in <module>\n      File \"/home/travis/virtualenv/python2.7.6/build/rtree/setup.py\", line 5, in <module>\n        import rtree\n      File \"rtree/__init__.py\", line 1, in <module>\n        from index import Rtree\n      File \"rtree/index.py\", line 2, in <module>\n        import core\n      File \"rtree/core.py\", line 85, in <module>\n        rt = ctypes.CDLL(lib_name)\n      File \"/opt/python/2.7.6/lib/python2.7/ctypes/__init__.py\", line 365, in __init__\n        self._handle = _dlopen(self._name, mode)\n    OSError: libspatialindex_c.so: cannot open shared object file: No such file or directory\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n  File \"<string>\", line 17, in <module>\n  File \"/home/travis/virtualenv/python2.7.6/build/rtree/setup.py\", line 5, in <module>\n    import rtree\n  File \"rtree/__init__.py\", line 1, in <module>\n    from index import Rtree\n  File \"rtree/index.py\", line 2, in <module>\n    import core\n  File \"rtree/core.py\", line 85, in <module>\n    rt = ctypes.CDLL(lib_name)\n  File \"/opt/python/2.7.6/lib/python2.7/ctypes/__init__.py\", line 365, in __init__\n    self._handle = _dlopen(self._name, mode)\nOSError: libspatialindex_c.so: cannot open shared object file: No such file or directory\n----------------------------------------\nCleaning up...\nCommand python setup.py egg_info failed with error code 1 in /home/travis/virtualenv/python2.7.6/build/rtree\nStoring debug log for failure in /home/travis/.pip/pip.log\nThe command \"pip install --allow-all-external -r requirements.txt\" failed and exited with 1 during install.\n```\n\nany idea why ? thanks !\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/15", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/15/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/15/events", "html_url": "https://github.com/Toblerity/rtree/issues/15", "id": 30756317, "node_id": "MDU6SXNzdWUzMDc1NjMxNw==", "number": 15, "title": "Check libc code in rtree/core.py", "user": {"login": "ikirker", "id": 479061, "node_id": "MDQ6VXNlcjQ3OTA2MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/479061?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ikirker", "html_url": "https://github.com/ikirker", "followers_url": "https://api.github.com/users/ikirker/followers", "following_url": "https://api.github.com/users/ikirker/following{/other_user}", "gists_url": "https://api.github.com/users/ikirker/gists{/gist_id}", "starred_url": "https://api.github.com/users/ikirker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ikirker/subscriptions", "organizations_url": "https://api.github.com/users/ikirker/orgs", "repos_url": "https://api.github.com/users/ikirker/repos", "events_url": "https://api.github.com/users/ikirker/events{/privacy}", "received_events_url": "https://api.github.com/users/ikirker/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-04-03T08:39:44Z", "updated_at": "2014-07-31T18:52:04Z", "closed_at": "2014-07-31T18:48:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I _think_ this snippet from line 104 of `rtree/core.py` only works by coincidence.\n\n``` python\nelif os.name == 'posix':\n    platform = os.uname()[0]\n    lib_name = 'libspatialindex_c.so'\n    if platform == 'Darwin':\n        lib_name = 'libspatialindex_c.dylib'\n        free = ctypes.CDLL(find_library('libc')).free\n    else:\n        free = ctypes.CDLL(find_library('libc.so.6')).free\n```\n\nIf you're actually looking for `libc` with the find_library function, you'd want `find_library('c')`, but this code works because:\n- `find_library` returns `None` if it fails to find the library\n- `dlopen` (and thus, `CDLL`) returns a handle that can access `libc` if you pass `None` to it as the library parameter.\n\nSo, as far as I can tell, this:\n\n``` python\n    if platform == 'Darwin':\n        lib_name = 'libspatialindex_c.dylib'\n        free = ctypes.CDLL(find_library('libc')).free\n    else:\n        free = ctypes.CDLL(find_library('libc.so.6')).free\n```\n\ncould be replaced with:\n\n``` python\n    if platform == 'Darwin':\n        lib_name = 'libspatialindex_c.dylib'\n    free = ctypes.CDLL(None).free\n```\n\nPlease do correct me if I'm wrong -- or I guess if this is a deliberate choice for some reason?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/14", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/14/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/14/events", "html_url": "https://github.com/Toblerity/rtree/issues/14", "id": 23315148, "node_id": "MDU6SXNzdWUyMzMxNTE0OA==", "number": 14, "title": "problem creating big index?", "user": {"login": "christophlingg", "id": 2032443, "node_id": "MDQ6VXNlcjIwMzI0NDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/2032443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/christophlingg", "html_url": "https://github.com/christophlingg", "followers_url": "https://api.github.com/users/christophlingg/followers", "following_url": "https://api.github.com/users/christophlingg/following{/other_user}", "gists_url": "https://api.github.com/users/christophlingg/gists{/gist_id}", "starred_url": "https://api.github.com/users/christophlingg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/christophlingg/subscriptions", "organizations_url": "https://api.github.com/users/christophlingg/orgs", "repos_url": "https://api.github.com/users/christophlingg/repos", "events_url": "https://api.github.com/users/christophlingg/events{/privacy}", "received_events_url": "https://api.github.com/users/christophlingg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-11-26T13:54:08Z", "updated_at": "2013-11-26T16:03:28Z", "closed_at": "2013-11-26T15:37:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everybody,\n\nI started using rtree some weeks ago and find it very useful, thanks for providing a rtree in python!\n\nI run into a problem recently that might affect other people as well. I am accessing a postgis database with approximately 5 mio rows. I can build a rtree without problems as long as I keep the number of objects below 1 million. The file sizes increase up to 300MB for the data and 800kb for the index.\n\nWhen I try to store more than approximately 1 mio entries I get this error:\n\n```\nTraceback (most recent call last):\n  File \"/home/christoph/dev/my_project/trees.py\", line 116, in create_from_db\n    tree = FastRtree(TREE_FILENAME, generator_function(), property=tree_property)\n  File \"/home/christoph/.virtualenvs/my_project/lib/python2.7/site-packages/rtree/index.py\", line 235, in __init__\n    self.handle = self._create_idx_from_stream(stream)\n  File \"/home/christoph/.virtualenvs/my_project/lib/python2.7/site-packages/rtree/index.py\", line 691, in _create_idx_from_stream\n    return core.rt.Index_CreateWithStream(self.properties.handle, next)\n  File \"/home/christoph/.virtualenvs/my_project/lib/python2.7/site-packages/rtree/core.py\", line 25, in check_void\n    raise RTreeError(msg)\nRTreeError: Error in \"Index_CreateWithStream\": Tools::BufferedFileWriter::open: Cannot open file.\n```\n\nDoes someone have a clue about what is happening? File creation is definitely not a problem when I create a smaller tree.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/13", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/13/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/13/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/13/events", "html_url": "https://github.com/Toblerity/rtree/issues/13", "id": 17653517, "node_id": "MDU6SXNzdWUxNzY1MzUxNw==", "number": 13, "title": "Unexpected behavior with kd indexes serialized to disk", "user": {"login": "acrosby", "id": 865212, "node_id": "MDQ6VXNlcjg2NTIxMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/865212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/acrosby", "html_url": "https://github.com/acrosby", "followers_url": "https://api.github.com/users/acrosby/followers", "following_url": "https://api.github.com/users/acrosby/following{/other_user}", "gists_url": "https://api.github.com/users/acrosby/gists{/gist_id}", "starred_url": "https://api.github.com/users/acrosby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/acrosby/subscriptions", "organizations_url": "https://api.github.com/users/acrosby/orgs", "repos_url": "https://api.github.com/users/acrosby/repos", "events_url": "https://api.github.com/users/acrosby/events{/privacy}", "received_events_url": "https://api.github.com/users/acrosby/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-08-05T19:20:52Z", "updated_at": "2014-08-04T14:27:30Z", "closed_at": "2014-08-04T14:27:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, \n\nPerhaps I am missing some critical step, but I am attempting to serialize a 5-d index to disk using the standard method. Example code follows below. The problem I am running into is that when I close the index on disk and attempt to open again, the 5-d nature of the index appears to be lost. My Rtree version is 0.7.0.\n\n``` python\nimport numpy as np\nimport rtree\n\nrandom = np.random.random((5000,5))\n\ndef gen(r):\n    for i in xrange(r.shape[0]):\n        yield (i, (r[i,0], r[i,1], r[i,2], r[i,3], r[i,4], \n                   r[i,0], r[i,1], r[i,2], r[i,3], r[i,4]), None)\n\np = rtree.index.Property()\np.dimension = 5\np.overwrite = True\ntree = rtree.index.Index('test2', gen(random), properties=p)\nprint tree.properties.dimension\nprint tree.bounds\ntree.close()\n```\n\nResult:\n5\n[0.0001399796428322997, 0.00012241192644635301, 7.3393899523988e-05, 0.0005358454728167095, 0.00015215451107841726, 0.9997935298037376, 0.9995067343095075, 0.9997580576087635, 0.9999079765788539, 0.999747647405568]\n\n``` python\ntree = rtree.index.Index('test2')\nprint tree.properties.dimension\nprint tree.bounds\ntree.close()\n```\n\nResult:\n2\n[9.68817621993523e-06, 0.0001726496530731758, 3.065078523922793e-05, 0.0001633907971153592, 1.7523149461129428e-05, 0.9998708500048494, 0.9999690660514665, 0.9999390843951469, 0.9999013700514435, 0.9999794343619967]\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/12", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/12/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/12/events", "html_url": "https://github.com/Toblerity/rtree/issues/12", "id": 16745704, "node_id": "MDU6SXNzdWUxNjc0NTcwNA==", "number": 12, "title": "\"the supplied storage callbacks size is wrong, expected 56, got 48\" error with custom storage", "user": {"login": "gromgull", "id": 178028, "node_id": "MDQ6VXNlcjE3ODAyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/178028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gromgull", "html_url": "https://github.com/gromgull", "followers_url": "https://api.github.com/users/gromgull/followers", "following_url": "https://api.github.com/users/gromgull/following{/other_user}", "gists_url": "https://api.github.com/users/gromgull/gists{/gist_id}", "starred_url": "https://api.github.com/users/gromgull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gromgull/subscriptions", "organizations_url": "https://api.github.com/users/gromgull/orgs", "repos_url": "https://api.github.com/users/gromgull/repos", "events_url": "https://api.github.com/users/gromgull/events{/privacy}", "received_events_url": "https://api.github.com/users/gromgull/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-07-15T09:33:52Z", "updated_at": "2014-07-13T20:55:01Z", "closed_at": "2014-07-13T05:11:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to implement a custom storage for rtree, and get the following exception: \n\n``` py\nTraceback (most recent call last):\n  File \"test.py\", line 5, in <module>\n    tree = rtree.index.Rtree(RTreeRedis())\n  File \"/Users/gunnar/projects/rtree-redis/env.rtreeredis/lib/python2.7/site-packages/rtree/index.py\", line 225, in __init__\n    storage.registerCallbacks( self.properties )\n  File \"/Users/gunnar/projects/rtree-redis/env.rtreeredis/lib/python2.7/site-packages/rtree/index.py\", line 1158, in registerCallbacks\n    properties.custom_storage_callbacks      = ctypes.cast( ctypes.pointer(callbacks), ctypes.c_void_p )\n  File \"/Users/gunnar/projects/rtree-redis/env.rtreeredis/lib/python2.7/site-packages/rtree/index.py\", line 1028, in set_custom_storage_callbacks\n    return core.rt.IndexProperty_SetCustomStorageCallbacks(self.handle, value)\n  File \"/Users/gunnar/projects/rtree-redis/env.rtreeredis/lib/python2.7/site-packages/rtree/core.py\", line 17, in check_return\n    raise RTreeError(msg)\nrtree.core.RTreeError: LASError in \"IndexProperty_SetCustomStorageCallbacks\": The supplied storage callbacks size is wrong, expected 56, got 48\n```\n\nI based my code on this: https://github.com/Toblerity/zope.index.rtree/blob/master/rtree/storage.py\n\nand since it fails already when constructing the rtree index, very little of my code actually runs. \n\nThis on python 2.7.5 on OSX 12.4.0, i.e. x86_64\n\nThanks for any pointers!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/11", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/11/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/11/events", "html_url": "https://github.com/Toblerity/rtree/issues/11", "id": 16621652, "node_id": "MDU6SXNzdWUxNjYyMTY1Mg==", "number": 11, "title": "load object given ID", "user": {"login": "gromgull", "id": 178028, "node_id": "MDQ6VXNlcjE3ODAyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/178028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gromgull", "html_url": "https://github.com/gromgull", "followers_url": "https://api.github.com/users/gromgull/followers", "following_url": "https://api.github.com/users/gromgull/following{/other_user}", "gists_url": "https://api.github.com/users/gromgull/gists{/gist_id}", "starred_url": "https://api.github.com/users/gromgull/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gromgull/subscriptions", "organizations_url": "https://api.github.com/users/gromgull/orgs", "repos_url": "https://api.github.com/users/gromgull/repos", "events_url": "https://api.github.com/users/gromgull/events{/privacy}", "received_events_url": "https://api.github.com/users/gromgull/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-07-11T09:29:19Z", "updated_at": "2020-05-10T08:03:36Z", "closed_at": "2014-07-31T19:00:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "after doing `nearest` with objects=False, I end up with a list of IDs. \n\nIs there a way to later go back and retrieve either the raw object or an `Item` from this id? i.e. `index.get_item_by_id` ? \n\nI would maybe also be nice to have a way to get the id and bounds, without getting the objects\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/10", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/10/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/10/events", "html_url": "https://github.com/Toblerity/rtree/issues/10", "id": 15866760, "node_id": "MDU6SXNzdWUxNTg2Njc2MA==", "number": 10, "title": "rtree breaks arcpy (or vice versa)", "user": {"login": "geographika", "id": 490840, "node_id": "MDQ6VXNlcjQ5MDg0MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/490840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/geographika", "html_url": "https://github.com/geographika", "followers_url": "https://api.github.com/users/geographika/followers", "following_url": "https://api.github.com/users/geographika/following{/other_user}", "gists_url": "https://api.github.com/users/geographika/gists{/gist_id}", "starred_url": "https://api.github.com/users/geographika/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/geographika/subscriptions", "organizations_url": "https://api.github.com/users/geographika/orgs", "repos_url": "https://api.github.com/users/geographika/repos", "events_url": "https://api.github.com/users/geographika/events{/privacy}", "received_events_url": "https://api.github.com/users/geographika/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 21, "created_at": "2013-06-21T19:18:12Z", "updated_at": "2014-12-02T16:33:42Z", "closed_at": "2014-07-31T19:01:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Importing both arcpy and rtree causes the arcpy.ArcSDESQLExecute function to break. No other functions seem affected (that I have come across). **Update** it seems any functions connection to SDE are broken. \n\nThis occurs for the Python 2.7 packages from http://www.lfd.uci.edu/~gohlke/pythonlibs/ for both x32 and x64. Using ArcGIS 10.1 on Windows 7. \n\nI know arcpy modifies some system paths etc. but does rtree have any globals that could cause issues with arcpy?\n\n> > > import arcpy\n> > > import rtree\n> > > sde_conn = arcpy.ArcSDESQLExecute(r\"C:\\Temp\\conn.sde\")\n> > > Traceback (most recent call last):\n> > >   File \"<stdin>\", line 1, in <module>\n> > >   File \"C:\\Program Files (x86)\\ArcGIS\\Desktop10.1\\arcpy\\arcpy\\arcobjects\\mixins.py\", line 893, in **init**\n> > >     _BaseArcObject.__init__(self, *gp_fixargs((server, instance, database, user, password), True))\n> > >   File \"C:\\Program Files (x86)\\ArcGIS\\Desktop10.1\\arcpy\\arcpy\\arcobjects_base.py\", line 47, in **init**\n> > >     for arg in args))\n> > > RuntimeError: Object: Could not open SDE workspace C:\\Temp\\conn.sde\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/9", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/9/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/9/events", "html_url": "https://github.com/Toblerity/rtree/issues/9", "id": 12969091, "node_id": "MDU6SXNzdWUxMjk2OTA5MQ==", "number": 9, "title": "Does Rtree works on python 3.x?", "user": {"login": "bennyk", "id": 1509541, "node_id": "MDQ6VXNlcjE1MDk1NDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1509541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bennyk", "html_url": "https://github.com/bennyk", "followers_url": "https://api.github.com/users/bennyk/followers", "following_url": "https://api.github.com/users/bennyk/following{/other_user}", "gists_url": "https://api.github.com/users/bennyk/gists{/gist_id}", "starred_url": "https://api.github.com/users/bennyk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bennyk/subscriptions", "organizations_url": "https://api.github.com/users/bennyk/orgs", "repos_url": "https://api.github.com/users/bennyk/repos", "events_url": "https://api.github.com/users/bennyk/events{/privacy}", "received_events_url": "https://api.github.com/users/bennyk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2013-04-09T12:38:28Z", "updated_at": "2014-07-31T19:01:57Z", "closed_at": "2014-07-31T19:01:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "is this library available for python 3.x as well?\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/7", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/7/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/7/events", "html_url": "https://github.com/Toblerity/rtree/issues/7", "id": 8087398, "node_id": "MDU6SXNzdWU4MDg3Mzk4", "number": 7, "title": "Make nearest() and intersection() real generators", "user": {"login": "Redoute", "id": 1494624, "node_id": "MDQ6VXNlcjE0OTQ2MjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1494624?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Redoute", "html_url": "https://github.com/Redoute", "followers_url": "https://api.github.com/users/Redoute/followers", "following_url": "https://api.github.com/users/Redoute/following{/other_user}", "gists_url": "https://api.github.com/users/Redoute/gists{/gist_id}", "starred_url": "https://api.github.com/users/Redoute/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Redoute/subscriptions", "organizations_url": "https://api.github.com/users/Redoute/orgs", "repos_url": "https://api.github.com/users/Redoute/repos", "events_url": "https://api.github.com/users/Redoute/events{/privacy}", "received_events_url": "https://api.github.com/users/Redoute/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-11-04T10:17:39Z", "updated_at": "2014-07-31T19:32:37Z", "closed_at": "2014-07-31T19:32:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "On the [mailing list](http://lists.gispython.org/pipermail/community/2012-October/003146.html) Howard shows the way how to do this:\n\n> The base libspatialindex library itself absolutely supports this through it its visitor pattern, however. Presumably there would need to be some sort of callback-based method, much like the way the DataStream stuff in the C API works in the reverse direction, to connect up the Python side to the results visitor.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/5", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/5/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/5/events", "html_url": "https://github.com/Toblerity/rtree/issues/5", "id": 5060370, "node_id": "MDU6SXNzdWU1MDYwMzcw", "number": 5, "title": "How to specify threshold for float equality comparison?", "user": {"login": "sherjilozair", "id": 677316, "node_id": "MDQ6VXNlcjY3NzMxNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/677316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sherjilozair", "html_url": "https://github.com/sherjilozair", "followers_url": "https://api.github.com/users/sherjilozair/followers", "following_url": "https://api.github.com/users/sherjilozair/following{/other_user}", "gists_url": "https://api.github.com/users/sherjilozair/gists{/gist_id}", "starred_url": "https://api.github.com/users/sherjilozair/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sherjilozair/subscriptions", "organizations_url": "https://api.github.com/users/sherjilozair/orgs", "repos_url": "https://api.github.com/users/sherjilozair/repos", "events_url": "https://api.github.com/users/sherjilozair/events{/privacy}", "received_events_url": "https://api.github.com/users/sherjilozair/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-06-14T00:27:56Z", "updated_at": "2012-10-25T14:53:59Z", "closed_at": "2012-10-24T20:05:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "When checking nearest neighbours, rtree can return more than the specified number of results, as if two points are equidistant, it returns both them. To check this equidistance, it must have some threshold since the distances are floats. I want to be able to control this threshold.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/4", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/4/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/4/events", "html_url": "https://github.com/Toblerity/rtree/issues/4", "id": 4160861, "node_id": "MDU6SXNzdWU0MTYwODYx", "number": 4, "title": "LICENSE.txt is not included in MANIFEST.in", "user": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars2.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-04-17T20:32:42Z", "updated_at": "2012-04-17T20:33:26Z", "closed_at": "2012-04-17T20:33:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Our license is not being included in the source tree because of this.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/3", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/3/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/3/events", "html_url": "https://github.com/Toblerity/rtree/issues/3", "id": 4137180, "node_id": "MDU6SXNzdWU0MTM3MTgw", "number": 3, "title": "Come up with __repr__ or __str__ method for index.Property", "user": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars2.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sgillies", "id": 33697, "node_id": "MDQ6VXNlcjMzNjk3", "avatar_url": "https://avatars2.githubusercontent.com/u/33697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgillies", "html_url": "https://github.com/sgillies", "followers_url": "https://api.github.com/users/sgillies/followers", "following_url": "https://api.github.com/users/sgillies/following{/other_user}", "gists_url": "https://api.github.com/users/sgillies/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgillies/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgillies/subscriptions", "organizations_url": "https://api.github.com/users/sgillies/orgs", "repos_url": "https://api.github.com/users/sgillies/repos", "events_url": "https://api.github.com/users/sgillies/events{/privacy}", "received_events_url": "https://api.github.com/users/sgillies/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2012-04-16T16:01:18Z", "updated_at": "2014-08-04T14:27:35Z", "closed_at": "2014-08-04T14:27:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "@sgillies  is going to come up with some json-like key/value pairing for this so we can easily see the property sets.  Maybe even set them?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/2", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/2/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/2/events", "html_url": "https://github.com/Toblerity/rtree/issues/2", "id": 4136956, "node_id": "MDU6SXNzdWU0MTM2OTU2", "number": 2, "title": "CustomStorage not in sync with latest libspatialindex changes to add flush() capability to IStorageManager", "user": {"login": "hobu", "id": 87751, "node_id": "MDQ6VXNlcjg3NzUx", "avatar_url": "https://avatars2.githubusercontent.com/u/87751?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hobu", "html_url": "https://github.com/hobu", "followers_url": "https://api.github.com/users/hobu/followers", "following_url": "https://api.github.com/users/hobu/following{/other_user}", "gists_url": "https://api.github.com/users/hobu/gists{/gist_id}", "starred_url": "https://api.github.com/users/hobu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hobu/subscriptions", "organizations_url": "https://api.github.com/users/hobu/orgs", "repos_url": "https://api.github.com/users/hobu/repos", "events_url": "https://api.github.com/users/hobu/events{/privacy}", "received_events_url": "https://api.github.com/users/hobu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-04-16T15:49:50Z", "updated_at": "2012-04-16T15:51:28Z", "closed_at": "2012-04-16T15:51:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The CustomStorage needs to register a flush() callback to keep up with changes to IStorageManager for libspatialindex 1.8.0+\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Toblerity/rtree/issues/1", "repository_url": "https://api.github.com/repos/Toblerity/rtree", "labels_url": "https://api.github.com/repos/Toblerity/rtree/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/Toblerity/rtree/issues/1/comments", "events_url": "https://api.github.com/repos/Toblerity/rtree/issues/1/events", "html_url": "https://github.com/Toblerity/rtree/issues/1", "id": 2797054, "node_id": "MDU6SXNzdWUyNzk3MDU0", "number": 1, "title": "memory leak when retrieving pickled objects from file", "user": {"login": "dkeefe3773", "id": 1319730, "node_id": "MDQ6VXNlcjEzMTk3MzA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1319730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dkeefe3773", "html_url": "https://github.com/dkeefe3773", "followers_url": "https://api.github.com/users/dkeefe3773/followers", "following_url": "https://api.github.com/users/dkeefe3773/following{/other_user}", "gists_url": "https://api.github.com/users/dkeefe3773/gists{/gist_id}", "starred_url": "https://api.github.com/users/dkeefe3773/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dkeefe3773/subscriptions", "organizations_url": "https://api.github.com/users/dkeefe3773/orgs", "repos_url": "https://api.github.com/users/dkeefe3773/repos", "events_url": "https://api.github.com/users/dkeefe3773/events{/privacy}", "received_events_url": "https://api.github.com/users/dkeefe3773/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-01-10T21:30:53Z", "updated_at": "2014-08-04T14:27:23Z", "closed_at": "2014-08-04T14:27:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "import rtree\nimport random\nimport time\n\ndef createDefaultIndex():\n  idx = rtree.index.Rtree(u\"defaultIndex\")\n\n  # make boxes....\n  boxes = []\n  for boxIndex in range(0,100):\n    xmin = random.random()\n    ymin = random.random()\n    xmax = xmin + random.random()\n    ymax = ymin + random.random()\n    boxes.append((xmin,ymin,xmax,ymax))\n\n  for boxIndex, box in enumerate(boxes):\n    pickledObject = \"makethisbig \" \\* 100000\n    idx.insert(boxIndex, box, obj=pickledObject)\n\n  del idx\n\ndef readIndexDefault():\n  indexPath = u\"defaultIndex\"\n  #idx = rtree.index.Rtree(indexPath)\n  idx = rtree.index.Index(indexPath)\n  boundingCoords = [0,0,60,60]\n  print \"Consuming Index\"\n  startTime = time.time()\n  #hits = list(idx.intersection(boundingCoords, objects=True)) # memory leak \n  #hits = list(idx.intersection(boundingCoords, objects=\"raw\")) # no memory leak\n  hits = list(idx.intersection(boundingCoords, objects=False)) # no memory leak\n  #hits = list(idx.intersection(boundingCoords))\n  endTime = time.time()\n  print \"Consuming time: \", endTime - startTime\n  print \"Hits: \", len(hits)\n  time.sleep(10)\n\n  print \"Done Consuming - erasing memory\"\n  idx = None\n  hits=None\n  for counter in range(0,10):\n    time.sleep(1)\n\n  # what we have learned: \n  # if objects == true, we have memory leak.  hits, idx each have\n  # the size of the dat file and those are released.  however, there is\n  # a 3rd memory allocation for the size of the dat file, mysterious, that\n  # is not released.\n  # if object != true, then there is no memory leak.\n  # if object == \"raw\" then no memory leak\n\nif **name** == \"**main**\":\n  createDefaultIndex()\n  readIndexDefault()\n", "performed_via_github_app": null, "score": 1.0}]}