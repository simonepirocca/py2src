{"total_count": 13, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/22", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/22/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/22/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/22", "id": 681739136, "node_id": "MDU6SXNzdWU2ODE3MzkxMzY=", "number": 22, "title": "Import PyOpenSSLContext directly instead of via requests.packages", "user": {"login": "vog", "id": 412749, "node_id": "MDQ6VXNlcjQxMjc0OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/412749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vog", "html_url": "https://github.com/vog", "followers_url": "https://api.github.com/users/vog/followers", "following_url": "https://api.github.com/users/vog/following{/other_user}", "gists_url": "https://api.github.com/users/vog/gists{/gist_id}", "starred_url": "https://api.github.com/users/vog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vog/subscriptions", "organizations_url": "https://api.github.com/users/vog/orgs", "repos_url": "https://api.github.com/users/vog/repos", "events_url": "https://api.github.com/users/vog/events{/privacy}", "received_events_url": "https://api.github.com/users/vog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-19T10:42:45Z", "updated_at": "2020-08-19T12:14:24Z", "closed_at": "2020-08-19T12:14:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We should import PyOpenSSLContext directly instead of via requests.packages.\r\n\r\nSee psf/requests#5561 for further details.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/21", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/21/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/21/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/21", "id": 676689122, "node_id": "MDU6SXNzdWU2NzY2ODkxMjI=", "number": 21, "title": "Improve error reporting", "user": {"login": "YPOC", "id": 24976043, "node_id": "MDQ6VXNlcjI0OTc2MDQz", "avatar_url": "https://avatars3.githubusercontent.com/u/24976043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/YPOC", "html_url": "https://github.com/YPOC", "followers_url": "https://api.github.com/users/YPOC/followers", "following_url": "https://api.github.com/users/YPOC/following{/other_user}", "gists_url": "https://api.github.com/users/YPOC/gists{/gist_id}", "starred_url": "https://api.github.com/users/YPOC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/YPOC/subscriptions", "organizations_url": "https://api.github.com/users/YPOC/orgs", "repos_url": "https://api.github.com/users/YPOC/repos", "events_url": "https://api.github.com/users/YPOC/events{/privacy}", "received_events_url": "https://api.github.com/users/YPOC/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-11T08:34:58Z", "updated_at": "2020-08-11T10:42:03Z", "closed_at": "2020-08-11T10:42:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "When specifying an incorrect password for the certificate requests_pkcs12 will raise a general exception Error([('PKCS12 routines', 'PKCS12_parse', 'mac verify failure')]), which is a pain to catch. Would it be possible to use a more specific exception, or one of requests.exceptions? Also I couldn't find any information about which exceptions can be raised. Or is there any easy way to handle that exception I don't know about?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/19", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/19/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/19/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/19", "id": 559501013, "node_id": "MDU6SXNzdWU1NTk1MDEwMTM=", "number": 19, "title": "Fails to install using python36 when system encoding is not UTF-8", "user": {"login": "jaedolph", "id": 10444633, "node_id": "MDQ6VXNlcjEwNDQ0NjMz", "avatar_url": "https://avatars3.githubusercontent.com/u/10444633?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jaedolph", "html_url": "https://github.com/jaedolph", "followers_url": "https://api.github.com/users/jaedolph/followers", "following_url": "https://api.github.com/users/jaedolph/following{/other_user}", "gists_url": "https://api.github.com/users/jaedolph/gists{/gist_id}", "starred_url": "https://api.github.com/users/jaedolph/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jaedolph/subscriptions", "organizations_url": "https://api.github.com/users/jaedolph/orgs", "repos_url": "https://api.github.com/users/jaedolph/repos", "events_url": "https://api.github.com/users/jaedolph/events{/privacy}", "received_events_url": "https://api.github.com/users/jaedolph/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-04T05:43:55Z", "updated_at": "2020-02-15T00:15:09Z", "closed_at": "2020-02-15T00:15:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Noticed a small issue when trying to install this from a source distribution on an system where the locale is set to POSIX and python version is 3.6 (this was the situation we had on a Jenkins build box we were using this project on)\r\n\r\n```\r\n[test@localhost requests_pkcs12]$ export LANG=POSIX\r\n[test@localhost requests_pkcs12]$ export LC_ALL=POSIX\r\n[test@localhost requests_pkcs12]$ locale\r\nLANG=POSIX\r\nLC_CTYPE=\"POSIX\"\r\nLC_NUMERIC=\"POSIX\"\r\nLC_TIME=\"POSIX\"\r\nLC_COLLATE=\"POSIX\"\r\nLC_MONETARY=\"POSIX\"\r\nLC_MESSAGES=\"POSIX\"\r\nLC_PAPER=\"POSIX\"\r\nLC_NAME=\"POSIX\"\r\nLC_ADDRESS=\"POSIX\"\r\nLC_TELEPHONE=\"POSIX\"\r\nLC_MEASUREMENT=\"POSIX\"\r\nLC_IDENTIFICATION=\"POSIX\"\r\nLC_ALL=POSIX\r\n[test@localhost requests_pkcs12]$ pip3 install .\r\nProcessing /var/tmp/requests_pkcs12\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-k4kckmm2-build/setup.py\", line 6, in <module>\r\n        long_description=open('README.rst').read(),\r\n      File \"/usr/lib64/python3.6/encodings/ascii.py\", line 26, in decode\r\n        return codecs.ascii_decode(input, self.errors)[0]\r\n    UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 2244: ordinal not in range(128)\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-k4kckmm2-build/\r\n```\r\n\r\nWe figured out this is due to the open() function call in setup.py not being explicit on the encoding (uses the system encoding returned locale.getpreferredencoding())\r\n\r\nIn our case the simple fix was to run this before the build:\r\n```\r\nexport LC_ALL=en_US.utf8\r\n```\r\n\r\nI have also done a PR that makes sure the README.rst can be decoded correctly by setup.py regardless of the system locale. https://github.com/m-click/requests_pkcs12/pull/18https://github.com/m-click/requests_pkcs12/pull/18 \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/16", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/16/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/16/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/16", "id": 537197057, "node_id": "MDU6SXNzdWU1MzcxOTcwNTc=", "number": 16, "title": "requests.exceptions.SSLError with tls_process_server_certificate, certificate verify failed for valid p12", "user": {"login": "halilduygulu", "id": 4080005, "node_id": "MDQ6VXNlcjQwODAwMDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/4080005?v=4", "gravatar_id": "", "url": "https://api.github.com/users/halilduygulu", "html_url": "https://github.com/halilduygulu", "followers_url": "https://api.github.com/users/halilduygulu/followers", "following_url": "https://api.github.com/users/halilduygulu/following{/other_user}", "gists_url": "https://api.github.com/users/halilduygulu/gists{/gist_id}", "starred_url": "https://api.github.com/users/halilduygulu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/halilduygulu/subscriptions", "organizations_url": "https://api.github.com/users/halilduygulu/orgs", "repos_url": "https://api.github.com/users/halilduygulu/repos", "events_url": "https://api.github.com/users/halilduygulu/events{/privacy}", "received_events_url": "https://api.github.com/users/halilduygulu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-12T20:29:19Z", "updated_at": "2020-08-19T10:10:26Z", "closed_at": "2020-08-19T10:10:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, thanks for the library, i was struggling to make p12 file with requests. I also have pem and cer files too but could not make it work yet. \r\n\r\nLike expected I entered p12 path and password, verified they are used by giving wrong values etc. I thing i am getting error from server side that certificate is not accepted, but I am using soap-ui with this p12 file and same password and it just works from same laptop. \r\n\r\ncan you think a reason why it is not working, I checked it is tls 1.2 not 1.3 also. Checked closed issues but could not find related info. \r\n\r\ncode is very simple\r\n\r\n>  from requests_pkcs12 import get \r\nr = get('https://wssoap.services.xxxxxx.com/xxxxxx?wsdl', \r\n        pkcs12_filename='/project_folder/certs/xxxxx.p12', pkcs12_password='xxxxxx')\r\n\r\n> Traceback (most recent call last):\r\n  File \"/project_folder/functions/list-trames/urllib3/contrib/pyopenssl.py\", line 485, in wrap_socket\r\n    cnx.do_handshake()\r\nFile \"/project_folder/functions/list-trames/OpenSSL/SSL.py\", line 1934, in do_handshake\r\n    self._raise_ssl_error(self._ssl, result)\r\nFile \"/project_folder/functions/list-trames/OpenSSL/SSL.py\", line 1671, in _raise_ssl_error\r\n    _raise_current_error()\r\nFile \"/project_folder/functions/list-trames/OpenSSL/_util.py\", line 54, in exception_from_error_queue\r\n    raise exception_type(errors)\r\nOpenSSL.SSL.Error: [('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')]", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/15", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/15/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/15/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/15", "id": 502014717, "node_id": "MDU6SXNzdWU1MDIwMTQ3MTc=", "number": 15, "title": "Error import -> from requests_pkcs12 import get", "user": {"login": "anchuste", "id": 8227566, "node_id": "MDQ6VXNlcjgyMjc1NjY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8227566?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anchuste", "html_url": "https://github.com/anchuste", "followers_url": "https://api.github.com/users/anchuste/followers", "following_url": "https://api.github.com/users/anchuste/following{/other_user}", "gists_url": "https://api.github.com/users/anchuste/gists{/gist_id}", "starred_url": "https://api.github.com/users/anchuste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anchuste/subscriptions", "organizations_url": "https://api.github.com/users/anchuste/orgs", "repos_url": "https://api.github.com/users/anchuste/repos", "events_url": "https://api.github.com/users/anchuste/events{/privacy}", "received_events_url": "https://api.github.com/users/anchuste/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1132719389, "node_id": "MDU6TGFiZWwxMTMyNzE5Mzg5", "url": "https://api.github.com/repos/m-click/requests_pkcs12/labels/wait%20for%20feedback", "name": "wait for feedback", "color": "6cf7b4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-10-03T11:43:07Z", "updated_at": "2019-10-08T09:15:22Z", "closed_at": "2019-10-08T08:36:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "When i import library with command from requests_pkcs12 import get i receive error:\r\n\r\nNo module named 'cryptography.hazmat.bindings._constant_time'\r\n\r\nAny idea?\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/14", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/14/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/14/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/14", "id": 497421107, "node_id": "MDU6SXNzdWU0OTc0MjExMDc=", "number": 14, "title": "ImportError: cannot import name 'PyOpenSSLContext'", "user": {"login": "kpkaur28", "id": 35642755, "node_id": "MDQ6VXNlcjM1NjQyNzU1", "avatar_url": "https://avatars1.githubusercontent.com/u/35642755?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kpkaur28", "html_url": "https://github.com/kpkaur28", "followers_url": "https://api.github.com/users/kpkaur28/followers", "following_url": "https://api.github.com/users/kpkaur28/following{/other_user}", "gists_url": "https://api.github.com/users/kpkaur28/gists{/gist_id}", "starred_url": "https://api.github.com/users/kpkaur28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kpkaur28/subscriptions", "organizations_url": "https://api.github.com/users/kpkaur28/orgs", "repos_url": "https://api.github.com/users/kpkaur28/repos", "events_url": "https://api.github.com/users/kpkaur28/events{/privacy}", "received_events_url": "https://api.github.com/users/kpkaur28/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1132719389, "node_id": "MDU6TGFiZWwxMTMyNzE5Mzg5", "url": "https://api.github.com/repos/m-click/requests_pkcs12/labels/wait%20for%20feedback", "name": "wait for feedback", "color": "6cf7b4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-24T02:35:55Z", "updated_at": "2019-10-04T09:28:41Z", "closed_at": "2019-10-04T09:28:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nImportError: cannot import name 'PyOpenSSLContext'\r\n```\r\n\r\nwhen i try to use this library. Can anyone help me with the fix? I cant find PyOpenSSLContext anywhere online.\r\n\r\n```\r\n>>> from requests_pkcs12 import Pkcs12Adapter\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Python36\\lib\\site-packages\\requests_pkcs12.py\", line 24, in <module>\r\n    from requests.packages.urllib3.contrib.pyopenssl import PyOpenSSLContext\r\nImportError: cannot import name 'PyOpenSSLContext'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/11", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/11/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/11/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/11/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/11", "id": 412310677, "node_id": "MDU6SXNzdWU0MTIzMTA2Nzc=", "number": 11, "title": "OpenSSL.SSL.Error: [('SSL routines', 'ssl3_read_bytes', 'sslv3 alert certificate unknown')]", "user": {"login": "VicTangg", "id": 13143776, "node_id": "MDQ6VXNlcjEzMTQzNzc2", "avatar_url": "https://avatars1.githubusercontent.com/u/13143776?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VicTangg", "html_url": "https://github.com/VicTangg", "followers_url": "https://api.github.com/users/VicTangg/followers", "following_url": "https://api.github.com/users/VicTangg/following{/other_user}", "gists_url": "https://api.github.com/users/VicTangg/gists{/gist_id}", "starred_url": "https://api.github.com/users/VicTangg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VicTangg/subscriptions", "organizations_url": "https://api.github.com/users/VicTangg/orgs", "repos_url": "https://api.github.com/users/VicTangg/repos", "events_url": "https://api.github.com/users/VicTangg/events{/privacy}", "received_events_url": "https://api.github.com/users/VicTangg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1132719389, "node_id": "MDU6TGFiZWwxMTMyNzE5Mzg5", "url": "https://api.github.com/repos/m-click/requests_pkcs12/labels/wait%20for%20feedback", "name": "wait for feedback", "color": "6cf7b4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-20T08:50:56Z", "updated_at": "2019-10-04T09:17:09Z", "closed_at": "2019-10-04T09:17:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThank you for the library. I wrote a piece of codes on Repl and that works very well. However, when I run the same piece of code on my machine, the error stated in the title occurs... The different I notice is that OpenSSL on local machine is 1.0.2 and on the Repl is 1.0.1. May I know what else may cause this kind of issue? Thank you!\r\n\r\nYours,\r\nVictor", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/10", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/10/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/10/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/10", "id": 387260232, "node_id": "MDU6SXNzdWUzODcyNjAyMzI=", "number": 10, "title": "requests-pkcs12=1.3 can't have pkcs12_password=''", "user": {"login": "fenchu", "id": 11349883, "node_id": "MDQ6VXNlcjExMzQ5ODgz", "avatar_url": "https://avatars1.githubusercontent.com/u/11349883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fenchu", "html_url": "https://github.com/fenchu", "followers_url": "https://api.github.com/users/fenchu/followers", "following_url": "https://api.github.com/users/fenchu/following{/other_user}", "gists_url": "https://api.github.com/users/fenchu/gists{/gist_id}", "starred_url": "https://api.github.com/users/fenchu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fenchu/subscriptions", "organizations_url": "https://api.github.com/users/fenchu/orgs", "repos_url": "https://api.github.com/users/fenchu/repos", "events_url": "https://api.github.com/users/fenchu/events{/privacy}", "received_events_url": "https://api.github.com/users/fenchu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1132719389, "node_id": "MDU6TGFiZWwxMTMyNzE5Mzg5", "url": "https://api.github.com/repos/m-click/requests_pkcs12/labels/wait%20for%20feedback", "name": "wait for feedback", "color": "6cf7b4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-04T12:20:50Z", "updated_at": "2019-03-28T13:07:30Z", "closed_at": "2019-03-28T13:07:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\nThis worked fine in v1.2:\r\n```\r\nwith Session() as s:\r\n    s.mount(args.url, Pkcs12Adapter(pkcs12_filename='Profil.NET.Api.ResponseCenter.Client.p12', pkcs12_password=''))\r\n```\r\nBut in v1.3:\r\n```\r\nTraceback (most recent call last):\r\n  File \".\\connect.py\", line 41, in <module>\r\n    s.mount(args.url, Pkcs12Adapter(pkcs12_filename='Profil.NET.Api.ResponseCenter.Client.p12', pkcs12_password=''))\r\n  File \"D:\\dev\\flask\\lib\\site-packages\\requests_pkcs12.py\", line 71, in __init__\r\n    raise ValueError('Insufficient data to create SSL Context')\r\nValueError: Insufficient data to create SSL Context\r\n```\r\nmy *.p12 cert does not have a password. which is a fully allowed config. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/7", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/7/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/7/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/7", "id": 337520098, "node_id": "MDU6SXNzdWUzMzc1MjAwOTg=", "number": 7, "title": "Problem with non-TLS-1.2 server", "user": {"login": "tobiasdirksen", "id": 7211545, "node_id": "MDQ6VXNlcjcyMTE1NDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/7211545?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobiasdirksen", "html_url": "https://github.com/tobiasdirksen", "followers_url": "https://api.github.com/users/tobiasdirksen/followers", "following_url": "https://api.github.com/users/tobiasdirksen/following{/other_user}", "gists_url": "https://api.github.com/users/tobiasdirksen/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobiasdirksen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobiasdirksen/subscriptions", "organizations_url": "https://api.github.com/users/tobiasdirksen/orgs", "repos_url": "https://api.github.com/users/tobiasdirksen/repos", "events_url": "https://api.github.com/users/tobiasdirksen/events{/privacy}", "received_events_url": "https://api.github.com/users/tobiasdirksen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1132719389, "node_id": "MDU6TGFiZWwxMTMyNzE5Mzg5", "url": "https://api.github.com/repos/m-click/requests_pkcs12/labels/wait%20for%20feedback", "name": "wait for feedback", "color": "6cf7b4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2018-07-02T13:31:26Z", "updated_at": "2020-01-09T09:52:18Z", "closed_at": "2019-07-24T08:05:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to read the following:\r\n`r = get(\"https://eloverblik.dk/api/authorizationsv2\", pkcs12_filename=\"C:/PathToCertificate.p12\", pkcs12_password=\"mypassword\")`\r\nhowever I get the result\r\n`SSLError: HTTPSConnectionPool(host='eloverblik.dk', port=443): Max retries exceeded with url: /api/authorizationsv2 (Caused by SSLError(SSLError(\"bad handshake: Error([('SSL routines', 'SSL3_GET_RECORD', 'wrong version number')],)\",),))`\r\nI'm able to open and read the certificate using `OpenSSL`, so the certificate is working. I can also read the url in Firefox.\r\nI am using requests_pkcs12 version 1.0.5 and python 3.6.1. \r\nAny ideas what goes wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/5", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/5/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/5/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/5", "id": 325893879, "node_id": "MDU6SXNzdWUzMjU4OTM4Nzk=", "number": 5, "title": "Add example of two-way TLS/SSL configuration", "user": {"login": "AleksandarSavic95", "id": 12213798, "node_id": "MDQ6VXNlcjEyMjEzNzk4", "avatar_url": "https://avatars0.githubusercontent.com/u/12213798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AleksandarSavic95", "html_url": "https://github.com/AleksandarSavic95", "followers_url": "https://api.github.com/users/AleksandarSavic95/followers", "following_url": "https://api.github.com/users/AleksandarSavic95/following{/other_user}", "gists_url": "https://api.github.com/users/AleksandarSavic95/gists{/gist_id}", "starred_url": "https://api.github.com/users/AleksandarSavic95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AleksandarSavic95/subscriptions", "organizations_url": "https://api.github.com/users/AleksandarSavic95/orgs", "repos_url": "https://api.github.com/users/AleksandarSavic95/repos", "events_url": "https://api.github.com/users/AleksandarSavic95/events{/privacy}", "received_events_url": "https://api.github.com/users/AleksandarSavic95/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-23T22:18:29Z", "updated_at": "2018-05-24T12:25:51Z", "closed_at": "2018-05-24T11:40:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I read the last line of the README.md file:\r\n\r\n> If you use these parameters, don't use the built-in `cert` parameter of `requests` at the same time. \r\n\r\nI thought that the `verify` field shouldn't be used as well, which resulted in lots of attempts which didn't happen to work.\r\nThe only way I succeded in setting up two-way SSL was by puting the **root CA**'s certificate filename in the `verify` field (`rootCA.pem` in my case).\r\n\r\n**Suggestion**: add a line below the quoted one saying something like this.\r\n\r\n> This doesn't mean that You can't use the `verify` field, which *should* be used for two-way SSL. Check out the [requests library documentation for the `verify` field](http://docs.python-requests.org/en/master/user/advanced/#ssl-cert-verification).\r\n\r\nP.S. Thank you for this small, but useful library! \ud83d\ude42", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/4", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/4/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/4/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/4/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/4", "id": 317867607, "node_id": "MDU6SXNzdWUzMTc4Njc2MDc=", "number": 4, "title": "OpenSSL.crypto.Error: [('asn1 encoding routines', 'asn1_check_tlen', 'wrong tag'), ('asn1 encoding routines', 'asn1_item_embed_d2i', 'nested asn1 error')]", "user": {"login": "allen-munsch", "id": 33908344, "node_id": "MDQ6VXNlcjMzOTA4MzQ0", "avatar_url": "https://avatars1.githubusercontent.com/u/33908344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allen-munsch", "html_url": "https://github.com/allen-munsch", "followers_url": "https://api.github.com/users/allen-munsch/followers", "following_url": "https://api.github.com/users/allen-munsch/following{/other_user}", "gists_url": "https://api.github.com/users/allen-munsch/gists{/gist_id}", "starred_url": "https://api.github.com/users/allen-munsch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allen-munsch/subscriptions", "organizations_url": "https://api.github.com/users/allen-munsch/orgs", "repos_url": "https://api.github.com/users/allen-munsch/repos", "events_url": "https://api.github.com/users/allen-munsch/events{/privacy}", "received_events_url": "https://api.github.com/users/allen-munsch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-26T03:48:14Z", "updated_at": "2018-05-03T20:44:58Z", "closed_at": "2018-05-03T20:44:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "From the given info:\r\n\r\n```python\r\n        if soap:\r\n            from requests import Session\r\n            from requests_pkcs12 import Pkcs12Adapter\r\n            with Session() as s:\r\n                s.mount(url, Pkcs12Adapter(pkcs12_filename=cert_bundle, pkcs12_password=password))\r\n                r = s.post(url,\r\n                    headers={'Content-Type': 'application/xml'},\r\n                    data=soap(day=date.strftime('%Y-%m-%d')))\r\n```\r\n\r\n```shell\r\npython -m requests.help                                                                                                                                            \r\n{\r\n  \"chardet\": {\r\n    \"version\": \"3.0.4\"\r\n  }, \r\n  \"cryptography\": {\r\n    \"version\": \"2.2.2\"\r\n  }, \r\n  \"idna\": {\r\n    \"version\": \"2.6\"\r\n  }, \r\n  \"implementation\": {\r\n    \"name\": \"CPython\", \r\n    \"version\": \"2.7.10\"\r\n  }, \r\n  \"platform\": {\r\n    \"release\": \"17.4.0\", \r\n    \"system\": \"Darwin\"\r\n  }, \r\n  \"pyOpenSSL\": {\r\n    \"openssl_version\": \"1010008f\", \r\n    \"version\": \"17.5.0\"\r\n  }, \r\n  \"requests\": {\r\n    \"version\": \"2.18.4\"\r\n  }, \r\n  \"system_ssl\": {\r\n    \"version\": \"20000000\"\r\n  }, \r\n  \"urllib3\": {\r\n    \"version\": \"1.22\"\r\n  }, \r\n  \"using_pyopenssl\": true\r\n}\r\n```\r\n\r\n\r\n... this works\r\n\r\n```python\r\n\r\nMockRequest = namedtuple('request', 'status_code text content url')\r\n\r\ndef post(url, date, soap):\r\n    from io import BytesIO\r\n    import pycurl\r\n    buffer = BytesIO()\r\n    c = pycurl.Curl()\r\n    c.setopt(c.URL, url)\r\n    c.setopt(c.SSLCERT, oati_cert)\r\n    c.setopt(c.SSLCERTPASSWD, password)\r\n    c.setopt(c.POST, True)\r\n    c.setopt(c.POSTFIELDS, unicode(soap(day=date.strftime('%Y-%m-%d'))))\r\n    c.setopt(c.SSL_VERIFYPEER, False)\r\n    c.setopt(c.VERBOSE, 1)\r\n    c.setopt(c.WRITEDATA, buffer)\r\n    c.perform()\r\n    c.close()\r\n    body = buffer.getvalue()\r\n    return MockRequest(status_code=200,\r\n                       content=body,\r\n                       text=None,\r\n                       url=url)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/3", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/3/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/3/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/3", "id": 285814819, "node_id": "MDU6SXNzdWUyODU4MTQ4MTk=", "number": 3, "title": "Adding headers to the call", "user": {"login": "mkane848", "id": 7328780, "node_id": "MDQ6VXNlcjczMjg3ODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7328780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkane848", "html_url": "https://github.com/mkane848", "followers_url": "https://api.github.com/users/mkane848/followers", "following_url": "https://api.github.com/users/mkane848/following{/other_user}", "gists_url": "https://api.github.com/users/mkane848/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkane848/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkane848/subscriptions", "organizations_url": "https://api.github.com/users/mkane848/orgs", "repos_url": "https://api.github.com/users/mkane848/repos", "events_url": "https://api.github.com/users/mkane848/events{/privacy}", "received_events_url": "https://api.github.com/users/mkane848/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-03T21:29:44Z", "updated_at": "2018-05-01T11:46:17Z", "closed_at": "2018-05-01T11:46:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey @vog, just got around to checking your solution out from that main issue thread. Quick question: is there a way to pass header information along with the request call? I'm poking around the code a little bit but don't see it, but I'm also not super familiar with requests so I'm reading their docs concurrently.\r\n\r\nI tried adding headers to the __init__ function and updating the session's header info in the request function but keep getting a 405 error when I call it.\r\n\r\nThanks,\r\nMike", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/2", "repository_url": "https://api.github.com/repos/m-click/requests_pkcs12", "labels_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/2/comments", "events_url": "https://api.github.com/repos/m-click/requests_pkcs12/issues/2/events", "html_url": "https://github.com/m-click/requests_pkcs12/issues/2", "id": 284800303, "node_id": "MDU6SXNzdWUyODQ4MDAzMDM=", "number": 2, "title": "Create `ssl_context` only once", "user": {"login": "vog", "id": 412749, "node_id": "MDQ6VXNlcjQxMjc0OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/412749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vog", "html_url": "https://github.com/vog", "followers_url": "https://api.github.com/users/vog/followers", "following_url": "https://api.github.com/users/vog/following{/other_user}", "gists_url": "https://api.github.com/users/vog/gists{/gist_id}", "starred_url": "https://api.github.com/users/vog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vog/subscriptions", "organizations_url": "https://api.github.com/users/vog/orgs", "repos_url": "https://api.github.com/users/vog/repos", "events_url": "https://api.github.com/users/vog/events{/privacy}", "received_events_url": "https://api.github.com/users/vog/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "vog", "id": 412749, "node_id": "MDQ6VXNlcjQxMjc0OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/412749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vog", "html_url": "https://github.com/vog", "followers_url": "https://api.github.com/users/vog/followers", "following_url": "https://api.github.com/users/vog/following{/other_user}", "gists_url": "https://api.github.com/users/vog/gists{/gist_id}", "starred_url": "https://api.github.com/users/vog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vog/subscriptions", "organizations_url": "https://api.github.com/users/vog/orgs", "repos_url": "https://api.github.com/users/vog/repos", "events_url": "https://api.github.com/users/vog/events{/privacy}", "received_events_url": "https://api.github.com/users/vog/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "vog", "id": 412749, "node_id": "MDQ6VXNlcjQxMjc0OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/412749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vog", "html_url": "https://github.com/vog", "followers_url": "https://api.github.com/users/vog/followers", "following_url": "https://api.github.com/users/vog/following{/other_user}", "gists_url": "https://api.github.com/users/vog/gists{/gist_id}", "starred_url": "https://api.github.com/users/vog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vog/subscriptions", "organizations_url": "https://api.github.com/users/vog/orgs", "repos_url": "https://api.github.com/users/vog/repos", "events_url": "https://api.github.com/users/vog/events{/privacy}", "received_events_url": "https://api.github.com/users/vog/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2017-12-27T21:37:29Z", "updated_at": "2018-11-19T11:05:45Z", "closed_at": "2018-11-19T11:05:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `ssl_context` should be created only once, instead of storing the PKCS#12 password in memory for the whole lifetime of the adapter.", "performed_via_github_app": null, "score": 1.0}]}