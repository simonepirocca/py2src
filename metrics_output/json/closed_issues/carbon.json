{"total_count": 1067, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2629", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2629/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2629/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2629/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2629", "id": 672706560, "node_id": "MDU6SXNzdWU2NzI3MDY1NjA=", "number": 2629, "title": "[Q] summarize() function explanation", "user": {"login": "VtG242", "id": 2299036, "node_id": "MDQ6VXNlcjIyOTkwMzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/2299036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VtG242", "html_url": "https://github.com/VtG242", "followers_url": "https://api.github.com/users/VtG242/followers", "following_url": "https://api.github.com/users/VtG242/following{/other_user}", "gists_url": "https://api.github.com/users/VtG242/gists{/gist_id}", "starred_url": "https://api.github.com/users/VtG242/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VtG242/subscriptions", "organizations_url": "https://api.github.com/users/VtG242/orgs", "repos_url": "https://api.github.com/users/VtG242/repos", "events_url": "https://api.github.com/users/VtG242/events{/privacy}", "received_events_url": "https://api.github.com/users/VtG242/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-04T11:05:58Z", "updated_at": "2020-08-05T08:14:18Z", "closed_at": "2020-08-05T08:14:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "When a summarize() function with 1day interval and sum aggregation function is used like in example below:\r\n`summarize(some.metric, '1d', 'sum')`\r\nso everything is OK if data range interval is set up to 30 days but for a longer intervals an Y axis values are changed in strange way.\r\n\r\nSee attached pictures for better imagination:\r\n[30 days](https://www.dropbox.com/s/5l2evhyx5aeldgo/30_days.png?dl=0)\r\n[31 days](https://www.dropbox.com/s/wjqvc4u4o9p2ncb/31_days.png?dl=0)\r\n\r\nIs this  expected behaviour?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2626", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2626/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2626/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2626/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2626", "id": 659073423, "node_id": "MDU6SXNzdWU2NTkwNzM0MjM=", "number": 2626, "title": "[BUG] Graphite's render endpoint returns no data from time to time resulting in NO DATA alerts from Grafana (multi-threading issue)", "user": {"login": "romanek-adam", "id": 760766, "node_id": "MDQ6VXNlcjc2MDc2Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/760766?v=4", "gravatar_id": "", "url": "https://api.github.com/users/romanek-adam", "html_url": "https://github.com/romanek-adam", "followers_url": "https://api.github.com/users/romanek-adam/followers", "following_url": "https://api.github.com/users/romanek-adam/following{/other_user}", "gists_url": "https://api.github.com/users/romanek-adam/gists{/gist_id}", "starred_url": "https://api.github.com/users/romanek-adam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/romanek-adam/subscriptions", "organizations_url": "https://api.github.com/users/romanek-adam/orgs", "repos_url": "https://api.github.com/users/romanek-adam/repos", "events_url": "https://api.github.com/users/romanek-adam/events{/privacy}", "received_events_url": "https://api.github.com/users/romanek-adam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-17T09:33:44Z", "updated_at": "2020-07-21T13:22:57Z", "closed_at": "2020-07-21T13:22:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThere is a multi-threading issue in Graphite which shows up only in some HTTP server configurations. When the issue occurs the Graphite's `/render` HTTP endpoint returns no data (empty list) from time to time which leads Grafana to send \"[No Data]\" alerts. This makes the alerting functionality unreliable and thus the whole monitoring solution (Graphite+Grafana) unreliable too.\r\n\r\n**To Reproduce**\r\nInstall Graphite + Apache, make sure the Apache VirtualHost configuration for Graphite contains the following line:\r\n```\r\nWSGIDaemonProcess graphite processes=5 threads=5 display-name='%{GROUP}' inactivity-timeout=120\r\n```\r\nThe above line comes from [graphite-web/examples/example-graphite-vhost.conf](https://github.com/graphite-project/graphite-web/blob/1.1.7/examples/example-graphite-vhost.conf#L31). The important part is `threads=5`.\r\n\r\nNow set up a few alerts in Grafana with 60s interval for querying data and use email for alert notifications. Then simply wait... When the issue occurs I get two emails from Grafana, the first one titled \"[No Data] <_rule-name_> alert\" and the other one minute later titled \"[OK] <_rule-name_> alert\". So for a brief period of time (exactly 1 query) Grafana could not obtain the data from Graphite but then succeeded.\r\n\r\n**Expected behavior**\r\nGrafana should never report \"[No Data]\" alerts. That is the Graphite's `/render` HTTP endpoint should never return no data (empty list) when the query (target) is correct and some other previous requests resulted in some data.\r\n\r\n**Environment (please complete the following information):**\r\n - Ubuntu 18.04.1 LTS\r\n - Graphite-web 1.0.2, but as will be shown below the issue affects 1.1.7 and master too\r\n - Django/Python 1.11.11/2.7.17\r\n - Pyparsing 2.2.0\r\n - Setup type: OS packages\r\n\r\n**Full story**\r\nMe and my team have been affected by this issue for long time. Recently I started a real investigation to make our monitoring solution finally reliable. I started with reviewing the Grafana's project bug reports but I couldn't find anything related. Then I was debugging Grafana's alerting code, which led me directly to the Graphite's `/render` endpoint, which occasionally returns an empty list (`[]`). Therefore I reviewed Graphite's project bug reports. It turned out other people were affected by this or a very similar issue in the past. Some potential duplicates are: #1925, #1952, #2353.\r\n\r\nAfter reading #1952 I was nearly sure that we are affected by the issue described in the ticket. However I failed reproducing the issue - I tried decreasing the alerts data query interval (like from 60s to 10s or even 1s) but then the problem actually stopped reproducing instead of the opposite. Then I wrote a standalone test which was using Graphite's grammar.py file and I was trying to run some grammar parsing tests from multiple threads, but that also failed to reproduce the problem.\r\n\r\nAs I was nearly sure that this pyparsing / grammar.py related issue was the root cause on our side I was digging further. I extended the Graphite's logs with process ID and thread ID and added some logs in `render/evaluator.py` to see what gets in and out of `evaluateTarget()`. Bingo!.\r\n\r\nIt turned out that the `/render` endpoint returns no data only when handling the very first few requests by threads of a newly spawned Apache worker process. So whenever the issue occurs I can see that the process ID is completely new.\r\n\r\nFinally after some time I managed to reproduce the issue in a fully isolated environment, outside of Graphite+Apache. I uploaded the [test script](https://gist.github.com/romanek-adam/7f00ccc26fe6643eacd4894c3b04be70) as a Gist and described the steps to reproduce the issue in the attached README file. I did all that because the issue is not a classic multi-threading issue, which you can reproduce just by running some code in multiple threads over and over again. I was surprised to see the issue only occurs right after a new process is started as this was something really unexpected and hard to narrow down. With the test script the issue is finally easily reproducible and reflects the real situation that happens in the above mentioned Graphite+Apache configuration.\r\n\r\nAs for the fix, it was actually [suggested](https://github.com/graphite-project/graphite-web/issues/1952#issuecomment-306698936) by @pengyusong in #1952 3 years ago :) So simple locking around `grammar.parseString()` should solve the problem. I'm about to submit a similar but more adequate PR soon. If performance was a concern then the `grammar` object should be created by each thread separately and stored in a thread-local variable. But I think that's something for future optimization.\r\n\r\n**Workaround**\r\nAs for a workaround for existing Graphite installations I'd simply recommend changing the Apache Virtualhost configuration to use just a single thread per each worker process. So instead of:\r\n```\r\nWSGIDaemonProcess graphite processes=5 threads=5 display-name='%{GROUP}' inactivity-timeout=120\r\n```\r\nit should be something like:\r\n```\r\nWSGIDaemonProcess graphite processes=25 threads=1 display-name='%{GROUP}' inactivity-timeout=120\r\n```\r\nOf course this is not a fix, just a workaround. More importantly it would make the installation a bit more resource hungry so it's definitely not be feasible for all installations.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2621", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2621/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2621/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2621/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2621", "id": 638822843, "node_id": "MDU6SXNzdWU2Mzg4MjI4NDM=", "number": 2621, "title": "[Q] KeyError at /metrics/find/ 'metric_path'", "user": {"login": "worapojc", "id": 6545692, "node_id": "MDQ6VXNlcjY1NDU2OTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/6545692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/worapojc", "html_url": "https://github.com/worapojc", "followers_url": "https://api.github.com/users/worapojc/followers", "following_url": "https://api.github.com/users/worapojc/following{/other_user}", "gists_url": "https://api.github.com/users/worapojc/gists{/gist_id}", "starred_url": "https://api.github.com/users/worapojc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/worapojc/subscriptions", "organizations_url": "https://api.github.com/users/worapojc/orgs", "repos_url": "https://api.github.com/users/worapojc/repos", "events_url": "https://api.github.com/users/worapojc/events{/privacy}", "received_events_url": "https://api.github.com/users/worapojc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-15T12:42:27Z", "updated_at": "2020-06-30T03:57:55Z", "closed_at": "2020-06-30T03:57:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI would like to ask about how to resolve the KeyError issue.\r\n\r\nWe have 3 DCs in Production environment; DC 1, DC 2 and DC 3.\r\nDC 3 is a new build to replace DC 2. We have synced the data from DC 2 to DC 3.\r\n\r\nEnvironment\r\nDC 1 and DC 2: RHEL6, Graphite 0.9, Graphite Web 0.9.12\r\nDC 3: RHEL7, Graphite 1.1.6, Graphite Web 0.9.12\r\n\r\n**Previous**\r\nThe local_settings.py of DC 1 and DC2.\r\nDC 1 and DC 2 members configured in _MEMCACHE_HOSTS_ and _CLUSTER_SERVERS_.\r\n\r\n**Current** \r\nThe local_settings.py of DC 1 and DC3.\r\nDC 1 and DC 3 members configured in _MEMCACHE_HOSTS_ and _CLUSTER_SERVERS_. (Removed DC 2)\r\n\r\nThen, I restarted Apache HTTPD service and I found this issue when I tried to expand the tree in Graphite Web and Grafana.\r\n\r\n> Request Method: GET\r\n> Request URL: http://localhost:8081/metrics/find/?_dc=1592222876079&query=*&format=treejson&contexts=1&path=&node=GraphiteTree\r\n> Django Version: 1.4.1\r\n> Python Executable: /usr/bin/python\r\n> Python Version: 2.6.6\r\n> ...\r\n> Exception Type: KeyError at /metrics/find/\r\n> Exception Value: 'metric_path'\r\n> Request information:\r\n> GET:\r\n> node = u'GraphiteTree'\r\n> format = u'treejson'\r\n> contexts = u'1'\r\n> _dc = u'1592220184285'\r\n> path = u''\r\n> query = u'*'\r\n> \r\n> POST: No POST data\r\n> \r\n> FILES: No FILES data\r\n\r\nIn DC3, it can expand the tree and read metrics from DC1 on Graphite Web. I've not tested in Grafana.\r\n\r\nCould you please advise on this situation?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2619", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2619/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2619/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2619/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2619", "id": 637715690, "node_id": "MDU6SXNzdWU2Mzc3MTU2OTA=", "number": 2619, "title": "[BUG] graphite render times are mixed with and without scientific notation", "user": {"login": "nikobearrr", "id": 8693064, "node_id": "MDQ6VXNlcjg2OTMwNjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8693064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikobearrr", "html_url": "https://github.com/nikobearrr", "followers_url": "https://api.github.com/users/nikobearrr/followers", "following_url": "https://api.github.com/users/nikobearrr/following{/other_user}", "gists_url": "https://api.github.com/users/nikobearrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikobearrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikobearrr/subscriptions", "organizations_url": "https://api.github.com/users/nikobearrr/orgs", "repos_url": "https://api.github.com/users/nikobearrr/repos", "events_url": "https://api.github.com/users/nikobearrr/events{/privacy}", "received_events_url": "https://api.github.com/users/nikobearrr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-12T12:29:21Z", "updated_at": "2020-08-18T16:10:14Z", "closed_at": "2020-08-18T16:10:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nI was looking into /var/log/graphite/info.log and I could see the time reported is not always the same\r\n\r\n```\r\n2020-06-12,12:24:35.674 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.metricsReceived\" took 0.000219107s\r\n2020-06-12,12:24:35.678 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.blacklistMatches\" took 0.000340939s\r\n2020-06-12,12:24:40.650 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.agents.da76014c3056-a.metricsReceived\" took 0.000123024s\r\n2020-06-12,12:24:40.656 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.metricsReceived\" took 0.000143528s\r\n2020-06-12,12:24:40.659 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.blacklistMatches\" took 7.98702e-05s\r\n2020-06-12,12:24:45.649 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.agents.da76014c3056-a.metricsReceived\" took 0.000111818s\r\n2020-06-12,12:24:45.652 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.metricsReceived\" took 0.000146627s\r\n2020-06-12,12:24:45.656 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.blacklistMatches\" took 0.000183344s\r\n2020-06-12,12:24:50.659 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.agents.da76014c3056-a.metricsReceived\" took 0.000140429s\r\n2020-06-12,12:24:50.663 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.metricsReceived\" took 0.000183105s\r\n2020-06-12,12:24:50.667 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.blacklistMatches\" took 7.60555e-05s\r\n2020-06-12,12:24:55.667 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.agents.da76014c3056-a.metricsReceived\" took 0.000259161s\r\n2020-06-12,12:24:55.670 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.metricsReceived\" took 7.72476e-05s\r\n2020-06-12,12:24:55.672 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.blacklistMatches\" took 6.77109e-05s\r\n2020-06-12,12:25:00.675 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.agents.da76014c3056-a.metricsReceived\" took 0.000109434s\r\n2020-06-12,12:25:00.677 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.metricsReceived\" took 8.34465e-05s\r\n2020-06-12,12:25:00.680 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.blacklistMatches\" took 0.000128031s\r\n2020-06-12,12:25:05.660 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.agents.da76014c3056-a.metricsReceived\" took 0.000150681s\r\n2020-06-12,12:25:05.663 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.metricsReceived\" took 0.000112057s\r\n2020-06-12,12:25:05.667 :: graphite.render.datalib.fetchData :: lookup and merge of \"carbon.aggregator.da76014c3056-a.blacklistMatches\" took 8.84533e-05s\r\n```\r\n\r\nIn some cases it shows the number in decimals without scientific notation, e.g. `0.000112057s`, but other times it shows `8.84533e-05s`. In case you miss the `-` sign you might end up thinking it actually took 8s.\r\n\r\n**To Reproduce**\r\nRun graphite, send some metrics and look at the info.log in graphite folder\r\n\r\n\r\n**Expected behavior**\r\nI would expect all the times shown will be without scientific notation\r\n\r\n**Environment (please complete the following information):**\r\n - Graphite-web version: 1.1.7-2\r\n - Setup type: docker official image\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2618", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2618/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2618/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2618/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2618", "id": 637311553, "node_id": "MDU6SXNzdWU2MzczMTE1NTM=", "number": 2618, "title": "[Q] is it possible to request a specific step with Raw output?", "user": {"login": "jranson", "id": 883928, "node_id": "MDQ6VXNlcjg4MzkyOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/883928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jranson", "html_url": "https://github.com/jranson", "followers_url": "https://api.github.com/users/jranson/followers", "following_url": "https://api.github.com/users/jranson/following{/other_user}", "gists_url": "https://api.github.com/users/jranson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jranson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jranson/subscriptions", "organizations_url": "https://api.github.com/users/jranson/orgs", "repos_url": "https://api.github.com/users/jranson/repos", "events_url": "https://api.github.com/users/jranson/events{/privacy}", "received_events_url": "https://api.github.com/users/jranson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-11T20:50:24Z", "updated_at": "2020-06-11T21:40:03Z", "closed_at": "2020-06-11T21:40:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! It looks like when I query the same target for a range like `from=-1h` vs a range like `from=-24h`, Graphite will automatically select a step resolution in the results based on the overall width of the time range. While that is very convenient, what if I wanted to request a specific step (e.g., a 30s step for 24 hours of data), instead of whatever Graphite selects? I see that, with json output only, you can provide a `maxDataPoints` parameter to indirectly force a _big_ step, but am unable to find a way to predictably force a _tiny_ step, e.g., a high resolution output over a large period of time. Is there any way to control the step more directly/predictably as part of the query? We prefer to use the raw output format, but any format that allows this capability would work for our use case. thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2617", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2617/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2617/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2617/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2617", "id": 637144495, "node_id": "MDU6SXNzdWU2MzcxNDQ0OTU=", "number": 2617, "title": "[Q] How to use rewrite-rules.conf properly?", "user": {"login": "nikobearrr", "id": 8693064, "node_id": "MDQ6VXNlcjg2OTMwNjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8693064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikobearrr", "html_url": "https://github.com/nikobearrr", "followers_url": "https://api.github.com/users/nikobearrr/followers", "following_url": "https://api.github.com/users/nikobearrr/following{/other_user}", "gists_url": "https://api.github.com/users/nikobearrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikobearrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikobearrr/subscriptions", "organizations_url": "https://api.github.com/users/nikobearrr/orgs", "repos_url": "https://api.github.com/users/nikobearrr/repos", "events_url": "https://api.github.com/users/nikobearrr/events{/privacy}", "received_events_url": "https://api.github.com/users/nikobearrr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-11T16:05:06Z", "updated_at": "2020-06-12T11:22:30Z", "closed_at": "2020-06-12T11:22:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to rename a variable I receive from my stats. It looks like this: `server.server1.log.m1_rate`, so I would like to rename `m1_rate` to just `rate`. \r\nI read the information here: https://graphite.readthedocs.io/en/latest/config-carbon.html#rewrite-rules-conf as well as teh rewrite-rules.conf.example provided in the config.\r\n\r\nSo I created a `rewrite-rules.conf` and I added those lines:\r\n\r\n```\r\n[pre]\r\n\\.m1_rate = \\.rate\r\nm1_rate = rate\r\nm1_rate$ = rate\r\n.*\\.m1_rate$ = \\1.rate\r\n.*m1_rate = \\1rate\r\n```\r\n\r\nAt some point I tried them 1 by 1, but none worked. if I go to https://regex101.com/ and test them with my test string I get a 100% match on all 5 different regex.\r\n\r\nI have also enabled this in `carbon.conf`: `REWRITE_RULES = rewrite-rules.conf`\r\n\r\nI can see my own `REWRITE_RULES = rewrite-rules.conf` is in the `/opt/graphite/conf` folder in the container, but the stats is not rewritten. \r\n\r\nAny idea what I am doing wrong?\r\n\r\nUsing graphite 1.1.7-2 in docker ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2614", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2614/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2614/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2614/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2614", "id": 631153982, "node_id": "MDU6SXNzdWU2MzExNTM5ODI=", "number": 2614, "title": "[Q] Regular expression match and performance", "user": {"login": "apla", "id": 85349, "node_id": "MDQ6VXNlcjg1MzQ5", "avatar_url": "https://avatars0.githubusercontent.com/u/85349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apla", "html_url": "https://github.com/apla", "followers_url": "https://api.github.com/users/apla/followers", "following_url": "https://api.github.com/users/apla/following{/other_user}", "gists_url": "https://api.github.com/users/apla/gists{/gist_id}", "starred_url": "https://api.github.com/users/apla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apla/subscriptions", "organizations_url": "https://api.github.com/users/apla/orgs", "repos_url": "https://api.github.com/users/apla/repos", "events_url": "https://api.github.com/users/apla/events{/privacy}", "received_events_url": "https://api.github.com/users/apla/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-04T21:17:43Z", "updated_at": "2020-08-10T21:50:08Z", "closed_at": "2020-08-10T21:50:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Documentation pretty scarce about regexp usage.\r\n\r\nWhat type of regular expressions is supported? Can I use non-capturing groups? Does tag value string begin and end matches begin (`^`) and end (`$`)?\r\n\r\nI have memory usage metrics and would like to match some types of processes. Looks like expression below works, but documentation note would be awesome.\r\n\r\n```\r\nseriesByTag('plugin=processes', 'type=ps_state', 'type_instance=~^(?:blocked|paging|zombies)$')\r\n```\r\n\r\nI have small dataset, so I can't compare performance directly, but now I try to choose between non-tagged data like `collectd.$host.processes.ps_state-{blocked,paging,zombies}` and tagged data like in query above. Seems like without special processing tagged version will be much slower. Can you share your thoughts about performance?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2613", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2613/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2613/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2613/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2613", "id": 631011578, "node_id": "MDU6SXNzdWU2MzEwMTE1Nzg=", "number": 2613, "title": "[BUG] Graphite 1.1.7-2 is not showing/collecting all metric points", "user": {"login": "nikobearrr", "id": 8693064, "node_id": "MDQ6VXNlcjg2OTMwNjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8693064?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikobearrr", "html_url": "https://github.com/nikobearrr", "followers_url": "https://api.github.com/users/nikobearrr/followers", "following_url": "https://api.github.com/users/nikobearrr/following{/other_user}", "gists_url": "https://api.github.com/users/nikobearrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikobearrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikobearrr/subscriptions", "organizations_url": "https://api.github.com/users/nikobearrr/orgs", "repos_url": "https://api.github.com/users/nikobearrr/repos", "events_url": "https://api.github.com/users/nikobearrr/events{/privacy}", "received_events_url": "https://api.github.com/users/nikobearrr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2020-06-04T17:20:26Z", "updated_at": "2020-07-07T16:29:37Z", "closed_at": "2020-07-07T16:29:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWe have moved our production graphite from 1.1.5-3 to 1.1.7-2 and we can see there are metrics which do not appear. I have setup a small example where I can see that I receive the same number of metrics, but it definitely doesn't look as expected. \r\n\r\nFrom the attached pictures you can see the same software, outputing the same metrics with the only difference being graphite's version. When running 1.1.7-2 there are a lot of data which does not show. When we switch to 1.1.5-3 for a period of ~30min only 2 data points are not showed. When using 1.1.5-13 for a period of ~20min all data points are there. However, the thing is that it doesn't happen all the time or immidiately. I saw this in production happen after several hours and then \"fixes\" itself. With 1.1.5-3 I have never observed that.\r\n\r\nWe are sending the data through statsd, graphite running in container. Test software sends every 10s with aggregation 10s:1h\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n1. Setup some software which sends data to graphite\r\n2. Setup grafana for observability (or use graphite-web)\r\n3. Update graphite version to 1.1.7-2, let it run for some hours (days) and you might see it.\r\n\r\nAs I said in the previous step, I don't know why it happens and when. But I am definitely sure it's from the newer version as that's the only thing we changed.\r\n\r\n**Expected behavior**\r\nI would expect the latest version to work as good as previous version\r\n\r\n\r\n**Screenshots**\r\n\r\nThis is the issue we observe\r\n![graphite-v1 1 7-2](https://user-images.githubusercontent.com/8693064/83790297-06ae6e00-a6a9-11ea-8026-6f7bc34f845c.png)\r\n\r\nOn this screenshot you can see we have the same amount of metricsReceived before and after the update\r\n![metrics-received](https://user-images.githubusercontent.com/8693064/83790263-f5fdf800-a6a8-11ea-845f-1b57a8d386c6.png)\r\n\r\n**Environment (please complete the following information):**\r\n - OS flavor: docker\r\n - Graphite-web version 1.1.5-3, 1.1.7-2\r\n - Setup type: we use Dockerfile with custom storage schema config and udp.js:\r\n\r\nDockerfile:\r\n\r\n```\r\nFROM graphiteapp/graphite-statsd:1.1.6-1\r\n\r\nADD storage-schemas.conf /opt/graphite/conf/\r\nADD udp.js /opt/statsd/config/\r\n```\r\n\r\nudp.js:\r\n```\r\n{\r\n  \"graphiteHost\": \"127.0.0.1\",\r\n  \"graphitePort\": 2003,\r\n  \"port\": 8125,\r\n  \"flushInterval\": 10000,\r\n  \"servers\": [\r\n    { server: \"./servers/udp\", address: \"0.0.0.0\", port: 8125 }\r\n  ],\r\n  \"deleteIdleStats\": true\r\n}\r\n```\r\n\r\n**Additional context**\r\nThe reason why I would like to update is because 1.1.5-3 doesn't rotate logs correctly", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2611", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2611/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2611/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2611/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2611", "id": 624526162, "node_id": "MDU6SXNzdWU2MjQ1MjYxNjI=", "number": 2611, "title": "Graphite converts '/' to '.'", "user": {"login": "JAPerezSatQ6", "id": 60617465, "node_id": "MDQ6VXNlcjYwNjE3NDY1", "avatar_url": "https://avatars3.githubusercontent.com/u/60617465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JAPerezSatQ6", "html_url": "https://github.com/JAPerezSatQ6", "followers_url": "https://api.github.com/users/JAPerezSatQ6/followers", "following_url": "https://api.github.com/users/JAPerezSatQ6/following{/other_user}", "gists_url": "https://api.github.com/users/JAPerezSatQ6/gists{/gist_id}", "starred_url": "https://api.github.com/users/JAPerezSatQ6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JAPerezSatQ6/subscriptions", "organizations_url": "https://api.github.com/users/JAPerezSatQ6/orgs", "repos_url": "https://api.github.com/users/JAPerezSatQ6/repos", "events_url": "https://api.github.com/users/JAPerezSatQ6/events{/privacy}", "received_events_url": "https://api.github.com/users/JAPerezSatQ6/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-26T00:01:35Z", "updated_at": "2020-05-27T16:42:10Z", "closed_at": "2020-05-27T16:42:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm working on a personal NodeJS library that will send API metrics to Graphite. Currently I'm working with the npm package 'graphite-tcp' which creates a client that connects to my server. \r\n\r\nI'm sending this metric: \r\n\r\n`TS-Logger.test.ip-192-168-1-13.ec2.internal.REST./api/v1/cards./export.count `\r\n\r\nBut all the '/' get converted to dots once it gets to Graphite so it ends up being:\r\n\r\n`TS-Logger.test.ip-192-168-1-13.ec2.internal.REST.api.v1.cards..export.count`\r\n\r\n![image](https://user-images.githubusercontent.com/60617465/82848712-fd0b5600-9eb1-11ea-8044-40b19edd9616.png)\r\n\r\n\r\nI was wondering if there are any workarounds or suggestions.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2609", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2609/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2609/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2609/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2609", "id": 622349808, "node_id": "MDU6SXNzdWU2MjIzNDk4MDg=", "number": 2609, "title": "/functions endpoint returns invalid JSON", "user": {"login": "shanson7", "id": 5024860, "node_id": "MDQ6VXNlcjUwMjQ4NjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5024860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shanson7", "html_url": "https://github.com/shanson7", "followers_url": "https://api.github.com/users/shanson7/followers", "following_url": "https://api.github.com/users/shanson7/following{/other_user}", "gists_url": "https://api.github.com/users/shanson7/gists{/gist_id}", "starred_url": "https://api.github.com/users/shanson7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shanson7/subscriptions", "organizations_url": "https://api.github.com/users/shanson7/orgs", "repos_url": "https://api.github.com/users/shanson7/repos", "events_url": "https://api.github.com/users/shanson7/events{/privacy}", "received_events_url": "https://api.github.com/users/shanson7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-21T08:47:22Z", "updated_at": "2020-07-31T17:34:13Z", "closed_at": "2020-07-31T17:34:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nUpgrading from a rather old version of graphite to the latest provided by [graphite-mt](https://github.com/raintank/graphite-mt) (graphite version `7ebde4c60`).\r\n\r\nGrafana started to fail to display certain functions like `movingWindow`. I think it's due to `Infinity` being returned as a number. This parses fine in python but a lot of other tools fail.\r\n\r\n```\r\n$ curl -s http://graphite-stage-nj.internal.com/functions | json_pp\r\nmalformed JSON string, neither array, object, number, string or atom, at character offset 52236 (before \"Infinity, \"type\": \"i...\")\r\n```\r\n\r\nThat position seems to be `{\"default\": Infinity,` for the interpolate function. `Infinity` shows up for keepLastValue as well.\r\n\r\n**To Reproduce**\r\nTry to parse the json returned from `/functions`\r\n\r\n**Expected behavior**\r\nShould parse as JSON\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2608", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2608/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2608/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2608/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2608", "id": 622280021, "node_id": "MDU6SXNzdWU2MjIyODAwMjE=", "number": 2608, "title": "add() and offset() do the same? alias one for the other?", "user": {"login": "Dieterbe", "id": 20774, "node_id": "MDQ6VXNlcjIwNzc0", "avatar_url": "https://avatars2.githubusercontent.com/u/20774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dieterbe", "html_url": "https://github.com/Dieterbe", "followers_url": "https://api.github.com/users/Dieterbe/followers", "following_url": "https://api.github.com/users/Dieterbe/following{/other_user}", "gists_url": "https://api.github.com/users/Dieterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dieterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dieterbe/subscriptions", "organizations_url": "https://api.github.com/users/Dieterbe/orgs", "repos_url": "https://api.github.com/users/Dieterbe/repos", "events_url": "https://api.github.com/users/Dieterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/Dieterbe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-21T06:27:35Z", "updated_at": "2020-07-27T08:04:21Z", "closed_at": "2020-07-27T08:04:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In 1.1.6 (see https://graphite.readthedocs.io/en/stable/releases/1_1_6.html) the function `add(()` was introduced.\r\nHowever, it looks just about the same as the already existing `offset()` function:\r\n\r\n```python\r\ndef offset(requestContext, seriesList, factor):\r\n  \"\"\"\r\n  Takes one metric or a wildcard seriesList followed by a constant, and adds the constant to\r\n  each datapoint.\r\n\r\n  Example:\r\n\r\n  .. code-block:: none\r\n\r\n    &target=offset(Server.instance01.threads.busy,10)\r\n\r\n  \"\"\"\r\n  for series in seriesList:\r\n    series.tags['offset'] = factor\r\n    series.name = \"offset(%s,%g)\" % (series.name,float(factor))\r\n    series.pathExpression = series.name\r\n    for i,value in enumerate(series):\r\n      if value is not None:\r\n        series[i] = value + factor\r\n  return seriesList\r\n\r\n\r\noffset.group = 'Transform'\r\noffset.params = [\r\n  Param('seriesList', ParamTypes.seriesList, required=True),\r\n  Param('factor', ParamTypes.float, required=True),\r\n]\r\n\r\n\r\ndef add(requestContext, seriesList, constant):\r\n    \"\"\"\r\n    Takes one metric or a wildcard seriesList followed by a constant, and adds the\r\n    constant to each datapoint. Also works for negative numbers.\r\n\r\n    Example:\r\n\r\n    .. code-block:: none\r\n\r\n      &target=add(Server.instance01.threads.busy, 10)\r\n      &target=add(Server.instance*.threads.busy, 10)\r\n\r\n    \"\"\"\r\n    for series in seriesList:\r\n        series.tags['add'] = constant\r\n        series.name = \"add(%s,%d)\" % (series.name, constant)\r\n        series.pathExpression = series.name\r\n        for i, value in enumerate(series):\r\n            try:\r\n                series[i] = value + constant\r\n            except TypeError:\r\n                series[i] = None\r\n\r\n    return seriesList\r\n\r\nadd.group = 'Transform'\r\nadd.params = [\r\n    Param('seriesList', ParamTypes.seriesList, required=True),\r\n    Param('constant', ParamTypes.float, required=True),\r\n]\r\n```\r\n\r\n\r\nI propose we remove the add function but re-introduce it as an alias for offset.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2607", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2607/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2607/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2607/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2607", "id": 621468911, "node_id": "MDU6SXNzdWU2MjE0Njg5MTE=", "number": 2607, "title": "[Q] Graphite render API from and until time understanding", "user": {"login": "panditb", "id": 59690214, "node_id": "MDQ6VXNlcjU5NjkwMjE0", "avatar_url": "https://avatars1.githubusercontent.com/u/59690214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/panditb", "html_url": "https://github.com/panditb", "followers_url": "https://api.github.com/users/panditb/followers", "following_url": "https://api.github.com/users/panditb/following{/other_user}", "gists_url": "https://api.github.com/users/panditb/gists{/gist_id}", "starred_url": "https://api.github.com/users/panditb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/panditb/subscriptions", "organizations_url": "https://api.github.com/users/panditb/orgs", "repos_url": "https://api.github.com/users/panditb/repos", "events_url": "https://api.github.com/users/panditb/events{/privacy}", "received_events_url": "https://api.github.com/users/panditb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-20T05:22:13Z", "updated_at": "2020-07-26T07:50:19Z", "closed_at": "2020-07-26T07:50:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello Team,\r\n We are using graphite to store the api hit count, the retention policy setup in our system is \r\n\r\n```\r\n[sample metrics]\r\npattern =^metrics\\.(.*)\\.api.*\r\nretentions = 10s:5m,1m:1d,1h:30d,1d:1y,30d:10y\r\n```\r\nAggregation \r\n```\r\n[default_sum]\r\npattern = .*\r\nxFilesFactor = 0.5\r\naggregationMethod = sum\r\n```\r\n\r\nWe have some scheduled jobs which run at every 30 minutes and pick the data from render api for 30minutes , suppose say if job is running at 12:30 AM , then we will frame the from time as 12:00 and until time as 12:30PM \r\n\r\n`http://localhost:32323/render?target=sum(metrics.*.*.*.*.*.get.*.*.success.*.count)&format=json&noNullPoints=true&from=12:00_20200519&until=12:30_20200519`\t`\r\n\r\nBelow are some question \r\n1. is there any issue getting the data for every 30 minutes , based on the retention policy , is i will get duplicate count for this \r\n2. regarding from time , suppose say we have data points at 12:00:10 , 12:00:20, 12:00:30 second then after first archive the data points will merge to one datapoints ie will be 12:00 , when we fetch the data \"from=12:00_20200519\" then i am not getting the datapoint which is stored at 12:00 which is giving the data from 12:01 so here i am loosing the data for 1 minute \r\n3. Can you let me know is graphite works on below principle \r\n from > 'date' and until <= 'date'\r\n4. how should i cover the 1 minute data loss from render api", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2603", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2603/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2603/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2603/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2603", "id": 618770383, "node_id": "MDU6SXNzdWU2MTg3NzAzODM=", "number": 2603, "title": "Memory Error", "user": {"login": "throrin19", "id": 1394778, "node_id": "MDQ6VXNlcjEzOTQ3Nzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1394778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/throrin19", "html_url": "https://github.com/throrin19", "followers_url": "https://api.github.com/users/throrin19/followers", "following_url": "https://api.github.com/users/throrin19/following{/other_user}", "gists_url": "https://api.github.com/users/throrin19/gists{/gist_id}", "starred_url": "https://api.github.com/users/throrin19/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/throrin19/subscriptions", "organizations_url": "https://api.github.com/users/throrin19/orgs", "repos_url": "https://api.github.com/users/throrin19/repos", "events_url": "https://api.github.com/users/throrin19/events{/privacy}", "received_events_url": "https://api.github.com/users/throrin19/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-05-15T07:48:18Z", "updated_at": "2020-07-21T14:43:52Z", "closed_at": "2020-07-21T14:43:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nRandomly, my graphite server crash with many `MemoryError` exception without know what triggered this memory problem.\r\n\r\nAt one time, I have to restart manually the graphite server to make it works\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\nI don't know, I test all memoryError requests without any success of bug reproduction\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\n\r\nThis is the metrics of graphite server on this Memory Error problem : \r\n\r\n![image](https://user-images.githubusercontent.com/1394778/82024714-7c1db480-9690-11ea-9d00-d866f60fec53.png)\r\n\r\n**Environment (please complete the following information):**\r\n - OS flavor: Ubuntu with docker\r\n - Graphite-web version 1.1.5\r\n - Django/Python version 2.2.12/3.8.2\r\n - Setup type docker : https://github.com/graphite-project/docker-graphite-statsd\r\n\r\nThe server is running on AWS EC2 `c5.large`\r\n\r\n**Additional context**\r\n\r\nThis is the exception output : \r\n\r\n```\r\n020-05-14,16:39:43.556 :: Exception encountered in <POST http://graphite.nestle.nestle.production.aquassay.net/render>\r\nTraceback (most recent call last):\r\n  File \"/opt/graphite/lib/python3.7/site-packages/django/core/handlers/base.py\", line 185, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/opt/graphite/webapp/graphite/render/views.py\", line 118, in renderView\r\n    data.extend(evaluateTarget(requestContext, targets))\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 15, in evaluateTarget\r\n    prefetchData(requestContext, pathExpressions)\r\n  File \"/opt/graphite/webapp/graphite/render/datalib.py\", line 263, in prefetchData\r\n    for result in STORE.fetch(pathExpressions, startTime, endTime, now, requestContext):\r\n  File \"/opt/graphite/webapp/graphite/storage.py\", line 190, in fetch\r\n    'fetch for %s' % str(patterns))\r\n  File \"/opt/graphite/webapp/graphite/storage.py\", line 132, in wait_jobs\r\n    raise Exception(message)\r\nException: All requests failed for fetch for ['customer.company.place.point.conductivity_4', 'customer.company.place.point.turbidity_1', 'customer.company.place.point.volume_1'] (1)\r\n\r\nfetch for ['customer.company.place.point.conductivity_4', 'customer.company.place.point.turbidity_1', 'customer.company.place.point.volume_1']: : Traceback (most recent call last):\r\n\r\n  File \"/opt/graphite/webapp/graphite/worker_pool/pool.py\", line 43, in run\r\n    self.result = self.func(*self.args, **self.kwargs)\r\n\r\n  File \"/opt/graphite/webapp/graphite/finders/utils.py\", line 140, in fetch\r\n    now=now, requestContext=requestContext\r\n\r\n  File \"/opt/graphite/webapp/graphite/node.py\", line 30, in fetch\r\n    result = self.reader.fetch(startTime, endTime, now, requestContext)\r\n\r\n  File \"/opt/graphite/webapp/graphite/readers/whisper.py\", line 59, in fetch\r\n    data = self.fetch_data(startTime, endTime, now=now)\r\n\r\n  File \"/opt/graphite/webapp/graphite/readers/whisper.py\", line 55, in fetch_data\r\n    return whisper.fetch(self.fs_path, startTime, endTime, now=now)\r\n\r\n  File \"/opt/graphite/lib/python3.7/site-packages/whisper.py\", line 906, in fetch\r\n    return file_fetch(fh, fromTime, untilTime, now, archiveToSelect)\r\n\r\n  File \"/opt/graphite/lib/python3.7/site-packages/whisper.py\", line 959, in file_fetch\r\n    return __archive_fetch(fh, archive, fromTime, untilTime)\r\n\r\n  File \"/opt/graphite/lib/python3.7/site-packages/whisper.py\", line 1011, in __archive_fetch\r\n    seriesString += fh.read(untilOffset - archive['offset'])\r\n\r\nMemoryError\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2601", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2601/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2601/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2601/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2601", "id": 618277040, "node_id": "MDU6SXNzdWU2MTgyNzcwNDA=", "number": 2601, "title": "[BUG] Function linearRegressionAnalysis not found", "user": {"login": "mcbsd", "id": 64481947, "node_id": "MDQ6VXNlcjY0NDgxOTQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/64481947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcbsd", "html_url": "https://github.com/mcbsd", "followers_url": "https://api.github.com/users/mcbsd/followers", "following_url": "https://api.github.com/users/mcbsd/following{/other_user}", "gists_url": "https://api.github.com/users/mcbsd/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcbsd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcbsd/subscriptions", "organizations_url": "https://api.github.com/users/mcbsd/orgs", "repos_url": "https://api.github.com/users/mcbsd/repos", "events_url": "https://api.github.com/users/mcbsd/events{/privacy}", "received_events_url": "https://api.github.com/users/mcbsd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-14T14:27:15Z", "updated_at": "2020-05-14T21:33:07Z", "closed_at": "2020-05-14T21:33:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nApplying function linearRegressionAnalysis to series via GUI displays empty page.\r\nWhen requesting the same via CLI, the response is:\r\n\r\n`Traceback (most recent call last):\r\n  File &quot;/usr/local/lib/python3.6/site-packages/django/core/handlers/exception.py&quot;, line 41, in inner\r\n    response = get_response(request)\r\n  File &quot;/usr/local/lib/python3.6/site-packages/django/core/handlers/base.py&quot;, line 187, in _get_response\r\n    response = self.process_exception_by_middleware(e, request)\r\n  File &quot;/usr/local/lib/python3.6/site-packages/django/core/handlers/base.py&quot;, line 185, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File &quot;/opt/graphite/webapp/graphite/render/views.py&quot;, line 118, in renderView\r\n    data.extend(evaluateTarget(requestContext, targets))\r\n  File &quot;/opt/graphite/webapp/graphite/render/evaluator.py&quot;, line 28, in evaluateTarget\r\n    result = evaluateTokens(requestContext, target)\r\n  File &quot;/opt/graphite/webapp/graphite/render/evaluator.py&quot;, line 57, in evaluateTokens\r\n    return evaluateTokens(requestContext, tokens.expression, replacements)\r\n  File &quot;/opt/graphite/webapp/graphite/render/evaluator.py&quot;, line 84, in evaluateTokens\r\n    func = SeriesFunction(tokens.call.funcname)\r\n  File &quot;/opt/graphite/webapp/graphite/functions/__init__.py&quot;, line 81, in SeriesFunction\r\n    raise KeyError(&#39;Function &quot;%s&quot; not found&#39; % name)\r\nKeyError: &#39;Function &quot;linearRegressionAnalysis&quot; not found&#39;`\r\n\r\n**To Reproduce**\r\nApply function linearRegressionAnalysis to series.\r\ncurl -X GET  'http://server1/render?target=linearRegressionAnalysis(server2.disk.var.used_pct)&from=now-10min&format=json'\r\n\r\n**Expected behavior**\r\nTo return data as expected by documentation\r\n\r\n**Screenshots**\r\nN/A\r\n\r\n**Environment (please complete the following information):**\r\n - OS flavor: Redhat 7.8\r\n - Graphite-web version 1.1.5\r\n - Django/Python version django 1.8.7 python 2.7/3.6\r\n - Setup type: from source\r\n\r\n**Additional context**\r\nI have checked the source code directly on the system and subjected function is present in:\r\n......graphite-web-1.1.5/webapp/graphite/render/functions.py\r\n......graphite-web-1.1.5/build/lib/graphite/render/functions.py\r\nFunction linearRegression works fine\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2600", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2600/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2600/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2600/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2600", "id": 618209698, "node_id": "MDU6SXNzdWU2MTgyMDk2OTg=", "number": 2600, "title": "[Q]Is graphite tool displaying aggregate value in graph for longer date range?", "user": {"login": "Rock-sa", "id": 65346702, "node_id": "MDQ6VXNlcjY1MzQ2NzAy", "avatar_url": "https://avatars0.githubusercontent.com/u/65346702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rock-sa", "html_url": "https://github.com/Rock-sa", "followers_url": "https://api.github.com/users/Rock-sa/followers", "following_url": "https://api.github.com/users/Rock-sa/following{/other_user}", "gists_url": "https://api.github.com/users/Rock-sa/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rock-sa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rock-sa/subscriptions", "organizations_url": "https://api.github.com/users/Rock-sa/orgs", "repos_url": "https://api.github.com/users/Rock-sa/repos", "events_url": "https://api.github.com/users/Rock-sa/events{/privacy}", "received_events_url": "https://api.github.com/users/Rock-sa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-14T12:58:13Z", "updated_at": "2020-07-21T01:06:40Z", "closed_at": "2020-07-21T01:06:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am plotting the graph for the status for which value would be either 0 or 1. Graph looks fine when seeing for small range like 30 min,5h, but when look the same graph for larger range like 7 days,1 week, graph looks different. Does it use aggregation? How does it work?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2599", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2599/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2599/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2599/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2599", "id": 618186912, "node_id": "MDU6SXNzdWU2MTgxODY5MTI=", "number": 2599, "title": "[Q]Graphite tool not receiving all the the values and graph is missing", "user": {"login": "Rock-sa", "id": 65346702, "node_id": "MDQ6VXNlcjY1MzQ2NzAy", "avatar_url": "https://avatars0.githubusercontent.com/u/65346702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rock-sa", "html_url": "https://github.com/Rock-sa", "followers_url": "https://api.github.com/users/Rock-sa/followers", "following_url": "https://api.github.com/users/Rock-sa/following{/other_user}", "gists_url": "https://api.github.com/users/Rock-sa/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rock-sa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rock-sa/subscriptions", "organizations_url": "https://api.github.com/users/Rock-sa/orgs", "repos_url": "https://api.github.com/users/Rock-sa/repos", "events_url": "https://api.github.com/users/Rock-sa/events{/privacy}", "received_events_url": "https://api.github.com/users/Rock-sa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-14T12:24:12Z", "updated_at": "2020-07-21T01:06:41Z", "closed_at": "2020-07-21T01:06:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\nI am using module Net::Graphite. Sending value in hash, but graph is not plotting every minute. Our subroutine will be every miute from some external server.\r\n$hash is {\"1589458143\":{\"stat\":1,\"time_in_ms\":\"0.26\"}}\r\n$graphite_obj->send(\r\n            data => $hash,\r\n            path => $path,\r\n);", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2598", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2598/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2598/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2598/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2598", "id": 614275918, "node_id": "MDU6SXNzdWU2MTQyNzU5MTg=", "number": 2598, "title": "out-of-date docs on readthedocs.io", "user": {"login": "RichardPoole42", "id": 7967170, "node_id": "MDQ6VXNlcjc5NjcxNzA=", "avatar_url": "https://avatars1.githubusercontent.com/u/7967170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RichardPoole42", "html_url": "https://github.com/RichardPoole42", "followers_url": "https://api.github.com/users/RichardPoole42/followers", "following_url": "https://api.github.com/users/RichardPoole42/following{/other_user}", "gists_url": "https://api.github.com/users/RichardPoole42/gists{/gist_id}", "starred_url": "https://api.github.com/users/RichardPoole42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RichardPoole42/subscriptions", "organizations_url": "https://api.github.com/users/RichardPoole42/orgs", "repos_url": "https://api.github.com/users/RichardPoole42/repos", "events_url": "https://api.github.com/users/RichardPoole42/events{/privacy}", "received_events_url": "https://api.github.com/users/RichardPoole42/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120605376, "node_id": "MDU6TGFiZWwxMjA2MDUzNzY=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/documentation", "name": "documentation", "color": "fbca04", "default": true, "description": null}, {"id": 4571164, "node_id": "MDU6TGFiZWw0NTcxMTY0", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-07T19:01:16Z", "updated_at": "2020-07-14T08:13:53Z", "closed_at": "2020-07-14T08:13:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "The current docs at https://graphite.readthedocs.io/en/latest/ are at commit 3fd64799; this is a bad commit to be the default docs because it is titled \"Graphite 1.1.5 documentation\" and contains the old copyright notice dated 2017, making it look to a casual reader (who will almost certainly encounter this page first if trying to find the docs) as if there is no recent activity on the project.\r\n\r\nI don't know why this commit, which I think was the HEAD of master only for a short time on the 16th of March, is the one that readthedocs are showing, rather than the current HEAD of master; but I think that the default for them to show should be \"stable\", that is, let them find the latest tag from the repository and show that, because that is the version that a casual reader is most likely to be interested in. This can be set in readthedocs by someone with the appropriate access, as I understand it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2596", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2596/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2596/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2596/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2596", "id": 611296635, "node_id": "MDU6SXNzdWU2MTEyOTY2MzU=", "number": 2596, "title": "[BUG] Cannot install from pip in a venv", "user": {"login": "mgrela", "id": 357376, "node_id": "MDQ6VXNlcjM1NzM3Ng==", "avatar_url": "https://avatars3.githubusercontent.com/u/357376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgrela", "html_url": "https://github.com/mgrela", "followers_url": "https://api.github.com/users/mgrela/followers", "following_url": "https://api.github.com/users/mgrela/following{/other_user}", "gists_url": "https://api.github.com/users/mgrela/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgrela/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgrela/subscriptions", "organizations_url": "https://api.github.com/users/mgrela/orgs", "repos_url": "https://api.github.com/users/mgrela/repos", "events_url": "https://api.github.com/users/mgrela/events{/privacy}", "received_events_url": "https://api.github.com/users/mgrela/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-02T23:40:28Z", "updated_at": "2020-05-03T15:55:32Z", "closed_at": "2020-05-03T15:55:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nFollowing the steps from the [installation manual](https://graphite.readthedocs.io/en/latest/install-virtualenv.html) fails when trying to install graphite-web in a venv using pip.\r\n\r\n**To Reproduce**\r\n```\r\nenki@boxer:~$ sudo rm -rf /opt/\r\nenki@boxer:~$ sudo mkdir -p /opt/graphite\r\nenki@boxer:~$ sudo -i\r\nroot@boxer:~# python3 -m venv /opt/graphite/\r\nroot@boxer:~# source /opt/graphite/bin/activate\r\n(graphite) root@boxer:~# export PYTHONPATH=\"/opt/graphite/lib/:/opt/graphite/webapp/\"\r\n(graphite) root@boxer:~# pip install --no-binary=:all: https://github.com/graphite-project/whisper/tarball/master\r\n[...]\r\nSuccessfully installed six-1.14.0 whisper-1.2.0\r\n(graphite) root@boxer:~# pip install --no-binary=:all: https://github.com/graphite-project/carbon/tarball/master\r\n[...]\r\nSuccessfully installed Automat-20.2.0 PyHamcrest-2.0.2 Twisted-20.3.0 attrs-19.3.0 cachetools-4.1.0 carbon-1.2.0 constantly-15.1.0 hyperlink-19.0.0 idna-2.9 incremental-17.5.0 txAMQP-0.8.2 urllib3-1.25.9 zope.interface-5.1.0\r\n(graphite) root@boxer:~# pip install --no-binary=:all: https://github.com/graphite-project/graphite-web/tarball/master\r\nCollecting https://github.com/graphite-project/graphite-web/tarball/master\r\n[...]\r\nSuccessfully installed Django-3.0.5 asgiref-3.2.7 cairocffi-1.1.0 cffi-1.14.0 django-tagging-0.4.3 graphite-web-1.2.0 pycparser-2.20 pyparsing-2.4.7 pytz-2020.1 scandir-1.10.0 setuptools-46.1.3 sqlparse-0.3.1\r\n(graphite) root@boxer:~# cd /opt/graphite/\r\n(graphite) root@boxer:/opt/graphite# PYTHONPATH=$PWD/webapp django-admin.py migrate --settings=graphite.settings\r\nCould not import graphite.local_settings, using defaults!\r\n/opt/graphite/lib/python3.6/site-packages/graphite/settings.py:348: UserWarning: SECRET_KEY is set to an unsafe default. This should be set in local_settings.py for better security\r\n  warn('SECRET_KEY is set to an unsafe default. This should be set in local_settings.py for better security')\r\nTraceback (most recent call last):\r\n  File \"/opt/graphite/bin/django-admin.py\", line 5, in <module>\r\n    management.execute_from_command_line()\r\n  File \"/opt/graphite/lib/python3.6/site-packages/django/core/management/__init__.py\", line 401, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/opt/graphite/lib/python3.6/site-packages/django/core/management/__init__.py\", line 377, in execute\r\n    django.setup()\r\n  File \"/opt/graphite/lib/python3.6/site-packages/django/__init__.py\", line 24, in setup\r\n    apps.populate(settings.INSTALLED_APPS)\r\n  File \"/opt/graphite/lib/python3.6/site-packages/django/apps/registry.py\", line 91, in populate\r\n    app_config = AppConfig.create(entry)\r\n  File \"/opt/graphite/lib/python3.6/site-packages/django/apps/config.py\", line 90, in create\r\n    module = import_module(entry)\r\n  File \"/usr/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/opt/graphite/lib/python3.6/site-packages/graphite/functions/__init__.py\", line 9, in <module>\r\n    from graphite.functions.params import Param, ParamTypes, ParamTypeAggFunc  # noqa\r\n  File \"/opt/graphite/lib/python3.6/site-packages/graphite/functions/params.py\", line 5, in <module>\r\n    from graphite.logger import log\r\n  File \"/opt/graphite/lib/python3.6/site-packages/graphite/logger.py\", line 96, in <module>\r\n    log = GraphiteLogger() # import-shared logger instance\r\n  File \"/opt/graphite/lib/python3.6/site-packages/graphite/logger.py\", line 29, in __init__\r\n    level = logging.DEBUG if settings.DEBUG else logging.INFO,\r\n  File \"/opt/graphite/lib/python3.6/site-packages/graphite/logger.py\", line 68, in _config_logger\r\n    handler = Rotater(log_file, when=when, backupCount=backupCount)\r\n  File \"/usr/lib/python3.6/logging/handlers.py\", line 202, in __init__\r\n    BaseRotatingHandler.__init__(self, filename, 'a', encoding, delay)\r\n  File \"/usr/lib/python3.6/logging/handlers.py\", line 57, in __init__\r\n    logging.FileHandler.__init__(self, filename, mode, encoding, delay)\r\n  File \"/usr/lib/python3.6/logging/__init__.py\", line 1032, in __init__\r\n    StreamHandler.__init__(self, self._open())\r\n  File \"/usr/lib/python3.6/logging/__init__.py\", line 1061, in _open\r\n    return open(self.baseFilename, self.mode, encoding=self.encoding)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/opt/graphite/lib/python3.6/storage/log/webapp/info.log'\r\n(graphite) root@boxer:/opt/graphite# \r\n```\r\n\r\n**Expected behavior**\r\nThe django setup script should work.\r\n\r\n**Environment (please complete the following information):**\r\n - OS flavor:\r\n```\r\n(graphite) root@boxer:/opt/graphite# lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 18.04.4 LTS\r\nRelease:\t18.04\r\nCodename:\tbionic\r\n(graphite) root@boxer:/opt/graphite# \r\n```\r\n - Graphite-web version [e.g. 1.1.2, 1.0.1, etc]\r\n - Django/Python version [e.g. 1.11/2.7, 2.1/3.8 etc]\r\n```\r\n(graphite) root@boxer:/opt/graphite# python --version\r\nPython 3.6.9\r\n(graphite) root@boxer:/opt/graphite# \r\n```\r\n - Setup type\r\npip in venv according to [manual](https://graphite.readthedocs.io/en/latest/install-virtualenv.html)\r\n\r\n**Additional info**\r\nThe webapp directory doesn't seem to contain the graphite-web application just the content directory with the static html resources.\r\n```\r\n(graphite) root@boxer:/opt/graphite# ls -l webapp/\r\ntotal 4\r\ndrwxr-xr-x 6 root root 4096 May  3 01:32 content\r\n(graphite) root@boxer:/opt/graphite#\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2595", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2595/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2595/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2595/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2595", "id": 610252991, "node_id": "MDU6SXNzdWU2MTAyNTI5OTE=", "number": 2595, "title": "[BUG] when there are so many events , graphite does not handle it well", "user": {"login": "mrtypn", "id": 62803202, "node_id": "MDQ6VXNlcjYyODAzMjAy", "avatar_url": "https://avatars3.githubusercontent.com/u/62803202?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrtypn", "html_url": "https://github.com/mrtypn", "followers_url": "https://api.github.com/users/mrtypn/followers", "following_url": "https://api.github.com/users/mrtypn/following{/other_user}", "gists_url": "https://api.github.com/users/mrtypn/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrtypn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrtypn/subscriptions", "organizations_url": "https://api.github.com/users/mrtypn/orgs", "repos_url": "https://api.github.com/users/mrtypn/repos", "events_url": "https://api.github.com/users/mrtypn/events{/privacy}", "received_events_url": "https://api.github.com/users/mrtypn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-04-30T17:21:01Z", "updated_at": "2020-08-12T21:56:53Z", "closed_at": "2020-07-11T18:59:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWe stored \"events\", \"tags\"  in mysql database , our system has about 1.5 million events and 10 million \"tagging_taggeditem\".  I usually got time out when querying the event data from timeout.\r\n\r\n**To Reproduce**\r\nThis is what i see in mysql log:\r\nSELECT `events_event`.`id`\r\n        FROM `events_event`, `tagging_taggeditem`\r\n        WHERE `tagging_taggeditem`.content_type_id = 12\r\n          AND `tagging_taggeditem`.tag_id IN (2,3,4,3344,23,239)\r\n          AND `events_event`.`id` = `tagging_taggeditem`.object_id\r\n        GROUP BY `events_event`.`id`\r\n        HAVING COUNT(`events_event`.`id`) = 6;\r\n\r\nIt takes about 2 minutes to complete, this will through the time out error.\r\n\r\n**Expected behavior**\r\nIf we add an \"AND when \" in the query, it's much faster.\r\nFROM `events_event`, `tagging_taggeditem`\r\n        WHERE `tagging_taggeditem`.content_type_id = 12\r\n          AND `tagging_taggeditem`.tag_id IN (2,3,4,3344,23,239)\r\n          AND `events_event`.`id` = `tagging_taggeditem`.object_id\r\n          **AND `events.event`.when>'2020-01-01' and  AND `events.event`.when<'2020-02-01'**\r\n        GROUP BY `events_event`.`id`\r\n        HAVING COUNT(`events_event`.`id`) = 6;\r\n\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Environment (please complete the following information):**\r\n Graphite 1.1.5\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2592", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2592/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2592/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2592/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2592", "id": 605585487, "node_id": "MDU6SXNzdWU2MDU1ODU0ODc=", "number": 2592, "title": "[Q]WSGI Error", "user": {"login": "RUDI-TERROR", "id": 6968432, "node_id": "MDQ6VXNlcjY5Njg0MzI=", "avatar_url": "https://avatars0.githubusercontent.com/u/6968432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RUDI-TERROR", "html_url": "https://github.com/RUDI-TERROR", "followers_url": "https://api.github.com/users/RUDI-TERROR/followers", "following_url": "https://api.github.com/users/RUDI-TERROR/following{/other_user}", "gists_url": "https://api.github.com/users/RUDI-TERROR/gists{/gist_id}", "starred_url": "https://api.github.com/users/RUDI-TERROR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RUDI-TERROR/subscriptions", "organizations_url": "https://api.github.com/users/RUDI-TERROR/orgs", "repos_url": "https://api.github.com/users/RUDI-TERROR/repos", "events_url": "https://api.github.com/users/RUDI-TERROR/events{/privacy}", "received_events_url": "https://api.github.com/users/RUDI-TERROR/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-23T14:27:28Z", "updated_at": "2020-04-27T14:09:37Z", "closed_at": "2020-04-27T14:09:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\ni try to get the graphite web app run on my CentOS 8\r\n\r\nI follow this guide: https://graphite.readthedocs.io/en/latest/config-webapp.html#apache-mod-wsgi\r\n\r\nless /etc/httpd/conf.d/graphite.conf\r\n```\r\nLoadModule wsgi_module modules/mod_wsgi.so\r\n\r\nWSGISocketPrefix /var/run/wsgi\r\n\r\nListen 81\r\n<VirtualHost *:81>\r\n\r\n    ServerName graphite\r\n    DocumentRoot \"/opt/graphite/webapp\"\r\n    ErrorLog /opt/graphite/storage/log/webapp/error.log\r\n    CustomLog /opt/graphite/storage/log/webapp/access.log common\r\n\r\n    WSGIDaemonProcess graphite-web processes=5 threads=5 display-name='%{GROUP}' inactivity-timeout=120\r\n    WSGIProcessGroup graphite-web\r\n    WSGIApplicationGroup %{GLOBAL}\r\n    WSGIImportScript /opt/graphite/conf/graphite.wsgi process-group=graphite-web application-group=%{GLOBAL}\r\n\r\n#   WSGIScriptAlias / /opt/graphite/conf/graphite.wsgi\r\n    WSGIScriptAlias /graphite /opt/graphite/conf/graphite.wsgi/graphite\r\n\r\n    Alias /static/ /opt/graphite/static/\r\n\r\n    <Directory /opt/graphite/static/>\r\n            <IfVersion < 2.4>\r\n                    Order deny,allow\r\n                    Allow from all\r\n            </IfVersion>\r\n            <IfVersion >= 2.4>\r\n                    Require all granted\r\n            </IfVersion>\r\n    </Directory>\r\n\r\n    <Directory /opt/graphite/conf/>\r\n            <IfVersion < 2.4>\r\n                    Order deny,allow\r\n                    Allow from all\r\n            </IfVersion>\r\n            <IfVersion >= 2.4>\r\n                    Require all granted\r\n            </IfVersion>\r\n    </Directory>\r\n</VirtualHost>\r\n```\r\n\r\nless /opt/graphite/conf/graphite.wsgi\r\n```\r\nimport sys\r\n# In case of multi-instance graphite, uncomment and set appropriate name\r\n# import os\r\n# os.environ['GRAPHITE_SETTINGS_MODULE'] = 'graphite.local_settings'\r\nsys.path.append('/opt/graphite/webapp')\r\n\r\nfrom graphite.wsgi import application\r\n```\r\n\r\nI also change the directory-preferences for the path /opt/graphite/storage:\r\n\r\n`chown -R apache:apache /opt/graphite/storage`\r\n\r\n`service httpd restart`\r\n\r\nNow, when I try to visit the graphit web app I get following error Message:\r\n\r\n```\r\nError 500\r\nInternal Server Error\r\n\r\nThe server encountered an internal error or misconfiguration and was unable to complete your request.\r\n```\r\n\r\ntail -f /opt/graphite/storage/log/webapp/error.log\r\n```\r\n[Thu Apr 23 16:22:25.390871 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744] mod_wsgi (pid=4596): Failed to exec Python script file '/opt/graphite/conf/graphite.wsgi'.\r\n[Thu Apr 23 16:22:25.390956 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744] mod_wsgi (pid=4596): Exception occurred processing WSGI script '/opt/graphite/conf/graphite.wsgi'.\r\n[Thu Apr 23 16:22:25.391135 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744] Traceback (most recent call last):\r\n[Thu Apr 23 16:22:25.391182 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744]   File \"/opt/graphite/conf/graphite.wsgi\", line 7, in <module>\r\n[Thu Apr 23 16:22:25.391190 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744]     from graphite.wsgi import application\r\n[Thu Apr 23 16:22:25.391201 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744]   File \"/opt/graphite/webapp/graphite/wsgi.py\", line 15, in <module>\r\n[Thu Apr 23 16:22:25.391207 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744]     application = get_wsgi_application()\r\n[Thu Apr 23 16:22:25.391216 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744]   File \"/opt/graphite/webapp/django/core/wsgi.py\", line 12, in get_wsgi_application\r\n[Thu Apr 23 16:22:25.391222 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744]     django.setup(set_prefix=False)\r\n[Thu Apr 23 16:22:25.391231 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744]   File \"/opt/graphite/webapp/django/__init__.py\", line 24, in setup\r\n[Thu Apr 23 16:22:25.391237 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744]     apps.populate(settings.INSTALLED_APPS)\r\n[Thu Apr 23 16:22:25.391246 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744]   File \"/opt/graphite/webapp/django/apps/registry.py\", line 83, in populate\r\n[Thu Apr 23 16:22:25.391251 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744]     raise RuntimeError(\"populate() isn't reentrant\")\r\n[Thu Apr 23 16:22:25.391272 2020] [wsgi:error] [pid 4596:tid 139622512830208] [remote 172.xx.xx.xx:63744] RuntimeError: populate() isn't reentrant\r\n```\r\n\r\nCan anyone help me, solve the error?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2588", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2588/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2588/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2588/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2588", "id": 603567277, "node_id": "MDU6SXNzdWU2MDM1NjcyNzc=", "number": 2588, "title": "[Q] Unable to display graph data.", "user": {"login": "hugosxm", "id": 23743455, "node_id": "MDQ6VXNlcjIzNzQzNDU1", "avatar_url": "https://avatars0.githubusercontent.com/u/23743455?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hugosxm", "html_url": "https://github.com/hugosxm", "followers_url": "https://api.github.com/users/hugosxm/followers", "following_url": "https://api.github.com/users/hugosxm/following{/other_user}", "gists_url": "https://api.github.com/users/hugosxm/gists{/gist_id}", "starred_url": "https://api.github.com/users/hugosxm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hugosxm/subscriptions", "organizations_url": "https://api.github.com/users/hugosxm/orgs", "repos_url": "https://api.github.com/users/hugosxm/repos", "events_url": "https://api.github.com/users/hugosxm/events{/privacy}", "received_events_url": "https://api.github.com/users/hugosxm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-20T22:07:58Z", "updated_at": "2020-04-27T09:17:55Z", "closed_at": "2020-04-27T09:17:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, sorry if posting this on the wrong place... But I'm pulling my hair on something. \r\n\r\nLong story short. I have a Shinken monitoring system sending metrics to a graphite docker image, the latest stable. I pulled graphiteapp/graphite-statsd five minutes ago, but i have this problem since maybe 1 month. After an update of the docker image. \r\n\r\nThe problem is that graphite displays nothing if i try a simple graph on the graphite-webapp. It does not say \"no data\", but it show an empty graph. What is very strange : if i try to use grafana, grafana will display the dot of the timeseries wihout being able to connect each dot ?! \r\n\r\nI tried different image, i tried to send data manually to the graphite instance with a netcat... Always same problem... I even tried to install icinga2 because i'm planning to change our supervision system... Did the same thing... I'm lost here so i'm asking for help. \r\n\r\nThanks by advance", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2585", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2585/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2585/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2585/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2585", "id": 599461398, "node_id": "MDU6SXNzdWU1OTk0NjEzOTg=", "number": 2585, "title": "SmartSummarize alignTo parameter unclear", "user": {"login": "dancingmad", "id": 544117, "node_id": "MDQ6VXNlcjU0NDExNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/544117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dancingmad", "html_url": "https://github.com/dancingmad", "followers_url": "https://api.github.com/users/dancingmad/followers", "following_url": "https://api.github.com/users/dancingmad/following{/other_user}", "gists_url": "https://api.github.com/users/dancingmad/gists{/gist_id}", "starred_url": "https://api.github.com/users/dancingmad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dancingmad/subscriptions", "organizations_url": "https://api.github.com/users/dancingmad/orgs", "repos_url": "https://api.github.com/users/dancingmad/repos", "events_url": "https://api.github.com/users/dancingmad/events{/privacy}", "received_events_url": "https://api.github.com/users/dancingmad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-14T10:24:54Z", "updated_at": "2020-06-30T11:02:48Z", "closed_at": "2020-06-30T11:02:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "\"The alignToFrom boolean parameter has been replaced by alignTo and no longer has any effect. Alignment can be to years, months, weeks, days, hours, and minutes.\"\r\n\r\nI have idea what the format for the alignTo is supposed to be, the only parameter I got to work was alignTo=None as in the example stated. A search on the web could not get me any results. Can anyone tell how to align to years, months, weeks, days, hours and minutes? (eg. alignTo=days, alignTo=1d, alignTo=1day,...)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2583", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2583/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2583/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2583/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2583", "id": 598880621, "node_id": "MDU6SXNzdWU1OTg4ODA2MjE=", "number": 2583, "title": "Implement stale bot for closing old PRs and issues", "user": {"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 632773725, "node_id": "MDU6TGFiZWw2MzI3NzM3MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/discussion", "name": "discussion", "color": "0052cc", "default": false, "description": null}, {"id": 4571164, "node_id": "MDU6TGFiZWw0NTcxMTY0", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-04-13T13:10:39Z", "updated_at": "2020-06-24T04:17:46Z", "closed_at": "2020-06-24T04:17:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There's so many old PRs and issues, which are mostly hanging there and that's it.\r\nWhat team think about implenenting bot to closing it down?\r\nGithub provides such bot now, named \"stale\" - https://github.com/apps/stale\r\nif it's a good idea, what should be defaults?\r\nSames as Github defaults - 60 days before warning and then waiting 7 more days before closing? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2580", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2580/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2580/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2580/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2580", "id": 597808777, "node_id": "MDU6SXNzdWU1OTc4MDg3Nzc=", "number": 2580, "title": "[BUG]graphite render is error when REMOTE_RENDERING is True", "user": {"login": "ItWangS", "id": 32253516, "node_id": "MDQ6VXNlcjMyMjUzNTE2", "avatar_url": "https://avatars2.githubusercontent.com/u/32253516?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ItWangS", "html_url": "https://github.com/ItWangS", "followers_url": "https://api.github.com/users/ItWangS/followers", "following_url": "https://api.github.com/users/ItWangS/following{/other_user}", "gists_url": "https://api.github.com/users/ItWangS/gists{/gist_id}", "starred_url": "https://api.github.com/users/ItWangS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ItWangS/subscriptions", "organizations_url": "https://api.github.com/users/ItWangS/orgs", "repos_url": "https://api.github.com/users/ItWangS/repos", "events_url": "https://api.github.com/users/ItWangS/events{/privacy}", "received_events_url": "https://api.github.com/users/ItWangS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-04-10T10:01:52Z", "updated_at": "2020-04-14T02:32:23Z", "closed_at": "2020-04-14T02:32:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nInternal Server Error: /render/\r\nTraceback (most recent call last):\r\n  File \"/opt/graphite/lib/python3.6/site-packages/django/core/handlers/exception.py\", line 34, in inner\r\n    response = get_response(request)\r\n  File \"/opt/graphite/lib/python3.6/site-packages/django/core/handlers/base.py\", line 115, in _get_response\r\n    response = self.process_exception_by_middleware(e, request)\r\n  File \"/opt/graphite/lib/python3.6/site-packages/django/core/handlers/base.py\", line 113, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/opt/graphite/webapp/graphite/errors.py\", line 17, in new_f\r\n    return f(*args, **kwargs)\r\n  File \"/opt/graphite/webapp/graphite/render/views.py\", line 155, in renderView\r\n    response = renderViewGraph(graphOptions, requestOptions, data)\r\n  File \"/opt/graphite/webapp/graphite/render/views.py\", line 173, in renderViewGraph\r\n    image = delegateRendering(requestOptions['graphType'], graphOptions, requestOptions['forwardHeaders'])\r\n  File \"/opt/graphite/webapp/graphite/render/views.py\", line 498, in delegateRendering\r\n    postData = graphType + '\\n' + pickle.dumps(graphOptions)\r\nTypeError: must be str, not bytes\r\n\r\n\r\n**Environment (please complete the following information):**\r\n - OS flavor:centos7\r\n - Graphite-web version 1.1.2\r\n - Django/Python version 3.0.5/3.6\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2575", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2575/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2575/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2575/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2575", "id": 589806448, "node_id": "MDU6SXNzdWU1ODk4MDY0NDg=", "number": 2575, "title": "[Q] ImportError: No module named graphite.settings", "user": {"login": "kix23", "id": 11167880, "node_id": "MDQ6VXNlcjExMTY3ODgw", "avatar_url": "https://avatars0.githubusercontent.com/u/11167880?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kix23", "html_url": "https://github.com/kix23", "followers_url": "https://api.github.com/users/kix23/followers", "following_url": "https://api.github.com/users/kix23/following{/other_user}", "gists_url": "https://api.github.com/users/kix23/gists{/gist_id}", "starred_url": "https://api.github.com/users/kix23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kix23/subscriptions", "organizations_url": "https://api.github.com/users/kix23/orgs", "repos_url": "https://api.github.com/users/kix23/repos", "events_url": "https://api.github.com/users/kix23/events{/privacy}", "received_events_url": "https://api.github.com/users/kix23/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-29T14:37:23Z", "updated_at": "2020-03-29T15:30:20Z", "closed_at": "2020-03-29T15:30:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Issue while installing graphite-web\r\nFirst some system Informations:\r\nRunning on raspberry3 with Raspbian GNU/Linux 10 (buster)\r\nuname -a\r\n`Linux graphitesrv 4.19.97-v7+ #1294 SMP Thu Jan 30 13:15:58 GMT 2020 armv7l GNU/Linux`\r\nGraphite versions (simply installed with apt install):\r\n```\r\ngraphite-carbon 1.1.4-2\r\ngraphite-web 1.1.4-3+deb10u1\r\n```\r\ndjango versions (also apt install):\r\npython3-* was installed as dependency with graphite-web\r\n```\r\npython-django                        1:1.11.28-1~deb10u1\r\npython-django-common                 1:1.11.28-1~deb10u1\r\npython-django-tagging                1:0.4.5-1\r\npython3-django                       1:1.11.28-1~deb10u1\r\npython3-django-tagging               1:0.4.5-1\r\n```\r\n/etc/graphite/local_settings.py\r\n```\r\nSECRET_KEY = 'isetsomethinghere'\r\nTIME_ZONE = 'Europe/Berlin'\r\nLOG_ROTATION = False\r\nDEFAULT_XFILES_FACTOR = 0\r\nGRAPHITE_ROOT = '/usr/share/graphite-web'\r\nCONF_DIR = '/etc/graphite'\r\nSTORAGE_DIR = '/var/lib/graphite/whisper'\r\nSTATIC_ROOT = '/usr/share/graphite-web/static'\r\nLOG_DIR = '/var/log/graphite'\r\nINDEX_FILE = '/var/lib/graphite/search_index'\r\nWHISPER_DIR = '/var/lib/graphite/whisper'\r\nDATABASES = {\r\n    'default': {\r\n        'NAME': 'graphitedb',\r\n        'ENGINE': 'django.db.backends.mysql',\r\n        'USER': 'graphitedbuser',\r\n        'PASSWORD': 'graphitedbpass',\r\n        'HOST': '127.0.0.1',\r\n        'PORT': '3306'\r\n    }\r\n}\r\nFUNCTION_PLUGINS = []\r\n``````\r\n\r\ndb got populated via:\r\n(no migrations to apply here bec already did.)\r\n```\r\nroot@graphitesrv:~# django-admin migrate --settings=graphite.settings --run-syncdb\r\nOperations to perform:\r\n  Synchronize unmigrated apps: browser, composer, functions, metrics, render, staticfiles, whitelist\r\n  Apply all migrations: account, admin, auth, contenttypes, dashboard, events, sessions, tagging, tags, url_shortener\r\nSynchronizing apps without migrations:\r\n  Creating tables...\r\n    Running deferred SQL...\r\nRunning migrations:\r\n  No migrations to apply.\r\nroot@graphitesrv:~# graphite-manage migrate\r\nOperations to perform:\r\n  Apply all migrations: account, admin, auth, contenttypes, dashboard, events, sessions, tagging, tags, url_shortener\r\nRunning migrations:\r\n  No migrations to apply.\r\n```\r\nnotice: graphite.service works here.\r\n\r\ndb seems ok:\r\n```\r\n+----------------------------+\r\n| Tables_in_graphitedb         |\r\n+----------------------------+\r\n| account_mygraph            |\r\n| account_profile            |\r\n| account_variable           |\r\n| account_view               |\r\n| account_window             |\r\n| auth_group                 |\r\n| auth_group_permissions     |\r\n| auth_permission            |\r\n| auth_user                  |\r\n| auth_user_groups           |\r\n| auth_user_user_permissions |\r\n| dashboard_dashboard        |\r\n| dashboard_dashboard_owners |\r\n| dashboard_template         |\r\n| dashboard_template_owners  |\r\n| django_admin_log           |\r\n| django_content_type        |\r\n| django_migrations          |\r\n| django_session             |\r\n| events_event               |\r\n| tagging_tag                |\r\n| tagging_taggeditem         |\r\n| tags_series                |\r\n| tags_seriestag             |\r\n| tags_tag                   |\r\n| tags_tagvalue              |\r\n| url_shortener_link         |\r\n+----------------------------+\r\n```\r\nWebserver gives a \"500 - Internal Server Error\"\r\napache config:\r\n```\r\n<VirtualHost *:8003>\r\n\tWSGIDaemonProcess _graphite processes=5 threads=5 display-name='%{GROUP}' inactivity-timeout=120 user=_graphite group=_graphite\r\n\tWSGIProcessGroup _graphite\r\n\tWSGIImportScript /usr/share/graphite-web/graphite.wsgi process-group=_graphite application-group=%{GLOBAL}\r\n\tWSGIScriptAlias / /usr/share/graphite-web/graphite.wsgi\r\n\tAlias /static/ /usr/share/graphite-web/static/\r\n\t<Location \"/static/\">\r\n\t\tSetHandler None\r\n\t</Location>\r\n\tErrorLog ${APACHE_LOG_DIR}/graphite-web_error.log\r\n\tLogLevel warn\r\n\tCustomLog ${APACHE_LOG_DIR}/graphite-web_access.log combined\r\n</VirtualHost>\r\n\r\n```\r\nWebserver graphite-web_error.log:\r\n```\r\n[wsgi:error] mod_wsgi (pid=3528): Failed to exec Python script file '/usr/share/graphite-web/graphite.wsgi'.\r\n[wsgi:error] mod_wsgi (pid=3528): Exception occurred processing WSGI script '/usr/share/graphite-web/graphite.wsgi'.\r\n[wsgi:error] Traceback (most recent call last):\r\n[wsgi:error]    File \"/usr/share/graphite-web/graphite.wsgi\", line 14, in <module>\r\n[wsgi:error]      application = get_wsgi_application()\r\n[wsgi:error]    File \"/usr/lib/python2.7/dist-packages/django/core/wsgi.py\", line 13, in get_wsgi_application\r\n[wsgi:error]      django.setup(set_prefix=False)\r\n[wsgi:error]    File \"/usr/lib/python2.7/dist-packages/django/__init__.py\", line 22, in setup\r\n[wsgi:error]      configure_logging(settings.LOGGING_CONFIG, settings.LOGGING)\r\n[wsgi:error]    File \"/usr/lib/python2.7/dist-packages/django/conf/__init__.py\", line 56, in __getattr__\r\n[wsgi:error]      self._setup(name)\r\n[wsgi:error]    File \"/usr/lib/python2.7/dist-packages/django/conf/__init__.py\", line 41, in _setup\r\n[wsgi:error]      self._wrapped = Settings(settings_module)\r\n[wsgi:error]    File \"/usr/lib/python2.7/dist-packages/django/conf/__init__.py\", line 110, in __init__\r\n[wsgi:error]      mod = importlib.import_module(self.SETTINGS_MODULE)\r\n[wsgi:error]    File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\r\n[wsgi:error]      __import__(name)\r\n[wsgi:error] ImportError: No module named graphite.settings\r\n```\r\nmy guess is, that the installed packages use different python versions\r\nin the log python2.7 is called\r\nbut if i search for graphite.service it only appears in some python3 binary files:\r\n```\r\n/usr/lib/python3/dist-packages/graphite/__pycache__/wsgi.cpython-37.pyc\r\n/usr/lib/python3/dist-packages/graphite/__pycache__/settings.cpython-37.pyc\r\n```\r\nand as mentioned above no error was thrown by `django-admin migrate`\r\n\r\ni'm not good in python and also this django thing is new for me.\r\ni just want to run graphite for my icinga dashboard.\r\nso still hoping its just a simple config issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2573", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2573/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2573/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2573/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2573", "id": 584680064, "node_id": "MDU6SXNzdWU1ODQ2ODAwNjQ=", "number": 2573, "title": "[BUG] Documentation indicates wrong function name `roundFunction()`", "user": {"login": "replay", "id": 195371, "node_id": "MDQ6VXNlcjE5NTM3MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/195371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/replay", "html_url": "https://github.com/replay", "followers_url": "https://api.github.com/users/replay/followers", "following_url": "https://api.github.com/users/replay/following{/other_user}", "gists_url": "https://api.github.com/users/replay/gists{/gist_id}", "starred_url": "https://api.github.com/users/replay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/replay/subscriptions", "organizations_url": "https://api.github.com/users/replay/orgs", "repos_url": "https://api.github.com/users/replay/repos", "events_url": "https://api.github.com/users/replay/events{/privacy}", "received_events_url": "https://api.github.com/users/replay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-03-19T20:27:25Z", "updated_at": "2020-05-26T03:03:43Z", "closed_at": "2020-05-26T03:03:43Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nThe documentation lists a function called `roundFunction()`:\r\nhttps://graphite.readthedocs.io/en/latest/functions.html#graphite.render.functions.roundFunction\r\n\r\n**Expected behavior**\r\n\r\nIt should be `round()` instead of `roundFunction()`\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/195371/77111739-9af02980-6a06-11ea-85a9-f896df60b3b4.png)\r\n\r\n**Additional context**\r\nThis happens because we use `sphinx` to auto-generate the documentation and the implemented function is named `roundFunction()` [here](https://github.com/graphite-project/graphite-web/blob/master/webapp/graphite/render/functions.py#L1674).\r\n\r\nUnfortunately we can't simply rename that function to `round`, because that's an existing function in Python. It might be possible to fix this with some sphinx-overrides, but I couldn't figure out how to make it work.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2571", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2571/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2571/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2571/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2571", "id": 583630960, "node_id": "MDU6SXNzdWU1ODM2MzA5NjA=", "number": 2571, "title": "[BUG] `round` function adds numeric tag, breaks `aliasByTags`", "user": {"login": "shanson7", "id": 5024860, "node_id": "MDQ6VXNlcjUwMjQ4NjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5024860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shanson7", "html_url": "https://github.com/shanson7", "followers_url": "https://api.github.com/users/shanson7/followers", "following_url": "https://api.github.com/users/shanson7/following{/other_user}", "gists_url": "https://api.github.com/users/shanson7/gists{/gist_id}", "starred_url": "https://api.github.com/users/shanson7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shanson7/subscriptions", "organizations_url": "https://api.github.com/users/shanson7/orgs", "repos_url": "https://api.github.com/users/shanson7/repos", "events_url": "https://api.github.com/users/shanson7/events{/privacy}", "received_events_url": "https://api.github.com/users/shanson7/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-18T10:36:36Z", "updated_at": "2020-03-21T15:11:24Z", "closed_at": "2020-03-21T15:11:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**Describe the bug**\r\n\r\n[round](https://github.com/graphite-project/graphite-web/blob/de2592d/webapp/graphite/render/functions.py#L1688) adds the precision as a number. If you go on to use `aliasByTags` it returns error:\r\n\r\n```\r\nTraceback (most recent call last): \r\n File \"/opt/graphite/local/lib/python2.7/site-packages/django/core/handlers/exception.py\", line 41, in inner response = get_response(request)\r\n File \"/opt/graphite/local/lib/python2.7/site-packages/django/core/handlers/base.py\", line 187, in _get_response response = self.process_exception_by_middleware(e, request)\r\n File \"/opt/graphite/local/lib/python2.7/site-packages/django/core/handlers/base.py\", line 185, in _get_response response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n File \"/opt/graphite/webapp/graphite/render/views.py\", line 117, in renderView data.extend(evaluateTarget(requestContext, targets))\r\n File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 28, in evaluateTarget result = evaluateTokens(requestContext, target)\r\n File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 57, in evaluateTokens return evaluateTokens(requestContext, tokens.expression, replacements)\r\n File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 93, in evaluateTokens return func(requestContext, *args, **kwargs)\r\n File \"/opt/graphite/webapp/graphite/render/functions.py\", line 5169, in aliasByTags return aliasByNode(requestContext, seriesList, *tags)\r\n File \"/opt/graphite/webapp/graphite/render/functions.py\", line 2376, in aliasByNode series.name = aggKey(series, nodes, pathExpression)\r\n File \"/opt/graphite/webapp/graphite/render/functions.py\", line 195, in aggKey return '.'.join([getNodeOrTag(series, n, pathExpression) for n in nodes]) TypeError: sequence item 0: expected string, int found\r\n```\r\n\r\n**To Reproduce**\r\nDescribed above\r\n\r\n**Expected behavior**\r\nI think tags should have string values, but not sure if this is enforced elsewhere (e.g. on ingestion)\r\n\r\n**Environment (please complete the following information):**\r\n - OS flavor: [e.g. Ubuntu, CentOS, Debian etc]: CentOS\r\n - Graphite-web version [e.g. 1.1.2, 1.0.1, etc]: 1.1.5\r\n - Django/Python version [e.g. 1.11/2.7, 2.1/3.8 etc]\r\n - Setup type [e.g. pip, from sources, from OS packages etc]\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2551", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2551/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2551/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2551/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2551", "id": 570578253, "node_id": "MDU6SXNzdWU1NzA1NzgyNTM=", "number": 2551, "title": "Tame DeepSource check", "user": {"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571164, "node_id": "MDU6TGFiZWw0NTcxMTY0", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 9, "created_at": "2020-02-25T13:39:24Z", "updated_at": "2020-05-06T11:04:27Z", "closed_at": "2020-05-06T11:04:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Maybe it's better to switch it into permissive mode, or at least remove obvious / not used alerts. \r\nSee https://deepsource.io/gh/graphite-project/graphite-web/settings/general", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2550", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2550/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2550/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2550/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2550", "id": 569791526, "node_id": "MDU6SXNzdWU1Njk3OTE1MjY=", "number": 2550, "title": "[Q] Install Graphite on Debian 10 on VMWare", "user": {"login": "KodaCHC", "id": 61413942, "node_id": "MDQ6VXNlcjYxNDEzOTQy", "avatar_url": "https://avatars3.githubusercontent.com/u/61413942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KodaCHC", "html_url": "https://github.com/KodaCHC", "followers_url": "https://api.github.com/users/KodaCHC/followers", "following_url": "https://api.github.com/users/KodaCHC/following{/other_user}", "gists_url": "https://api.github.com/users/KodaCHC/gists{/gist_id}", "starred_url": "https://api.github.com/users/KodaCHC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KodaCHC/subscriptions", "organizations_url": "https://api.github.com/users/KodaCHC/orgs", "repos_url": "https://api.github.com/users/KodaCHC/repos", "events_url": "https://api.github.com/users/KodaCHC/events{/privacy}", "received_events_url": "https://api.github.com/users/KodaCHC/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-02-24T11:20:04Z", "updated_at": "2020-05-01T15:39:26Z", "closed_at": "2020-05-01T15:39:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI have set up a icinga2 installation on a debian Machine. Now for graphs I will use graphite.\r\n\r\nSo I have install all components from git, and resolved all dependencies from command\r\n`python check-dependencies.py`\r\n\r\nAfter I have resolved this, and I run again the command\r\n`python check-dependencies.py`\r\nI get the error \r\nIllegal instruction\r\n\r\nI have try apt-get install.. before, but my graphite/graphite-web don't work\r\n\r\nMy way:\r\n`apt-get update && apt-get dist-upgrade && apt-get autoremove\r\napt-get install libapache2-mod-wsgi python-pip python3-pip librrd-dev python-ldap python3-ldap python-cairo python3-cairo\r\nupdate-alternatives --install /usr/bin/python python /usr/bin/python2.7 1\r\nupdate-alternatives --install /usr/bin/python python /usr/bin/python3.7 2\r\npython --version\r\npip install \"django==2.2.10\"\r\ncd /opt/\r\ngit clone https://github.com/graphite-project/whisper.git\r\npushd whisper\r\npython setup.py install\r\npopd\r\ngit clone https://github.com/graphite-project/carbon.git\r\npushd carbon\r\npython setup.py install \r\npopd\r\ngit clone https://github.com/graphite-project/ceres.git\r\npushd ceres\r\npython setup.py install \r\npopd\r\ngit clone https://github.com/graphite-project/graphite-web.git\r\npushd /opt/graphite/conf\r\ncp carbon.conf.example carbon.conf\r\ncp storage-schemas.conf.example storage-schemas.conf\r\npip install pyhash python-memcached django-tagging\r\npip install txamqp rrdtool whitenoise cairocffi\r\npip install pyparsing  \r\npython check-dependencies.py`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2546", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2546/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2546/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2546/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2546", "id": 569100021, "node_id": "MDU6SXNzdWU1NjkxMDAwMjE=", "number": 2546, "title": "Backport / squash automation", "user": {"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571164, "node_id": "MDU6TGFiZWw0NTcxMTY0", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-02-21T17:57:39Z", "updated_at": "2020-03-01T15:30:26Z", "closed_at": "2020-03-01T15:30:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the one hand using https://github.com/sqren/backport for backporting commits to release branch is quite good.\r\nBut OTOH it's a massive PITA \ud83e\udd15 \r\n\r\nI'm going to automate both using Github Actions -  https://github.com/Gaurav0/backport and https://github.com/tibdex/autosquash\r\n\r\nUnfortunately, both workflows are not able to use `secret.GITHUB_TOKEN` because of https://github.community/t5/GitHub-Actions/Triggering-a-new-workflow-from-another-workflow/td-p/31676, so, I want to investigate is it safe to do so, using `secrets` built-in.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2544", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2544/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2544/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2544/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2544", "id": 568863800, "node_id": "MDU6SXNzdWU1Njg4NjM4MDA=", "number": 2544, "title": "[BUG] graphite-web strips part of file path after single quote when querying metrics", "user": {"login": "invizus", "id": 12719400, "node_id": "MDQ6VXNlcjEyNzE5NDAw", "avatar_url": "https://avatars0.githubusercontent.com/u/12719400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/invizus", "html_url": "https://github.com/invizus", "followers_url": "https://api.github.com/users/invizus/followers", "following_url": "https://api.github.com/users/invizus/following{/other_user}", "gists_url": "https://api.github.com/users/invizus/gists{/gist_id}", "starred_url": "https://api.github.com/users/invizus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/invizus/subscriptions", "organizations_url": "https://api.github.com/users/invizus/orgs", "repos_url": "https://api.github.com/users/invizus/repos", "events_url": "https://api.github.com/users/invizus/events{/privacy}", "received_events_url": "https://api.github.com/users/invizus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-21T10:19:16Z", "updated_at": "2020-04-29T16:57:09Z", "closed_at": "2020-04-29T16:57:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nMetric stored in whisper under path\r\n`/var/lib/graphite/whisper/collectd/firewall/snmp/if_octets-Adaptive_Security_Appliance_'interface'_interface/tx.wsp`\r\nI can query this with whisper-fetch. But I cannot query this metric in Grafana and Graphite-web interface. \r\nIn log I see query:\r\n`2020-02-21,10:14:12.337 :: graphite.render.datalib.fetchData :: lookup and merge of \"collectd.firewall.snmp.if_octets-Adaptive_Security_Appliance_\" took 5.43594e-05s`\r\n\r\nWas working on graphite-web version 0.9.12+debian-6, carbon version 0.9.12-3\r\n\r\n**To Reproduce**\r\nCreate and store metrics under directory with single quotes, i.e.\r\n`/var/lib/graphite/whisper/collectd/test2544/snmp/device_'test'_interface/`\r\ncopy any .wsp into that directory\r\ntry to query in graphite web\r\nmonitor logs `/var/log/graphite/info.log`\r\n\r\n**Expected behavior**\r\ngraphite-web will retrieve metrics and display graph.\r\n\r\n**Environment (please complete the following information):**\r\n - OS flavor: Debian 10\r\n - Graphite-web version 1.1.4-3+deb10u1\r\n - Django/Python version python3-django/stable,now 1:1.11.28-1~deb10u1\r\n - Setup type from official Debian repository\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2541", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2541/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2541/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2541/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2541", "id": 568400829, "node_id": "MDU6SXNzdWU1Njg0MDA4Mjk=", "number": 2541, "title": "[BUG] Parameter `total` of function `asPercent()` has a wrong type defined", "user": {"login": "replay", "id": 195371, "node_id": "MDQ6VXNlcjE5NTM3MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/195371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/replay", "html_url": "https://github.com/replay", "followers_url": "https://api.github.com/users/replay/followers", "following_url": "https://api.github.com/users/replay/following{/other_user}", "gists_url": "https://api.github.com/users/replay/gists{/gist_id}", "starred_url": "https://api.github.com/users/replay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/replay/subscriptions", "organizations_url": "https://api.github.com/users/replay/orgs", "repos_url": "https://api.github.com/users/replay/repos", "events_url": "https://api.github.com/users/replay/events{/privacy}", "received_events_url": "https://api.github.com/users/replay/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "replay", "id": 195371, "node_id": "MDQ6VXNlcjE5NTM3MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/195371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/replay", "html_url": "https://github.com/replay", "followers_url": "https://api.github.com/users/replay/followers", "following_url": "https://api.github.com/users/replay/following{/other_user}", "gists_url": "https://api.github.com/users/replay/gists{/gist_id}", "starred_url": "https://api.github.com/users/replay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/replay/subscriptions", "organizations_url": "https://api.github.com/users/replay/orgs", "repos_url": "https://api.github.com/users/replay/repos", "events_url": "https://api.github.com/users/replay/events{/privacy}", "received_events_url": "https://api.github.com/users/replay/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "replay", "id": 195371, "node_id": "MDQ6VXNlcjE5NTM3MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/195371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/replay", "html_url": "https://github.com/replay", "followers_url": "https://api.github.com/users/replay/followers", "following_url": "https://api.github.com/users/replay/following{/other_user}", "gists_url": "https://api.github.com/users/replay/gists{/gist_id}", "starred_url": "https://api.github.com/users/replay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/replay/subscriptions", "organizations_url": "https://api.github.com/users/replay/orgs", "repos_url": "https://api.github.com/users/replay/repos", "events_url": "https://api.github.com/users/replay/events{/privacy}", "received_events_url": "https://api.github.com/users/replay/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-20T15:58:21Z", "updated_at": "2020-02-21T16:57:44Z", "closed_at": "2020-02-21T16:57:44Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "**Describe the bug**\r\nUnder certain circumstances the parameter `total` of the function `asPercent()` may have different types, depending on other specified parameters. But the type assigned with this parameter is always `seriesList`, this isn't always correct: https://github.com/graphite-project/graphite-web/blob/master/webapp/graphite/render/functions.py#L871\r\nThis may cause the input validation to incorrectly consider a the given value invalid\r\n\r\n**To Reproduce**\r\nEnforce input validation and use the `asPercent()` function with a numeric value as `total`\r\n\r\n**Expected behavior**\r\nThis should be considered valid\r\n\r\n**Additional context**\r\nI'll make a PR to fix it\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2540", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2540/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2540/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2540/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2540", "id": 564351657, "node_id": "MDU6SXNzdWU1NjQzNTE2NTc=", "number": 2540, "title": "[Q] Search always returns \"Nothing matched your query\"", "user": {"login": "gerases", "id": 8953623, "node_id": "MDQ6VXNlcjg5NTM2MjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/8953623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gerases", "html_url": "https://github.com/gerases", "followers_url": "https://api.github.com/users/gerases/followers", "following_url": "https://api.github.com/users/gerases/following{/other_user}", "gists_url": "https://api.github.com/users/gerases/gists{/gist_id}", "starred_url": "https://api.github.com/users/gerases/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gerases/subscriptions", "organizations_url": "https://api.github.com/users/gerases/orgs", "repos_url": "https://api.github.com/users/gerases/repos", "events_url": "https://api.github.com/users/gerases/events{/privacy}", "received_events_url": "https://api.github.com/users/gerases/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-02-12T23:51:15Z", "updated_at": "2020-04-20T20:39:24Z", "closed_at": "2020-04-20T20:39:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nMy new graphite setup is working quite well EXCEPT the search button. Whatever I enter, I get \"Nothing matched your query\". No errors in apache or wsgi logs.\r\n\r\nAny ideas?\r\n\r\nThanks!!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2533", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2533/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2533/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2533/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2533", "id": 553448762, "node_id": "MDU6SXNzdWU1NTM0NDg3NjI=", "number": 2533, "title": "[Q] Graphite events broken in Django 3 because of tagging which is eol", "user": {"login": "piotr1212", "id": 2911066, "node_id": "MDQ6VXNlcjI5MTEwNjY=", "avatar_url": "https://avatars0.githubusercontent.com/u/2911066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piotr1212", "html_url": "https://github.com/piotr1212", "followers_url": "https://api.github.com/users/piotr1212/followers", "following_url": "https://api.github.com/users/piotr1212/following{/other_user}", "gists_url": "https://api.github.com/users/piotr1212/gists{/gist_id}", "starred_url": "https://api.github.com/users/piotr1212/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piotr1212/subscriptions", "organizations_url": "https://api.github.com/users/piotr1212/orgs", "repos_url": "https://api.github.com/users/piotr1212/repos", "events_url": "https://api.github.com/users/piotr1212/events{/privacy}", "received_events_url": "https://api.github.com/users/piotr1212/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-22T10:31:33Z", "updated_at": "2020-04-20T20:39:23Z", "closed_at": "2020-04-20T20:39:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Tests fail on Django3 for the Graphite-events component:\r\n\r\n```\r\n  File \"/home/piotr/git/graphite-web/webapp/graphite/events/models.py\", line 4, in <module>\r\n    from tagging.models import Tag\r\n  File \"/home/piotr/git/graphite-web/.tox/py36-django30-pyparsing2/lib/python3.6/site-packages/tagging/models.py\", line 7, in <module>\r\n    from django.utils.encoding import python_2_unicode_compatible\r\nImportError: cannot import name 'python_2_unicode_compatible\r\n```\r\n\r\n`python_2_unicode_compatible` is now only available through six. Problem here is that we do not import that method directly but through `django-tagging`. `django-tagging` is quite dead, the replacement seems to be `django-taggit`. Taggit uses different schemas which makes migrating for users a bit of a mess, see https://blog.birdhouse.org/2011/04/17/migrate-django-tagging-taggit/\r\n\r\nI think there are several options to go from here:\r\n\r\n1. Bundle `django-tagging` and patch it.\r\n2. Migrate to `django-taggit`, write migration instructions.\r\n3. Drop graphite-events, Grafana now has a built in annotations store.\r\n\r\nI don't plan on implementing 2. What do you think?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2531", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2531/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2531/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2531/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2531", "id": 551979869, "node_id": "MDU6SXNzdWU1NTE5Nzk4Njk=", "number": 2531, "title": "FYI here: 1.1.7 release soon", "user": {"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-19T20:30:20Z", "updated_at": "2020-04-20T20:39:22Z", "closed_at": "2020-04-20T20:39:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Mostly for fix https://github.com/graphite-project/graphite-web/pull/2510, but also for not accumulating too much changes", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2527", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2527/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2527/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2527/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2527", "id": 550646509, "node_id": "MDU6SXNzdWU1NTA2NDY1MDk=", "number": 2527, "title": "can not load images[BUG]", "user": {"login": "yananchen1989", "id": 26405281, "node_id": "MDQ6VXNlcjI2NDA1Mjgx", "avatar_url": "https://avatars2.githubusercontent.com/u/26405281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yananchen1989", "html_url": "https://github.com/yananchen1989", "followers_url": "https://api.github.com/users/yananchen1989/followers", "following_url": "https://api.github.com/users/yananchen1989/following{/other_user}", "gists_url": "https://api.github.com/users/yananchen1989/gists{/gist_id}", "starred_url": "https://api.github.com/users/yananchen1989/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yananchen1989/subscriptions", "organizations_url": "https://api.github.com/users/yananchen1989/orgs", "repos_url": "https://api.github.com/users/yananchen1989/repos", "events_url": "https://api.github.com/users/yananchen1989/events{/privacy}", "received_events_url": "https://api.github.com/users/yananchen1989/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-16T08:18:47Z", "updated_at": "2020-04-20T20:39:21Z", "closed_at": "2020-04-20T20:39:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\n\r\nhere is the version: graphite-web (0.9.12)  \r\n\r\nAfter a while, grafana cannot display images based on data from graphite.\r\n\r\n\r\nhere is the error message:\r\nany hints ? \r\n\r\n\r\n`&#10;<center>&#10;<h2>&#10;<p>Graphite encountered an unexpected error while handling your request.</p>&#10;<p>Please contact your site administrator if the problem persists.</p>&#10;</h2>&#10;<br>&#10;<div>&#10;&#10;</div>&#10;&#10;<div>&#10;<pre>Traceback (most recent call last):&#10;  File &#34;/usr/local/lib/python2.7/dist-packages/django/core/handlers/exception.py&#34;, line 41, in inner&#10;    response = get_response(request)&#10;  File &#34;/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py&#34;, line 187, in _get_response&#10;    response = self.process_exception_by_middleware(e, request)&#10;  File &#34;/usr/local/lib/python2.7/dist-packages/django/core/handlers/base.py&#34;, line 185, in _get_response&#10;    response = wrapped_callback(request, *callback_args, **callback_kwargs)&#10;  File &#34;/opt/graphite/webapp/graphite/render/views.py&#34;, line 117, in renderView&#10;    data.extend(evaluateTarget(requestContext, targets))&#10;  File &#34;/opt/graphite/webapp/graphite/render/evaluator.py&#34;, line 15, in evaluateTarget&#10;    prefetchData(requestContext, pathExpressions)&#10;  File &#34;/opt/graphite/webapp/graphite/render/datalib.py&#34;, line 257, in prefetchData&#10;    for result in STORE.fetch(pathExpressions, startTime, endTime, now, requestContext):&#10;  File &#34;/opt/graphite/webapp/graphite/storage.py&#34;, line 179, in fetch&#10;    **'fetch for %s' % str(patterns))&#10;  File &#34;/opt/graphite/webapp/graphite/storage.py&#34;, line 121, in wait_jobs&#10;    raise Exception(message)&#10;Exception: Timed out after 30.000137s for fetch for [u'aliasByNode']&#10;&#10;</pre>&#10;</div>&#10;&#10;</center>&#10;**`\r\n\r\nthanks a lot.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2524", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2524/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2524/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2524/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2524", "id": 547414694, "node_id": "MDU6SXNzdWU1NDc0MTQ2OTQ=", "number": 2524, "title": "whisper-resize.py files is missing in graphite 1.1.2 ", "user": {"login": "panditb", "id": 59690214, "node_id": "MDQ6VXNlcjU5NjkwMjE0", "avatar_url": "https://avatars1.githubusercontent.com/u/59690214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/panditb", "html_url": "https://github.com/panditb", "followers_url": "https://api.github.com/users/panditb/followers", "following_url": "https://api.github.com/users/panditb/following{/other_user}", "gists_url": "https://api.github.com/users/panditb/gists{/gist_id}", "starred_url": "https://api.github.com/users/panditb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/panditb/subscriptions", "organizations_url": "https://api.github.com/users/panditb/orgs", "repos_url": "https://api.github.com/users/panditb/repos", "events_url": "https://api.github.com/users/panditb/events{/privacy}", "received_events_url": "https://api.github.com/users/panditb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-01-09T11:17:02Z", "updated_at": "2020-01-22T09:48:00Z", "closed_at": "2020-01-22T09:48:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "As per the documentation changing the rententions pattern in storage-schemas.conf will not affect for existing .wsp file ie mean existing metrics key ,\r\nChanging this file will not affect already-created .wsp files. Use **whisper-resize.py** to change those.\r\n\r\nBut in this version i am not able to find the \"whisper-resize.py\" file, can you check on this ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2522", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2522/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2522/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2522/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2522", "id": 536826833, "node_id": "MDU6SXNzdWU1MzY4MjY4MzM=", "number": 2522, "title": "we need a \"safe\" divideSeriesLists that divides by name", "user": {"login": "Dieterbe", "id": 20774, "node_id": "MDQ6VXNlcjIwNzc0", "avatar_url": "https://avatars2.githubusercontent.com/u/20774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dieterbe", "html_url": "https://github.com/Dieterbe", "followers_url": "https://api.github.com/users/Dieterbe/followers", "following_url": "https://api.github.com/users/Dieterbe/following{/other_user}", "gists_url": "https://api.github.com/users/Dieterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dieterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dieterbe/subscriptions", "organizations_url": "https://api.github.com/users/Dieterbe/orgs", "repos_url": "https://api.github.com/users/Dieterbe/repos", "events_url": "https://api.github.com/users/Dieterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/Dieterbe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571164, "node_id": "MDU6TGFiZWw0NTcxMTY0", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-12T08:28:01Z", "updated_at": "2020-04-20T20:39:19Z", "closed_at": "2020-04-20T20:39:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "related: #2429 \r\n\r\nthe problem with divideSeriesLists is that it divides list1[0] by list2[0], list1[1] by list2[1] and so on.\r\n\r\nvery commonly, the dividendlist and divisorlist have a specific name and should be matched up by name and divided by one another. This is problematic to do with divideSeriesLists because it is not aware of names. even if both lists are sorted, it's possible for example, for each one to miss one, in a different position, which results in dividing wrong pairs.\r\n\r\nSimilarly, when one misses a serie but the other doesn't the entire request fails.\r\nit would be better to divide all the ones we can and report the other ones as MISSING with None values, similar to asPercent()", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2519", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2519/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2519/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2519/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2519", "id": 533240112, "node_id": "MDU6SXNzdWU1MzMyNDAxMTI=", "number": 2519, "title": "[Q] Undocumented use of Graphite POST Requests", "user": {"login": "SUL-sj", "id": 25434102, "node_id": "MDQ6VXNlcjI1NDM0MTAy", "avatar_url": "https://avatars0.githubusercontent.com/u/25434102?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SUL-sj", "html_url": "https://github.com/SUL-sj", "followers_url": "https://api.github.com/users/SUL-sj/followers", "following_url": "https://api.github.com/users/SUL-sj/following{/other_user}", "gists_url": "https://api.github.com/users/SUL-sj/gists{/gist_id}", "starred_url": "https://api.github.com/users/SUL-sj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SUL-sj/subscriptions", "organizations_url": "https://api.github.com/users/SUL-sj/orgs", "repos_url": "https://api.github.com/users/SUL-sj/repos", "events_url": "https://api.github.com/users/SUL-sj/events{/privacy}", "received_events_url": "https://api.github.com/users/SUL-sj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-12-05T09:52:28Z", "updated_at": "2020-04-20T20:39:18Z", "closed_at": "2020-04-20T20:39:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a question regarding your use of the Graphite HTTP API with _POST_ as seen [here](https://github.com/graphite-project/graphite-web/blob/537b184a49ec94f5a0161738fa4898492e96c5cd/webapp/graphite/metrics/views.py#L56). The [Graphite HTTP API Documentation](https://graphite-api.readthedocs.io/en/latest/api.html) doesn't mention any use of _POST_ Requests - only _GET_. Is there a reference for this implementation?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2518", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2518/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2518/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2518/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2518", "id": 530735185, "node_id": "MDU6SXNzdWU1MzA3MzUxODU=", "number": 2518, "title": "[BUG] SVG rendering returns bytes object, leading to XML Parsing Error", "user": {"login": "dueringa", "id": 271125, "node_id": "MDQ6VXNlcjI3MTEyNQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/271125?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dueringa", "html_url": "https://github.com/dueringa", "followers_url": "https://api.github.com/users/dueringa/followers", "following_url": "https://api.github.com/users/dueringa/following{/other_user}", "gists_url": "https://api.github.com/users/dueringa/gists{/gist_id}", "starred_url": "https://api.github.com/users/dueringa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dueringa/subscriptions", "organizations_url": "https://api.github.com/users/dueringa/orgs", "repos_url": "https://api.github.com/users/dueringa/repos", "events_url": "https://api.github.com/users/dueringa/events{/privacy}", "received_events_url": "https://api.github.com/users/dueringa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-12-01T13:53:31Z", "updated_at": "2020-04-13T12:07:43Z", "closed_at": "2020-04-13T12:07:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Describe the bug**\r\nWhen attempting to render an SVG file, I get an \"XML Parsing Error: not well-formed [...] Line Number 1, Column 2:\" in Firefox.\r\n\r\n```\r\nb'<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n ...\r\n```\r\nNote the b' in the beginning, it looks like a string representation of a bytes object is returned\r\n\r\n**To Reproduce**\r\nEnter the rendering URL https://example.com/render?&target=test.count&format=svg\r\n\r\n**Expected behavior**\r\nThe requests succeeds with a valid SVG file.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Environment (please complete the following information):**\r\n - Debian Buster\r\n - Graphite-web version 1.1.6\r\n - Python 3.7.3\r\n - Django version 2.2.7\r\n - graphite-web and Django installed via pip from pypi (pip install graphite-web) in a venv\r\n - run/started via uwsgi (also installed in venv), served by nginx\r\n\r\n**Additional context**\r\n\r\nuwsgi ini file:\r\n```\r\n[uwsgi]\r\nprocesses = 1\r\nsocket = localhost:12222\r\nvirtualenv = /opt/graphite\r\nchdir = /opt/graphite/conf\r\nmodule = wsgi:application\r\n```\r\n\r\n```\r\n# conf/wsgi.py \r\nimport sys\r\nimport os\r\n\r\nsys.path.append('/opt/graphite/webapp')\r\n\r\nfrom graphite.wsgi import application\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2516", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2516/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2516/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2516/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2516", "id": 522906583, "node_id": "MDU6SXNzdWU1MjI5MDY1ODM=", "number": 2516, "title": "A function to filter out N latest data points?", "user": {"login": "patkovskyi", "id": 1560240, "node_id": "MDQ6VXNlcjE1NjAyNDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1560240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patkovskyi", "html_url": "https://github.com/patkovskyi", "followers_url": "https://api.github.com/users/patkovskyi/followers", "following_url": "https://api.github.com/users/patkovskyi/following{/other_user}", "gists_url": "https://api.github.com/users/patkovskyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/patkovskyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patkovskyi/subscriptions", "organizations_url": "https://api.github.com/users/patkovskyi/orgs", "repos_url": "https://api.github.com/users/patkovskyi/repos", "events_url": "https://api.github.com/users/patkovskyi/events{/privacy}", "received_events_url": "https://api.github.com/users/patkovskyi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-14T14:48:11Z", "updated_at": "2020-04-20T20:39:16Z", "closed_at": "2020-04-20T20:39:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...** \r\n[X] feature request\r\n\r\nI believe a function that returns the original series without N latest data points would be extremely useful for handling incomplete data:\r\n\r\nhttps://github.com/graphite-project/graphite-web/issues/2514\r\nhttps://stackoverflow.com/questions/28021170/grafana-renders-data-incorrectly-for-the-last-minute", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2515", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2515/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2515/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2515/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2515", "id": 522849110, "node_id": "MDU6SXNzdWU1MjI4NDkxMTA=", "number": 2515, "title": "Migrate out of ISSUE_TEMPLATE.md to new template system", "user": {"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120605376, "node_id": "MDU6TGFiZWwxMjA2MDUzNzY=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/documentation", "name": "documentation", "color": "fbca04", "default": true, "description": null}, {"id": 4571164, "node_id": "MDU6TGFiZWw0NTcxMTY0", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-11-14T13:13:25Z", "updated_at": "2020-01-19T20:23:20Z", "closed_at": "2020-01-19T20:23:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Github doc: https://help.github.com/en/github/building-a-strong-community/configuring-issue-templates-for-your-repository#creating-issue-templates\r\n\r\nAlso, we need to modify template, because we're also support generic support requests in github issues (or do we?)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2514", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2514/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2514/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2514/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2514", "id": 522842412, "node_id": "MDU6SXNzdWU1MjI4NDI0MTI=", "number": 2514, "title": "Timeshift shifts last value(s) incorrectly", "user": {"login": "patkovskyi", "id": 1560240, "node_id": "MDQ6VXNlcjE1NjAyNDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1560240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patkovskyi", "html_url": "https://github.com/patkovskyi", "followers_url": "https://api.github.com/users/patkovskyi/followers", "following_url": "https://api.github.com/users/patkovskyi/following{/other_user}", "gists_url": "https://api.github.com/users/patkovskyi/gists{/gist_id}", "starred_url": "https://api.github.com/users/patkovskyi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patkovskyi/subscriptions", "organizations_url": "https://api.github.com/users/patkovskyi/orgs", "repos_url": "https://api.github.com/users/patkovskyi/repos", "events_url": "https://api.github.com/users/patkovskyi/events{/privacy}", "received_events_url": "https://api.github.com/users/patkovskyi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-14T13:01:36Z", "updated_at": "2020-04-20T20:39:15Z", "closed_at": "2020-04-20T20:39:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "**I'm submitting a ...** \r\n[X] bug report\r\n\r\n**Please do not submit support requests or \"How to\" questions here. Instead, please use one of these channels: https://forum.ionicframework.com/ or http://ionicworldwide.herokuapp.com/** Hm, those channels seem completely unrelated to Graphite.\r\n\r\n**Current behavior:**\r\nWhen I apply a timeshift, the last value of an output metric seems to be the actual last value, not the timeshifted value.\r\n\r\n**Expected behavior:**\r\nTimeshift shifts all values correctly, properly shifting the last ones into the future OR removing the ones that are shifted into the future?\r\n\r\n**Steps to reproduce:**\r\nCreate a metric that produces events at a steady rate (say, 1 event/sec).\r\nUse count & nonNegativeDerivative & summarize to summarize it per 1m buckets.\r\nThe last bucket will be problematic because it always has incomplete data.\r\nApplying `timeshift(1m)` or even `timeshift(10m)` for some reason does not solve the problem \u2014 the series look shifted but the last value is still incomplete. Why?\r\n\r\n**Other information:**\r\nMy metric: `timeShift(groupByNode(summarize(nonNegativeDerivative(transformNull(ecs.core.sso.prod.service.*.timer.GET?health.exception.none.status.200.test.*.count, 0)), '1m', 'sum', false), 7, 'sum'), '2m')`\r\n\r\n<img width=\"840\" alt=\"Screen Shot 2019-11-14 at 2 50 29 PM\" src=\"https://user-images.githubusercontent.com/1560240/68859273-941b7800-06ef-11ea-8e7f-fb232d8e7531.png\">\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2511", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2511/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2511/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2511/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2511", "id": 520822944, "node_id": "MDU6SXNzdWU1MjA4MjI5NDQ=", "number": 2511, "title": "Non-integer thresholds for functions like maximumAbove etc.", "user": {"login": "PhilippWendler", "id": 2545335, "node_id": "MDQ6VXNlcjI1NDUzMzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2545335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PhilippWendler", "html_url": "https://github.com/PhilippWendler", "followers_url": "https://api.github.com/users/PhilippWendler/followers", "following_url": "https://api.github.com/users/PhilippWendler/following{/other_user}", "gists_url": "https://api.github.com/users/PhilippWendler/gists{/gist_id}", "starred_url": "https://api.github.com/users/PhilippWendler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PhilippWendler/subscriptions", "organizations_url": "https://api.github.com/users/PhilippWendler/orgs", "repos_url": "https://api.github.com/users/PhilippWendler/repos", "events_url": "https://api.github.com/users/PhilippWendler/events{/privacy}", "received_events_url": "https://api.github.com/users/PhilippWendler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-11T09:03:05Z", "updated_at": "2020-01-31T19:36:19Z", "closed_at": "2020-01-31T19:36:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**I'm submitting a ...** \r\n- [x] bug report\r\n- [ ] feature request\r\n\r\n**Current behavior:**\r\n\r\nSince Graphite 1.1.6 we get a lot of warnings in our Graphite log of the following form:\r\n```\r\nReceived invalid parameters (Invalid integer value specified for function \"maximumAbove\" parameter \"n\"): maximumAbove ([TimeSeries...], 0.1)\r\n```\r\nThis also occurs with `removeBelowValue` and probably all the other functions that take a threshold.\r\n\r\nThe query **still works** and has the expected behavior.\r\n\r\nThe reason for this seems to be that the parameter-validation logic checks for an integer, although these functions actually support a float as well. Note that in many cases a non-integer threshold is quite useful.\r\n\r\n**Expected behavior:**\r\nNo warning should be logged for non-integer thresholds and the function should continue to work as it currently does. Probably the documentation should also be clarified and state that non-integer thresholds are supported (currently it does not say anything explicitly, but the [wording](https://graphite.readthedocs.io/en/latest/functions.html#graphite.render.functions.maximumAbove) `constant n` might hint at integer-only thresholds).\r\n\r\n**Steps to reproduce:**\r\nJust call the `maximumAbove` function with a non-integer threshold.\r\n\r\n**Related code:**\r\nhttps://github.com/graphite-project/graphite-web/blob/master/webapp/graphite/render/functions.py#L2930\r\n(and similar for the other functions)\r\n\r\nFor completeness, we are accessing Graphite through Grafana. A full query looks like this for example: `maximumAbove(perSecond(collectd.$hostname.cgroup.*.counter.blkio_throttle_io_serviced_*), 0.1)`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2509", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2509/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2509/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2509/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2509", "id": 519632374, "node_id": "MDU6SXNzdWU1MTk2MzIzNzQ=", "number": 2509, "title": "sending different values with same timestamp", "user": {"login": "mashal1996", "id": 46812120, "node_id": "MDQ6VXNlcjQ2ODEyMTIw", "avatar_url": "https://avatars1.githubusercontent.com/u/46812120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mashal1996", "html_url": "https://github.com/mashal1996", "followers_url": "https://api.github.com/users/mashal1996/followers", "following_url": "https://api.github.com/users/mashal1996/following{/other_user}", "gists_url": "https://api.github.com/users/mashal1996/gists{/gist_id}", "starred_url": "https://api.github.com/users/mashal1996/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mashal1996/subscriptions", "organizations_url": "https://api.github.com/users/mashal1996/orgs", "repos_url": "https://api.github.com/users/mashal1996/repos", "events_url": "https://api.github.com/users/mashal1996/events{/privacy}", "received_events_url": "https://api.github.com/users/mashal1996/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-08T03:08:09Z", "updated_at": "2020-04-20T20:39:13Z", "closed_at": "2020-04-20T20:39:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi \r\nI am trying to send different values with same timestamp:\r\nfor example,\r\nmy.useful.metric 322   1414516234 \r\nmy.useful.metric 522   1414516234\r\nmy.useful.metric 26     1414516234\r\nmy.useful.metric 222   1414516234\r\nmy.useful.metric 3256 1414516234\r\n\r\nthe problem, graphite will display the last value 3256, but I want to aggregate all of them to get 4348\r\n\r\nRegards", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2508", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2508/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2508/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2508/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2508", "id": 513550147, "node_id": "MDU6SXNzdWU1MTM1NTAxNDc=", "number": 2508, "title": "functions like aggregate and groupByNodes docs and validation not in sync with allowed callbacks", "user": {"login": "Dieterbe", "id": 20774, "node_id": "MDQ6VXNlcjIwNzc0", "avatar_url": "https://avatars2.githubusercontent.com/u/20774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dieterbe", "html_url": "https://github.com/Dieterbe", "followers_url": "https://api.github.com/users/Dieterbe/followers", "following_url": "https://api.github.com/users/Dieterbe/following{/other_user}", "gists_url": "https://api.github.com/users/Dieterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dieterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dieterbe/subscriptions", "organizations_url": "https://api.github.com/users/Dieterbe/orgs", "repos_url": "https://api.github.com/users/Dieterbe/repos", "events_url": "https://api.github.com/users/Dieterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/Dieterbe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-10-28T20:49:50Z", "updated_at": "2020-01-20T17:45:02Z", "closed_at": "2020-01-20T17:45:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "some functions have a mismatch between aggregation callbacks that the code allows, what the docs say, and what validation checks for.\r\n\r\n## example one. \"aggregate\".\r\n\r\n`def aggregate` looks like so:\r\n```\r\n  # strip Series from func if func was passed like sumSeries\r\n  rawFunc = func\r\n  if func[-6:] == 'Series':\r\n    func = func[:-6]\r\n\r\n  consolidationFunc = getAggFunc(func, rawFunc)\r\n...\r\nParam('func', ParamTypes.aggFunc, required=True, options=aggFuncNames),\r\n```\r\n\r\nwhich refers to:\r\n```\r\n# Series Functions\r\n\r\naggFuncs = {\r\n  'average': safeAvg,\r\n  'avg_zero': safeAvgZero,\r\n  'median': safeMedian,\r\n  'sum': safeSum,\r\n  'min': safeMin,\r\n  'max': safeMax,\r\n  'diff': safeDiff,\r\n  'stddev': safeStdDev,\r\n  'count': safeLen,\r\n  'range': lambda row: safeSubtract(safeMax(row), safeMin(row)),\r\n  'multiply': lambda row: safeMul(*row),\r\n  'last': safeLast,\r\n}\r\n\r\naggFuncAliases = {\r\n  'rangeOf': aggFuncs['range'],\r\n  'avg': aggFuncs['average'],\r\n  'total': aggFuncs['sum'],\r\n  'current': aggFuncs['last'],\r\n}\r\n\r\naggFuncNames = sorted(aggFuncs.keys()) + sorted(aggFuncAliases.keys())\r\n\r\ndef getAggFunc(func, rawFunc=None):\r\n  if func in aggFuncs:\r\n    return aggFuncs[func]\r\n  if func in aggFuncAliases:\r\n    return aggFuncAliases[func]\r\n  raise InputParameterError('Unsupported aggregation function: %s' % (rawFunc or func))\r\n```\r\nthe docs say:\r\n```\r\nThis function can be used with aggregation functions average (or avg), avg_zero, median, sum (or total), min, max, diff, stddev, count, range (or rangeOf) , multiply & last (or current).\r\n```\r\n-> while the validation (if enabled) disallows it, and the documentation doesn't mention it, aggregate accepts any aggregation function ending on \"Series\" which also exist as standalone processing functions (e.g. \"maxSeries\") or also ones that don't exist as standalone functions (e.g. \"lastSeries\")\r\n\r\n## example two. groupByNode.\r\n\r\nlikewise, it declares its param like so:\r\n```\r\n  Param('callback', ParamTypes.aggFunc, required=True, options=aggFuncNames),\r\n```\r\n\r\nbut the code does this:\r\n```\r\n    if callback in SeriesFunctions:\r\n      metaSeries[key] = SeriesFunctions[callback](requestContext, metaSeries[key])[0]\r\n    else:\r\n      metaSeries[key] = aggregate(requestContext, metaSeries[key], callback)[0]\r\n```\r\n\r\nDocs:\r\n```\r\nThis function can be used with all aggregation functions supported by aggregate: average, median, sum, min, max, diff, stddev, range & multiply.\r\n```\r\n-> as it calls `aggregate` it obviously suffers from the same discrepancy as aggregate explained above, but even more so `SeriesFunctions` is [a huge collection of functions](https://github.com/graphite-project/graphite-web/blob/021cfe62c836ec952e170e9cc7813efd34e02403/webapp/graphite/render/functions.py#L5786-L5951), while the validation doesn't allow anywhere near it, and the documentation doesn't mention them", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2498", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2498/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2498/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2498/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2498", "id": 505910288, "node_id": "MDU6SXNzdWU1MDU5MTAyODg=", "number": 2498, "title": "Image rendering leaves a lot of empty space under long legend", "user": {"login": "skaurus", "id": 57472, "node_id": "MDQ6VXNlcjU3NDcy", "avatar_url": "https://avatars3.githubusercontent.com/u/57472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skaurus", "html_url": "https://github.com/skaurus", "followers_url": "https://api.github.com/users/skaurus/followers", "following_url": "https://api.github.com/users/skaurus/following{/other_user}", "gists_url": "https://api.github.com/users/skaurus/gists{/gist_id}", "starred_url": "https://api.github.com/users/skaurus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skaurus/subscriptions", "organizations_url": "https://api.github.com/users/skaurus/orgs", "repos_url": "https://api.github.com/users/skaurus/repos", "events_url": "https://api.github.com/users/skaurus/events{/privacy}", "received_events_url": "https://api.github.com/users/skaurus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-10-11T15:12:07Z", "updated_at": "2019-10-11T16:18:53Z", "closed_at": "2019-10-11T15:53:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- ISSUES MISSING IMPORTANT INFORMATION MAY BE CLOSED WITHOUT INVESTIGATION. -->\r\n\r\n\r\n\r\n**I'm submitting a ...** \r\n<!--  (check one with \"x\") -->\r\n[x] bug report\r\n[ ] feature request\r\n\r\n<!-- Please do not submit support requests or \"How to\" questions here. Instead, please use one of these channels: https://forum.ionicframework.com/ or http://ionicworldwide.herokuapp.com/ -->\r\n\r\n**Current behavior:**\r\n<!-- Describe how the bug manifests. -->\r\nWnen using Graphite render to image api, Graphite leaves empty space below legend - the longer legend is, the bigger empty space. When there is just one metric, the distance between legend and lower border of the image is about 5px. When there is five metrics, it is about 13px. And for twenty three, about 108px. At this point this empty space takes more height than the graph itself in my scenario.\r\nImages: https://i.imgur.com/qcGX338.png https://i.imgur.com/OC8nLxg.png https://i.imgur.com/E8kcExx.png\r\n\r\n**Expected behavior:**\r\n<!-- Describe what the behavior would be without the bug. -->\r\nI would expect that empty space will not grow with metrics count.\r\n\r\n**Steps to reproduce:**\r\n<!--  Please explain the steps required to duplicate the issue, especially if you are able to provide a sample application. -->\r\nI believe there are no some special steps. Just `/render?width=460&from=-60minutes&until=-&height=500&hideLegend=false&target=some.avg.metric.*`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2494", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2494/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2494/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2494/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2494", "id": 503689090, "node_id": "MDU6SXNzdWU1MDM2ODkwOTA=", "number": 2494, "title": "groupByNodes support \"avg\" as alias for \"average\"?", "user": {"login": "Dieterbe", "id": 20774, "node_id": "MDQ6VXNlcjIwNzc0", "avatar_url": "https://avatars2.githubusercontent.com/u/20774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dieterbe", "html_url": "https://github.com/Dieterbe", "followers_url": "https://api.github.com/users/Dieterbe/followers", "following_url": "https://api.github.com/users/Dieterbe/following{/other_user}", "gists_url": "https://api.github.com/users/Dieterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dieterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dieterbe/subscriptions", "organizations_url": "https://api.github.com/users/Dieterbe/orgs", "repos_url": "https://api.github.com/users/Dieterbe/repos", "events_url": "https://api.github.com/users/Dieterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/Dieterbe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-07T21:01:37Z", "updated_at": "2019-10-08T16:18:16Z", "closed_at": "2019-10-08T16:18:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "today i enabled GRAPHITE_ENFORCE_INPUT_VALIDATION and found out that queries like `groupByNode(..., 6, 'avg')` lead to:\r\n\r\n```\r\nHTTP 400\r\nBad Request: Invalid option specified for function \"groupByNodes\" parameter \"callback\"\r\n```\r\nnote that this used to work fine before. can we add \"avg\" as a supported alias?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2492", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2492/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2492/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2492/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2492", "id": 501339198, "node_id": "MDU6SXNzdWU1MDEzMzkxOTg=", "number": 2492, "title": "All static files like ext-all.js are missing this leads to a blank page", "user": {"login": "nook24", "id": 9019992, "node_id": "MDQ6VXNlcjkwMTk5OTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/9019992?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nook24", "html_url": "https://github.com/nook24", "followers_url": "https://api.github.com/users/nook24/followers", "following_url": "https://api.github.com/users/nook24/following{/other_user}", "gists_url": "https://api.github.com/users/nook24/gists{/gist_id}", "starred_url": "https://api.github.com/users/nook24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nook24/subscriptions", "organizations_url": "https://api.github.com/users/nook24/orgs", "repos_url": "https://api.github.com/users/nook24/repos", "events_url": "https://api.github.com/users/nook24/events{/privacy}", "received_events_url": "https://api.github.com/users/nook24/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-02T08:06:08Z", "updated_at": "2019-10-02T10:11:29Z", "closed_at": "2019-10-02T10:11:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**I'm submitting a ...** \r\n<!--  (check one with \"x\") -->\r\n[x] bug report\r\n[ ] feature request\r\n\r\n**Current behavior:**\r\nI have the issue that all static files for graphite web are missing.\r\nIf i run `ls -la /opt/graphite/static/` there is only an `admin` folder which does not contain files like `ext-all.js`\r\n\r\n![Bildschirmfoto 2019-10-02 um 09 42 50](https://user-images.githubusercontent.com/9019992/66027678-b40a2a00-e4fb-11e9-9eaa-1f1523c32afb.png)\r\nI read a lot about this issue online and it seems that this is also a common issue for years (#2427 #858 #2409).\r\nUnfortunately i wasn't able to solve it.\r\n\r\n**Expected behavior:**\r\nStatic files should not be missing.\r\n\r\n**Steps to reproduce:**\r\n```\r\ngit clone -b py3 https://github.com/it-novum/graphing-docker.git\r\ncd graphing-docker/graphite-web/\r\n```\r\n\r\nBuild docker image\r\n```\r\ndocker build --rm -t openitcockpit/graphite-web:latest .\r\n```\r\n\r\nRun docker container\r\n```\r\ndocker run -t -i --rm \\\r\n--name=graphite-web \\\r\n-p 0.0.0.0:8888:8080 \\\r\nopenitcockpit/graphite-web\r\n```\r\n\r\nAlternative: Run docker container and start a shell for debugging\r\n```\r\ndocker run -t -i --rm \\\r\n--name=graphite-web \\\r\n-p 0.0.0.0:8888:8080 \\\r\nopenitcockpit/graphite-web /bin/sh\r\n```\r\n\r\nNavigate to port 8888 in your web browser.\r\n\r\n\r\n**Other information:**\r\nI am using the master branch of graphite for this\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2491", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2491/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2491/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2491/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2491", "id": 500582779, "node_id": "MDU6SXNzdWU1MDA1ODI3Nzk=", "number": 2491, "title": "Please open a security advisory", "user": {"login": "JLLeitschuh", "id": 1323708, "node_id": "MDQ6VXNlcjEzMjM3MDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1323708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JLLeitschuh", "html_url": "https://github.com/JLLeitschuh", "followers_url": "https://api.github.com/users/JLLeitschuh/followers", "following_url": "https://api.github.com/users/JLLeitschuh/following{/other_user}", "gists_url": "https://api.github.com/users/JLLeitschuh/gists{/gist_id}", "starred_url": "https://api.github.com/users/JLLeitschuh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JLLeitschuh/subscriptions", "organizations_url": "https://api.github.com/users/JLLeitschuh/orgs", "repos_url": "https://api.github.com/users/JLLeitschuh/repos", "events_url": "https://api.github.com/users/JLLeitschuh/events{/privacy}", "received_events_url": "https://api.github.com/users/JLLeitschuh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-30T23:51:06Z", "updated_at": "2019-10-01T18:39:39Z", "closed_at": "2019-10-01T18:39:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/graphite-project/graphite-web/security/advisories\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2489", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2489/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2489/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2489/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2489", "id": 497530069, "node_id": "MDU6SXNzdWU0OTc1MzAwNjk=", "number": 2489, "title": "bug: keepLastValue INF parsing buggy", "user": {"login": "Dieterbe", "id": 20774, "node_id": "MDQ6VXNlcjIwNzc0", "avatar_url": "https://avatars2.githubusercontent.com/u/20774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dieterbe", "html_url": "https://github.com/Dieterbe", "followers_url": "https://api.github.com/users/Dieterbe/followers", "following_url": "https://api.github.com/users/Dieterbe/following{/other_user}", "gists_url": "https://api.github.com/users/Dieterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dieterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dieterbe/subscriptions", "organizations_url": "https://api.github.com/users/Dieterbe/orgs", "repos_url": "https://api.github.com/users/Dieterbe/repos", "events_url": "https://api.github.com/users/Dieterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/Dieterbe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-24T08:14:01Z", "updated_at": "2020-04-20T20:39:14Z", "closed_at": "2020-04-20T20:39:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "from https://github.com/grafana/metrictank/pull/1317#issuecomment-494397300\r\n\r\n> graphite-web doesn't handle a bare INF properly either, it interprets it as a series path, tries to find the series INF, and passes an empty array to keepLastValue. We should really fix the bug in graphite-web rather than duplicating the bad behavior here. To do that we'll need to update webapp/render/grammar.py to properly interpret INF, and update keepLastValue to stop interpreting random strings as meaning no limit. Longer-term I'd like to see keepLastValue updated to support specifying a time range string in addition to a number of points.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2486", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2486/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2486/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2486/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2486", "id": 494402594, "node_id": "MDU6SXNzdWU0OTQ0MDI1OTQ=", "number": 2486, "title": " No module named 'graphite'", "user": {"login": "werowe", "id": 7605129, "node_id": "MDQ6VXNlcjc2MDUxMjk=", "avatar_url": "https://avatars1.githubusercontent.com/u/7605129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/werowe", "html_url": "https://github.com/werowe", "followers_url": "https://api.github.com/users/werowe/followers", "following_url": "https://api.github.com/users/werowe/following{/other_user}", "gists_url": "https://api.github.com/users/werowe/gists{/gist_id}", "starred_url": "https://api.github.com/users/werowe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/werowe/subscriptions", "organizations_url": "https://api.github.com/users/werowe/orgs", "repos_url": "https://api.github.com/users/werowe/repos", "events_url": "https://api.github.com/users/werowe/events{/privacy}", "received_events_url": "https://api.github.com/users/werowe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-17T05:03:56Z", "updated_at": "2020-04-20T20:39:09Z", "closed_at": "2020-04-20T20:39:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would someone look at this error as I have seen it asked twice on StackOverflow with no response.  It's an installation issue:\r\n\r\nhttps://stackoverflow.com/questions/57932901/graphite-django-admin-py-raise-improperlyconfiguredthe-secret-key-setting-must\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2485", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2485/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2485/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2485/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2485", "id": 493730475, "node_id": "MDU6SXNzdWU0OTM3MzA0NzU=", "number": 2485, "title": "Aggregate function behaviour for series with differing start dates", "user": {"login": "prsephton", "id": 1478492, "node_id": "MDQ6VXNlcjE0Nzg0OTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1478492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/prsephton", "html_url": "https://github.com/prsephton", "followers_url": "https://api.github.com/users/prsephton/followers", "following_url": "https://api.github.com/users/prsephton/following{/other_user}", "gists_url": "https://api.github.com/users/prsephton/gists{/gist_id}", "starred_url": "https://api.github.com/users/prsephton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/prsephton/subscriptions", "organizations_url": "https://api.github.com/users/prsephton/orgs", "repos_url": "https://api.github.com/users/prsephton/repos", "events_url": "https://api.github.com/users/prsephton/events{/privacy}", "received_events_url": "https://api.github.com/users/prsephton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-15T12:14:58Z", "updated_at": "2019-09-17T06:02:46Z", "closed_at": "2019-09-17T06:02:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Apparently the aggregate function uses izip_longest on the series list to return tuples which it then passes to the individual aggregators, eg. 'diff'.\r\n\r\nConsider two series a, b of identical periodicity (step value) where a starts after b.  The first time izip_longest function is called, will simply build a tuple using the first values of a & b, for which the dates may not match at all.  The 'diff' therefore compares values which do not relate to each other in any way.  This is illogical.\r\n\r\nThe normalize() function might be expected to ensure that, for example, all series start dates are the same, and that the period (or step value) for all series are the same by padding with nulls as appropriate.  It doesn't seem to be doing that, but only returns the minimum start date and maximum end date.\r\n\r\nWhat one might expect is that the difference between series subtracts the subsequent series from the first where the dates match, or if a subsequent series has a null value for a given point, the preceding non-null value is used.  For example, consider:\r\n```\r\n     a[1,2,3,None] - b[1,2,None,4]       with a step value of 60 where a & b start at the same time.\r\n     a - b  might be expected to be \r\n          a[ 1, 2,     3, None] \r\n        - b[ 1, 2, None,     4]\r\n      =    [ 0, 0,     1, None]   (1-1, 2-2, 3-2, None-4)\r\n```\r\nNow assume (b) starts a minute after (a);  This effectively shifts (b) by step=60 to the right so we should have:\r\n``` \r\n    b[None,1,2,None,4]\r\n    a[1,2,3,None] - b[None,1,2,None,4] = \r\n        a[   1,    2,     3, None,  None] -\r\n -      b[None,    1,     2, None,     4]\r\n =       [None,    1,     1, None,  None]\r\n```\r\nInstead of the above, we currently do:  agg_fn(zip(a[1,2,3,None], b[1,2,None,4]))  and don't care when a series starts.  Afterwards we set start to min(start of all series) and end to max(end of all series), but the calculation may be suspect.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2484", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2484/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2484/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2484/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2484", "id": 489963788, "node_id": "MDU6SXNzdWU0ODk5NjM3ODg=", "number": 2484, "title": "Problem returning x axis timeseries data in desired format: javascript timestamp", "user": {"login": "NucleaPeon", "id": 1475151, "node_id": "MDQ6VXNlcjE0NzUxNTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/1475151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/NucleaPeon", "html_url": "https://github.com/NucleaPeon", "followers_url": "https://api.github.com/users/NucleaPeon/followers", "following_url": "https://api.github.com/users/NucleaPeon/following{/other_user}", "gists_url": "https://api.github.com/users/NucleaPeon/gists{/gist_id}", "starred_url": "https://api.github.com/users/NucleaPeon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/NucleaPeon/subscriptions", "organizations_url": "https://api.github.com/users/NucleaPeon/orgs", "repos_url": "https://api.github.com/users/NucleaPeon/repos", "events_url": "https://api.github.com/users/NucleaPeon/events{/privacy}", "received_events_url": "https://api.github.com/users/NucleaPeon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-09-05T19:41:52Z", "updated_at": "2020-04-20T20:39:08Z", "closed_at": "2020-04-20T20:39:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm writing a web application that pulls data from graphite and puts it into a d3.js graph.\r\n\r\nJavascript as you probably know has a timestamp format with milliseconds, whereas python does not. I'm hoping to have the graphite data return the x axis time series with milliseconds (basically multiplying all x series data points by 1000) using some function or similar parameter. I thought this would be an easy task, but I'm encountering some trouble. I asked a friend who is more familiar with graphite and she did not find an answer for me, so I'm filing this issue for help.\r\n\r\nI've looked into `scale()` and `group()` functions, but I don't think they are what I want. \r\nWhat confounds me is that in the `render api` portion of the docs mentions different `format` options and the `dygraph` example in particular returns timeseries with the desirable time format, but shows no indication of how to toggle just that. So I think the functionality is there, but am unable to access it. \r\n\r\nThe workaround is to manually multiply all x axis values by 1000.\r\n\r\nIf this is indeed an issue and a solution is proposed or an existing solution is provided, I will gladly contribute documentation. If I am blind and it already exists, I sincerely apologize.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2482", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2482/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2482/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2482/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2482", "id": 488584569, "node_id": "MDU6SXNzdWU0ODg1ODQ1Njk=", "number": 2482, "title": "I get 403 error and failed to post metrics for graphite ", "user": {"login": "cleverpig", "id": 580435, "node_id": "MDQ6VXNlcjU4MDQzNQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/580435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cleverpig", "html_url": "https://github.com/cleverpig", "followers_url": "https://api.github.com/users/cleverpig/followers", "following_url": "https://api.github.com/users/cleverpig/following{/other_user}", "gists_url": "https://api.github.com/users/cleverpig/gists{/gist_id}", "starred_url": "https://api.github.com/users/cleverpig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cleverpig/subscriptions", "organizations_url": "https://api.github.com/users/cleverpig/orgs", "repos_url": "https://api.github.com/users/cleverpig/repos", "events_url": "https://api.github.com/users/cleverpig/events{/privacy}", "received_events_url": "https://api.github.com/users/cleverpig/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-03T12:46:59Z", "updated_at": "2019-09-05T08:28:07Z", "closed_at": "2019-09-05T08:28:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran 3 carbon and graphite web: carbon-cache, carbon-aggregator, carbon-reply.\r\n\r\nbut I got 403 error in graphite-httpd log every 5 minutes:\r\n\r\n```\r\n192.168.56.1 - - [03/Sep/2019:20:33:11 +0800] \"GET /graphite/composer?width=586&height=308 HTTP/1.1\" 200 1676\r\n192.168.56.1 - - [03/Sep/2019:20:33:12 +0800] \"GET /graphite/render/?width=586&height=308&_salt=1567513993.531 HTTP/1.1\" 200 1040\r\n192.168.56.1 - - [03/Sep/2019:20:33:12 +0800] \"GET /graphite/render HTTP/1.1\" 200 869\r\n192.168.56.1 - - [03/Sep/2019:20:33:12 +0800] \"GET /graphite/render/?width=586&height=308&_salt=1567513993.525 HTTP/1.1\" 200 1040\r\n192.168.56.1 - - [03/Sep/2019:20:33:19 +0800] \"GET /graphite/metrics/find/?_dc=1567514000239&query=*&format=treejson&path=&node=GraphiteTree HTTP/1.1\" 200 110\r\n...\r\n127.0.0.1 - - [03/Sep/2019:20:36:24 +0800] \"POST /tags/tagMultiSeries HTTP/1.1\" 403 221\r\n127.0.0.1 - - [03/Sep/2019:20:41:23 +0800] \"POST /tags/tagMultiSeries HTTP/1.1\" 403 221\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2481", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2481/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2481/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2481/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2481", "id": 485100837, "node_id": "MDU6SXNzdWU0ODUxMDA4Mzc=", "number": 2481, "title": "UnboundLocalError: local variable 'start' referenced before assignment", "user": {"login": "Soul-Code", "id": 33421641, "node_id": "MDQ6VXNlcjMzNDIxNjQx", "avatar_url": "https://avatars3.githubusercontent.com/u/33421641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Soul-Code", "html_url": "https://github.com/Soul-Code", "followers_url": "https://api.github.com/users/Soul-Code/followers", "following_url": "https://api.github.com/users/Soul-Code/following{/other_user}", "gists_url": "https://api.github.com/users/Soul-Code/gists{/gist_id}", "starred_url": "https://api.github.com/users/Soul-Code/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Soul-Code/subscriptions", "organizations_url": "https://api.github.com/users/Soul-Code/orgs", "repos_url": "https://api.github.com/users/Soul-Code/repos", "events_url": "https://api.github.com/users/Soul-Code/events{/privacy}", "received_events_url": "https://api.github.com/users/Soul-Code/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-26T07:57:45Z", "updated_at": "2020-04-20T20:39:07Z", "closed_at": "2020-04-20T20:39:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThis problem has recently happened to specific requests which contains 'asPercent'. The request was requested by grafana. And the version of my graphite is 1.1.2.\r\nThe bad request looks like:`alias(offset(scale(asPercent(sumSeries(path_to_frontend.frontend_*), path_to_frontend.frontend_request_count, 0), -1), 100), 'frontend_10')`\r\nDetails about this:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python2.7/site-packages/django/core/handlers/base.py\", line 132, in get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"./graphite/render/views.py\", line 117, in renderView\r\n    data.extend(evaluateTarget(requestContext, targets))\r\n  File \"./graphite/render/evaluator.py\", line 28, in evaluateTarget\r\n    result = evaluateTokens(requestContext, target)\r\n  File \"./graphite/render/evaluator.py\", line 57, in evaluateTokens\r\n    return evaluateTokens(requestContext, tokens.expression, replacements)\r\n  File \"./graphite/render/evaluator.py\", line 88, in evaluateTokens\r\n    args = [evaluateTokens(requestContext, arg, replacements) for arg in rawArgs]\r\n  File \"./graphite/render/evaluator.py\", line 57, in evaluateTokens\r\n    return evaluateTokens(requestContext, tokens.expression, replacements)\r\n  File \"./graphite/render/evaluator.py\", line 93, in evaluateTokens\r\n    return func(requestContext, *args, **kwargs)\r\n  File \"./graphite/render/functions.py\", line 899, in asPercent\r\n    resultSeries = TimeSeries(name,start,end,step,resultValues,xFilesFactor=xFilesFactor)\r\nUnboundLocalError: local variable 'start' referenced before assignment\r\n```\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2480", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2480/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2480/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2480/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2480", "id": 482805882, "node_id": "MDU6SXNzdWU0ODI4MDU4ODI=", "number": 2480, "title": "how to fix \"ImportError: No module named ...\"", "user": {"login": "TinajaLabs", "id": 921326, "node_id": "MDQ6VXNlcjkyMTMyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/921326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TinajaLabs", "html_url": "https://github.com/TinajaLabs", "followers_url": "https://api.github.com/users/TinajaLabs/followers", "following_url": "https://api.github.com/users/TinajaLabs/following{/other_user}", "gists_url": "https://api.github.com/users/TinajaLabs/gists{/gist_id}", "starred_url": "https://api.github.com/users/TinajaLabs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TinajaLabs/subscriptions", "organizations_url": "https://api.github.com/users/TinajaLabs/orgs", "repos_url": "https://api.github.com/users/TinajaLabs/repos", "events_url": "https://api.github.com/users/TinajaLabs/events{/privacy}", "received_events_url": "https://api.github.com/users/TinajaLabs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-20T11:34:13Z", "updated_at": "2020-04-20T20:39:06Z", "closed_at": "2020-04-20T20:39:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've spent too long trying to get graphite installed.  I think it might be something simple like referencing a directory with an environment error.\r\n\r\nI've tied this on a raspberry pi and i am able to run an ansible playbook (includes nsg.graphite role) and finish with graphite and grafana running.\r\n\r\nThe last few days at work I've been trying to install on centos 7.  I have now switched to ubuntu 18.04 because I thought it would work like the debian (raspbian) version that did so well.\r\n\r\nIt seems no matter what I do, I always get to some variant of the `ImportError: No module named`.\r\n\r\nI'm using the default version of python that is already installed:\r\n* Python 2.7.15+ on Ubuntu 18.04\r\n* Python 2.7.5 on Centos 7\r\n\r\nEncoded in the ansible role is this list of pip installs:\r\n1.1.3:\r\n    - attrs==17.4.0\r\n    - Automat==0.6.0\r\n    - cachetools==2.0.1\r\n    - cairocffi==0.8.0\r\n    - carbon==1.1.3\r\n    - constantly==15.1.0\r\n    - Django==1.11.17\r\n    - django-tagging==0.4.3\r\n    - graphite-web==1.1.3\r\n    - hyperlink==18.0.0\r\n    - idna==2.6\r\n    - incremental==17.5.0\r\n    - scandir==1.7\r\n    - six==1.11.0\r\n    - urllib3==1.22\r\n    - whisper==1.1.3\r\n    - mod_wsgi==4.6.5\r\n\r\n$ echo $PYTHONPATH\r\n/opt/graphite/lib:/opt/graphite/webapp\r\n\r\nCurrently, on the Ubuntu install It's breaking down on the `django-admin` command.\r\n```\r\n# whereis django-admin\r\ndjango-admin: /usr/local/bin/django-admin.pyc /usr/local/bin/django-admin /usr/local/bin/django-admin.py\r\n```\r\nTypical error from ansible:\r\n```\r\n    \"stderr_lines\": [\r\n        \"Traceback (most recent call last):\",\r\n        \"  File \\\"/usr/local/bin/django-admin.py\\\", line 5, in <module>\",\r\n        \"    management.execute_from_command_line()\",\r\n        \"  File \\\"/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py\\\", line 364, in execute_from_command_line\",\r\n        \"    utility.execute()\",\r\n        \"  File \\\"/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py\\\", line 308, in execute\",\r\n        \"    settings.INSTALLED_APPS\",\r\n        \"  File \\\"/usr/local/lib/python2.7/dist-packages/django/conf/__init__.py\\\", line 56, in __getattr__\",\r\n        \"    self._setup(name)\",\r\n        \"  File \\\"/usr/local/lib/python2.7/dist-packages/django/conf/__init__.py\\\", line 41, in _setup\",\r\n        \"    self._wrapped = Settings(settings_module)\",\r\n        \"  File \\\"/usr/local/lib/python2.7/dist-packages/django/conf/__init__.py\\\", line 110, in __init__\",\r\n        \"    mod = importlib.import_module(self.SETTINGS_MODULE)\",\r\n        \"  File \\\"/usr/lib/python2.7/importlib/__init__.py\\\", line 37, in import_module\",\r\n        \"    __import__(name)\",\r\n        \"ImportError: No module named graphite.settings\"\r\n    ],\r\n```\r\n\r\nI have not set up a `virtualenv` because this instance will only be running graphite/grafana.\r\n\r\nI've done this also directly, but the results have been the same.  I was hoping to make it repeatable in ansible.\r\n\r\nI have the carbon and whisper components running but it requires the web services from graphite to provide the data stream to grafana.  It's killing me that I can't get this installed more easily.  \r\n\r\nAny tips and advice would be much appreciated.  \r\n\r\nThanks you,\r\nChris.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2478", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2478/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2478/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2478/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2478", "id": 478175871, "node_id": "MDU6SXNzdWU0NzgxNzU4NzE=", "number": 2478, "title": "Question: maxDataPoints in requestContext", "user": {"login": "Felixoid", "id": 3025537, "node_id": "MDQ6VXNlcjMwMjU1Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/3025537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Felixoid", "html_url": "https://github.com/Felixoid", "followers_url": "https://api.github.com/users/Felixoid/followers", "following_url": "https://api.github.com/users/Felixoid/following{/other_user}", "gists_url": "https://api.github.com/users/Felixoid/gists{/gist_id}", "starred_url": "https://api.github.com/users/Felixoid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Felixoid/subscriptions", "organizations_url": "https://api.github.com/users/Felixoid/orgs", "repos_url": "https://api.github.com/users/Felixoid/repos", "events_url": "https://api.github.com/users/Felixoid/events{/privacy}", "received_events_url": "https://api.github.com/users/Felixoid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-07T23:02:45Z", "updated_at": "2019-09-10T13:44:28Z", "closed_at": "2019-09-10T13:44:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello. I'm currently on the patching of graphouse finder for graphite and aware if it's usable to pass maxDataPoints from uri arguments into there to fetch not all points and reduce them after, but fetch only the necessary amount of points from clickhouse.\r\n\r\nWhat do you think? I see the patch as trivial and could make a PR, but is it usable?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2477", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2477/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2477/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2477/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2477", "id": 477808257, "node_id": "MDU6SXNzdWU0Nzc4MDgyNTc=", "number": 2477, "title": "Read time out in graphite-web", "user": {"login": "vedaprasad-j", "id": 44828588, "node_id": "MDQ6VXNlcjQ0ODI4NTg4", "avatar_url": "https://avatars1.githubusercontent.com/u/44828588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vedaprasad-j", "html_url": "https://github.com/vedaprasad-j", "followers_url": "https://api.github.com/users/vedaprasad-j/followers", "following_url": "https://api.github.com/users/vedaprasad-j/following{/other_user}", "gists_url": "https://api.github.com/users/vedaprasad-j/gists{/gist_id}", "starred_url": "https://api.github.com/users/vedaprasad-j/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vedaprasad-j/subscriptions", "organizations_url": "https://api.github.com/users/vedaprasad-j/orgs", "repos_url": "https://api.github.com/users/vedaprasad-j/repos", "events_url": "https://api.github.com/users/vedaprasad-j/events{/privacy}", "received_events_url": "https://api.github.com/users/vedaprasad-j/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-07T09:21:13Z", "updated_at": "2020-04-20T20:39:05Z", "closed_at": "2020-04-20T20:39:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have graphite web in cluster mode. This queries a remote graphite web. i get read time out's very often. \r\n\r\nMaxRetryError: HTTPConnectionPool(host='10.202.43.15', port=80): Max retries exceeded with url: /metrics/find/?local=1&format=pickle&query=prod-sms%2A.statsd.counters.powerpack.GET-powerpack.%2A&from=1565167369&until=1565169289 (Caused by ReadTimeoutError(\"HTTPConnectionPool(host='10.202.43.15', port=80): Read timed out. (read timeout=3.0)\",))\r\n\r\nBoth the hosts are in the same network, not sure why it would time-out.\r\n\r\nBelow is relevant graphite-web config.\r\n\r\nFETCH_TIMEOUT = 60\r\nMAX_FETCH_RETRIES = 15\r\nCLUSTER_SERVERS = [\"10.202.41.26:80\",\"10.202.43.15:80\"]\r\n\r\nAny fix or recommend setting would be very helpful.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2476", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2476/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2476/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2476/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2476", "id": 475793993, "node_id": "MDU6SXNzdWU0NzU3OTM5OTM=", "number": 2476, "title": "offsetting time is causing null data points ", "user": {"login": "kbrownebcit", "id": 43010688, "node_id": "MDQ6VXNlcjQzMDEwNjg4", "avatar_url": "https://avatars3.githubusercontent.com/u/43010688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kbrownebcit", "html_url": "https://github.com/kbrownebcit", "followers_url": "https://api.github.com/users/kbrownebcit/followers", "following_url": "https://api.github.com/users/kbrownebcit/following{/other_user}", "gists_url": "https://api.github.com/users/kbrownebcit/gists{/gist_id}", "starred_url": "https://api.github.com/users/kbrownebcit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kbrownebcit/subscriptions", "organizations_url": "https://api.github.com/users/kbrownebcit/orgs", "repos_url": "https://api.github.com/users/kbrownebcit/repos", "events_url": "https://api.github.com/users/kbrownebcit/events{/privacy}", "received_events_url": "https://api.github.com/users/kbrownebcit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-08-01T17:07:23Z", "updated_at": "2020-04-20T20:39:01Z", "closed_at": "2020-04-20T20:39:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there, \r\n\r\nI am currently running into an issue in which I have some dummy data I am sending in for roughly 2 years every hour and I am running into some issues.\r\nfor context.\r\nthis is my **storage-aggregation.conf** file \r\n[min]\r\npattern = \\.min$\r\nxFilesFactor = 0.0\r\naggregationMethod = min\r\n\r\n[max]\r\npattern = \\.max$\r\nxFilesFactor = 0.0\r\naggregationMethod = max\r\n\r\n[sum]\r\npattern = \\.count$\r\nxFilesFactor = 0.0\r\naggregationMethod = sum\r\n\r\n[default]\r\npattern = .*\r\nxFilesFactor = 0.0\r\naggregationMethod = average\r\n\r\nand my **storage-schema.conf**:\r\n[carbon]\r\npattern = ^carbon\\.\r\nretentions = 60:90d\r\n\r\n[sitespeed]\r\npattern = ^sitespeed_io\\.\r\nretentions = 10m:60d,30m:90d\r\n\r\n[cath_them_all]\r\npattern = .*\r\nretentions = 1h:7d,2h:30d,4h:60d,8h:120d,16h:240d,32h:480d\r\n\r\nI can see the data fine when I query on grafana: eg now-480d\r\n<img width=\"1278\" alt=\"Screenshot 2019-08-01 09 51 48\" src=\"https://user-images.githubusercontent.com/43010688/62312086-2a2dda00-b442-11e9-83a4-dfbfcddce8b6.png\">\r\n\r\nbut whenever I set custom time stamps I get null data pointt eg 2018-10-01 00:00:00 to 2018-10-31 00:00:00\r\n<img width=\"1279\" alt=\"Screenshot 2019-08-01 09 55 14\" src=\"https://user-images.githubusercontent.com/43010688/62312245-8abd1700-b442-11e9-9357-ef1439640c67.png\">\r\n\r\nin the first query, I see data points are there for the month of Otober 2018. In the second query all the data points get converted to null when I set it for that specific interval. I understand that graphite will try to use the best aggregation it can so since its 1 month, it will do 2h:30d, but why is data disappearing?    \r\n\r\nAny help would be appreciated!\r\n\r\n  \r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2475", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2475/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2475/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2475/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2475", "id": 474292834, "node_id": "MDU6SXNzdWU0NzQyOTI4MzQ=", "number": 2475, "title": "Accumulating metrics in a series over a given range", "user": {"login": "teran-mckinney", "id": 4624114, "node_id": "MDQ6VXNlcjQ2MjQxMTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/4624114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teran-mckinney", "html_url": "https://github.com/teran-mckinney", "followers_url": "https://api.github.com/users/teran-mckinney/followers", "following_url": "https://api.github.com/users/teran-mckinney/following{/other_user}", "gists_url": "https://api.github.com/users/teran-mckinney/gists{/gist_id}", "starred_url": "https://api.github.com/users/teran-mckinney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teran-mckinney/subscriptions", "organizations_url": "https://api.github.com/users/teran-mckinney/orgs", "repos_url": "https://api.github.com/users/teran-mckinney/repos", "events_url": "https://api.github.com/users/teran-mckinney/events{/privacy}", "received_events_url": "https://api.github.com/users/teran-mckinney/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-29T22:57:49Z", "updated_at": "2019-07-30T04:19:46Z", "closed_at": "2019-07-30T04:19:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is a stupid question, I'm sure it's something basic that I'm missing.\r\n\r\nI have a statsd gauge that shows how many cents I was paid in a particular transaction. We can call this metric payment_cents.\r\n\r\nIn payment cents, the data should look like this: `[50, 100, 25]`, etc.\r\n\r\nI'd like to see this accumulated at those points over whatever range I'm working with. So that would turn into. [50, 150, 175]. So depending on my \"zoom\"/range level, I can see how much I was paid in total that hour, day, month, etc.\r\n\r\nI've been playing with sumSeries and other functions. Have had absolutely no luck.\r\n\r\nI'm sorry for such a simple question, have been going after this for a while and haven't a clue.\r\n\r\nThank you for your time.\r\n\r\n-Teran", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2474", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2474/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2474/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2474/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2474", "id": 474282566, "node_id": "MDU6SXNzdWU0NzQyODI1NjY=", "number": 2474, "title": "how to setup cluster for carbon-cache carbon-relay ", "user": {"login": "caldavid", "id": 27234781, "node_id": "MDQ6VXNlcjI3MjM0Nzgx", "avatar_url": "https://avatars1.githubusercontent.com/u/27234781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caldavid", "html_url": "https://github.com/caldavid", "followers_url": "https://api.github.com/users/caldavid/followers", "following_url": "https://api.github.com/users/caldavid/following{/other_user}", "gists_url": "https://api.github.com/users/caldavid/gists{/gist_id}", "starred_url": "https://api.github.com/users/caldavid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caldavid/subscriptions", "organizations_url": "https://api.github.com/users/caldavid/orgs", "repos_url": "https://api.github.com/users/caldavid/repos", "events_url": "https://api.github.com/users/caldavid/events{/privacy}", "received_events_url": "https://api.github.com/users/caldavid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-29T22:20:04Z", "updated_at": "2020-04-20T20:39:02Z", "closed_at": "2020-04-20T20:39:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "HI ,\r\n\r\nIt's been a mystery for me to understand the Cluster mechanism for graphite.\r\n\r\nI've tried to spin up multiple carbon-caches in one instance, which failed.\r\n\r\nAnd also tried to having two instances running graphite stack with relay replicating metrics, configured **local_settings.py** to include CLUSTER config with endpoints listening on port 80, that succeed, but causing unsustainable delay for querying. \r\n\r\nMy question is, is there a better way to put up a cluster for an overloaded single node graphite? How does it scale ?\r\n\r\nThanks for your help.\r\n\r\nDavid\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2473", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2473/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2473/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2473/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2473", "id": 473401811, "node_id": "MDU6SXNzdWU0NzM0MDE4MTE=", "number": 2473, "title": "Curly braces in mertics currently do not show up", "user": {"login": "chrisdotm", "id": 96076, "node_id": "MDQ6VXNlcjk2MDc2", "avatar_url": "https://avatars2.githubusercontent.com/u/96076?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisdotm", "html_url": "https://github.com/chrisdotm", "followers_url": "https://api.github.com/users/chrisdotm/followers", "following_url": "https://api.github.com/users/chrisdotm/following{/other_user}", "gists_url": "https://api.github.com/users/chrisdotm/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisdotm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisdotm/subscriptions", "organizations_url": "https://api.github.com/users/chrisdotm/orgs", "repos_url": "https://api.github.com/users/chrisdotm/repos", "events_url": "https://api.github.com/users/chrisdotm/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisdotm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-26T14:59:37Z", "updated_at": "2019-08-20T14:31:56Z", "closed_at": "2019-08-20T14:31:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/graphite-project/graphite-web/blob/0c9e41960b7c9dbf3a4a44aec480ab97b5133914/webapp/graphite/finders/__init__.py#L74\r\n\r\nI'll open a PR if wanted with a fix, but since I'm not sure if this is an intentional change or just a bug I figured I'd open an issue.\r\n\r\n\r\nRight now if a metric contains curly braces graphite is unable to find that metric. Changing the expand_braces function seems to solve it and allow for mistaken curly brace entry as well as intentional curly brace entry by changing the else from \r\n```\r\n        else:\r\n            res.extend(expand_braces(\r\n                s[:open_brace] + remove_outer_braces(sub) + s[close_brace:]))\r\n```\r\n\r\nto \r\n```\r\n        else:\r\n            res.extend(expand_braces(\r\n                s[:open_brace] + remove_outer_braces(sub) + s[close_brace:]))\r\n            res.append(s)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2472", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2472/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2472/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2472/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2472", "id": 471981732, "node_id": "MDU6SXNzdWU0NzE5ODE3MzI=", "number": 2472, "title": "mod_wsgi (pid=20598): Target WSGI script '/opt/graphite/conf/graphite.wsgi' cannot be loaded as Python module", "user": {"login": "gregorywolf", "id": 8494683, "node_id": "MDQ6VXNlcjg0OTQ2ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8494683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregorywolf", "html_url": "https://github.com/gregorywolf", "followers_url": "https://api.github.com/users/gregorywolf/followers", "following_url": "https://api.github.com/users/gregorywolf/following{/other_user}", "gists_url": "https://api.github.com/users/gregorywolf/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregorywolf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregorywolf/subscriptions", "organizations_url": "https://api.github.com/users/gregorywolf/orgs", "repos_url": "https://api.github.com/users/gregorywolf/repos", "events_url": "https://api.github.com/users/gregorywolf/events{/privacy}", "received_events_url": "https://api.github.com/users/gregorywolf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2019-07-23T22:03:22Z", "updated_at": "2019-07-24T16:51:28Z", "closed_at": "2019-07-24T16:51:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello - I apologize for creating this issue since I have seen \"similar\" ones. The problem is that I cannot find the solution.\r\n\r\nI am trying to stand up Graphite. I am using the following to download all software components:\r\n\r\n```\r\nsudo yum -y update\r\nsudo yum -y install tree\r\nsudo yum -y install git\r\nsudo yum -y install wget\r\nsudo yum -y install python-pip\r\nsudo yum -y install gcc\r\nsudo yum -y install httpd mod_wsgi\r\nsudo yum -y install python-devel cairo-devel libffi-devel\r\nsudo pip install --upgrade pip\r\nsudo pip install twisted\r\nsudo pip install cairocffi\r\nsudo pip install Django\r\nsudo pip install django-tagging\r\nsudo pip install scandir\r\nsudo pip install pyparsing\r\nsudo git clone https://github.com/graphite-project/graphite-web.git graphite\r\nsudo git clone https://github.com/graphite-project/carbon.git carbon\r\nsudo git clone https://github.com/graphite-project/whisper.git whisper\r\n``` \r\nAfter running through the setup.py in each of the folder I check the dependencies and everything looks good.\r\n```\r\npython check-dependencies.py \r\n[OPTIONAL] Unable to import the 'memcache' module, do you have python-memcached installed for python 2? This feature is not required but greatly improves performance.\r\n[OPTIONAL] Unable to import the 'ldap' module, do you have python-ldap installed for python 2? Without python-ldap, you will not be able to use LDAP authentication in the graphite webapp.\r\n[OPTIONAL] Unable to import the 'txamqp' module, this is required if you want to use AMQP as an input to Carbon. Note that txamqp requires python 2.5 or greater.\r\n[OPTIONAL] Unable to import the 'python-rrdtool' module, this is required for reading RRD.\r\n[OPTIONAL] Unable to import the 'whitenoise' module. This is useful for serving static files.\r\n[OPTIONAL] Unable to import the 'pyhash' module. This is useful for fnv1_ch hashing support.\r\n6 optional dependencies not met. Please consider the optional items before proceeding.\r\nAll necessary dependencies are met.\r\n```\r\nI modify all of the key files for carbon and start the service successfully. I also initialize the graphite database using the following which appears to be successful:\r\n\r\n```\r\nsudo PYTHONPATH=/opt/graphite/webapp django-admin.py migrate --settings=graphite.settings --run-syncdb\r\nOperations to perform:\r\n  Synchronize unmigrated apps: browser, composer, functions, messages, metrics, render, staticfiles, whitelist\r\n  Apply all migrations: account, admin, auth, contenttypes, dashboard, events, sessions, tagging, tags, url_shortener\r\nSynchronizing apps without migrations:\r\n  Creating tables...\r\n    Running deferred SQL...\r\nRunning migrations:\r\n  Applying contenttypes.0001_initial... OK\r\n  Applying auth.0001_initial... OK\r\n  Applying account.0001_initial... OK\r\n  Applying admin.0001_initial... OK\r\n  Applying admin.0002_logentry_remove_auto_add... OK\r\n  Applying contenttypes.0002_remove_content_type_name... OK\r\n  Applying auth.0002_alter_permission_name_max_length... OK\r\n  Applying auth.0003_alter_user_email_max_length... OK\r\n  Applying auth.0004_alter_user_username_opts... OK\r\n  Applying auth.0005_alter_user_last_login_null... OK\r\n  Applying auth.0006_require_contenttypes_0002... OK\r\n  Applying auth.0007_alter_validators_add_error_messages... OK\r\n  Applying auth.0008_alter_user_username_max_length... OK\r\n  Applying dashboard.0001_initial... OK\r\n  Applying events.0001_initial... OK\r\n  Applying sessions.0001_initial... OK\r\n  Applying tagging.0001_initial... OK\r\n  Applying tagging.0002_on_delete... OK\r\n  Applying tagging.0003_adapt_max_tag_length... OK\r\n  Applying tags.0001_initial... OK\r\n  Applying url_shortener.0001_initial... OK    \r\n```\r\nMy graphite root is default - /opt/graphite. My WSGI files resides in /opt/graphite/conf and is a copy of the example provided with the installation. I also modified the local_settings.py by uncommenting the SECRET_KEY and TIME_ZONE.\r\n\r\nHowever, when I start Apache (service httpd start) with /etc/httpd/conf.d/graphite-vhost.conf in place I am getting error log entries, which in turn is preventing my Graphite application to appear in my browser.\r\n\r\n```\r\n[Tue Jul 23 21:29:43.450763 2019] [core:notice] [pid 20593] SELinux policy enabled; httpd running as context system_u:system_r:httpd_t:s0\r\n[Tue Jul 23 21:29:43.451663 2019] [suexec:notice] [pid 20593] AH01232: suEXEC mechanism enabled (wrapper: /usr/sbin/suexec)\r\n[Tue Jul 23 21:29:43.462670 2019] [so:warn] [pid 20593] AH01574: module wsgi_module is already loaded, skipping\r\n[Tue Jul 23 21:29:43.464182 2019] [auth_digest:notice] [pid 20593] AH01757: generating secret for digest authentication ...\r\n[Tue Jul 23 21:29:43.465125 2019] [lbmethod_heartbeat:notice] [pid 20593] AH02282: No slotmem from mod_heartmonitor\r\n[Tue Jul 23 21:29:43.467951 2019] [mpm_prefork:notice] [pid 20593] AH00163: Apache/2.4.6 (CentOS) mod_wsgi/3.4 Python/2.7.5 configured -- resuming normal operations\r\n[Tue Jul 23 21:29:43.467989 2019] [core:notice] [pid 20593] AH00094: Command line: '/usr/sbin/httpd -D FOREGROUND'\r\n[Tue Jul 23 17:29:44.630490 2019] [:error] [pid 20598] mod_wsgi (pid=20598): Target WSGI script '/opt/graphite/conf/graphite.wsgi' cannot be loaded as Python module.\r\n[Tue Jul 23 17:29:44.630550 2019] [:error] [pid 20598] mod_wsgi (pid=20598): Exception occurred processing WSGI script '/opt/graphite/conf/graphite.wsgi'.\r\n[Tue Jul 23 17:29:44.630592 2019] [:error] [pid 20598] Traceback (most recent call last):\r\n[Tue Jul 23 17:29:44.630622 2019] [:error] [pid 20598]   File \"/opt/graphite/conf/graphite.wsgi\", line 7, in <module>\r\n[Tue Jul 23 17:29:44.630696 2019] [:error] [pid 20598]     from graphite.wsgi import application\r\n[Tue Jul 23 17:29:44.630704 2019] [:error] [pid 20598]   File \"/opt/graphite/webapp/graphite/wsgi.py\", line 15, in <module>\r\n[Tue Jul 23 17:29:44.630743 2019] [:error] [pid 20598]     application = get_wsgi_application()\r\n[Tue Jul 23 17:29:44.630752 2019] [:error] [pid 20598]   File \"/usr/lib/python2.7/site-packages/django/core/wsgi.py\", line 13, in get_wsgi_application\r\n[Tue Jul 23 17:29:44.630790 2019] [:error] [pid 20598]     django.setup(set_prefix=False)\r\n[Tue Jul 23 17:29:44.630798 2019] [:error] [pid 20598]   File \"/usr/lib/python2.7/site-packages/django/__init__.py\", line 27, in setup\r\n[Tue Jul 23 17:29:44.630851 2019] [:error] [pid 20598]     apps.populate(settings.INSTALLED_APPS)\r\n[Tue Jul 23 17:29:44.630866 2019] [:error] [pid 20598]   File \"/usr/lib/python2.7/site-packages/django/apps/registry.py\", line 85, in populate\r\n[Tue Jul 23 17:29:44.630994 2019] [:error] [pid 20598]     app_config = AppConfig.create(entry)\r\n[Tue Jul 23 17:29:44.631005 2019] [:error] [pid 20598]   File \"/usr/lib/python2.7/site-packages/django/apps/config.py\", line 94, in create\r\n[Tue Jul 23 17:29:44.631086 2019] [:error] [pid 20598]     module = import_module(entry)\r\n[Tue Jul 23 17:29:44.631094 2019] [:error] [pid 20598]   File \"/usr/lib64/python2.7/importlib/__init__.py\", line 37, in import_module\r\n[Tue Jul 23 17:29:44.631134 2019] [:error] [pid 20598]     __import__(name)\r\n[Tue Jul 23 17:29:44.631139 2019] [:error] [pid 20598]   File \"/opt/graphite/webapp/graphite/functions/__init__.py\", line 10, in <module>\r\n[Tue Jul 23 17:29:44.631180 2019] [:error] [pid 20598]     from graphite.logger import log\r\n[Tue Jul 23 17:29:44.631185 2019] [:error] [pid 20598]   File \"/opt/graphite/webapp/graphite/logger.py\", line 106, in <module>\r\n[Tue Jul 23 17:29:44.631232 2019] [:error] [pid 20598]     log = GraphiteLogger() # import-shared logger instance\r\n[Tue Jul 23 17:29:44.631238 2019] [:error] [pid 20598]   File \"/opt/graphite/webapp/graphite/logger.py\", line 39, in __init__\r\n[Tue Jul 23 17:29:44.631249 2019] [:error] [pid 20598]     level = logging.DEBUG if settings.DEBUG else logging.INFO,\r\n[Tue Jul 23 17:29:44.631254 2019] [:error] [pid 20598]   File \"/opt/graphite/webapp/graphite/logger.py\", line 78, in _config_logger\r\n[Tue Jul 23 17:29:44.631263 2019] [:error] [pid 20598]     handler = Rotater(log_file, when=when, backupCount=backupCount)\r\n[Tue Jul 23 17:29:44.631270 2019] [:error] [pid 20598]   File \"/usr/lib64/python2.7/logging/handlers.py\", line 169, in __init__\r\n[Tue Jul 23 17:29:44.631533 2019] [:error] [pid 20598]     BaseRotatingHandler.__init__(self, filename, 'a', encoding, delay)\r\n[Tue Jul 23 17:29:44.631554 2019] [:error] [pid 20598]   File \"/usr/lib64/python2.7/logging/handlers.py\", line 64, in __init__\r\n[Tue Jul 23 17:29:44.631574 2019] [:error] [pid 20598]     logging.FileHandler.__init__(self, filename, mode, encoding, delay)\r\n[Tue Jul 23 17:29:44.631583 2019] [:error] [pid 20598]   File \"/usr/lib64/python2.7/logging/__init__.py\", line 902, in __init__\r\n[Tue Jul 23 17:29:44.631948 2019] [:error] [pid 20598]     StreamHandler.__init__(self, self._open())\r\n[Tue Jul 23 17:29:44.631963 2019] [:error] [pid 20598]   File \"/usr/lib64/python2.7/logging/__init__.py\", line 925, in _open\r\n[Tue Jul 23 17:29:44.631976 2019] [:error] [pid 20598]     stream = open(self.baseFilename, self.mode)\r\n[Tue Jul 23 17:29:44.632003 2019] [:error] [pid 20598] IOError: [Errno 13] Permission denied: '/opt/graphite/storage/log/webapp/info.log'\r\n```\r\nAs you can see from the log I am running Apache 2.4, mod_wsgi 3.4 and Python 2.7. I am not sure how to resolve the fact that mod_wsgi cannot be loaded as a Python module. \r\n\r\nThe other issue I am running into is a permissions issue\r\n```\r\nPermission denied: '/opt/graphite/storage/log/webapp/info.log'\r\n```\r\nI am not sure who should own this directory and what the permissions should be set to.\r\n\r\nI want to be careful not to flood this post with too much info. However, I can provide whatever additional info necessary that will help resolve this issue.\r\n\r\nAny and all help would be much appreciated!! Thank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2471", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2471/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2471/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2471/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2471", "id": 471773155, "node_id": "MDU6SXNzdWU0NzE3NzMxNTU=", "number": 2471, "title": "smartSummarize and last", "user": {"login": "fenidik", "id": 1121966, "node_id": "MDQ6VXNlcjExMjE5NjY=", "avatar_url": "https://avatars3.githubusercontent.com/u/1121966?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fenidik", "html_url": "https://github.com/fenidik", "followers_url": "https://api.github.com/users/fenidik/followers", "following_url": "https://api.github.com/users/fenidik/following{/other_user}", "gists_url": "https://api.github.com/users/fenidik/gists{/gist_id}", "starred_url": "https://api.github.com/users/fenidik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fenidik/subscriptions", "organizations_url": "https://api.github.com/users/fenidik/orgs", "repos_url": "https://api.github.com/users/fenidik/repos", "events_url": "https://api.github.com/users/fenidik/events{/privacy}", "received_events_url": "https://api.github.com/users/fenidik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-23T15:41:50Z", "updated_at": "2020-04-20T20:39:03Z", "closed_at": "2020-04-20T20:39:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to get monthly buckets for past 5 months\r\n\r\nrequest:\r\n**/render?target=smartSummarize(xxx,'1month','last','months')&from=-5mon&until=now&format=csv\"**\r\n\r\n```\r\n\"smartSummarize(xxx, \"\"1month\"\", \"\"last\"\")\",2019-02-01 00:01:00,0.2\r\n\"smartSummarize(xxx, \"\"1month\"\", \"\"last\"\")\",2019-03-03 00:01:00,0.9\r\n\"smartSummarize(xxx, \"\"1month\"\", \"\"last\"\")\",2019-04-02 00:01:00,0.1\r\n\"smartSummarize(xxx, \"\"1month\"\", \"\"last\"\")\",2019-05-02 00:01:00,0\r\n\"smartSummarize(xxx, \"\"1month\"\", \"\"last\"\")\",2019-06-01 00:01:00,0\r\n\"smartSummarize(xxx, \"\"1month\"\", \"\"last\"\")\",2019-07-01 00:01:00,179\r\n```\r\n\r\nwhy doesn't it returns last value  23:59:59 of prev month (last value of month) but 00:01:00 next month?\r\n\r\nis any way to get monthly buckets from 00:00 first day of month until 23:59 last day of month?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2470", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2470/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2470/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2470/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2470", "id": 471013143, "node_id": "MDU6SXNzdWU0NzEwMTMxNDM=", "number": 2470, "title": "Rocksteady for RabbitMQ seems inactive - remove from \"Tools that work with Graphite\" page", "user": {"login": "shevyf", "id": 7116853, "node_id": "MDQ6VXNlcjcxMTY4NTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/7116853?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shevyf", "html_url": "https://github.com/shevyf", "followers_url": "https://api.github.com/users/shevyf/followers", "following_url": "https://api.github.com/users/shevyf/following{/other_user}", "gists_url": "https://api.github.com/users/shevyf/gists{/gist_id}", "starred_url": "https://api.github.com/users/shevyf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shevyf/subscriptions", "organizations_url": "https://api.github.com/users/shevyf/orgs", "repos_url": "https://api.github.com/users/shevyf/repos", "events_url": "https://api.github.com/users/shevyf/events{/privacy}", "received_events_url": "https://api.github.com/users/shevyf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120605376, "node_id": "MDU6TGFiZWwxMjA2MDUzNzY=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/documentation", "name": "documentation", "color": "fbca04", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-22T10:20:05Z", "updated_at": "2020-04-20T20:39:04Z", "closed_at": "2020-04-20T20:39:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Rocksteady is listed on this page as a tool that can help integrate RabbitMQ with Graphite: https://graphite.readthedocs.io/en/latest/tools.html\r\n\r\nHowever, yhe Rocksteady code base has been moved to the Google Code Archive - http://code.google.com/p/rocksteady/ redirects to https://code.google.com/archive/p/rocksteady/ - and the downloadable package hasn't been updated since 2010. It seems to rely on an old version of JVM as well which means it's not as much use for modern users anyway. \r\n\r\nIs it worth removing this from the tools page? Or is there another location to download this open source project from, which is being actively maintained?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2469", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2469/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2469/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2469/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2469", "id": 470828652, "node_id": "MDU6SXNzdWU0NzA4Mjg2NTI=", "number": 2469, "title": "Carbon Installation Failing Using PIP", "user": {"login": "gregorywolf", "id": 8494683, "node_id": "MDQ6VXNlcjg0OTQ2ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8494683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregorywolf", "html_url": "https://github.com/gregorywolf", "followers_url": "https://api.github.com/users/gregorywolf/followers", "following_url": "https://api.github.com/users/gregorywolf/following{/other_user}", "gists_url": "https://api.github.com/users/gregorywolf/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregorywolf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregorywolf/subscriptions", "organizations_url": "https://api.github.com/users/gregorywolf/orgs", "repos_url": "https://api.github.com/users/gregorywolf/repos", "events_url": "https://api.github.com/users/gregorywolf/events{/privacy}", "received_events_url": "https://api.github.com/users/gregorywolf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-21T21:49:19Z", "updated_at": "2019-07-23T17:52:55Z", "closed_at": "2019-07-23T17:52:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi - I am trying to install the latest versions of graphite-web, whisper and carbon. I am working on a CentOS VM. I have used the following commands successfully:\r\n\r\n`sudo yum -y install gcc openssl-devel bzip2-devel libffi libffi-devel`\r\n`sudo pip install --upgrade setuptools --user python`\r\n`sudo pip install graphite-web`\r\n`sudo pip install whisper`\r\n\r\nHowever, when I use\r\n`sudo pip install carbon`\r\nIt starts out fine but then fails:\r\n`Collecting carbon\r\n  Using cached https://files.pythonhosted.org/packages/aa/8e/f46551cd1a6ad212fe956249406a491dd866ed7c271839da828a94e7bd67/carbon-1.1.5.\r\ntar.gz\r\nCollecting Twisted (from carbon)\r\n  Using cached https://files.pythonhosted.org/packages/79/59/035de19362320e632301ed7bbde23e4c8cd6fc5e2f1cf8d354cdba857854/Twisted-19.2.\r\n1.tar.bz2\r\nCollecting txAMQP (from carbon)\r\n  Using cached https://files.pythonhosted.org/packages/c6/a0/7c18f4a3805af57e2be19a6502c1946f5dac51c8b1ed19368968a46a2f07/txAMQP-0.8.2.\r\ntar.gz\r\nCollecting cachetools (from carbon)\r\n  Using cached https://files.pythonhosted.org/packages/2f/a6/30b0a0bef12283e83e58c1d6e7b5aabc7acfc4110df81a4471655d33e704/cachetools-3.\r\n1.1-py2.py3-none-any.whl\r\nRequirement already satisfied: urllib3 in /usr/lib/python2.7/site-packages (from carbon) (1.10.2)\r\nRequirement already satisfied: zope.interface>=4.4.2 in /usr/lib64/python2.7/site-packages (from Twisted->carbon) (4.6.0)\r\nRequirement already satisfied: constantly>=15.1 in /usr/lib/python2.7/site-packages (from Twisted->carbon) (15.1.0)\r\nRequirement already satisfied: incremental>=16.10.1 in /usr/lib/python2.7/site-packages (from Twisted->carbon) (17.5.0)\r\nRequirement already satisfied: Automat>=0.3.0 in /usr/lib/python2.7/site-packages (from Twisted->carbon) (0.7.0)\r\nRequirement already satisfied: hyperlink>=17.1.1 in /usr/lib/python2.7/site-packages (from Twisted->carbon) (19.0.0)\r\nRequirement already satisfied: PyHamcrest>=1.9.0 in /usr/lib/python2.7/site-packages (from Twisted->carbon) (1.9.0)\r\nRequirement already satisfied: attrs>=17.4.0 in /usr/lib/python2.7/site-packages (from Twisted->carbon) (19.1.0)\r\nRequirement already satisfied: six in /usr/lib/python2.7/site-packages (from txAMQP->carbon) (1.9.0)\r\nRequirement already satisfied: setuptools in /root/.local/lib/python2.7/site-packages (from zope.interface>=4.4.2->Twisted->carbon) (41\r\n.0.1)\r\nRequirement already satisfied: idna>=2.5 in /usr/lib/python2.7/site-packages (from hyperlink>=17.1.1->Twisted->carbon) (2.8)\r\nInstalling collected packages: Twisted, txAMQP, cachetools, carbon\r\n  Running setup.py install for Twisted ... error\r\n    ERROR: Complete output from command /usr/bin/python2 -u -c 'import setuptools, tokenize;__file__='\"'\"'/tmp/pip-install-JC7Z1x/Twist\r\ned/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec\r\n(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-OyAolK/install-record.txt --single-version-externally-manag\r\ned --compile:\r\n    ERROR: running install\r\n    running build\r\n    running build_py`\r\n\r\nThe RED error messages continue for quite some time.\r\nI also tried installing using the following:\r\n\r\n`sudo wget https://files.pythonhosted.org/packages/aa/8e/f46551cd1a6ad212fe956249406a491dd866ed7c271839da828a94e7bd67/carbon-1.1.5.ta\r\nr.gz'\r\n\r\nThen tar'ing it and running \r\n'sudo python setup.py install`\r\n\r\nThis appears to work but the service carbon-cache doe snot get installed which leads me to believe that it is really not working. \r\n\r\nAny help would be much appreciated. Thank you.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2468", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2468/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2468/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2468/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2468", "id": 470787811, "node_id": "MDU6SXNzdWU0NzA3ODc4MTE=", "number": 2468, "title": "FAILING: PYTHONPATH=/usr/share/graphite/webapp django-admin syncdb --settings=graphite.settings", "user": {"login": "gregorywolf", "id": 8494683, "node_id": "MDQ6VXNlcjg0OTQ2ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8494683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregorywolf", "html_url": "https://github.com/gregorywolf", "followers_url": "https://api.github.com/users/gregorywolf/followers", "following_url": "https://api.github.com/users/gregorywolf/following{/other_user}", "gists_url": "https://api.github.com/users/gregorywolf/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregorywolf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregorywolf/subscriptions", "organizations_url": "https://api.github.com/users/gregorywolf/orgs", "repos_url": "https://api.github.com/users/gregorywolf/repos", "events_url": "https://api.github.com/users/gregorywolf/events{/privacy}", "received_events_url": "https://api.github.com/users/gregorywolf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-07-21T14:29:26Z", "updated_at": "2019-07-21T21:27:21Z", "closed_at": "2019-07-21T21:27:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello - Sorry to be redundant cause I realize that there was a similar issue raised already (Pls help run syncdb error ImportError: No module named graphite.settings #1867). My issue seems to be similar but I still not get past it even though I have SCANDIR installed. \r\n\r\nHere is my issue.\r\n\r\nCOMMAND: \r\n`sudo PYTHONPATH=/usr/share/graphite/webapp django-admin syncdb --settings=graphite.settings`\r\n\r\nOutput:\r\n\r\n`Traceback (most recent call last):\r\n  File \"/bin/django-admin\", line 10, in <module>\r\n    sys.exit(execute_from_command_line())\r\n  File \"/usr/lib/python2.7/site-packages/django/core/management/__init__.py\", line 338, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/usr/lib/python2.7/site-packages/django/core/management/__init__.py\", line 312, in execute\r\n    django.setup()\r\n  File \"/usr/lib/python2.7/site-packages/django/__init__.py\", line 18, in setup\r\n    apps.populate(settings.INSTALLED_APPS)\r\n  File \"/usr/lib/python2.7/site-packages/django/apps/registry.py\", line 115, in populate\r\n    app_config.ready()\r\n  File \"/usr/lib/python2.7/site-packages/django/contrib/admin/apps.py\", line 22, in ready\r\n    self.module.autodiscover()\r\n  File \"/usr/lib/python2.7/site-packages/django/contrib/admin/__init__.py\", line 24, in autodiscover\r\n    autodiscover_modules('admin', register_to=site)\r\n  File \"/usr/lib/python2.7/site-packages/django/utils/module_loading.py\", line 74, in autodiscover_modules\r\n    import_module('%s.%s' % (app_config.name, module_to_search))\r\n  File \"/usr/lib64/python2.7/importlib/__init__.py\", line 37, in import_module\r\n    __import__(name)\r\n  File \"/usr/lib/python2.7/site-packages/tagging/admin.py\", line 3, in <module>\r\n    from tagging.forms import TagAdminForm\r\n  File \"/usr/lib/python2.7/site-packages/tagging/forms.py\", line 11, in <module>\r\n    class TagAdminForm(forms.ModelForm):\r\n  File \"/usr/lib/python2.7/site-packages/django/forms/models.py\", line 274, in __new__\r\n    \"needs updating.\" % name\r\ndjango.core.exceptions.ImproperlyConfigured: Creating a ModelForm without either the 'fields' attribute or the 'exclude' attribute is prohibited; form\r\n TagAdminForm needs updating.`\r\n\r\nI have also tried the following\r\n\r\n`sudo PYTHONPATH=/opt/graphite/webapp django-admin.py migrate --settings=graphite.settings --run-syncdb`\r\n\r\nAny help would be much appreciated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2465", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2465/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2465/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2465/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2465", "id": 465871189, "node_id": "MDU6SXNzdWU0NjU4NzExODk=", "number": 2465, "title": "New transform functions: power, exponential", "user": {"login": "avorozhtsov", "id": 153278, "node_id": "MDQ6VXNlcjE1MzI3OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/153278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avorozhtsov", "html_url": "https://github.com/avorozhtsov", "followers_url": "https://api.github.com/users/avorozhtsov/followers", "following_url": "https://api.github.com/users/avorozhtsov/following{/other_user}", "gists_url": "https://api.github.com/users/avorozhtsov/gists{/gist_id}", "starred_url": "https://api.github.com/users/avorozhtsov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avorozhtsov/subscriptions", "organizations_url": "https://api.github.com/users/avorozhtsov/orgs", "repos_url": "https://api.github.com/users/avorozhtsov/repos", "events_url": "https://api.github.com/users/avorozhtsov/events{/privacy}", "received_events_url": "https://api.github.com/users/avorozhtsov/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571164, "node_id": "MDU6TGFiZWw0NTcxMTY0", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-07-09T16:15:36Z", "updated_at": "2019-08-13T10:24:59Z", "closed_at": "2019-08-06T20:03:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Now we have two transform functions -  scale and log.\r\nI would like to have some more:\r\n* exponential:  alpha^series, alpha is constant  argument, default is E\r\n* power: series^alpha, where alpha is constant argument\r\n* sigmoid:  1/(1 + exp(-series)) \r\n* logit: log(1 / (1 - series))\r\n* add: series + alpha, where alpha is constant  argument", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2461", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2461/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2461/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2461/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2461", "id": 464362479, "node_id": "MDU6SXNzdWU0NjQzNjI0Nzk=", "number": 2461, "title": "bad requests result in http500", "user": {"login": "Dieterbe", "id": 20774, "node_id": "MDQ6VXNlcjIwNzc0", "avatar_url": "https://avatars2.githubusercontent.com/u/20774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dieterbe", "html_url": "https://github.com/Dieterbe", "followers_url": "https://api.github.com/users/Dieterbe/followers", "following_url": "https://api.github.com/users/Dieterbe/following{/other_user}", "gists_url": "https://api.github.com/users/Dieterbe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dieterbe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dieterbe/subscriptions", "organizations_url": "https://api.github.com/users/Dieterbe/orgs", "repos_url": "https://api.github.com/users/Dieterbe/repos", "events_url": "https://api.github.com/users/Dieterbe/events{/privacy}", "received_events_url": "https://api.github.com/users/Dieterbe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571164, "node_id": "MDU6TGFiZWw0NTcxMTY0", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-04T18:09:05Z", "updated_at": "2019-08-28T08:46:33Z", "closed_at": "2019-08-28T08:46:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We see some queries that are bad requests (such as asPercent() calls with improper arguments) that result in http500. this should be http 400", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2460", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2460/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2460/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2460/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2460", "id": 463492061, "node_id": "MDU6SXNzdWU0NjM0OTIwNjE=", "number": 2460, "title": "Graphite Web Nginx + Gunicorn setup failure", "user": {"login": "caldavid", "id": 27234781, "node_id": "MDQ6VXNlcjI3MjM0Nzgx", "avatar_url": "https://avatars1.githubusercontent.com/u/27234781?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caldavid", "html_url": "https://github.com/caldavid", "followers_url": "https://api.github.com/users/caldavid/followers", "following_url": "https://api.github.com/users/caldavid/following{/other_user}", "gists_url": "https://api.github.com/users/caldavid/gists{/gist_id}", "starred_url": "https://api.github.com/users/caldavid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caldavid/subscriptions", "organizations_url": "https://api.github.com/users/caldavid/orgs", "repos_url": "https://api.github.com/users/caldavid/repos", "events_url": "https://api.github.com/users/caldavid/events{/privacy}", "received_events_url": "https://api.github.com/users/caldavid/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-07-03T00:38:20Z", "updated_at": "2019-07-05T05:57:50Z", "closed_at": "2019-07-05T05:57:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi !\r\n\r\nI've been following the documentation at here:\r\n\r\n https://graphite.readthedocs.io/en/latest/config-webapp.html \r\n\r\nto setup the nginx+gunicorn for graphite-web, and encountered following issue:\r\n\r\n> [2019-07-02 17:36:09 +0000] [13713] [ERROR] Exception in worker process\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/gunicorn/arbiter.py\", line 583, in spawn_worker\r\n    worker.init_process()\r\n  File \"/usr/lib/python2.7/site-packages/gunicorn/workers/base.py\", line 129, in init_process\r\n    self.load_wsgi()\r\n  File \"/usr/lib/python2.7/site-packages/gunicorn/workers/base.py\", line 138, in load_wsgi\r\n    self.wsgi = self.app.wsgi()\r\n  File \"/usr/lib/python2.7/site-packages/gunicorn/app/base.py\", line 67, in wsgi\r\n    self.callable = self.load()\r\n  File \"/usr/lib/python2.7/site-packages/gunicorn/app/wsgiapp.py\", line 52, in load\r\n    return self.load_wsgiapp()\r\n  File \"/usr/lib/python2.7/site-packages/gunicorn/app/wsgiapp.py\", line 41, in load_wsgiapp\r\n    return util.import_app(self.app_uri)\r\n  File \"/usr/lib/python2.7/site-packages/gunicorn/util.py\", line 350, in import_app\r\n    __import__(module)\r\nImportError: No module named graphite_wsgi\r\n[2019-07-02 17:36:09 +0000] [13713] [INFO] Worker exiting (pid: 13713)\r\n[2019-07-02 17:36:09 +0000] [13668] [INFO] Shutting down: Master\r\n[2019-07-02 17:36:09 +0000] [13668] [INFO] Reason: Worker failed to boot.\r\n\r\n\r\nAll i did that isn't on the doc was copied the graphite.wsgi file from **conf** folder to **webapp/graphite/**\r\n\r\nWould you please help to point out the root cause?\r\n\r\nThanks a lot!\r\nDavid", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2459", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2459/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2459/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2459/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2459", "id": 462448898, "node_id": "MDU6SXNzdWU0NjI0NDg4OTg=", "number": 2459, "title": "Graphite Start Up Error", "user": {"login": "gregorywolf", "id": 8494683, "node_id": "MDQ6VXNlcjg0OTQ2ODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/8494683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gregorywolf", "html_url": "https://github.com/gregorywolf", "followers_url": "https://api.github.com/users/gregorywolf/followers", "following_url": "https://api.github.com/users/gregorywolf/following{/other_user}", "gists_url": "https://api.github.com/users/gregorywolf/gists{/gist_id}", "starred_url": "https://api.github.com/users/gregorywolf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gregorywolf/subscriptions", "organizations_url": "https://api.github.com/users/gregorywolf/orgs", "repos_url": "https://api.github.com/users/gregorywolf/repos", "events_url": "https://api.github.com/users/gregorywolf/events{/privacy}", "received_events_url": "https://api.github.com/users/gregorywolf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-06-30T21:32:26Z", "updated_at": "2019-07-01T17:14:05Z", "closed_at": "2019-07-01T17:14:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello - \r\nI am starting up graphite using a docker image )graphiteapp/graphite-statsd:1.1.5-12). If I do not specify any options other than -p 2003:2003 and -p8080:8080 everything works fine. I examine the various logs and they look clean. However as soon as I add the following 2 docker options:\r\n\r\n-v $PWD/graphite/configs:/opt/graphite/conf \\\r\n-v $PWD/graphite/data:/opt/graphite/storage \\\r\n\r\nThe carbon.log generates the following error:\r\nTraceback (most recent call last):\r\n  File \"/opt/graphite/lib/python3.7/site-packages/twisted/python/threadpool.py\", line 266, in <lambda>\r\n    inContext.theWork = lambda: context.call(ctx, func, *args, **kw)\r\n  File \"/opt/graphite/lib/python3.7/site-packages/twisted/python/context.py\", line 122, in callWithContext\r\n    return self.currentContext().callWithContext(ctx, func, *args, **kw)\r\n  File \"/opt/graphite/lib/python3.7/site-packages/twisted/python/context.py\", line 85, in callWithContext\r\n    return func(*args,**kw)\r\n  File \"/opt/graphite/lib/carbon/writer.py\", line 189, in writeForever\r\n    writeCachedDataPoints()\r\n--- <exception caught here> ---\r\n  File \"/opt/graphite/lib/carbon/writer.py\", line 142, in writeCachedDataPoints\r\n    state.database.create(metric, archiveConfig, xFilesFactor, aggregationMethod)\r\n  File \"/opt/graphite/lib/carbon/database.py\", line 145, in create\r\n    self.sparse_create, self.fallocate_create)\r\n  File \"/opt/graphite/lib/python3.7/site-packages/whisper.py\", line 528, in create\r\n    fallocate(fh, headerSize, remaining)\r\n  File \"/opt/graphite/lib/python3.7/site-packages/whisper.py\", line 93, in _py_fallocate\r\n    raise IOError(res, 'fallocate')\r\nbuiltins.OSError: [Errno 95] fallocate\r\n\r\nNot sure what I am doing wrong. Can anyone tell me how to fix the error condition? I am also attaching the full log as well.\r\n\r\nThank you!!\r\n\r\n[carbon.log](https://github.com/graphite-project/graphite-web/files/3343350/carbon.log)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2457", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2457/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2457/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2457/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2457", "id": 459971715, "node_id": "MDU6SXNzdWU0NTk5NzE3MTU=", "number": 2457, "title": "Graphite server crash due to memory leak", "user": {"login": "usmanC9", "id": 17683147, "node_id": "MDQ6VXNlcjE3NjgzMTQ3", "avatar_url": "https://avatars2.githubusercontent.com/u/17683147?v=4", "gravatar_id": "", "url": "https://api.github.com/users/usmanC9", "html_url": "https://github.com/usmanC9", "followers_url": "https://api.github.com/users/usmanC9/followers", "following_url": "https://api.github.com/users/usmanC9/following{/other_user}", "gists_url": "https://api.github.com/users/usmanC9/gists{/gist_id}", "starred_url": "https://api.github.com/users/usmanC9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/usmanC9/subscriptions", "organizations_url": "https://api.github.com/users/usmanC9/orgs", "repos_url": "https://api.github.com/users/usmanC9/repos", "events_url": "https://api.github.com/users/usmanC9/events{/privacy}", "received_events_url": "https://api.github.com/users/usmanC9/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-06-24T15:57:10Z", "updated_at": "2019-07-05T07:42:18Z", "closed_at": "2019-07-05T07:42:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nGraphite node continuously crashes after some queries due to memory leak. My configuration include 1 carbon-relay instance and 2 carbon-caches. I have increased the FETCH_TIMEOUT and FIND_TIMEOUT in local_settings.py to 600 and 300 sec respectively. \r\nVM specs are 6vcpus and 8GB RAM.\r\n\r\nSome of the sample queries are:\r\naliasSub(summarize(nPercentile(icinga2.\\*.services.interface\\*.\\*interface\\*.perfdata.\\*_out_bps.value,90), '1y', 'max', 'false'), '(.\\*)icinga2.(.\\*).services.*.perfdata.(.\\*)_(in|out)_bps.\\*', 'Node  (\\2) Interface (\\3)')\r\n\r\naliasSub(highestCurrent(summarize(icinga2.\\*.services.interface\\*.interface-dual.perfdata.\\*in_prct.value, '1y', 'average', 'true'), 25) , '(.\\*)icinga2.(.\\*).services.\\*.perfdata.(.\\*)_in_prct.\\*', 'Node (\\2) Interface (\\3)')\r\n\r\n![graphite-usage](https://user-images.githubusercontent.com/17683147/60033449-07c9d380-96c2-11e9-90dd-169766aed249.PNG)\r\n\r\nAny help would be appreciated.\r\n\r\nThanks,\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2456", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2456/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2456/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2456/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2456", "id": 459944526, "node_id": "MDU6SXNzdWU0NTk5NDQ1MjY=", "number": 2456, "title": "aggregation functions", "user": {"login": "sevaTechoPark", "id": 28502082, "node_id": "MDQ6VXNlcjI4NTAyMDgy", "avatar_url": "https://avatars2.githubusercontent.com/u/28502082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sevaTechoPark", "html_url": "https://github.com/sevaTechoPark", "followers_url": "https://api.github.com/users/sevaTechoPark/followers", "following_url": "https://api.github.com/users/sevaTechoPark/following{/other_user}", "gists_url": "https://api.github.com/users/sevaTechoPark/gists{/gist_id}", "starred_url": "https://api.github.com/users/sevaTechoPark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sevaTechoPark/subscriptions", "organizations_url": "https://api.github.com/users/sevaTechoPark/orgs", "repos_url": "https://api.github.com/users/sevaTechoPark/repos", "events_url": "https://api.github.com/users/sevaTechoPark/events{/privacy}", "received_events_url": "https://api.github.com/users/sevaTechoPark/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 120605376, "node_id": "MDU6TGFiZWwxMjA2MDUzNzY=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/documentation", "name": "documentation", "color": "fbca04", "default": true, "description": null}, {"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 26, "created_at": "2019-06-24T15:03:41Z", "updated_at": "2019-07-06T10:44:04Z", "closed_at": "2019-07-06T10:44:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "In [docs about functions](https://graphite.readthedocs.io/en/latest/functions.html) we can often read this:\r\n> This function can be used with aggregation functions average, median, sum, min, max, diff, stddev, count, range, multiply & last.\r\n\r\nbut there is not description about this functions.\r\nI used trial and error method and figure out how to work `count` and `last` (`average`, `median`, `min`, `max`, `sum` - is obviously)\r\n\r\n- [x] average\r\n- [x] median\r\n- [x] sum\r\n- [x] min\r\n- [x] max\r\n- [ ] diff\r\n- [ ] stddev\r\n- [x] count\r\n- [ ] range\r\n- [ ] multiply\r\n- [x] last\r\n\r\nso can you explain me: how to work this function or give me link to doc\r\n\r\n----\r\nI have counter of request count and I wanna see the count of reqest at some range.\r\nI try to use [summarize](https://graphite.readthedocs.io/en/latest/functions.html#graphite.render.functions.summarize) function but I did not understand how to do it.\r\nplease help me", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2455", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2455/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2455/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2455/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2455", "id": 458678681, "node_id": "MDU6SXNzdWU0NTg2Nzg2ODE=", "number": 2455, "title": "How to hide webapp from unauthorized users?", "user": {"login": "sevaTechoPark", "id": 28502082, "node_id": "MDQ6VXNlcjI4NTAyMDgy", "avatar_url": "https://avatars2.githubusercontent.com/u/28502082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sevaTechoPark", "html_url": "https://github.com/sevaTechoPark", "followers_url": "https://api.github.com/users/sevaTechoPark/followers", "following_url": "https://api.github.com/users/sevaTechoPark/following{/other_user}", "gists_url": "https://api.github.com/users/sevaTechoPark/gists{/gist_id}", "starred_url": "https://api.github.com/users/sevaTechoPark/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sevaTechoPark/subscriptions", "organizations_url": "https://api.github.com/users/sevaTechoPark/orgs", "repos_url": "https://api.github.com/users/sevaTechoPark/repos", "events_url": "https://api.github.com/users/sevaTechoPark/events{/privacy}", "received_events_url": "https://api.github.com/users/sevaTechoPark/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-20T14:04:29Z", "updated_at": "2019-06-26T09:33:21Z", "closed_at": "2019-06-26T09:33:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I wanna require authorize to view metrics.\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2454", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2454/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2454/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2454/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2454", "id": 455405350, "node_id": "MDU6SXNzdWU0NTU0MDUzNTA=", "number": 2454, "title": "High CPU usage - 100%", "user": {"login": "njchandu", "id": 7442733, "node_id": "MDQ6VXNlcjc0NDI3MzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7442733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njchandu", "html_url": "https://github.com/njchandu", "followers_url": "https://api.github.com/users/njchandu/followers", "following_url": "https://api.github.com/users/njchandu/following{/other_user}", "gists_url": "https://api.github.com/users/njchandu/gists{/gist_id}", "starred_url": "https://api.github.com/users/njchandu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njchandu/subscriptions", "organizations_url": "https://api.github.com/users/njchandu/orgs", "repos_url": "https://api.github.com/users/njchandu/repos", "events_url": "https://api.github.com/users/njchandu/events{/privacy}", "received_events_url": "https://api.github.com/users/njchandu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-06-12T20:19:22Z", "updated_at": "2019-06-26T09:35:37Z", "closed_at": "2019-06-26T09:35:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm not savvy with mod_wsgi. Any help is appreciated.\r\n\r\nGrafana dashboards query graphite instance via a classic AWS LB.\r\n\r\n```\r\nLoadModule wsgi_module modules/mod_wsgi.so\r\nWSGISocketPrefix /var/run/wsgi\r\n\r\nHeader set Access-Control-Allow-Origin \"*\"\r\nHeader set Access-Control-Allow-Methods \"POST, GET, OPTIONS, DELETE, PUT\"\r\nHeader set Access-Control-Max-Age \"1000\"\r\nHeader set Access-Control-Allow-Headers \"x-requested-with, Content-Type, origin, authorization, accept, client-security-token\"\r\n\r\nListen 8080\r\n<VirtualHost *:8080>\r\n\r\n    ServerName graphite\r\n    DocumentRoot /opt/graphite/webapp\r\n    ErrorLog /opt/graphite/storage/log/webapp/error.log\r\n    CustomLog /opt/graphite/storage/log/webapp/access.log common\r\n\r\n    WSGIDaemonProcess graphite-web processes=5 threads=5 display-name='%{GROUP}' inactivity-timeout=120\r\n    WSGIProcessGroup graphite-web\r\n    WSGIApplicationGroup %{GLOBAL}\r\n    WSGIImportScript /opt/graphite/conf/graphite.wsgi process-group=graphite-web application-group=%{GLOBAL}\r\n\r\n    WSGIScriptAlias / /opt/graphite/conf/graphite.wsgi\r\n\r\n    Alias /static/ /opt/graphite/static/\r\n\r\n    <Directory /opt/graphite/static/>\r\n            <IfVersion < 2.4>\r\n                    Order deny,allow\r\n                    Allow from all\r\n            </IfVersion>\r\n            <IfVersion >= 2.4>\r\n                    Require all granted\r\n            </IfVersion>\r\n    </Directory>\r\n\r\n    <Directory /opt/graphite/conf/>\r\n            <IfVersion < 2.4>\r\n                    Order deny,allow\r\n                    Allow from all\r\n            </IfVersion>\r\n            <IfVersion >= 2.4>\r\n                    Require all granted\r\n            </IfVersion>\r\n    </Directory>\r\n</VirtualHost>\r\n```\r\nIt's super cool that wsgi has many options to mitigate this issue short time, so I'm using cpu-time-limit to mitigate this for now\r\n\r\nWSGIDaemonProcess graphite-web processes=5 threads=5 display-name='%{GROUP}' inactivity-timeout=120 request-timeout=120 cpu-priority=15 cpu-time-limit=120\r\n\r\nRestarting httpd solves the issue for sometime though.\r\n\r\nI see this error in /opt/graphite/storage/log/webapp/exception.log\r\n```\r\nValueError: dividendSeriesList and divisorSeriesList argument must have equal length\r\n2019-06-12,16:19:53.132 :: Exception encountered in <POST http://rts-aggregated-graphite.aws.dataxu.net/render>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/site-packages/django/core/handlers/base.py\", line 185, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/opt/graphite/webapp/graphite/render/views.py\", line 118, in renderView\r\n    data.extend(evaluateTarget(requestContext, targets))\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 28, in evaluateTarget\r\n    result = evaluateTokens(requestContext, target)\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 57, in evaluateTokens\r\n    return evaluateTokens(requestContext, tokens.expression, replacements)\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 88, in evaluateTokens\r\n    args = [evaluateTokens(requestContext, arg, replacements) for arg in rawArgs]\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 57, in evaluateTokens\r\n    return evaluateTokens(requestContext, tokens.expression, replacements)\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 93, in evaluateTokens\r\n    return func(requestContext, *args, **kwargs)\r\n  File \"/opt/graphite/webapp/graphite/render/functions.py\", line 1019, in divideSeriesLists\r\n    raise ValueError(\"dividendSeriesList and divisorSeriesList argument must have equal length\")\r\nValueError: dividendSeriesList and divisorSeriesList argument must have equal length\r\n2019-06-12,16:19:53.282 :: Exception encountered in <POST http://rts-aggregated-graphite.aws.dataxu.net/render>\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/site-packages/django/core/handlers/base.py\", line 185, in _get_response\r\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\r\n  File \"/opt/graphite/webapp/graphite/render/views.py\", line 118, in renderView\r\n    data.extend(evaluateTarget(requestContext, targets))\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 28, in evaluateTarget\r\n    result = evaluateTokens(requestContext, target)\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 57, in evaluateTokens\r\n    return evaluateTokens(requestContext, tokens.expression, replacements)\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 88, in evaluateTokens\r\n    args = [evaluateTokens(requestContext, arg, replacements) for arg in rawArgs]\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 57, in evaluateTokens\r\n    return evaluateTokens(requestContext, tokens.expression, replacements)\r\n  File \"/opt/graphite/webapp/graphite/render/evaluator.py\", line 93, in evaluateTokens\r\n    return func(requestContext, *args, **kwargs)\r\n  File \"/opt/graphite/webapp/graphite/render/functions.py\", line 1019, in divideSeriesLists\r\n    raise ValueError(\"dividendSeriesList and divisorSeriesList argument must have equal length\")\r\n```\r\n\r\n<img width=\"969\" alt=\"Screen Shot 2019-06-12 at 12 06 21 PM\" src=\"https://user-images.githubusercontent.com/7442733/59383479-f7af0d00-8d2d-11e9-90e0-da59b6ceea5a.png\">\r\n\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2453", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2453/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2453/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2453/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2453", "id": 453676389, "node_id": "MDU6SXNzdWU0NTM2NzYzODk=", "number": 2453, "title": "Availability KPI ", "user": {"login": "iakovgan", "id": 9697819, "node_id": "MDQ6VXNlcjk2OTc4MTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/9697819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iakovgan", "html_url": "https://github.com/iakovgan", "followers_url": "https://api.github.com/users/iakovgan/followers", "following_url": "https://api.github.com/users/iakovgan/following{/other_user}", "gists_url": "https://api.github.com/users/iakovgan/gists{/gist_id}", "starred_url": "https://api.github.com/users/iakovgan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iakovgan/subscriptions", "organizations_url": "https://api.github.com/users/iakovgan/orgs", "repos_url": "https://api.github.com/users/iakovgan/repos", "events_url": "https://api.github.com/users/iakovgan/events{/privacy}", "received_events_url": "https://api.github.com/users/iakovgan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-07T20:13:51Z", "updated_at": "2019-07-06T10:41:02Z", "closed_at": "2019-07-06T10:41:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I wonder if there is a possibility to easily calculate availability kpi? \r\n\r\nlet's say we have a metric that is:\r\n * 1 when service is up and\r\n*   0 when service is down. \r\n\r\nIs there a way to measure on given interval what was the percent of service availability? Sum of 1-s divided by a total number of points in the interval?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2449", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2449/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2449/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2449/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2449", "id": 448204998, "node_id": "MDU6SXNzdWU0NDgyMDQ5OTg=", "number": 2449, "title": "Calling evaluateTarget in a function loses prefetched data from other targets", "user": {"login": "cbowman0", "id": 1764481, "node_id": "MDQ6VXNlcjE3NjQ0ODE=", "avatar_url": "https://avatars0.githubusercontent.com/u/1764481?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbowman0", "html_url": "https://github.com/cbowman0", "followers_url": "https://api.github.com/users/cbowman0/followers", "following_url": "https://api.github.com/users/cbowman0/following{/other_user}", "gists_url": "https://api.github.com/users/cbowman0/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbowman0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbowman0/subscriptions", "organizations_url": "https://api.github.com/users/cbowman0/orgs", "repos_url": "https://api.github.com/users/cbowman0/repos", "events_url": "https://api.github.com/users/cbowman0/events{/privacy}", "received_events_url": "https://api.github.com/users/cbowman0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-24T14:36:23Z", "updated_at": "2019-06-24T15:29:14Z", "closed_at": "2019-06-24T15:29:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In a request that has multiple targets (or multiple series in the params), that invokes a function that calls evaluateTarget directly (like useSeriesAbove) we lose the prefetched data.\r\n\r\nExample:\r\ntarget=useSeriesAbove(a.b.c.d,0,\"d\",\"e\")&target=w.x.y.z would do:\r\n1. prefetchData for a.b.c.d and w.x.y.z\r\n2. Invoke useSeriesAbove for a.b.c.d and invoke evaluateTarget on a.b.c.e\r\n3. prefetchData for a.b.c.e\r\n4. Overwrite all prefetched data with the data from a.b.c.e in requestContext\r\n5. When the loop in evaluateTarget gets to w.x.y.z and calls evaluateToken, the prefetched data for it no longer exists and it determines there's no data for that series and doesn't return anything for it.\r\n\r\nI attempted to use a copy of requestContext in useSeriesAbove, but that is a shallow copy of the dict, so no change in behavior.  Attempting to use copy.deepcopy() resulted in an error about a str not being callable.  So that didn't work.  If we do:\r\n\r\n```\r\n-  newSeries = evaluateTarget(requestContext, 'group(%s)' % ','.join(newNames))\r\n+  newContext = requestContext.copy()\r\n+  newContext['prefetched'] = {}\r\n+\r\n+  newSeries = evaluateTarget(newContext, 'group(%s)' % ','.join(newNames))\r\n```\r\n\r\nAn alternative solution is to merge the data in prefetch().  It's more generic (and would prevent issues on other uses like this) but could have side effects:\r\n```\r\n-  requestContext['prefetched'][(startTime, endTime, now)] = prefetched\r\n+  if not requestContext['prefetched'].get((startTime, endTime, now)):\r\n+    requestContext['prefetched'][(startTime, endTime, now)] = prefetched\r\n+  else:\r\n+    requestContext['prefetched'][(startTime, endTime, now)].update(prefetched)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2448", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2448/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2448/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2448/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2448", "id": 446961319, "node_id": "MDU6SXNzdWU0NDY5NjEzMTk=", "number": 2448, "title": "Result of function currentBelow not correct", "user": {"login": "ralphbr", "id": 25218793, "node_id": "MDQ6VXNlcjI1MjE4Nzkz", "avatar_url": "https://avatars0.githubusercontent.com/u/25218793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ralphbr", "html_url": "https://github.com/ralphbr", "followers_url": "https://api.github.com/users/ralphbr/followers", "following_url": "https://api.github.com/users/ralphbr/following{/other_user}", "gists_url": "https://api.github.com/users/ralphbr/gists{/gist_id}", "starred_url": "https://api.github.com/users/ralphbr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ralphbr/subscriptions", "organizations_url": "https://api.github.com/users/ralphbr/orgs", "repos_url": "https://api.github.com/users/ralphbr/repos", "events_url": "https://api.github.com/users/ralphbr/events{/privacy}", "received_events_url": "https://api.github.com/users/ralphbr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-22T06:50:06Z", "updated_at": "2019-05-22T10:23:40Z", "closed_at": "2019-05-22T10:23:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "We are counting host up and down in two different graphs. The metrics contain 0 or 1 as values (icinga2 metadata).\r\n\r\nFunction 1 to count hosts in state up: \r\ncountSeries(currentBelow(icinga2.*_mydomain_net.host.hostalive4.metadata.state, 1))\r\n\r\nFunction 2 to count host in state down:\r\nfallbackSeries(countSeries(currentAbove(icinga2.*_mydomain_net.host.hostalive4.metadata.state, 0)),constantLine(0))\r\n\r\nFunction 1 is always counting all host, even the last state of a host is 1 = down, so its result is always the number of all hosts. \r\n \r\nWe are using the actual graphite docker version.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2447", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2447/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2447/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2447/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2447", "id": 445151311, "node_id": "MDU6SXNzdWU0NDUxNTEzMTE=", "number": 2447, "title": "edit", "user": {"login": "mcuca1", "id": 11802541, "node_id": "MDQ6VXNlcjExODAyNTQx", "avatar_url": "https://avatars3.githubusercontent.com/u/11802541?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcuca1", "html_url": "https://github.com/mcuca1", "followers_url": "https://api.github.com/users/mcuca1/followers", "following_url": "https://api.github.com/users/mcuca1/following{/other_user}", "gists_url": "https://api.github.com/users/mcuca1/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcuca1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcuca1/subscriptions", "organizations_url": "https://api.github.com/users/mcuca1/orgs", "repos_url": "https://api.github.com/users/mcuca1/repos", "events_url": "https://api.github.com/users/mcuca1/events{/privacy}", "received_events_url": "https://api.github.com/users/mcuca1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-16T20:44:12Z", "updated_at": "2019-05-16T21:10:53Z", "closed_at": "2019-05-16T21:10:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "edit", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2446", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2446/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2446/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2446/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2446", "id": 443691204, "node_id": "MDU6SXNzdWU0NDM2OTEyMDQ=", "number": 2446, "title": "PYTHONPATH=/opt/graphite/webapp django-admin.py migrate --settings=graphite.settings --run-syncdb", "user": {"login": "kathpalamit", "id": 5145343, "node_id": "MDQ6VXNlcjUxNDUzNDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5145343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kathpalamit", "html_url": "https://github.com/kathpalamit", "followers_url": "https://api.github.com/users/kathpalamit/followers", "following_url": "https://api.github.com/users/kathpalamit/following{/other_user}", "gists_url": "https://api.github.com/users/kathpalamit/gists{/gist_id}", "starred_url": "https://api.github.com/users/kathpalamit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kathpalamit/subscriptions", "organizations_url": "https://api.github.com/users/kathpalamit/orgs", "repos_url": "https://api.github.com/users/kathpalamit/repos", "events_url": "https://api.github.com/users/kathpalamit/events{/privacy}", "received_events_url": "https://api.github.com/users/kathpalamit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-14T03:19:35Z", "updated_at": "2019-07-06T10:40:40Z", "closed_at": "2019-07-06T10:40:40Z", "author_association": "NONE", "active_lock_reason": null, "body": " File \"/bin/django-admin.py\", line 5, in <module>\r\n    management.execute_from_command_line()\r\n  File \"/usr/lib/python2.7/site-packages/django/core/management/__init__.py\", line 364, in execute_from_command_line\r\n    utility.execute()\r\n  File \"/usr/lib/python2.7/site-packages/django/core/management/__init__.py\", line 356, in execute\r\n    self.fetch_command(subcommand).run_from_argv(self.argv)\r\n  File \"/usr/lib/python2.7/site-packages/django/core/management/base.py\", line 283, in run_from_argv\r\n    self.execute(*args, **cmd_options)\r\n  File \"/usr/lib/python2.7/site-packages/django/core/management/base.py\", line 327, in execute\r\n    self.check()\r\n  File \"/usr/lib/python2.7/site-packages/django/core/management/base.py\", line 359, in check\r\n    include_deployment_checks=include_deployment_checks,\r\n  File \"/usr/lib/python2.7/site-packages/django/core/management/commands/migrate.py\", line 61, in _run_checks\r\n    issues = run_checks(tags=[Tags.database])\r\n  File \"/usr/lib/python2.7/site-packages/django/core/checks/registry.py\", line 81, in run_checks\r\n    new_errors = check(app_configs=app_configs)\r\n  File \"/usr/lib/python2.7/site-packages/django/core/checks/database.py\", line 10, in check_database_backends\r\n    issues.extend(conn.validation.check(**kwargs))\r\n  File \"/usr/lib/python2.7/site-packages/django/db/backends/mysql/validation.py\", line 9, in check\r\n    issues.extend(self._check_sql_mode(**kwargs))\r\n  File \"/usr/lib/python2.7/site-packages/django/db/backends/mysql/validation.py\", line 13, in _check_sql_mode\r\n    with self.connection.cursor() as cursor:\r\n  File \"/usr/lib/python2.7/site-packages/django/db/backends/base/base.py\", line 254, in cursor\r\n    return self._cursor()\r\n  File \"/usr/lib/python2.7/site-packages/django/db/backends/base/base.py\", line 229, in _cursor\r\n    self.ensure_connection()\r\n  File \"/usr/lib/python2.7/site-packages/django/db/backends/base/base.py\", line 213, in ensure_connection\r\n    self.connect()\r\n  File \"/usr/lib/python2.7/site-packages/django/db/utils.py\", line 94, in __exit__\r\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\r\n  File \"/usr/lib/python2.7/site-packages/django/db/backends/base/base.py\", line 213, in ensure_connection\r\n    self.connect()\r\n  File \"/usr/lib/python2.7/site-packages/django/db/backends/base/base.py\", line 189, in connect\r\n    self.connection = self.get_new_connection(conn_params)\r\n  File \"/usr/lib/python2.7/site-packages/django/db/backends/mysql/base.py\", line 274, in get_new_connection\r\n    conn = Database.connect(**conn_params)\r\n  File \"/usr/lib64/python2.7/site-packages/MySQLdb/__init__.py\", line 81, in Connect\r\n    return Connection(*args, **kwargs)\r\n  File \"/usr/lib64/python2.7/site-packages/MySQLdb/connections.py\", line 193, in __init__\r\n    super(Connection, self).__init__(*args, **kwargs2)\r\ndjango.db.utils.OperationalError: (2002, \"Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)\")\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2445", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2445/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2445/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2445/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2445", "id": 443280532, "node_id": "MDU6SXNzdWU0NDMyODA1MzI=", "number": 2445, "title": "how to calculate difference between series value and series time ?", "user": {"login": "dumbdonkey", "id": 16414369, "node_id": "MDQ6VXNlcjE2NDE0MzY5", "avatar_url": "https://avatars2.githubusercontent.com/u/16414369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dumbdonkey", "html_url": "https://github.com/dumbdonkey", "followers_url": "https://api.github.com/users/dumbdonkey/followers", "following_url": "https://api.github.com/users/dumbdonkey/following{/other_user}", "gists_url": "https://api.github.com/users/dumbdonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/dumbdonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dumbdonkey/subscriptions", "organizations_url": "https://api.github.com/users/dumbdonkey/orgs", "repos_url": "https://api.github.com/users/dumbdonkey/repos", "events_url": "https://api.github.com/users/dumbdonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/dumbdonkey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-05-13T08:55:50Z", "updated_at": "2019-05-14T02:35:02Z", "closed_at": "2019-05-14T02:35:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a need to calculate the difference between series value and series time. \r\n\r\nI've tried to use an expression like this \r\n```\r\ndiffSeries(demo.water.line.metricId=expose,time(demo.water.line.metricId=expose))\r\n```\r\nwhich just produced an error:\r\n\r\n```\r\nsequence item 1: expected string or Unicode, list found\r\n```\r\nwhat can I do to make it work?  Thanks in advance!\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2444", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2444/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2444/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2444/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2444", "id": 437070710, "node_id": "MDU6SXNzdWU0MzcwNzA3MTA=", "number": 2444, "title": "have a basic docker image with just carbon and whisper (and for the other services)?", "user": {"login": "f1-outsourcing", "id": 13450219, "node_id": "MDQ6VXNlcjEzNDUwMjE5", "avatar_url": "https://avatars2.githubusercontent.com/u/13450219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/f1-outsourcing", "html_url": "https://github.com/f1-outsourcing", "followers_url": "https://api.github.com/users/f1-outsourcing/followers", "following_url": "https://api.github.com/users/f1-outsourcing/following{/other_user}", "gists_url": "https://api.github.com/users/f1-outsourcing/gists{/gist_id}", "starred_url": "https://api.github.com/users/f1-outsourcing/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/f1-outsourcing/subscriptions", "organizations_url": "https://api.github.com/users/f1-outsourcing/orgs", "repos_url": "https://api.github.com/users/f1-outsourcing/repos", "events_url": "https://api.github.com/users/f1-outsourcing/events{/privacy}", "received_events_url": "https://api.github.com/users/f1-outsourcing/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-25T08:27:42Z", "updated_at": "2019-07-05T07:51:05Z", "closed_at": "2019-07-05T07:51:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to move away from my influxdb. Currently I am using that with grafana.\r\n\r\nI thought it would be easiest to adapt my collectd's to send data not to influx but to graphite(carbon/whisper), and change the dashboards in grafana to use the graphite data source.\r\n\r\nSo I really do not need (I think) anything other than carbon and whisper. And would like to use a docker image that has only these two services.\r\nI think from a container deployment perspective, you even would like to have all these services separate, so you can scale them individually, not?\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2442", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2442/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2442/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2442/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2442", "id": 432754868, "node_id": "MDU6SXNzdWU0MzI3NTQ4Njg=", "number": 2442, "title": "graphite.wsgi' cannot be loaded as Python module.", "user": {"login": "rufa11", "id": 16125467, "node_id": "MDQ6VXNlcjE2MTI1NDY3", "avatar_url": "https://avatars2.githubusercontent.com/u/16125467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rufa11", "html_url": "https://github.com/rufa11", "followers_url": "https://api.github.com/users/rufa11/followers", "following_url": "https://api.github.com/users/rufa11/following{/other_user}", "gists_url": "https://api.github.com/users/rufa11/gists{/gist_id}", "starred_url": "https://api.github.com/users/rufa11/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rufa11/subscriptions", "organizations_url": "https://api.github.com/users/rufa11/orgs", "repos_url": "https://api.github.com/users/rufa11/repos", "events_url": "https://api.github.com/users/rufa11/events{/privacy}", "received_events_url": "https://api.github.com/users/rufa11/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-04-12T21:37:26Z", "updated_at": "2019-10-14T15:07:02Z", "closed_at": "2019-07-05T07:49:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI installed graphite on Ubuntu 18.04 but i have the following issue:\r\n```\r\n[Fri Apr 12 17:25:59.373128 2019] [wsgi:error] [pid 11510:tid 140183124670208] [remote 172.16.24.99:59446] mod_wsgi (pid=11510): Target WSGI script '/usr/share/graphite-web/graphite.wsgi' cannot be loaded as Python module.\r\n[Fri Apr 12 17:25:59.373165 2019] [wsgi:error] [pid 11510:tid 140183124670208] [remote 172.16.24.99:59446] mod_wsgi (pid=11510): Exception occurred processing WSGI script '/usr/share/graphite-web/graphite.wsgi'.\r\n[Fri Apr 12 17:25:59.373198 2019] [wsgi:error] [pid 11510:tid 140183124670208] [remote 172.16.24.99:59446] Traceback (most recent call last):\r\n[Fri Apr 12 17:25:59.373214 2019] [wsgi:error] [pid 11510:tid 140183124670208] [remote 172.16.24.99:59446]   File \"/usr/share/graphite-web/graphite.wsgi\", line 14, in <module>\r\n[Fri Apr 12 17:25:59.373259 2019] [wsgi:error] [pid 11510:tid 140183124670208] [remote 172.16.24.99:59446]     application = get_wsgi_application()\r\n[Fri Apr 12 17:25:59.373269 2019] [wsgi:error] [pid 11510:tid 140183124670208] [remote 172.16.24.99:59446]   File \"/usr/lib/python2.7/dist-packages/django/core/wsgi.py\", line 13, in get_wsgi_application\r\n[Fri Apr 12 17:25:59.373297 2019] [wsgi:error] [pid 11510:tid 140183124670208] [remote 172.16.24.99:59446]     django.setup(set_prefix=False)\r\n...\r\n```\r\n\r\nI tried:\r\n- Starting Apache without wsgi.py but the same error.\r\n- Replacing wsgi.py with the following lines but the same error:\r\n```\r\nimport sys\r\n# In case of multi-instance graphite, uncomment and set appropriate name\r\n# import os\r\n# os.environ['GRAPHITE_SETTINGS_MODULE'] = 'graphite.local_settings'\r\nsys.path.append('/opt/graphite/webapp')\r\n\r\nfrom graphite.wsgi import application \r\n``` \r\n\r\nCan someone help please !", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2441", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2441/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2441/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2441/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2441", "id": 431876734, "node_id": "MDU6SXNzdWU0MzE4NzY3MzQ=", "number": 2441, "title": "Change y-axis labels to % for line chart", "user": {"login": "philliprognerud", "id": 17166224, "node_id": "MDQ6VXNlcjE3MTY2MjI0", "avatar_url": "https://avatars1.githubusercontent.com/u/17166224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philliprognerud", "html_url": "https://github.com/philliprognerud", "followers_url": "https://api.github.com/users/philliprognerud/followers", "following_url": "https://api.github.com/users/philliprognerud/following{/other_user}", "gists_url": "https://api.github.com/users/philliprognerud/gists{/gist_id}", "starred_url": "https://api.github.com/users/philliprognerud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philliprognerud/subscriptions", "organizations_url": "https://api.github.com/users/philliprognerud/orgs", "repos_url": "https://api.github.com/users/philliprognerud/repos", "events_url": "https://api.github.com/users/philliprognerud/events{/privacy}", "received_events_url": "https://api.github.com/users/philliprognerud/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-04-11T07:44:20Z", "updated_at": "2020-04-20T20:38:59Z", "closed_at": "2020-04-20T20:38:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "It doesn\u2019t seem like graphite supports changing the y-axis labels to percentages on **line charts**, but they support it on pie charts, oddly enough: https://graphite.readthedocs.io/en/latest/render_api.html?highlight=y-axis#valuelabels\r\n\r\nI looked at the meta data from an svg formatted image. Surely enough they have a `y.labels` array for y-axis, but you can\u2019t modify it through their Render URL API as a parameter??\r\n\r\n```\r\n\"y\": {\r\n        \"labelValues\": [0, 0.25, 0.5, 0.75, 1.0],\r\n        \"labels\": [\"0 \", \"0.25 \", \"0.50 \", \"0.75 \", \"1.00  \"],\r\n        \"step\": 0.25\r\n      }\r\n```\r\nHere's what I currently have: \r\n\r\n`/render?target=asPercent(node.load_avg.one,1)&format=png&yMax=100&yStep=25`\r\n\r\nThis takes the node load average and return percentages. For example, if a value was 0.75 it would convert it to 75. However, the y-axis does not display \"%\" character next to the ySteps. A small thing, but it would be nice if I could make it say 75% instead of 75...\r\n\r\nHere's what I want:\r\n\r\n```\r\n\"y\": {\r\n        \"labelValues\": [0, 25, 50, 75, 100],\r\n        \"labels\": [\"0%\", \"25%\", \"50%\", \"75%\", \"100%\"],\r\n        \"step\": 25\r\n      }\r\n```\r\n\r\nIt would be nice if we could change the y-axis labels through the Render URL API. The documentation doesn't specify a way to do so from what I'm reading. If there is a way, please reply :)!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2440", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2440/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2440/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2440/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2440", "id": 431578272, "node_id": "MDU6SXNzdWU0MzE1NzgyNzI=", "number": 2440, "title": "API queries return inconsistent values", "user": {"login": "njchandu", "id": 7442733, "node_id": "MDQ6VXNlcjc0NDI3MzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/7442733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/njchandu", "html_url": "https://github.com/njchandu", "followers_url": "https://api.github.com/users/njchandu/followers", "following_url": "https://api.github.com/users/njchandu/following{/other_user}", "gists_url": "https://api.github.com/users/njchandu/gists{/gist_id}", "starred_url": "https://api.github.com/users/njchandu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/njchandu/subscriptions", "organizations_url": "https://api.github.com/users/njchandu/orgs", "repos_url": "https://api.github.com/users/njchandu/repos", "events_url": "https://api.github.com/users/njchandu/events{/privacy}", "received_events_url": "https://api.github.com/users/njchandu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-10T15:45:58Z", "updated_at": "2020-04-06T14:48:46Z", "closed_at": "2020-04-06T14:48:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "API queries return blank inconsistently. I'm not really sure what's going wrong. Can you please help?\r\n\r\n```\r\n[root@ip-172-17-79-90 opt]# curl -s 'http://graphite-web.net/render?target=carbon.agents.ip-172-17-79-90.cache.size&from=-10min&format=csv'\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:02:00,78614.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:03:00,77999.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:04:00,77643.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:05:00,77836.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:06:00,78664.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:07:00,78569.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:08:00,79008.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:09:00,78381.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:10:00,78508.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:11:00,78994.0\r\n[root@ip-172-17-79-90 opt]# curl -s 'http:/graphite-web.net/render?target=carbon.agents.ip-172-17-79-90.cache.size&from=-10min&format=csv'\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:04:00,77643.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:05:00,77836.0\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:06:00,\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:07:00,\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:08:00,\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:09:00,\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:10:00,\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:11:00,\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:12:00,\r\ncarbon.agents.ip-172-17-79-90.cache.size,2019-04-09 19:13:00,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2439", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2439/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2439/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2439/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2439", "id": 430578627, "node_id": "MDU6SXNzdWU0MzA1Nzg2Mjc=", "number": 2439, "title": "Graphite not collecting metrics", "user": {"login": "tchuiselg", "id": 33694271, "node_id": "MDQ6VXNlcjMzNjk0Mjcx", "avatar_url": "https://avatars2.githubusercontent.com/u/33694271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tchuiselg", "html_url": "https://github.com/tchuiselg", "followers_url": "https://api.github.com/users/tchuiselg/followers", "following_url": "https://api.github.com/users/tchuiselg/following{/other_user}", "gists_url": "https://api.github.com/users/tchuiselg/gists{/gist_id}", "starred_url": "https://api.github.com/users/tchuiselg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tchuiselg/subscriptions", "organizations_url": "https://api.github.com/users/tchuiselg/orgs", "repos_url": "https://api.github.com/users/tchuiselg/repos", "events_url": "https://api.github.com/users/tchuiselg/events{/privacy}", "received_events_url": "https://api.github.com/users/tchuiselg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-08T17:48:34Z", "updated_at": "2019-07-05T07:53:01Z", "closed_at": "2019-07-05T07:53:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi I installed graphite and grafana, but none are collecting metrics from my Netapp I installed netapp-harvest already I am new can I receive assitance?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2438", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2438/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2438/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2438/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2438", "id": 430342189, "node_id": "MDU6SXNzdWU0MzAzNDIxODk=", "number": 2438, "title": "All files of the System", "user": {"login": "Siddhu1096", "id": 22325249, "node_id": "MDQ6VXNlcjIyMzI1MjQ5", "avatar_url": "https://avatars1.githubusercontent.com/u/22325249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Siddhu1096", "html_url": "https://github.com/Siddhu1096", "followers_url": "https://api.github.com/users/Siddhu1096/followers", "following_url": "https://api.github.com/users/Siddhu1096/following{/other_user}", "gists_url": "https://api.github.com/users/Siddhu1096/gists{/gist_id}", "starred_url": "https://api.github.com/users/Siddhu1096/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Siddhu1096/subscriptions", "organizations_url": "https://api.github.com/users/Siddhu1096/orgs", "repos_url": "https://api.github.com/users/Siddhu1096/repos", "events_url": "https://api.github.com/users/Siddhu1096/events{/privacy}", "received_events_url": "https://api.github.com/users/Siddhu1096/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-04-08T09:19:12Z", "updated_at": "2019-04-08T14:52:26Z", "closed_at": "2019-04-08T14:52:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Team,\r\n\r\nHow to add all the folders and sub-folders of the system on graphite?\r\n\r\nThanks,\r\nSiddharth", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2437", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2437/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2437/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2437/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2437", "id": 429961417, "node_id": "MDU6SXNzdWU0Mjk5NjE0MTc=", "number": 2437, "title": "Getting read timeout from webserver", "user": {"login": "ceastman-ibm", "id": 25593207, "node_id": "MDQ6VXNlcjI1NTkzMjA3", "avatar_url": "https://avatars0.githubusercontent.com/u/25593207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ceastman-ibm", "html_url": "https://github.com/ceastman-ibm", "followers_url": "https://api.github.com/users/ceastman-ibm/followers", "following_url": "https://api.github.com/users/ceastman-ibm/following{/other_user}", "gists_url": "https://api.github.com/users/ceastman-ibm/gists{/gist_id}", "starred_url": "https://api.github.com/users/ceastman-ibm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ceastman-ibm/subscriptions", "organizations_url": "https://api.github.com/users/ceastman-ibm/orgs", "repos_url": "https://api.github.com/users/ceastman-ibm/repos", "events_url": "https://api.github.com/users/ceastman-ibm/events{/privacy}", "received_events_url": "https://api.github.com/users/ceastman-ibm/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-05T22:47:27Z", "updated_at": "2019-07-05T07:54:26Z", "closed_at": "2019-07-05T07:54:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am deploying graphite into an kubernetes container based upon this helm chart: https://github.com/kiwigrid/helm-charts/tree/master/charts/graphite \r\n\r\nWe are sending data into it but are seeing these in the console output:\r\nHTTPConnectionPool(host='127.0.0.1', port=8080): Read timed out. (read timeout=5)\r\n\r\ni have increased the following environment variables to these current levels which seems to have helped decrease the frequency of the time outs but they are still there:\r\n\r\n        - name: GRAPHITE_WSGI_PROCESSES\r\n          value: \"8\"\r\n          value: \"64\"\r\n        - name: GRAPHITE_WSGI_THREADS\r\n          value: \"4\"\r\n          value: \"16\"\r\n        - name: GRAPHITE_WSGI_REQUEST_TIMEOUT\r\n          value: \"130\"\r\n          value: \"1200\"\r\n        - name: GRAPHITE_WSGI_MAX_REQUESTS\r\n          value: \"10000\"\r\n          value: \"100000\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2435", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2435/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2435/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2435/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2435", "id": 427660236, "node_id": "MDU6SXNzdWU0Mjc2NjAyMzY=", "number": 2435, "title": "ImportError after updating icinga2 and graphite-web", "user": {"login": "Kulturserver", "id": 36917733, "node_id": "MDQ6VXNlcjM2OTE3NzMz", "avatar_url": "https://avatars3.githubusercontent.com/u/36917733?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Kulturserver", "html_url": "https://github.com/Kulturserver", "followers_url": "https://api.github.com/users/Kulturserver/followers", "following_url": "https://api.github.com/users/Kulturserver/following{/other_user}", "gists_url": "https://api.github.com/users/Kulturserver/gists{/gist_id}", "starred_url": "https://api.github.com/users/Kulturserver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Kulturserver/subscriptions", "organizations_url": "https://api.github.com/users/Kulturserver/orgs", "repos_url": "https://api.github.com/users/Kulturserver/repos", "events_url": "https://api.github.com/users/Kulturserver/events{/privacy}", "received_events_url": "https://api.github.com/users/Kulturserver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-04-01T11:47:17Z", "updated_at": "2019-07-05T07:52:34Z", "closed_at": "2019-07-05T07:52:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "We've installed the latest versions of icinga2 and graphite-web from the debian 9 backports. After that we weren't able to access the graphs of graphite-web anymore. The following error is shown:\r\n\r\n[wsgi:error] [pid 9729] [remote\r\n2001:16b8:4009:1e00:b6b5:2fff:fece:5239:33630] ImportError: cannot import name\r\nsmart_text\r\n\r\nAnybody got a hint what might be the problem? Thanks!\r\n\r\nWe use the following:\r\n\r\nDebian 9.8\r\nicinga 2.6.2.\r\npython 2.7.13 & 3.5.3\r\nGraphite-web: 1.0.2\r\npython-django: 1.10.7\r\npython-whisper: 1.0.2", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2434", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2434/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2434/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2434/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2434", "id": 426892653, "node_id": "MDU6SXNzdWU0MjY4OTI2NTM=", "number": 2434, "title": "functions order affect final result?", "user": {"login": "dumbdonkey", "id": 16414369, "node_id": "MDQ6VXNlcjE2NDE0MzY5", "avatar_url": "https://avatars2.githubusercontent.com/u/16414369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dumbdonkey", "html_url": "https://github.com/dumbdonkey", "followers_url": "https://api.github.com/users/dumbdonkey/followers", "following_url": "https://api.github.com/users/dumbdonkey/following{/other_user}", "gists_url": "https://api.github.com/users/dumbdonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/dumbdonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dumbdonkey/subscriptions", "organizations_url": "https://api.github.com/users/dumbdonkey/orgs", "repos_url": "https://api.github.com/users/dumbdonkey/repos", "events_url": "https://api.github.com/users/dumbdonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/dumbdonkey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-29T09:24:34Z", "updated_at": "2020-04-20T20:38:57Z", "closed_at": "2020-04-20T20:38:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a complicated metric like following\r\n\r\n```\r\ntags.realtime.evaluation.*.freq=*.unreaded\r\n\r\nthe asterisk stands for there are  different values\r\n```\r\n\r\nWhat I want to get is the difference value between current hour and previous hour of every freq label. (metric interval is 60s.)\r\n\r\nAccording to #2430 I've made two expressions like following:\r\n\r\nthe one show correct answer:\r\n\r\n```\r\ngroupByNodes(group(groupByNodes(summarize(tags.realtime.evaluation.*.freq=*.unreaded,'1h'),'sum',4),groupByNodes(summarize(timeShift(tags.realtime.evaluation.*.freq=*.unreaded,'1h'),'1h'),'sum',4)), \"diff\", 0)\r\n\r\n```\r\n \r\nthe one show wrong answer:\r\n\r\n```\r\ngroupByNodes(group(summarize(groupByNodes(tags.realtime.evaluation.*.freq=*.unreaded,'sum',4),'1h'),summarize(groupByNodes(timeShift(tags.realtime.evaluation.*.freq=*.unreaded,'1h'),'sum',4),'1h')), \"diff\", 0)\r\n\r\n```\r\n\r\nI've tried to debug second expression (the wrong one) and found the issue is function aggKey in 'render/functions.py' didn't give the right key.\r\n\r\n![image](https://user-images.githubusercontent.com/16414369/55222385-bd61c380-5246-11e9-850e-1c20fe764ffa.png)\r\n\r\nI will change my metric so I won't need to write such a complicated graphite expression,  before that I guess it would be better if I report this problem to you\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2432", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2432/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2432/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2432/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2432", "id": 426648395, "node_id": "MDU6SXNzdWU0MjY2NDgzOTU=", "number": 2432, "title": "Graph won't display anything older than 6 hours", "user": {"login": "arjones85", "id": 8582158, "node_id": "MDQ6VXNlcjg1ODIxNTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/8582158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arjones85", "html_url": "https://github.com/arjones85", "followers_url": "https://api.github.com/users/arjones85/followers", "following_url": "https://api.github.com/users/arjones85/following{/other_user}", "gists_url": "https://api.github.com/users/arjones85/gists{/gist_id}", "starred_url": "https://api.github.com/users/arjones85/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arjones85/subscriptions", "organizations_url": "https://api.github.com/users/arjones85/orgs", "repos_url": "https://api.github.com/users/arjones85/repos", "events_url": "https://api.github.com/users/arjones85/events{/privacy}", "received_events_url": "https://api.github.com/users/arjones85/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-28T18:34:32Z", "updated_at": "2019-03-28T19:57:49Z", "closed_at": "2019-03-28T19:57:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\n\r\nI am using the default configuration provided with the Graphite docker image. I have 3 custom metrics I have created and are sending data to successfully. Unfortunately though once I zoom out on the graph in the Graphite Browser to look at a time period older than 6 hours, all data in the graph disappears.\r\n\r\nHere's the configuration. I am not seeing what the issue could be. Any assistance is appreciated, thank you!\r\n\r\n```\r\n/opt/graphite/storage/whisper # cat /opt/graphite/conf/storage-schemas.conf\r\n# Schema definitions for Whisper files. Entries are scanned in order,\r\n# and first match wins. This file is scanned for changes every 60 seconds.\r\n#\r\n# Definition Syntax:\r\n#\r\n#    [name]\r\n#    pattern = regex\r\n#    retentions = timePerPoint:timeToStore, timePerPoint:timeToStore, ...\r\n#\r\n# Remember: To support accurate aggregation from higher to lower resolution\r\n#           archives, the precision of a longer retention archive must be\r\n#           cleanly divisible by precision of next lower retention archive.\r\n#\r\n#           Valid:    60s:7d,300s:30d (300/60 = 5)\r\n#           Invalid:  180s:7d,300s:30d (300/180 = 3.333)\r\n#\r\n\r\n# Carbon's internal metrics. This entry should match what is specified in\r\n# CARBON_METRIC_PREFIX and CARBON_METRIC_INTERVAL settings\r\n[carbon]\r\npattern = ^carbon\\.\r\nretentions = 10s:6h,1m:90d\r\n\r\n[default_1min_for_1day]\r\npattern = .*\r\nretentions = 10s:6h,1m:6d,10m:1800d\r\n```\r\n\r\n\r\n```\r\n/opt/graphite/storage/whisper # cat /opt/graphite/conf/storage-aggregation.conf\r\n# Aggregation methods for whisper files. Entries are scanned in order,\r\n# and first match wins. This file is scanned for changes every 60 seconds\r\n#\r\n#  [name]\r\n#  pattern = <regex>\r\n#  xFilesFactor = <float between 0 and 1>\r\n#  aggregationMethod = <average|sum|last|max|min>\r\n#\r\n#  name: Arbitrary unique name for the rule\r\n#  pattern: Regex pattern to match against the metric name\r\n#  xFilesFactor: Ratio of valid data points required for aggregation to the next retention to occur\r\n#  aggregationMethod: function to apply to data points for aggregation\r\n#\r\n[min]\r\npattern = \\.lower$\r\nxFilesFactor = 0.1\r\naggregationMethod = min\r\n\r\n[max]\r\npattern = \\.upper(_\\d+)?$\r\nxFilesFactor = 0.1\r\naggregationMethod = max\r\n\r\n[sum]\r\npattern = \\.sum$\r\nxFilesFactor = 0\r\naggregationMethod = sum\r\n\r\n[count]\r\npattern = \\.count$\r\nxFilesFactor = 0\r\naggregationMethod = sum\r\n\r\n[count_legacy]\r\npattern = ^stats_counts.*\r\nxFilesFactor = 0\r\naggregationMethod = sum\r\n\r\n[default_average]\r\npattern = .*\r\nxFilesFactor = 0.3\r\naggregationMethod = average\r\n```\r\n\r\n\r\nOne of the metrics:\r\n\r\n```\r\n/opt/graphite/storage/whisper # ../../bin/whisper-info.py ./LOGINS.wsp\r\naggregationMethod: average\r\nmaxRetention: 155520000\r\nxFilesFactor: 0.30000001192092896\r\nfileSize: 3240052\r\n\r\nArchive 0\r\noffset: 52\r\nsecondsPerPoint: 10\r\npoints: 2160\r\nretention: 21600\r\nsize: 25920\r\n\r\nArchive 1\r\noffset: 25972\r\nsecondsPerPoint: 60\r\npoints: 8640\r\nretention: 518400\r\nsize: 103680\r\n\r\nArchive 2\r\noffset: 129652\r\nsecondsPerPoint: 600\r\npoints: 259200\r\nretention: 155520000\r\nsize: 3110400\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2430", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2430/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2430/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2430/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2430", "id": 425249782, "node_id": "MDU6SXNzdWU0MjUyNDk3ODI=", "number": 2430, "title": "how to calculate difference of series with tags?", "user": {"login": "dumbdonkey", "id": 16414369, "node_id": "MDQ6VXNlcjE2NDE0MzY5", "avatar_url": "https://avatars2.githubusercontent.com/u/16414369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dumbdonkey", "html_url": "https://github.com/dumbdonkey", "followers_url": "https://api.github.com/users/dumbdonkey/followers", "following_url": "https://api.github.com/users/dumbdonkey/following{/other_user}", "gists_url": "https://api.github.com/users/dumbdonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/dumbdonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dumbdonkey/subscriptions", "organizations_url": "https://api.github.com/users/dumbdonkey/orgs", "repos_url": "https://api.github.com/users/dumbdonkey/repos", "events_url": "https://api.github.com/users/dumbdonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/dumbdonkey/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-26T06:36:45Z", "updated_at": "2019-03-29T09:09:46Z", "closed_at": "2019-03-29T09:09:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "my metric is like this, \r\n```\r\nrealtime.evaluation.freq=*.unreaded\r\n\r\nfreq has some different values like 0,1,2,3 etc.\r\n```\r\n\r\nI want to calculate the difference of every freq between current hour and last hour . how can I achieve it? thanks!\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2429", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2429/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2429/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2429/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2429", "id": 416029308, "node_id": "MDU6SXNzdWU0MTYwMjkzMDg=", "number": 2429, "title": "How to calculate ratio of multiple series list with different length ?", "user": {"login": "dumbdonkey", "id": 16414369, "node_id": "MDQ6VXNlcjE2NDE0MzY5", "avatar_url": "https://avatars2.githubusercontent.com/u/16414369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dumbdonkey", "html_url": "https://github.com/dumbdonkey", "followers_url": "https://api.github.com/users/dumbdonkey/followers", "following_url": "https://api.github.com/users/dumbdonkey/following{/other_user}", "gists_url": "https://api.github.com/users/dumbdonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/dumbdonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dumbdonkey/subscriptions", "organizations_url": "https://api.github.com/users/dumbdonkey/orgs", "repos_url": "https://api.github.com/users/dumbdonkey/repos", "events_url": "https://api.github.com/users/dumbdonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/dumbdonkey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}, {"id": 1983535348, "node_id": "MDU6TGFiZWwxOTgzNTM1MzQ4", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/stale", "name": "stale", "color": "abe27a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-03-01T10:07:47Z", "updated_at": "2020-04-20T20:38:58Z", "closed_at": "2020-04-20T20:38:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a metrics like following:\r\n\r\nsomeprefix.host=\\*.age=\\*.unreaded\r\n\r\nfirst asterisk part stands for a different host.\r\n\r\nsecond asterisk part stands for people with different ages.\r\n\r\nWhat I want to get is the ratio of current metric value to metric value of same time yesterday.  The metric value should be calculated as the summary of all hosts in every 5 minutes by every age group.\r\n\r\nI find a solution to use expression  'divideSeriesLists(summarize(groupByNode(someprefix.host=\\*.age=\\*.unreaded,2,\"sum\"),'5minutes'),summarize(timeShift(groupByNode(someprefix.host=\\*.age=\\*.unreaded,2,'sum'),'1d'),'5minutes'))'.\r\n\r\nthis would be ok if yesterday series lists have the same length as today one. what if they have different lengths, I want to find a robust method. \r\n\r\n\r\nHope I've made myself clear. thanks a lot. \r\n\r\nBy the way. I'm poor at English. I guess I've made a lot of grammar mistakes. if you can help me point it out, it would be very nice.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2428", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2428/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2428/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2428/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2428", "id": 415677038, "node_id": "MDU6SXNzdWU0MTU2NzcwMzg=", "number": 2428, "title": "ImportError: No module named django.core", "user": {"login": "shirishkale", "id": 7253980, "node_id": "MDQ6VXNlcjcyNTM5ODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7253980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shirishkale", "html_url": "https://github.com/shirishkale", "followers_url": "https://api.github.com/users/shirishkale/followers", "following_url": "https://api.github.com/users/shirishkale/following{/other_user}", "gists_url": "https://api.github.com/users/shirishkale/gists{/gist_id}", "starred_url": "https://api.github.com/users/shirishkale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shirishkale/subscriptions", "organizations_url": "https://api.github.com/users/shirishkale/orgs", "repos_url": "https://api.github.com/users/shirishkale/repos", "events_url": "https://api.github.com/users/shirishkale/events{/privacy}", "received_events_url": "https://api.github.com/users/shirishkale/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2019-02-28T15:21:44Z", "updated_at": "2019-03-19T14:08:55Z", "closed_at": "2019-03-12T19:28:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I am trying to start the graphite server using the following command\r\n\r\nPYTHONPATH=`pwd`/storage/whisper ./bin/run-graphite-devel-server.py --port=80 --libs=`pwd`/webapp /data/graphite 1>/data/graphite/storage/log/webapp/process.log 2>&1 &\r\n\r\nI am getting the following error\r\n\r\nFile \"./bin/run-graphite-devel-server.py\", line 6, in <module>\r\n  from django.core import management\r\nImportError: No module named django.core.\r\n\r\nPreviously this used to work when I had installed carbon, whisper and graphite-web using  python setup.py.\r\n\r\nOn attempting a reinstall I started getting error \"Whisper module could not be loaded\". As a result I installed all these 3 using pip and I have started getting the error. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2427", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2427/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2427/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2427/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2427", "id": 412015483, "node_id": "MDU6SXNzdWU0MTIwMTU0ODM=", "number": 2427, "title": "Graphite Web composer does not load fully, static files missing.", "user": {"login": "shirishkale", "id": 7253980, "node_id": "MDQ6VXNlcjcyNTM5ODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/7253980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shirishkale", "html_url": "https://github.com/shirishkale", "followers_url": "https://api.github.com/users/shirishkale/followers", "following_url": "https://api.github.com/users/shirishkale/following{/other_user}", "gists_url": "https://api.github.com/users/shirishkale/gists{/gist_id}", "starred_url": "https://api.github.com/users/shirishkale/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shirishkale/subscriptions", "organizations_url": "https://api.github.com/users/shirishkale/orgs", "repos_url": "https://api.github.com/users/shirishkale/repos", "events_url": "https://api.github.com/users/shirishkale/events{/privacy}", "received_events_url": "https://api.github.com/users/shirishkale/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2019-02-19T16:35:34Z", "updated_at": "2019-02-28T16:21:12Z", "closed_at": "2019-02-28T16:21:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have installed as per the instructions Carbon, Whisper and Graphite web.\r\nOn the graph database neo4j the configuration file has all the required configurations. \r\nCarbon agent seems to be running, it is also capturing the data correctly as I see changes in wsp file sizes\r\nBut when I go to graphite web no metric is displayed.\r\n\r\nI have been trying for more than a month. Not sure if its an issue with my setup or I amdoing something wrong,\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2423", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2423/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2423/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2423/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2423", "id": 406484736, "node_id": "MDU6SXNzdWU0MDY0ODQ3MzY=", "number": 2423, "title": "datapoints value returned on cache.log", "user": {"login": "JosephFY", "id": 28739923, "node_id": "MDQ6VXNlcjI4NzM5OTIz", "avatar_url": "https://avatars1.githubusercontent.com/u/28739923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JosephFY", "html_url": "https://github.com/JosephFY", "followers_url": "https://api.github.com/users/JosephFY/followers", "following_url": "https://api.github.com/users/JosephFY/following{/other_user}", "gists_url": "https://api.github.com/users/JosephFY/gists{/gist_id}", "starred_url": "https://api.github.com/users/JosephFY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JosephFY/subscriptions", "organizations_url": "https://api.github.com/users/JosephFY/orgs", "repos_url": "https://api.github.com/users/JosephFY/repos", "events_url": "https://api.github.com/users/JosephFY/events{/privacy}", "received_events_url": "https://api.github.com/users/JosephFY/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 12, "created_at": "2019-02-04T19:35:09Z", "updated_at": "2019-02-28T16:25:22Z", "closed_at": "2019-02-28T16:25:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nUsing `graphite_web-1.1.3-py2.7.egg-info`\r\n\r\nI am pushing data every one minute. I have a dashboard with a time period of the last 5 minutes in Grafana. The query inspector on Grafana shows only 5 data points returned when I refresh the dashboard. \r\n\r\nEverytime I refresh the dashboard for the metrics on Grafana the count of  `returned x datapoints` increments the value by one in cache.log\r\n\r\n`CarbonLink cache-query request for xxxx.xxxx.xxx returned **27** datapoints`\r\n\r\nI am  setting up a big query and it's taking long time (which is expected), My concern if there is more data is being requested that's making the query taking more than it should.\r\n\r\nIs this the intended behaviour ? it just doesnt make sense to me.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2422", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2422/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2422/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2422/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2422", "id": 406067596, "node_id": "MDU6SXNzdWU0MDYwNjc1OTY=", "number": 2422, "title": "Type of \"value\" for useSeriesAbove should be Integer, not string", "user": {"login": "Civil", "id": 844380, "node_id": "MDQ6VXNlcjg0NDM4MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/844380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Civil", "html_url": "https://github.com/Civil", "followers_url": "https://api.github.com/users/Civil/followers", "following_url": "https://api.github.com/users/Civil/following{/other_user}", "gists_url": "https://api.github.com/users/Civil/gists{/gist_id}", "starred_url": "https://api.github.com/users/Civil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Civil/subscriptions", "organizations_url": "https://api.github.com/users/Civil/orgs", "repos_url": "https://api.github.com/users/Civil/repos", "events_url": "https://api.github.com/users/Civil/events{/privacy}", "received_events_url": "https://api.github.com/users/Civil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 4571162, "node_id": "MDU6TGFiZWw0NTcxMTYy", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 2010811804, "node_id": "MDU6TGFiZWwyMDEwODExODA0", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/pinned", "name": "pinned", "color": "4bd87a", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "deniszh", "id": 1227222, "node_id": "MDQ6VXNlcjEyMjcyMjI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1227222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deniszh", "html_url": "https://github.com/deniszh", "followers_url": "https://api.github.com/users/deniszh/followers", "following_url": "https://api.github.com/users/deniszh/following{/other_user}", "gists_url": "https://api.github.com/users/deniszh/gists{/gist_id}", "starred_url": "https://api.github.com/users/deniszh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deniszh/subscriptions", "organizations_url": "https://api.github.com/users/deniszh/orgs", "repos_url": "https://api.github.com/users/deniszh/repos", "events_url": "https://api.github.com/users/deniszh/events{/privacy}", "received_events_url": "https://api.github.com/users/deniszh/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2019-02-03T08:57:01Z", "updated_at": "2020-06-30T12:37:12Z", "closed_at": "2020-06-26T23:34:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/graphite-project/graphite-web/blob/b6d6d93665a4fd11c347a8e966b51fec6520fc33/webapp/graphite/render/functions.py#L3526\r\n\r\nAccording to the function's code, it's used in numeric comparisons, so it should be Integer, not \"string\".", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2420", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2420/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2420/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2420/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2420", "id": 405190294, "node_id": "MDU6SXNzdWU0MDUxOTAyOTQ=", "number": 2420, "title": "what's the default user and password to login graphite-web?", "user": {"login": "dumbdonkey", "id": 16414369, "node_id": "MDQ6VXNlcjE2NDE0MzY5", "avatar_url": "https://avatars2.githubusercontent.com/u/16414369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dumbdonkey", "html_url": "https://github.com/dumbdonkey", "followers_url": "https://api.github.com/users/dumbdonkey/followers", "following_url": "https://api.github.com/users/dumbdonkey/following{/other_user}", "gists_url": "https://api.github.com/users/dumbdonkey/gists{/gist_id}", "starred_url": "https://api.github.com/users/dumbdonkey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dumbdonkey/subscriptions", "organizations_url": "https://api.github.com/users/dumbdonkey/orgs", "repos_url": "https://api.github.com/users/dumbdonkey/repos", "events_url": "https://api.github.com/users/dumbdonkey/events{/privacy}", "received_events_url": "https://api.github.com/users/dumbdonkey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-01-31T10:59:25Z", "updated_at": "2019-10-07T14:43:21Z", "closed_at": "2019-02-28T16:23:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've installed graphite-web according to official documentation. \r\nwhen I try to login graphite-web so that I can save my own graph, it needs a username and password.\r\n\r\nwhere can I find them? I've searched the documentation however found nothing.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2419", "repository_url": "https://api.github.com/repos/graphite-project/graphite-web", "labels_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2419/labels{/name}", "comments_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2419/comments", "events_url": "https://api.github.com/repos/graphite-project/graphite-web/issues/2419/events", "html_url": "https://github.com/graphite-project/graphite-web/issues/2419", "id": 404744782, "node_id": "MDU6SXNzdWU0MDQ3NDQ3ODI=", "number": 2419, "title": "Memory Utilization from Graphite ", "user": {"login": "vaibhavpujari89", "id": 47179116, "node_id": "MDQ6VXNlcjQ3MTc5MTE2", "avatar_url": "https://avatars1.githubusercontent.com/u/47179116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vaibhavpujari89", "html_url": "https://github.com/vaibhavpujari89", "followers_url": "https://api.github.com/users/vaibhavpujari89/followers", "following_url": "https://api.github.com/users/vaibhavpujari89/following{/other_user}", "gists_url": "https://api.github.com/users/vaibhavpujari89/gists{/gist_id}", "starred_url": "https://api.github.com/users/vaibhavpujari89/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vaibhavpujari89/subscriptions", "organizations_url": "https://api.github.com/users/vaibhavpujari89/orgs", "repos_url": "https://api.github.com/users/vaibhavpujari89/repos", "events_url": "https://api.github.com/users/vaibhavpujari89/events{/privacy}", "received_events_url": "https://api.github.com/users/vaibhavpujari89/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 564421525, "node_id": "MDU6TGFiZWw1NjQ0MjE1MjU=", "url": "https://api.github.com/repos/graphite-project/graphite-web/labels/question", "name": "question", "color": "e99695", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-30T12:19:08Z", "updated_at": "2019-02-28T16:23:23Z", "closed_at": "2019-02-28T16:23:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to download server wise memory utilization from Graphite.\r\nWhat is metric name to get the memory utilization value. ", "performed_via_github_app": null, "score": 1.0}]}