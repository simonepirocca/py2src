{"total_count": 8, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/12", "repository_url": "https://api.github.com/repos/grantjenks/python-sortedcollections", "labels_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/12/labels{/name}", "comments_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/12/comments", "events_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/12/events", "html_url": "https://github.com/grantjenks/python-sortedcollections/issues/12", "id": 661724173, "node_id": "MDU6SXNzdWU2NjE3MjQxNzM=", "number": 12, "title": "Replace missing _del_item and _set_item methods (removed in Python 3.8)", "user": {"login": "mcepl", "id": 198999, "node_id": "MDQ6VXNlcjE5ODk5OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/198999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcepl", "html_url": "https://github.com/mcepl", "followers_url": "https://api.github.com/users/mcepl/followers", "following_url": "https://api.github.com/users/mcepl/following{/other_user}", "gists_url": "https://api.github.com/users/mcepl/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcepl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcepl/subscriptions", "organizations_url": "https://api.github.com/users/mcepl/orgs", "repos_url": "https://api.github.com/users/mcepl/repos", "events_url": "https://api.github.com/users/mcepl/events{/privacy}", "received_events_url": "https://api.github.com/users/mcepl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-20T11:44:07Z", "updated_at": "2020-07-22T15:06:43Z", "closed_at": "2020-07-22T15:06:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Without this [method_item.patch](https://github.com/grantjenks/python-sortedcollections/files/4947284/method_item.patch.txt) tests fail me with Python 3.8:\r\n```\r\n[   42s] + PYTHONPATH=/home/abuild/rpmbuild/BUILDROOT/python-sortedcollections-1.1.2-9.8.x86_64/usr/lib/python3.8/site-packages\r\n[   42s] + PYTHONDONTWRITEBYTECODE=1\r\n[   42s] + pytest-3.8 --ignore=_build.python2 --ignore=_build.python3 --ignore=_build.pypy3 -v tests\r\n[   43s] ============================= test session starts ==============================\r\n[   43s] platform linux -- Python 3.8.3, pytest-5.4.3, py-1.9.0, pluggy-0.13.1 -- /usr/bin/python3\r\n[   43s] cachedir: .pytest_cache\r\n[   43s] rootdir: /home/abuild/rpmbuild/BUILD/python-sortedcollections-1.1.2, inifile: tox.ini\r\n[   43s] collecting ... collected 54 items\r\n[   43s] \r\n[   43s] tests/test_itemsorteddict.py::test_init PASSED                           [  1%]\r\n...\r\n[   43s] tests/test_valuesorteddict.py::test_getitem PASSED                       [ 87%]\r\n[   43s] tests/test_valuesorteddict.py::test_delitem FAILED                       [ 88%]\r\n[   43s] tests/test_valuesorteddict.py::test_delitem_error PASSED                 [ 90%]\r\n[   43s] tests/test_valuesorteddict.py::test_setitem FAILED                       [ 92%]\r\n[   43s] tests/test_valuesorteddict.py::test_copy PASSED                          [ 94%]\r\n[   43s] tests/test_valuesorteddict.py::test_pickle PASSED                        [ 96%]\r\n[   43s] tests/test_valuesorteddict.py::test_repr PASSED                          [ 98%]\r\n[   43s] tests/test_valuesorteddict.py::test_update FAILED                        [100%]\r\n[   43s] \r\n[   43s] =================================== FAILURES ===================================\r\n[   43s] _________________________________ test_delitem _________________________________\r\n[   43s] \r\n[   43s]     def test_delitem():\r\n[   43s]         temp = ItemSortedDict(value_func, enumerate(reversed(alphabet)))\r\n[   43s] >       del temp[25]\r\n[   43s] \r\n[   43s] tests/test_itemsorteddict.py:42: \r\n[   43s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[   43s] \r\n[   43s] self = ItemSortedDict(<function ItemSortedDict.__init__.<locals>.key_func at 0x7f8ff210b4c0>, {24: 'b', 23: 'c', 22: 'd', 21:...', 13: 'm', 12: 'n', 11: 'o', 10: 'p', 9: 'q', 8: 'r', 7: 's', 6: 't', 5: 'u', 4: 'v', 3: 'w', 2: 'x', 1: 'y', 0: 'z'})\r\n[   43s] key = 25\r\n[   43s] \r\n[   43s]     def __delitem__(self, key):\r\n[   43s]         \"``del mapping[key]``\"\r\n[   43s]         if key not in self:\r\n[   43s]             raise KeyError(key)\r\n[   43s]         self._list_remove(key)\r\n[   43s] >       self._dict_delitem(key)\r\n[   43s] E       AttributeError: 'ItemSortedDict' object has no attribute '_dict_delitem'\r\n[   43s] \r\n[   43s] sortedcollections/recipes.py:89: AttributeError\r\n[   43s] _________________________________ test_setitem _________________________________\r\n[   43s] \r\n[   43s]     def test_setitem():\r\n[   43s]         temp = ItemSortedDict(value_func, enumerate(reversed(alphabet)))\r\n[   43s] >       temp[25] = '!'\r\n[   43s] \r\n[   43s] tests/test_itemsorteddict.py:52: \r\n[   43s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[   43s] \r\n[   43s] self = ItemSortedDict(<function ItemSortedDict.__init__.<locals>.key_func at 0x7f8ff20a0310>, {24: 'b', 23: 'c', 22: 'd', 21:...', 13: 'm', 12: 'n', 11: 'o', 10: 'p', 9: 'q', 8: 'r', 7: 's', 6: 't', 5: 'u', 4: 'v', 3: 'w', 2: 'x', 1: 'y', 0: 'z'})\r\n[   43s] key = 25, value = '!'\r\n[   43s] \r\n[   43s]     def __setitem__(self, key, value):\r\n[   43s]         \"``mapping[key] = value``\"\r\n[   43s]         if key in self:\r\n[   43s]             self._list_remove(key)\r\n[   43s] >           self._dict_delitem(key)\r\n[   43s] E           AttributeError: 'ItemSortedDict' object has no attribute '_dict_delitem'\r\n[   43s] \r\n[   43s] sortedcollections/recipes.py:95: AttributeError\r\n[   43s] _________________________________ test_update __________________________________\r\n[   43s] \r\n[   43s]     def test_update():\r\n[   43s]         temp = ItemSortedDict(lambda key, value: value)\r\n[   43s]         for index, letter in enumerate(alphabet):\r\n[   43s]             pair = {index: letter}\r\n[   43s] >           temp.update(pair)\r\n[   43s] \r\n[   43s] tests/test_itemsorteddict.py:75: \r\n[   43s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[   43s] /usr/lib/python3.8/site-packages/sortedcontainers/sorteddict.py:551: in update\r\n[   43s]     self._setitem(key, pairs[key])\r\n[   43s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[   43s] \r\n[   43s] self = ItemSortedDict(<function ItemSortedDict.__init__.<locals>.key_func at 0x7f8ff20a0b80>, {0: 'a', 1: 'b', 2: 'c', 3: 'd', 4: 'e', 5: 'f', 6: 'g', 7: 'h', 8: 'i', 9: 'j'})\r\n[   43s] key = 10, value = 'k'\r\n[   43s] \r\n[   43s]     def __setitem__(self, key, value):\r\n[   43s]         \"``mapping[key] = value``\"\r\n[   43s]         if key in self:\r\n[   43s]             self._list_remove(key)\r\n[   43s]             self._dict_delitem(key)\r\n[   43s] >       self._dict_setitem(key, value)\r\n[   43s] E       AttributeError: 'ItemSortedDict' object has no attribute '_dict_setitem'\r\n[   43s] \r\n[   43s] sortedcollections/recipes.py:96: AttributeError\r\n[   43s] _________________________________ test_delitem _________________________________\r\n[   43s] \r\n[   43s]     def test_delitem():\r\n[   43s]         temp = ValueSortedDict(identity, enumerate(reversed(alphabet)))\r\n[   43s] >       del temp[25]\r\n[   43s] \r\n[   43s] tests/test_valuesorteddict.py:40: \r\n[   43s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[   43s] \r\n[   43s] self = ValueSortedDict(<function identity at 0x7f8ff210b940>, {24: 'b', 23: 'c', 22: 'd', 21: 'e', 20: 'f', 19: 'g', 18: 'h',...', 13: 'm', 12: 'n', 11: 'o', 10: 'p', 9: 'q', 8: 'r', 7: 's', 6: 't', 5: 'u', 4: 'v', 3: 'w', 2: 'x', 1: 'y', 0: 'z'})\r\n[   43s] key = 25\r\n[   43s] \r\n[   43s]     def __delitem__(self, key):\r\n[   43s]         \"``del mapping[key]``\"\r\n[   43s]         if key not in self:\r\n[   43s]             raise KeyError(key)\r\n[   43s]         self._list_remove(key)\r\n[   43s] >       self._dict_delitem(key)\r\n[   43s] E       AttributeError: 'ValueSortedDict' object has no attribute '_dict_delitem'\r\n[   43s] \r\n[   43s] sortedcollections/recipes.py:161: AttributeError\r\n[   43s] _________________________________ test_setitem _________________________________\r\n[   43s] \r\n[   43s]     def test_setitem():\r\n[   43s]         temp = ValueSortedDict(identity, enumerate(reversed(alphabet)))\r\n[   43s] >       temp[25] = '!'\r\n[   43s] \r\n[   43s] tests/test_valuesorteddict.py:50: \r\n[   43s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[   43s] \r\n[   43s] self = ValueSortedDict(<function identity at 0x7f8ff210b940>, {24: 'b', 23: 'c', 22: 'd', 21: 'e', 20: 'f', 19: 'g', 18: 'h',...', 13: 'm', 12: 'n', 11: 'o', 10: 'p', 9: 'q', 8: 'r', 7: 's', 6: 't', 5: 'u', 4: 'v', 3: 'w', 2: 'x', 1: 'y', 0: 'z'})\r\n[   43s] key = 25, value = '!'\r\n[   43s] \r\n[   43s]     def __setitem__(self, key, value):\r\n[   43s]         \"``mapping[key] = value``\"\r\n[   43s]         if key in self:\r\n[   43s]             self._list_remove(key)\r\n[   43s] >           self._dict_delitem(key)\r\n[   43s] E           AttributeError: 'ValueSortedDict' object has no attribute '_dict_delitem'\r\n[   43s] \r\n[   43s] sortedcollections/recipes.py:167: AttributeError\r\n[   43s] _________________________________ test_update __________________________________\r\n[   43s] \r\n[   43s]     def test_update():\r\n[   43s]         temp = ValueSortedDict()\r\n[   43s]         for index, letter in enumerate(alphabet):\r\n[   43s]             pair = {index: letter}\r\n[   43s] >           temp.update(pair)\r\n[   43s] \r\n[   43s] tests/test_valuesorteddict.py:82: \r\n[   43s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[   43s] /usr/lib/python3.8/site-packages/sortedcontainers/sorteddict.py:551: in update\r\n[   43s]     self._setitem(key, pairs[key])\r\n[   43s] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[   43s] \r\n[   43s] self = ValueSortedDict(None, {0: 'a', 1: 'b', 2: 'c', 3: 'd', 4: 'e', 5: 'f', 6: 'g', 7: 'h', 8: 'i', 9: 'j'})\r\n[   43s] key = 10, value = 'k'\r\n[   43s] \r\n[   43s]     def __setitem__(self, key, value):\r\n[   43s]         \"``mapping[key] = value``\"\r\n[   43s]         if key in self:\r\n[   43s]             self._list_remove(key)\r\n[   43s]             self._dict_delitem(key)\r\n[   43s] >       self._dict_setitem(key, value)\r\n[   43s] E       AttributeError: 'ValueSortedDict' object has no attribute '_dict_setitem'\r\n[   43s] \r\n[   43s] sortedcollections/recipes.py:168: AttributeError\r\n[   43s] =========================== short test summary info ============================\r\n[   43s] FAILED tests/test_itemsorteddict.py::test_delitem - AttributeError: 'ItemSort...\r\n[   43s] FAILED tests/test_itemsorteddict.py::test_setitem - AttributeError: 'ItemSort...\r\n[   43s] FAILED tests/test_itemsorteddict.py::test_update - AttributeError: 'ItemSorte...\r\n[   43s] FAILED tests/test_valuesorteddict.py::test_delitem - AttributeError: 'ValueSo...\r\n[   43s] FAILED tests/test_valuesorteddict.py::test_setitem - AttributeError: 'ValueSo...\r\n[   43s] FAILED tests/test_valuesorteddict.py::test_update - AttributeError: 'ValueSor...\r\n[   43s] ========================= 6 failed, 48 passed in 0.49s =========================\r\n[   43s] error: Bad exit status from /var/tmp/rpm-tmp.PwIWvi (%check)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/9", "repository_url": "https://api.github.com/repos/grantjenks/python-sortedcollections", "labels_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/9/comments", "events_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/9/events", "html_url": "https://github.com/grantjenks/python-sortedcollections/issues/9", "id": 521344977, "node_id": "MDU6SXNzdWU1MjEzNDQ5Nzc=", "number": 9, "title": "hello ,", "user": {"login": "Salonikuralkar", "id": 49704210, "node_id": "MDQ6VXNlcjQ5NzA0MjEw", "avatar_url": "https://avatars1.githubusercontent.com/u/49704210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Salonikuralkar", "html_url": "https://github.com/Salonikuralkar", "followers_url": "https://api.github.com/users/Salonikuralkar/followers", "following_url": "https://api.github.com/users/Salonikuralkar/following{/other_user}", "gists_url": "https://api.github.com/users/Salonikuralkar/gists{/gist_id}", "starred_url": "https://api.github.com/users/Salonikuralkar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Salonikuralkar/subscriptions", "organizations_url": "https://api.github.com/users/Salonikuralkar/orgs", "repos_url": "https://api.github.com/users/Salonikuralkar/repos", "events_url": "https://api.github.com/users/Salonikuralkar/events{/privacy}", "received_events_url": "https://api.github.com/users/Salonikuralkar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-12T05:56:15Z", "updated_at": "2019-11-12T05:56:55Z", "closed_at": "2019-11-12T05:56:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/8", "repository_url": "https://api.github.com/repos/grantjenks/python-sortedcollections", "labels_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/8/comments", "events_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/8/events", "html_url": "https://github.com/grantjenks/python-sortedcollections/issues/8", "id": 445611621, "node_id": "MDU6SXNzdWU0NDU2MTE2MjE=", "number": 8, "title": "ValueSortedDict() with descending order (reversed)", "user": {"login": "etkaar", "id": 40885610, "node_id": "MDQ6VXNlcjQwODg1NjEw", "avatar_url": "https://avatars0.githubusercontent.com/u/40885610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etkaar", "html_url": "https://github.com/etkaar", "followers_url": "https://api.github.com/users/etkaar/followers", "following_url": "https://api.github.com/users/etkaar/following{/other_user}", "gists_url": "https://api.github.com/users/etkaar/gists{/gist_id}", "starred_url": "https://api.github.com/users/etkaar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etkaar/subscriptions", "organizations_url": "https://api.github.com/users/etkaar/orgs", "repos_url": "https://api.github.com/users/etkaar/repos", "events_url": "https://api.github.com/users/etkaar/events{/privacy}", "received_events_url": "https://api.github.com/users/etkaar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-17T20:46:12Z", "updated_at": "2019-05-17T22:26:16Z", "closed_at": "2019-05-17T22:26:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is that easily possible without performance issues? A parameter would be nice :)\r\n\r\nAnd thanks again for your work! This library is really great.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/7", "repository_url": "https://api.github.com/repos/grantjenks/python-sortedcollections", "labels_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/7/comments", "events_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/7/events", "html_url": "https://github.com/grantjenks/python-sortedcollections/issues/7", "id": 398536659, "node_id": "MDU6SXNzdWUzOTg1MzY2NTk=", "number": 7, "title": "KeyError: '10'", "user": {"login": "etkaar", "id": 40885610, "node_id": "MDQ6VXNlcjQwODg1NjEw", "avatar_url": "https://avatars0.githubusercontent.com/u/40885610?v=4", "gravatar_id": "", "url": "https://api.github.com/users/etkaar", "html_url": "https://github.com/etkaar", "followers_url": "https://api.github.com/users/etkaar/followers", "following_url": "https://api.github.com/users/etkaar/following{/other_user}", "gists_url": "https://api.github.com/users/etkaar/gists{/gist_id}", "starred_url": "https://api.github.com/users/etkaar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/etkaar/subscriptions", "organizations_url": "https://api.github.com/users/etkaar/orgs", "repos_url": "https://api.github.com/users/etkaar/repos", "events_url": "https://api.github.com/users/etkaar/events{/privacy}", "received_events_url": "https://api.github.com/users/etkaar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-12T09:06:54Z", "updated_at": "2019-08-06T14:05:32Z", "closed_at": "2019-01-12T21:36:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why is that? Did I make a mistake?\r\n\r\n```\r\nsorted = ValueSortedDict()\r\n\r\nfor i in range(0, 250):\r\n    sorted.update({str(i): randint(100, 150000)})\r\n```\r\n\r\n**Result**\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 12, in <module>\r\n    sorted.update({str(i): randint(100, 150000)})\r\n  File \"/usr/local/lib/python3.5/dist-packages/sortedcontainers/sorteddict.py\", line 563, in update\r\n    self._setitem(key, pairs[key])\r\n  File \"/usr/local/lib/python3.5/dist-packages/sortedcontainers/sorteddict.py\", line 306, in __setitem__\r\n    self._list_add(key)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sortedcontainers/sortedlist.py\", line 1783, in add\r\n    key = self._key(value)\r\n  File \"/usr/local/lib/python3.5/dist-packages/sortedcollections/recipes.py\", line 147, in key_func\r\n    return self[key]\r\nKeyError: '10'\r\n```\r\n\r\n**Versions**\r\n\r\nsortedcollections (1.1.1)\r\nsortedcontainers (2.1.0)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/5", "repository_url": "https://api.github.com/repos/grantjenks/python-sortedcollections", "labels_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/5/comments", "events_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/5/events", "html_url": "https://github.com/grantjenks/python-sortedcollections/issues/5", "id": 388231240, "node_id": "MDU6SXNzdWUzODgyMzEyNDA=", "number": 5, "title": "deepcopy broken for ItemSortedDict", "user": {"login": "basnijholt", "id": 6897215, "node_id": "MDQ6VXNlcjY4OTcyMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/6897215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/basnijholt", "html_url": "https://github.com/basnijholt", "followers_url": "https://api.github.com/users/basnijholt/followers", "following_url": "https://api.github.com/users/basnijholt/following{/other_user}", "gists_url": "https://api.github.com/users/basnijholt/gists{/gist_id}", "starred_url": "https://api.github.com/users/basnijholt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/basnijholt/subscriptions", "organizations_url": "https://api.github.com/users/basnijholt/orgs", "repos_url": "https://api.github.com/users/basnijholt/repos", "events_url": "https://api.github.com/users/basnijholt/events{/privacy}", "received_events_url": "https://api.github.com/users/basnijholt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-06T14:12:22Z", "updated_at": "2019-01-03T05:01:57Z", "closed_at": "2019-01-03T05:01:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Try the following snippet:\r\n```python\r\nimport sortedcollections\r\nimport math\r\nfrom copy import deepcopy\r\n\r\ndef finite_loss(ival, loss, xscale):\r\n    if math.isinf(loss):\r\n        loss = (ival[1] - ival[0]) / xscale\r\n    return loss, ival\r\n\r\ndef loss_manager(xscale):\r\n    def sort_key(ival, loss):\r\n        loss, ival = finite_loss(ival, loss, xscale)\r\n        return -loss, ival\r\n    return sortedcollections.ItemSortedDict(sort_key)\r\n\r\nlm = loss_manager(xscale=1)\r\nlm2 = deepcopy(lm)\r\nlm2[0, 0] = 1\r\n```\r\n\r\nThis has the traceback\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-2-2d05e49f7b81> in <module>\r\n     24 lm = loss_manager(1)\r\n     25 lm2 = deepcopy(lm)\r\n---> 26 lm2[0, 0] =1\r\n\r\n~/miniconda3/lib/python3.6/site-packages/sortedcollections/recipes.py in __setitem__(self, key, value)\r\n     81             self._dict_delitem(key)\r\n     82         self._dict_setitem(key, value)\r\n---> 83         self._list_add(key)\r\n     84 \r\n     85     def copy(self):\r\n\r\n~/miniconda3/lib/python3.6/site-packages/sortedcontainers/sortedlist.py in add(self, value)\r\n   1781         _maxes = self._maxes\r\n   1782 \r\n-> 1783         key = self._key(value)\r\n   1784 \r\n   1785         if _maxes:\r\n\r\n~/miniconda3/lib/python3.6/site-packages/sortedcollections/recipes.py in key_func(key)\r\n     64         def key_func(key):\r\n     65             \"Apply key function to (key, value) item pair.\"\r\n---> 66             return func(key, self[key])\r\n     67         args[0] = key_func\r\n     68         super(ItemSortedDict, self).__init__(*args, **kwargs)\r\n\r\nTypeError: key_func() takes 1 positional argument but 2 were given\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/3", "repository_url": "https://api.github.com/repos/grantjenks/python-sortedcollections", "labels_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/3/comments", "events_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/3/events", "html_url": "https://github.com/grantjenks/python-sortedcollections/issues/3", "id": 361074037, "node_id": "MDU6SXNzdWUzNjEwNzQwMzc=", "number": 3, "title": "deprecation warnings", "user": {"login": "wumpus", "id": 2142266, "node_id": "MDQ6VXNlcjIxNDIyNjY=", "avatar_url": "https://avatars1.githubusercontent.com/u/2142266?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wumpus", "html_url": "https://github.com/wumpus", "followers_url": "https://api.github.com/users/wumpus/followers", "following_url": "https://api.github.com/users/wumpus/following{/other_user}", "gists_url": "https://api.github.com/users/wumpus/gists{/gist_id}", "starred_url": "https://api.github.com/users/wumpus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wumpus/subscriptions", "organizations_url": "https://api.github.com/users/wumpus/orgs", "repos_url": "https://api.github.com/users/wumpus/repos", "events_url": "https://api.github.com/users/wumpus/events{/privacy}", "received_events_url": "https://api.github.com/users/wumpus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-17T22:54:14Z", "updated_at": "2019-01-03T05:01:15Z", "closed_at": "2019-01-03T05:01:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I see that you already fixed these in sortedcontainers on 9/3...\r\n\r\n/home/travis/virtualenv/python3.8-dev/lib/python3.8/site-packages/sortedcollections/recipes.py:174: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  class OrderedSet(co.MutableSet, co.Sequence):\r\n/home/travis/virtualenv/python3.8-dev/lib/python3.8/site-packages/sortedcollections/ordereddict.py:20: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  class KeysView(co.KeysView, co.Sequence):\r\n/home/travis/virtualenv/python3.8-dev/lib/python3.8/site-packages/sortedcollections/ordereddict.py:32: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  class ItemsView(co.ItemsView, co.Sequence):\r\n/home/travis/virtualenv/python3.8-dev/lib/python3.8/site-packages/sortedcollections/ordereddict.py:48: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  class ValuesView(co.ValuesView, co.Sequence):", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/2", "repository_url": "https://api.github.com/repos/grantjenks/python-sortedcollections", "labels_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/2/comments", "events_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/2/events", "html_url": "https://github.com/grantjenks/python-sortedcollections/issues/2", "id": 302124912, "node_id": "MDU6SXNzdWUzMDIxMjQ5MTI=", "number": 2, "title": "ValueSortedDict.__repr__ throws AttributeError", "user": {"login": "ahrzb", "id": 5220438, "node_id": "MDQ6VXNlcjUyMjA0Mzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5220438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahrzb", "html_url": "https://github.com/ahrzb", "followers_url": "https://api.github.com/users/ahrzb/followers", "following_url": "https://api.github.com/users/ahrzb/following{/other_user}", "gists_url": "https://api.github.com/users/ahrzb/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahrzb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahrzb/subscriptions", "organizations_url": "https://api.github.com/users/ahrzb/orgs", "repos_url": "https://api.github.com/users/ahrzb/repos", "events_url": "https://api.github.com/users/ahrzb/events{/privacy}", "received_events_url": "https://api.github.com/users/ahrzb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-04T21:39:45Z", "updated_at": "2018-03-18T03:17:35Z", "closed_at": "2018-03-18T03:17:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "`\r\n>>> import sortedcollections\r\n>>> v = sortedcollections.ValueSortedDict()\r\n>>> v\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/bandbaz/.pyenv/versions/3.6.3/lib/python3.6/site-packages/sortedcontainers/sortedlist.py\", line 48, in wrapper\r\n    return func(self)\r\n  File \"/home/bandbaz/.pyenv/versions/3.6.3/lib/python3.6/site-packages/sortedcollections/recipes.py\", line 177, in __repr__\r\n    repr(self._load),\r\nAttributeError: 'ValueSortedDict' object has no attribute '_load'\r\n`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/1", "repository_url": "https://api.github.com/repos/grantjenks/python-sortedcollections", "labels_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/1/comments", "events_url": "https://api.github.com/repos/grantjenks/python-sortedcollections/issues/1/events", "html_url": "https://github.com/grantjenks/python-sortedcollections/issues/1", "id": 259452454, "node_id": "MDU6SXNzdWUyNTk0NTI0NTQ=", "number": 1, "title": "feature request for a ValueSortedDictWithKey", "user": {"login": "basnijholt", "id": 6897215, "node_id": "MDQ6VXNlcjY4OTcyMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/6897215?v=4", "gravatar_id": "", "url": "https://api.github.com/users/basnijholt", "html_url": "https://github.com/basnijholt", "followers_url": "https://api.github.com/users/basnijholt/followers", "following_url": "https://api.github.com/users/basnijholt/following{/other_user}", "gists_url": "https://api.github.com/users/basnijholt/gists{/gist_id}", "starred_url": "https://api.github.com/users/basnijholt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/basnijholt/subscriptions", "organizations_url": "https://api.github.com/users/basnijholt/orgs", "repos_url": "https://api.github.com/users/basnijholt/repos", "events_url": "https://api.github.com/users/basnijholt/events{/privacy}", "received_events_url": "https://api.github.com/users/basnijholt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-21T10:41:34Z", "updated_at": "2017-09-21T14:13:28Z", "closed_at": "2017-09-21T14:13:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi there, I'm using your `sortedcontainers` package and want to have a `SortedDict` by value where the values are objects.\r\n\r\nfor example in an integration routine:\r\n```python\r\nValueSortedDictWithKey({(i.a, i.b): i for i in intervals(f, a, b, tol)}, key=operator.attrgetter('err'))\r\n```\r\nhere the intervals have bounds `a` and `b`, and a certain error `err` associated with them, I would like to sort by the error.\r\n\r\nIs this possible?", "performed_via_github_app": null, "score": 1.0}]}