{"total_count": 189, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/583", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/583/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/583/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/583/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/583", "id": 674695582, "node_id": "MDU6SXNzdWU2NzQ2OTU1ODI=", "number": 583, "title": "auth.verify_id_token throwing \"Token used too early\" InvalidIdTokenError error in v1.20.1", "user": {"login": "bynormous", "id": 9891511, "node_id": "MDQ6VXNlcjk4OTE1MTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/9891511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bynormous", "html_url": "https://github.com/bynormous", "followers_url": "https://api.github.com/users/bynormous/followers", "following_url": "https://api.github.com/users/bynormous/following{/other_user}", "gists_url": "https://api.github.com/users/bynormous/gists{/gist_id}", "starred_url": "https://api.github.com/users/bynormous/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bynormous/subscriptions", "organizations_url": "https://api.github.com/users/bynormous/orgs", "repos_url": "https://api.github.com/users/bynormous/repos", "events_url": "https://api.github.com/users/bynormous/events{/privacy}", "received_events_url": "https://api.github.com/users/bynormous/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-07T01:36:33Z", "updated_at": "2020-08-07T06:57:32Z", "closed_at": "2020-08-07T06:57:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Environment details\r\n\r\n  - OS: Mac 10.15.6\r\n  - Python version: 3.7.3\r\n  - pip version: 20.2.1\r\n  - `google-auth` version: 1.20.1\r\n\r\n#### Steps to reproduce\r\n\r\n  1. Update 1.20.0 to 1.20.1\r\n  2. Get a fresh firebase token on client JS with firebase.auth().currentUser.getIdToken()\r\n  2. Try to validate a firebase token using auth.verify_id_token\r\n  \r\nInvalidIdTokenError thrown with details:\r\nToken used too early, 1596763845 < 1596763861\r\n\r\nNote: Reverting back to 1.20.0 fixes the issue. Updating back to 1.20.1 throws the error again.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/575", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/575/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/575/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/575/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/575", "id": 666807525, "node_id": "MDU6SXNzdWU2NjY4MDc1MjU=", "number": 575, "title": "How to change a `google.oauth2.service_account.Credentials` into a `google.auth.credentials.Credentials` object?", "user": {"login": "yohplala", "id": 13206058, "node_id": "MDQ6VXNlcjEzMjA2MDU4", "avatar_url": "https://avatars2.githubusercontent.com/u/13206058?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yohplala", "html_url": "https://github.com/yohplala", "followers_url": "https://api.github.com/users/yohplala/followers", "following_url": "https://api.github.com/users/yohplala/following{/other_user}", "gists_url": "https://api.github.com/users/yohplala/gists{/gist_id}", "starred_url": "https://api.github.com/users/yohplala/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yohplala/subscriptions", "organizations_url": "https://api.github.com/users/yohplala/orgs", "repos_url": "https://api.github.com/users/yohplala/repos", "events_url": "https://api.github.com/users/yohplala/events{/privacy}", "received_events_url": "https://api.github.com/users/yohplala/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-28T06:34:04Z", "updated_at": "2020-07-30T16:21:29Z", "closed_at": "2020-07-30T16:21:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI use a service account to manage authentication with `google.oauth2`.\r\n\r\n```python\r\nfrom google.oauth2 import service_account\r\ncredentials = service_account.Credentials.from_service_account_file('/home/user/credentials.json')\r\n```\r\n\r\nI need to provide it with a new `http` object from [`build_http()`](https://github.com/googleapis/google-api-python-client/blob/d059ad881c7ae58c67931c48788d0bd7343ab16c/googleapiclient/http.py#L1891) in `googleapiclient/http.py`, by using \r\n[`authorized_http()`](https://github.com/googleapis/google-api-python-client/blob/d059ad881c7ae58c67931c48788d0bd7343ab16c/googleapiclient/_auth.py#L80) from `googleapiclient/_auth.py`.\r\n\r\nHowever, within this `authorized_http()` method, one can see that a `google.auth.credentials.Credentials` object is expected, so that following method can be run.\r\n```python\r\ngoogle_auth_httplib2.AuthorizedHttp(credentials, http=build_http())\r\n```\r\nBut the credentials I get with the service account is a `google.oauth2.service_account.Credentials` object.\r\n\r\nPlease, how to change a `google.oauth2.service_account.Credentials` into a `google.auth.credentials.Credentials` object?\r\n\r\nThanks for your help.\r\nHave a good day,\r\nBests,\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/568", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/568/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/568/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/568/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/568", "id": 663310570, "node_id": "MDU6SXNzdWU2NjMzMTA1NzA=", "number": 568, "title": "Add support for Python 3.8", "user": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893219, "node_id": "MDU6TGFiZWw5NDQ4OTMyMTk=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-07-21T21:09:46Z", "updated_at": "2020-07-23T00:17:29Z", "closed_at": "2020-07-23T00:17:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/559", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/559/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/559/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/559/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/559", "id": 657711188, "node_id": "MDU6SXNzdWU2NTc3MTExODg=", "number": 559, "title": "_default always sets `credentials.quota_project_id` to None", "user": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893243, "node_id": "MDU6TGFiZWw5NDQ4OTMyNDM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-07-15T22:54:07Z", "updated_at": "2020-07-15T23:49:28Z", "closed_at": "2020-07-15T23:49:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#546 introduced a bug where the quota project id always gets set to `None`. If no `quota_project_id` is passed to `load_credentials_from_file(...)` or `default(...)`, the existing project should not be overridden", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/558", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/558/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/558/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/558/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/558", "id": 656985749, "node_id": "MDU6SXNzdWU2NTY5ODU3NDk=", "number": 558, "title": "Support project_id for _AUTHORIZED_USER_TYPE", "user": {"login": "vimota", "id": 865701, "node_id": "MDQ6VXNlcjg2NTcwMQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/865701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vimota", "html_url": "https://github.com/vimota", "followers_url": "https://api.github.com/users/vimota/followers", "following_url": "https://api.github.com/users/vimota/following{/other_user}", "gists_url": "https://api.github.com/users/vimota/gists{/gist_id}", "starred_url": "https://api.github.com/users/vimota/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vimota/subscriptions", "organizations_url": "https://api.github.com/users/vimota/orgs", "repos_url": "https://api.github.com/users/vimota/repos", "events_url": "https://api.github.com/users/vimota/events{/privacy}", "received_events_url": "https://api.github.com/users/vimota/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893227, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjc=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-15T00:59:56Z", "updated_at": "2020-07-15T18:44:41Z", "closed_at": "2020-07-15T18:44:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Right now, the load_credentials_from_file (which is used by google.auth.default()) always returns a `None` project id. This causes issues with libraries that only use the default() method for getting credentials (for example, [tensorflow_cloud fails on the user auth approach](https://github.com/tensorflow/cloud/issues/51) even if you set the project via the gcloud CLI).\r\n\r\nIt would be really helpful if either:\r\n1. Project id was supported for credential files using the authorized user type (ie. load_credentials_from_file() read project_id from the file even for user auth type).\r\n2. default() respected the project id set by the GOOGLE_PROJECT_ID env var or the one set by the gcloud cli.\r\n\r\nPlease let me know if I can clarify anything - or if there is any reason inherit about the above suggestion that doesn't make sense to implement.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/548", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/548/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/548/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/548/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/548", "id": 644843406, "node_id": "MDU6SXNzdWU2NDQ4NDM0MDY=", "number": 548, "title": "Python 3.4 not working with rsa version upgrade", "user": {"login": "aabmass", "id": 1510004, "node_id": "MDQ6VXNlcjE1MTAwMDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1510004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aabmass", "html_url": "https://github.com/aabmass", "followers_url": "https://api.github.com/users/aabmass/followers", "following_url": "https://api.github.com/users/aabmass/following{/other_user}", "gists_url": "https://api.github.com/users/aabmass/gists{/gist_id}", "starred_url": "https://api.github.com/users/aabmass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aabmass/subscriptions", "organizations_url": "https://api.github.com/users/aabmass/orgs", "repos_url": "https://api.github.com/users/aabmass/repos", "events_url": "https://api.github.com/users/aabmass/events{/privacy}", "received_events_url": "https://api.github.com/users/aabmass/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-24T18:55:41Z", "updated_at": "2020-07-21T21:09:07Z", "closed_at": "2020-07-21T21:09:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: Linux\r\n  - Python version: 3.4\r\n  - pip version: 19.1.1\r\n  - `google-auth` version: 1.18.0\r\n\r\n#### Steps to reproduce\r\n\r\n```sh\r\npython3.4 -m venv venv\r\nsource venv/bin/activate\r\npip install --upgrade pip\r\npip install google-auth\r\n\r\n# importing google auth causes the issue\r\npython -c \"import google.auth.crypt\"\r\nTraceback (most recent call last):\r\n  File \"/usr/local/google/home/aaronabbott/tmp/venv3.4/lib/python3.4/site-packages/google/auth/crypt/rsa.py\", line 20, in <module>\r\n    from google.auth.crypt import _cryptography_rsa\r\n  File \"/usr/local/google/home/aaronabbott/tmp/venv3.4/lib/python3.4/site-packages/google/auth/crypt/_cryptography_rsa.py\", line 22, in <module>\r\n    import cryptography.exceptions\r\nImportError: No module named 'cryptography'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/usr/local/google/home/aaronabbott/tmp/venv3.4/lib/python3.4/site-packages/google/auth/crypt/__init__.py\", line 43, in <module>\r\n    from google.auth.crypt import rsa\r\n  File \"/usr/local/google/home/aaronabbott/tmp/venv3.4/lib/python3.4/site-packages/google/auth/crypt/rsa.py\", line 27, in <module>\r\n    from google.auth.crypt import _python_rsa\r\n  File \"/usr/local/google/home/aaronabbott/tmp/venv3.4/lib/python3.4/site-packages/google/auth/crypt/_python_rsa.py\", line 28, in <module>\r\n    import rsa\r\n  File \"/usr/local/google/home/aaronabbott/tmp/venv3.4/lib/python3.4/site-packages/rsa/__init__.py\", line 24, in <module>\r\n    from rsa.key import newkeys, PrivateKey, PublicKey\r\n  File \"/usr/local/google/home/aaronabbott/tmp/venv3.4/lib/python3.4/site-packages/rsa/key.py\", line 35, in <module>\r\n    import typing\r\nImportError: No module named 'typing'\r\n```\r\n\r\n[rsa 4.1 drops python 2 and 3.4 support](https://github.com/sybrenstuvel/python-rsa#major-changes-in-41). The new version that google-auth is using tries to import `typing`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/543", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/543/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/543/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/543/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/543", "id": 643259597, "node_id": "MDU6SXNzdWU2NDMyNTk1OTc=", "number": 543, "title": "IAM SignBlob and SignJwt decommissioned. ", "user": {"login": "emmanuel-gcp", "id": 51823967, "node_id": "MDQ6VXNlcjUxODIzOTY3", "avatar_url": "https://avatars3.githubusercontent.com/u/51823967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emmanuel-gcp", "html_url": "https://github.com/emmanuel-gcp", "followers_url": "https://api.github.com/users/emmanuel-gcp/followers", "following_url": "https://api.github.com/users/emmanuel-gcp/following{/other_user}", "gists_url": "https://api.github.com/users/emmanuel-gcp/gists{/gist_id}", "starred_url": "https://api.github.com/users/emmanuel-gcp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emmanuel-gcp/subscriptions", "organizations_url": "https://api.github.com/users/emmanuel-gcp/orgs", "repos_url": "https://api.github.com/users/emmanuel-gcp/repos", "events_url": "https://api.github.com/users/emmanuel-gcp/events{/privacy}", "received_events_url": "https://api.github.com/users/emmanuel-gcp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}, {"id": 944893222, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjI=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20cleanup", "name": "type: cleanup", "color": "c5def5", "default": false, "description": "An internal cleanup or hygiene concern."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-22T17:55:19Z", "updated_at": "2020-06-30T23:01:21Z", "closed_at": "2020-06-30T23:01:21Z", "author_association": "NONE", "active_lock_reason": null, "body": " **Is your feature request related to a problem? Please describe.**\r\nI received a notification from GCP alerting that SignBlob and SignJwt will be decommissioned and this library still using it. \r\n **Describe the solution you'd like**\r\nThe alert recommends the change\r\nboth authentication methods on: \r\nhttps://iam.googleapis.com\r\nInstead, it should use: https://iamcredentials.googleapis.com\r\n **Describe alternatives you've considered**\r\nsince google will discontinue these methods I have considered look for another library or build a new one\r\n **Additional context**\r\nI'm using the class Signer which is the one that has a dependency on these endpoints.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/520", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/520/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/520/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/520/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/520", "id": 628905496, "node_id": "MDU6SXNzdWU2Mjg5MDU0OTY=", "number": 520, "title": "Don't warn about user credentials if quota_project_id is set", "user": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893222, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjI=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20cleanup", "name": "type: cleanup", "color": "c5def5", "default": false, "description": "An internal cleanup or hygiene concern."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-02T05:11:50Z", "updated_at": "2020-06-18T06:54:52Z", "closed_at": "2020-06-18T06:54:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/513", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/513/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/513/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/513", "id": 620503906, "node_id": "MDU6SXNzdWU2MjA1MDM5MDY=", "number": 513, "title": "Warning: a recent release failed", "user": {"login": "failure-checker[bot]", "id": 58094317, "node_id": "MDM6Qm90NTgwOTQzMTc=", "avatar_url": "https://avatars2.githubusercontent.com/in/47470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/failure-checker%5Bbot%5D", "html_url": "https://github.com/apps/failure-checker", "followers_url": "https://api.github.com/users/failure-checker%5Bbot%5D/followers", "following_url": "https://api.github.com/users/failure-checker%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/failure-checker%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/failure-checker%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/failure-checker%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/failure-checker%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/failure-checker%5Bbot%5D/repos", "events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 944893219, "node_id": "MDU6TGFiZWw5NDQ4OTMyMTk=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-18T21:02:07Z", "updated_at": "2020-08-12T04:20:52Z", "closed_at": "2020-08-12T04:20:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "The release PR #510 is still in a pending state after several hours", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/512", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/512/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/512/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/512/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/512", "id": 617743358, "node_id": "MDU6SXNzdWU2MTc3NDMzNTg=", "number": 512, "title": "Make `_target_principal` attribute of ImpersonatedCredentials public.", "user": {"login": "sid-dinesh94", "id": 9417605, "node_id": "MDQ6VXNlcjk0MTc2MDU=", "avatar_url": "https://avatars0.githubusercontent.com/u/9417605?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sid-dinesh94", "html_url": "https://github.com/sid-dinesh94", "followers_url": "https://api.github.com/users/sid-dinesh94/followers", "following_url": "https://api.github.com/users/sid-dinesh94/following{/other_user}", "gists_url": "https://api.github.com/users/sid-dinesh94/gists{/gist_id}", "starred_url": "https://api.github.com/users/sid-dinesh94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sid-dinesh94/subscriptions", "organizations_url": "https://api.github.com/users/sid-dinesh94/orgs", "repos_url": "https://api.github.com/users/sid-dinesh94/repos", "events_url": "https://api.github.com/users/sid-dinesh94/events{/privacy}", "received_events_url": "https://api.github.com/users/sid-dinesh94/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-13T20:45:44Z", "updated_at": "2020-05-13T20:50:10Z", "closed_at": "2020-05-13T20:50:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be great if `_target_principal` in `ImpersonatedCredentials` is a public attribute.\r\n\r\nWe find this useful in extracting the account email associated with the caller. The email is useful to verify that the correct account is being impersonated, and also is useful to go on and create a Service Account Key for the same service account that is being impersonated.\r\n\r\nThis Service Account Key can then be set as Application Default Credentials and used by many other Google APIs.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/499", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/499/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/499/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/499/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/499", "id": 612845875, "node_id": "MDU6SXNzdWU2MTI4NDU4NzU=", "number": 499, "title": "Make `verify_oauth2_token` check the issuer claim", "user": {"login": "anguillanneuf", "id": 9518298, "node_id": "MDQ6VXNlcjk1MTgyOTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/9518298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anguillanneuf", "html_url": "https://github.com/anguillanneuf", "followers_url": "https://api.github.com/users/anguillanneuf/followers", "following_url": "https://api.github.com/users/anguillanneuf/following{/other_user}", "gists_url": "https://api.github.com/users/anguillanneuf/gists{/gist_id}", "starred_url": "https://api.github.com/users/anguillanneuf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anguillanneuf/subscriptions", "organizations_url": "https://api.github.com/users/anguillanneuf/orgs", "repos_url": "https://api.github.com/users/anguillanneuf/repos", "events_url": "https://api.github.com/users/anguillanneuf/events{/privacy}", "received_events_url": "https://api.github.com/users/anguillanneuf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893227, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjc=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-05T19:37:51Z", "updated_at": "2020-06-29T23:27:31Z", "closed_at": "2020-06-29T23:27:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It [doesn't](https://github.com/googleapis/google-auth-library-python/search?q=%22accounts.google.com%22&unscoped_q=%22accounts.google.com%22) look like the Python library checks for the issuer claim as it does for other language libraries ([Node.js](https://github.com/googleapis/google-auth-library-nodejs/blob/07955406e85f07fb60821192253205b9f4137ab9/src/auth/oauth2client.ts#L513-L516)).\r\n\r\nIt would make the Google authentication instructions [here](https://developers.devsite.corp.google.com/identity/sign-in/web/backend-auth#using-a-google-api-client-library) more consistent across if `verify_oauth2_token` checks both \"`accounts.google.com`\" and \"`https://accounts.google.com`\".\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/497", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/497/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/497/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/497/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/497", "id": 612559849, "node_id": "MDU6SXNzdWU2MTI1NTk4NDk=", "number": 497, "title": "Not able to determine the default project id", "user": {"login": "mr-bjerre", "id": 16841792, "node_id": "MDQ6VXNlcjE2ODQxNzky", "avatar_url": "https://avatars0.githubusercontent.com/u/16841792?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mr-bjerre", "html_url": "https://github.com/mr-bjerre", "followers_url": "https://api.github.com/users/mr-bjerre/followers", "following_url": "https://api.github.com/users/mr-bjerre/following{/other_user}", "gists_url": "https://api.github.com/users/mr-bjerre/gists{/gist_id}", "starred_url": "https://api.github.com/users/mr-bjerre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mr-bjerre/subscriptions", "organizations_url": "https://api.github.com/users/mr-bjerre/orgs", "repos_url": "https://api.github.com/users/mr-bjerre/repos", "events_url": "https://api.github.com/users/mr-bjerre/events{/privacy}", "received_events_url": "https://api.github.com/users/mr-bjerre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-05T12:20:22Z", "updated_at": "2020-05-05T12:33:24Z", "closed_at": "2020-05-05T12:33:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I run the following command in a terminal\r\n\r\n```bash\r\ngcloud config config-helper --format json\r\n```\r\n\r\nthen I get the following (sample)\r\n\r\n```\r\n{\r\n  \"configuration\": {\r\n    \"active_configuration\": \"default\",\r\n    \"properties\": {\r\n      \"compute\": {\r\n        \"region\": \"europe-west1\",\r\n        \"zone\": \"europe-west1-b\"\r\n      },\r\n      \"core\": {\r\n        \"account\": \"my@account.com\",\r\n        \"disable_usage_reporting\": \"False\",\r\n        \"project\": \"my-project-id\"\r\n      }\r\n    }\r\n  },\r\n  .\r\n  .\r\n  .\r\n}\r\n```\r\nbut the following python script does fails unfortunately\r\n\r\n```python\r\nfrom google.auth._cloud_sdk import get_project_id\r\nassert get_project_id() == \"my-project-id\"  # fails\r\n```\r\n\r\nI did some debugging and realized that the error is happening [here](https://github.com/googleapis/google-auth-library-python/blob/master/google/auth/_cloud_sdk.py#L103) (i.e. the `check_output` call fails)\r\n\r\n```python\r\n    if os.name == \"nt\":\r\n        command = _CLOUD_SDK_WINDOWS_COMMAND\r\n    else:\r\n        command = _CLOUD_SDK_POSIX_COMMAND\r\n\r\n    try:\r\n        output = subprocess.check_output(\r\n            (command,) + _CLOUD_SDK_CONFIG_COMMAND, stderr=subprocess.STDOUT\r\n        )\r\n    except (subprocess.CalledProcessError, OSError, IOError):\r\n        return None  # I end up here but I shouldn't\r\n```\r\n\r\n#### Environment details\r\n\r\n  - OS: macOS Cataline v10.15.4\r\n  - Python version: 3.8.2\r\n  - pip version: 19.0.3\r\n  - `google-auth` version: 1.14.1\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/492", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/492/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/492/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/492/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/492", "id": 608763681, "node_id": "MDU6SXNzdWU2MDg3NjM2ODE=", "number": 492, "title": "Forcing the version of setuptools is unsafe", "user": {"login": "jnewbigin", "id": 7644148, "node_id": "MDQ6VXNlcjc2NDQxNDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/7644148?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnewbigin", "html_url": "https://github.com/jnewbigin", "followers_url": "https://api.github.com/users/jnewbigin/followers", "following_url": "https://api.github.com/users/jnewbigin/following{/other_user}", "gists_url": "https://api.github.com/users/jnewbigin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnewbigin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnewbigin/subscriptions", "organizations_url": "https://api.github.com/users/jnewbigin/orgs", "repos_url": "https://api.github.com/users/jnewbigin/repos", "events_url": "https://api.github.com/users/jnewbigin/events{/privacy}", "received_events_url": "https://api.github.com/users/jnewbigin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-29T04:10:17Z", "updated_at": "2020-04-30T06:31:00Z", "closed_at": "2020-04-30T06:31:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "`pip-compile` tells me `Forcing the version of setuptools is unsafe`\r\n\r\nwhich is done here:\r\n\r\nhttps://github.com/googleapis/google-auth-library-python/blob/ac74905330a1fdd0663bbe1d6ee8dca7e66f180f/setup.py#L25\r\n\r\nMy distro provided python 3.6.9 comes with setuptools 36.5.0. As I understand, the setuptools version is matched to your python install and should not be upgraded with pip.\r\n\r\nWhen I have a package which pulls in google-auto, it updates my setuptools causing other tools to start issuing warnings.\r\n\r\nI wonder if you do indeed need the newer setuptools?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/489", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/489/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/489/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/489/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/489", "id": 600297343, "node_id": "MDU6SXNzdWU2MDAyOTczNDM=", "number": 489, "title": "How to convert credentials to json ", "user": {"login": "Yajan", "id": 31155354, "node_id": "MDQ6VXNlcjMxMTU1MzU0", "avatar_url": "https://avatars3.githubusercontent.com/u/31155354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Yajan", "html_url": "https://github.com/Yajan", "followers_url": "https://api.github.com/users/Yajan/followers", "following_url": "https://api.github.com/users/Yajan/following{/other_user}", "gists_url": "https://api.github.com/users/Yajan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Yajan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Yajan/subscriptions", "organizations_url": "https://api.github.com/users/Yajan/orgs", "repos_url": "https://api.github.com/users/Yajan/repos", "events_url": "https://api.github.com/users/Yajan/events{/privacy}", "received_events_url": "https://api.github.com/users/Yajan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-15T13:27:17Z", "updated_at": "2020-04-26T14:25:23Z", "closed_at": "2020-04-26T14:25:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to store google.oauth2.credentials to json. How can it be done?\r\n\r\nI get error as \r\n`'Credentials' object has no attribute 'to_json'`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/483", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/483/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/483/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/483/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/483", "id": 592272507, "node_id": "MDU6SXNzdWU1OTIyNzI1MDc=", "number": 483, "title": "Warning: a recent release failed", "user": {"login": "failure-checker[bot]", "id": 58094317, "node_id": "MDM6Qm90NTgwOTQzMTc=", "avatar_url": "https://avatars2.githubusercontent.com/in/47470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/failure-checker%5Bbot%5D", "html_url": "https://github.com/apps/failure-checker", "followers_url": "https://api.github.com/users/failure-checker%5Bbot%5D/followers", "following_url": "https://api.github.com/users/failure-checker%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/failure-checker%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/failure-checker%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/failure-checker%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/failure-checker%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/failure-checker%5Bbot%5D/repos", "events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 944893219, "node_id": "MDU6TGFiZWw5NDQ4OTMyMTk=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-04-02T00:01:46Z", "updated_at": "2020-05-15T21:54:48Z", "closed_at": "2020-05-15T21:54:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "The release PR #477 is still in a pending state after several hours", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/479", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/479/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/479/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/479/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/479", "id": 591393291, "node_id": "MDU6SXNzdWU1OTEzOTMyOTE=", "number": 479, "title": "Invalid type for expiry when using GCE metadata server", "user": {"login": "danxmoran", "id": 2755881, "node_id": "MDQ6VXNlcjI3NTU4ODE=", "avatar_url": "https://avatars2.githubusercontent.com/u/2755881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danxmoran", "html_url": "https://github.com/danxmoran", "followers_url": "https://api.github.com/users/danxmoran/followers", "following_url": "https://api.github.com/users/danxmoran/following{/other_user}", "gists_url": "https://api.github.com/users/danxmoran/gists{/gist_id}", "starred_url": "https://api.github.com/users/danxmoran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danxmoran/subscriptions", "organizations_url": "https://api.github.com/users/danxmoran/orgs", "repos_url": "https://api.github.com/users/danxmoran/repos", "events_url": "https://api.github.com/users/danxmoran/events{/privacy}", "received_events_url": "https://api.github.com/users/danxmoran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893243, "node_id": "MDU6TGFiZWw5NDQ4OTMyNDM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": {"login": "arithmetic1728", "id": 58957152, "node_id": "MDQ6VXNlcjU4OTU3MTUy", "avatar_url": "https://avatars2.githubusercontent.com/u/58957152?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arithmetic1728", "html_url": "https://github.com/arithmetic1728", "followers_url": "https://api.github.com/users/arithmetic1728/followers", "following_url": "https://api.github.com/users/arithmetic1728/following{/other_user}", "gists_url": "https://api.github.com/users/arithmetic1728/gists{/gist_id}", "starred_url": "https://api.github.com/users/arithmetic1728/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arithmetic1728/subscriptions", "organizations_url": "https://api.github.com/users/arithmetic1728/orgs", "repos_url": "https://api.github.com/users/arithmetic1728/repos", "events_url": "https://api.github.com/users/arithmetic1728/events{/privacy}", "received_events_url": "https://api.github.com/users/arithmetic1728/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "arithmetic1728", "id": 58957152, "node_id": "MDQ6VXNlcjU4OTU3MTUy", "avatar_url": "https://avatars2.githubusercontent.com/u/58957152?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arithmetic1728", "html_url": "https://github.com/arithmetic1728", "followers_url": "https://api.github.com/users/arithmetic1728/followers", "following_url": "https://api.github.com/users/arithmetic1728/following{/other_user}", "gists_url": "https://api.github.com/users/arithmetic1728/gists{/gist_id}", "starred_url": "https://api.github.com/users/arithmetic1728/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arithmetic1728/subscriptions", "organizations_url": "https://api.github.com/users/arithmetic1728/orgs", "repos_url": "https://api.github.com/users/arithmetic1728/repos", "events_url": "https://api.github.com/users/arithmetic1728/events{/privacy}", "received_events_url": "https://api.github.com/users/arithmetic1728/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-31T20:12:29Z", "updated_at": "2020-04-07T20:23:43Z", "closed_at": "2020-04-01T23:29:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: Linux\r\n  - Python version: 3.8.2\r\n  - pip version: 20.0.2\r\n  - `google-auth` version: 1.12.0\r\n\r\n#### Steps to reproduce\r\n\r\n  1. Create an ID token using the GCE metadata server:\r\n      ```python\r\n      from google.auth import compute_engine\r\n      import google.auth.transport.requests\r\n      request = google.auth.transport.requests.Request()\r\n      target_audience = 'https://example.com'\r\n      creds = compute_engine.IDTokenCredentials(request, target_audience, use_metadata_identity_endpoint=True)\r\n      ```\r\n  2. Try to use the credentials to authorize a request:\r\n      ```python\r\n      from google.auth.transport.requests import AuthorizedSession\r\n      session = AuthorizedSession(credentials)\r\n      response = session.get('https://example.com')\r\n      ```\r\n\r\nThis results in an error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.8/site-packages/google/auth/credentials.py\", line 66, in expired\r\n    skewed_expiry = self.expiry - _helpers.CLOCK_SKEW\r\nTypeError: unsupported operand type(s) for -: 'int' and 'datetime.timedelta'\r\n```\r\n\r\nI think the issue is on [this line](https://github.com/googleapis/google-auth-library-python/blob/master/google/auth/compute_engine/credentials.py#L294). `payload[\"exp\"]` should (apparently) be getting parsed into a `datetime.timedelta`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/478", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/478/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/478/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/478/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/478", "id": 590584264, "node_id": "MDU6SXNzdWU1OTA1ODQyNjQ=", "number": 478, "title": "Samples for the Android Play Publisher API use oauth2client", "user": {"login": "simtel12", "id": 4183233, "node_id": "MDQ6VXNlcjQxODMyMzM=", "avatar_url": "https://avatars3.githubusercontent.com/u/4183233?v=4", "gravatar_id": "", "url": "https://api.github.com/users/simtel12", "html_url": "https://github.com/simtel12", "followers_url": "https://api.github.com/users/simtel12/followers", "following_url": "https://api.github.com/users/simtel12/following{/other_user}", "gists_url": "https://api.github.com/users/simtel12/gists{/gist_id}", "starred_url": "https://api.github.com/users/simtel12/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/simtel12/subscriptions", "organizations_url": "https://api.github.com/users/simtel12/orgs", "repos_url": "https://api.github.com/users/simtel12/repos", "events_url": "https://api.github.com/users/simtel12/events{/privacy}", "received_events_url": "https://api.github.com/users/simtel12/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 957900482, "node_id": "MDU6TGFiZWw5NTc5MDA0ODI=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20docs", "name": "type: docs", "color": "0000A0", "default": false, "description": "Improvement to the documentation for an API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-30T20:46:02Z", "updated_at": "2020-04-02T19:51:06Z", "closed_at": "2020-04-02T19:51:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Just wanted to drop a line that the service account samples for the Android Play Publisher API are still using oauth2client: \r\n\r\nhttps://github.com/googlesamples/android-play-publisher-api/blob/master/v2/python/basic_list_apks_service_account.py\r\nand\r\nhttps://github.com/googlesamples/android-play-publisher-api/blob/master/v3/python/basic_list_apks_service_account.py\r\n\r\nI don't think it's too difficult to convert to google-auth - I just wanted to let you know it was there.\r\n\r\nThanks,", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/471", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/471/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/471/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/471/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/471", "id": 588338546, "node_id": "MDU6SXNzdWU1ODgzMzg1NDY=", "number": 471, "title": " ImportError: No module named 'requests.packages'", "user": {"login": "AAverin", "id": 1481332, "node_id": "MDQ6VXNlcjE0ODEzMzI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1481332?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AAverin", "html_url": "https://github.com/AAverin", "followers_url": "https://api.github.com/users/AAverin/followers", "following_url": "https://api.github.com/users/AAverin/following{/other_user}", "gists_url": "https://api.github.com/users/AAverin/gists{/gist_id}", "starred_url": "https://api.github.com/users/AAverin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AAverin/subscriptions", "organizations_url": "https://api.github.com/users/AAverin/orgs", "repos_url": "https://api.github.com/users/AAverin/repos", "events_url": "https://api.github.com/users/AAverin/events{/privacy}", "received_events_url": "https://api.github.com/users/AAverin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-03-26T11:10:09Z", "updated_at": "2020-06-02T09:10:00Z", "closed_at": "2020-06-02T09:09:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "After update to latest version we get\r\n```\r\n from google.auth.transport.requests import AuthorizedSession\r\n  File \"/home/travis/.local/lib/python3.4/site-packages/google/auth/transport/requests.py\", line 38, in <module>\r\n    from requests.packages.urllib3.util.ssl_ import (\r\nImportError: No module named 'requests.packages'\r\n```\r\nWere there any changes made to the dependencies of the library?\r\n\r\nThese is our setup:\r\n```\r\npip3 install --user google-cloud\r\npip3 install --user --upgrade pip\r\npip3 install --user requests\r\npip3 install --user google-auth\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/458", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/458/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/458/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/458/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/458", "id": 582224307, "node_id": "MDU6SXNzdWU1ODIyMjQzMDc=", "number": 458, "title": "service_account returns an error", "user": {"login": "qo4on", "id": 35609308, "node_id": "MDQ6VXNlcjM1NjA5MzA4", "avatar_url": "https://avatars2.githubusercontent.com/u/35609308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/qo4on", "html_url": "https://github.com/qo4on", "followers_url": "https://api.github.com/users/qo4on/followers", "following_url": "https://api.github.com/users/qo4on/following{/other_user}", "gists_url": "https://api.github.com/users/qo4on/gists{/gist_id}", "starred_url": "https://api.github.com/users/qo4on/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/qo4on/subscriptions", "organizations_url": "https://api.github.com/users/qo4on/orgs", "repos_url": "https://api.github.com/users/qo4on/repos", "events_url": "https://api.github.com/users/qo4on/events{/privacy}", "received_events_url": "https://api.github.com/users/qo4on/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-03-16T11:41:19Z", "updated_at": "2020-04-07T13:11:03Z", "closed_at": "2020-03-16T13:28:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "SCOPES\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/456", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/456/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/456/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/456/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/456", "id": 578217175, "node_id": "MDU6SXNzdWU1NzgyMTcxNzU=", "number": 456, "title": "AdSense/googleapiclient Installed App Oauth2 Client Sample Update", "user": {"login": "KevinTydlacka", "id": 7737664, "node_id": "MDQ6VXNlcjc3Mzc2NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/7737664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KevinTydlacka", "html_url": "https://github.com/KevinTydlacka", "followers_url": "https://api.github.com/users/KevinTydlacka/followers", "following_url": "https://api.github.com/users/KevinTydlacka/following{/other_user}", "gists_url": "https://api.github.com/users/KevinTydlacka/gists{/gist_id}", "starred_url": "https://api.github.com/users/KevinTydlacka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KevinTydlacka/subscriptions", "organizations_url": "https://api.github.com/users/KevinTydlacka/orgs", "repos_url": "https://api.github.com/users/KevinTydlacka/repos", "events_url": "https://api.github.com/users/KevinTydlacka/events{/privacy}", "received_events_url": "https://api.github.com/users/KevinTydlacka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1814733397, "node_id": "MDU6TGFiZWwxODE0NzMzMzk3", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/api:%20adsense", "name": "api: adsense", "color": "aeeb11", "default": false, "description": "Issues related to the AdSense Management API API."}, {"id": 1445320611, "node_id": "MDU6TGFiZWwxNDQ1MzIwNjEx", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/external", "name": "external", "color": "800080", "default": false, "description": "This issue is blocked on a bug with the actual product."}, {"id": 957900482, "node_id": "MDU6TGFiZWw5NTc5MDA0ODI=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20docs", "name": "type: docs", "color": "0000A0", "default": false, "description": "Improvement to the documentation for an API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-09T22:04:12Z", "updated_at": "2020-03-10T16:11:16Z", "closed_at": "2020-03-10T16:11:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [AdSense Management API python samples](https://github.com/googleads/googleads-adsense-examples) need to be updated to reflect the switch to `google-auth` from the deprecated `oath2client`...as well as to support python 3 in general. They rely on `apiclient/googleapiclient` `sample_tools.init()` which hasn't been updated to use `google-auth`.\r\n\r\nOne or two closed issues in `google-api-python-client` were related but didn't result in a resolution for this. Filing here per instructions at [oath2client deprecation document](https://googleapis.dev/python/google-auth/latest/oauth2client-deprecation.html). Might be something you guys want to punt to the AdSense or `googleapiclient` team but I wasn't sure. Looks like the functionality has moved to `additional_packages/google_auth_oauthlib/google_auth_oauthlib/flow.py`.\r\n\r\n#### Environment details\r\n\r\n  - OS: **All**\r\n  - Python version: **3.6**\r\n  - pip version: **All**\r\n  - `google-auth-library-python` version: **1.11.2**\r\n  - `google-api-python-client` version: **1.7.11**\r\n\r\n#### Steps to reproduce\r\n\r\n  1. Install `google-api-python-client`.\r\n  2. Run `init()` from `googleapiclient/sample_tools.py`.\r\n  3. Observe exception:\r\n    `ImportError: googleapiclient.sample_tools requires oauth2client. Please install oauth2client and try again.`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/455", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/455/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/455/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/455/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/455", "id": 578165808, "node_id": "MDU6SXNzdWU1NzgxNjU4MDg=", "number": 455, "title": "Memory Leak Introduced in 1.7.2", "user": {"login": "BenRKarl", "id": 5302342, "node_id": "MDQ6VXNlcjUzMDIzNDI=", "avatar_url": "https://avatars0.githubusercontent.com/u/5302342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BenRKarl", "html_url": "https://github.com/BenRKarl", "followers_url": "https://api.github.com/users/BenRKarl/followers", "following_url": "https://api.github.com/users/BenRKarl/following{/other_user}", "gists_url": "https://api.github.com/users/BenRKarl/gists{/gist_id}", "starred_url": "https://api.github.com/users/BenRKarl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BenRKarl/subscriptions", "organizations_url": "https://api.github.com/users/BenRKarl/orgs", "repos_url": "https://api.github.com/users/BenRKarl/repos", "events_url": "https://api.github.com/users/BenRKarl/events{/privacy}", "received_events_url": "https://api.github.com/users/BenRKarl/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893243, "node_id": "MDU6TGFiZWw5NDQ4OTMyNDM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-03-09T20:19:18Z", "updated_at": "2020-03-19T23:27:34Z", "closed_at": "2020-03-19T23:27:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Bug discovered via google-ads-python, [original Issue here](https://github.com/googleads/google-ads-python/issues/239).\r\n\r\n## Environment details\r\n\r\n  - OS: Ubuntu 18.04 and also my gLinux desktop.\r\n  - Python version: 3.7.0\r\n  - pip version: 10.0.1\r\n  - `google-auth` version: 1.7.2+\r\n\r\n#### Steps to reproduce\r\n\r\nNot exactly sure since this is exposed in google-ads-python via requests that require user credentials, however the code in [this change](https://github.com/googleapis/google-auth-library-python/commit/0c33e9c0fe4f87fa46c8f1a5afe725a467ac5fcc) appears to be the cause. Specifically closing threads in the `__del__` method of `AuthMetadataPlugin` may be causing problems because there are no guarantees around when it's called, and in our case it seems like it may not be called at all.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/454", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/454/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/454/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/454/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/454", "id": 577949833, "node_id": "MDU6SXNzdWU1Nzc5NDk4MzM=", "number": 454, "title": "google-cloud-logging==1.14.0 + google-auth==1.11.2 raise an Exception", "user": {"login": "ramonmedeiros", "id": 950160, "node_id": "MDQ6VXNlcjk1MDE2MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/950160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ramonmedeiros", "html_url": "https://github.com/ramonmedeiros", "followers_url": "https://api.github.com/users/ramonmedeiros/followers", "following_url": "https://api.github.com/users/ramonmedeiros/following{/other_user}", "gists_url": "https://api.github.com/users/ramonmedeiros/gists{/gist_id}", "starred_url": "https://api.github.com/users/ramonmedeiros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ramonmedeiros/subscriptions", "organizations_url": "https://api.github.com/users/ramonmedeiros/orgs", "repos_url": "https://api.github.com/users/ramonmedeiros/repos", "events_url": "https://api.github.com/users/ramonmedeiros/events{/privacy}", "received_events_url": "https://api.github.com/users/ramonmedeiros/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 950960728, "node_id": "MDU6TGFiZWw5NTA5NjA3Mjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/needs%20more%20info", "name": "needs more info", "color": "e0ff32", "default": false, "description": "This issue needs more information from the customer to proceed."}, {"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-09T14:29:08Z", "updated_at": "2020-08-03T09:10:27Z", "closed_at": "2020-08-03T09:10:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: `python:3.8-alpine`\r\n  - Python version: `python:3.8`\r\n  - pip version: `19.3.1`\r\n  - `google-auth` version: `google-auth==1.11.2`\r\n\r\n#### Steps to reproduce\r\n\r\n  1. With the following packages, send some logs to Stackdriver\r\n  2. After script finishes, following message is displayed\r\n```\r\nProgram shutting down, attempting to send 1 queued log entries to Stackdriver Logging...\r\nWaiting up to 5 seconds.\r\nAuthMetadataPluginCallback \"<google.auth.transport.grpc.AuthMetadataPlugin object at 0x7fc1e4042490>\" raised exception!\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/grpc/_plugin_wrapping.py\", line 77, in __call__\r\n    self._metadata_plugin(\r\n  File \"/usr/local/lib/python3.8/site-packages/google/auth/transport/grpc.py\", line 87, in __call__\r\n    future = self._pool.submit(self._get_authorization_headers, context)\r\n  File \"/usr/local/lib/python3.8/concurrent/futures/thread.py\", line 179, in submit\r\n    raise RuntimeError('cannot schedule new futures after shutdown')\r\nRuntimeError: cannot schedule new futures after shutdown\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/447", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/447/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/447/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/447/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/447", "id": 566678487, "node_id": "MDU6SXNzdWU1NjY2Nzg0ODc=", "number": 447, "title": "upgrade google-auth 1.6.3 to 1.11.2 has problem", "user": {"login": "luanya01", "id": 42454560, "node_id": "MDQ6VXNlcjQyNDU0NTYw", "avatar_url": "https://avatars3.githubusercontent.com/u/42454560?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luanya01", "html_url": "https://github.com/luanya01", "followers_url": "https://api.github.com/users/luanya01/followers", "following_url": "https://api.github.com/users/luanya01/following{/other_user}", "gists_url": "https://api.github.com/users/luanya01/gists{/gist_id}", "starred_url": "https://api.github.com/users/luanya01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luanya01/subscriptions", "organizations_url": "https://api.github.com/users/luanya01/orgs", "repos_url": "https://api.github.com/users/luanya01/repos", "events_url": "https://api.github.com/users/luanya01/events{/privacy}", "received_events_url": "https://api.github.com/users/luanya01/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-02-18T06:34:50Z", "updated_at": "2020-03-13T20:51:44Z", "closed_at": "2020-03-13T20:51:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "  - OS: Win10\r\n  - Python version: 3.6.3 64bits\r\n  - pip version: 20.0.2\r\n  - `google-auth` version: 1.6.3 upgrade to 1.11.2\r\n\r\nHere is my sample code:\r\n```\r\nSCOPES = 'https://www.googleapis.com/auth/gmail.readonly'\r\ndef get_credentials():\r\n    try:\r\n        print('load cred...')\r\n        creds = None\r\n        if os.path.exists('token.pickle'):\r\n            with open('token.pickle', 'rb') as token:\r\n                creds = pickle.load(token)\r\n            # If there are no (valid) credentials available, let the user log in.\r\n        if not creds or not creds.valid:\r\n            if creds and creds.expired and creds.refresh_token:\r\n                creds.refresh(Request())\r\n            else:\r\n                flow = InstalledAppFlow.from_client_secrets_file(\r\n                    'credentials.json', SCOPES)\r\n                creds = flow.run_local_server(port=0)\r\n            # Save the credentials for the next run\r\n            with open('token.pickle', 'wb') as token:\r\n                pickle.dump(creds, token)\r\n\r\n        print('load cred...done.')\r\n        return creds\r\n    except:\r\n        print(traceback.format_exc())\r\n\r\ncredentials = get_credentials()\r\nservice = build('gmail', 'v1', credentials=credentials)\r\nresult = service.users().messages().list(userId='me',q='from:xxx@xxx.com.tw').execute()\r\n```\r\ndoing great when google-auth version is 1.6.3 , but when I upgrade to 1.11.2 has exception \r\nat `result = service.users().messages().list(userId='me',q='from:xxx@xxx.com.tw').execute()`:\r\n```\r\nraise exceptions.RefreshError(error_details, response_body)\r\ngoogle.auth.exceptions.RefreshError: ('invalid_scope: Some requested scopes were invalid. {invalid=[a, c, e, g, h, i, l, m, ., /, o, p, s, t, :]}', '{\\n  \"error\": \"invalid_scope\",\\n  \"error_description\": \"Some requested scopes were invalid. {invalid\\\\u003d[a, c, e, g, h, i, l, m, ., /, o, p, s, t, :]}\",\\n  \"error_uri\": \"http://code.google.com/apis/accounts/docs/OAuth2.html\"\\n}')\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/443", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/443/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/443/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/443/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/443", "id": 565083444, "node_id": "MDU6SXNzdWU1NjUwODM0NDQ=", "number": 443, "title": "New _GOOGLE_OAUTH2_CERTS_URL incompatible with certificate resolution code in google/auth/jwt.py", "user": {"login": "sidoh", "id": 589893, "node_id": "MDQ6VXNlcjU4OTg5Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/589893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sidoh", "html_url": "https://github.com/sidoh", "followers_url": "https://api.github.com/users/sidoh/followers", "following_url": "https://api.github.com/users/sidoh/following{/other_user}", "gists_url": "https://api.github.com/users/sidoh/gists{/gist_id}", "starred_url": "https://api.github.com/users/sidoh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sidoh/subscriptions", "organizations_url": "https://api.github.com/users/sidoh/orgs", "repos_url": "https://api.github.com/users/sidoh/repos", "events_url": "https://api.github.com/users/sidoh/events{/privacy}", "received_events_url": "https://api.github.com/users/sidoh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-14T03:37:54Z", "updated_at": "2020-04-07T13:52:52Z", "closed_at": "2020-02-14T17:49:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Steps to reproduce\r\n\r\n  1. Try to resolve any valid id_token with `certs_url='https://www.googleapis.com/oauth2/v3/certs'` --\r\n```\r\n>>> from google.oauth2 import id_token\r\n>>> id_token._GOOGLE_OAUTH2_CERTS_URL\r\n'https://www.googleapis.com/oauth2/v3/certs'\r\n>>> from google.auth.transport import requests\r\n>>> auth_token = \"<valid_token>\"\r\n>>> id_token.verify_oauth2_token(auth_token, requests.Request())\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/Cellar/python/3.7.4_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/google/oauth2/id_token.py\", line 141, in verify_oauth2_token\r\n    id_token, request, audience=audience, certs_url=_GOOGLE_OAUTH2_CERTS_URL\r\n  File \"/usr/local/Cellar/python/3.7.4_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/google/oauth2/id_token.py\", line 123, in verify_token\r\n    return jwt.decode(id_token, certs=certs, audience=audience)\r\n  File \"/usr/local/Cellar/python/3.7.4_1/Frameworks/Python.framework/Versions/3.7/lib/python3.7/site-packages/google/auth/jwt.py\", line 226, in decode\r\n    raise ValueError(\"Certificate for key id {} not found.\".format(key_id))\r\nValueError: Certificate for key id 762fa637af953590db8bb8a636bf11d4360abc98 not found.\r\n```\r\n\r\nUsing the old certs URL works:\r\n\r\n```\r\n>>> id_token.verify_token(auth_token, requests.Request(), audience=None, certs_url=\"https://www.googleapis.com/oauth2/v1/certs\")\r\n{...JWT payload...}\r\n```\r\n\r\nIt appears that the issue is here:\r\n\r\nhttps://github.com/googleapis/google-auth-library-python/blob/master/google/auth/jwt.py#L222\r\n\r\n```python\r\n    if isinstance(certs, Mapping):\r\n        key_id = header.get(\"kid\")\r\n        if key_id:\r\n            if key_id not in certs:\r\n                raise ValueError(\"Certificate for key id {} not found.\".format(key_id))\r\n            certs_to_check = [certs[key_id]]\r\n```\r\n\r\nwhere it is expecting the structure of the old cert payload:\r\n\r\n```\r\n{\r\n  \"762fa637af953590db8bb8a636bf11d4360abc98\": \"-----BEGIN CERTIFICATE-----\\nMIIDJjCCAg6gAwIBAgIIcXdDbfgaVLEwDQYJKoZIhvcNAQEFBQAwNjE0MDIGA1UE\\nAxMrZmVkZXJhdGVkLXNpZ25vbi5zeXN0ZW0uZ3NlcnZpY2VhY2NvdW50LmNvbTAe\\nFw0yMDAyMTAwNDI5MzBaFw0yMDAyMjYxNjQ0MzBaMDYxNDAyBgNVBAMTK2ZlZGVy\\nYXRlZC1zaWdub24uc3lzdGVtLmdzZXJ2aWNlYWNjb3VudC5jb20wggEiMA0GCSqG\\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDI5KsUjQhL+tmOfX5EZ0q3iHKfaqem1A7+\\nY10oLoDWF9nwye6ysljp02NZ0giTlSX9HCTOOU26TuPPkIS1ipszDsExo08N8vhI\\n7sBIEyPvK7KSm029wyejmW+Bg/9iIgAMnu19KdfLtcC/w/jRwtrQaSJcFtwiDpfj\\ncx09Cr9yya4w8H6obWDs+r3JsC53YFJt6prfJgKEEAY3GTrONBeX1XudlZ8gT6AL\\nI3W7jswUolUcZaDmK9yb0TeXlwpYb78IZ/bb2HqzwhWN9Gk8lNjm61Oug67Wavqr\\n7lENBZXUaZatIJN0RcK0Wx0yzJuGLVng9zt7i2YK6/qZbr5oY+NvAgMBAAGjODA2\\nMAwGA1UdEwEB/wQCMAAwDgYDVR0PAQH/BAQDAgeAMBYGA1UdJQEB/wQMMAoGCCsG\\nAQUFBwMCMA0GCSqGSIb3DQEBBQUAA4IBAQCkfqr/zEB5pxGVUYBcsc+LLSFjdVIs\\nIb5IpBGulccTAT5t1/K0Sbpr6/Bgoopbwp+vZ/w6tCZ+pKqG+fpbU8uIXwbTrrsl\\nAcGTwPrZ4t3HoR39q1R2smV8nfdjo7acisQUhL39qVZLe2AXDADZ35Ih/ZRzTBK1\\ny9BJ0HhXziyqiwvl196jdBsHjeMlPTetgr2i0BNfWtJZpK0n4BYtP6fw2KDiiX1M\\nGYP4rDacnnBJLqA2uTaQ5tV170PRZRbgTcu8zFSnzyJOjDJy/BQ1hKea86EZJyvx\\nMB+ZmGiaupEoEuW9lTOAMkhDiMTVzxsQ/hMV/8prILAahMZAPJFk+Yn7\\n-----END CERTIFICATE-----\\n\",\r\n  \"d8efea1f66e87bb36c2ea09d837338bdd810353b\": \"-----BEGIN CERTIFICATE-----\\nMIIDJjCCAg6gAwIBAgIIA1PM71I9gHUwDQYJKoZIhvcNAQEFBQAwNjE0MDIGA1UE\\nAxMrZmVkZXJhdGVkLXNpZ25vbi5zeXN0ZW0uZ3NlcnZpY2VhY2NvdW50LmNvbTAe\\nFw0yMDAyMDIwNDI5MzBaFw0yMDAyMTgxNjQ0MzBaMDYxNDAyBgNVBAMTK2ZlZGVy\\nYXRlZC1zaWdub24uc3lzdGVtLmdzZXJ2aWNlYWNjb3VudC5jb20wggEiMA0GCSqG\\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC3r6hVJVlFGWCicrvWVrY9ykWK22z30nDs\\naJIKzFam6rE0mOy7HQ+425BavKcMHup1O4QNGyatdhJ6YhdyqqadaQz9Q/MWSnsJ\\nbQXKv6MscRFfOTnk5TBzpfjWGOAmoFicbBYt4zdPJmYSWI9gAlAhHT20AE/B+jRp\\nYWJVI9a0et/AltxSdf32L1i0Ht9jCamjj8RIRzArCPXTCkAx7fd18/nUC6U5PC/5\\ngLa8uPDbmH3TIeH2uLqfs34wbmWCpy6n/WDxQYoPkqktM0lqzh84GCZqMeKz6Jbp\\nQLcraGOB6tMX93tU1fpWd0GNDI/P2JGnNDfBBlYaGeDnRLFLr4tdAgMBAAGjODA2\\nMAwGA1UdEwEB/wQCMAAwDgYDVR0PAQH/BAQDAgeAMBYGA1UdJQEB/wQMMAoGCCsG\\nAQUFBwMCMA0GCSqGSIb3DQEBBQUAA4IBAQALWk+nEuDemE5a4k3cjTMN5WPfYM9+\\n3nxV519bMTWOK9o2Ikg0TcKgkLekOMVRlbWTjTlkPPInVOaC3aUGjgiysZlglnn/\\ncFZoR36lfsvYx6Xhc548eH99S4vu6lbnVsnFmIWwEQ5Nr8j8bBzz/6v2/daLKr3Z\\nhwmIWft2tYInymesINdtWpjXgu7Y8eu076swJqn+VCccZJveYY0i4VB9Px/YQbBx\\nVcUhptYCjICc6bPI9Cvl52Ud80//+PcddlkZ+OqcmDB49eHyKVCJc94PfUsn1AXj\\nssFFFBMmy0pEF8h1tVbVo9eXCHZzAijwoYXZu7SWJKh9+cU2GvradID6\\n-----END CERTIFICATE-----\\n\"\r\n}\r\n```\r\n\r\nvs\r\n\r\n```json\r\n{\r\n  \"keys\": [\r\n    {\r\n      \"e\": \"AQAB\",\r\n      \"kty\": \"RSA\",\r\n      \"alg\": \"RS256\",\r\n      \"n\": \"t6-oVSVZRRlgonK71la2PcpFitts99Jw7GiSCsxWpuqxNJjsux0PuNuQWrynDB7qdTuEDRsmrXYSemIXcqqmnWkM_UPzFkp7CW0Fyr-jLHERXzk55OUwc6X41hjgJqBYnGwWLeM3TyZmEliPYAJQIR09tABPwfo0aWFiVSPWtHrfwJbcUnX99i9YtB7fYwmpo4_ESEcwKwj10wpAMe33dfP51AulOTwv-YC2vLjw25h90yHh9ri6n7N-MG5lgqcup_1g8UGKD5KpLTNJas4fOBgmajHis-iW6UC3K2hjgerTF_d7VNX6VndBjQyPz9iRpzQ3wQZWGhng50SxS6-LXQ\",\r\n      \"use\": \"sig\",\r\n      \"kid\": \"d8efea1f66e87bb36c2ea09d837338bdd810353b\"\r\n    },\r\n    {\r\n      \"kid\": \"762fa637af953590db8bb8a636bf11d4360abc98\",\r\n      \"e\": \"AQAB\",\r\n      \"kty\": \"RSA\",\r\n      \"alg\": \"RS256\",\r\n      \"n\": \"yOSrFI0IS_rZjn1-RGdKt4hyn2qnptQO_mNdKC6A1hfZ8MnusrJY6dNjWdIIk5Ul_RwkzjlNuk7jz5CEtYqbMw7BMaNPDfL4SO7ASBMj7yuykptNvcMno5lvgYP_YiIADJ7tfSnXy7XAv8P40cLa0GkiXBbcIg6X43MdPQq_csmuMPB-qG1g7Pq9ybAud2BSbeqa3yYChBAGNxk6zjQXl9V7nZWfIE-gCyN1u47MFKJVHGWg5ivcm9E3l5cKWG-_CGf229h6s8IVjfRpPJTY5utTroOu1mr6q-5RDQWV1GmWrSCTdEXCtFsdMsybhi1Z4Pc7e4tmCuv6mW6-aGPjbw\",\r\n      \"use\": \"sig\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nLooks like this was introduced in #365.\r\n\r\n(apologies for the edit -- submitted before I meant to)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/436", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/436/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/436/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/436/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/436", "id": 555851035, "node_id": "MDU6SXNzdWU1NTU4NTEwMzU=", "number": 436, "title": "TransportError: ('Connection aborted.', BadStatusLine(\"''\",))", "user": {"login": "erickertz", "id": 6413080, "node_id": "MDQ6VXNlcjY0MTMwODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6413080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickertz", "html_url": "https://github.com/erickertz", "followers_url": "https://api.github.com/users/erickertz/followers", "following_url": "https://api.github.com/users/erickertz/following{/other_user}", "gists_url": "https://api.github.com/users/erickertz/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickertz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickertz/subscriptions", "organizations_url": "https://api.github.com/users/erickertz/orgs", "repos_url": "https://api.github.com/users/erickertz/repos", "events_url": "https://api.github.com/users/erickertz/events{/privacy}", "received_events_url": "https://api.github.com/users/erickertz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1075852099, "node_id": "MDU6TGFiZWwxMDc1ODUyMDk5", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/status:awaiting%20information", "name": "status:awaiting information", "color": "d4c5f9", "default": false, "description": ""}, {"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-01-27T21:42:46Z", "updated_at": "2020-04-21T22:03:14Z", "closed_at": "2020-04-21T22:03:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: Alpine3.9\r\n  - Python version: 2.7.15 (sorry)\r\n  - pip version: 19.0.3\r\n  - `google-auth` version: 1.11.0\r\n  - `google-cloud-pubsub` version: 0.33.1\r\n\r\n#### Steps to reproduce\r\n\r\nI want to apologize for being on such old versions of Python and google-cloud-pubsu libs. I am working on updating both but will be behind for a little while.\r\n\r\n  1. I only see this error when sending a high volume of messages to PubSub from my Python Celery application. I auth with a service account and from_service_account_info method. Under constant high volumes I am seeing a steady log of the following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/site-packages/grpc/_plugin_wrapping.py\", line 79, in __call__\r\n    callback_state, callback))\r\n  File \"/usr/local/lib/python2.7/site-packages/google/auth/transport/grpc.py\", line 77, in __call__\r\n    callback(self._get_authorization_headers(context), None)\r\n  File \"/usr/local/lib/python2.7/site-packages/google/auth/transport/grpc.py\", line 64, in _get_authorization_headers\r\n    self._request, context.method_name, context.service_url, headers\r\n  File \"/usr/local/lib/python2.7/site-packages/google/auth/credentials.py\", line 124, in before_request\r\n    self.refresh(request)\r\n  File \"/usr/local/lib/python2.7/site-packages/google/oauth2/service_account.py\", line 334, in refresh\r\n    access_token, expiry, _ = _client.jwt_grant(request, self._token_uri, assertion)\r\n  File \"/usr/local/lib/python2.7/site-packages/google/oauth2/_client.py\", line 149, in jwt_grant\r\n    response_data = _token_endpoint_request(request, token_uri, body)\r\n  File \"/usr/local/lib/python2.7/site-packages/google/oauth2/_client.py\", line 105, in _token_endpoint_request\r\n    response = request(method=\"POST\", url=token_uri, headers=headers, body=body)\r\n  File \"/usr/local/lib/python2.7/site-packages/google/auth/transport/requests.py\", line 128, in __call__\r\n    six.raise_from(new_exc, caught_exc)\r\n  File \"/usr/local/lib/python2.7/site-packages/six.py\", line 737, in raise_from\r\n    raise value\r\nTransportError: ('Connection aborted.', BadStatusLine(\"''\",))\r\n```\r\n\r\nI also see from time to time a similar Transport error:\r\n\r\n`TransportError: ('Connection aborted.', error(0, 'Error'))`\r\n\r\nNot sure if the two are related. I also came across another similar reported issue:\r\n\r\nhttps://github.com/googleapis/google-auth-library-python/issues/246\r\n\r\nSince my Celery app is non stop processing thousands of messages, I'm not sure if manually refreshing the token for each message will help.\r\n\r\nThanks in advance for any help!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/434", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/434/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/434/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/434/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/434", "id": 554087528, "node_id": "MDU6SXNzdWU1NTQwODc1Mjg=", "number": 434, "title": "Set the default request timeout to something other than `None`", "user": {"login": "plamut", "id": 1235663, "node_id": "MDQ6VXNlcjEyMzU2NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1235663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plamut", "html_url": "https://github.com/plamut", "followers_url": "https://api.github.com/users/plamut/followers", "following_url": "https://api.github.com/users/plamut/following{/other_user}", "gists_url": "https://api.github.com/users/plamut/gists{/gist_id}", "starred_url": "https://api.github.com/users/plamut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plamut/subscriptions", "organizations_url": "https://api.github.com/users/plamut/orgs", "repos_url": "https://api.github.com/users/plamut/repos", "events_url": "https://api.github.com/users/plamut/events{/privacy}", "received_events_url": "https://api.github.com/users/plamut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893227, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjc=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": {"login": "plamut", "id": 1235663, "node_id": "MDQ6VXNlcjEyMzU2NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1235663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plamut", "html_url": "https://github.com/plamut", "followers_url": "https://api.github.com/users/plamut/followers", "following_url": "https://api.github.com/users/plamut/following{/other_user}", "gists_url": "https://api.github.com/users/plamut/gists{/gist_id}", "starred_url": "https://api.github.com/users/plamut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plamut/subscriptions", "organizations_url": "https://api.github.com/users/plamut/orgs", "repos_url": "https://api.github.com/users/plamut/repos", "events_url": "https://api.github.com/users/plamut/events{/privacy}", "received_events_url": "https://api.github.com/users/plamut/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "plamut", "id": 1235663, "node_id": "MDQ6VXNlcjEyMzU2NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1235663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plamut", "html_url": "https://github.com/plamut", "followers_url": "https://api.github.com/users/plamut/followers", "following_url": "https://api.github.com/users/plamut/following{/other_user}", "gists_url": "https://api.github.com/users/plamut/gists{/gist_id}", "starred_url": "https://api.github.com/users/plamut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plamut/subscriptions", "organizations_url": "https://api.github.com/users/plamut/orgs", "repos_url": "https://api.github.com/users/plamut/repos", "events_url": "https://api.github.com/users/plamut/events{/privacy}", "received_events_url": "https://api.github.com/users/plamut/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-01-23T11:03:56Z", "updated_at": "2020-01-23T22:44:00Z", "closed_at": "2020-01-23T22:44:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The [AuthorizedSession.requests()](https://github.com/googleapis/google-auth-library-python/blob/1b9de8dfbe4523f3170e47985ab523cb7865de48/google/auth/transport/requests.py#L242-L251) method does not specify a default timeout.\r\n\r\nSince production code would almost always want to have some sort of a timeout, let's add one. The libraries that rely on `google-auth`, but do (yet) not specify a timeout themselves, would benefit from that.\r\n\r\nExample: [storage issue](https://github.com/googleapis/google-cloud-python/issues/10182)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/428", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/428/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/428/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/428/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/428", "id": 553263336, "node_id": "MDU6SXNzdWU1NTMyNjMzMzY=", "number": 428, "title": "Warning: a recent release failed", "user": {"login": "failure-checker[bot]", "id": 58094317, "node_id": "MDM6Qm90NTgwOTQzMTc=", "avatar_url": "https://avatars2.githubusercontent.com/in/47470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/failure-checker%5Bbot%5D", "html_url": "https://github.com/apps/failure-checker", "followers_url": "https://api.github.com/users/failure-checker%5Bbot%5D/followers", "following_url": "https://api.github.com/users/failure-checker%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/failure-checker%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/failure-checker%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/failure-checker%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/failure-checker%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/failure-checker%5Bbot%5D/repos", "events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 944893219, "node_id": "MDU6TGFiZWw5NDQ4OTMyMTk=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-22T02:02:18Z", "updated_at": "2020-01-22T16:10:59Z", "closed_at": "2020-01-22T16:10:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "The release PR #425 is still in a pending state after several hours", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/423", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/423/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/423/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/423/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/423", "id": 550898720, "node_id": "MDU6SXNzdWU1NTA4OTg3MjA=", "number": 423, "title": "Make a clear distinction between the transport timeout and the total method time timeout", "user": {"login": "plamut", "id": 1235663, "node_id": "MDQ6VXNlcjEyMzU2NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1235663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plamut", "html_url": "https://github.com/plamut", "followers_url": "https://api.github.com/users/plamut/followers", "following_url": "https://api.github.com/users/plamut/following{/other_user}", "gists_url": "https://api.github.com/users/plamut/gists{/gist_id}", "starred_url": "https://api.github.com/users/plamut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plamut/subscriptions", "organizations_url": "https://api.github.com/users/plamut/orgs", "repos_url": "https://api.github.com/users/plamut/repos", "events_url": "https://api.github.com/users/plamut/events{/privacy}", "received_events_url": "https://api.github.com/users/plamut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893227, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjc=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": {"login": "plamut", "id": 1235663, "node_id": "MDQ6VXNlcjEyMzU2NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1235663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plamut", "html_url": "https://github.com/plamut", "followers_url": "https://api.github.com/users/plamut/followers", "following_url": "https://api.github.com/users/plamut/following{/other_user}", "gists_url": "https://api.github.com/users/plamut/gists{/gist_id}", "starred_url": "https://api.github.com/users/plamut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plamut/subscriptions", "organizations_url": "https://api.github.com/users/plamut/orgs", "repos_url": "https://api.github.com/users/plamut/repos", "events_url": "https://api.github.com/users/plamut/events{/privacy}", "received_events_url": "https://api.github.com/users/plamut/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "plamut", "id": 1235663, "node_id": "MDQ6VXNlcjEyMzU2NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1235663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plamut", "html_url": "https://github.com/plamut", "followers_url": "https://api.github.com/users/plamut/followers", "following_url": "https://api.github.com/users/plamut/following{/other_user}", "gists_url": "https://api.github.com/users/plamut/gists{/gist_id}", "starred_url": "https://api.github.com/users/plamut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plamut/subscriptions", "organizations_url": "https://api.github.com/users/plamut/orgs", "repos_url": "https://api.github.com/users/plamut/repos", "events_url": "https://api.github.com/users/plamut/events{/privacy}", "received_events_url": "https://api.github.com/users/plamut/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-01-16T15:56:54Z", "updated_at": "2020-01-22T19:07:04Z", "closed_at": "2020-01-22T19:07:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "It turned out that the concern from #406 was valid, unfortunately:\r\n\r\n> A downstream library that is timeout-sensitive might still be affected by the change, because the new explicit timeout parameter changes the semantics of AuthorizedSession.request() . The timeout represents the total allowed time for all requests made behind the scenes (e.g. credentials refresh attempts), as opposed to a previous per-request timeout.\r\n\r\nThe changed semantics of `timeout` caused an [issue](https://github.com/googleapis/google-cloud-python/issues/10137) in the `storage` library. A user reported that if a large file upload takes, say, minutes _and succeeds_, a ``Timeout`` error is still raised, because the total execution time takes more than ~60 seconds, which the default transport timeout configured here in this library here.\r\n\r\n### Proposed solution\r\nLeave the `timeout` parameter as is and still pass it to the transport, but introduce and expose a new optional parameter `max_allowed_time` that can be used instead to configure the \"total timeout\".\r\n\r\n> NOTE: The method itself might still take longer than `max_allowed_time`, because the underlying request might take longer, which is the nature of the `requests` library's timeout ([docs](https://2.python-requests.org/en/master/user/quickstart/#timeouts)).\r\n\r\n### Alternatives\r\nModifying the library code so that it supports \"absolute total timeouts\", but that would require interrupting requests in-flight, which does not seem to be a straightforward task -https://stackoverflow.com/q/21965484/5040035\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/422", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/422/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/422/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/422/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/422", "id": 549558402, "node_id": "MDU6SXNzdWU1NDk1NTg0MDI=", "number": 422, "title": "Synthesis failed for google-auth-library-python", "user": {"login": "yoshi-automation", "id": 44816363, "node_id": "MDQ6VXNlcjQ0ODE2MzYz", "avatar_url": "https://avatars1.githubusercontent.com/u/44816363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoshi-automation", "html_url": "https://github.com/yoshi-automation", "followers_url": "https://api.github.com/users/yoshi-automation/followers", "following_url": "https://api.github.com/users/yoshi-automation/following{/other_user}", "gists_url": "https://api.github.com/users/yoshi-automation/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoshi-automation/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoshi-automation/subscriptions", "organizations_url": "https://api.github.com/users/yoshi-automation/orgs", "repos_url": "https://api.github.com/users/yoshi-automation/repos", "events_url": "https://api.github.com/users/yoshi-automation/events{/privacy}", "received_events_url": "https://api.github.com/users/yoshi-automation/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 1667006916, "node_id": "MDU6TGFiZWwxNjY3MDA2OTE2", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/autosynth%20failure", "name": "autosynth failure", "color": "ededed", "default": false, "description": null}, {"id": 944893243, "node_id": "MDU6TGFiZWw5NDQ4OTMyNDM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-14T13:12:15Z", "updated_at": "2020-04-06T17:51:20Z", "closed_at": "2020-01-15T13:24:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello! Autosynth couldn't regenerate google-auth-library-python. :broken_heart:\n\nHere's the output from running `synth.py`:\n\n```\nCloning into 'working_repo'...\nSwitched to branch 'autosynth'\nTraceback (most recent call last):\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmpfs/src/git/autosynth/autosynth/synth.py\", line 256, in <module>\n    main()\n  File \"/tmpfs/src/git/autosynth/autosynth/synth.py\", line 196, in main\n    last_synth_commit_hash = get_last_metadata_commit(args.metadata_path)\n  File \"/tmpfs/src/git/autosynth/autosynth/synth.py\", line 149, in get_last_metadata_commit\n    text=True,\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/subprocess.py\", line 403, in run\n    with Popen(*popenargs, **kwargs) as process:\nTypeError: __init__() got an unexpected keyword argument 'text'\n\n```\n\nGoogle internal developers can see the full log [here](https://sponge/264076a6-41d9-4ca2-9fc2-c9d0a8a92def).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/418", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/418/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/418/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/418", "id": 546814046, "node_id": "MDU6SXNzdWU1NDY4MTQwNDY=", "number": 418, "title": "Failure with Python 3.9 due to use of deprecated collections.Mapping", "user": {"login": "jay0lee", "id": 4623536, "node_id": "MDQ6VXNlcjQ2MjM1MzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/4623536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jay0lee", "html_url": "https://github.com/jay0lee", "followers_url": "https://api.github.com/users/jay0lee/followers", "following_url": "https://api.github.com/users/jay0lee/following{/other_user}", "gists_url": "https://api.github.com/users/jay0lee/gists{/gist_id}", "starred_url": "https://api.github.com/users/jay0lee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jay0lee/subscriptions", "organizations_url": "https://api.github.com/users/jay0lee/orgs", "repos_url": "https://api.github.com/users/jay0lee/repos", "events_url": "https://api.github.com/users/jay0lee/events{/privacy}", "received_events_url": "https://api.github.com/users/jay0lee/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-08T11:51:14Z", "updated_at": "2020-04-16T19:43:14Z", "closed_at": "2020-01-17T19:18:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: Linux\r\n  - Python version: 3.9 alpha 2\r\n  - pip version: 19.3.1\r\n  - `google-auth` version: 1.10.0\r\n\r\n#### Steps to reproduce\r\n\r\n  1. Use Python 3.9\r\n  2. Attempt to decode an ID Token:\r\n    google.oauth2.id_token.verify_oauth2_token()...\r\n\r\nExpected results:\r\ndecoded ID token\r\n\r\nActual results:\r\nAttributeError: module 'collections' has no attribute 'Mapping'\r\nsee full crash at:\r\nAttributeError: module 'collections' has no attribute 'Mapping'\r\n\r\nFurther details:\r\ncollections.Mapping was moved to collections.abc.Mapping in Python 3.3 but mapped back to collections up to Python 3.8. In Python 3.9 the legacy mapping is removed so we break. See:\r\nhttps://docs.python.org/3/library/collections.html#\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/416", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/416/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/416/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/416/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/416", "id": 540354570, "node_id": "MDU6SXNzdWU1NDAzNTQ1NzA=", "number": 416, "title": "Breaking changes for impersonated_credentials between 1.6.3 and 1.7.0+", "user": {"login": "jonas-p", "id": 1289551, "node_id": "MDQ6VXNlcjEyODk1NTE=", "avatar_url": "https://avatars1.githubusercontent.com/u/1289551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-p", "html_url": "https://github.com/jonas-p", "followers_url": "https://api.github.com/users/jonas-p/followers", "following_url": "https://api.github.com/users/jonas-p/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-p/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-p/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-p/subscriptions", "organizations_url": "https://api.github.com/users/jonas-p/orgs", "repos_url": "https://api.github.com/users/jonas-p/repos", "events_url": "https://api.github.com/users/jonas-p/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-p/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893243, "node_id": "MDU6TGFiZWw5NDQ4OTMyNDM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-12-19T14:40:57Z", "updated_at": "2020-03-13T20:21:19Z", "closed_at": "2020-03-13T20:21:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: MacOS Mojave\r\n  - Python version: 3.7.3\r\n  - pip version: 19.0.3\r\n  - `google-auth` version: 1.6.3, 1.7.0, 1.10.0\r\n\r\nThe default credentials are my user credentials (with the ServiceAccountTokenCreator role on the service account). \r\n\r\n#### Steps to reproduce\r\nThe following code works and produces a valid access token for the service account in version 1.6.3.\r\n\r\n```python\r\nfrom google.auth import impersonated_credentials, default\r\nfrom google.auth.transport.requests import Request\r\n\r\nsa = \"<sa>@<project>.iam.gserviceaccount.com\"\r\nsource_credentials, _ = default()\r\nscopes = [\"https://www.googleapis.com/auth/cloud-platform\"]\r\ncreds = impersonated_credentials.Credentials(\r\n    source_credentials=source_credentials, target_principal=sa, target_scopes=scopes\r\n)\r\n\r\ncreds.refresh(Request())\r\nprint(creds.token)\r\n```\r\nAfter upgrading to 1.10.0, it fails to authenticate the service account due to invalid scopes.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 13, in <module>\r\n    creds.refresh(Request())\r\n  File \"/google/lib/python3.7/site-packages/google/auth/impersonated_credentials.py\", line 218, in refresh\r\n    self._update_token(request)\r\n  File \"/google/lib/python3.7/site-packages/google/auth/impersonated_credentials.py\", line 234, in _update_token\r\n    self._source_credentials.refresh(request)\r\n  File \"/google/lib/python3.7/site-packages/google/oauth2/credentials.py\", line 152, in refresh\r\n    self._scopes,\r\n  File \"/google/lib/python3.7/site-packages/google/oauth2/_client.py\", line 241, in refresh_grant\r\n    response_data = _token_endpoint_request(request, token_uri, body)\r\n  File \"/google/lib/python3.7/site-packages/google/oauth2/_client.py\", line 115, in _token_endpoint_request\r\n    _handle_error_response(response_body)\r\n  File \"/google/lib/python3.7/site-packages/google/oauth2/_client.py\", line 60, in _handle_error_response\r\n    raise exceptions.RefreshError(error_details, response_body)\r\ngoogle.auth.exceptions.RefreshError: ('invalid_scope: Bad Request', '{\\n  \"error\": \"invalid_scope\",\\n  \"error_description\": \"Bad Request\"\\n}')\r\n```\r\n\r\nI traced this back to an google-auth upgrade from 1.6.3 to 1.7.0 (same error occurs).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/408", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/408/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/408/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/408", "id": 536323635, "node_id": "MDU6SXNzdWU1MzYzMjM2MzU=", "number": 408, "title": "AttributeError: 'Credentials' object has no attribute '_quota_project_id'", "user": {"login": "vj-09", "id": 32112111, "node_id": "MDQ6VXNlcjMyMTEyMTEx", "avatar_url": "https://avatars0.githubusercontent.com/u/32112111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vj-09", "html_url": "https://github.com/vj-09", "followers_url": "https://api.github.com/users/vj-09/followers", "following_url": "https://api.github.com/users/vj-09/following{/other_user}", "gists_url": "https://api.github.com/users/vj-09/gists{/gist_id}", "starred_url": "https://api.github.com/users/vj-09/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vj-09/subscriptions", "organizations_url": "https://api.github.com/users/vj-09/orgs", "repos_url": "https://api.github.com/users/vj-09/repos", "events_url": "https://api.github.com/users/vj-09/events{/privacy}", "received_events_url": "https://api.github.com/users/vj-09/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-11T11:56:33Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2019-12-11T18:51:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/405", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/405/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/405/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/405", "id": 535552910, "node_id": "MDU6SXNzdWU1MzU1NTI5MTA=", "number": 405, "title": "AttributeError in credentials.py", "user": {"login": "ryoichitaniguchi", "id": 14815593, "node_id": "MDQ6VXNlcjE0ODE1NTkz", "avatar_url": "https://avatars1.githubusercontent.com/u/14815593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryoichitaniguchi", "html_url": "https://github.com/ryoichitaniguchi", "followers_url": "https://api.github.com/users/ryoichitaniguchi/followers", "following_url": "https://api.github.com/users/ryoichitaniguchi/following{/other_user}", "gists_url": "https://api.github.com/users/ryoichitaniguchi/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryoichitaniguchi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryoichitaniguchi/subscriptions", "organizations_url": "https://api.github.com/users/ryoichitaniguchi/orgs", "repos_url": "https://api.github.com/users/ryoichitaniguchi/repos", "events_url": "https://api.github.com/users/ryoichitaniguchi/events{/privacy}", "received_events_url": "https://api.github.com/users/ryoichitaniguchi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893243, "node_id": "MDU6TGFiZWw5NDQ4OTMyNDM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-12-10T07:43:56Z", "updated_at": "2020-04-07T13:11:03Z", "closed_at": "2019-12-12T01:36:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nafter updating `google-auth`  package from `v1.7.2` to `v1.8.0`  error occurred from `credentials.py`\r\n\r\nstack-trace:\r\n```\r\n    range=RANGE).execute()\r\n  File \"/home/vagrant/py36/lib/python3.6/site-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\r\n    return wrapped(*args, **kwargs)\r\n  File \"/home/vagrant/py36/lib/python3.6/site-packages/googleapiclient/http.py\", line 851, in execute\r\n    method=str(self.method), body=self.body, headers=self.headers)\r\n  File \"/home/vagrant/py36/lib/python3.6/site-packages/googleapiclient/http.py\", line 165, in _retry_request\r\n    resp, content = http.request(uri, method, *args, **kwargs)\r\n  File \"/home/vagrant/py36/lib/python3.6/site-packages/google_auth_httplib2.py\", line 187, in request\r\n    self._request, method, uri, request_headers)\r\n  File \"/home/vagrant/py36/lib/python3.6/site-packages/google/auth/credentials.py\", line 125, in before_request\r\n    self.apply(headers)\r\n  File \"/home/vagrant/py36/lib/python3.6/site-packages/google/oauth2/credentials.py\", line 185, in apply\r\n    if self.quota_project_id is not None:\r\n  File \"/home/vagrant/py36/lib/python3.6/site-packages/google/oauth2/credentials.py\", line 134, in quota_project_id\r\n    return self._quota_project_id\r\nAttributeError: 'Credentials' object has no attribute '_quota_project_id'\r\n```\r\n\r\nTrigger is googleapiclient.http.execute():\r\n```\r\nfrom googleapiclient.discovery import build\r\nbuild('sheets', 'v4', credentials=creds).spreadsheets().values().get(spreadsheetId=SPREADSHEET_ID,range=RANGE).execute()\r\n```\r\n\r\nDowngrading google-auth to previous version (or avoid to refer this attribute) , error dissapeared. \r\n\r\nSome compatibility issue behind this?  Appreciate if someone let me know..\r\n\r\n\r\nrequirements condition\r\n```\r\ngoogle-api-python-client\r\ngoogle-auth-httplib2\r\ngoogle-auth-oauthlib\r\ngoogle-auth\r\n```\r\n\r\ninstalled version from pip-list\r\n```\r\ngoogle-api-python-client (1.7.11)\r\ngoogle-auth (1.8.0)     # or 1.8.1\r\ngoogle-auth-httplib2 (0.0.3)\r\ngoogle-auth-oauthlib (0.4.1)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/404", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/404/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/404/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/404/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/404", "id": 535405905, "node_id": "MDU6SXNzdWU1MzU0MDU5MDU=", "number": 404, "title": "Timeout in AuthorizedSession causes TypeError: unsupported operand type(s) for -: 'tuple' and 'float'", "user": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-09T23:50:47Z", "updated_at": "2020-04-07T13:11:04Z", "closed_at": "2019-12-10T11:33:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Reported in #403, but was also noticed in other logs for team tools. They were all using google-cloud-storage, although that may be a coincidence\r\n\r\n#397 (release PR #399) was rolled back in #401 (release PR #402)\r\n\r\n```\r\n1119 /usr/local/lib/python3.7/site-packages/nlu/bucket_utils.py:23: in load_item\r\n1120     pickled_cache_string = blob.download_as_string()\r\n1121 /usr/local/lib/python3.7/site-packages/google/cloud/storage/blob.py:802: in download_as_string\r\n1122     raw_download=raw_download,\r\n1123 /usr/local/lib/python3.7/site-packages/google/cloud/storage/blob.py:719: in download_to_file\r\n1124     transport, file_obj, download_url, headers, start, end, raw_download\r\n1125 /usr/local/lib/python3.7/site-packages/google/cloud/storage/blob.py:643: in _do_download\r\n1126     download.consume(transport)\r\n1127 /usr/local/lib/python3.7/site-packages/google/resumable_media/requests/download.py:151: in consume\r\n1128     result = _helpers.http_request(transport, method, url, **request_kwargs)\r\n1129 /usr/local/lib/python3.7/site-packages/google/resumable_media/requests/_helpers.py:136: in http_request\r\n1130     return _helpers.wait_and_retry(func, RequestsMixin._get_status_code, retry_strategy)\r\n1131 /usr/local/lib/python3.7/site-packages/google/resumable_media/_helpers.py:150: in wait_and_retry\r\n1132     response = func()\r\n1133 /usr/local/lib/python3.7/site-packages/google/auth/transport/requests.py:252: in request\r\n1134     self.credentials.before_request(auth_request, method, url, request_headers)\r\n1135 /usr/local/lib/python3.7/site-packages/google/auth/transport/requests.py:89: in __exit__\r\n1136     self.remaining_timeout = self._timeout - elapsed\r\n1137 E   TypeError: unsupported operand type(s) for -: 'tuple' and 'float'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/403", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/403/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/403/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/403/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/403", "id": 535394494, "node_id": "MDU6SXNzdWU1MzUzOTQ0OTQ=", "number": 403, "title": "TypeError: unsupported operand type(s) for -: 'tuple' and 'float'", "user": {"login": "uriva", "id": 2490655, "node_id": "MDQ6VXNlcjI0OTA2NTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2490655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uriva", "html_url": "https://github.com/uriva", "followers_url": "https://api.github.com/users/uriva/followers", "following_url": "https://api.github.com/users/uriva/following{/other_user}", "gists_url": "https://api.github.com/users/uriva/gists{/gist_id}", "starred_url": "https://api.github.com/users/uriva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uriva/subscriptions", "organizations_url": "https://api.github.com/users/uriva/orgs", "repos_url": "https://api.github.com/users/uriva/repos", "events_url": "https://api.github.com/users/uriva/events{/privacy}", "received_events_url": "https://api.github.com/users/uriva/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893243, "node_id": "MDU6TGFiZWw5NDQ4OTMyNDM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-09T23:15:43Z", "updated_at": "2020-04-06T17:51:20Z", "closed_at": "2019-12-09T23:36:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n1119 /usr/local/lib/python3.7/site-packages/nlu/bucket_utils.py:23: in load_item\r\n1120     pickled_cache_string = blob.download_as_string()\r\n1121 /usr/local/lib/python3.7/site-packages/google/cloud/storage/blob.py:802: in download_as_string\r\n1122     raw_download=raw_download,\r\n1123 /usr/local/lib/python3.7/site-packages/google/cloud/storage/blob.py:719: in download_to_file\r\n1124     transport, file_obj, download_url, headers, start, end, raw_download\r\n1125 /usr/local/lib/python3.7/site-packages/google/cloud/storage/blob.py:643: in _do_download\r\n1126     download.consume(transport)\r\n1127 /usr/local/lib/python3.7/site-packages/google/resumable_media/requests/download.py:151: in consume\r\n1128     result = _helpers.http_request(transport, method, url, **request_kwargs)\r\n1129 /usr/local/lib/python3.7/site-packages/google/resumable_media/requests/_helpers.py:136: in http_request\r\n1130     return _helpers.wait_and_retry(func, RequestsMixin._get_status_code, retry_strategy)\r\n1131 /usr/local/lib/python3.7/site-packages/google/resumable_media/_helpers.py:150: in wait_and_retry\r\n1132     response = func()\r\n1133 /usr/local/lib/python3.7/site-packages/google/auth/transport/requests.py:252: in request\r\n1134     self.credentials.before_request(auth_request, method, url, request_headers)\r\n1135 /usr/local/lib/python3.7/site-packages/google/auth/transport/requests.py:89: in __exit__\r\n1136     self.remaining_timeout = self._timeout - elapsed\r\n1137 E   TypeError: unsupported operand type(s) for -: 'tuple' and 'float'\r\n```\r\n\r\nDid I do something stupid or there's a bug in current version?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/396", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/396/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/396/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/396", "id": 533419415, "node_id": "MDU6SXNzdWU1MzM0MTk0MTU=", "number": 396, "title": "Add timeout parameter to AuthorizedSession.request()", "user": {"login": "plamut", "id": 1235663, "node_id": "MDQ6VXNlcjEyMzU2NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1235663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plamut", "html_url": "https://github.com/plamut", "followers_url": "https://api.github.com/users/plamut/followers", "following_url": "https://api.github.com/users/plamut/following{/other_user}", "gists_url": "https://api.github.com/users/plamut/gists{/gist_id}", "starred_url": "https://api.github.com/users/plamut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plamut/subscriptions", "organizations_url": "https://api.github.com/users/plamut/orgs", "repos_url": "https://api.github.com/users/plamut/repos", "events_url": "https://api.github.com/users/plamut/events{/privacy}", "received_events_url": "https://api.github.com/users/plamut/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893227, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjc=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": {"login": "plamut", "id": 1235663, "node_id": "MDQ6VXNlcjEyMzU2NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1235663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plamut", "html_url": "https://github.com/plamut", "followers_url": "https://api.github.com/users/plamut/followers", "following_url": "https://api.github.com/users/plamut/following{/other_user}", "gists_url": "https://api.github.com/users/plamut/gists{/gist_id}", "starred_url": "https://api.github.com/users/plamut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plamut/subscriptions", "organizations_url": "https://api.github.com/users/plamut/orgs", "repos_url": "https://api.github.com/users/plamut/repos", "events_url": "https://api.github.com/users/plamut/events{/privacy}", "received_events_url": "https://api.github.com/users/plamut/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "plamut", "id": 1235663, "node_id": "MDQ6VXNlcjEyMzU2NjM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1235663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/plamut", "html_url": "https://github.com/plamut", "followers_url": "https://api.github.com/users/plamut/followers", "following_url": "https://api.github.com/users/plamut/following{/other_user}", "gists_url": "https://api.github.com/users/plamut/gists{/gist_id}", "starred_url": "https://api.github.com/users/plamut/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/plamut/subscriptions", "organizations_url": "https://api.github.com/users/plamut/orgs", "repos_url": "https://api.github.com/users/plamut/repos", "events_url": "https://api.github.com/users/plamut/events{/privacy}", "received_events_url": "https://api.github.com/users/plamut/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-12-05T15:23:22Z", "updated_at": "2019-12-12T00:33:45Z", "closed_at": "2019-12-12T00:33:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As a Google Cloud client library developer, I would like an easy way of specifying a timeout when making API calls using the `requests.AuthorizedSession` transport, for example:\r\n\r\n```py\r\ntransport = AuthorizedSession(...)\r\ntransport.request(..., timeout=42)\r\n```\r\n\r\n**Motivation:**\r\nSometimes the BigQuery client gets stuck at the transport layer. Having a timeout parameter that can be passed to the transport is necessary for fixing several issue, for example: https://github.com/googleapis/google-cloud-python/pull/9875#discussion_r351504480\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/395", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/395/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/395/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/395", "id": 532807466, "node_id": "MDU6SXNzdWU1MzI4MDc0NjY=", "number": 395, "title": "Using jwt.Credentials with discovery.build throws invalid credentials error", "user": {"login": "rakeshbabuseva", "id": 16647387, "node_id": "MDQ6VXNlcjE2NjQ3Mzg3", "avatar_url": "https://avatars2.githubusercontent.com/u/16647387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rakeshbabuseva", "html_url": "https://github.com/rakeshbabuseva", "followers_url": "https://api.github.com/users/rakeshbabuseva/followers", "following_url": "https://api.github.com/users/rakeshbabuseva/following{/other_user}", "gists_url": "https://api.github.com/users/rakeshbabuseva/gists{/gist_id}", "starred_url": "https://api.github.com/users/rakeshbabuseva/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rakeshbabuseva/subscriptions", "organizations_url": "https://api.github.com/users/rakeshbabuseva/orgs", "repos_url": "https://api.github.com/users/rakeshbabuseva/repos", "events_url": "https://api.github.com/users/rakeshbabuseva/events{/privacy}", "received_events_url": "https://api.github.com/users/rakeshbabuseva/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "michaelawyu", "id": 14261500, "node_id": "MDQ6VXNlcjE0MjYxNTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/14261500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelawyu", "html_url": "https://github.com/michaelawyu", "followers_url": "https://api.github.com/users/michaelawyu/followers", "following_url": "https://api.github.com/users/michaelawyu/following{/other_user}", "gists_url": "https://api.github.com/users/michaelawyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelawyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelawyu/subscriptions", "organizations_url": "https://api.github.com/users/michaelawyu/orgs", "repos_url": "https://api.github.com/users/michaelawyu/repos", "events_url": "https://api.github.com/users/michaelawyu/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelawyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "michaelawyu", "id": 14261500, "node_id": "MDQ6VXNlcjE0MjYxNTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/14261500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelawyu", "html_url": "https://github.com/michaelawyu", "followers_url": "https://api.github.com/users/michaelawyu/followers", "following_url": "https://api.github.com/users/michaelawyu/following{/other_user}", "gists_url": "https://api.github.com/users/michaelawyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelawyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelawyu/subscriptions", "organizations_url": "https://api.github.com/users/michaelawyu/orgs", "repos_url": "https://api.github.com/users/michaelawyu/repos", "events_url": "https://api.github.com/users/michaelawyu/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelawyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-12-04T16:48:18Z", "updated_at": "2020-01-23T02:47:39Z", "closed_at": "2020-01-23T02:47:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to migrate from oauth2client to google-auth, so I am trying to access the Google Drive using JWT token but couldn't able to get the access eventhough the jwt encoding went fine, am I missing anything ? \r\n\r\n```from google.auth import crypt\r\nfrom google.auth import jwt\r\nfrom googleapiclient import discovery\r\npkey=<Private_Key>\r\nsigner = crypt.RSASigner.from_string(pkey)\r\n# getting the jwt.Credentials object\r\ncred = jwt.Credentials(signer,  issuer='****@developer.gserviceaccount.com', subject=\"***@***.com\", audience='https://accounts.google.com/o/oauth2/token', additional_claims={'scope': 'https://www.googleapis.com/auth/drive'})\r\ndrive = discovery.build('drive', 'v3', credentials=cred)\r\ndrive.files().get(fileId=\"****\").execute()\r\n\r\nException HttpError 401 when requesting https://www.googleapis.com/drive/v3/files/<file_id>?alt=json returned \"Invalid Credentials```\r\n\r\nNote: the above values like client id and issuer etc are worked with SignedJwtAssertionCredentials", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/394", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/394/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/394/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/394/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/394", "id": 529620632, "node_id": "MDU6SXNzdWU1Mjk2MjA2MzI=", "number": 394, "title": "Warning: a recent release failed", "user": {"login": "failure-checker[bot]", "id": 58094317, "node_id": "MDM6Qm90NTgwOTQzMTc=", "avatar_url": "https://avatars2.githubusercontent.com/in/47470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/failure-checker%5Bbot%5D", "html_url": "https://github.com/apps/failure-checker", "followers_url": "https://api.github.com/users/failure-checker%5Bbot%5D/followers", "following_url": "https://api.github.com/users/failure-checker%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/failure-checker%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/failure-checker%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/failure-checker%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/failure-checker%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/failure-checker%5Bbot%5D/repos", "events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/failure-checker%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "labels": [{"id": 944893219, "node_id": "MDU6TGFiZWw5NDQ4OTMyMTk=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-27T23:46:15Z", "updated_at": "2019-12-09T23:29:12Z", "closed_at": "2019-12-09T23:29:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "The release PR #380 is still in a pending state after several hours", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/386", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/386/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/386/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/386/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/386", "id": 521843495, "node_id": "MDU6SXNzdWU1MjE4NDM0OTU=", "number": 386, "title": "Oauth2 refresh token expires in 1 hour - is it b/c i'm currently testing ? (i.e. unverified app)", "user": {"login": "taewookim", "id": 5768898, "node_id": "MDQ6VXNlcjU3Njg4OTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5768898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taewookim", "html_url": "https://github.com/taewookim", "followers_url": "https://api.github.com/users/taewookim/followers", "following_url": "https://api.github.com/users/taewookim/following{/other_user}", "gists_url": "https://api.github.com/users/taewookim/gists{/gist_id}", "starred_url": "https://api.github.com/users/taewookim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taewookim/subscriptions", "organizations_url": "https://api.github.com/users/taewookim/orgs", "repos_url": "https://api.github.com/users/taewookim/repos", "events_url": "https://api.github.com/users/taewookim/events{/privacy}", "received_events_url": "https://api.github.com/users/taewookim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-11-12T22:36:29Z", "updated_at": "2019-11-13T17:36:35Z", "closed_at": "2019-11-13T17:36:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "I followed [this tutorial](https://developers.google.com/identity/protocols/OAuth2WebServer#example) EXACTLY, however\r\n\r\n```\r\n@app.route('/test')\r\ndef test_api_request():\r\n  if 'credentials' not in flask.session:\r\n    return flask.redirect('authorize')\r\n\r\n  # Load credentials from the session.\r\n  credentials = google.oauth2.credentials.Credentials(\r\n      **flask.session['credentials'])\r\n\r\n  drive = googleapiclient.discovery.build(\r\n      API_SERVICE_NAME, API_VERSION, credentials=credentials)\r\n\r\n  files = drive.files().list().execute()\r\n\r\n  # Save credentials back to session in case access token was refreshed.\r\n  # ACTION ITEM: In a production app, you likely want to save these\r\n  #              credentials in a persistent database instead.\r\n  flask.session['credentials'] = credentials_to_dict(credentials)\r\n\r\n  return flask.jsonify(**files)\r\n```\r\n\r\nHowever in this part:\r\n\r\n```\r\n  credentials = google.oauth2.credentials.Credentials(\r\n      **flask.session['credentials'])\r\n\r\n```\r\n\r\nThe refresh token expires after an hour, with this error:\r\n\r\n> The credentials do not contain the necessary fields need to refresh the access token. You must specify refresh_token, token_uri, client_id, and client_secret.\r\n\r\n\r\nBut clearly in the flask session the dict object is there:\r\n\r\n```\r\n{'client_id': '<COMMENTED_OUT>.apps.googleusercontent.com',\r\n 'client_secret': '<COMMENTED_OUT>',\r\n 'refresh_token': None,\r\n 'scopes': ['https://spreadsheets.google.com/feeds',\r\n            'https://www.googleapis.com/auth/drive',\r\n            'https://mail.google.com/'],\r\n 'token': '<COMMENTED_OUT>',\r\n 'token_uri': 'https://oauth2.googleapis.com/token'}\r\n```\r\n\r\n\r\nTwo questions 1) Do i need to manually \"refresh\" the refresh token? The comment in the tutorial says \"Save credentials back to session in case access token was refreshed\".. which implies that it's refreshed automatically\r\n\r\n2) Is this because the app is still in unverified status?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/384", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/384/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/384/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/384", "id": 520429445, "node_id": "MDU6SXNzdWU1MjA0Mjk0NDU=", "number": 384, "title": "Synthesis failed for google-auth-library-python", "user": {"login": "yoshi-automation", "id": 44816363, "node_id": "MDQ6VXNlcjQ0ODE2MzYz", "avatar_url": "https://avatars1.githubusercontent.com/u/44816363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoshi-automation", "html_url": "https://github.com/yoshi-automation", "followers_url": "https://api.github.com/users/yoshi-automation/followers", "following_url": "https://api.github.com/users/yoshi-automation/following{/other_user}", "gists_url": "https://api.github.com/users/yoshi-automation/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoshi-automation/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoshi-automation/subscriptions", "organizations_url": "https://api.github.com/users/yoshi-automation/orgs", "repos_url": "https://api.github.com/users/yoshi-automation/repos", "events_url": "https://api.github.com/users/yoshi-automation/events{/privacy}", "received_events_url": "https://api.github.com/users/yoshi-automation/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 1667006916, "node_id": "MDU6TGFiZWwxNjY3MDA2OTE2", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/autosynth%20failure", "name": "autosynth failure", "color": "ededed", "default": false, "description": null}, {"id": 944893243, "node_id": "MDU6TGFiZWw5NDQ4OTMyNDM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-09T13:41:17Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2019-11-11T18:27:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello! Autosynth couldn't regenerate google-auth-library-python. :broken_heart:\n\nHere's the output from running `synth.py`:\n\n```\nCloning into 'working_repo'...\nSwitched to branch 'autosynth'\nRunning synthtool\n['/tmpfs/src/git/autosynth/env/bin/python3', '-m', 'synthtool', 'synth.py', '--']\nsynthtool > Executing /tmpfs/src/git/autosynth/working_repo/synth.py.\n.coveragerc\n.flake8\nMANIFEST.in\ndocs/_static/custom.css\ndocs/_templates/layout.html\nTraceback (most recent call last):\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/home/kbuilder/.pyenv/versions/3.6.1/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/__main__.py\", line 87, in <module>\n    main()\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 764, in __call__\n    return self.main(*args, **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 717, in main\n    rv = self.invoke(ctx)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 956, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/click/core.py\", line 555, in invoke\n    return callback(*args, **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/__main__.py\", line 79, in main\n    spec.loader.exec_module(synth_module)  # type: ignore\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\n  File \"<frozen importlib._bootstrap>\", line 205, in _call_with_frames_removed\n  File \"/tmpfs/src/git/autosynth/working_repo/synth.py\", line 9, in <module>\n    templated_files = common.py_library(unit_cov_level=100, cov_level=100)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/gcp/common.py\", line 57, in py_library\n    return self._generic_library(\"python_library\", **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/gcp/common.py\", line 49, in _generic_library\n    result = t.render(**kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/sources/templates.py\", line 83, in render\n    _render_to_path(self.env, template_name, self.dir, kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/sources/templates.py\", line 42, in _render_to_path\n    template = env.get_template(template_name)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/environment.py\", line 830, in get_template\n    return self._load_template(name, self.make_globals(globals))\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/environment.py\", line 804, in _load_template\n    template = self.loader.load(self, name, globals)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/loaders.py\", line 125, in load\n    code = environment.compile(source, name, filename)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/environment.py\", line 591, in compile\n    self.handle_exception(exc_info, source_hint=source_hint)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/environment.py\", line 780, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/_compat.py\", line 37, in reraise\n    raise value.with_traceback(tb)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/synthtool/gcp/templates/python_library/docs/_templates/layout.html\", line 13, in template\n    {%- if theme_show_relbar_top|tobool %}\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/environment.py\", line 543, in _generate\n    optimized=self.optimized)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/compiler.py\", line 82, in generate\n    generator.visit(node)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/visitor.py\", line 38, in visit\n    return f(node, *args, **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/compiler.py\", line 799, in visit_Template\n    self.blockvisit(block.body, block_frame)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/compiler.py\", line 378, in blockvisit\n    self.visit(node, frame)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/visitor.py\", line 38, in visit\n    return f(node, *args, **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/compiler.py\", line 1157, in visit_If\n    self.visit(node.test, if_frame)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/visitor.py\", line 38, in visit\n    return f(node, *args, **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/compiler.py\", line 70, in new_func\n    return f(self, node, frame, **kwargs)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/compiler.py\", line 1578, in visit_Filter\n    self.fail('no filter named %r' % node.name, node.lineno)\n  File \"/tmpfs/src/git/autosynth/env/lib/python3.6/site-packages/jinja2/compiler.py\", line 315, in fail\n    raise TemplateAssertionError(msg, lineno, self.name, self.filename)\njinja2.exceptions.TemplateAssertionError: no filter named 'tobool'\nsynthtool > Cleaned up 2 temporary directories.\nsynthtool > Wrote metadata to synth.metadata.\n\nSynthesis failed\n\n```\n\nGoogle internal developers can see the full log [here](https://sponge/92d6d891-67b9-4d44-b6f1-fb4cce29f6b8).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/383", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/383/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/383/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/383/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/383", "id": 519258111, "node_id": "MDU6SXNzdWU1MTkyNTgxMTE=", "number": 383, "title": "Google Auth fails to load default project when inside of Docker with exported ~/.config", "user": {"login": "ramonmedeiros", "id": 950160, "node_id": "MDQ6VXNlcjk1MDE2MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/950160?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ramonmedeiros", "html_url": "https://github.com/ramonmedeiros", "followers_url": "https://api.github.com/users/ramonmedeiros/followers", "following_url": "https://api.github.com/users/ramonmedeiros/following{/other_user}", "gists_url": "https://api.github.com/users/ramonmedeiros/gists{/gist_id}", "starred_url": "https://api.github.com/users/ramonmedeiros/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ramonmedeiros/subscriptions", "organizations_url": "https://api.github.com/users/ramonmedeiros/orgs", "repos_url": "https://api.github.com/users/ramonmedeiros/repos", "events_url": "https://api.github.com/users/ramonmedeiros/events{/privacy}", "received_events_url": "https://api.github.com/users/ramonmedeiros/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-11-07T13:12:42Z", "updated_at": "2019-11-11T20:28:46Z", "closed_at": "2019-11-11T20:28:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: mac\r\n  - Python version: Python 3.7.5\r\n  - pip version: 19.3.1\r\n  - `google-auth` version:   1.7.0\r\n\r\n#### Steps to reproduce\r\n1) `gcloud auth application-default login`\r\n2) `gcloud config set project ...`\r\n3) In your machine, run:\r\n```import google.auth;google.auth.default()```\r\n\r\nIt will return Credentials object and the default project\r\n\r\n4) Open a docker image, python-3.7 alpine\r\n5) Export your ~/.config and mount it\r\n6) Run:\r\n```import google.auth;google.auth.default()```\r\nIt does not return the default project \r\n\r\nMaking sure to follow these steps will guarantee the quickest resolution possible.\r\n\r\nThanks!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/382", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/382/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/382/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/382", "id": 518175827, "node_id": "MDU6SXNzdWU1MTgxNzU4Mjc=", "number": 382, "title": "Docs: compute_engine.credentials doesn't render note for service_account_email", "user": {"login": "bmccutchon", "id": 8671821, "node_id": "MDQ6VXNlcjg2NzE4MjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/8671821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmccutchon", "html_url": "https://github.com/bmccutchon", "followers_url": "https://api.github.com/users/bmccutchon/followers", "following_url": "https://api.github.com/users/bmccutchon/following{/other_user}", "gists_url": "https://api.github.com/users/bmccutchon/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmccutchon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmccutchon/subscriptions", "organizations_url": "https://api.github.com/users/bmccutchon/orgs", "repos_url": "https://api.github.com/users/bmccutchon/repos", "events_url": "https://api.github.com/users/bmccutchon/events{/privacy}", "received_events_url": "https://api.github.com/users/bmccutchon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 957900482, "node_id": "MDU6TGFiZWw5NTc5MDA0ODI=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20docs", "name": "type: docs", "color": "0000A0", "default": false, "description": "Improvement to the documentation for an API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-06T01:13:18Z", "updated_at": "2019-11-11T20:24:35Z", "closed_at": "2019-11-11T19:04:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "On this doc item: https://google-auth.readthedocs.io/en/latest/reference/google.auth.compute_engine.credentials.html#google.auth.compute_engine.credentials.Credentials.service_account_email\r\n\r\nThe rendered docs say simply `The service account email.`\r\n\r\nHowever, the [docstring](https://google-auth.readthedocs.io/en/latest/_modules/google/auth/compute_engine/credentials.html#Credentials.refresh) has more information:\r\n\r\n```\r\n        \"\"\"The service account email.\r\n\r\n        .. note: This is not guaranteed to be set until :meth`refresh` has been\r\n            called.\r\n        \"\"\"\r\n```\r\n\r\nWhy is this important note not rendered?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/366", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/366/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/366/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/366/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/366", "id": 482015190, "node_id": "MDU6SXNzdWU0ODIwMTUxOTA=", "number": 366, "title": "use JSON file as string in python script", "user": {"login": "omrid594", "id": 19475206, "node_id": "MDQ6VXNlcjE5NDc1MjA2", "avatar_url": "https://avatars0.githubusercontent.com/u/19475206?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omrid594", "html_url": "https://github.com/omrid594", "followers_url": "https://api.github.com/users/omrid594/followers", "following_url": "https://api.github.com/users/omrid594/following{/other_user}", "gists_url": "https://api.github.com/users/omrid594/gists{/gist_id}", "starred_url": "https://api.github.com/users/omrid594/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omrid594/subscriptions", "organizations_url": "https://api.github.com/users/omrid594/orgs", "repos_url": "https://api.github.com/users/omrid594/repos", "events_url": "https://api.github.com/users/omrid594/events{/privacy}", "received_events_url": "https://api.github.com/users/omrid594/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-08-18T17:01:57Z", "updated_at": "2019-09-04T23:29:17Z", "closed_at": "2019-08-21T18:02:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Many versions to this question, none worked for me - \r\nTrying to read google spreadsheet, using `service account`.\r\n\r\nused - \r\n```python\r\n   json_string =\"\"\"{\r\n  \"type\": \"service_account\",\r\n  \"project_id\": \"senrdcheckup\",\r\n  \"private_key_id\": \"2e671ca3c2ebeeced478ca6255439c81dadde919\",\r\n  \"private_key\": \"-----BEGIN PRIVATE KEY-----keycontentshere=\\n-----END PRIVATE KEY-----\\n\",\r\n  \"client_email\": \"responses@seheckup.iam.gserviceaccount.com\",\r\n  \"client_id\": \"1103439503200109\",\r\n  \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\r\n  \"token_uri\": \"https://oauth2.googleapis.com/token\",\r\n  \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\r\n  \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/reses%40senkup.iam.gserviceaccount.com\"}\"\"\"\r\n\r\n\r\n    info = json.loads(json_string.replace('\\n', \" \"))\r\n    credentials = service_account.Credentials.from_service_account_info(info)\r\n    client = gspread.authorize(credentials)\r\n    sheet = client.open(\"LinkedIt_Responses\").sheet1\r\n    values_list = sheet.col_values(6)   \r\n```\r\n\r\ngetting this error - \r\n```python exception\r\n    raise ValueError(\"Could not deserialize key data.\")\r\nValueError: Could not deserialize key data.\r\n```\r\n\r\nany suggestions about how to overcome this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/359", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/359/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/359/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/359", "id": 474146340, "node_id": "MDU6SXNzdWU0NzQxNDYzNDA=", "number": 359, "title": "bug in `with_target_audience` method of `google.auth.compute_engine.IDTokenCredentials`", "user": {"login": "lmiglio", "id": 50544028, "node_id": "MDQ6VXNlcjUwNTQ0MDI4", "avatar_url": "https://avatars0.githubusercontent.com/u/50544028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmiglio", "html_url": "https://github.com/lmiglio", "followers_url": "https://api.github.com/users/lmiglio/followers", "following_url": "https://api.github.com/users/lmiglio/following{/other_user}", "gists_url": "https://api.github.com/users/lmiglio/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmiglio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmiglio/subscriptions", "organizations_url": "https://api.github.com/users/lmiglio/orgs", "repos_url": "https://api.github.com/users/lmiglio/repos", "events_url": "https://api.github.com/users/lmiglio/events{/privacy}", "received_events_url": "https://api.github.com/users/lmiglio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": {"login": "bshaffer", "id": 103941, "node_id": "MDQ6VXNlcjEwMzk0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/103941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bshaffer", "html_url": "https://github.com/bshaffer", "followers_url": "https://api.github.com/users/bshaffer/followers", "following_url": "https://api.github.com/users/bshaffer/following{/other_user}", "gists_url": "https://api.github.com/users/bshaffer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bshaffer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bshaffer/subscriptions", "organizations_url": "https://api.github.com/users/bshaffer/orgs", "repos_url": "https://api.github.com/users/bshaffer/repos", "events_url": "https://api.github.com/users/bshaffer/events{/privacy}", "received_events_url": "https://api.github.com/users/bshaffer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bshaffer", "id": 103941, "node_id": "MDQ6VXNlcjEwMzk0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/103941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bshaffer", "html_url": "https://github.com/bshaffer", "followers_url": "https://api.github.com/users/bshaffer/followers", "following_url": "https://api.github.com/users/bshaffer/following{/other_user}", "gists_url": "https://api.github.com/users/bshaffer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bshaffer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bshaffer/subscriptions", "organizations_url": "https://api.github.com/users/bshaffer/orgs", "repos_url": "https://api.github.com/users/bshaffer/repos", "events_url": "https://api.github.com/users/bshaffer/events{/privacy}", "received_events_url": "https://api.github.com/users/bshaffer/received_events", "type": "User", "site_admin": false}, {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2019-07-29T16:33:04Z", "updated_at": "2020-02-13T22:22:56Z", "closed_at": "2020-02-13T22:22:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi, I think I found a problem with `google.auth.compute_engine.credentials.IDTokenCredentials`. When the methods `with_target_audience` and then `refresh` are called, a `TypeError: 'Signer' object is not callable` is raised.\r\n\r\n#### Environment details\r\n  - OS: Debian GNU/Linux 9 (stretch) (but I believe it does not depend on the os)\r\n  - Python version: 2.7/3.7\r\n  - `google-auth` version: 1.6.3\r\n\r\n#### Steps to reproduce\r\n\r\n1. have access either to dev shell or to a `vm` shell\r\n2. run `python`\r\n```python\r\n>>> import google.auth\r\n>>> cred, _ = google.auth.default()\r\n>>> cred\r\n<google.auth.compute_engine.credentials.Credentials object at 0x7fcfb4612810>\r\n>>> from google.auth.transport.requests import Request\r\n>>> from google.auth.compute_engine.credentials import IDTokenCredentials                                                                                                                                            \r\n>>> id_credentials = IDTokenCredentials(Request(), None)\r\n>>> id_credentials\r\n<google.auth.compute_engine.credentials.IDTokenCredentials object at 0x7fcfb3dd4650>\r\n>>> cred_with_audience = id_credentials.with_target_audience(\"some-existing-client-id\") # client id has been removed, put an existing one\r\n>>> cred_with_audience.refresh(Request())\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/auth/compute_engine/credentials.py\", line 217, in refresh\r\n    assertion = self._make_authorization_grant_assertion()\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/auth/compute_engine/credentials.py\", line 211, in _make_authorization_grant_assertion\r\n    token = jwt.encode(self._signer, payload)\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/auth/jwt.py\", line 97, in encode\r\n    signature = signer.sign(signing_input)\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/auth/iam.py\", line 101, in sign\r\n    response = self._make_signing_request(message)\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/auth/iam.py\", line 78, in _make_signing_request\r\n    self._credentials.before_request(self._request, method, url, headers)\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/auth/credentials.py\", line 122, in before_request\r\n    self.refresh(request)\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/auth/compute_engine/credentials.py\", line 96, in refresh\r\n    self._retrieve_info(request)\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/auth/compute_engine/credentials.py\", line 78, in _retrieve_info\r\n    service_account=self._service_account_email)\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/auth/compute_engine/_metadata.py\", line 186, in get_service_account_info\r\n    recursive=True)\r\n  File \"/usr/local/lib/python2.7/dist-packages/google/auth/compute_engine/_metadata.py\", line 122, in get\r\n    response = request(url=url, method='GET', headers=_METADATA_HEADERS)\r\nTypeError: 'Signer' object is not callable\r\n```\r\n\r\n#### Possible fix\r\nI believe that the problem is in this [line of code](https://github.com/googleapis/google-auth-library-python/blob/08272d89667a901d0dff6c4ba53d5b30fcc29e81/google/auth/compute_engine/credentials.py#L180). When the copy of the credentials is created, the constructor of [`IDTokenCredentials`](https://github.com/googleapis/google-auth-library-python/blob/08272d89667a901d0dff6c4ba53d5b30fcc29e81/google/auth/compute_engine/credentials.py#L169) is called and the `self._signer` is passed as first parameter instead of the Request object. That is why it fails with `TypeError: 'Signer' object is not callable`.\r\n\r\nA possible clean solution could consist in adding `signer` as parameter to the constructor.\r\n\r\n```python\r\nclass IDTokenCredentials(credentials.Credentials, credentials.Signing):\r\n    \"\"\"Open ID Connect ID Token-based service account credentials.\r\n    These credentials relies on the default service account of a GCE instance.\r\n    In order for this to work, the GCE instance must have been started with\r\n    a service account that has access to the IAM Cloud API.\r\n    \"\"\"\r\n    def __init__(self, request, target_audience,\r\n                 token_uri=_DEFAULT_TOKEN_URI,\r\n                 additional_claims=None,\r\n                 service_account_email=None,\r\n                 signer = None):\r\n        \"\"\"\r\n...\r\n        if signer is None:\r\n            signer = iam.Signer(\r\n                request=request,\r\n                credentials=Credentials(),\r\n                service_account_email=service_account_email)\r\n        self._signer = signer\r\n...\r\n\r\n    def with_target_audience(self, target_audience):\r\n        \"\"\"Create a copy of these credentials with the specified target\r\n        audience.\r\n        Args:\r\n            target_audience (str): The intended audience for these credentials,\r\n            used when requesting the ID Token.\r\n        Returns:\r\n            google.auth.service_account.IDTokenCredentials: A new credentials\r\n                instance.\r\n        \"\"\"\r\n        return self.__class__(\r\n            Request(),\r\n            service_account_email=self._service_account_email,\r\n            token_uri=self._token_uri,\r\n            target_audience=target_audience,\r\n            additional_claims=self._additional_claims.copy(),\r\n            signer=self._signer)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/355", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/355/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/355/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/355/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/355", "id": 473191030, "node_id": "MDU6SXNzdWU0NzMxOTEwMzA=", "number": 355, "title": "Unable to get correct scopes to call App Engine Admin API", "user": {"login": "maroux", "id": 3266934, "node_id": "MDQ6VXNlcjMyNjY5MzQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3266934?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maroux", "html_url": "https://github.com/maroux", "followers_url": "https://api.github.com/users/maroux/followers", "following_url": "https://api.github.com/users/maroux/following{/other_user}", "gists_url": "https://api.github.com/users/maroux/gists{/gist_id}", "starred_url": "https://api.github.com/users/maroux/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maroux/subscriptions", "organizations_url": "https://api.github.com/users/maroux/orgs", "repos_url": "https://api.github.com/users/maroux/repos", "events_url": "https://api.github.com/users/maroux/events{/privacy}", "received_events_url": "https://api.github.com/users/maroux/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-26T05:59:53Z", "updated_at": "2020-04-06T17:09:56Z", "closed_at": "2019-07-26T18:28:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "  - OS: App Engine Standard Environment (Python37)\r\n  - Python version: 3.7\r\n  - pip version: not sure\r\n  - `google-auth` version: 1.6.3\r\n\r\n#### Steps to reproduce\r\n\r\n  1. Deploy python37 to App Engine\r\n  2. Access App Engine Admin API as so:\r\n```\r\nproject = self._get_from_metadata(\"project/project-id\")\r\ngae = discovery.build(\"appengine\", \"v1\", cache_discovery=False)\r\n\r\nservice_info = (\r\n    gae.apps()\r\n        .services()\r\n        .versions()\r\n        .get(appsId=project, servicesId=service, versionsId=version, view=\"FULL\")\r\n        .execute()\r\n)\r\n```\r\n  3. Fails with `googleapiclient.errors.HttpError: <HttpError 403 when requesting https://appengine.googleapis.com/v1/apps/<projectid>/services/<service>/versions/20190725t225022?view=FULL&alt=json returned \"The caller does not have permission\">`\r\n\r\nIn project IAM, `<number>-compute@developer.gserviceaccount.com` has access to role `App Engine Admin`, so does `<project id>@appspot.gserviceaccount.com`.\r\n\r\nThe token created by google-auth contains only these scopes:\r\n```\r\n  \"scope\": \"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/monitoring.write https://www.googleapis.com/auth/logging.write https://www.googleapis.com/auth/devstorage.full_control https://www.googleapis.com/auth/trace.append https://www.googleapis.com/auth/cloud_debugger https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/appengine.apis\",\r\n```\r\n\r\nI've tried everything and I'm not sure what I'm missing.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/351", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/351/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/351/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/351", "id": 468208033, "node_id": "MDU6SXNzdWU0NjgyMDgwMzM=", "number": 351, "title": "AuthMetadataPlugin: gRPC requires it to not block; causes timeouts to not be respected", "user": {"login": "evanj", "id": 675151, "node_id": "MDQ6VXNlcjY3NTE1MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/675151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evanj", "html_url": "https://github.com/evanj", "followers_url": "https://api.github.com/users/evanj/followers", "following_url": "https://api.github.com/users/evanj/following{/other_user}", "gists_url": "https://api.github.com/users/evanj/gists{/gist_id}", "starred_url": "https://api.github.com/users/evanj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evanj/subscriptions", "organizations_url": "https://api.github.com/users/evanj/orgs", "repos_url": "https://api.github.com/users/evanj/repos", "events_url": "https://api.github.com/users/evanj/events{/privacy}", "received_events_url": "https://api.github.com/users/evanj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, {"login": "michaelawyu", "id": 14261500, "node_id": "MDQ6VXNlcjE0MjYxNTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/14261500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelawyu", "html_url": "https://github.com/michaelawyu", "followers_url": "https://api.github.com/users/michaelawyu/followers", "following_url": "https://api.github.com/users/michaelawyu/following{/other_user}", "gists_url": "https://api.github.com/users/michaelawyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelawyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelawyu/subscriptions", "organizations_url": "https://api.github.com/users/michaelawyu/orgs", "repos_url": "https://api.github.com/users/michaelawyu/repos", "events_url": "https://api.github.com/users/michaelawyu/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelawyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-07-15T15:57:45Z", "updated_at": "2020-04-06T17:09:56Z", "closed_at": "2019-11-25T22:21:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [gRPC documentation for `AuthMetadataPlugin.__call__`](https://grpc.github.io/grpc/python/grpc.html#grpc.AuthMetadataPlugin.__call__) states: \"Implementations of this method must not block.\" Unfortunately, `google.auth.transport.grpc.AuthMetadataPlugin` violates this requirement. I believe this causes all gRPC calls using one instance of AuthMetadataPlugin to be blocked as long as token refreshing is happening. This may be causing occasional errors where the timeout we pass to Google Cloud API calls is not being respected, since the calls are all blocked waiting on the OAuth token to be refreshed.\r\n\r\n\r\n## Possible fix\r\n\r\nIt seems likely this plugin needs to do OAuth token refreshing using a thread pool, like [the `grpc._auth.GoogleCallCredentials` implementation does](https://github.com/grpc/grpc/blob/8cd016f5977f8ae807ab6a990795c51cc58cbd41/src/python/grpcio/grpc/_auth.py#L53). This will have the side benefit of not having multiple threads \"race\" to refresh the credentials quite as much.\r\n\r\nA quick-and-dirty \"fix\" that would reduce the impact of this error would be to add a timeout on the token refreshing requests. This is probably a good idea anyway. However, this would at least ensure the \"impact\" of slow/blocked token refreshes is minimized. On our case, we have seen processes that may have been \"stuck\" for ~15 minutes due to this issue.\r\n\r\n\r\n## Blocking call path\r\n\r\nWhen using `google.api_core.grpc_helpers.create_channel`, which seems to be what is used by Google's generated GAPIC clients:\r\n\r\n1. gRPC calls `google.auth.transport.grpc.AuthMetadataPlugin.__call__(...)`\r\n2. Calls `google.auth.transport.grpc.AuthMetadataPlugin._get_authorization_headers(...)`\r\n3. Calls `self._credentials.before_request(...)` which is `google.auth.credentials.Credentials.before_request`\r\n4. If the credentials have expired, it calls `self.refresh(...)`. In the case of service accounts, this is a `google.oauth2.service_account.Credentials` object.\r\n5. Calls `_client.jwt_grant(...)` which calls `_token_endpoint_request(...)`\r\n6. Calls `request(...)` which is an instance of `google.auth.transport.requests.Request`\r\n7. This calls in to the `requests` API, which eventually makes a *blocking* HTTP request.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/350", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/350/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/350/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/350/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/350", "id": 461721575, "node_id": "MDU6SXNzdWU0NjE3MjE1NzU=", "number": 350, "title": "Serialize service_account.Credentials to JSON", "user": {"login": "VJalili", "id": 9027482, "node_id": "MDQ6VXNlcjkwMjc0ODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/9027482?v=4", "gravatar_id": "", "url": "https://api.github.com/users/VJalili", "html_url": "https://github.com/VJalili", "followers_url": "https://api.github.com/users/VJalili/followers", "following_url": "https://api.github.com/users/VJalili/following{/other_user}", "gists_url": "https://api.github.com/users/VJalili/gists{/gist_id}", "starred_url": "https://api.github.com/users/VJalili/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/VJalili/subscriptions", "organizations_url": "https://api.github.com/users/VJalili/orgs", "repos_url": "https://api.github.com/users/VJalili/repos", "events_url": "https://api.github.com/users/VJalili/events{/privacy}", "received_events_url": "https://api.github.com/users/VJalili/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2019-06-27T20:00:32Z", "updated_at": "2020-04-06T17:49:37Z", "closed_at": "2019-06-27T20:05:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "What is the simplest approach for serializing an object of type `google.oauth2.service_account.Credentials` to json?\r\n\r\nI have tried the following: \r\n\r\n```python\r\ncreds = service_account.Credentials.from_service_account_file(\r\n    creds_filename, \r\n    scopes=self.scops)\r\njson_obj = json.dumps(creds.__dict__)\r\n```\r\nbut that does not work because the signer does not implement a serializer: \r\n\r\n```\r\ngoogle.auth.crypt._cryptography_rsa.RSASigner object is not JSON serializable\r\n```\r\n\r\nI am trying to implement a custom JSONEncoder and decoder for `service_account.Credentials`, but I was wondering if there is exist a method out-of-box, or a simpler approach than custom encoder/decoder. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/345", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/345/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/345/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/345/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/345", "id": 452048449, "node_id": "MDU6SXNzdWU0NTIwNDg0NDk=", "number": 345, "title": "RefreshError after an hour even after having refresh and access token.", "user": {"login": "sbimochan", "id": 11685953, "node_id": "MDQ6VXNlcjExNjg1OTUz", "avatar_url": "https://avatars0.githubusercontent.com/u/11685953?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sbimochan", "html_url": "https://github.com/sbimochan", "followers_url": "https://api.github.com/users/sbimochan/followers", "following_url": "https://api.github.com/users/sbimochan/following{/other_user}", "gists_url": "https://api.github.com/users/sbimochan/gists{/gist_id}", "starred_url": "https://api.github.com/users/sbimochan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sbimochan/subscriptions", "organizations_url": "https://api.github.com/users/sbimochan/orgs", "repos_url": "https://api.github.com/users/sbimochan/repos", "events_url": "https://api.github.com/users/sbimochan/events{/privacy}", "received_events_url": "https://api.github.com/users/sbimochan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-06-04T15:00:22Z", "updated_at": "2019-09-04T23:29:37Z", "closed_at": "2019-06-04T16:25:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: Mac OS\r\n  - Python version: 3.6.7\r\n  - pip version: 8.1.1\r\n  - `google-auth` version: 1.5.1\r\n\r\n#### Steps to reproduce\r\n\r\n  1. exchange auth code\r\n  2. store refresh and access tokens\r\n 3. pass to \r\n```python\r\ncredentials = google.oauth2.credentials.Credentials(\r\n        access_token,\r\n        refresh_token=refresh_token,\r\n        client_secret=settings.GOOGLE_CLIENT_SECRET,\r\n        client_id=settings.GOOGLE_CLIENT_ID,\r\n        token_uri=constant.TOKEN_URI,\r\n    )\r\n```\r\n4. do some request with credentials. it will work\r\n5. do some request after an hour. it will give refresh error.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/343", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/343/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/343/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/343/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/343", "id": 450419618, "node_id": "MDU6SXNzdWU0NTA0MTk2MTg=", "number": 343, "title": "service_account.Credentials: Retry on errors from oauth2.googleapis.com", "user": {"login": "evanj", "id": 675151, "node_id": "MDQ6VXNlcjY3NTE1MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/675151?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evanj", "html_url": "https://github.com/evanj", "followers_url": "https://api.github.com/users/evanj/followers", "following_url": "https://api.github.com/users/evanj/following{/other_user}", "gists_url": "https://api.github.com/users/evanj/gists{/gist_id}", "starred_url": "https://api.github.com/users/evanj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evanj/subscriptions", "organizations_url": "https://api.github.com/users/evanj/orgs", "repos_url": "https://api.github.com/users/evanj/repos", "events_url": "https://api.github.com/users/evanj/events{/privacy}", "received_events_url": "https://api.github.com/users/evanj/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": {"login": "michaelawyu", "id": 14261500, "node_id": "MDQ6VXNlcjE0MjYxNTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/14261500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelawyu", "html_url": "https://github.com/michaelawyu", "followers_url": "https://api.github.com/users/michaelawyu/followers", "following_url": "https://api.github.com/users/michaelawyu/following{/other_user}", "gists_url": "https://api.github.com/users/michaelawyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelawyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelawyu/subscriptions", "organizations_url": "https://api.github.com/users/michaelawyu/orgs", "repos_url": "https://api.github.com/users/michaelawyu/repos", "events_url": "https://api.github.com/users/michaelawyu/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelawyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "michaelawyu", "id": 14261500, "node_id": "MDQ6VXNlcjE0MjYxNTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/14261500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelawyu", "html_url": "https://github.com/michaelawyu", "followers_url": "https://api.github.com/users/michaelawyu/followers", "following_url": "https://api.github.com/users/michaelawyu/following{/other_user}", "gists_url": "https://api.github.com/users/michaelawyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelawyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelawyu/subscriptions", "organizations_url": "https://api.github.com/users/michaelawyu/orgs", "repos_url": "https://api.github.com/users/michaelawyu/repos", "events_url": "https://api.github.com/users/michaelawyu/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelawyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2019-05-30T17:29:22Z", "updated_at": "2020-05-11T10:46:55Z", "closed_at": "2020-01-10T01:15:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "It appears that the current implementation of the `service_account.Credentials` object will only try to refresh the service account credentials once, then raise an exception if it fails. I might be misunderstanding from looking at the code and our log messages, but I can't see where it does any retries. It would probably be helpful if it did.\r\n\r\nThe `requests.AuthorizedSession` and `urllib3.AuthorizedHttp` classes *do* seem to do retries, using the `DEFAULT_MAX_REFRESH_ATTEMPTS` variable. However, `grpc_helpers.create_channel` just constructs `google.auth.transport.requests.Request()`, which constructs `requests.Session()` directly.\r\n\r\n### Details\r\n\r\nWe recently hit a few exceptions in a production service using Google Cloud APIs, running in Google Cloud. The log messages and stack trace are below. It appears that `oauth2.googleapis.com` hit some sort of temporary error, and rather than retrying, it just gives up. Our application got an exception while trying to call a Google Cloud API. Retrying seems to be the right solution here.\r\n\r\n\r\n### Log and stack trace\r\n\r\nThis shows the application trying to refresh the token when it makes a KMS API call, the refresh failing, then the application getting a failed request. A retry would have masked these errors.\r\n\r\n```\r\n2019-05-29 14:46:20.140 EDT: google.auth.transport.requests: Making request: POST https://oauth2.googleapis.com/token\"   \r\n2019-05-29 14:46:20.142 EDT: urllib3.connectionpool: Resetting dropped connection: oauth2.googleapis.com\r\n2019-05-29 14:46:20.197 EDT: urllib3.connectionpool: https://oauth2.googleapis.com:443 \"POST /token HTTP/1.1\" 503 None\r\n2019-05-29 14:46:20.200 EDT: grpc._plugin_wrapping: AuthMetadataPluginCallback \"<google.auth.transport.grpc.AuthMetadataPlugin object at 0x7f684bfcd3d0>\" raised exception!\r\n\r\nTraceback (most recent call last):\r\n  File \"/venv/local/lib/python2.7/site-packages/grpc/_plugin_wrapping.py\", line 79, in __call__\r\n    callback_state, callback))\r\n  File \"/venv/local/lib/python2.7/site-packages/google/auth/transport/grpc.py\", line 77, in __call__\r\n    callback(self._get_authorization_headers(context), None)\r\n  File \"/venv/local/lib/python2.7/site-packages/google/auth/transport/grpc.py\", line 65, in _get_authorization_headers\r\n    headers)\r\n  File \"/venv/local/lib/python2.7/site-packages/google/auth/credentials.py\", line 122, in before_request\r\n    self.refresh(request)\r\n  File \"/venv/local/lib/python2.7/site-packages/google/oauth2/service_account.py\", line 322, in refresh\r\n    request, self._token_uri, assertion)\r\n  File \"/venv/local/lib/python2.7/site-packages/google/oauth2/_client.py\", line 145, in jwt_grant\r\n    response_data = _token_endpoint_request(request, token_uri, body)\r\n  File \"/venv/local/lib/python2.7/site-packages/google/oauth2/_client.py\", line 111, in _token_endpoint_request\r\n    _handle_error_response(response_body)\r\n  File \"/venv/local/lib/python2.7/site-packages/google/oauth2/_client.py\", line 61, in _handle_error_response\r\n    error_details, response_body)\r\nRefreshError: ('internal_failure: None', u'{\\n  \"error\": \"internal_failure\"\\n}')\r\n\r\n\r\n2019-05-29 14:46:20.203 EDT: (application-specific exception details removed)\r\n\r\nTraceback (most recent call last):\r\n...\r\n  File \"/venv/local/lib/python2.7/site-packages/google/cloud/kms_v1/gapic/key_management_service_client.py\", line 1370, in decrypt\r\n    request, retry=retry, timeout=timeout, metadata=metadata\r\n  File \"/venv/local/lib/python2.7/site-packages/google/api_core/gapic_v1/method.py\", line 143, in __call__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/venv/local/lib/python2.7/site-packages/google/api_core/retry.py\", line 270, in retry_wrapped_func\r\n    on_error=on_error,\r\n  File \"/venv/local/lib/python2.7/site-packages/google/api_core/retry.py\", line 179, in retry_target\r\n    return target()\r\n  File \"/venv/local/lib/python2.7/site-packages/google/api_core/timeout.py\", line 214, in func_with_timeout\r\n    return func(*args, **kwargs)\r\n  File \"/venv/local/lib/python2.7/site-packages/google/api_core/grpc_helpers.py\", line 59, in error_remapped_callable\r\n    six.raise_from(exceptions.from_grpc_error(exc), exc)\r\n  File \"/venv/local/lib/python2.7/site-packages/six.py\", line 737, in raise_from\r\n    raise value\r\nServiceUnavailable: 503 Getting metadata from plugin failed with error: ('internal_failure: None', u'{\\n  \"error\": \"internal_failure\"\\n}')\"   \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/342", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/342/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/342/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/342", "id": 447837005, "node_id": "MDU6SXNzdWU0NDc4MzcwMDU=", "number": 342, "title": "AuthorizedSession request method parameters", "user": {"login": "ShauryaMdn", "id": 44857774, "node_id": "MDQ6VXNlcjQ0ODU3Nzc0", "avatar_url": "https://avatars1.githubusercontent.com/u/44857774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ShauryaMdn", "html_url": "https://github.com/ShauryaMdn", "followers_url": "https://api.github.com/users/ShauryaMdn/followers", "following_url": "https://api.github.com/users/ShauryaMdn/following{/other_user}", "gists_url": "https://api.github.com/users/ShauryaMdn/gists{/gist_id}", "starred_url": "https://api.github.com/users/ShauryaMdn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ShauryaMdn/subscriptions", "organizations_url": "https://api.github.com/users/ShauryaMdn/orgs", "repos_url": "https://api.github.com/users/ShauryaMdn/repos", "events_url": "https://api.github.com/users/ShauryaMdn/events{/privacy}", "received_events_url": "https://api.github.com/users/ShauryaMdn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-05-23T19:33:44Z", "updated_at": "2019-12-13T23:09:24Z", "closed_at": "2019-12-13T23:09:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "After adding credentials to the request using AuthorizedSession from google.auth.transport.requests, and then passing this to googleapiclient.discovery.build(), the build function assumes that the http argument is of class httplib2.Http. The request method for httplib2.Http only requires the url, while the request method given from AuthorizedSession also requires method to be specified. This causes me to get a TypeError. Is there a workaround to this?\r\n\r\n\r\nStack Trace:\r\n  File \"/usr/local/lib/python3.5/dist-packages/googleapiclient/_helpers.py\", line 130, in positional_wrapper\r\n    return wrapped(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.5/dist-packages/googleapiclient/discovery.py\", line 224, in build\r\n    requested_url, discovery_http, cache_discovery, cache, developerKey)\r\n  File \"/usr/local/lib/python3.5/dist-packages/googleapiclient/discovery.py\", line 274, in _retrieve_discovery_doc\r\n    resp, content = http.request(actual_url)\r\nTypeError: request() missing 1 required positional argument: 'url'\r\n\r\n\r\nAuthorizedSession.request function definition: \r\n`def request(self, method, url, data=None, headers=None, **kwargs):`\r\n\r\nWhile for httplib2.Http.request:\r\n`def request(self, uri, method=\"GET\", body=None, headers=None, redirections=DEFAULT_MAX_REDIRECTS, connection_type=None):`\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/339", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/339/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/339/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/339", "id": 440711169, "node_id": "MDU6SXNzdWU0NDA3MTExNjk=", "number": 339, "title": "GCE_METADATA_ROOT should be called GCE_METADATA_HOST to be aligned with other client libraries", "user": {"login": "ensonic", "id": 1279486, "node_id": "MDQ6VXNlcjEyNzk0ODY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1279486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ensonic", "html_url": "https://github.com/ensonic", "followers_url": "https://api.github.com/users/ensonic/followers", "following_url": "https://api.github.com/users/ensonic/following{/other_user}", "gists_url": "https://api.github.com/users/ensonic/gists{/gist_id}", "starred_url": "https://api.github.com/users/ensonic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ensonic/subscriptions", "organizations_url": "https://api.github.com/users/ensonic/orgs", "repos_url": "https://api.github.com/users/ensonic/repos", "events_url": "https://api.github.com/users/ensonic/events{/privacy}", "received_events_url": "https://api.github.com/users/ensonic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893219, "node_id": "MDU6TGFiZWw5NDQ4OTMyMTk=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20process", "name": "type: process", "color": "c5def5", "default": false, "description": "A process-releated concern. May include testing, release, or the like."}], "state": "closed", "locked": false, "assignee": {"login": "michaelawyu", "id": 14261500, "node_id": "MDQ6VXNlcjE0MjYxNTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/14261500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelawyu", "html_url": "https://github.com/michaelawyu", "followers_url": "https://api.github.com/users/michaelawyu/followers", "following_url": "https://api.github.com/users/michaelawyu/following{/other_user}", "gists_url": "https://api.github.com/users/michaelawyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelawyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelawyu/subscriptions", "organizations_url": "https://api.github.com/users/michaelawyu/orgs", "repos_url": "https://api.github.com/users/michaelawyu/repos", "events_url": "https://api.github.com/users/michaelawyu/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelawyu/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "michaelawyu", "id": 14261500, "node_id": "MDQ6VXNlcjE0MjYxNTAw", "avatar_url": "https://avatars3.githubusercontent.com/u/14261500?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelawyu", "html_url": "https://github.com/michaelawyu", "followers_url": "https://api.github.com/users/michaelawyu/followers", "following_url": "https://api.github.com/users/michaelawyu/following{/other_user}", "gists_url": "https://api.github.com/users/michaelawyu/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelawyu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelawyu/subscriptions", "organizations_url": "https://api.github.com/users/michaelawyu/orgs", "repos_url": "https://api.github.com/users/michaelawyu/repos", "events_url": "https://api.github.com/users/michaelawyu/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelawyu/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-05-06T13:53:15Z", "updated_at": "2020-06-04T17:14:06Z", "closed_at": "2020-06-04T17:14:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "file https://github.com/googleapis/google-auth-library-python/blob/master/google/auth/environment_vars.py\r\ncontains `GCE_METADATA_ROOT` added in:\r\nhttps://github.com/googleapis/google-auth-library-python/commit/b33b8021117db0d9ef80988cc7bb8ad58ecccf18\r\n\r\nClient libs for other languages call it GCE_METADATA_HOST:\r\ngo: https://github.com/googleapis/google-cloud-go/blob/master/compute/metadata/metadata.go\r\njava: https://github.com/googleapis/google-auth-library-java/blob/master/oauth2_http/java/com/google/auth/oauth2/ComputeEngineCredentials.java\r\n...\r\n\r\nMaybe consider supporting both names for a transition?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/338", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/338/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/338/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/338/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/338", "id": 439722762, "node_id": "MDU6SXNzdWU0Mzk3MjI3NjI=", "number": 338, "title": "google-cloud-storage: Cannot create signed url with ImpersonatedCredentials", "user": {"login": "salrashid123", "id": 11149054, "node_id": "MDQ6VXNlcjExMTQ5MDU0", "avatar_url": "https://avatars1.githubusercontent.com/u/11149054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/salrashid123", "html_url": "https://github.com/salrashid123", "followers_url": "https://api.github.com/users/salrashid123/followers", "following_url": "https://api.github.com/users/salrashid123/following{/other_user}", "gists_url": "https://api.github.com/users/salrashid123/gists{/gist_id}", "starred_url": "https://api.github.com/users/salrashid123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/salrashid123/subscriptions", "organizations_url": "https://api.github.com/users/salrashid123/orgs", "repos_url": "https://api.github.com/users/salrashid123/repos", "events_url": "https://api.github.com/users/salrashid123/events{/privacy}", "received_events_url": "https://api.github.com/users/salrashid123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893227, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjc=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-05-02T18:18:34Z", "updated_at": "2020-05-15T21:52:51Z", "closed_at": "2020-05-15T21:52:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[impersonated_credentials](https://google-auth.readthedocs.io/en/latest/reference/google.auth.impersonated_credentials.html#module-google.auth.impersonated_credentials) cannot create signedURLs for `google-cloud-storage` since it does not require or have the impersonated accounts private key/json file and does not implement `credentials.Signing`\r\n\r\nthat is\r\n```python\r\nimport google.auth\r\n\r\nfrom google.cloud import storage\r\nfrom google.oauth2 import service_account\r\nfrom google.auth import impersonated_credentials\r\nimport datetime\r\n\r\nfrom pytz import UTC\r\n\r\nsvc_account_file = '/path/to/svc.json'\r\nproject = 'fabled-ray-104117'\r\ntarget_scopes = ['https://www.googleapis.com/auth/devstorage.read_only', 'https://www.googleapis.com/auth/cloud-platform']\r\nsource_credentials = service_account.Credentials.from_service_account_file(\r\n    svc_account_file,\r\n    scopes=target_scopes)\r\n\r\ntarget_credentials = impersonated_credentials.Credentials(\r\n    source_credentials = source_credentials,\r\n    target_principal='impersonated-account@fabled-ray-104117.iam.gserviceaccount.com',\r\n    target_scopes = target_scopes,\r\n    delegates=[],\r\n    lifetime=300)\r\nclient = storage.Client(credentials=target_credentials,project=project)\r\nbucket = client.get_bucket('fabled-ray-104117')\r\nblob = bucket.get_blob('signed_url_file.txt')\r\n\r\ndelta = datetime.timedelta(seconds=60)\r\nexpiration = datetime.datetime.utcnow().replace(tzinfo=UTC) + delta\r\n\r\ns = blob.generate_signed_url(expiration=expiration, method=\"GET\", version=\"v4\")\r\nprint s\r\n```\r\n\r\nyields\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 43, in <module>\r\n    s = blob.generate_signed_url(expiration=300, method=\"GET\", version=\"v4\")\r\n  File \"env/local/lib/python2.7/site-packages/google/cloud/storage/blob.py\", line 444, in generate_signed_url\r\n    query_parameters=query_parameters,\r\n  File \"/env/local/lib/python2.7/site-packages/google/cloud/storage/_signing.py\", line 503, in generate_signed_url_v4\r\n    ensure_signed_credentials(credentials)\r\n  File \"env/local/lib/python2.7/site-packages/google/cloud/storage/_signing.py\", line 54, in ensure_signed_credentials\r\n    \"details.\" % (type(credentials), auth_uri)\r\nAttributeError: you need a private key to sign credentials.the credentials you are currently using <class 'google.auth.impersonated_credentials.Credentials'> just contains a token. see https://google-cloud-python.readthedocs.io/en/latest/core/auth.html?highlight=authentication#setting-up-a-service-account for more details.\r\n```\r\n\r\nPotential solution is to use iamcredentials api once again to 'remotely sign' as in here:\r\nsee:\r\nhttps://github.com/googleapis/google-cloud-java/issues/5043\r\n\r\n--\r\n\r\nWhich means iamcredentials would now look like\r\n\r\n```\r\nclass Credentials(credentials.Credentials, credentials.Signing):\r\n```\r\n\r\ni made a working implementation  here:\r\n   https://gist.github.com/salrashid123/9e3fb4ac87cfa7bbd8b4f6a902aecd00\r\n\r\n```python\r\n    def sign_bytes(self, message):\r\n        \r\n        iam_sign_endpoint = _IAM_SIGN_ENDPOINT.format(self._target_principal)\r\n\r\n        body = {\r\n            \"payload\": base64.b64encode(message),\r\n            \"delegates\": self._delegates\r\n        }\r\n\r\n        headers = {\r\n            'Content-Type': 'application/json',\r\n        }\r\n\r\n        authed_session = AuthorizedSession(self._source_credentials)\r\n        \r\n        response = authed_session.post(\r\n            url=iam_sign_endpoint,\r\n            headers=headers,\r\n            data=json.dumps(body))\r\n\r\n        return base64.b64decode(response.json()['signedBlob'])\r\n\r\n    @property\r\n    def signer_email(self):\r\n        return self._target_principal   \r\n\r\n    @property\r\n    def signer(self):\r\n        raise NotImplementedError('Signer must be implemented.')\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/336", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/336/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/336/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/336/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/336", "id": 436956178, "node_id": "MDU6SXNzdWU0MzY5NTYxNzg=", "number": 336, "title": "JWT can't be verified", "user": {"login": "agmezr", "id": 6627088, "node_id": "MDQ6VXNlcjY2MjcwODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/6627088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agmezr", "html_url": "https://github.com/agmezr", "followers_url": "https://api.github.com/users/agmezr/followers", "following_url": "https://api.github.com/users/agmezr/following{/other_user}", "gists_url": "https://api.github.com/users/agmezr/gists{/gist_id}", "starred_url": "https://api.github.com/users/agmezr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agmezr/subscriptions", "organizations_url": "https://api.github.com/users/agmezr/orgs", "repos_url": "https://api.github.com/users/agmezr/repos", "events_url": "https://api.github.com/users/agmezr/events{/privacy}", "received_events_url": "https://api.github.com/users/agmezr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-04-25T00:06:36Z", "updated_at": "2020-04-01T17:11:43Z", "closed_at": "2020-04-01T17:11:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to validate a JWT generated by Google IAP based on this [example](https://cloud.google.com/iap/docs/signed-headers-howto) but it seems that verifying the token causes problems on the google.auth.jwt module\r\n\r\nI created this token as an example using the tool in https://jwt.io::\r\n\r\n```python\r\nfrom google.auth import jwt\r\ntoken = 'eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IkxZeVAyZyJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.OjJokSnHIdMxqTlpT055GJDe72-zoTZBE5NISmrDPx0dletHBTnlbl1wwr0EhWaxgKIesZ7N7eLd4XW-TgX-vA'\r\ncert = '-----BEGIN PUBLIC KEY-----\\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEEVs/o5+uQbTjL3chynL4wXgUg2R9\\nq9UU8I5mEovUf86QZ7kOBIjJwqnzD1omageEHWwHdBO6B+dFabmdT9POxg==\\n-----END PUBLIC KEY-----\\n'\r\njwt.decode(token, certs=cert)\r\n```\r\nAnd got the following error:\r\n```\r\n/tests/jwt/google_auth/venv/lib/python3.5/site-packages/rsa/pem.py\", line 92, in load_pem\r\n    raise ValueError('No PEM start marker \"%s\" found' % pem_start)\r\nValueError: No PEM start marker \"b'-----BEGIN RSA PUBLIC KEY-----'\" found\r\n```\r\nIt seems weird that the jwt module can't decode a token created with the EC256 algorithm since is the algorithm used by Google IAP.\r\n\r\nAny idea of why this is happening?\r\n\r\n#### Environment\r\n  - OS: GNU/Linux\r\n  - Python version: 3.5\r\n  - pip version: 19.1\r\n  - `google-auth` version: 1.6.3\r\n\r\nThanks!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/335", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/335/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/335/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/335", "id": 433456993, "node_id": "MDU6SXNzdWU0MzM0NTY5OTM=", "number": 335, "title": "SSLEOFError ", "user": {"login": "erickertz", "id": 6413080, "node_id": "MDQ6VXNlcjY0MTMwODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6413080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickertz", "html_url": "https://github.com/erickertz", "followers_url": "https://api.github.com/users/erickertz/followers", "following_url": "https://api.github.com/users/erickertz/following{/other_user}", "gists_url": "https://api.github.com/users/erickertz/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickertz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickertz/subscriptions", "organizations_url": "https://api.github.com/users/erickertz/orgs", "repos_url": "https://api.github.com/users/erickertz/repos", "events_url": "https://api.github.com/users/erickertz/events{/privacy}", "received_events_url": "https://api.github.com/users/erickertz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-15T20:09:26Z", "updated_at": "2020-04-07T13:52:52Z", "closed_at": "2019-04-16T16:33:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: Alpine3.9\r\n - OpenSSL: 1.1.1a\r\n  - Python version: 2.7.15\r\n  - pip version: 19.0.3\r\n -  requests version 2.20.0\r\n  - `google-auth` version: 1.6.3\r\n - `google-cloud-pubsub` version: 0.33.1\r\n\r\n#### Steps to reproduce\r\n\r\n  1. I only see this error when sending a high volume of messages to PubSub from my Python Celery application. Under high volumes I am seeing a steady log of the following error:\r\n\r\n`\r\n[2018-10-23 09:07:41,061: ERROR/MainProcess] AuthMetadataPluginCallback \"<google.auth.transport.grpc.AuthMetadataPlugin object at 0x7facc99ad390>\" raised exception!\r\nTraceback (most recent call last):\r\n  File \"/opt/python2.7/lib/python2.7/site-packages/grpc/_plugin_wrapping.py\", line 79, in __call__\r\n    callback_state, callback))\r\n  File \"/opt/python2.7/lib/python2.7/site-packages/google/auth/transport/grpc.py\", line 77, in __call__\r\n    callback(self._get_authorization_headers(context), None)\r\n  File \"/opt/python2.7/lib/python2.7/site-packages/google/auth/transport/grpc.py\", line 65, in _get_authorization_headers\r\n    headers)\r\n  File \"/opt/python2.7/lib/python2.7/site-packages/google/auth/credentials.py\", line 122, in before_request\r\n    self.refresh(request)\r\n  File \"/opt/python2.7/lib/python2.7/site-packages/google/oauth2/service_account.py\", line 322, in refresh\r\n    request, self._token_uri, assertion)\r\n  File \"/opt/python2.7/lib/python2.7/site-packages/google/oauth2/_client.py\", line 145, in jwt_grant\r\n    response_data = _token_endpoint_request(request, token_uri, body)\r\n  File \"/opt/python2.7/lib/python2.7/site-packages/google/oauth2/_client.py\", line 106, in _token_endpoint_request\r\n    method='POST', url=token_uri, headers=headers, body=body)\r\n  File \"/opt/python2.7/lib/python2.7/site-packages/google/auth/transport/requests.py\", line 124, in __call__\r\n    six.raise_from(new_exc, caught_exc)\r\n  File \"/opt/python2.7/lib/python2.7/site-packages/six.py\", line 718, in raise_from\r\n    raise value\r\nTransportError: HTTPSConnectionPool(host='oauth2.googleapis.com', port=443): Max retries exceeded with url: /token (Caused by SSLError(SSLEOFError(8, u'EOF occurred in violation of protocol (_ssl.c:661)'),))\r\n`\r\n\r\nThis was mentioned here a while back:\r\n\r\nhttps://github.com/googleapis/google-auth-library-python/issues/192#issuecomment-386290174\r\n\r\nAt the time I had an older OS and OpenSSL version. An upgrade was done but the error is still occurring.\r\n\r\nThanks for any help!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/329", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/329/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/329/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/329", "id": 425854459, "node_id": "MDU6SXNzdWU0MjU4NTQ0NTk=", "number": 329, "title": "Merging  two Credentials", "user": {"login": "gsohler", "id": 8711730, "node_id": "MDQ6VXNlcjg3MTE3MzA=", "avatar_url": "https://avatars2.githubusercontent.com/u/8711730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsohler", "html_url": "https://github.com/gsohler", "followers_url": "https://api.github.com/users/gsohler/followers", "following_url": "https://api.github.com/users/gsohler/following{/other_user}", "gists_url": "https://api.github.com/users/gsohler/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsohler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsohler/subscriptions", "organizations_url": "https://api.github.com/users/gsohler/orgs", "repos_url": "https://api.github.com/users/gsohler/repos", "events_url": "https://api.github.com/users/gsohler/events{/privacy}", "received_events_url": "https://api.github.com/users/gsohler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-03-27T09:40:50Z", "updated_at": "2019-09-25T15:08:27Z", "closed_at": "2019-09-25T15:08:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI followed the documented flow to create an\r\n\r\ngoogle.oauth2.credentials.Credentials\r\n\r\nfor scope: https://www.googleapis.com/auth/drive\r\n\r\nusing InstalledAppFlow and run_local_server \r\n\r\nand it got credentials1 which work just fine.\r\n\r\nAt a later point in time i created credentials for \r\n\r\nhttp://www.googleapis.com/auth/contacts.readonly'\r\n\r\nand i got credentials2 which work just fine.\r\n\r\nIs it possible to merge credentials1 and credentials2 such its valid for the merged scopes ?\r\n\r\nI found some function 'with_claims'  but it appears to be available to an old version of the API.\r\n\r\nAny help is appreciated", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/328", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/328/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/328/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/328/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/328", "id": 419446018, "node_id": "MDU6SXNzdWU0MTk0NDYwMTg=", "number": 328, "title": "Allow providing credentials thru an environment variable, without a file.", "user": {"login": "LEW21", "id": 9737, "node_id": "MDQ6VXNlcjk3Mzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/9737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LEW21", "html_url": "https://github.com/LEW21", "followers_url": "https://api.github.com/users/LEW21/followers", "following_url": "https://api.github.com/users/LEW21/following{/other_user}", "gists_url": "https://api.github.com/users/LEW21/gists{/gist_id}", "starred_url": "https://api.github.com/users/LEW21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LEW21/subscriptions", "organizations_url": "https://api.github.com/users/LEW21/orgs", "repos_url": "https://api.github.com/users/LEW21/repos", "events_url": "https://api.github.com/users/LEW21/events{/privacy}", "received_events_url": "https://api.github.com/users/LEW21/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893227, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjc=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-11T12:33:53Z", "updated_at": "2020-05-28T03:06:01Z", "closed_at": "2019-03-28T18:29:40Z", "author_association": "NONE", "active_lock_reason": null, "body": " **Is your feature request related to a problem? Please describe.**\r\nI want to use Google Storage on Heroku. The correct way to configure a Heroku app is to use environment variables; there is no good way to provide a key file.\r\n\r\n **Describe the solution you'd like**\r\nI'd prefer to set an environment variable (maybe `GOOGLE_APPLICATION_CREDENTIALS_JSON`) to the content of the key file.\r\n\r\n **Describe alternatives you've considered**\r\n* I could add the file to the docker image, but I don't want to have any secrets there.\r\n* During the app startup, I can save the content of the `GOOGLE_APPLICATION_CREDENTIALS_JSON` environment variable to a temp file, and set `GOOGLE_APPLICATION_CREDENTIALS` - but it's a custom solution, I'd prefer something standard.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/327", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/327/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/327/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/327/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/327", "id": 417752138, "node_id": "MDU6SXNzdWU0MTc3NTIxMzg=", "number": 327, "title": "Documentation or example of using with OAuthLib", "user": {"login": "yuri-wisestamp", "id": 5073294, "node_id": "MDQ6VXNlcjUwNzMyOTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/5073294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuri-wisestamp", "html_url": "https://github.com/yuri-wisestamp", "followers_url": "https://api.github.com/users/yuri-wisestamp/followers", "following_url": "https://api.github.com/users/yuri-wisestamp/following{/other_user}", "gists_url": "https://api.github.com/users/yuri-wisestamp/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuri-wisestamp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuri-wisestamp/subscriptions", "organizations_url": "https://api.github.com/users/yuri-wisestamp/orgs", "repos_url": "https://api.github.com/users/yuri-wisestamp/repos", "events_url": "https://api.github.com/users/yuri-wisestamp/events{/privacy}", "received_events_url": "https://api.github.com/users/yuri-wisestamp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 957900482, "node_id": "MDU6TGFiZWw5NTc5MDA0ODI=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20docs", "name": "type: docs", "color": "0000A0", "default": false, "description": "Improvement to the documentation for an API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-03-06T11:18:20Z", "updated_at": "2019-09-17T20:23:38Z", "closed_at": "2019-09-17T20:23:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Seeing that documentation suggests using OAuthLib to obtain user credentials, and seeing that this is a very common use case, I'm finding it hard to find proper documentation integration. requests_oauthlib is sadly not an option as we're still using App Engine with Python 2.7.\r\n\r\nWhere can I find docs that show combined usage of both libs? Thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/321", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/321/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/321/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/321/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/321", "id": 405280977, "node_id": "MDU6SXNzdWU0MDUyODA5Nzc=", "number": 321, "title": "Add asyncio/tornado support", "user": {"login": "stalkerg", "id": 1853716, "node_id": "MDQ6VXNlcjE4NTM3MTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1853716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stalkerg", "html_url": "https://github.com/stalkerg", "followers_url": "https://api.github.com/users/stalkerg/followers", "following_url": "https://api.github.com/users/stalkerg/following{/other_user}", "gists_url": "https://api.github.com/users/stalkerg/gists{/gist_id}", "starred_url": "https://api.github.com/users/stalkerg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stalkerg/subscriptions", "organizations_url": "https://api.github.com/users/stalkerg/orgs", "repos_url": "https://api.github.com/users/stalkerg/repos", "events_url": "https://api.github.com/users/stalkerg/events{/privacy}", "received_events_url": "https://api.github.com/users/stalkerg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-01-31T14:50:22Z", "updated_at": "2020-06-03T11:38:43Z", "closed_at": "2019-01-31T18:03:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Subj. \r\nMy current project was written on Tornado with async/await and I need to integrate google auth. \r\nLooks like current \"transport\" system not so good for async/await environment because you call it outside and I can't call async methods inside. \r\nProbably I can run request as an independent task on the loop but it ugly solution. \r\n\r\nThanks.  \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/319", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/319/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/319/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/319/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/319", "id": 401500621, "node_id": "MDU6SXNzdWU0MDE1MDA2MjE=", "number": 319, "title": "Credentials.refresh() fails with TypeError when using $GOOGLE_AUTHENTICATION_CREDENTIALS", "user": {"login": "Nikratio", "id": 701625, "node_id": "MDQ6VXNlcjcwMTYyNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/701625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nikratio", "html_url": "https://github.com/Nikratio", "followers_url": "https://api.github.com/users/Nikratio/followers", "following_url": "https://api.github.com/users/Nikratio/following{/other_user}", "gists_url": "https://api.github.com/users/Nikratio/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nikratio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nikratio/subscriptions", "organizations_url": "https://api.github.com/users/Nikratio/orgs", "repos_url": "https://api.github.com/users/Nikratio/repos", "events_url": "https://api.github.com/users/Nikratio/events{/privacy}", "received_events_url": "https://api.github.com/users/Nikratio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-21T20:29:20Z", "updated_at": "2019-02-03T14:40:17Z", "closed_at": "2019-02-03T14:40:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Environment details\r\n\r\n  - OS: Linux (Debian stable)\r\n  - Python version: 3.5\r\n  - pip version: 9.0.1\r\n  - `google-auth` version: 1.6.2\r\n\r\n#### Steps to reproduce\r\n\r\n 1. Create new service account on https://console.cloud.google.com/\r\n 2. Export the private key in JSON format\r\n 3. Point `$GOOGLE_APPLICATION_CREDENTIALS` at it \r\n 4. Try to get an access token:\r\n\r\n```\r\n$ python3\r\nPython 3.5.3 (default, Sep 27 2018, 17:25:39) \r\n[GCC 6.3.0 20170516] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import google.auth.transport.requests\r\n>>> import google.auth\r\n>>> adc, project = google.auth.default()\r\n>>> requestor = google.auth.transport.requests.Request()\r\n>>> adc, project = google.auth.default(requestor)\r\n>>> adc.refresh(requestor)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/nikratio/.local/lib/python3.5/site-packages/google/oauth2/service_account.py\", line 320, in refresh\r\n    assertion = self._make_authorization_grant_assertion()\r\n  File \"/home/nikratio/.local/lib/python3.5/site-packages/google/oauth2/service_account.py\", line 305, in _make_authorization_grant_assertion\r\n    'scope': _helpers.scopes_to_string(self._scopes or ())\r\n  File \"/home/nikratio/.local/lib/python3.5/site-packages/google/auth/_helpers.py\", line 186, in scopes_to_string\r\n    return ' '.join(scopes)\r\nTypeError: can only join an iterable\r\n>>> \r\n```\r\n\r\nExcerpts from the `$GOOGLE_APPLICATION_CREDENTIALS` file:\r\n\r\n```\r\n$ cat $GOOGLE_APPLICATION_CREDENTIALS \r\n{\r\n  \"type\": \"service_account\",\r\n  \"project_id\": \"personal-NNN\",\r\n  \"private_key_id\": \"snip\",\r\n  \"private_key\": \"-----BEGIN PRIVATE KEY-----snip\\n-----END PRIVATE KEY-----\\n\",\r\n  \"client_email\": \"xxxxxx@personal-NNNiam.gserviceaccount.com\",\r\n  \"client_id\": \"NNN\",\r\n  \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\r\n  \"token_uri\": \"https://oauth2.googleapis.com/token\",\r\n  \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\r\n  \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/XXXXXX.iam.gserviceaccount.com\"\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/318", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/318/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/318/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/318/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/318", "id": 399520546, "node_id": "MDU6SXNzdWUzOTk1MjA1NDY=", "number": 318, "title": "google.auth.transport.Request is called with type(body) == str", "user": {"login": "Nikratio", "id": 701625, "node_id": "MDQ6VXNlcjcwMTYyNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/701625?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nikratio", "html_url": "https://github.com/Nikratio", "followers_url": "https://api.github.com/users/Nikratio/followers", "following_url": "https://api.github.com/users/Nikratio/following{/other_user}", "gists_url": "https://api.github.com/users/Nikratio/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nikratio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nikratio/subscriptions", "organizations_url": "https://api.github.com/users/Nikratio/orgs", "repos_url": "https://api.github.com/users/Nikratio/repos", "events_url": "https://api.github.com/users/Nikratio/events{/privacy}", "received_events_url": "https://api.github.com/users/Nikratio/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-15T20:24:48Z", "updated_at": "2020-01-10T21:17:35Z", "closed_at": "2020-01-10T21:17:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to eg https://google-auth.readthedocs.io/en/latest/reference/google.auth.html#google.auth.default, classes implementing google.auth.transport.Request will be called with a *body* parameter of type bytes. This makes sense, because the request agent is in no position to decide how a str body should be encoded for transport.\r\n\r\nUnfortunately, in some cases the googl.auth module does pass str value. One such call is made in https://github.com/googleapis/google-auth-library-python/blob/137b43ba002d422c68e7bfacdafa54986f38500b/google/oauth2/_client.py#L100, but there may be more.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/317", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/317/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/317/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/317/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/317", "id": 394926767, "node_id": "MDU6SXNzdWUzOTQ5MjY3Njc=", "number": 317, "title": "OAuth Docs still point to oauth2client", "user": {"login": "collinanderson", "id": 129234, "node_id": "MDQ6VXNlcjEyOTIzNA==", "avatar_url": "https://avatars3.githubusercontent.com/u/129234?v=4", "gravatar_id": "", "url": "https://api.github.com/users/collinanderson", "html_url": "https://github.com/collinanderson", "followers_url": "https://api.github.com/users/collinanderson/followers", "following_url": "https://api.github.com/users/collinanderson/following{/other_user}", "gists_url": "https://api.github.com/users/collinanderson/gists{/gist_id}", "starred_url": "https://api.github.com/users/collinanderson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/collinanderson/subscriptions", "organizations_url": "https://api.github.com/users/collinanderson/orgs", "repos_url": "https://api.github.com/users/collinanderson/repos", "events_url": "https://api.github.com/users/collinanderson/events{/privacy}", "received_events_url": "https://api.github.com/users/collinanderson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 957900482, "node_id": "MDU6TGFiZWw5NTc5MDA0ODI=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20docs", "name": "type: docs", "color": "0000A0", "default": false, "description": "Improvement to the documentation for an API."}], "state": "closed", "locked": false, "assignee": {"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "busunkim96", "id": 8822365, "node_id": "MDQ6VXNlcjg4MjIzNjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8822365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/busunkim96", "html_url": "https://github.com/busunkim96", "followers_url": "https://api.github.com/users/busunkim96/followers", "following_url": "https://api.github.com/users/busunkim96/following{/other_user}", "gists_url": "https://api.github.com/users/busunkim96/gists{/gist_id}", "starred_url": "https://api.github.com/users/busunkim96/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/busunkim96/subscriptions", "organizations_url": "https://api.github.com/users/busunkim96/orgs", "repos_url": "https://api.github.com/users/busunkim96/repos", "events_url": "https://api.github.com/users/busunkim96/events{/privacy}", "received_events_url": "https://api.github.com/users/busunkim96/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2018-12-31T04:21:25Z", "updated_at": "2019-08-13T01:12:02Z", "closed_at": "2019-08-13T01:12:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [oauth2client deprecation plan](https://google-auth.readthedocs.io/en/latest/oauth2client-deprecation.html#post-deprecation-support) says:\r\n\r\n> Since we are still iterating on user auth, some samples that use user auth will not be updated until we have settled on a final interface. If you find any samples you feel should be updated, please [file a bug](https://github.com/GoogleCloudPlatform/google-auth-library-python/issues).\r\n\r\nThe [Python OAuth 2.0 docs](https://developers.google.com/api-client-library/python/guide/aaa_oauth) have a bunch of sample code that use oauth2client, which is really confusing. (how do I rotate tokens?)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/316", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/316/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/316/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/316/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/316", "id": 393701445, "node_id": "MDU6SXNzdWUzOTM3MDE0NDU=", "number": 316, "title": "Certificate for key id xxxx not found: What could be the possible cause?", "user": {"login": "zhengzhong", "id": 253099, "node_id": "MDQ6VXNlcjI1MzA5OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/253099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhengzhong", "html_url": "https://github.com/zhengzhong", "followers_url": "https://api.github.com/users/zhengzhong/followers", "following_url": "https://api.github.com/users/zhengzhong/following{/other_user}", "gists_url": "https://api.github.com/users/zhengzhong/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhengzhong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhengzhong/subscriptions", "organizations_url": "https://api.github.com/users/zhengzhong/orgs", "repos_url": "https://api.github.com/users/zhengzhong/repos", "events_url": "https://api.github.com/users/zhengzhong/events{/privacy}", "received_events_url": "https://api.github.com/users/zhengzhong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1445320611, "node_id": "MDU6TGFiZWwxNDQ1MzIwNjEx", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/external", "name": "external", "color": "800080", "default": false, "description": "This issue is blocked on a bug with the actual product."}, {"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-12-22T20:35:58Z", "updated_at": "2020-08-04T14:28:11Z", "closed_at": "2020-01-09T20:34:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm maintaining a website and its mobile apps (iOS and Android). For Google Sign-In in mobile app, I'm using google-auth Python package on the server side.\r\n\r\nSince about one month ago, I started to receive error reports related to Google Sign-In from the server side. The error message looks like the following:\r\n\r\n    Certificate for key id 728f4016652079b9ed99861bb09bafc5a45baa86 not found.\r\n\r\nThe server-side Google Sign-In authentication backend follows [this document](https://developers.google.com/identity/sign-in/android/backend-auth):\r\n\r\n```python\r\nfrom google.oauth2 import id_token\r\nfrom google.auth.transport import requests\r\n\r\n# ...\r\n\r\ntry:\r\n    # The following line may raise ValueError with message: Certificate for key id xxxx not found.\r\n    id_info = id_token.verify_oauth2_token(google_id_token, requests.Request())\r\n\r\n    if id_info['aud'] not in VALID_CLIENT_IDS:\r\n        logger.error('Invalid aud from Google ID token: %s', id_info['aud'])\r\n        raise ValueError('Unverified audience.')\r\n    # ...\r\nexcept ValueError as exc:\r\n    logger.error('Fail to verify Google ID token: %s', exc, extra={'request': request})\r\n```\r\n\r\n[Diving into the code](https://github.com/googleapis/google-auth-library-python/blob/master/google/oauth2/id_token.py#L139), I can see that ``verify_oauth2_token()`` function is fetching Google public certificates from the URL ``https://www.googleapis.com/oauth2/v1/certs``. It seems that sometimes, for some Google ID token sent from some Android device, the key id cannot be found in that URL.\r\n\r\nHere are some other details which might be interesting:\r\n\r\n- It seems that iOS app does not have this kind of issue. From the ``USER_AGENT`` header (``okhttp/3.11.0``), I can see that the error happens only in Android app. And it happens only in some Android device, not all.\r\n- I was wondering if this happens only for Android phones from China (e.g. if they are connecting\r\n  via a VPN). So I also checked the user IP address. But it turned out that those users were from Europe.\r\n- Some key id is recurring again and again in the server error logs. For example, the key id ``aa436c3f63b281ce0d976da0b51a34860ff960eb`` is seen dozens of times, from November to now.\r\n\r\nThe website is running on the following environment:\r\n\r\n- OS: Linux (CentOS 7) 64-bit\r\n- Python version: 3.6.7\r\n- pip version: 18.1\r\n- `google-auth` version: 1.3.0 and 1.6.1\r\n\r\nAs I could not reproduce this issue either with my iPhone, or with my Android phone (Huawei P20, bought in France), I am completely stuck.\r\n\r\nI don't think this is a bug in google-auth package. But I'm wondering if you have ever heard of this error, and what could be the possible cause of it?\r\n\r\nThanks in advance!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/315", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/315/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/315/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/315", "id": 393262119, "node_id": "MDU6SXNzdWUzOTMyNjIxMTk=", "number": 315, "title": "No __init__.py in \"google\" folder", "user": {"login": "randalpinto", "id": 8962480, "node_id": "MDQ6VXNlcjg5NjI0ODA=", "avatar_url": "https://avatars1.githubusercontent.com/u/8962480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/randalpinto", "html_url": "https://github.com/randalpinto", "followers_url": "https://api.github.com/users/randalpinto/followers", "following_url": "https://api.github.com/users/randalpinto/following{/other_user}", "gists_url": "https://api.github.com/users/randalpinto/gists{/gist_id}", "starred_url": "https://api.github.com/users/randalpinto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/randalpinto/subscriptions", "organizations_url": "https://api.github.com/users/randalpinto/orgs", "repos_url": "https://api.github.com/users/randalpinto/repos", "events_url": "https://api.github.com/users/randalpinto/events{/privacy}", "received_events_url": "https://api.github.com/users/randalpinto/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-12-21T00:21:14Z", "updated_at": "2019-01-07T17:25:21Z", "closed_at": "2019-01-07T17:25:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: MacOS 10.13.6\r\n  - Python version: 2.7.15\r\n  - pip version: 18.1\r\n  - `google-auth` version: 1.6.2\r\n\r\n#### Steps to reproduce\r\n\r\nIf you run \"pip install google-auth\" the resulting package does not contain an __init__.py in the google directory. This is not a problem when the site-packages is the Python system one but in my case I have a different site-packages and when trying to run my code I would get:\r\n\r\nImportError: No module named google.oauth2.credentials\r\n\r\nHours later and lots of searching I finally found that when installing google-auth, a .pth file is installed (e.g.: google_auth-1.6.2-py3.7-nspkg.pth) in the sites-package however this only gets executed if your site-packages is in the list of sites. So in Python 2.7.15 you have to:\r\n\r\nimport site\r\nsite.addsitedir('/path/to/the/site-packages')\r\n\r\nIs there a reason why google-auth is being distributed like this?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/312", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/312/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/312/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/312", "id": 391464441, "node_id": "MDU6SXNzdWUzOTE0NjQ0NDE=", "number": 312, "title": "Get 404 when call Google Calendars with Service Account", "user": {"login": "haosdent", "id": 950759, "node_id": "MDQ6VXNlcjk1MDc1OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/950759?v=4", "gravatar_id": "", "url": "https://api.github.com/users/haosdent", "html_url": "https://github.com/haosdent", "followers_url": "https://api.github.com/users/haosdent/followers", "following_url": "https://api.github.com/users/haosdent/following{/other_user}", "gists_url": "https://api.github.com/users/haosdent/gists{/gist_id}", "starred_url": "https://api.github.com/users/haosdent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/haosdent/subscriptions", "organizations_url": "https://api.github.com/users/haosdent/orgs", "repos_url": "https://api.github.com/users/haosdent/repos", "events_url": "https://api.github.com/users/haosdent/events{/privacy}", "received_events_url": "https://api.github.com/users/haosdent/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-16T12:52:22Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2018-12-18T03:51:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Environment details\r\n\r\n  - OS: Ubuntu 16.04 and MacOS 10.11\r\n  - Python version: Python 2.7 and Python 3.6\r\n  - pip version: 18.1\r\n  - `google-auth` version: 1.6.1\r\n\r\n#### Steps to reproduce\r\n\r\n  1. Use `from google.oauth2 import service_account` to call Google Calendar API to read events, got 404\r\n  2. Use `from oauth2client import file, client, tools` to call Google Calendar API to read events, work as normal.\r\n\r\nMaking sure to follow these steps will guarantee the quickest resolution possible.\r\n\r\nThanks!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/310", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/310/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/310/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/310", "id": 385501851, "node_id": "MDU6SXNzdWUzODU1MDE4NTE=", "number": 310, "title": "Support with_scopes and with_subject for GAE and GCE service accounts", "user": {"login": "ducksauz", "id": 228508, "node_id": "MDQ6VXNlcjIyODUwOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/228508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ducksauz", "html_url": "https://github.com/ducksauz", "followers_url": "https://api.github.com/users/ducksauz/followers", "following_url": "https://api.github.com/users/ducksauz/following{/other_user}", "gists_url": "https://api.github.com/users/ducksauz/gists{/gist_id}", "starred_url": "https://api.github.com/users/ducksauz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ducksauz/subscriptions", "organizations_url": "https://api.github.com/users/ducksauz/orgs", "repos_url": "https://api.github.com/users/ducksauz/repos", "events_url": "https://api.github.com/users/ducksauz/events{/privacy}", "received_events_url": "https://api.github.com/users/ducksauz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-11-28T23:28:52Z", "updated_at": "2020-04-07T13:52:52Z", "closed_at": "2018-11-29T17:15:56Z", "author_association": "NONE", "active_lock_reason": null, "body": " **Is your feature request related to a problem? Please describe.**\r\nI'm building some tooling that is intended to run as a GAE cron job that will interact with our G Suite instance via the Admin API and domain wide delegation. In order for my code to interact with the Admin API, it needs to run scoped and with_subject to properly use the delegated access to G Suite. I want to do two-legged OAuth because it's a cron job and there's no opportunity for user interaction.\r\n\r\nI can do it like this:\r\n```python\r\ncredentials = service_account.Credentials.from_service_account_file(\r\n   'service-account.json',\r\n   scopes=['https://www.googleapis.com/auth/admin.directory.user',\r\n         'https://www.googleapis.com/auth/admin.directory.group'],\r\n   subject='service-account@my-gsuite-domain.com')\r\n```\r\nand this works, but I don't want to have to deploy the service account private key file with the code artifacts to make it work.\r\n\r\n **Describe the solution you'd like**\r\n\r\n I'd rather have my code be able to just pull the service account info from GAE or GCE like this:\r\n\r\n```python\r\ncredentials = app_engine.Credentials(\r\n   scopes=['https://www.googleapis.com/auth/admin.directory.user',\r\n         'https://www.googleapis.com/auth/admin.directory.group'],\r\n   subject='service-account@my-gsuite-domain.com')\r\n```\r\n\r\nor this:\r\n\r\n```python\r\ncredentials = compute_engine.Credentials(\r\n   scopes=['https://www.googleapis.com/auth/admin.directory.user',\r\n         'https://www.googleapis.com/auth/admin.directory.group'],\r\n   subject='service-account@my-gsuite-domain.com')\r\n```\r\n\r\nBasically, please make all the domain wide delegation goodness in `google.oauth2.service_account` work in `google.auth.app_engine` and `google.auth.compute_engine` .\r\n\r\n **Describe alternatives you've considered**\r\nMy current workaround to this will require me to deploy the GCP service account's private key with my code artifacts to GAE, which isn't great from a security perspective.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/308", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/308/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/308/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/308/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/308", "id": 381670625, "node_id": "MDU6SXNzdWUzODE2NzA2MjU=", "number": 308, "title": "Can't use App Engine service account credentials with custom service account ID", "user": {"login": "vtertre", "id": 3511094, "node_id": "MDQ6VXNlcjM1MTEwOTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/3511094?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vtertre", "html_url": "https://github.com/vtertre", "followers_url": "https://api.github.com/users/vtertre/followers", "following_url": "https://api.github.com/users/vtertre/following{/other_user}", "gists_url": "https://api.github.com/users/vtertre/gists{/gist_id}", "starred_url": "https://api.github.com/users/vtertre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vtertre/subscriptions", "organizations_url": "https://api.github.com/users/vtertre/orgs", "repos_url": "https://api.github.com/users/vtertre/repos", "events_url": "https://api.github.com/users/vtertre/events{/privacy}", "received_events_url": "https://api.github.com/users/vtertre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-11-16T16:28:01Z", "updated_at": "2018-12-11T14:00:52Z", "closed_at": "2018-12-07T18:09:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm unable to use App Engine credentials passing my own service account id to access some APIs. In my case, I'm trying to get a file's content from Google Cloud Storage (function objects.get_media of storage v1 using google-api-python-client).\r\n\r\nI'm using google-api-python-client 1.7.3 & google-auth 1.6.1.\r\n\r\n```python\r\n# -*- coding: utf-8 -*-\r\nfrom flask import Flask, jsonify\r\nfrom google.auth import app_engine\r\nfrom googleapiclient.discovery import build\r\n\r\napp = Flask(__name__)\r\n\r\n\r\n@app.route(u'/')\r\ndef test():\r\n    credentials = app_engine.Credentials(service_account_id=u'103974996417709501608')\r\n    resource = build(u'storage', u'v1', credentials=credentials)\r\n    result = resource.objects().get_media(bucket=u'sandbox-vincent.appspot.com', object=u'keys/data-key.json').execute()\r\n    return jsonify(result), 200\r\n```\r\n\r\nConsidering this code sample, the call to get_media will fail with a NotAllowed error. If I remove the `service_account_id` parameter (thus the default App Engine service account is used), everything is working as expected.\r\nThe result is the same if I use the service account email instead of its unique ID.\r\n\r\n```\r\nin before_request\r\n    self.refresh(request)\r\n  File \"/base/data/home/apps/e~sandbox-vincent/main.414030834451583175/libs/google/auth/app_engine.py\", line 118, in refresh\r\n    self._scopes, self._service_account_id)\r\n  File \"/base/alloc/tmpfs/dynamic_runtimes/python27g/90ff42587f3b5ce/python27/python27_lib/versions/1/google/appengine/api/app_identity/app_identity.py\", line 605, in get_access_token\r\n    scopes, service_account_id=service_account_id)\r\n  File \"/base/alloc/tmpfs/dynamic_runtimes/python27g/90ff42587f3b5ce/python27/python27_lib/versions/1/google/appengine/api/app_identity/app_identity.py\", line 558, in get_access_token_uncached\r\n    return rpc.get_result()\r\n  File \"/base/alloc/tmpfs/dynamic_runtimes/python27g/90ff42587f3b5ce/python27/python27_lib/versions/1/google/appengine/api/apiproxy_stub_map.py\", line 615, in get_result\r\n    return self.__get_result_hook(self)\r\n  File \"/base/alloc/tmpfs/dynamic_runtimes/python27g/90ff42587f3b5ce/python27/python27_lib/versions/1/google/appengine/api/app_identity/app_identity.py\", line 529, in get_access_token_result\r\n    raise _to_app_identity_error(err)\r\nNotAllowed\r\n```\r\nBoth the service account I have created and the App Engine default service account have the same IAM role (Storage Object Viewer).\r\n\r\nMoreover, when using the App Engine default service account, if I print `credentials.service_account_email` right after the creation of the credentials, I also get the NotAllowed error.\r\n\r\nThanks for your help", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/301", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/301/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/301/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/301/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/301", "id": 377448323, "node_id": "MDU6SXNzdWUzNzc0NDgzMjM=", "number": 301, "title": "BigQuery: Flaky RefreshError: 'invalid_grant: Invalid JWT: No valid verifier found for issuer.'", "user": {"login": "bencaine1", "id": 3464314, "node_id": "MDQ6VXNlcjM0NjQzMTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/3464314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bencaine1", "html_url": "https://github.com/bencaine1", "followers_url": "https://api.github.com/users/bencaine1/followers", "following_url": "https://api.github.com/users/bencaine1/following{/other_user}", "gists_url": "https://api.github.com/users/bencaine1/gists{/gist_id}", "starred_url": "https://api.github.com/users/bencaine1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bencaine1/subscriptions", "organizations_url": "https://api.github.com/users/bencaine1/orgs", "repos_url": "https://api.github.com/users/bencaine1/repos", "events_url": "https://api.github.com/users/bencaine1/events{/privacy}", "received_events_url": "https://api.github.com/users/bencaine1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": {"login": "crwilcox", "id": 638797, "node_id": "MDQ6VXNlcjYzODc5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/638797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crwilcox", "html_url": "https://github.com/crwilcox", "followers_url": "https://api.github.com/users/crwilcox/followers", "following_url": "https://api.github.com/users/crwilcox/following{/other_user}", "gists_url": "https://api.github.com/users/crwilcox/gists{/gist_id}", "starred_url": "https://api.github.com/users/crwilcox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crwilcox/subscriptions", "organizations_url": "https://api.github.com/users/crwilcox/orgs", "repos_url": "https://api.github.com/users/crwilcox/repos", "events_url": "https://api.github.com/users/crwilcox/events{/privacy}", "received_events_url": "https://api.github.com/users/crwilcox/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "crwilcox", "id": 638797, "node_id": "MDQ6VXNlcjYzODc5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/638797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crwilcox", "html_url": "https://github.com/crwilcox", "followers_url": "https://api.github.com/users/crwilcox/followers", "following_url": "https://api.github.com/users/crwilcox/following{/other_user}", "gists_url": "https://api.github.com/users/crwilcox/gists{/gist_id}", "starred_url": "https://api.github.com/users/crwilcox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crwilcox/subscriptions", "organizations_url": "https://api.github.com/users/crwilcox/orgs", "repos_url": "https://api.github.com/users/crwilcox/repos", "events_url": "https://api.github.com/users/crwilcox/events{/privacy}", "received_events_url": "https://api.github.com/users/crwilcox/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2018-11-05T15:24:32Z", "updated_at": "2019-08-02T23:33:53Z", "closed_at": "2019-08-02T23:33:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "We're getting a flaky error trying to authorize credentials. See [this issue](https://github.com/googleapis/google-cloud-python/issues/6375) for details.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/295", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/295/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/295/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/295", "id": 362335652, "node_id": "MDU6SXNzdWUzNjIzMzU2NTI=", "number": 295, "title": "SSL Certificate Error when trying to  connect to DLP API", "user": {"login": "RobMohr", "id": 38088480, "node_id": "MDQ6VXNlcjM4MDg4NDgw", "avatar_url": "https://avatars2.githubusercontent.com/u/38088480?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RobMohr", "html_url": "https://github.com/RobMohr", "followers_url": "https://api.github.com/users/RobMohr/followers", "following_url": "https://api.github.com/users/RobMohr/following{/other_user}", "gists_url": "https://api.github.com/users/RobMohr/gists{/gist_id}", "starred_url": "https://api.github.com/users/RobMohr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RobMohr/subscriptions", "organizations_url": "https://api.github.com/users/RobMohr/orgs", "repos_url": "https://api.github.com/users/RobMohr/repos", "events_url": "https://api.github.com/users/RobMohr/events{/privacy}", "received_events_url": "https://api.github.com/users/RobMohr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-20T19:37:42Z", "updated_at": "2018-10-11T16:30:12Z", "closed_at": "2018-10-01T19:37:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, as the title says i'm receiving an SSL certificate error when trying to hit endpoints in the DLP API. I receive this error when using the requests package or the Client API. Just to note: I can hit the desired endpoints just fine with curl.\r\n\r\nThe error using Client API looks like:\r\n```\r\nE0920 15:02:05.878961000 140736148943744 ssl_transport_security.cc:1229] Handshake failed with fatal error SSL_ERROR_SSL: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED.\r\n```\r\n\r\nThe error using requests looks like:\r\n```\r\nTraceback (most recent call last):\r\n  File \"test_requests.py\", line 37, in <module>\r\n    resp = requests.post(call_url, params=payload, headers=api_call_headers, proxies=proxies)\r\n  File \"/Users/uname/Desktop/Projects/python-docs-samples/dlp/.venv/lib/python3.7/site-packages/requests/api.py\", line 112, in post\r\n    return request('post', url, data=data, json=json, **kwargs)\r\n  File \"/Users/uname/Desktop/Projects/python-docs-samples/dlp/.venv/lib/python3.7/site-packages/requests/api.py\", line 58, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"/Users/uname/Desktop/Projects/python-docs-samples/dlp/.venv/lib/python3.7/site-packages/requests/sessions.py\", line 512, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/Users/uname/Desktop/Projects/python-docs-samples/dlp/.venv/lib/python3.7/site-packages/requests/sessions.py\", line 622, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/Users/ikj343/Desktop/Projects/python-docs-samples/dlp/.venv/lib/python3.7/site-packages/requests/adapters.py\", line 511, in send\r\n    raise SSLError(e, request=request)\r\nrequests.exceptions.SSLError: HTTPSConnectionPool(host='dlp.googleapis.com', port=443): Max retries exceeded with url: /v2/projects/p-apps-sbx6-delete-on-06102018/content:inspect?item=value&inspectConfig=includeQuote&inspectConfig=minLikelihood&inspectConfig=infoTypes (Caused by SSLError(SSLError(\"bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')])\")))\r\n```\r\n\r\nI can set requests to not verify certificates (which isn't ideal), but I see no such workaround with the Python Client API.\r\n\r\nI have tried updating the relevant packages:\r\npip install --upgrade google-api-python-client\r\npip install --upgrade google-cloud\r\npip install --upgrade google-cloud-dlp\r\npip install --upgrade requests\r\npip install --upgrade certifi\r\ngcloud components update\r\npip install requests[security]\r\n\r\nPython Version: 3.7.0\r\nOpenSSL Version: 1.0.2p\r\n\r\nIs there a good way to fix this issue? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/292", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/292/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/292/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/292/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/292", "id": 360377768, "node_id": "MDU6SXNzdWUzNjAzNzc3Njg=", "number": 292, "title": "provide a way to suppress service warning", "user": {"login": "kapilt", "id": 21650, "node_id": "MDQ6VXNlcjIxNjUw", "avatar_url": "https://avatars3.githubusercontent.com/u/21650?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kapilt", "html_url": "https://github.com/kapilt", "followers_url": "https://api.github.com/users/kapilt/followers", "following_url": "https://api.github.com/users/kapilt/following{/other_user}", "gists_url": "https://api.github.com/users/kapilt/gists{/gist_id}", "starred_url": "https://api.github.com/users/kapilt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kapilt/subscriptions", "organizations_url": "https://api.github.com/users/kapilt/orgs", "repos_url": "https://api.github.com/users/kapilt/repos", "events_url": "https://api.github.com/users/kapilt/events{/privacy}", "received_events_url": "https://api.github.com/users/kapilt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-14T16:44:30Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2018-09-14T16:45:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "for cli apps that users are expected to run it would be nice if we could suppress the warning thats this library generates. afaics this isn't something an application can supress currently without monkeypatching this library.\r\n\r\n\r\n/Users/kapil/projects/cloud-custodian/lib/python3.6/site-packages/google/auth/_default.py:66: UserWarning: Your application has authenticated using end user credentials from Google Cloud SDK. We recommend that most server applications use service accounts instead. If your application continues to use end user credentials from Cloud SDK, you might receive a \"quota exceeded\" or \"API not enabled\" error. For more information about service accounts, see https://cloud.google.com/docs/authentication/.\r\n  warnings.warn(_CLOUD_SDK_CREDENTIALS_WARNING)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/291", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/291/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/291/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/291/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/291", "id": 359764519, "node_id": "MDU6SXNzdWUzNTk3NjQ1MTk=", "number": 291, "title": "Support standard GAE Python3", "user": {"login": "fili", "id": 115263, "node_id": "MDQ6VXNlcjExNTI2Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/115263?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fili", "html_url": "https://github.com/fili", "followers_url": "https://api.github.com/users/fili/followers", "following_url": "https://api.github.com/users/fili/following{/other_user}", "gists_url": "https://api.github.com/users/fili/gists{/gist_id}", "starred_url": "https://api.github.com/users/fili/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fili/subscriptions", "organizations_url": "https://api.github.com/users/fili/orgs", "repos_url": "https://api.github.com/users/fili/repos", "events_url": "https://api.github.com/users/fili/events{/privacy}", "received_events_url": "https://api.github.com/users/fili/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-13T06:50:45Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2018-09-13T16:47:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "The new standard GAE Python3 is [not supporting App Identity](https://cloud.google.com/appengine/docs/standard/python3/python-differences#app_engine_apis). As such, [this](https://google-auth.readthedocs.io/en/latest/reference/google.auth.app_engine.html#module-google.auth.app_engine) does not work on the new standard GAE Python3.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/290", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/290/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/290/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/290", "id": 357681581, "node_id": "MDU6SXNzdWUzNTc2ODE1ODE=", "number": 290, "title": "Google Analytics Embed Example outdated.", "user": {"login": "julian-r", "id": 709223, "node_id": "MDQ6VXNlcjcwOTIyMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/709223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/julian-r", "html_url": "https://github.com/julian-r", "followers_url": "https://api.github.com/users/julian-r/followers", "following_url": "https://api.github.com/users/julian-r/following{/other_user}", "gists_url": "https://api.github.com/users/julian-r/gists{/gist_id}", "starred_url": "https://api.github.com/users/julian-r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/julian-r/subscriptions", "organizations_url": "https://api.github.com/users/julian-r/orgs", "repos_url": "https://api.github.com/users/julian-r/repos", "events_url": "https://api.github.com/users/julian-r/events{/privacy}", "received_events_url": "https://api.github.com/users/julian-r/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 957900482, "node_id": "MDU6TGFiZWw5NTc5MDA0ODI=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20docs", "name": "type: docs", "color": "0000A0", "default": false, "description": "Improvement to the documentation for an API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-09-06T14:28:35Z", "updated_at": "2018-10-11T16:30:11Z", "closed_at": "2018-10-01T19:29:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://ga-dev-tools.appspot.com/embed-api/server-side-authorization/ is outdatet.\r\n\r\n```py\r\n# service-account.py\r\n\r\nfrom oauth2client.service_account import ServiceAccountCredentials\r\n\r\n# The scope for the OAuth2 request.\r\nSCOPE = 'https://www.googleapis.com/auth/analytics.readonly'\r\n\r\n# The location of the key file with the key data.\r\nKEY_FILEPATH = 'path/to/json-key.json'\r\n\r\n# Defines a method to get an access token from the ServiceAccount object.\r\ndef get_access_token():\r\n  return ServiceAccountCredentials.from_json_keyfile_name(\r\n      KEY_FILEPATH, SCOPE).get_access_token().access_token\r\n```\r\n\r\nI have trouble making this work with `google-auth`:\r\n\r\nMy try:\r\n\r\n```py\r\n# service-account.py\r\n\r\nfrom google.oauth2.service_account import Credentials\r\n\r\n# The scope for the OAuth2 request.\r\nSCOPE = 'https://www.googleapis.com/auth/analytics.readonly'\r\n\r\n# The location of the key file with the key data.\r\nKEY_FILEPATH = 'path/to/json-key.json'\r\n\r\n# Defines a method to get an access token from the ServiceAccount object.\r\ndef get_access_token():\r\n  return Credentials.from_service_account_file(KEY_FILEPATH, scopes=[SCOPE]).get_access_token().access_token\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/289", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/289/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/289/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/289", "id": 356898435, "node_id": "MDU6SXNzdWUzNTY4OTg0MzU=", "number": 289, "title": "Arguments are presented in the wrong order in a docstr example", "user": {"login": "crwilcox", "id": 638797, "node_id": "MDQ6VXNlcjYzODc5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/638797?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crwilcox", "html_url": "https://github.com/crwilcox", "followers_url": "https://api.github.com/users/crwilcox/followers", "following_url": "https://api.github.com/users/crwilcox/following{/other_user}", "gists_url": "https://api.github.com/users/crwilcox/gists{/gist_id}", "starred_url": "https://api.github.com/users/crwilcox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crwilcox/subscriptions", "organizations_url": "https://api.github.com/users/crwilcox/orgs", "repos_url": "https://api.github.com/users/crwilcox/repos", "events_url": "https://api.github.com/users/crwilcox/events{/privacy}", "received_events_url": "https://api.github.com/users/crwilcox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 462642896, "node_id": "MDU6TGFiZWw0NjI2NDI4OTY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/docs", "name": "docs", "color": "bfd4f2", "default": false, "description": null}, {"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-04T17:04:23Z", "updated_at": "2018-10-11T16:30:11Z", "closed_at": "2018-10-01T19:27:18Z", "author_association": "COLLABORATOR", "active_lock_reason": null, "body": "https://github.com/GoogleCloudPlatform/google-auth-library-python/blob/edfe24602051969e32917e82bcedd2bace43e260/google/auth/transport/grpc.py#L101\r\n\r\nI think the target and requests arg are reversed here", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/288", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/288/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/288/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/288", "id": 356103648, "node_id": "MDU6SXNzdWUzNTYxMDM2NDg=", "number": 288, "title": "Converting from from oauth2client.service_account import ServiceAccountCredentials", "user": {"login": "bsolomon1124", "id": 25164676, "node_id": "MDQ6VXNlcjI1MTY0Njc2", "avatar_url": "https://avatars1.githubusercontent.com/u/25164676?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bsolomon1124", "html_url": "https://github.com/bsolomon1124", "followers_url": "https://api.github.com/users/bsolomon1124/followers", "following_url": "https://api.github.com/users/bsolomon1124/following{/other_user}", "gists_url": "https://api.github.com/users/bsolomon1124/gists{/gist_id}", "starred_url": "https://api.github.com/users/bsolomon1124/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bsolomon1124/subscriptions", "organizations_url": "https://api.github.com/users/bsolomon1124/orgs", "repos_url": "https://api.github.com/users/bsolomon1124/repos", "events_url": "https://api.github.com/users/bsolomon1124/events{/privacy}", "received_events_url": "https://api.github.com/users/bsolomon1124/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-31T19:46:06Z", "updated_at": "2019-01-28T13:12:13Z", "closed_at": "2019-01-28T13:12:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "What is the proper way of mimicking `oauth2client.service_account.ServiceAccountCredentials.from_json_keyfile_dict()` in `google.oauth2`?\r\n\r\nIn `oauth2client`, these credentials were authorized through `ServiceAccountCredentials().authorize()`.  What is the equivalent method in `google.oauth2`?\r\n\r\n----\r\n\r\n## Example of current code\r\n\r\n```python\r\nfrom httplib2 import Http\r\nfrom oauth2client.service_account import ServiceAccountCredentials\r\n\r\nscopes = ['https://www.googleapis.com/auth/XXXXXXXXX.readonly']\r\nkeyfile_dict = {\r\n    'auth_provider_x509_cert_url': 'https://www.googleapis.com/oauth2/v1/certs',\r\n    'auth_uri': 'https://accounts.google.com/o/oauth2/auth',\r\n    'client_email': 'XXXXXXX@XXXXXXX.iam.gserviceaccount.com',\r\n    'client_id': 'XXXXXXXXXXXXXXXXXX',\r\n    'client_x509_cert_url': 'https://www.googleapis.com/robot/v1/metadata/x509/account-XXXXXXX.iam.gserviceaccount.com',\r\n    'private_key': '-----BEGIN PRIVATE KEY-----\\n'\r\n                'XXXXXXX\\n'\r\n                # ....\r\n                'XXXXXXX\\n'\r\n                '-----END PRIVATE KEY-----\\n',\r\n    'private_key_id': 'XXXXXXXX',\r\n    'project_id': 'XXXXXXXX',\r\n    'token_uri': 'https://accounts.google.com/o/oauth2/token',\r\n    'type': 'service_account'\r\n}\r\n\r\ncredentials = ServiceAccountCredentials.from_json_keyfile_dict(\r\n    keyfile_dict=keyfile_dict, scopes=scopes)\r\ncredentials.authorize(http=Http())\r\n```\r\n\r\n----\r\n\r\n## New\r\n\r\nPlease confirm that this mimics the current code example.  Is there a call for authorization as in `oauth2client`?\r\n\r\n```python\r\nfrom google.oauth2.service_account import Credentials\r\ncredentials = Credentials.from_service_account_info(\r\n    keyfile_dict, scopes=scopes)\r\n```\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/287", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/287/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/287/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/287/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/287", "id": 356060546, "node_id": "MDU6SXNzdWUzNTYwNjA1NDY=", "number": 287, "title": "google.auth.default raises 404 when run from Travis with Python 3.7.", "user": {"login": "tswast", "id": 247555, "node_id": "MDQ6VXNlcjI0NzU1NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/247555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tswast", "html_url": "https://github.com/tswast", "followers_url": "https://api.github.com/users/tswast/followers", "following_url": "https://api.github.com/users/tswast/following{/other_user}", "gists_url": "https://api.github.com/users/tswast/gists{/gist_id}", "starred_url": "https://api.github.com/users/tswast/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tswast/subscriptions", "organizations_url": "https://api.github.com/users/tswast/orgs", "repos_url": "https://api.github.com/users/tswast/repos", "events_url": "https://api.github.com/users/tswast/events{/privacy}", "received_events_url": "https://api.github.com/users/tswast/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1075852099, "node_id": "MDU6TGFiZWwxMDc1ODUyMDk5", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/status:awaiting%20information", "name": "status:awaiting information", "color": "d4c5f9", "default": false, "description": ""}, {"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-08-31T17:15:08Z", "updated_at": "2019-02-16T17:16:48Z", "closed_at": "2019-02-16T17:16:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "> Failed to retrieve http://metadata.google.internal/computeMetadata/v1/instance/service-accounts/default/?recursive=true from the Google Compute Enginemetadata service. Status: 404 Response\r\n\r\nSee: https://travis-ci.org/max-sixty/pandas-gbq/jobs/422752133 for https://github.com/pydata/pandas-gbq/pull/206\r\n\r\nI think this is related to the fact that Travis CI runs on GCE but it locks down access to APIs. Somehow `google.auth.default()` is not catching the 404.\r\n\r\n/cc @max-sixty", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/286", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/286/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/286/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/286", "id": 353968382, "node_id": "MDU6SXNzdWUzNTM5NjgzODI=", "number": 286, "title": "Library does not specify Requests as a dependency", "user": {"login": "Madrox", "id": 4087, "node_id": "MDQ6VXNlcjQwODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/4087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Madrox", "html_url": "https://github.com/Madrox", "followers_url": "https://api.github.com/users/Madrox/followers", "following_url": "https://api.github.com/users/Madrox/following{/other_user}", "gists_url": "https://api.github.com/users/Madrox/gists{/gist_id}", "starred_url": "https://api.github.com/users/Madrox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Madrox/subscriptions", "organizations_url": "https://api.github.com/users/Madrox/orgs", "repos_url": "https://api.github.com/users/Madrox/repos", "events_url": "https://api.github.com/users/Madrox/events{/privacy}", "received_events_url": "https://api.github.com/users/Madrox/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1035333532, "node_id": "MDU6TGFiZWwxMDM1MzMzNTMy", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/packaging", "name": "packaging", "color": "86f990", "default": false, "description": ""}, {"id": 944893227, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjc=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-08-25T00:59:09Z", "updated_at": "2020-07-21T18:59:19Z", "closed_at": "2020-07-21T18:59:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "As seen here, this lib requires Requests to be installed for some imports: https://github.com/GoogleCloudPlatform/google-auth-library-python/blob/master/google/auth/transport/requests.py#L27\r\n\r\nHowever, it is not specified as a dependency or extra in setup.py and there are no comments of tested versions of Requests. I imagine it isn't specified as a dependency because this is viewed as an optional module, but it should at least be included in extras. I mention this because I'm debugging an issue in my project that seems tied to the kwargs this library is attempting to send to Requests at https://github.com/GoogleCloudPlatform/google-auth-library-python/blob/master/google/auth/transport/requests.py#L201. The only recourse I have is basically trial and error. I'm currenlty using Requests 2.19.1. \r\n\r\nI don't think it's the responsibility of this lib to handle this error, but it seems like it should at least specify which versions of Requests it has tested for support.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/285", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/285/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/285/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/285", "id": 353884593, "node_id": "MDU6SXNzdWUzNTM4ODQ1OTM=", "number": 285, "title": "auth.default() takes 440ms", "user": {"login": "max-sixty", "id": 5635139, "node_id": "MDQ6VXNlcjU2MzUxMzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/5635139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/max-sixty", "html_url": "https://github.com/max-sixty", "followers_url": "https://api.github.com/users/max-sixty/followers", "following_url": "https://api.github.com/users/max-sixty/following{/other_user}", "gists_url": "https://api.github.com/users/max-sixty/gists{/gist_id}", "starred_url": "https://api.github.com/users/max-sixty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/max-sixty/subscriptions", "organizations_url": "https://api.github.com/users/max-sixty/orgs", "repos_url": "https://api.github.com/users/max-sixty/repos", "events_url": "https://api.github.com/users/max-sixty/events{/privacy}", "received_events_url": "https://api.github.com/users/max-sixty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-08-24T18:29:19Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2018-08-24T21:06:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is this expected? It's 750ms on the first attempt, and then falls for subsequent requests. \r\n\r\nWe're creating a Client for each request, which calls this method. Potentially that's a bad design?\r\n\r\n```\r\nn [6]: import google.auth as auth\r\n\r\nIn [7]: %timeit -n 1 -r 1 auth.default()\r\n\r\n748 ms \u00b1 0 ns per loop (mean \u00b1 std. dev. of 1 run, 1 loop each)\r\n\r\nIn [8]: %timeit -n 1 -r 1 auth.default()\r\n\r\n444 ms \u00b1 0 ns per loop (mean \u00b1 std. dev. of 1 run, 1 loop each)\r\n```\r\n\r\nVersion: 1.5.1\r\nOS: MacOS\r\nOn a fast 1.3ms ping connection", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/283", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/283/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/283/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/283", "id": 348122636, "node_id": "MDU6SXNzdWUzNDgxMjI2MzY=", "number": 283, "title": "Use new urls for authentication", "user": {"login": "JustinBeckwith", "id": 534619, "node_id": "MDQ6VXNlcjUzNDYxOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/534619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JustinBeckwith", "html_url": "https://github.com/JustinBeckwith", "followers_url": "https://api.github.com/users/JustinBeckwith/followers", "following_url": "https://api.github.com/users/JustinBeckwith/following{/other_user}", "gists_url": "https://api.github.com/users/JustinBeckwith/gists{/gist_id}", "starred_url": "https://api.github.com/users/JustinBeckwith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JustinBeckwith/subscriptions", "organizations_url": "https://api.github.com/users/JustinBeckwith/orgs", "repos_url": "https://api.github.com/users/JustinBeckwith/repos", "events_url": "https://api.github.com/users/JustinBeckwith/events{/privacy}", "received_events_url": "https://api.github.com/users/JustinBeckwith/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893243, "node_id": "MDU6TGFiZWw5NDQ4OTMyNDM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p1", "name": "priority: p1", "color": "ffa03e", "default": false, "description": "Medium priority. Will be fixed prior to next release."}, {"id": 944893227, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjc=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20feature%20request", "name": "type: feature request", "color": "c5def5", "default": false, "description": "\u2018Nice-to-have\u2019 improvement, new feature or different behavior or design."}], "state": "closed", "locked": false, "assignee": {"login": "theacodes", "id": 250995, "node_id": "MDQ6VXNlcjI1MDk5NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/250995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theacodes", "html_url": "https://github.com/theacodes", "followers_url": "https://api.github.com/users/theacodes/followers", "following_url": "https://api.github.com/users/theacodes/following{/other_user}", "gists_url": "https://api.github.com/users/theacodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/theacodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theacodes/subscriptions", "organizations_url": "https://api.github.com/users/theacodes/orgs", "repos_url": "https://api.github.com/users/theacodes/repos", "events_url": "https://api.github.com/users/theacodes/events{/privacy}", "received_events_url": "https://api.github.com/users/theacodes/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "theacodes", "id": 250995, "node_id": "MDQ6VXNlcjI1MDk5NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/250995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theacodes", "html_url": "https://github.com/theacodes", "followers_url": "https://api.github.com/users/theacodes/followers", "following_url": "https://api.github.com/users/theacodes/following{/other_user}", "gists_url": "https://api.github.com/users/theacodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/theacodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theacodes/subscriptions", "organizations_url": "https://api.github.com/users/theacodes/orgs", "repos_url": "https://api.github.com/users/theacodes/repos", "events_url": "https://api.github.com/users/theacodes/events{/privacy}", "received_events_url": "https://api.github.com/users/theacodes/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-08-07T00:13:50Z", "updated_at": "2018-08-07T12:38:00Z", "closed_at": "2018-08-07T12:38:00Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[Parent issue](https://github.com/GoogleCloudPlatform/google-cloud-common/issues/260)\r\n\r\nThe following specific library changes are required:\r\n\r\n### OAuth 2.0 Authorization Grant Flow (aka 3LO)\r\n\r\nFor clients using this flow, change (and test):\r\n- https://accounts.google.com/o/oauth2/token -> https://oauth2.googleapis.com/token\r\n- https://accounts.google.com/o/oauth2/revoke -> https://oauth2.googleapis.com/revoke\r\n- https://accounts.google.com/o/oauth2/tokeninfo -> https://oauth2.googleapis.com/tokeninfo\r\n- *DO NOT* change https://accounts.google.com/o/oauth2/auth\r\n\r\nIf the client pulls the data from the client json object, that will be updated on the server side for newly created clients and no changes to the client libraries are required.\r\n\r\n### OAuth 2.0 Assertion Flow (aka OAuth 2.0 Service Account Flow, aka \u201cGoogle Credentials Auth\u201d)\r\n\r\nFor clients using these flows, change:\r\n- https://accounts.google.com/o/oauth2/token -> https://oauth2.googleapis.com/token\r\n- The \u201caudience\u201d of the token from https://accounts.google.com/o/oauth2/token ->  https://oauth2.googleapis.com/token\r\n\r\n### JWT Bearer\r\n\r\nNo changes should be required for JWT Bearer authentication\r\n\r\n### ODIC Identity Tokens\r\n\r\nThere are two options.  If possible, the preferred option in this case is to:\r\n- Change https://accounts.google.com/o/oauth2/token ->  https://oauth2.googleapis.com/token\r\n- Change audience verification from \u201caccounts.google.com\u201d to [\u201caccounts.google.com\u201d, \u201chttps://accounts.google.com\u201d]\r\n- *DO NOT* Change https://www.googleapis.com/oauth2/v1/certs\r\n\r\nIf this is too risky in a particular client library, then the change should be:\r\n- https://accounts.google.com/o/oauth2/token -> https://www.googleapis.com/oauth2/v3/token\r\n- *DO NOT* Change https://www.googleapis.com/oauth2/v1/certs\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/279", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/279/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/279/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/279/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/279", "id": 344415009, "node_id": "MDU6SXNzdWUzNDQ0MTUwMDk=", "number": 279, "title": "bdist_wheel upload failes for python3", "user": {"login": "thilo-maurer", "id": 15922770, "node_id": "MDQ6VXNlcjE1OTIyNzcw", "avatar_url": "https://avatars2.githubusercontent.com/u/15922770?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thilo-maurer", "html_url": "https://github.com/thilo-maurer", "followers_url": "https://api.github.com/users/thilo-maurer/followers", "following_url": "https://api.github.com/users/thilo-maurer/following{/other_user}", "gists_url": "https://api.github.com/users/thilo-maurer/gists{/gist_id}", "starred_url": "https://api.github.com/users/thilo-maurer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thilo-maurer/subscriptions", "organizations_url": "https://api.github.com/users/thilo-maurer/orgs", "repos_url": "https://api.github.com/users/thilo-maurer/repos", "events_url": "https://api.github.com/users/thilo-maurer/events{/privacy}", "received_events_url": "https://api.github.com/users/thilo-maurer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 474304352, "node_id": "MDU6TGFiZWw0NzQzMDQzNTI=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/hygiene", "name": "hygiene", "color": "0e8a16", "default": false, "description": null}, {"id": 944893223, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjM=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/priority:%20p2", "name": "priority: p2", "color": "fef2c0", "default": false, "description": "Lowest priority. Fix may not be included in next release."}, {"id": 944893226, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjY=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20bug", "name": "type: bug", "color": "db4437", "default": false, "description": "Error or flaw in code with unintended results or allowing sub-optimal usage patterns."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-07-25T12:04:13Z", "updated_at": "2020-04-06T17:51:20Z", "closed_at": "2018-08-28T11:20:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After\r\n```\r\npip3 download google-auth --no-binary :all:\r\n```\r\nthen extracting the package, then\r\n* build good\r\n* upload failes, when using python3 (python2 is fine)\r\n\r\nReason is that in this projects's `setup.py` line 45, argument `classifiers` should be an array, not a tuple. Replacing `(` by `[` fixes the issue.\r\n\r\nSee log below:\r\n```\r\nroot@host:/build/google-auth-1.5.0.tar.gz.extracted/google-auth-1.5.0# python3 setup.py bdist_wheel upload -r artifactory\r\nrunning bdist_wheel\r\nrunning build\r\nrunning build_py\r\ninstalling to build/bdist.linux-ppc64le/wheel\r\nrunning install\r\nrunning install_lib\r\nSkipping installation of build/bdist.linux-ppc64le/wheel/google/__init__.py (namespace package)\r\ncopying google/auth/iam.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/environment_vars.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/exceptions.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/credentials.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/_helpers.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/jwt.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/_oauth2client.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/_cloud_sdk.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/_default.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/__init__.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/app_engine.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/_service_account_info.py -> build/bdist.linux-ppc64le/wheel/google/auth\r\ncopying google/auth/crypt/_python_rsa.py -> build/bdist.linux-ppc64le/wheel/google/auth/crypt\r\ncopying google/auth/crypt/base.py -> build/bdist.linux-ppc64le/wheel/google/auth/crypt\r\ncopying google/auth/crypt/_helpers.py -> build/bdist.linux-ppc64le/wheel/google/auth/crypt\r\ncopying google/auth/crypt/__init__.py -> build/bdist.linux-ppc64le/wheel/google/auth/crypt\r\ncopying google/auth/crypt/_cryptography_rsa.py -> build/bdist.linux-ppc64le/wheel/google/auth/crypt\r\ncopying google/auth/crypt/rsa.py -> build/bdist.linux-ppc64le/wheel/google/auth/crypt\r\ncopying google/auth/transport/grpc.py -> build/bdist.linux-ppc64le/wheel/google/auth/transport\r\ncopying google/auth/transport/requests.py -> build/bdist.linux-ppc64le/wheel/google/auth/transport\r\ncopying google/auth/transport/_http_client.py -> build/bdist.linux-ppc64le/wheel/google/auth/transport\r\ncopying google/auth/transport/__init__.py -> build/bdist.linux-ppc64le/wheel/google/auth/transport\r\ncopying google/auth/transport/urllib3.py -> build/bdist.linux-ppc64le/wheel/google/auth/transport\r\ncopying google/auth/compute_engine/_metadata.py -> build/bdist.linux-ppc64le/wheel/google/auth/compute_engine\r\ncopying google/auth/compute_engine/credentials.py -> build/bdist.linux-ppc64le/wheel/google/auth/compute_engine\r\ncopying google/auth/compute_engine/__init__.py -> build/bdist.linux-ppc64le/wheel/google/auth/compute_engine\r\ncopying google/oauth2/credentials.py -> build/bdist.linux-ppc64le/wheel/google/oauth2\r\ncopying google/oauth2/service_account.py -> build/bdist.linux-ppc64le/wheel/google/oauth2\r\ncopying google/oauth2/__init__.py -> build/bdist.linux-ppc64le/wheel/google/oauth2\r\ncopying google/oauth2/id_token.py -> build/bdist.linux-ppc64le/wheel/google/oauth2\r\ncopying google/oauth2/_client.py -> build/bdist.linux-ppc64le/wheel/google/oauth2\r\nrunning install_egg_info\r\nrunning egg_info\r\nwriting google_auth.egg-info/PKG-INFO\r\nwriting dependency_links to google_auth.egg-info/dependency_links.txt\r\nwriting namespace_packages to google_auth.egg-info/namespace_packages.txt\r\nwriting requirements to google_auth.egg-info/requires.txt\r\nwriting top-level names to google_auth.egg-info/top_level.txt\r\nreading manifest file 'google_auth.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwarning: no previously-included files matching '*.pyc' found anywhere in distribution\r\nwarning: no previously-included files matching '__pycache__' found anywhere in distribution\r\nwriting manifest file 'google_auth.egg-info/SOURCES.txt'\r\nCopying google_auth.egg-info to build/bdist.linux-ppc64le/wheel/google_auth-1.5.0-py3.6.egg-info\r\nInstalling build/bdist.linux-ppc64le/wheel/google_auth-1.5.0-py3.6-nspkg.pth\r\nrunning install_scripts\r\ncreating build/bdist.linux-ppc64le/wheel/google_auth-1.5.0.dist-info/WHEEL\r\ncreating '/build/google-auth-1.5.0.tar.gz.extracted/google-auth-1.5.0/dist/google_auth-1.5.0-py2.py3-none-any.whl' and adding '.' to it\r\nadding 'google_auth-1.5.0-py3.6-nspkg.pth'\r\nadding 'google/auth/__init__.py'\r\nadding 'google/auth/_cloud_sdk.py'\r\nadding 'google/auth/_default.py'\r\nadding 'google/auth/_helpers.py'\r\nadding 'google/auth/_oauth2client.py'\r\nadding 'google/auth/_service_account_info.py'\r\nadding 'google/auth/app_engine.py'\r\nadding 'google/auth/credentials.py'\r\nadding 'google/auth/environment_vars.py'\r\nadding 'google/auth/exceptions.py'\r\nadding 'google/auth/iam.py'\r\nadding 'google/auth/jwt.py'\r\nadding 'google/auth/compute_engine/__init__.py'\r\nadding 'google/auth/compute_engine/_metadata.py'\r\nadding 'google/auth/compute_engine/credentials.py'\r\nadding 'google/auth/crypt/__init__.py'\r\nadding 'google/auth/crypt/_cryptography_rsa.py'\r\nadding 'google/auth/crypt/_helpers.py'\r\nadding 'google/auth/crypt/_python_rsa.py'\r\nadding 'google/auth/crypt/base.py'\r\nadding 'google/auth/crypt/rsa.py'\r\nadding 'google/auth/transport/__init__.py'\r\nadding 'google/auth/transport/_http_client.py'\r\nadding 'google/auth/transport/grpc.py'\r\nadding 'google/auth/transport/requests.py'\r\nadding 'google/auth/transport/urllib3.py'\r\nadding 'google/oauth2/__init__.py'\r\nadding 'google/oauth2/_client.py'\r\nadding 'google/oauth2/credentials.py'\r\nadding 'google/oauth2/id_token.py'\r\nadding 'google/oauth2/service_account.py'\r\nadding 'google_auth-1.5.0.dist-info/namespace_packages.txt'\r\nadding 'google_auth-1.5.0.dist-info/top_level.txt'\r\nadding 'google_auth-1.5.0.dist-info/WHEEL'\r\nadding 'google_auth-1.5.0.dist-info/METADATA'\r\nadding 'google_auth-1.5.0.dist-info/RECORD'\r\nremoving build/bdist.linux-ppc64le/wheel\r\nrunning upload\r\nTraceback (most recent call last):\r\n  File \"setup.py\", line 59, in <module>\r\n    'Topic :: Internet :: WWW/HTTP',\r\n  File \"/usr/local/lib/python3.6/site-packages/setuptools/__init__.py\", line 131, in setup\r\n    return distutils.core.setup(**attrs)\r\n  File \"/usr/local/lib/python3.6/distutils/core.py\", line 148, in setup\r\n    dist.run_commands()\r\n  File \"/usr/local/lib/python3.6/distutils/dist.py\", line 955, in run_commands\r\n    self.run_command(cmd)\r\n  File \"/usr/local/lib/python3.6/distutils/dist.py\", line 974, in run_command\r\n    cmd_obj.run()\r\n  File \"/usr/local/lib/python3.6/distutils/command/upload.py\", line 64, in run\r\n    self.upload_file(command, pyversion, filename)\r\n  File \"/usr/local/lib/python3.6/distutils/command/upload.py\", line 162, in upload_file\r\n    body.write(value)\r\nTypeError: a bytes-like object is required, not 'str'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/276", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/276/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/276/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/276", "id": 337317123, "node_id": "MDU6SXNzdWUzMzczMTcxMjM=", "number": 276, "title": "ERROR:root:AuthMetadataPluginCallback \"<google.auth.transport.grpc.AuthMetadataPlugin object at 0x7f2088dceb90>\" raised exception!", "user": {"login": "gkayas", "id": 16336144, "node_id": "MDQ6VXNlcjE2MzM2MTQ0", "avatar_url": "https://avatars3.githubusercontent.com/u/16336144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gkayas", "html_url": "https://github.com/gkayas", "followers_url": "https://api.github.com/users/gkayas/followers", "following_url": "https://api.github.com/users/gkayas/following{/other_user}", "gists_url": "https://api.github.com/users/gkayas/gists{/gist_id}", "starred_url": "https://api.github.com/users/gkayas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gkayas/subscriptions", "organizations_url": "https://api.github.com/users/gkayas/orgs", "repos_url": "https://api.github.com/users/gkayas/repos", "events_url": "https://api.github.com/users/gkayas/events{/privacy}", "received_events_url": "https://api.github.com/users/gkayas/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-01T19:51:54Z", "updated_at": "2020-08-11T16:44:52Z", "closed_at": "2018-07-01T22:19:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to use Google Cloud Speech. I have a good number of audio files (around 2K). I wrote a python script to get the transcripts of the audio files from Google Speech. For first few files, I got the transcripts smoothly but for later files, I receive an exception.  The exceptions occurred in an arbitrary manner, I have tested several times with my script to confirm that.  The traceback of the exception is like below:\r\n\r\n```\r\nERROR:root:AuthMetadataPluginCallback \"<google.auth.transport.grpc.AuthMetadataPlugin object at 0x7f2088dceb90>\" raised exception!\r\nTraceback (most recent call last):\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/grpc/_plugin_wrapping.py\", line 77, in __call__\r\n    callback_state, callback))\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/auth/transport/grpc.py\", line 77, in __call__\r\n    callback(self._get_authorization_headers(context), None)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/auth/transport/grpc.py\", line 65, in _get_authorization_headers\r\n    headers)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/auth/credentials.py\", line 122, in before_request\r\n    self.refresh(request)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/oauth2/service_account.py\", line 322, in refresh\r\n    request, self._token_uri, assertion)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/oauth2/_client.py\", line 145, in jwt_grant\r\n    response_data = _token_endpoint_request(request, token_uri, body)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/oauth2/_client.py\", line 106, in _token_endpoint_request\r\n    method='POST', url=token_uri, headers=headers, body=body)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/auth/transport/requests.py\", line 124, in __call__\r\n    six.raise_from(new_exc, caught_exc)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/six.py\", line 737, in raise_from\r\n    raise value\r\nTransportError: HTTPSConnectionPool(host='accounts.google.com', port=443): Max retries exceeded with url: /o/oauth2/token (Caused by SSLError(IOError(24, 'Too many open files'),))\r\n/home/kayas/different_model_results/datasets/LibriSpeech/dev-clean/2277/149896/2277-149896-0025.flac HE ROSE FROM HIS CHAIR AND WENT AND LOOKED OUT INTO THE STREET\r\nERROR:root:AuthMetadataPluginCallback \"<google.auth.transport.grpc.AuthMetadataPlugin object at 0x7f2088dcefd0>\" raised exception!\r\nTraceback (most recent call last):\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/grpc/_plugin_wrapping.py\", line 77, in __call__\r\n    callback_state, callback))\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/auth/transport/grpc.py\", line 77, in __call__\r\n    callback(self._get_authorization_headers(context), None)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/auth/transport/grpc.py\", line 65, in _get_authorization_headers\r\n    headers)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/auth/credentials.py\", line 122, in before_request\r\n    self.refresh(request)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/oauth2/service_account.py\", line 322, in refresh\r\n    request, self._token_uri, assertion)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/oauth2/_client.py\", line 145, in jwt_grant\r\n    response_data = _token_endpoint_request(request, token_uri, body)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/oauth2/_client.py\", line 106, in _token_endpoint_request\r\n    method='POST', url=token_uri, headers=headers, body=body)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/google/auth/transport/requests.py\", line 124, in __call__\r\n    six.raise_from(new_exc, caught_exc)\r\n  File \"/home/kayas/.local/lib/python2.7/site-packages/six.py\", line 737, in raise_from\r\n    raise value\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/274", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/274/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/274/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/274/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/274", "id": 335933133, "node_id": "MDU6SXNzdWUzMzU5MzMxMzM=", "number": 274, "title": "Consider removing namespace_packages argument from setup.py", "user": {"login": "calder", "id": 52222, "node_id": "MDQ6VXNlcjUyMjIy", "avatar_url": "https://avatars2.githubusercontent.com/u/52222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calder", "html_url": "https://github.com/calder", "followers_url": "https://api.github.com/users/calder/followers", "following_url": "https://api.github.com/users/calder/following{/other_user}", "gists_url": "https://api.github.com/users/calder/gists{/gist_id}", "starred_url": "https://api.github.com/users/calder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calder/subscriptions", "organizations_url": "https://api.github.com/users/calder/orgs", "repos_url": "https://api.github.com/users/calder/repos", "events_url": "https://api.github.com/users/calder/events{/privacy}", "received_events_url": "https://api.github.com/users/calder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-06-26T18:06:09Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2018-06-26T18:09:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "The `namespace_packages` argument to `setup` prevents `google/__init__.py` from being included in the Pip package, which in turn prevents Bazel [rules_python](https://github.com/bazelbuild/rules_python) from treating `google` as a namespace package. This makes it incompatible with the protobuf package (and any other google-rooted packages) when used under Bazel.\r\n\r\nhttps://github.com/bazelbuild/rules_python/issues/93 tracks adding support for namespace_packages in rules_python.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/273", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/273/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/273/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/273", "id": 334029506, "node_id": "MDU6SXNzdWUzMzQwMjk1MDY=", "number": 273, "title": "How to send body using PUT?", "user": {"login": "tobiasbp", "id": 5671083, "node_id": "MDQ6VXNlcjU2NzEwODM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5671083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobiasbp", "html_url": "https://github.com/tobiasbp", "followers_url": "https://api.github.com/users/tobiasbp/followers", "following_url": "https://api.github.com/users/tobiasbp/following{/other_user}", "gists_url": "https://api.github.com/users/tobiasbp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobiasbp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobiasbp/subscriptions", "organizations_url": "https://api.github.com/users/tobiasbp/orgs", "repos_url": "https://api.github.com/users/tobiasbp/repos", "events_url": "https://api.github.com/users/tobiasbp/events{/privacy}", "received_events_url": "https://api.github.com/users/tobiasbp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 944893221, "node_id": "MDU6TGFiZWw5NDQ4OTMyMjE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20question", "name": "type: question", "color": "c5def5", "default": false, "description": "Request for information or clarification. Not an issue."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-06-20T11:08:37Z", "updated_at": "2018-10-11T16:30:10Z", "closed_at": "2018-06-25T11:12:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm attempting to update a G Suite user with the data in the following dictionary:\r\n```\r\n{\r\n    \"organizations\": [\r\n        {\r\n            \"customType\": \"\",\r\n            \"location\": \"Tokyo, Japan\",\r\n            \"name\": \"Example Inc.\",\r\n            \"primary\": true,\r\n            \"title\": \"FUD evangalist\",\r\n            \"type\": \"work\"\r\n        }\r\n    ]\r\n}\r\n```\r\nThis is the URL I'm using:\r\n`URL = 'https://www.googleapis.com/admin/directory/v1/users/user@example.com'`\r\n\r\nLooking at the [documentation](http://google-auth.readthedocs.io/en/latest/reference/google.auth.transport.requests.html), it looks to me like I should be able to PUT the dictionary directly like this:\r\n`response = authed_session.put(URL, data = dictionary_to_send)`\r\n\r\nThis gives me the error:\r\n> This API does not support parsing form-encoded input.\r\n\r\nThe I try to send the dictionary as JSON:\r\n`response = authed_session.put(URL, data = json.dumps(dictionary_to_send))`\r\n\r\nThis gives me the users data back, as expected. But, the user has not been updated with the data in the dictionary.\r\n\r\nI have pasted the dictionary as a JSON in to the API Explorer. The changes are applied when I do that.\r\n\r\nAny suggestions?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/272", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/272/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/272/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/272/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/272", "id": 333333890, "node_id": "MDU6SXNzdWUzMzMzMzM4OTA=", "number": 272, "title": "Can't make this work: Please confirm I'm doing it right.", "user": {"login": "tobiasbp", "id": 5671083, "node_id": "MDQ6VXNlcjU2NzEwODM=", "avatar_url": "https://avatars0.githubusercontent.com/u/5671083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobiasbp", "html_url": "https://github.com/tobiasbp", "followers_url": "https://api.github.com/users/tobiasbp/followers", "following_url": "https://api.github.com/users/tobiasbp/following{/other_user}", "gists_url": "https://api.github.com/users/tobiasbp/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobiasbp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobiasbp/subscriptions", "organizations_url": "https://api.github.com/users/tobiasbp/orgs", "repos_url": "https://api.github.com/users/tobiasbp/repos", "events_url": "https://api.github.com/users/tobiasbp/events{/privacy}", "received_events_url": "https://api.github.com/users/tobiasbp/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-06-18T16:01:12Z", "updated_at": "2020-04-07T13:08:07Z", "closed_at": "2018-06-18T17:24:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello...\r\n\r\nI'm having problems making this library work. Is there a more appropriate place to ask questions than here? I have not been able to find any references to a forum or a list.\r\n\r\nI'm looking at the documentation here: https://google-auth.readthedocs.io/en/latest/user-guide.html\r\n\r\nI have created a service account, downloaded the private key, enabled API's and given the service account access to my G Suite domain to scope ('https://www.googleapis.com/auth/admin.directory.user').\r\n\r\nBased on the documentation, I have this simple code:\r\n \r\n```\r\nimport google.auth\r\nfrom google.auth.transport.requests import AuthorizedSession\r\n\r\n# Set this ENV variable\r\n# $ export GOOGLE_APPLICATION_CREDENTIALS=/path/to/key.json\r\n\r\ncredentials, project = google.auth.default(scopes=['https://www.googleapis.com/auth/admin.directory.user'])\r\n\r\nauthed_session = AuthorizedSession(credentials)\r\n\r\nresponse = authed_session.get('https://www.googleapis.com/admin/directory/v1/users')\r\n\r\n```\r\nI'm expecting a list of users in the domain, but get a '400: Bad request'\r\n\r\nIf I try to get info on a user like this:\r\n`response = authed_session.get('https://www.googleapis.com/admin/directory/v1/users/foo@example.com')`\r\n\r\nI get a '403: Not Authorized to access this resource/api'\r\n\r\nAny suggestions much appreciated.\r\n\r\n\r\nAlso, I don't understand, if the following quote means I need to install relevant libraries to use the approach above (I get no errors, so I don't think so)?:\r\n\r\n> When running on any Google Cloud hosting environment or when running locally with the Google Cloud SDK installed, default() can automatically determine the credentials from the environment\r\n\r\n\r\nWhen trying this approach from the documentation:\r\n```\r\nfrom google.oauth2 import service_account\r\n\r\ncredentials = service_account.Credentials.from_service_account_file(\r\n    '/path/to/key.json')\r\n\r\nscoped_credentials = credentials.with_scopes(\r\n    ['https://www.googleapis.com/auth/cloud-platform'])\r\n```\r\n\r\nI get the following error:\r\n`google.auth.exceptions.RefreshError: ('invalid_scope: Empty or missing scope not allowed.', u'{\\n  \"error\" : \"invalid_scope\",\\n  \"error_description\" : \"Empty or missing scope not allowed.\"\\n}')\r\n`\r\n\r\nThank you,\r\nTobias", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/271", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/271/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/271/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/271/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/271", "id": 330747701, "node_id": "MDU6SXNzdWUzMzA3NDc3MDE=", "number": 271, "title": "Way to disable _CLOUD_SDK_CREDENTIALS_WARNING", "user": {"login": "ryanchapman", "id": 520385, "node_id": "MDQ6VXNlcjUyMDM4NQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/520385?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ryanchapman", "html_url": "https://github.com/ryanchapman", "followers_url": "https://api.github.com/users/ryanchapman/followers", "following_url": "https://api.github.com/users/ryanchapman/following{/other_user}", "gists_url": "https://api.github.com/users/ryanchapman/gists{/gist_id}", "starred_url": "https://api.github.com/users/ryanchapman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ryanchapman/subscriptions", "organizations_url": "https://api.github.com/users/ryanchapman/orgs", "repos_url": "https://api.github.com/users/ryanchapman/repos", "events_url": "https://api.github.com/users/ryanchapman/events{/privacy}", "received_events_url": "https://api.github.com/users/ryanchapman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2018-06-08T17:49:00Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2018-06-08T17:53:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to disable the warning `_CLOUD_SDK_CREDENTIALS_WARNING`, maybe by setting an environment variable?  We have an application where we want users to use their gcloud user credentials since it is run on their local machine.  If we ran the app as a service on a server, then a service account would make more sense.\r\n\r\n> UserWarning: Your application has authenticated using end user credentials from Google Cloud SDK. We recommend that most server applications use service accounts instead. If your application continues to use end user credentials from Cloud SDK, you might receive a \"quota exceeded\" or \"API not enabled\" error. For more information about service accounts, see https://cloud.google.com/docs/authentication/.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/269", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/269/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/269/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/269/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/269", "id": 330261088, "node_id": "MDU6SXNzdWUzMzAyNjEwODg=", "number": 269, "title": "Doesn't work when used with kubernetes package", "user": {"login": "wvxvw", "id": 3147276, "node_id": "MDQ6VXNlcjMxNDcyNzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/3147276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wvxvw", "html_url": "https://github.com/wvxvw", "followers_url": "https://api.github.com/users/wvxvw/followers", "following_url": "https://api.github.com/users/wvxvw/following{/other_user}", "gists_url": "https://api.github.com/users/wvxvw/gists{/gist_id}", "starred_url": "https://api.github.com/users/wvxvw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wvxvw/subscriptions", "organizations_url": "https://api.github.com/users/wvxvw/orgs", "repos_url": "https://api.github.com/users/wvxvw/repos", "events_url": "https://api.github.com/users/wvxvw/events{/privacy}", "received_events_url": "https://api.github.com/users/wvxvw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-06-07T12:58:47Z", "updated_at": "2020-04-07T13:11:03Z", "closed_at": "2018-06-07T16:30:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "The real issue is that you decided to outsmart yourselves by putting this little \"beauty\" into `google_auth-1.5.0-py3.6-nspkg.pth`:\r\n\r\n(formatted for somewhat improved readability)\r\n\r\n```\r\nimport sys, types, os\r\nhas_mfs = sys.version_info > (3, 5)\r\np = os.path.join(sys._getframe(1).f_locals['sitedir'], *('google',))\r\nimportlib = has_mfs and __import__('importlib.util')\r\nhas_mfs and __import__('importlib.machinery')\r\nm = has_mfs and sys.modules.setdefault('google', importlib.util.module_from_spec(importlib.machinery.PathFinder.find_spec('google', [os.path.dirname(p)])))\r\nm = m or sys.modules.setdefault('google', types.ModuleType('google'))\r\nmp = (m or []) and m.__dict__.setdefault('__path__',[])\r\n(p not in mp) and mp.append(p)\r\n```\r\n\r\nWhy on Earth would you do this?  This is so unnecessary... so fragile, and so wrong on so many levels... and, of course, doesn't work in the end.\r\n\r\nPlease, just don't do this.  Whatever your reasons were for doing this: it is not worth it.  Please, don't try to fix the code above to work in this specific case of Kubernetes client, just delete it.\r\n\r\nIn case you are interested to see what the error looks like:\r\n\r\n```\r\n../../../.local/share/virtualenvs/tests-H2T6kjqq/lib/python3.6/site-packages/kubernetes/__init__.py:20: in <module>\r\n    import kubernetes.config\r\n../../../.local/share/virtualenvs/tests-H2T6kjqq/lib/python3.6/site-packages/kubernetes/config/__init__.py:17: in <module>\r\n    from .kube_config import (list_kube_config_contexts, load_kube_config,\r\n../../../.local/share/virtualenvs/tests-H2T6kjqq/lib/python3.6/site-packages/kubernetes/config/kube_config.py:22: in <module>\r\n    import google.auth\r\nE   ModuleNotFoundError: No module named 'google.auth'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/264", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/264/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/264/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/264", "id": 326484894, "node_id": "MDU6SXNzdWUzMjY0ODQ4OTQ=", "number": 264, "title": "AttributeError: 'Credentials' object has no attribute 'authorize'", "user": {"login": "artly", "id": 6699185, "node_id": "MDQ6VXNlcjY2OTkxODU=", "avatar_url": "https://avatars2.githubusercontent.com/u/6699185?v=4", "gravatar_id": "", "url": "https://api.github.com/users/artly", "html_url": "https://github.com/artly", "followers_url": "https://api.github.com/users/artly/followers", "following_url": "https://api.github.com/users/artly/following{/other_user}", "gists_url": "https://api.github.com/users/artly/gists{/gist_id}", "starred_url": "https://api.github.com/users/artly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/artly/subscriptions", "organizations_url": "https://api.github.com/users/artly/orgs", "repos_url": "https://api.github.com/users/artly/repos", "events_url": "https://api.github.com/users/artly/events{/privacy}", "received_events_url": "https://api.github.com/users/artly/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-25T11:27:05Z", "updated_at": "2020-04-07T13:52:52Z", "closed_at": "2018-05-27T17:50:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I've encountered this message while running the code below.\r\n\r\n```python\r\nfrom apiclient.discovery import build\r\nfrom google.oauth2 import service_account\r\nSCOPES = ['https://www.googleapis.com/auth/youtube']\r\nSERVICE_ACCOUNT_FILE = 'ytmentions.json'\r\ncredentials = service_account.Credentials.from_service_account_file(\r\n        SERVICE_ACCOUNT_FILE, scopes=SCOPES)\r\nytservice = build(YOUTUBE_API_SERVICE_NAME, \r\n            YOUTUBE_API_VERSION, \r\n            credentials=credentials)\r\n```\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-140-5d89754385bf> in <module>()\r\n      1 ytservice = build(YOUTUBE_API_SERVICE_NAME, \r\n      2             YOUTUBE_API_VERSION,\r\n----> 3             credentials=credentials)\r\n      4 \r\n\r\n~/anaconda3/lib/python3.6/site-packages/googleapiclient/_helpers.py in positional_wrapper(*args, **kwargs)\r\n    128                 elif positional_parameters_enforcement == POSITIONAL_WARNING:\r\n    129                     logger.warning(message)\r\n--> 130             return wrapped(*args, **kwargs)\r\n    131         return positional_wrapper\r\n    132 \r\n\r\n~/anaconda3/lib/python3.6/site-packages/googleapiclient/discovery.py in build(serviceName, version, http, discoveryServiceUrl, developerKey, model, requestBuilder, credentials, cache_discovery, cache)\r\n    223       return build_from_document(content, base=discovery_url, http=http,\r\n    224           developerKey=developerKey, model=model, requestBuilder=requestBuilder,\r\n--> 225           credentials=credentials)\r\n    226     except HttpError as e:\r\n    227       if e.resp.status == http_client.NOT_FOUND:\r\n\r\n~/anaconda3/lib/python3.6/site-packages/googleapiclient/_helpers.py in positional_wrapper(*args, **kwargs)\r\n    128                 elif positional_parameters_enforcement == POSITIONAL_WARNING:\r\n    129                     logger.warning(message)\r\n--> 130             return wrapped(*args, **kwargs)\r\n    131         return positional_wrapper\r\n    132 \r\n\r\n~/anaconda3/lib/python3.6/site-packages/googleapiclient/discovery.py in build_from_document(service, base, future, http, developerKey, model, requestBuilder, credentials)\r\n    362 \r\n    363       # Create an authorized http instance\r\n--> 364       http = _auth.authorized_http(credentials)\r\n    365 \r\n    366     # If the service doesn't require scopes then there is no need for\r\n\r\n~/anaconda3/lib/python3.6/site-packages/googleapiclient/_auth.py in authorized_http(credentials)\r\n    102                                                    http=build_http())\r\n    103     else:\r\n--> 104         return credentials.authorize(build_http())\r\n    105 \r\n    106 \r\n\r\nAttributeError: 'Credentials' object has no attribute 'authorize'\r\n```\r\n\r\nAlso including my `pip freeze` output.\r\n```\r\nalabaster==0.7.10\r\nanaconda-client==1.6.14\r\nanaconda-navigator==1.8.5\r\nanaconda-project==0.8.2\r\nappnope==0.1.0\r\nappscript==1.0.1\r\nasn1crypto==0.24.0\r\nastroid==1.5.3\r\nastropy==2.0.2\r\nBabel==2.5.3\r\nbackcall==0.1.0\r\nbackports.shutil-get-terminal-size==1.0.0\r\nbeautifulsoup4==4.6.0\r\nbitarray==0.8.1\r\nbkcharts==0.2\r\nbleach==2.1.3\r\nbokeh==0.12.10\r\nboto==2.48.0\r\nBottleneck==1.2.1\r\ncachetools==2.0.1\r\ncertifi==2018.4.16\r\ncffi==1.11.5\r\nchardet==3.0.4\r\nclick==6.7\r\ncloudpickle==0.4.0\r\nclyent==1.2.2\r\ncolorama==0.3.9\r\nconda==4.5.4\r\nconda-build==3.0.27\r\nconda-verify==2.0.0\r\ncontextlib2==0.5.5\r\ncryptography==2.2.2\r\ncycler==0.10.0\r\nCython==0.26.1\r\ncytoolz==0.8.2\r\ndask==0.15.3\r\ndatashape==0.5.4\r\ndecorator==4.3.0\r\ndistributed==1.19.1\r\ndocutils==0.14\r\nentrypoints==0.2.3\r\net-xmlfile==1.0.1\r\nfastcache==1.0.2\r\nfilelock==2.0.12\r\nFlask==0.12.2\r\nFlask-Cors==3.0.3\r\ngevent==1.2.2\r\nglob2==0.5\r\ngmpy2==2.0.8\r\ngoogle-api-python-client==1.6.7\r\ngoogle-auth==1.4.1\r\ngoogle-auth-httplib2==0.0.2\r\ngreenlet==0.4.12\r\nh5py==2.7.0\r\nheapdict==1.0.0\r\nhtml5lib==1.0.1\r\nhttplib2==0.11.1\r\nidna==2.6\r\nimageio==2.2.0\r\nimagesize==1.0.0\r\ninstagram-scraper==1.5.20\r\nipykernel==4.8.2\r\nipython==6.4.0\r\nipython-genutils==0.2.0\r\nipywidgets==7.2.1\r\nisort==4.2.15\r\nitsdangerous==0.24\r\njdcal==1.3\r\njedi==0.12.0\r\nJinja2==2.10\r\njsonschema==2.6.0\r\njupyter==1.0.0\r\njupyter-client==5.2.3\r\njupyter-console==5.2.0\r\njupyter-core==4.4.0\r\njupyterlab==0.27.0\r\njupyterlab-launcher==0.4.0\r\nlazy-object-proxy==1.3.1\r\nllvmlite==0.20.0\r\nlocket==0.2.0\r\nlxml==4.1.0\r\nMarkupSafe==1.0\r\nmatplotlib==2.1.0\r\nmccabe==0.6.1\r\nmistune==0.8.3\r\nmkl-fft==1.0.0\r\nmkl-random==1.0.1\r\nmpmath==0.19\r\nmsgpack-python==0.4.8\r\nmultipledispatch==0.4.9\r\nnavigator-updater==0.1.0\r\nnbconvert==5.3.1\r\nnbformat==4.4.0\r\nnetworkx==2.0\r\nnltk==3.2.4\r\nnose==1.3.7\r\nnotebook==5.4.1\r\nnumba==0.35.0+6.gaa35fb1\r\nnumexpr==2.6.5\r\nnumpy==1.13.3\r\nnumpydoc==0.8.0\r\noauth2client==4.1.2\r\nodo==0.5.1\r\nolefile==0.45.1\r\nopenpyxl==2.4.8\r\npackaging==17.1\r\npandas==0.22.0\r\npandocfilters==1.4.2\r\nparso==0.2.0\r\npartd==0.3.8\r\npath.py==11.0.1\r\npathlib2==2.3.2\r\npatsy==0.4.1\r\npep8==1.7.0\r\npexpect==4.5.0\r\npickleshare==0.7.4\r\nPillow==5.1.0\r\npkginfo==1.4.1\r\nply==3.10\r\nprompt-toolkit==1.0.15\r\npsutil==5.4.5\r\nptyprocess==0.5.2\r\npy==1.4.34\r\npyasn1==0.4.2\r\npyasn1-modules==0.2.1\r\npycodestyle==2.3.1\r\npycosat==0.6.3\r\npycparser==2.18\r\npycrypto==2.6.1\r\npycurl==7.43.0\r\npyflakes==1.6.0\r\nPygments==2.2.0\r\npylint==1.7.4\r\npyodbc==4.0.17\r\npyOpenSSL==17.5.0\r\npyparsing==2.2.0\r\nPySocks==1.6.8\r\npytest==3.2.1\r\npython-dateutil==2.7.2\r\npytz==2018.4\r\nPyWavelets==0.5.2\r\nPyYAML==3.12\r\npyzmq==17.0.0\r\nQtAwesome==0.4.4\r\nqtconsole==4.3.1\r\nQtPy==1.4.1\r\nrequests==2.18.4\r\nrequests-file==1.4.3\r\nrope==0.10.5\r\nrsa==3.4.2\r\nruamel-yaml==0.15.35\r\nscikit-image==0.13.0\r\nscikit-learn==0.19.1\r\nscipy==1.1.0\r\nseaborn==0.8\r\nselenium==3.11.0\r\nSend2Trash==1.5.0\r\nsimplegeneric==0.8.1\r\nsimplejson==3.14.0\r\nsingledispatch==3.4.0.3\r\nsix==1.11.0\r\nsnowballstemmer==1.2.1\r\nsortedcollections==0.5.3\r\nsortedcontainers==1.5.10\r\nSphinx==1.7.4\r\nsphinxcontrib-websupport==1.0.1\r\nspyder==3.2.4\r\nSQLAlchemy==1.2.7\r\nstatsmodels==0.8.0\r\nsympy==1.1.1\r\ntables==3.4.2\r\ntblib==1.3.2\r\nterminado==0.8.1\r\ntestpath==0.3.1\r\ntldextract==2.2.0\r\ntoolz==0.8.2\r\ntornado==5.0.2\r\ntqdm==4.19.5\r\ntraitlets==4.3.2\r\ntyping==3.6.4\r\nunicodecsv==0.14.1\r\nuritemplate==3.0.0\r\nurllib3==1.22\r\nwcwidth==0.1.7\r\nwebencodings==0.5.1\r\nWerkzeug==0.14.1\r\nwidgetsnbextension==3.2.1\r\nwrapt==1.10.11\r\nxgboost==0.71\r\nxlrd==1.1.0\r\nxlwt==1.2.0\r\nzict==0.1.3\r\n```\r\nAny possible help would be highly appreciated.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/259", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/259/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/259/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/259/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/259", "id": 326115547, "node_id": "MDU6SXNzdWUzMjYxMTU1NDc=", "number": 259, "title": "Broken LICENSE, CONTRIBUTING links in docs", "user": {"login": "salty-horse", "id": 28355, "node_id": "MDQ6VXNlcjI4MzU1", "avatar_url": "https://avatars3.githubusercontent.com/u/28355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/salty-horse", "html_url": "https://github.com/salty-horse", "followers_url": "https://api.github.com/users/salty-horse/followers", "following_url": "https://api.github.com/users/salty-horse/following{/other_user}", "gists_url": "https://api.github.com/users/salty-horse/gists{/gist_id}", "starred_url": "https://api.github.com/users/salty-horse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/salty-horse/subscriptions", "organizations_url": "https://api.github.com/users/salty-horse/orgs", "repos_url": "https://api.github.com/users/salty-horse/repos", "events_url": "https://api.github.com/users/salty-horse/events{/privacy}", "received_events_url": "https://api.github.com/users/salty-horse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-24T13:12:18Z", "updated_at": "2020-04-07T13:08:08Z", "closed_at": "2018-05-24T20:09:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "The bottom of `google-auth-library-python/docs/index.rst` links to `LICENSE` and `CONTRIBUTING.rst` on GitHub with broken URLs:\r\n`https://github.com/GoogleCloudPlatform/google-auth-library-python/LICENSE`\r\n`https://github.com/GoogleCloudPlatform/google-auth-library-python/CONTRIBUTING.rst`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/258", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/258/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/258/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/258", "id": 326113144, "node_id": "MDU6SXNzdWUzMjYxMTMxNDQ=", "number": 258, "title": "AuthorizedSession attempts to refresh token when no refresh token was provided", "user": {"login": "salty-horse", "id": 28355, "node_id": "MDQ6VXNlcjI4MzU1", "avatar_url": "https://avatars3.githubusercontent.com/u/28355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/salty-horse", "html_url": "https://github.com/salty-horse", "followers_url": "https://api.github.com/users/salty-horse/followers", "following_url": "https://api.github.com/users/salty-horse/following{/other_user}", "gists_url": "https://api.github.com/users/salty-horse/gists{/gist_id}", "starred_url": "https://api.github.com/users/salty-horse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/salty-horse/subscriptions", "organizations_url": "https://api.github.com/users/salty-horse/orgs", "repos_url": "https://api.github.com/users/salty-horse/repos", "events_url": "https://api.github.com/users/salty-horse/events{/privacy}", "received_events_url": "https://api.github.com/users/salty-horse/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "theacodes", "id": 250995, "node_id": "MDQ6VXNlcjI1MDk5NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/250995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theacodes", "html_url": "https://github.com/theacodes", "followers_url": "https://api.github.com/users/theacodes/followers", "following_url": "https://api.github.com/users/theacodes/following{/other_user}", "gists_url": "https://api.github.com/users/theacodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/theacodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theacodes/subscriptions", "organizations_url": "https://api.github.com/users/theacodes/orgs", "repos_url": "https://api.github.com/users/theacodes/repos", "events_url": "https://api.github.com/users/theacodes/events{/privacy}", "received_events_url": "https://api.github.com/users/theacodes/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "theacodes", "id": 250995, "node_id": "MDQ6VXNlcjI1MDk5NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/250995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theacodes", "html_url": "https://github.com/theacodes", "followers_url": "https://api.github.com/users/theacodes/followers", "following_url": "https://api.github.com/users/theacodes/following{/other_user}", "gists_url": "https://api.github.com/users/theacodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/theacodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theacodes/subscriptions", "organizations_url": "https://api.github.com/users/theacodes/orgs", "repos_url": "https://api.github.com/users/theacodes/repos", "events_url": "https://api.github.com/users/theacodes/events{/privacy}", "received_events_url": "https://api.github.com/users/theacodes/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-05-24T13:06:16Z", "updated_at": "2020-04-06T17:09:55Z", "closed_at": "2018-05-24T20:34:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using google-auth 1.4.1\r\n\r\nIf `google.auth.transport.requests.AuthorizedSession` is used with an expired token, it will automatically try to refresh the token even if no refresh token was provided to the credentials object.\r\nThis causes the unreadable exception\r\n```TransportError: Invalid URL 'None': No schema supplied. Perhaps you meant http://None?```\r\n\r\nThere should be a sanity check for a non-existing refresh token before any refresh attempt is made. A proper exception should be raised if the token is expired.\r\n\r\nSample code:\r\n```python\r\nimport google.oauth2.credentials\r\nfrom google.auth.transport.requests import AuthorizedSession\r\ncredentials = google.oauth2.credentials.Credentials('an_expired_token')\r\nauthed_session = AuthorizedSession(credentials)\r\nresponse = authed_session.get('some_url_requiring_authentication')\r\n```\r\n\r\nTraceback:\r\n```\r\n  File \"/usr/lib/python3.6/site-packages/requests/sessions.py\", line 521, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/google/auth/transport/requests.py\", line 218, in request\r\n    self.credentials.refresh(auth_request_with_timeout)\r\n  File \"/usr/lib/python3.6/site-packages/google/oauth2/credentials.py\", line 126, in refresh\r\n    self._client_secret))\r\n  File \"/usr/lib/python3.6/site-packages/google/oauth2/_client.py\", line 237, in refresh_grant\r\n    response_data = _token_endpoint_request(request, token_uri, body)\r\n  File \"/usr/lib/python3.6/site-packages/google/oauth2/_client.py\", line 106, in _token_endpoint_request\r\n    method='POST', url=token_uri, headers=headers, body=body)\r\n  File \"/usr/lib/python3.6/site-packages/google/auth/transport/requests.py\", line 124, in __call__\r\n    six.raise_from(new_exc, caught_exc)\r\n  File \"<string>\", line 3, in raise_from\r\ngoogle.auth.exceptions.TransportError: Invalid URL 'None': No schema supplied. Perhaps you meant http://None?\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/257", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/257/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/257/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/257", "id": 325382387, "node_id": "MDU6SXNzdWUzMjUzODIzODc=", "number": 257, "title": "Certificate verify failed", "user": {"login": "pmesgari", "id": 14719521, "node_id": "MDQ6VXNlcjE0NzE5NTIx", "avatar_url": "https://avatars0.githubusercontent.com/u/14719521?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pmesgari", "html_url": "https://github.com/pmesgari", "followers_url": "https://api.github.com/users/pmesgari/followers", "following_url": "https://api.github.com/users/pmesgari/following{/other_user}", "gists_url": "https://api.github.com/users/pmesgari/gists{/gist_id}", "starred_url": "https://api.github.com/users/pmesgari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pmesgari/subscriptions", "organizations_url": "https://api.github.com/users/pmesgari/orgs", "repos_url": "https://api.github.com/users/pmesgari/repos", "events_url": "https://api.github.com/users/pmesgari/events{/privacy}", "received_events_url": "https://api.github.com/users/pmesgari/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-05-22T16:58:27Z", "updated_at": "2020-04-07T13:11:03Z", "closed_at": "2018-05-22T18:04:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Getting this error, all libraries are upgraded, the system clock is fine, checked it with urllib3 same thing happened. \r\n```\r\nfrom .auth_service import get_credentials\r\nfrom google.auth.transport.requests import AuthorizedSession\r\nimport json\r\n# Calendar service\r\n\r\n\r\nclass CalendarService:\r\n    def __init__(self, calendar_id=''):\r\n        self.credentials = get_credentials()\r\n        self.authed_session = AuthorizedSession(self.credentials)\r\n        self.service_base_url = 'https://www.googleapis.com/calendar/v3/users/me/calendarList'\r\n        self.calendar_id = calendar_id\r\n\r\n    def get_service_url(self):\r\n        return('{base_url}/{calendar_id}'.format(\r\n            base_url=self.service_base_url,\r\n            calendar_id=self.calendar_id))\r\n\r\n    def get_calendar(self):\r\n        response = self.authed_session.get(self.get_service_url())\r\n        calendar = response.json()\r\n        return calendar\r\n\r\n    def get_calendar_list(self):\r\n        response = self.authed_session.get(self.service_base_url)\r\n        calendar_list = response.json()\r\n        return calendar_list\r\n```\r\nThe output of pip freeze is:\r\n```\r\naniso8601==3.0.0\r\ncachetools==2.1.0\r\ncertifi==2018.4.16\r\nchardet==3.0.4\r\nclick==6.7\r\nFlask==1.0.2\r\nFlask-Cors==3.0.4\r\nFlask-HTTPAuth==3.2.3\r\nFlask-RESTful==0.3.6\r\ngoogle-auth==1.4.1\r\nidna==2.6\r\nitsdangerous==0.24\r\nJinja2==2.10\r\nMarkupSafe==1.0\r\npyasn1==0.4.2\r\npyasn1-modules==0.2.1\r\npytz==2018.4\r\nrequests==2.18.4\r\nrsa==3.4.2\r\nsix==1.11.0\r\nurllib3==1.22\r\nWerkzeug==0.14.1\r\n```\r\n\r\n```\r\nC:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\Scripts\\python.exe C:/Workspace/Techroom/lazyhour-server/main.py\r\n * Serving Flask app \"main\" (lazy loading)\r\n * Environment: development\r\n * Debug mode: on\r\n * Restarting with stat\r\n * Debugger is active!\r\n * Debugger PIN: 279-826-945\r\n * Running on http://localhost:5000/ (Press CTRL+C to quit)\r\nC:\\Workspace\\Techroom\\lazyhour-server\\util\\service_account.json\r\n127.0.0.1 - - [22/May/2018 15:22:56] \"GET /calendar/list HTTP/1.1\" 500 -\r\nTraceback (most recent call last):\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\app.py\", line 2309, in __call__\r\n    return self.wsgi_app(environ, start_response)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\app.py\", line 2295, in wsgi_app\r\n    response = self.handle_exception(e)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask_cors\\extension.py\", line 161, in wrapped_function\r\n    return cors_after_request(app.make_response(f(*args, **kwargs)))\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask_restful\\__init__.py\", line 273, in error_router\r\n    return original_handler(e)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\app.py\", line 1741, in handle_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\_compat.py\", line 34, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\app.py\", line 2292, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\app.py\", line 1815, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask_cors\\extension.py\", line 161, in wrapped_function\r\n    return cors_after_request(app.make_response(f(*args, **kwargs)))\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask_restful\\__init__.py\", line 273, in error_router\r\n    return original_handler(e)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\app.py\", line 1718, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\_compat.py\", line 34, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\app.py\", line 1813, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\app.py\", line 1799, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask_restful\\__init__.py\", line 480, in wrapper\r\n    resp = resource(*args, **kwargs)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask\\views.py\", line 88, in view\r\n    return self.dispatch_request(*args, **kwargs)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask_restful\\__init__.py\", line 595, in dispatch_request\r\n    resp = meth(*args, **kwargs)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\flask_httpauth.py\", line 93, in decorated\r\n    return f(*args, **kwargs)\r\n  File \"C:\\Workspace\\Techroom\\lazyhour-server\\main.py\", line 45, in get\r\n    return calendar_service.get_calendar_list()\r\n  File \"C:\\Workspace\\Techroom\\lazyhour-server\\util\\calendar_service.py\", line 25, in get_calendar_list\r\n    response = self.authed_session.get(self.service_base_url)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\requests\\sessions.py\", line 521, in get\r\n    return self.request('GET', url, **kwargs)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\google\\auth\\transport\\requests.py\", line 198, in request\r\n    self._auth_request, method, url, request_headers)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\google\\auth\\credentials.py\", line 121, in before_request\r\n    self.refresh(request)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\google\\oauth2\\service_account.py\", line 322, in refresh\r\n    request, self._token_uri, assertion)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\google\\oauth2\\_client.py\", line 145, in jwt_grant\r\n    response_data = _token_endpoint_request(request, token_uri, body)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\google\\oauth2\\_client.py\", line 106, in _token_endpoint_request\r\n    method='POST', url=token_uri, headers=headers, body=body)\r\n  File \"C:\\Workspace\\Techroom\\venvs\\lazyhour\\lazyhour\\lib\\site-packages\\google\\auth\\transport\\requests.py\", line 124, in __call__\r\n    six.raise_from(new_exc, caught_exc)\r\n  File \"<string>\", line 3, in raise_from\r\n    # Permission is hereby granted, free of charge, to any person obtaining a copy\r\ngoogle.auth.exceptions.TransportError: HTTPSConnectionPool(host='accounts.google.com', port=443): Max retries exceeded with url: /o/oauth2/token (Caused by SSLError(SSLError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:749)'),))\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/254", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/254/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/254/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/254", "id": 321824193, "node_id": "MDU6SXNzdWUzMjE4MjQxOTM=", "number": 254, "title": "pydrive.auth's TimeoutError", "user": {"login": "wangzhijin", "id": 26993507, "node_id": "MDQ6VXNlcjI2OTkzNTA3", "avatar_url": "https://avatars1.githubusercontent.com/u/26993507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wangzhijin", "html_url": "https://github.com/wangzhijin", "followers_url": "https://api.github.com/users/wangzhijin/followers", "following_url": "https://api.github.com/users/wangzhijin/following{/other_user}", "gists_url": "https://api.github.com/users/wangzhijin/gists{/gist_id}", "starred_url": "https://api.github.com/users/wangzhijin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wangzhijin/subscriptions", "organizations_url": "https://api.github.com/users/wangzhijin/orgs", "repos_url": "https://api.github.com/users/wangzhijin/repos", "events_url": "https://api.github.com/users/wangzhijin/events{/privacy}", "received_events_url": "https://api.github.com/users/wangzhijin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-10T06:28:35Z", "updated_at": "2020-04-07T13:11:04Z", "closed_at": "2018-05-11T01:28:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\n\r\nI am having issues authenticated via pydrive.auth.\r\n\r\nWhen I execute my basic code, api_practice.py file:\r\n```\r\nfrom pydrive.auth import GoogleAuth\r\nfrom pydrive.drive import GoogleDrive\r\ngauth = GoogleAuth()\r\ngauth.CommandLineAuth()\r\ndrive = GoogleDrive(gauth)\r\nf = drive.CreateFile({'title': 'test.txt'})\r\nf.SetContentString('test pydrive')\r\nf.Upload()\r\n\r\n```\r\nin the same path, My settings.yaml file contains:\r\n\r\n```\r\nclient_config_backend: settings\r\nclient_config:\r\n  client_id: 51***************f.apps.googleusercontent.com\r\n  client_secret: Z1***************\r\n\r\nsave_credentials: True\r\nsave_credentials_backend: file\r\nsave_credentials_file: credentials.json\r\nget_refresh_token: True\r\noauth_scope:\r\n  - https://www.googleapis.com/auth/drive.file\r\n  - https://www.googleapis.com/auth/drive.install\r\n```\r\n  \r\nand follow the output url, and grant permissions (via the web browser),\r\ninput Enter verification code,then there is a error:  \r\n```\r\nTraceback (most recent call last):\r\n  File \"api_practice.py\", line 7, in <module>\r\n    gauth.CommandLineAuth()\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pydrive\\auth.py\", line 125, i\r\nn _decorated\r\n    self.Auth(code)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pydrive\\auth.py\", line 495, i\r\nn Auth\r\n    self.Authenticate(code)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pydrive\\auth.py\", line 508, i\r\nn Authenticate\r\n    self.credentials = self.flow.step2_exchange(code)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\oauth2client\\_helpers.py\", li\r\nne 133, in positional_wrapper\r\n    return wrapped(*args, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\oauth2client\\client.py\", line\r\n 2054, in step2_exchange\r\n    http, self.token_uri, method='POST', body=body, headers=headers)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\oauth2client\\transport.py\", l\r\nine 282, in request\r\n    connection_type=connection_type)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\httplib2\\__init__.py\", line 1\r\n514, in request\r\n    (response, content) = self._request(conn, authority, uri, request_uri, metho\r\nd, body, headers, redirections, cachekey)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\httplib2\\__init__.py\", line 1\r\n264, in _request\r\n    (response, content) = self._conn_request(conn, request_uri, method, body, he\r\naders)\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\httplib2\\__init__.py\", line 1\r\n187, in _conn_request\r\n    conn.connect()\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\httplib2\\__init__.py\", line 1\r\n050, in connect\r\n    raise socket_err\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\httplib2\\__init__.py\", line 1\r\n011, in connect\r\n    sock.connect((self.host, self.port))\r\nTimeoutError: [WinError 10060] \u63a5\u7d9a\u6e08\u307f\u306e\u547c\u3073\u51fa\u3057\u5148\u304c\u4e00\u5b9a\u306e\u6642\u9593\u3092\u904e\u304e\u3066\u3082\u6b63\u3057\u304f\r\n\u5fdc\u7b54\u3057\u306a\u304b\u3063\u305f\u305f\u3081\u3001\u63a5\u7d9a\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002\u307e\u305f\u306f\u63a5\u7d9a\u6e08\u307f\u306e\u30db\u30b9\u30c8\u304c\u5fdc\u7b54\u3057\u306a\u304b\u3063\u305f\r\n\u305f\u3081\u3001\u78ba\u7acb\u3055\u308c\u305f\u63a5\u7d9a\u306f\u5931\u6557\u3057\u307e\u3057\u305f\u3002\r\n```\r\nI have tried two method to solute this problem,but Useless\r\n a. maybe it's a proxy problem,I tried add proxy setting into basic code\u2192same err\r\n b. I tried make a new client_id and client_secret\u2192same err\r\n\r\nDoes anyone have any ideas what is going on here?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/253", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/253/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/253/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/253/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/253", "id": 319506511, "node_id": "MDU6SXNzdWUzMTk1MDY1MTE=", "number": 253, "title": "credentials could not be converted to unicode", "user": {"login": "arun542", "id": 16267056, "node_id": "MDQ6VXNlcjE2MjY3MDU2", "avatar_url": "https://avatars1.githubusercontent.com/u/16267056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arun542", "html_url": "https://github.com/arun542", "followers_url": "https://api.github.com/users/arun542/followers", "following_url": "https://api.github.com/users/arun542/following{/other_user}", "gists_url": "https://api.github.com/users/arun542/gists{/gist_id}", "starred_url": "https://api.github.com/users/arun542/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arun542/subscriptions", "organizations_url": "https://api.github.com/users/arun542/orgs", "repos_url": "https://api.github.com/users/arun542/repos", "events_url": "https://api.github.com/users/arun542/events{/privacy}", "received_events_url": "https://api.github.com/users/arun542/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-02T10:59:56Z", "updated_at": "2020-04-07T13:08:07Z", "closed_at": "2018-05-02T11:14:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get my authentication credentials using google.oauth2.credentials, google_auth_oauthlib.flow libraries, then store in my database. when i try to load credentials from database (dictionary) and create object using google.oauth2.credentials.Credentials, them try to run:\r\n\r\nservice = googleapiclient.discovery.build('calendar', 'v3', credentials = credentials)\r\n\r\nit gives me this error:\r\n{0!r} could not be converted to unicode'.format(value)\r\n\r\nI am using python 2.7 and postgress + sqlalchemy database", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/252", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/252/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/252/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/252/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/252", "id": 314849788, "node_id": "MDU6SXNzdWUzMTQ4NDk3ODg=", "number": 252, "title": "Cache/Memcache support", "user": {"login": "samdeepk", "id": 793596, "node_id": "MDQ6VXNlcjc5MzU5Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/793596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samdeepk", "html_url": "https://github.com/samdeepk", "followers_url": "https://api.github.com/users/samdeepk/followers", "following_url": "https://api.github.com/users/samdeepk/following{/other_user}", "gists_url": "https://api.github.com/users/samdeepk/gists{/gist_id}", "starred_url": "https://api.github.com/users/samdeepk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samdeepk/subscriptions", "organizations_url": "https://api.github.com/users/samdeepk/orgs", "repos_url": "https://api.github.com/users/samdeepk/repos", "events_url": "https://api.github.com/users/samdeepk/events{/privacy}", "received_events_url": "https://api.github.com/users/samdeepk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-16T23:13:21Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2018-04-16T23:22:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "We tried using cache, realized the support for cache is not available in google.auth modules. Is using cache improve performance for service account request? \r\n\r\nhttps://developers.google.com/api-client-library/python/guide/performance#cache", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/251", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/251/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/251/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/251", "id": 314333606, "node_id": "MDU6SXNzdWUzMTQzMzM2MDY=", "number": 251, "title": "Authentication fails with Python 2.7", "user": {"login": "frods", "id": 62378, "node_id": "MDQ6VXNlcjYyMzc4", "avatar_url": "https://avatars1.githubusercontent.com/u/62378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frods", "html_url": "https://github.com/frods", "followers_url": "https://api.github.com/users/frods/followers", "following_url": "https://api.github.com/users/frods/following{/other_user}", "gists_url": "https://api.github.com/users/frods/gists{/gist_id}", "starred_url": "https://api.github.com/users/frods/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frods/subscriptions", "organizations_url": "https://api.github.com/users/frods/orgs", "repos_url": "https://api.github.com/users/frods/repos", "events_url": "https://api.github.com/users/frods/events{/privacy}", "received_events_url": "https://api.github.com/users/frods/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": {"login": "theacodes", "id": 250995, "node_id": "MDQ6VXNlcjI1MDk5NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/250995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theacodes", "html_url": "https://github.com/theacodes", "followers_url": "https://api.github.com/users/theacodes/followers", "following_url": "https://api.github.com/users/theacodes/following{/other_user}", "gists_url": "https://api.github.com/users/theacodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/theacodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theacodes/subscriptions", "organizations_url": "https://api.github.com/users/theacodes/orgs", "repos_url": "https://api.github.com/users/theacodes/repos", "events_url": "https://api.github.com/users/theacodes/events{/privacy}", "received_events_url": "https://api.github.com/users/theacodes/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "theacodes", "id": 250995, "node_id": "MDQ6VXNlcjI1MDk5NQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/250995?v=4", "gravatar_id": "", "url": "https://api.github.com/users/theacodes", "html_url": "https://github.com/theacodes", "followers_url": "https://api.github.com/users/theacodes/followers", "following_url": "https://api.github.com/users/theacodes/following{/other_user}", "gists_url": "https://api.github.com/users/theacodes/gists{/gist_id}", "starred_url": "https://api.github.com/users/theacodes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/theacodes/subscriptions", "organizations_url": "https://api.github.com/users/theacodes/orgs", "repos_url": "https://api.github.com/users/theacodes/repos", "events_url": "https://api.github.com/users/theacodes/events{/privacy}", "received_events_url": "https://api.github.com/users/theacodes/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2018-04-14T14:34:56Z", "updated_at": "2020-04-07T13:52:52Z", "closed_at": "2018-05-01T03:20:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running some code that works fine with Python 3.6 but with Python 2.7 I get:\r\n\r\n```\r\n  File \"/Users/philip/github/follower_tracker/venv2.7/lib/python2.7/site-packages/gspread/client.py\", line 122, in open\r\n    self.list_spreadsheet_files()\r\n  File \"/Users/philip/github/follower_tracker/venv2.7/lib/python2.7/site-packages/gspread/client.py\", line 96, in list_spreadsheet_files\r\n    res = self.request('get', url, params=params).json()\r\n  File \"/Users/philip/github/follower_tracker/venv2.7/lib/python2.7/site-packages/gspread/client.py\", line 79, in request\r\n    raise APIError(response)\r\ngspread.exceptions.APIError: {\r\n \"error\": {\r\n  \"errors\": [\r\n   {\r\n    \"domain\": \"global\",\r\n    \"reason\": \"insufficientPermissions\",\r\n    \"message\": \"Insufficient Permission\"\r\n   }\r\n  ],\r\n  \"code\": 403,\r\n  \"message\": \"Insufficient Permission\"\r\n }\r\n}\r\n```\r\n\r\nI am creating the session for gspread with:\r\n\r\n```python\r\n    from google.oauth2 import service_account\r\n    from google.auth.transport.requests import AuthorizedSession\r\n\r\n        scope = ['https://spreadsheets.google.com/feeds']\r\n\r\n        try:\r\n            credentials = \\\r\n                service_account.Credentials.from_service_account_file(\r\n                    self.auth_file)\r\n\r\n            scoped_credentials = credentials.with_scopes(scope)\r\n        except Exception:\r\n            LOGGER.exception(\"Unable to load credentials\")\r\n            return\r\n\r\n        LOGGER.info(\"Writing to spreadsheet: %s\", self.google_sheet)\r\n        gc = gspread.Client(auth=scoped_credentials)\r\n        gc.session = AuthorizedSession(scoped_credentials)\r\n```\r\n\r\nThe auth_file used is what was generated from https://console.developers.google.com/iam-admin/serviceaccounts\r\n\r\nIs this known to not work with Python 2.7 or is a different scope or auth_file needed?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/250", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/250/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/250/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/250/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/250", "id": 310842410, "node_id": "MDU6SXNzdWUzMTA4NDI0MTA=", "number": 250, "title": "PyPI wheel is missing package __init__.py", "user": {"login": "frankthetank", "id": 25971163, "node_id": "MDQ6VXNlcjI1OTcxMTYz", "avatar_url": "https://avatars1.githubusercontent.com/u/25971163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frankthetank", "html_url": "https://github.com/frankthetank", "followers_url": "https://api.github.com/users/frankthetank/followers", "following_url": "https://api.github.com/users/frankthetank/following{/other_user}", "gists_url": "https://api.github.com/users/frankthetank/gists{/gist_id}", "starred_url": "https://api.github.com/users/frankthetank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frankthetank/subscriptions", "organizations_url": "https://api.github.com/users/frankthetank/orgs", "repos_url": "https://api.github.com/users/frankthetank/repos", "events_url": "https://api.github.com/users/frankthetank/events{/privacy}", "received_events_url": "https://api.github.com/users/frankthetank/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-03T13:43:14Z", "updated_at": "2020-04-07T13:52:52Z", "closed_at": "2018-04-03T14:53:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "The wheel packaging posted on PyPi.org for the current version (1.4.1) is missing the top level `__init__.py` and thus cannot be imported properly in my project.\r\n\r\nhttps://pypi.python.org/pypi/google-auth/1.4.1\r\n\r\nThe compressed source does contain the necessary file.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/249", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/249/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/249/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/249/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/249", "id": 309934661, "node_id": "MDU6SXNzdWUzMDk5MzQ2NjE=", "number": 249, "title": "uWSGI - ImportError: No module named google.oauth2.credentials", "user": {"login": "richard-to", "id": 539889, "node_id": "MDQ6VXNlcjUzOTg4OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/539889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richard-to", "html_url": "https://github.com/richard-to", "followers_url": "https://api.github.com/users/richard-to/followers", "following_url": "https://api.github.com/users/richard-to/following{/other_user}", "gists_url": "https://api.github.com/users/richard-to/gists{/gist_id}", "starred_url": "https://api.github.com/users/richard-to/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richard-to/subscriptions", "organizations_url": "https://api.github.com/users/richard-to/orgs", "repos_url": "https://api.github.com/users/richard-to/repos", "events_url": "https://api.github.com/users/richard-to/events{/privacy}", "received_events_url": "https://api.github.com/users/richard-to/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-29T23:29:23Z", "updated_at": "2020-04-07T14:01:55Z", "closed_at": "2018-03-30T03:12:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am developing a Flask app that runs using uwsgi. I'm running into the following error `ImportError: No module named google.oauth2.credentials`.\r\n\r\nWhen I run the Flask app using Flask's builtin dev server, the application runs without issues.\r\n\r\nThe problem seems to stem from how the `google-auth` module is installed. There's no `__init__.py` file in the `google` namespace folder in `site-packages`. I believe this is the intended behavior.\r\n\r\nI'm aware that python3.3 has implicit namespace packaging via PEP-420.\r\n\r\nWhat I'm confused about is how the implicit namespace packaging works in python2.7. Does the installation process via `pip` do something special to make `import google.oauth2.credentials` work?\r\n\r\nI'm also confused about what is different when running python2.7 via uwsgi since the same import does not work.\r\n\r\n-----\r\n\r\nI've also included the following barebones test to reproduce the error.\r\n\r\n**Relevant versions**\r\n\r\n - python 2.7.14\r\n- pip 9.0.3\r\n- uwsgi 2.0.13\r\n- google-auth 1.4.1\r\n  - Installed via pip (not using virtualenv)\r\n\r\n**test.ini**\r\n\r\n    [uwsgi]\r\n    socket = 0.0.0.0:5001\r\n    plugins-dir = /usr/lib/uwsgi/\r\n    plugins = python\r\n    protocol = uwsgi\r\n    pythonpath = /usr/local/lib/python2.7/site-packages\r\n    callable = app\r\n    max-requests = 1000\r\n    master = True\r\n    lazy-apps = True\r\n    processes = 1\r\n\r\n**test.py**\r\n\r\n    import google.oauth2.credentials\r\n\r\n**working command**\r\n\r\n    python test.py\r\n\r\n**failing command**\r\n\r\n    uwsgi --ini test.ini --wsgi-file test.py\r\n\r\n**failing result**\r\n\r\nWhen I run the above command, the program will fail due to the following ImportError.\r\n\r\n    Traceback (most recent call last):\r\n      File \"test.py\", line 1, in <module>\r\n        import google.oauth2.credentials\r\n    ImportError: No module named google.oauth2.credentials\r\n\r\n----\r\n\r\n**Workaround**\r\n\r\nOne way I got the google namespace import to work was by doing this:\r\n\r\n\r\n    import site\r\n    site.addsitedir('/usr/local/lib/python2.7/site-packages')\r\n    \r\n    import google.oauth2.credentials\r\n\r\nI wonder why site-packages is not already added when using uwsgi.\r\n\r\nI got the hint to try `site.addistedir` from this answer: https://stackoverflow.com/a/15209116/177646\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/248", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/248/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/248/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/248", "id": 306349644, "node_id": "MDU6SXNzdWUzMDYzNDk2NDQ=", "number": 248, "title": "Credentials property for NDB from oauth2client unsupported", "user": {"login": "christophe-riolo", "id": 743608, "node_id": "MDQ6VXNlcjc0MzYwOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/743608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/christophe-riolo", "html_url": "https://github.com/christophe-riolo", "followers_url": "https://api.github.com/users/christophe-riolo/followers", "following_url": "https://api.github.com/users/christophe-riolo/following{/other_user}", "gists_url": "https://api.github.com/users/christophe-riolo/gists{/gist_id}", "starred_url": "https://api.github.com/users/christophe-riolo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/christophe-riolo/subscriptions", "organizations_url": "https://api.github.com/users/christophe-riolo/orgs", "repos_url": "https://api.github.com/users/christophe-riolo/repos", "events_url": "https://api.github.com/users/christophe-riolo/events{/privacy}", "received_events_url": "https://api.github.com/users/christophe-riolo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-03-19T06:47:24Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2018-03-19T15:59:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nIm my project I am making use of those features from oauth2client:\r\nhttps://developers.google.com/api-client-library/python/guide/google_app_engine#credentials\r\nhttps://developers.google.com/api-client-library/python/guide/google_app_engine#storage\r\n\r\nAlas, upon reporting a bug I saw that the library was deprecated, but I did not find an equivalent here.\r\n\r\nI will also at the same time report said bug here in case you will be porting the code.\r\nWhen the credentials are stored in an entity that has a `parent`, you need to specify the parent to be able to retrieve the entity (see https://cloud.google.com/appengine/docs/standard/python/ndb/modelclass#class_methods method `get_by_id`). It is however impossible to specify the parent when using StorageByKeyName so the credentials are impossible to retrieve from entities that have a parent.\r\n\r\nThank you for the very clear and useful library.\r\n\r\nChristophe", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/247", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/247/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/247/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/247/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/247", "id": 306005746, "node_id": "MDU6SXNzdWUzMDYwMDU3NDY=", "number": 247, "title": "google Sheets API docs use oauth2client", "user": {"login": "bergey", "id": 251106, "node_id": "MDQ6VXNlcjI1MTEwNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/251106?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bergey", "html_url": "https://github.com/bergey", "followers_url": "https://api.github.com/users/bergey/followers", "following_url": "https://api.github.com/users/bergey/following{/other_user}", "gists_url": "https://api.github.com/users/bergey/gists{/gist_id}", "starred_url": "https://api.github.com/users/bergey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bergey/subscriptions", "organizations_url": "https://api.github.com/users/bergey/orgs", "repos_url": "https://api.github.com/users/bergey/repos", "events_url": "https://api.github.com/users/bergey/events{/privacy}", "received_events_url": "https://api.github.com/users/bergey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 957900482, "node_id": "MDU6TGFiZWw5NTc5MDA0ODI=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/type:%20docs", "name": "type: docs", "color": "0000A0", "default": false, "description": "Improvement to the documentation for an API."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-03-16T17:01:37Z", "updated_at": "2018-10-11T16:30:09Z", "closed_at": "2018-08-08T21:04:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://developers.google.com/sheets/api/quickstart/python\r\n\r\nonly shows use of `oauth2client`, not `google.auth`.  [google-auth docs](https://google-auth.readthedocs.io/en/latest/oauth2client-deprecation.html) suggest this is the correct place to report this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/246", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/246/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/246/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/246", "id": 303861421, "node_id": "MDU6SXNzdWUzMDM4NjE0MjE=", "number": 246, "title": "google.auth.exceptions.RefreshError: Internal Failure. Random exception with a few concurrent authentications with service account in json file", "user": {"login": "kosmiciatakuja", "id": 9477296, "node_id": "MDQ6VXNlcjk0NzcyOTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/9477296?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kosmiciatakuja", "html_url": "https://github.com/kosmiciatakuja", "followers_url": "https://api.github.com/users/kosmiciatakuja/followers", "following_url": "https://api.github.com/users/kosmiciatakuja/following{/other_user}", "gists_url": "https://api.github.com/users/kosmiciatakuja/gists{/gist_id}", "starred_url": "https://api.github.com/users/kosmiciatakuja/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kosmiciatakuja/subscriptions", "organizations_url": "https://api.github.com/users/kosmiciatakuja/orgs", "repos_url": "https://api.github.com/users/kosmiciatakuja/repos", "events_url": "https://api.github.com/users/kosmiciatakuja/events{/privacy}", "received_events_url": "https://api.github.com/users/kosmiciatakuja/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-03-09T14:36:36Z", "updated_at": "2020-04-07T13:14:01Z", "closed_at": "2018-05-24T20:33:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm running a couple of concurrent Google Speech requests and quite frequently an exception occurs with the following traceback:\r\n\r\n```\r\nERROR:root:AuthMetadataPluginCallback \"<google.auth.transport.grpc.AuthMetadataPlugin object at 0x7f5ce8fd20f0>\" raised exception!\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/grpc/_plugin_wrapping.py\", line 77, in __call__\r\n    callback_state, callback))\r\n  File \"/usr/lib/python3.6/site-packages/google/auth/transport/grpc.py\", line 77, in __call__\r\n    callback(self._get_authorization_headers(context), None)\r\n  File \"/usr/lib/python3.6/site-packages/google/auth/transport/grpc.py\", line 65, in _get_authorization_headers\r\n    headers)\r\n  File \"/usr/lib/python3.6/site-packages/google/auth/credentials.py\", line 121, in before_request\r\n    self.refresh(request)\r\n  File \"/usr/lib/python3.6/site-packages/google/oauth2/service_account.py\", line 322, in refresh\r\n    request, self._token_uri, assertion)\r\n  File \"/usr/lib/python3.6/site-packages/google/oauth2/_client.py\", line 145, in jwt_grant\r\n    response_data = _token_endpoint_request(request, token_uri, body)\r\n  File \"/usr/lib/python3.6/site-packages/google/oauth2/_client.py\", line 111, in _token_endpoint_request\r\n    _handle_error_response(response_body)\r\n  File \"/usr/lib/python3.6/site-packages/google/oauth2/_client.py\", line 61, in _handle_error_response\r\n    error_details, response_body)\r\ngoogle.auth.exceptions.RefreshError: ('internal_failure: None', '{\\n  \"error\" : \"internal_failure\"\\n}')\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/site-packages/google/api_core/grpc_helpers.py\", line 54, in error_remapped_callable\r\n    return callable_(*args, **kwargs)\r\n  File \"/usr/lib/python3.6/site-packages/grpc/_channel.py\", line 341, in _next\r\n    raise self\r\ngrpc._channel._Rendezvous: <_Rendezvous of RPC that terminated with (StatusCode.UNAVAILABLE, Getting metadata from plugin failed with error: ('internal_failure: None', '{\\n  \"error\" : \"internal_failure\"\\n}'))>\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"/var/lib/asterisk/agi-bin/agi_devel/gasr.py\", line 112, in <module>\r\n    for response in responses:\r\n  File \"/usr/lib/python3.6/site-packages/grpc/_channel.py\", line 347, in __next__\r\n    return self._next()\r\n  File \"/usr/lib/python3.6/site-packages/google/api_core/grpc_helpers.py\", line 56, in error_remapped_callable\r\n    six.raise_from(exceptions.from_grpc_error(exc), exc)\r\n  File \"<string>\", line 3, in raise_from\r\ngoogle.api_core.exceptions.ServiceUnavailable: 503 Getting metadata from plugin failed with error: ('internal_failure: None', '{\\n  \"error\" : \"internal_failure\"\\n}')\r\n```\r\n\r\nAuthentication is handled with a service account and a json file. Here's the relevant code bit, it's not much:\r\n\r\n```\r\nos.environ[\"GOOGLE_APPLICATION_CREDENTIALS\"] = \"/home/arch/agi/google_service_account.json\"\r\nfrom google.cloud import speech\r\nspeech = speech.SpeechClient()\r\n```\r\n\r\nThe issue is somewhat random, but only appears when there are a couple of concurrent recognition requests. It never got it when running one request at a time.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/242", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/242/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/242/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/242", "id": 296043977, "node_id": "MDU6SXNzdWUyOTYwNDM5Nzc=", "number": 242, "title": "DefaultCredentialsError if project in env but not credentials", "user": {"login": "max-sixty", "id": 5635139, "node_id": "MDQ6VXNlcjU2MzUxMzk=", "avatar_url": "https://avatars0.githubusercontent.com/u/5635139?v=4", "gravatar_id": "", "url": "https://api.github.com/users/max-sixty", "html_url": "https://github.com/max-sixty", "followers_url": "https://api.github.com/users/max-sixty/followers", "following_url": "https://api.github.com/users/max-sixty/following{/other_user}", "gists_url": "https://api.github.com/users/max-sixty/gists{/gist_id}", "starred_url": "https://api.github.com/users/max-sixty/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/max-sixty/subscriptions", "organizations_url": "https://api.github.com/users/max-sixty/orgs", "repos_url": "https://api.github.com/users/max-sixty/repos", "events_url": "https://api.github.com/users/max-sixty/events{/privacy}", "received_events_url": "https://api.github.com/users/max-sixty/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-02-09T23:29:55Z", "updated_at": "2020-04-07T13:11:04Z", "closed_at": "2018-02-12T16:27:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "We use a custom method to get credentials (we need to pass them in through env variables). I think that the library prevents us from using the `GOOGLE_CLOUD_PROJECT` env var - is that right?\r\n\r\nSpecifically: when initializing a client, the library attempts to find a default project (`> /usr/local/lib/python2.7/dist-packages/google/cloud/_helpers.py(179)_determine_default_project()`), and calls `google.auth.default()`. \r\n\r\nThat function only uses `explicit_project_id` if it can find credentials:\r\n\r\n```python\r\n    258     from google.auth.credentials import with_scopes_if_required\r\n    259\r\n    260     explicit_project_id = os.environ.get(\r\n    261         environment_vars.PROJECT,\r\n    262         os.environ.get(environment_vars.LEGACY_PROJECT))\r\n    263\r\n    264     checkers = (\r\n    265         _get_explicit_environ_credentials,\r\n    266         _get_gcloud_sdk_credentials,\r\n    267         _get_gae_credentials,\r\n    268         lambda: _get_gce_credentials(request))\r\n    269\r\n    270     for checker in checkers:\r\n    271         credentials, project_id = checker()\r\n# credentials are always none if there are no credentials in environment...\r\n    272         if credentials is not None:\r\n    273             credentials = with_scopes_if_required(credentials, scopes)\r\n# ...so this line is never reached, and explicit_project_id isn't used\r\n    274             effective_project_id = explicit_project_id or project_id\r\n    275             if not effective_project_id:\r\n    276                 _LOGGER.warning(\r\n    277                     'No project ID could be determined. Consider running '\r\n    278                     '`gcloud config set project` or setting the %s '\r\n    279                     'environment variable',\r\n    280                     environment_vars.PROJECT)\r\n    281             return credentials, effective_project_id\r\n    282\r\n--> 283     raise exceptions.DefaultCredentialsError(_HELP_MESSAGE)\r\n```\r\n\r\nIs this intended? We can pull `GOOGLE_CLOUD_PROJECT` manually and pass that in, though the auto-fallback to the env var is a bit of convenience", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/241", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/241/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/241/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/241/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/241", "id": 295995776, "node_id": "MDU6SXNzdWUyOTU5OTU3NzY=", "number": 241, "title": "AttributeError: module 'google.auth.transport' has no attribute 'requests'", "user": {"login": "hiranya911", "id": 2375201, "node_id": "MDQ6VXNlcjIzNzUyMDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/2375201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hiranya911", "html_url": "https://github.com/hiranya911", "followers_url": "https://api.github.com/users/hiranya911/followers", "following_url": "https://api.github.com/users/hiranya911/following{/other_user}", "gists_url": "https://api.github.com/users/hiranya911/gists{/gist_id}", "starred_url": "https://api.github.com/users/hiranya911/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hiranya911/subscriptions", "organizations_url": "https://api.github.com/users/hiranya911/orgs", "repos_url": "https://api.github.com/users/hiranya911/repos", "events_url": "https://api.github.com/users/hiranya911/events{/privacy}", "received_events_url": "https://api.github.com/users/hiranya911/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-09T20:06:02Z", "updated_at": "2020-04-06T17:51:20Z", "closed_at": "2018-02-09T20:25:11Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm seeing the following error in some environments:\r\n\r\nPython 3.6.1 on Mac (With or without virtualenv)\r\n```\r\n>>> from google.auth import transport\r\n>>> transport.requests.AuthorizedSession(None)\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nAttributeError: module 'google.auth.transport' has no attribute 'requests'\r\n```\r\n\r\nIt sometimes work (even on the same machine).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/239", "repository_url": "https://api.github.com/repos/googleapis/google-auth-library-python", "labels_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/239/labels{/name}", "comments_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/239/comments", "events_url": "https://api.github.com/repos/googleapis/google-auth-library-python/issues/239/events", "html_url": "https://github.com/googleapis/google-auth-library-python/issues/239", "id": 295617939, "node_id": "MDU6SXNzdWUyOTU2MTc5Mzk=", "number": 239, "title": "Why google.auth.transport.secure_authorized_channel() needs a Request object?", "user": {"login": "fengli79", "id": 20803483, "node_id": "MDQ6VXNlcjIwODAzNDgz", "avatar_url": "https://avatars2.githubusercontent.com/u/20803483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fengli79", "html_url": "https://github.com/fengli79", "followers_url": "https://api.github.com/users/fengli79/followers", "following_url": "https://api.github.com/users/fengli79/following{/other_user}", "gists_url": "https://api.github.com/users/fengli79/gists{/gist_id}", "starred_url": "https://api.github.com/users/fengli79/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fengli79/subscriptions", "organizations_url": "https://api.github.com/users/fengli79/orgs", "repos_url": "https://api.github.com/users/fengli79/repos", "events_url": "https://api.github.com/users/fengli79/events{/privacy}", "received_events_url": "https://api.github.com/users/fengli79/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 958354231, "node_id": "MDU6TGFiZWw5NTgzNTQyMzE=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/:rotating_light:", "name": ":rotating_light:", "color": "FFFFFF", "default": false, "description": "This issue needs some love."}, {"id": 958354228, "node_id": "MDU6TGFiZWw5NTgzNTQyMjg=", "url": "https://api.github.com/repos/googleapis/google-auth-library-python/labels/triage%20me", "name": "triage me", "color": "FF69B4", "default": false, "description": "I really want to be triaged."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-02-08T18:26:13Z", "updated_at": "2020-04-07T13:08:08Z", "closed_at": "2018-02-08T18:27:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using google.auth.transport.secure_authorized_channel(), I have to specify a Request() object. Why it's required?", "performed_via_github_app": null, "score": 1.0}]}