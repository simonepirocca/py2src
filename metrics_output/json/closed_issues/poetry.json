{"total_count": 1342, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/python-poetry/poetry/issues/2840", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2840/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2840/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2840/events", "html_url": "https://github.com/python-poetry/poetry/issues/2840", "id": 683414267, "node_id": "MDU6SXNzdWU2ODM0MTQyNjc=", "number": 2840, "title": "python requirement ^3.6 does not match packages on pypi.org with \"Python >=3.6, <3.7\"", "user": {"login": "kalfa", "id": 349408, "node_id": "MDQ6VXNlcjM0OTQwOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/349408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kalfa", "html_url": "https://github.com/kalfa", "followers_url": "https://api.github.com/users/kalfa/followers", "following_url": "https://api.github.com/users/kalfa/following{/other_user}", "gists_url": "https://api.github.com/users/kalfa/gists{/gist_id}", "starred_url": "https://api.github.com/users/kalfa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kalfa/subscriptions", "organizations_url": "https://api.github.com/users/kalfa/orgs", "repos_url": "https://api.github.com/users/kalfa/repos", "events_url": "https://api.github.com/users/kalfa/events{/privacy}", "received_events_url": "https://api.github.com/users/kalfa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-21T09:05:53Z", "updated_at": "2020-08-21T10:21:00Z", "closed_at": "2020-08-21T09:32:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x ] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x ] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: Linux Centos 7\r\n- **Poetry version**: 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/kalfa/c50ee1342f8ddb732389f58375586682\r\n\r\nGiven the linked pyproject, when add dataclasses, it fails \r\n```poetry add -vvv dataclasses\r\nsing virtualenv: /users/kalfa/Sources/gitlab-ci/.venv\r\nPyPI: 7 packages found for dataclasses *\r\nUsing version ^0.7 for dataclasses\r\n\r\nUpdating dependencies\r\nResolving dependencies...\r\n   1: fact: my-poetry-package is 0.0.1\r\n   1: derived: my-poetry-package\r\n   1: fact: my-poetry-package depends on dataclasses (^0.7)\r\n   1: selecting my-poetry-package (0.0.1)\r\n   1: derived: dataclasses (^0.7)\r\nPyPI: 1 packages found for dataclasses >=0.7,<0.8\r\n   1: fact: dataclasses (0.7) requires Python >=3.6, <3.7\r\n   1: derived: not dataclasses (0.7)\r\n   1: fact: no versions of dataclasses match >0.7,<0.8\r\n   1: conflict: no versions of dataclasses match >0.7,<0.8\r\n   1: ! dataclasses (>0.7,<0.8) is partially satisfied by not dataclasses (0.7)\r\n   1: ! which is caused by \"dataclasses (0.7) requires Python >=3.6, <3.7\"\r\n   1: ! thus: dataclasses is forbidden\r\n   1: ! dataclasses (>=0.7,<0.8) is satisfied by dataclasses (^0.7)\r\n   1: ! which is caused by \"my-poetry-package depends on dataclasses (^0.7)\"\r\n   1: ! thus: version solving failed\r\n   1: Version solving took 0.028 seconds.\r\n   1: Tried 1 solutions.\r\n\r\n[SolverProblemError]\r\nThe current project's Python requirement (^3.6) is not compatible with some of the required packages Python requirement:\r\n  - dataclasses requires Python >=3.6, <3.7\r\n\r\nBecause no versions of dataclasses match >0.7,<0.8\r\n and dataclasses (0.7) requires Python >=3.6, <3.7, dataclasses is forbidden.\r\nSo, because my-poetry-package depends on dataclasses (^0.7), version solving failed.\r\n\r\nTraceback (most recent call last):\r\n  File \"/users/kalfa/.local/lib/python3.6/site-packages/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/users/kalfa/.local/lib/python3.6/site-packages/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/users/kalfa/.local/lib/python3.6/site-packages/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/users/kalfa/.local/lib/python3.6/site-packages/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/users/kalfa/.local/lib/python3.6/site-packages/poetry/console/commands/add.py\", line 156, in handle\r\n    status = installer.run()\r\n  File \"/users/kalfa/.local/lib/python3.6/site-packages/poetry/installation/installer.py\", line 74, in run\r\n    self._do_install(local_repo)\r\n  File \"/users/kalfa/.local/lib/python3.6/site-packages/poetry/installation/installer.py\", line 161, in _do_install\r\n    ops = solver.solve(use_latest=self._whitelist)\r\n  File \"/users/kalfa/.local/lib/python3.6/site-packages/poetry/puzzle/solver.py\", line 36, in solve\r\n    packages, depths = self._solve(use_latest=use_latest)\r\n  File \"/users/kalfa/.local/lib/python3.6/site-packages/poetry/puzzle/solver.py\", line 190, in _solve\r\n    raise SolverProblemError(e)\r\n```\r\n\r\nmy python requirement from pyproject.toml is\r\n```python = \"^3.6\"```\r\nwhich means \">=3.6.0, <4.0.0\" AIUI (<https://python-poetry.org/docs/dependency-specification/#caret-requirements>)\r\n\r\nfrom pypi.org, dataclasses 0.7 reqs are (<https://pypi.org/project/dataclasses/>):\r\n\"Python >=3.6, <3.7\"\r\nwhile 0.6 have not this stricter requirements\r\n\r\nit seems that 3.6.0 != 3.6 ?\r\n\r\n**Expectations**\r\n\r\nI have two expectations:\r\n- the dataclass 0.7 python requirement should be met (primary expectation with dataclasses reqs specifically), there is an inetersection in the allowed versions.\r\n\r\n- in general, in the case the latest version cannot match, but there is an earlier version which matches the requirements\r\n  ```poetry add dataclasses``` should select this, in this case it would be 0.6. in fact ```poetry add dataclassess==0.6``` works. from https://python-poetry.org/docs/cli/#add  \"If you do not specify a version constraint, poetry will choose a suitable one based on the available package versions.\"\r\n\r\nso there should be an intersection, which is the full range of allowed versions of dataclasses", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2838", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2838/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2838/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2838/events", "html_url": "https://github.com/python-poetry/poetry/issues/2838", "id": 682618443, "node_id": "MDU6SXNzdWU2ODI2MTg0NDM=", "number": 2838, "title": "UnexpectedCharError when executing poetry commands", "user": {"login": "andymcarter", "id": 22293319, "node_id": "MDQ6VXNlcjIyMjkzMzE5", "avatar_url": "https://avatars2.githubusercontent.com/u/22293319?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andymcarter", "html_url": "https://github.com/andymcarter", "followers_url": "https://api.github.com/users/andymcarter/followers", "following_url": "https://api.github.com/users/andymcarter/following{/other_user}", "gists_url": "https://api.github.com/users/andymcarter/gists{/gist_id}", "starred_url": "https://api.github.com/users/andymcarter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andymcarter/subscriptions", "organizations_url": "https://api.github.com/users/andymcarter/orgs", "repos_url": "https://api.github.com/users/andymcarter/repos", "events_url": "https://api.github.com/users/andymcarter/events{/privacy}", "received_events_url": "https://api.github.com/users/andymcarter/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-20T10:52:43Z", "updated_at": "2020-08-21T08:39:34Z", "closed_at": "2020-08-21T08:39:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **MacOS 10.15.5, python 3.8.3**: <!-- Replace with version + name -->\r\n- **1.0.10**: <!-- Replace with version -->\r\n- **gist: https://gist.github.com/andymcarter/10bc0073468b1a4c13611b7b7523fdd1**: <!-- Gist Link Here -->\r\n\r\n## Issue\r\nAlmost any `poetry` commands suddenly result in an UnexpectedCharError, so unable to add packages to existing environments or create new environments. Have installed latest poetry beta to try and solve the issue but no luck. Even a very basic pyproject.toml file causes this issue.\r\n\r\n```python-traceback\r\n[UnexpectedCharError]\r\nUnexpected character: u'\\n' at line 4 col 5\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/clikit/api/command/command.py\", line 163, in _do_handle\r\n    self._dispatcher.dispatch(PRE_HANDLE, event)\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/clikit/api/event/event_dispatcher.py\", line 22, in dispatch\r\n    self._do_dispatch(listeners, event_name, event)\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/clikit/api/event/event_dispatcher.py\", line 89, in _do_dispatch\r\n    listener(event, event_name, self)\r\n  File \"/Users/andycarter/.poetry/lib/poetry/console/config/application_config.py\", line 92, in set_env\r\n    env = env_manager.create_venv(io)\r\n  File \"/Users/andycarter/.poetry/lib/poetry/utils/env.py\", line 490, in create_venv\r\n    env = self.get(reload=True)\r\n  File \"/Users/andycarter/.poetry/lib/poetry/utils/env.py\", line 314, in get\r\n    envs = envs_file.read()\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/tomlkit/toml_file.py\", line 20, in read\r\n    return loads(f.read())\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/tomlkit/api.py\", line 34, in loads\r\n    return parse(string)\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/tomlkit/api.py\", line 51, in parse\r\n    return Parser(string).parse()\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/tomlkit/parser.py\", line 153, in parse\r\n    key, value = self._parse_table()\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/tomlkit/parser.py\", line 1056, in _parse_table\r\n    item = self._parse_item()\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/tomlkit/parser.py\", line 302, in _parse_item\r\n    return self._parse_key_value(True)\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/tomlkit/parser.py\", line 387, in _parse_key_value\r\n    val = self._parse_value()\r\n  File \"/Users/andycarter/.poetry/lib/poetry/_vendor/py2.7/tomlkit/parser.py\", line 602, in _parse_value\r\n    raise self.parse_error(UnexpectedCharError, c)\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2824", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2824/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2824/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2824/events", "html_url": "https://github.com/python-poetry/poetry/issues/2824", "id": 680488653, "node_id": "MDU6SXNzdWU2ODA0ODg2NTM=", "number": 2824, "title": "Parsing error whenever specifying url and optional inside dependency", "user": {"login": "evilyach", "id": 32909326, "node_id": "MDQ6VXNlcjMyOTA5MzI2", "avatar_url": "https://avatars2.githubusercontent.com/u/32909326?v=4", "gravatar_id": "", "url": "https://api.github.com/users/evilyach", "html_url": "https://github.com/evilyach", "followers_url": "https://api.github.com/users/evilyach/followers", "following_url": "https://api.github.com/users/evilyach/following{/other_user}", "gists_url": "https://api.github.com/users/evilyach/gists{/gist_id}", "starred_url": "https://api.github.com/users/evilyach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/evilyach/subscriptions", "organizations_url": "https://api.github.com/users/evilyach/orgs", "repos_url": "https://api.github.com/users/evilyach/repos", "events_url": "https://api.github.com/users/evilyach/events{/privacy}", "received_events_url": "https://api.github.com/users/evilyach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1963888540, "node_id": "MDU6TGFiZWwxOTYzODg4NTQw", "url": "https://api.github.com/repos/python-poetry/poetry/labels/need/core-next", "name": "need/core-next", "color": "7fbcd1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/python-poetry/poetry/milestones/3", "html_url": "https://github.com/python-poetry/poetry/milestone/3", "labels_url": "https://api.github.com/repos/python-poetry/poetry/milestones/3/labels", "id": 5081070, "node_id": "MDk6TWlsZXN0b25lNTA4MTA3MA==", "number": 3, "title": "1.1", "description": "", "creator": {"login": "sdispater", "id": 555648, "node_id": "MDQ6VXNlcjU1NTY0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/555648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdispater", "html_url": "https://github.com/sdispater", "followers_url": "https://api.github.com/users/sdispater/followers", "following_url": "https://api.github.com/users/sdispater/following{/other_user}", "gists_url": "https://api.github.com/users/sdispater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdispater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdispater/subscriptions", "organizations_url": "https://api.github.com/users/sdispater/orgs", "repos_url": "https://api.github.com/users/sdispater/repos", "events_url": "https://api.github.com/users/sdispater/events{/privacy}", "received_events_url": "https://api.github.com/users/sdispater/received_events", "type": "User", "site_admin": false}, "open_issues": 15, "closed_issues": 33, "state": "open", "created_at": "2020-02-07T08:39:51Z", "updated_at": "2020-08-20T18:59:14Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2020-08-17T19:55:19Z", "updated_at": "2020-08-17T20:04:51Z", "closed_at": "2020-08-17T20:04:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "- **OS version and name**: Ubuntu 20.04 (Linux 5.4.0-42-generic)\r\n- **Poetry version**: 1.0.10, 1.1.0b2, master branch\r\n- **Link of a [Gist](https://gist.github.com/evilyach/03ac35b933d510a2b7bb15cac704e3ab) with the contents of your pyproject.toml file**:\r\n## Issue\r\nWhenever you have `url` and `optional` inside the same dependency, it crashes when trying to install the built wheel. The gist is available above.\r\n\r\nThe listings of logs:\r\n```bash\r\n$ poetry build\r\nBuilding test-repo (0.1.0)\r\n - Building sdist\r\n - Built test-repo-0.1.0.tar.gz\r\n\r\n - Building wheel\r\n - Built test_repo-0.1.0-py3-none-any.whl\r\n\r\n$ pip3 install dist/test_repo-0.1.0-py3-none-any.whl\r\nProcessing ./dist/test_repo-0.1.0-py3-none-any.whl\r\nERROR: Exception:\r\nTraceback (most recent call last):\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 3021, in _dep_map\r\n    return self.__dep_map\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 2815, in __getattr__\r\n    raise AttributeError(attr)\r\nAttributeError: _DistInfoDistribution__dep_map\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/_vendor/packaging/requirements.py\", line 90, in __init__\r\n    req = REQUIREMENT.parseString(requirement_string)\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/_vendor/pyparsing.py\", line 1654, in parseString\r\n    raise exc\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/_vendor/pyparsing.py\", line 1644, in parseString\r\n    loc, tokens = self._parse( instring, 0 )\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/_vendor/pyparsing.py\", line 1402, in _parseNoCache\r\n    loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/_vendor/pyparsing.py\", line 3417, in parseImpl\r\n    loc, exprtokens = e._parse( instring, loc, doActions )\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/_vendor/pyparsing.py\", line 1406, in _parseNoCache\r\n    loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/_vendor/pyparsing.py\", line 3205, in parseImpl\r\n    raise ParseException(instring, loc, self.errmsg, self)\r\npkg_resources._vendor.pyparsing.ParseException: Expected stringEnd (at char 149), (line:1, col:150)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 3101, in __init__\r\n    super(Requirement, self).__init__(requirement_string)\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/_vendor/packaging/requirements.py\", line 92, in __init__\r\n    raise InvalidRequirement(\r\npkg_resources.extern.packaging.requirements.InvalidRequirement: Invalid requirement, parse error at \"'extra =='\"\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/evilyach/dev/test-repo/venv/lib/python3.8/site-packages/pip/_internal/cli/base_command.py\", line 186, in _main\r\n    status = self.run(options, args)\r\n  File \"/home/evilyach/dev/test-repo/venv/lib/python3.8/site-packages/pip/_internal/commands/install.py\", line 357, in run\r\n    resolver.resolve(requirement_set)\r\n  File \"/home/evilyach/dev/test-repo/venv/lib/python3.8/site-packages/pip/_internal/legacy_resolve.py\", line 177, in resolve\r\n    discovered_reqs.extend(self._resolve_one(requirement_set, req))\r\n  File \"/home/evilyach/dev/test-repo/venv/lib/python3.8/site-packages/pip/_internal/legacy_resolve.py\", line 382, in _resolve_one\r\n    set(req_to_install.extras) - set(dist.extras)\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 2978, in extras\r\n    return [dep for dep in self._dep_map if dep]\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 3023, in _dep_map\r\n    self.__dep_map = self._compute_dependencies()\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 3033, in _compute_dependencies\r\n    reqs.extend(parse_requirements(req))\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 3094, in parse_requirements\r\n    yield Requirement(line)\r\n  File \"/home/evilyach/dev/test-repo/venv/share/python-wheels/pkg_resources-0.0.0-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 3103, in __init__\r\n    raise RequirementParseError(str(e))\r\npkg_resources.RequirementParseError: Invalid requirement, parse error at \"'extra =='\"\r\n```\r\n\r\nContents of `PKG-INFO`:\r\n```\r\n cat PKG-INFO\r\nMetadata-Version: 2.1\r\nName: test-repo\r\nVersion: 0.1.0\r\nSummary:\r\nAuthor: Ilya Chesalin\r\nAuthor-email: ilya.chesalin@evilya.ch\r\nRequires-Python: >=3.8,<4.0\r\nClassifier: Programming Language :: Python :: 3\r\nClassifier: Programming Language :: Python :: 3.8\r\nClassifier: Programming Language :: Python :: 3.9\r\nProvides-Extra: json\r\nRequires-Dist: json5 @ https://files.pythonhosted.org/packages/2b/81/22bf51a5bc60dde18bb6164fd597f18ee683de8670e141364d9c432dd3cf/json5-0.9.5-py2.py3-none-any.whl; extra == \"json\"\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2823", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2823/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2823/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2823/events", "html_url": "https://github.com/python-poetry/poetry/issues/2823", "id": 680419019, "node_id": "MDU6SXNzdWU2ODA0MTkwMTk=", "number": 2823, "title": "EnvCommandError: Cannot find `pip-req-build` folder", "user": {"login": "adam-grant-hendry", "id": 59346180, "node_id": "MDQ6VXNlcjU5MzQ2MTgw", "avatar_url": "https://avatars0.githubusercontent.com/u/59346180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adam-grant-hendry", "html_url": "https://github.com/adam-grant-hendry", "followers_url": "https://api.github.com/users/adam-grant-hendry/followers", "following_url": "https://api.github.com/users/adam-grant-hendry/following{/other_user}", "gists_url": "https://api.github.com/users/adam-grant-hendry/gists{/gist_id}", "starred_url": "https://api.github.com/users/adam-grant-hendry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adam-grant-hendry/subscriptions", "organizations_url": "https://api.github.com/users/adam-grant-hendry/orgs", "repos_url": "https://api.github.com/users/adam-grant-hendry/repos", "events_url": "https://api.github.com/users/adam-grant-hendry/events{/privacy}", "received_events_url": "https://api.github.com/users/adam-grant-hendry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-08-17T17:56:40Z", "updated_at": "2020-08-20T04:32:28Z", "closed_at": "2020-08-20T04:32:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Windows 10, vers. 1809\r\n- **Poetry version**: 1.1.0a3\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: <!-- Gist Link Here -->\r\n\r\n## Issue\r\nPoetry fails to add dependencies. I'm using Python 3.7 on Windows. I confirmed the `pip-req-build` folder is not created in `C:\\Users\\example\\AppData\\Local\\Temp\\`. Virtual environment was created using `venv`. My configuration is:\r\n```\r\n(.venv) C:\\Users\\example\\Desktop\\project>poetry config --list\r\ncache-dir = \"C:\\\\Users\\\\example\\\\AppData\\\\Local\\\\pypoetry\\\\Cache\"\r\nexperimental.new-installer = true\r\nvirtualenvs.create = false\r\nvirtualenvs.in-project = true\r\nvirtualenvs.path = \".venv\"\r\n```\r\n\r\nMy `pyproject.toml` is:\r\n```\r\n[tool.poetry]\r\nname = \"project\"\r\nversion = \"0.1.0\"\r\ndescription = \"\"\r\nauthors = [\"adamhendry <adam.grant.hendry@gmail.com>\"]\r\n\r\n[tool.poetry.dependencies]\r\npython = \"^3.7\"\r\npip = \"^20.2.2\"\r\n\r\n[tool.poetry.dev-dependencies]\r\npytest = \"^5.2\"\r\n\r\n[build-system]\r\nrequires = [\"poetry-core>=1.0.0a5\"]\r\nbuild-backend = \"poetry.core.masonry.api\"\r\n```\r\n\r\nMy `poetry.toml` is:\r\n\r\n```\r\n[virtualenvs]\r\npath = \".venv\"\r\n```\r\n\r\nMy `poetry.lock` is:\r\n```\r\n[[package]]\r\ncategory = \"main\"\r\ndescription = \"An abstract syntax tree for Python with inference support.\"\r\nname = \"astroid\"\r\noptional = false\r\npython-versions = \">=3.5\"\r\nversion = \"2.4.2\"\r\n\r\n[package.dependencies]\r\nlazy-object-proxy = \">=1.4.0,<1.5.0\"\r\ntyped-ast = {version = \">=1.4.0,<1.5\", markers = \"implementation_name == \\\"cpython\\\" and python_version < \\\"3.8\\\"\"}\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"Atomic file writes.\"\r\nname = \"atomicwrites\"\r\noptional = false\r\npython-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*\"\r\nversion = \"1.4.0\"\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"Classes Without Boilerplate\"\r\nname = \"attrs\"\r\noptional = false\r\npython-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*\"\r\nversion = \"19.3.0\"\r\n\r\n[package.extras]\r\nazure-pipelines = [\"coverage\", \"hypothesis\", \"pympler\", \"pytest (>=4.3.0)\", \"six\", \"zope.interface\", \"pytest-azurepipelines\"]\r\ndev = [\"coverage\", \"hypothesis\", \"pympler\", \"pytest (>=4.3.0)\", \"six\", \"zope.interface\", \"sphinx\", \"pre-commit\"]\r\ndocs = [\"sphinx\", \"zope.interface\"]\r\ntests = [\"coverage\", \"hypothesis\", \"pympler\", \"pytest (>=4.3.0)\", \"six\", \"zope.interface\"]\r\n\r\n[[package]]\r\ncategory = \"main\"\r\ndescription = \"Cross-platform colored terminal text.\"\r\nname = \"colorama\"\r\noptional = false\r\npython-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, !=3.4.*\"\r\nversion = \"0.4.3\"\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"Read metadata from Python packages\"\r\nname = \"importlib-metadata\"\r\noptional = false\r\npython-versions = \"!=3.0.*,!=3.1.*,!=3.2.*,!=3.3.*,!=3.4.*,>=2.7\"\r\nversion = \"1.7.0\"\r\n\r\n[package.dependencies]\r\nzipp = \">=0.5\"\r\n\r\n[package.extras]\r\ndocs = [\"sphinx\", \"rst.linker\"]\r\ntesting = [\"packaging\", \"pep517\", \"importlib-resources (>=1.3)\"]\r\n\r\n[[package]]\r\ncategory = \"main\"\r\ndescription = \"A Python utility / library to sort Python imports.\"\r\nname = \"isort\"\r\noptional = false\r\npython-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*\"\r\nversion = \"4.3.21\"\r\n\r\n[package.extras]\r\npipfile = [\"pipreqs\", \"requirementslib\"]\r\npyproject = [\"toml\"]\r\nrequirements = [\"pipreqs\", \"pip-api\"]\r\nxdg_home = [\"appdirs (>=1.4.0)\"]\r\n\r\n[[package]]\r\ncategory = \"main\"\r\ndescription = \"A fast and thorough lazy object proxy.\"\r\nname = \"lazy-object-proxy\"\r\noptional = false\r\npython-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*\"\r\nversion = \"1.4.3\"\r\n\r\n[[package]]\r\ncategory = \"main\"\r\ndescription = \"McCabe checker, plugin for flake8\"\r\nname = \"mccabe\"\r\noptional = false\r\npython-versions = \"*\"\r\nversion = \"0.6.1\"\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"More routines for operating on iterables, beyond itertools\"\r\nname = \"more-itertools\"\r\noptional = false\r\npython-versions = \">=3.5\"\r\nversion = \"8.4.0\"\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"Core utilities for Python packages\"\r\nname = \"packaging\"\r\noptional = false\r\npython-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*\"\r\nversion = \"20.4\"\r\n\r\n[package.dependencies]\r\npyparsing = \">=2.0.2\"\r\nsix = \"*\"\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"plugin and hook calling mechanisms for python\"\r\nname = \"pluggy\"\r\noptional = false\r\npython-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*\"\r\nversion = \"0.13.1\"\r\n\r\n[package.dependencies]\r\nimportlib-metadata = {version = \">=0.12\", markers = \"python_version < \\\"3.8\\\"\"}\r\n\r\n[package.extras]\r\ndev = [\"pre-commit\", \"tox\"]\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"library with cross-python path, ini-parsing, io, code, log facilities\"\r\nname = \"py\"\r\noptional = false\r\npython-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*\"\r\nversion = \"1.9.0\"\r\n\r\n[[package]]\r\ncategory = \"main\"\r\ndescription = \"python code static checker\"\r\nname = \"pylint\"\r\noptional = false\r\npython-versions = \">=3.5.*\"\r\nversion = \"2.5.3\"\r\n\r\n[package.dependencies]\r\nastroid = \">=2.4.0,<=2.5\"\r\nisort = \">=4.2.5,<5\"\r\nmccabe = \">=0.6,<0.7\"\r\ntoml = \">=0.7.1\"\r\ncolorama = {version = \"*\", markers = \"sys_platform == \\\"win32\\\"\"}\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"Python parsing module\"\r\nname = \"pyparsing\"\r\noptional = false\r\npython-versions = \">=2.6, !=3.0.*, !=3.1.*, !=3.2.*\"\r\nversion = \"2.4.7\"\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"pytest: simple powerful testing with Python\"\r\nname = \"pytest\"\r\noptional = false\r\npython-versions = \">=3.5\"\r\nversion = \"5.4.3\"\r\n\r\n[package.dependencies]\r\nattrs = \">=17.4.0\"\r\nmore-itertools = \">=4.0.0\"\r\npackaging = \"*\"\r\npluggy = \">=0.12,<1.0\"\r\npy = \">=1.5.0\"\r\nwcwidth = \"*\"\r\natomicwrites = {version = \">=1.0\", markers = \"sys_platform == \\\"win32\\\"\"}\r\ncolorama = {version = \"*\", markers = \"sys_platform == \\\"win32\\\"\"}\r\nimportlib-metadata = {version = \">=0.12\", markers = \"python_version < \\\"3.8\\\"\"}\r\n\r\n[package.extras]\r\ncheckqa-mypy = [\"mypy (v0.761)\"]\r\ntesting = [\"argcomplete\", \"hypothesis (>=3.56)\", \"mock\", \"nose\", \"requests\", \"xmlschema\"]\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"Python 2 and 3 compatibility utilities\"\r\nname = \"six\"\r\noptional = false\r\npython-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*\"\r\nversion = \"1.15.0\"\r\n\r\n[[package]]\r\ncategory = \"main\"\r\ndescription = \"Python Library for Tom's Obvious, Minimal Language\"\r\nname = \"toml\"\r\noptional = false\r\npython-versions = \"*\"\r\nversion = \"0.10.1\"\r\n\r\n[[package]]\r\ncategory = \"main\"\r\ndescription = \"a fork of Python 2 and 3 ast modules with type comment support\"\r\nname = \"typed-ast\"\r\noptional = false\r\npython-versions = \"*\"\r\nversion = \"1.4.1\"\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"Measures the displayed width of unicode strings in a terminal\"\r\nname = \"wcwidth\"\r\noptional = false\r\npython-versions = \"*\"\r\nversion = \"0.2.5\"\r\n\r\n[[package]]\r\ncategory = \"dev\"\r\ndescription = \"Backport of pathlib-compatible object wrapper for zip files\"\r\nname = \"zipp\"\r\noptional = false\r\npython-versions = \">=3.6\"\r\nversion = \"3.1.0\"\r\n\r\n[package.extras]\r\ndocs = [\"sphinx\", \"jaraco.packaging (>=3.2)\", \"rst.linker (>=1.9)\"]\r\ntesting = [\"jaraco.itertools\", \"func-timeout\"]\r\n\r\n[metadata]\r\ncontent-hash = \"0c1ba7c24ba60c2bc2b0b1d105c424fc1a5e31bf5ad5f68aace1328ef16f4974\"\r\npython-versions = \"^3.7\"\r\n\r\n[metadata.files]\r\nastroid = [\r\n    {file = \"astroid-2.4.2-py3-none-any.whl\", hash = \"sha256:bc58d83eb610252fd8de6363e39d4f1d0619c894b0ed24603b881c02e64c7386\"},\r\n    {file = \"astroid-2.4.2.tar.gz\", hash = \"sha256:2f4078c2a41bf377eea06d71c9d2ba4eb8f6b1af2135bec27bbbb7d8f12bb703\"},\r\n]\r\natomicwrites = [\r\n    {file = \"atomicwrites-1.4.0-py2.py3-none-any.whl\", hash = \"sha256:6d1784dea7c0c8d4a5172b6c620f40b6e4cbfdf96d783691f2e1302a7b88e197\"},\r\n    {file = \"atomicwrites-1.4.0.tar.gz\", hash = \"sha256:ae70396ad1a434f9c7046fd2dd196fc04b12f9e91ffb859164193be8b6168a7a\"},\r\n]\r\nattrs = [\r\n    {file = \"attrs-19.3.0-py2.py3-none-any.whl\", hash = \"sha256:08a96c641c3a74e44eb59afb61a24f2cb9f4d7188748e76ba4bb5edfa3cb7d1c\"},\r\n    {file = \"attrs-19.3.0.tar.gz\", hash = \"sha256:f7b7ce16570fe9965acd6d30101a28f62fb4a7f9e926b3bbc9b61f8b04247e72\"},\r\n]\r\ncolorama = [\r\n    {file = \"colorama-0.4.3-py2.py3-none-any.whl\", hash = \"sha256:7d73d2a99753107a36ac6b455ee49046802e59d9d076ef8e47b61499fa29afff\"},\r\n    {file = \"colorama-0.4.3.tar.gz\", hash = \"sha256:e96da0d330793e2cb9485e9ddfd918d456036c7149416295932478192f4436a1\"},\r\n]\r\nimportlib-metadata = [\r\n    {file = \"importlib_metadata-1.7.0-py2.py3-none-any.whl\", hash = \"sha256:dc15b2969b4ce36305c51eebe62d418ac7791e9a157911d58bfb1f9ccd8e2070\"},\r\n    {file = \"importlib_metadata-1.7.0.tar.gz\", hash = \"sha256:90bb658cdbbf6d1735b6341ce708fc7024a3e14e99ffdc5783edea9f9b077f83\"},\r\n]\r\nisort = [\r\n    {file = \"isort-4.3.21-py2.py3-none-any.whl\", hash = \"sha256:6e811fcb295968434526407adb8796944f1988c5b65e8139058f2014cbe100fd\"},\r\n    {file = \"isort-4.3.21.tar.gz\", hash = \"sha256:54da7e92468955c4fceacd0c86bd0ec997b0e1ee80d97f67c35a78b719dccab1\"},\r\n]\r\nlazy-object-proxy = [\r\n    {file = \"lazy-object-proxy-1.4.3.tar.gz\", hash = \"sha256:f3900e8a5de27447acbf900b4750b0ddfd7ec1ea7fbaf11dfa911141bc522af0\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp27-cp27m-macosx_10_13_x86_64.whl\", hash = \"sha256:a2238e9d1bb71a56cd710611a1614d1194dc10a175c1e08d75e1a7bcc250d442\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp27-cp27m-win32.whl\", hash = \"sha256:efa1909120ce98bbb3777e8b6f92237f5d5c8ea6758efea36a473e1d38f7d3e4\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp27-cp27m-win_amd64.whl\", hash = \"sha256:4677f594e474c91da97f489fea5b7daa17b5517190899cf213697e48d3902f5a\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp27-cp27mu-manylinux1_x86_64.whl\", hash = \"sha256:0c4b206227a8097f05c4dbdd323c50edf81f15db3b8dc064d08c62d37e1a504d\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp34-cp34m-manylinux1_x86_64.whl\", hash = \"sha256:d945239a5639b3ff35b70a88c5f2f491913eb94871780ebfabb2568bd58afc5a\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp34-cp34m-win32.whl\", hash = \"sha256:9651375199045a358eb6741df3e02a651e0330be090b3bc79f6d0de31a80ec3e\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp34-cp34m-win_amd64.whl\", hash = \"sha256:eba7011090323c1dadf18b3b689845fd96a61ba0a1dfbd7f24b921398affc357\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp35-cp35m-manylinux1_x86_64.whl\", hash = \"sha256:48dab84ebd4831077b150572aec802f303117c8cc5c871e182447281ebf3ac50\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp35-cp35m-win32.whl\", hash = \"sha256:ca0a928a3ddbc5725be2dd1cf895ec0a254798915fb3a36af0964a0a4149e3db\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp35-cp35m-win_amd64.whl\", hash = \"sha256:194d092e6f246b906e8f70884e620e459fc54db3259e60cf69a4d66c3fda3449\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp36-cp36m-manylinux1_x86_64.whl\", hash = \"sha256:97bb5884f6f1cdce0099f86b907aa41c970c3c672ac8b9c8352789e103cf3156\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp36-cp36m-win32.whl\", hash = \"sha256:cb2c7c57005a6804ab66f106ceb8482da55f5314b7fcb06551db1edae4ad1531\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp36-cp36m-win_amd64.whl\", hash = \"sha256:8d859b89baf8ef7f8bc6b00aa20316483d67f0b1cbf422f5b4dc56701c8f2ffb\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp37-cp37m-macosx_10_13_x86_64.whl\", hash = \"sha256:1be7e4c9f96948003609aa6c974ae59830a6baecc5376c25c92d7d697e684c08\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp37-cp37m-manylinux1_x86_64.whl\", hash = \"sha256:d74bb8693bf9cf75ac3b47a54d716bbb1a92648d5f781fc799347cfc95952383\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp37-cp37m-win32.whl\", hash = \"sha256:9b15f3f4c0f35727d3a0fba4b770b3c4ebbb1fa907dbcc046a1d2799f3edd142\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp37-cp37m-win_amd64.whl\", hash = \"sha256:9254f4358b9b541e3441b007a0ea0764b9d056afdeafc1a5569eee1cc6c1b9ea\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp38-cp38-manylinux1_x86_64.whl\", hash = \"sha256:a6ae12d08c0bf9909ce12385803a543bfe99b95fe01e752536a60af2b7797c62\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp38-cp38-win32.whl\", hash = \"sha256:5541cada25cd173702dbd99f8e22434105456314462326f06dba3e180f203dfd\"},\r\n    {file = \"lazy_object_proxy-1.4.3-cp38-cp38-win_amd64.whl\", hash = \"sha256:59f79fef100b09564bc2df42ea2d8d21a64fdcda64979c0fa3db7bdaabaf6239\"},\r\n]\r\nmccabe = [\r\n    {file = \"mccabe-0.6.1-py2.py3-none-any.whl\", hash = \"sha256:ab8a6258860da4b6677da4bd2fe5dc2c659cff31b3ee4f7f5d64e79735b80d42\"},\r\n    {file = \"mccabe-0.6.1.tar.gz\", hash = \"sha256:dd8d182285a0fe56bace7f45b5e7d1a6ebcbf524e8f3bd87eb0f125271b8831f\"},\r\n]\r\nmore-itertools = [\r\n    {file = \"more-itertools-8.4.0.tar.gz\", hash = \"sha256:68c70cc7167bdf5c7c9d8f6954a7837089c6a36bf565383919bb595efb8a17e5\"},\r\n    {file = \"more_itertools-8.4.0-py3-none-any.whl\", hash = \"sha256:b78134b2063dd214000685165d81c154522c3ee0a1c0d4d113c80361c234c5a2\"},\r\n]\r\npackaging = [\r\n    {file = \"packaging-20.4-py2.py3-none-any.whl\", hash = \"sha256:998416ba6962ae7fbd6596850b80e17859a5753ba17c32284f67bfff33784181\"},\r\n    {file = \"packaging-20.4.tar.gz\", hash = \"sha256:4357f74f47b9c12db93624a82154e9b120fa8293699949152b22065d556079f8\"},\r\n]\r\npluggy = [\r\n    {file = \"pluggy-0.13.1-py2.py3-none-any.whl\", hash = \"sha256:966c145cd83c96502c3c3868f50408687b38434af77734af1e9ca461a4081d2d\"},\r\n    {file = \"pluggy-0.13.1.tar.gz\", hash = \"sha256:15b2acde666561e1298d71b523007ed7364de07029219b604cf808bfa1c765b0\"},\r\n]\r\npy = [\r\n    {file = \"py-1.9.0-py2.py3-none-any.whl\", hash = \"sha256:366389d1db726cd2fcfc79732e75410e5fe4d31db13692115529d34069a043c2\"},\r\n    {file = \"py-1.9.0.tar.gz\", hash = \"sha256:9ca6883ce56b4e8da7e79ac18787889fa5206c79dcc67fb065376cd2fe03f342\"},\r\n]\r\npylint = [\r\n    {file = \"pylint-2.5.3-py3-none-any.whl\", hash = \"sha256:d0ece7d223fe422088b0e8f13fa0a1e8eb745ebffcb8ed53d3e95394b6101a1c\"},\r\n    {file = \"pylint-2.5.3.tar.gz\", hash = \"sha256:7dd78437f2d8d019717dbf287772d0b2dbdfd13fc016aa7faa08d67bccc46adc\"},\r\n]\r\npyparsing = [\r\n    {file = \"pyparsing-2.4.7-py2.py3-none-any.whl\", hash = \"sha256:ef9d7589ef3c200abe66653d3f1ab1033c3c419ae9b9bdb1240a85b024efc88b\"},\r\n    {file = \"pyparsing-2.4.7.tar.gz\", hash = \"sha256:c203ec8783bf771a155b207279b9bccb8dea02d8f0c9e5f8ead507bc3246ecc1\"},\r\n]\r\npytest = [\r\n    {file = \"pytest-5.4.3-py3-none-any.whl\", hash = \"sha256:5c0db86b698e8f170ba4582a492248919255fcd4c79b1ee64ace34301fb589a1\"},\r\n    {file = \"pytest-5.4.3.tar.gz\", hash = \"sha256:7979331bfcba207414f5e1263b5a0f8f521d0f457318836a7355531ed1a4c7d8\"},\r\n]\r\nsix = [\r\n    {file = \"six-1.15.0-py2.py3-none-any.whl\", hash = \"sha256:8b74bedcbbbaca38ff6d7491d76f2b06b3592611af620f8426e82dddb04a5ced\"},\r\n    {file = \"six-1.15.0.tar.gz\", hash = \"sha256:30639c035cdb23534cd4aa2dd52c3bf48f06e5f4a941509c8bafd8ce11080259\"},\r\n]\r\ntoml = [\r\n    {file = \"toml-0.10.1-py2.py3-none-any.whl\", hash = \"sha256:bda89d5935c2eac546d648028b9901107a595863cb36bae0c73ac804a9b4ce88\"},\r\n    {file = \"toml-0.10.1.tar.gz\", hash = \"sha256:926b612be1e5ce0634a2ca03470f95169cf16f939018233a670519cb4ac58b0f\"},\r\n]\r\ntyped-ast = [\r\n    {file = \"typed_ast-1.4.1-cp35-cp35m-manylinux1_i686.whl\", hash = \"sha256:73d785a950fc82dd2a25897d525d003f6378d1cb23ab305578394694202a58c3\"},\r\n    {file = \"typed_ast-1.4.1-cp35-cp35m-manylinux1_x86_64.whl\", hash = \"sha256:aaee9905aee35ba5905cfb3c62f3e83b3bec7b39413f0a7f19be4e547ea01ebb\"},\r\n    {file = \"typed_ast-1.4.1-cp35-cp35m-win32.whl\", hash = \"sha256:0c2c07682d61a629b68433afb159376e24e5b2fd4641d35424e462169c0a7919\"},\r\n    {file = \"typed_ast-1.4.1-cp35-cp35m-win_amd64.whl\", hash = \"sha256:4083861b0aa07990b619bd7ddc365eb7fa4b817e99cf5f8d9cf21a42780f6e01\"},\r\n    {file = \"typed_ast-1.4.1-cp36-cp36m-macosx_10_9_x86_64.whl\", hash = \"sha256:269151951236b0f9a6f04015a9004084a5ab0d5f19b57de779f908621e7d8b75\"},\r\n    {file = \"typed_ast-1.4.1-cp36-cp36m-manylinux1_i686.whl\", hash = \"sha256:24995c843eb0ad11a4527b026b4dde3da70e1f2d8806c99b7b4a7cf491612652\"},\r\n    {file = \"typed_ast-1.4.1-cp36-cp36m-manylinux1_x86_64.whl\", hash = \"sha256:fe460b922ec15dd205595c9b5b99e2f056fd98ae8f9f56b888e7a17dc2b757e7\"},\r\n    {file = \"typed_ast-1.4.1-cp36-cp36m-win32.whl\", hash = \"sha256:4e3e5da80ccbebfff202a67bf900d081906c358ccc3d5e3c8aea42fdfdfd51c1\"},\r\n    {file = \"typed_ast-1.4.1-cp36-cp36m-win_amd64.whl\", hash = \"sha256:249862707802d40f7f29f6e1aad8d84b5aa9e44552d2cc17384b209f091276aa\"},\r\n    {file = \"typed_ast-1.4.1-cp37-cp37m-macosx_10_9_x86_64.whl\", hash = \"sha256:8ce678dbaf790dbdb3eba24056d5364fb45944f33553dd5869b7580cdbb83614\"},\r\n    {file = \"typed_ast-1.4.1-cp37-cp37m-manylinux1_i686.whl\", hash = \"sha256:c9e348e02e4d2b4a8b2eedb48210430658df6951fa484e59de33ff773fbd4b41\"},\r\n    {file = \"typed_ast-1.4.1-cp37-cp37m-manylinux1_x86_64.whl\", hash = \"sha256:bcd3b13b56ea479b3650b82cabd6b5343a625b0ced5429e4ccad28a8973f301b\"},\r\n    {file = \"typed_ast-1.4.1-cp37-cp37m-win32.whl\", hash = \"sha256:d5d33e9e7af3b34a40dc05f498939f0ebf187f07c385fd58d591c533ad8562fe\"},\r\n    {file = \"typed_ast-1.4.1-cp37-cp37m-win_amd64.whl\", hash = \"sha256:0666aa36131496aed8f7be0410ff974562ab7eeac11ef351def9ea6fa28f6355\"},\r\n    {file = \"typed_ast-1.4.1-cp38-cp38-macosx_10_15_x86_64.whl\", hash = \"sha256:d205b1b46085271b4e15f670058ce182bd1199e56b317bf2ec004b6a44f911f6\"},\r\n    {file = \"typed_ast-1.4.1-cp38-cp38-manylinux1_i686.whl\", hash = \"sha256:6daac9731f172c2a22ade6ed0c00197ee7cc1221aa84cfdf9c31defeb059a907\"},\r\n    {file = \"typed_ast-1.4.1-cp38-cp38-manylinux1_x86_64.whl\", hash = \"sha256:498b0f36cc7054c1fead3d7fc59d2150f4d5c6c56ba7fb150c013fbc683a8d2d\"},\r\n    {file = \"typed_ast-1.4.1-cp38-cp38-win32.whl\", hash = \"sha256:715ff2f2df46121071622063fc7543d9b1fd19ebfc4f5c8895af64a77a8c852c\"},\r\n    {file = \"typed_ast-1.4.1-cp38-cp38-win_amd64.whl\", hash = \"sha256:fc0fea399acb12edbf8a628ba8d2312f583bdbdb3335635db062fa98cf71fca4\"},\r\n    {file = \"typed_ast-1.4.1-cp39-cp39-macosx_10_15_x86_64.whl\", hash = \"sha256:d43943ef777f9a1c42bf4e552ba23ac77a6351de620aa9acf64ad54933ad4d34\"},\r\n    {file = \"typed_ast-1.4.1.tar.gz\", hash = \"sha256:8c8aaad94455178e3187ab22c8b01a3837f8ee50e09cf31f1ba129eb293ec30b\"},\r\n]\r\nwcwidth = [\r\n    {file = \"wcwidth-0.2.5-py2.py3-none-any.whl\", hash = \"sha256:beb4802a9cebb9144e99086eff703a642a13d6a0052920003a230f3294bbe784\"},\r\n    {file = \"wcwidth-0.2.5.tar.gz\", hash = \"sha256:c4d647b99872929fdb7bdcaa4fbe7f01413ed3d98077df798530e5b04f116c83\"},\r\n]\r\nzipp = [\r\n    {file = \"zipp-3.1.0-py3-none-any.whl\", hash = \"sha256:aa36550ff0c0b7ef7fa639055d797116ee891440eac1a56f378e2d3179e0320b\"},\r\n    {file = \"zipp-3.1.0.tar.gz\", hash = \"sha256:c599e4d75c98f6798c509911d08a22e6c021d074469042177c8c86fb92eefd96\"},\r\n]\r\n```\r\n\r\nTrying to add `pylint` gives the following error:\r\n```\r\n(.venv) C:\\Users\\example\\Desktop\\project>poetry add pylint\r\nUsing version ^2.5.3 for pylint\r\n\r\nUpdating dependencies\r\nResolving dependencies...\r\n\r\nWriting lock file\r\n\r\nPackage operations: 7 installs, 0 updates, 0 removals\r\n\r\n  \u2022 Installing lazy-object-proxy (1.4.3)\r\n\r\n  EnvCommandError\r\n\r\n  Command \"C:\\Users\\example\\Desktop\\project\\.venv\\Scripts\\pip.exe\" install --no-deps file://C:\\Users\\example\\AppData\\Local\\pypoetry\\Cache\\artifacts\\cf\\27\\1c\\e2ffa1d5dbd550da1998c858cbbb77c8d605750c38cc1c15d77a27e289\\lazy_object_proxy-1.4.3-cp37-cp37m-win_amd64.whl errored with the following return code 1, and output:\r\n  Processing c:\\users\\example\\appdata\\local\\pypoetry\\cache\\artifacts\\cf\\27\\1c\\e2ffa1d5dbd550da1998c858cbbb77c8d605750c38cc1c15d77a27e289\\lazy_object_proxy-1.4.3-cp37-cp37m-win_amd64.whl\r\n      ERROR: Command errored out with exit status 1:\r\n       command: 'c:\\users\\example\\desktop\\project\\.venv\\scripts\\python.exe' -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\example\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-dc_71dru\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\example\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-dc_71dru\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base 'C:\\Users\\example\\AppData\\Local\\Temp\\pip-pip-egg-info-au6nrpx3'\r\n           cwd: C:\\Users\\example\\AppData\\Local\\Temp\\pip-req-build-dc_71dru\\\r\n      Complete output (5 lines):\r\n      Traceback (most recent call last):\r\n        File \"<string>\", line 1, in <module>\r\n        File \"C:\\Users\\example\\AppData\\Local\\Programs\\Python\\Python37\\lib\\tokenize.py\", line 447, in open\r\n          buffer = _builtin_open(filename, 'rb')\r\n      FileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\example\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-dc_71dru\\\\setup.py'\r\n      ----------------------------------------\r\n  ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n\r\n\r\n  at c:\\users\\example\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\poetry\\utils\\env.py:915 in _run\r\n       911\u2502                 output = subprocess.check_output(\r\n       912\u2502                     cmd, stderr=subprocess.STDOUT, **kwargs\r\n       913\u2502                 )\r\n       914\u2502         except CalledProcessError as e:\r\n    \u2192  915\u2502             raise EnvCommandError(e, input=input_)\r\n       916\u2502\r\n       917\u2502         return decode(output)\r\n       918\u2502\r\n       919\u2502     def execute(self, bin, *args, **kwargs):\r\n\r\n  \u2022 Installing typed-ast (1.4.1)\r\n\r\n  EnvCommandError\r\n\r\n  Command \"C:\\Users\\example\\Desktop\\.venv\\Scripts\\pip.exe\" install --no-deps file://C:\\Users\\example\\AppData\\Local\\pypoetry\\Cache\\artifacts\\00\\87\\d7\\489afc5d8d916d0c3b60e7b8553648351fb983e98be49cce35e83865a0\\typed_ast-1.4.1-cp37-cp37m-win_amd64.whl errored with the following return code 1, and output:\r\n  Processing c:\\users\\example\\appdata\\local\\pypoetry\\cache\\artifacts\\00\\87\\d7\\489afc5d8d916d0c3b60e7b8553648351fb983e98be49cce35e83865a0\\typed_ast-1.4.1-cp37-cp37m-win_amd64.whl\r\n      ERROR: Command errored out with exit status 1:\r\n       command: 'C:\\Users\\example\\Desktop\\.venv\\scripts\\python.exe' -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\example\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-62be46n8\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\example\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-62be46n8\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base 'C:\\Users\\example\\AppData\\Local\\Temp\\pip-pip-egg-info-8c949847'\r\n           cwd: C:\\Users\\example\\AppData\\Local\\Temp\\pip-req-build-62be46n8\\\r\n      Complete output (5 lines):\r\n      Traceback (most recent call last):\r\n        File \"<string>\", line 1, in <module>\r\n        File \"C:\\Users\\example\\AppData\\Local\\Programs\\Python\\Python37\\lib\\tokenize.py\", line 447, in open\r\n          buffer = _builtin_open(filename, 'rb')\r\n      FileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\example\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-62be46n8\\\\setup.py'\r\n      ----------------------------------------\r\n  ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n\r\n\r\n  at c:\\users\\example\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\poetry\\utils\\env.py:915 in _run\r\n       911\u2502                 output = subprocess.check_output(\r\n       912\u2502                     cmd, stderr=subprocess.STDOUT, **kwargs\r\n       913\u2502                 )\r\n       914\u2502         except CalledProcessError as e:\r\n    \u2192  915\u2502             raise EnvCommandError(e, input=input_)\r\n       916\u2502\r\n       917\u2502         return decode(output)\r\n       918\u2502\r\n       919\u2502     def execute(self, bin, *args, **kwargs):\r\n\r\n\r\nFailed to add packages, reverting the pyproject.toml file to its original content.\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2817", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2817/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2817/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2817/events", "html_url": "https://github.com/python-poetry/poetry/issues/2817", "id": 679757001, "node_id": "MDU6SXNzdWU2Nzk3NTcwMDE=", "number": 2817, "title": "Git installs broken since 1.1.0b2", "user": {"login": "danihodovic", "id": 5557301, "node_id": "MDQ6VXNlcjU1NTczMDE=", "avatar_url": "https://avatars2.githubusercontent.com/u/5557301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danihodovic", "html_url": "https://github.com/danihodovic", "followers_url": "https://api.github.com/users/danihodovic/followers", "following_url": "https://api.github.com/users/danihodovic/following{/other_user}", "gists_url": "https://api.github.com/users/danihodovic/gists{/gist_id}", "starred_url": "https://api.github.com/users/danihodovic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danihodovic/subscriptions", "organizations_url": "https://api.github.com/users/danihodovic/orgs", "repos_url": "https://api.github.com/users/danihodovic/repos", "events_url": "https://api.github.com/users/danihodovic/events{/privacy}", "received_events_url": "https://api.github.com/users/danihodovic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-08-16T13:43:29Z", "updated_at": "2020-08-16T13:44:20Z", "closed_at": "2020-08-16T13:44:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n```\r\n$ poetry add git+https://github.com/danihodovic/django-mjml.git\r\n\r\n  RuntimeError\r\n\r\n  Unable to retrieve the package version for django-mjml\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2803", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2803/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2803/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2803/events", "html_url": "https://github.com/python-poetry/poetry/issues/2803", "id": 678164366, "node_id": "MDU6SXNzdWU2NzgxNjQzNjY=", "number": 2803, "title": "search has no --only-name (-N) option", "user": {"login": "bphunter1972", "id": 5446342, "node_id": "MDQ6VXNlcjU0NDYzNDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/5446342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bphunter1972", "html_url": "https://github.com/bphunter1972", "followers_url": "https://api.github.com/users/bphunter1972/followers", "following_url": "https://api.github.com/users/bphunter1972/following{/other_user}", "gists_url": "https://api.github.com/users/bphunter1972/gists{/gist_id}", "starred_url": "https://api.github.com/users/bphunter1972/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bphunter1972/subscriptions", "organizations_url": "https://api.github.com/users/bphunter1972/orgs", "repos_url": "https://api.github.com/users/bphunter1972/repos", "events_url": "https://api.github.com/users/bphunter1972/events{/privacy}", "received_events_url": "https://api.github.com/users/bphunter1972/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1055741547, "node_id": "MDU6TGFiZWwxMDU1NzQxNTQ3", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Documentation", "name": "Documentation", "color": "86d8ad", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "finswimmer", "id": 2164565, "node_id": "MDQ6VXNlcjIxNjQ1NjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2164565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/finswimmer", "html_url": "https://github.com/finswimmer", "followers_url": "https://api.github.com/users/finswimmer/followers", "following_url": "https://api.github.com/users/finswimmer/following{/other_user}", "gists_url": "https://api.github.com/users/finswimmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/finswimmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/finswimmer/subscriptions", "organizations_url": "https://api.github.com/users/finswimmer/orgs", "repos_url": "https://api.github.com/users/finswimmer/repos", "events_url": "https://api.github.com/users/finswimmer/events{/privacy}", "received_events_url": "https://api.github.com/users/finswimmer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "finswimmer", "id": 2164565, "node_id": "MDQ6VXNlcjIxNjQ1NjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2164565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/finswimmer", "html_url": "https://github.com/finswimmer", "followers_url": "https://api.github.com/users/finswimmer/followers", "following_url": "https://api.github.com/users/finswimmer/following{/other_user}", "gists_url": "https://api.github.com/users/finswimmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/finswimmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/finswimmer/subscriptions", "organizations_url": "https://api.github.com/users/finswimmer/orgs", "repos_url": "https://api.github.com/users/finswimmer/repos", "events_url": "https://api.github.com/users/finswimmer/events{/privacy}", "received_events_url": "https://api.github.com/users/finswimmer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-08-13T05:33:05Z", "updated_at": "2020-08-14T11:41:17Z", "closed_at": "2020-08-14T11:41:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue with our documentation.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nhttps://python-poetry.org/docs/cli/#search says that the search command has an option, --only-name, but it does not.\r\n\r\n```\r\n\u25b6 poetry help search\r\nUSAGE\r\n  poetry search <tokens1> ... [<tokensN>]\r\n\r\nARGUMENTS\r\n  <tokens>               The tokens to search for.\r\n\r\nGLOBAL OPTIONS\r\n  -h (--help)            Display this help message\r\n  -q (--quiet)           Do not output any message\r\n  -v (--verbose)         Increase the verbosity of messages: \"-v\" for normal output, \"-vv\" for more verbose output and \"-vvv\" for debug\r\n  -V (--version)         Display this application version\r\n  --ansi                 Force ANSI output\r\n  --no-ansi              Disable ANSI output\r\n  -n (--no-interaction)  Do not ask any interactive question\r\n```\r\n\r\n```\r\n\u25b6 poetry search --only-name\r\n\r\n[NoSuchOptionException]\r\nThe \"--only-name\" option does not exist.\r\n\r\n```\r\n<img width=\"836\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5446342/90097847-c0e6d500-dceb-11ea-802c-df19db48a878.png\">\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2802", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2802/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2802/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2802/events", "html_url": "https://github.com/python-poetry/poetry/issues/2802", "id": 677648065, "node_id": "MDU6SXNzdWU2Nzc2NDgwNjU=", "number": 2802, "title": "`poetry build` creates package with platform marker not parseable: `pkg_resources.RequirementParseError: Invalid requirement, parse error at \"'sys_plat'\"`", "user": {"login": "daniel-j-h", "id": 527241, "node_id": "MDQ6VXNlcjUyNzI0MQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/527241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daniel-j-h", "html_url": "https://github.com/daniel-j-h", "followers_url": "https://api.github.com/users/daniel-j-h/followers", "following_url": "https://api.github.com/users/daniel-j-h/following{/other_user}", "gists_url": "https://api.github.com/users/daniel-j-h/gists{/gist_id}", "starred_url": "https://api.github.com/users/daniel-j-h/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daniel-j-h/subscriptions", "organizations_url": "https://api.github.com/users/daniel-j-h/orgs", "repos_url": "https://api.github.com/users/daniel-j-h/repos", "events_url": "https://api.github.com/users/daniel-j-h/events{/privacy}", "received_events_url": "https://api.github.com/users/daniel-j-h/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 851634863, "node_id": "MDU6TGFiZWw4NTE2MzQ4NjM=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Packaging", "name": "Packaging", "color": "7e56c4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "finswimmer", "id": 2164565, "node_id": "MDQ6VXNlcjIxNjQ1NjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2164565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/finswimmer", "html_url": "https://github.com/finswimmer", "followers_url": "https://api.github.com/users/finswimmer/followers", "following_url": "https://api.github.com/users/finswimmer/following{/other_user}", "gists_url": "https://api.github.com/users/finswimmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/finswimmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/finswimmer/subscriptions", "organizations_url": "https://api.github.com/users/finswimmer/orgs", "repos_url": "https://api.github.com/users/finswimmer/repos", "events_url": "https://api.github.com/users/finswimmer/events{/privacy}", "received_events_url": "https://api.github.com/users/finswimmer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "finswimmer", "id": 2164565, "node_id": "MDQ6VXNlcjIxNjQ1NjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2164565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/finswimmer", "html_url": "https://github.com/finswimmer", "followers_url": "https://api.github.com/users/finswimmer/followers", "following_url": "https://api.github.com/users/finswimmer/following{/other_user}", "gists_url": "https://api.github.com/users/finswimmer/gists{/gist_id}", "starred_url": "https://api.github.com/users/finswimmer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/finswimmer/subscriptions", "organizations_url": "https://api.github.com/users/finswimmer/orgs", "repos_url": "https://api.github.com/users/finswimmer/repos", "events_url": "https://api.github.com/users/finswimmer/events{/privacy}", "received_events_url": "https://api.github.com/users/finswimmer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-08-12T12:18:28Z", "updated_at": "2020-08-13T09:54:50Z", "closed_at": "2020-08-13T06:21:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: Ubuntu 20.04 (container)\r\n- **Poetry version**: 10.1.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/daniel-j-h/789f181c620a97d74f4731b42a88e073\r\n\r\n## Issue\r\n\r\nHey folks - here is my use case: I work in a self-contained ubuntu:20.04 docker container and want to add a remote wheel\r\n\r\n```\r\npoetry add --platform linux https://download.pytorch.org/whl/cpu/torch-1.5.1%2Bcpu-cp38-cp38-linux_x86_64.whl\r\n```\r\n\r\nThis works fine, but when I then `poetry build` my package and try to install it (even e.g. with `pip3`) I get the parsing error stack trace attached below. \r\n\r\nSmall self-contained reproducible example is here: https://gist.github.com/daniel-j-h/789f181c620a97d74f4731b42a88e073\r\n\r\nWhat works tho is leaving out the platform marker and installing with\r\n\r\n```\r\npoetry add https://download.pytorch.org/whl/cpu/torch-1.5.1%2Bcpu-cp38-cp38-linux_x86_64.whl\r\n```\r\n\r\nwhich semantically is wrong but at least the package then is installable.\r\n\r\nWhen I unzip the wheel I get from `poetry build`, then in the `METADATA` file the platform marker looks like this\r\n\r\n```\r\nRequires-Dist: torch @ https://download.pytorch.org/whl/cpu/torch-1.5.1%2Bcpu-cp38-cp38-linux_x86_64.whl; sys_platform == \"linux\"\r\n```\r\n\r\n\r\nAnd here is the full stack trace when I try to install the package with platform marker\r\n\r\n```\r\npython@154ca81a64c9:~/app$ pip3 install dist/app-0.1.0-py3-none-any.whl \r\nProcessing ./dist/app-0.1.0-py3-none-any.whl\r\nERROR: Exception:         \r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 3023, in _dep_map                              \r\n    return self.__dep_map\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2817, in __getattr__\r\n    raise AttributeError(attr)\r\nAttributeError: _DistInfoDistribution__dep_map\r\n                                                                      \r\nDuring handling of the above exception, another exception occurred:\r\n                                                                      \r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/_vendor/packaging/requirements.py\", line 90, in __init__\r\n    req = REQUIREMENT.parseString(requirement_string)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/_vendor/pyparsing.py\", line 1654, in parseString\r\n    raise exc\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/_vendor/pyparsing.py\", line 1644, in parseString\r\n    loc, tokens = self._parse( instring, 0 )\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/_vendor/pyparsing.py\", line 1402, in _parseNoCache\r\n    loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/_vendor/pyparsing.py\", line 3417, in parseImpl\r\n    loc, exprtokens = e._parse( instring, loc, doActions )\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/_vendor/pyparsing.py\", line 1406, in _parseNoCache\r\n    loc,tokens = self.parseImpl( instring, preloc, doActions )\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/_vendor/pyparsing.py\", line 3205, in parseImpl\r\n    raise ParseException(instring, loc, self.errmsg, self)\r\npkg_resources._vendor.pyparsing.ParseException: Expected stringEnd (at char 91), (line:1, col:92)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 3103, in __init__\r\n    super(Requirement, self).__init__(requirement_string)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/_vendor/packaging/requirements.py\", line 92, in __init__\r\n    raise InvalidRequirement(\r\npkg_resources.extern.packaging.requirements.InvalidRequirement: Invalid requirement, parse error at \"'sys_plat'\"\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/pip/_internal/cli/base_command.py\", line 186, in _main\r\n    status = self.run(options, args)\r\n  File \"/usr/lib/python3/dist-packages/pip/_internal/commands/install.py\", line 357, in run\r\n    resolver.resolve(requirement_set)\r\n  File \"/usr/lib/python3/dist-packages/pip/_internal/legacy_resolve.py\", line 177, in resolve\r\n    discovered_reqs.extend(self._resolve_one(requirement_set, req))\r\n  File \"/usr/lib/python3/dist-packages/pip/_internal/legacy_resolve.py\", line 382, in _resolve_one\r\n    set(req_to_install.extras) - set(dist.extras)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 2980, in extras\r\n    return [dep for dep in self._dep_map if dep]\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 3025, in _dep_map\r\n    self.__dep_map = self._compute_dependencies()\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 3035, in _compute_dependencies\r\n    reqs.extend(parse_requirements(req))\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 3096, in parse_requirements\r\n    yield Requirement(line)\r\n  File \"/usr/lib/python3/dist-packages/pkg_resources/__init__.py\", line 3105, in __init__\r\n    raise RequirementParseError(str(e))\r\npkg_resources.RequirementParseError: Invalid requirement, parse error at \"'sys_plat'\"\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2801", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2801/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2801/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2801/events", "html_url": "https://github.com/python-poetry/poetry/issues/2801", "id": 677325444, "node_id": "MDU6SXNzdWU2NzczMjU0NDQ=", "number": 2801, "title": "Poetry isn't using the POETRY_PYPI_TOKEN_PYPI variable when publishing", "user": {"login": "arnavb", "id": 30810402, "node_id": "MDQ6VXNlcjMwODEwNDAy", "avatar_url": "https://avatars0.githubusercontent.com/u/30810402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arnavb", "html_url": "https://github.com/arnavb", "followers_url": "https://api.github.com/users/arnavb/followers", "following_url": "https://api.github.com/users/arnavb/following{/other_user}", "gists_url": "https://api.github.com/users/arnavb/gists{/gist_id}", "starred_url": "https://api.github.com/users/arnavb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arnavb/subscriptions", "organizations_url": "https://api.github.com/users/arnavb/orgs", "repos_url": "https://api.github.com/users/arnavb/repos", "events_url": "https://api.github.com/users/arnavb/events{/privacy}", "received_events_url": "https://api.github.com/users/arnavb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-12T02:17:56Z", "updated_at": "2020-08-12T23:01:50Z", "closed_at": "2020-08-12T08:36:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: MacOS 10.15.5 Catalina <!-- Replace with version + name -->\r\n- **Poetry version**: 1.0.10 <!-- Replace with version -->\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**:  [Gist](https://gist.github.com/arnavb/543b8c61d6dee05dea01e6484b142e7d) <!-- Gist Link Here -->\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nI was trying to deploy the latest version of my package, [pypokedex](https://github.com/arnavb/pypokedex) to PyPI, using [Travis CI](https://travis-ci.com/github/arnavb/pypokedex/jobs/371045831) (the link is to my build log). I'm using the following deploy config from `.travis.yml`\r\n\r\n```yaml\r\n    ...\r\n    - stage: deploy\r\n      python: \"3.6\"\r\n      script: skip\r\n      deploy:\r\n        provider: script\r\n        script: ./deploy.sh\r\n        on:\r\n          tags: true\r\n        skip_cleanup: true\r\n    ...\r\n```\r\n\r\nand:\r\n\r\n<details>\r\n<summary><code>deploy.sh</code></summary>\r\n\r\n```bash\r\n#!/usr/bin/env bash\r\n\r\nif ! poetry build; then\r\n  echo \"Failed to build pypokedex. Rerun 'poetry build'. Aborting.\"\r\n  exit 1\r\nfi\r\n\r\necho \"Built pypokedex in dist folder\"\r\n\r\n# Requires rename utility with perl replace support\r\nif ! rename 's/py3/py36/' dist/pypokedex-1.5.0-py3-none-any.whl; then\r\n  echo \"Unable to rename built wheel. Aborting.\"\r\n  exit 1\r\nfi\r\n\r\necho \"Renamed wheel\"\r\n\r\nif ! poetry publish; then\r\n  echo \"Failed to publish pypokedex. Rerun 'poetry publish'. Aborting.\"\r\n  exit 1\r\nfi\r\n\r\necho \"Successfully published package to PyPI\"\r\nexit 0\r\n```\r\n\r\n</details>\r\n\r\nNotably, for my Travis build, I have set the variable `POETRY_PYPI_TOKEN_PYPI` to an API token from `pypi.org`. However, as seen from the build output, which is\r\n\r\n```\r\nPublishing pypokedex (1.5.0) to PyPI\r\nNo suitable keyring backends were found\r\nUsing a plaintext file to store and retrieve credentials\r\nUsername: \r\n```\r\n\r\nPoetry is ignoring the presence of this environment variable and asking for my username and password. [The documentation](https://python-poetry.org/docs/repositories/#configuring-credentials) states that I should be able to publish with just the token set. I initially thought that I needed my username as well, but according [PyPI documentation](https://pypi.org/help/#apitoken) it isn't necessary.  I can produce the same behavior locally if I just set the token to an environment variable (and not a username password combo) before running `poetry publish`.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2800", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2800/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2800/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2800/events", "html_url": "https://github.com/python-poetry/poetry/issues/2800", "id": 677147072, "node_id": "MDU6SXNzdWU2NzcxNDcwNzI=", "number": 2800, "title": "poetry should have a native namespace (poetry-core conflicts)", "user": {"login": "jonringer", "id": 7673602, "node_id": "MDQ6VXNlcjc2NzM2MDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/7673602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonringer", "html_url": "https://github.com/jonringer", "followers_url": "https://api.github.com/users/jonringer/followers", "following_url": "https://api.github.com/users/jonringer/following{/other_user}", "gists_url": "https://api.github.com/users/jonringer/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonringer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonringer/subscriptions", "organizations_url": "https://api.github.com/users/jonringer/orgs", "repos_url": "https://api.github.com/users/jonringer/repos", "events_url": "https://api.github.com/users/jonringer/events{/privacy}", "received_events_url": "https://api.github.com/users/jonringer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1861574286, "node_id": "MDU6TGFiZWwxODYxNTc0Mjg2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Question", "name": "Question", "color": "f9d0c4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-11T19:40:29Z", "updated_at": "2020-08-11T20:11:38Z", "closed_at": "2020-08-11T20:11:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: NixOS (unstable)\r\n```\r\n$ nix-shell -p nix-info --run \"nix-info -m\"\r\n - system: `\"x86_64-linux\"`\r\n - host os: `Linux 5.7.13, NixOS, 20.09pre237807.0dc87c6e54f (Nightingale)`\r\n - multi-user?: `yes`\r\n - sandbox: `yes`\r\n - version: `nix-env (Nix) 2.3.7`\r\n - channels(jon): `\"home-manager, nixpkgs-20.09pre237807.0dc87c6e54f\"`\r\n - channels(root): `\"nixos-20.09pre237807.0dc87c6e54f\"`\r\n - nixpkgs: `/home/jon/.nix-defexpr/channels/nixpkgs`\r\n```\r\n- **Poetry version**: 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: <!-- Gist Link Here -->\r\n\r\n## Issue\r\n\r\nI noticed when using `poetry` and `poetry-core`, that the two packages both contain a `poetry/__init__.py`. For normal package installation, this isn't an issue, but for nixpkgs, this is an issue, as it only allows for one of the packages to be present (python build environments are created by constructing a PYTHONPATH which points to the package directories individually, so only poetry or poetry-core can be imported, but not both)\r\n\r\nThe package https://github.com/NixOS/nixpkgs/pull/95211 was still able to be packaged because i could \"get away with\" only using `poetry-core`, but it would have been a problem if both `poetry` and `poetry-core` were needed. \r\n\r\nAnd future facing, if poetry is going to have additional packages within the poetry namespace, it would be beneficial to have a coherent namespace in which they can co-exist.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2798", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2798/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2798/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2798/events", "html_url": "https://github.com/python-poetry/poetry/issues/2798", "id": 676825632, "node_id": "MDU6SXNzdWU2NzY4MjU2MzI=", "number": 2798, "title": "TypeError: Can't intern string", "user": {"login": "darkvariantdivine", "id": 25002681, "node_id": "MDQ6VXNlcjI1MDAyNjgx", "avatar_url": "https://avatars3.githubusercontent.com/u/25002681?v=4", "gravatar_id": "", "url": "https://api.github.com/users/darkvariantdivine", "html_url": "https://github.com/darkvariantdivine", "followers_url": "https://api.github.com/users/darkvariantdivine/followers", "following_url": "https://api.github.com/users/darkvariantdivine/following{/other_user}", "gists_url": "https://api.github.com/users/darkvariantdivine/gists{/gist_id}", "starred_url": "https://api.github.com/users/darkvariantdivine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/darkvariantdivine/subscriptions", "organizations_url": "https://api.github.com/users/darkvariantdivine/orgs", "repos_url": "https://api.github.com/users/darkvariantdivine/repos", "events_url": "https://api.github.com/users/darkvariantdivine/events{/privacy}", "received_events_url": "https://api.github.com/users/darkvariantdivine/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1938902308, "node_id": "MDU6TGFiZWwxOTM4OTAyMzA4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Core", "name": "Core", "color": "97ebfc", "default": false, "description": "Related to the core library"}, {"id": 1963888540, "node_id": "MDU6TGFiZWwxOTYzODg4NTQw", "url": "https://api.github.com/repos/python-poetry/poetry/labels/need/core-next", "name": "need/core-next", "color": "7fbcd1", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/python-poetry/poetry/milestones/3", "html_url": "https://github.com/python-poetry/poetry/milestone/3", "labels_url": "https://api.github.com/repos/python-poetry/poetry/milestones/3/labels", "id": 5081070, "node_id": "MDk6TWlsZXN0b25lNTA4MTA3MA==", "number": 3, "title": "1.1", "description": "", "creator": {"login": "sdispater", "id": 555648, "node_id": "MDQ6VXNlcjU1NTY0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/555648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdispater", "html_url": "https://github.com/sdispater", "followers_url": "https://api.github.com/users/sdispater/followers", "following_url": "https://api.github.com/users/sdispater/following{/other_user}", "gists_url": "https://api.github.com/users/sdispater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdispater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdispater/subscriptions", "organizations_url": "https://api.github.com/users/sdispater/orgs", "repos_url": "https://api.github.com/users/sdispater/repos", "events_url": "https://api.github.com/users/sdispater/events{/privacy}", "received_events_url": "https://api.github.com/users/sdispater/received_events", "type": "User", "site_admin": false}, "open_issues": 15, "closed_issues": 33, "state": "open", "created_at": "2020-02-07T08:39:51Z", "updated_at": "2020-08-20T18:59:14Z", "due_on": null, "closed_at": null}, "comments": 6, "created_at": "2020-08-11T12:10:38Z", "updated_at": "2020-08-17T02:38:01Z", "closed_at": "2020-08-15T19:11:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Fedora 31\r\n- **Poetry version**: 1.0.5\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: <!-- Gist Link Here -->\r\n\r\n## Issue\r\nI'm facing this [issue](https://github.com/python-poetry/poetry/issues/634) when building my poetry project using the new poetry-core. When looking a little deeper, it seems like the fix in [commit](https://github.com/python-poetry/poetry/commit/417d01d2b1c859181d32556851831ae58ef2035e) was not applied to poetry-core.  \r\n\r\nI would love to help out with a PR, but will need some direction :)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2797", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2797/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2797/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2797/events", "html_url": "https://github.com/python-poetry/poetry/issues/2797", "id": 676756304, "node_id": "MDU6SXNzdWU2NzY3NTYzMDQ=", "number": 2797, "title": "Dependency resolver bluntly ignores version requirement and installs release candidate instead of latest stable", "user": {"login": "vbersier", "id": 64898957, "node_id": "MDQ6VXNlcjY0ODk4OTU3", "avatar_url": "https://avatars0.githubusercontent.com/u/64898957?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vbersier", "html_url": "https://github.com/vbersier", "followers_url": "https://api.github.com/users/vbersier/followers", "following_url": "https://api.github.com/users/vbersier/following{/other_user}", "gists_url": "https://api.github.com/users/vbersier/gists{/gist_id}", "starred_url": "https://api.github.com/users/vbersier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vbersier/subscriptions", "organizations_url": "https://api.github.com/users/vbersier/orgs", "repos_url": "https://api.github.com/users/vbersier/repos", "events_url": "https://api.github.com/users/vbersier/events{/privacy}", "received_events_url": "https://api.github.com/users/vbersier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-11T10:18:00Z", "updated_at": "2020-08-11T12:32:45Z", "closed_at": "2020-08-11T12:32:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n\r\n- **OS version and name**: Ubuntu WSL on Windows 10\r\n- **Poetry version**: `1.0.10` and `1.1.0b2`\r\n\r\n## Issue\r\n\r\nTo reproduce:\r\n```shell\r\n$ poetry new test_proj\r\n$ cd test_proj\r\n$ poetry install\r\n$ poetry add numba -vvv\r\n```\r\n\r\n\r\n<details><summary>Result</summary>\r\n\r\n```\r\nPyPI: 75 packages found for numba *\r\nUsing version ^0.50.1 for numba\r\n\r\nUpdating dependencies\r\nResolving dependencies...\r\n   1: fact: test-proj is 0.1.0\r\n   1: derived: test-proj\r\n   1: fact: test-proj depends on numba (^0.50.1)\r\n   1: fact: test-proj depends on pytest (^5.2)\r\n   1: fact: test-proj depends on pytest (^5.2)\r\n   1: selecting test-proj (0.1.0)\r\n   1: derived: pytest (^5.2)\r\n   1: derived: numba (^0.50.1)\r\n   1: fact: pytest (5.4.3) depends on py (>=1.5.0)\r\n   1: fact: pytest (5.4.3) depends on packaging (*)\r\n   1: fact: pytest (5.4.3) depends on attrs (>=17.4.0)\r\n   1: fact: pytest (5.4.3) depends on more-itertools (>=4.0.0)\r\n   1: fact: pytest (5.4.3) depends on pluggy (>=0.12,<1.0)\r\n   1: fact: pytest (5.4.3) depends on wcwidth (*)\r\n   1: fact: pytest (5.4.3) depends on importlib-metadata (>=0.12)\r\n   1: fact: pytest (5.4.3) depends on atomicwrites (>=1.0)\r\n   1: fact: pytest (5.4.3) depends on colorama (*)\r\n   1: selecting pytest (5.4.3)\r\n   1: derived: colorama (*)\r\n   1: derived: atomicwrites (>=1.0)\r\n   1: derived: importlib-metadata (>=0.12)\r\n   1: derived: wcwidth (*)\r\n   1: derived: pluggy (>=0.12,<1.0)\r\n   1: derived: more-itertools (>=4.0.0)\r\n   1: derived: attrs (>=17.4.0)\r\n   1: derived: packaging (*)\r\n   1: derived: py (>=1.5.0)\r\nPyPI: 1 packages found for numba >=0.50.1,<0.51.0\r\n   1: fact: numba (0.50.1) depends on llvmlite (>=0.33.0.dev0,<0.34)\r\n   1: fact: numba (0.50.1) depends on numpy (>=1.15)\r\n   1: selecting numba (0.50.1)\r\n   1: derived: numpy (>=1.15)\r\n   1: derived: llvmlite (>=0.33.0.dev0,<0.34)\r\nPyPI: No release information found for numpy-0.9.6, skipping\r\nPyPI: No release information found for numpy-0.9.8, skipping\r\nPyPI: No release information found for numpy-1.0.3, skipping\r\nPyPI: No release information found for numpy-1.0.4, skipping\r\nPyPI: No release information found for numpy-1.0b1, skipping\r\nPyPI: No release information found for numpy-1.0b4, skipping\r\nPyPI: No release information found for numpy-1.0b5, skipping\r\nPyPI: No release information found for numpy-1.0rc1, skipping\r\nPyPI: No release information found for numpy-1.0rc2, skipping\r\nPyPI: No release information found for numpy-1.0rc3, skipping\r\nPyPI: No release information found for numpy-1.1.1, skipping\r\nPyPI: No release information found for numpy-1.2.0, skipping\r\nPyPI: No release information found for numpy-1.2.1, skipping\r\nPyPI: No release information found for numpy-1.4.0, skipping\r\nPyPI: 26 packages found for numpy >=1.15\r\nPyPI: No release information found for llvmlite-0.1, skipping\r\nPyPI: 3 packages found for llvmlite >=0.33.0.dev0,<0.34\r\n   1: selecting colorama (0.4.3)\r\n   1: selecting atomicwrites (1.4.0)\r\n   1: fact: importlib-metadata (1.7.0) depends on zipp (>=0.5)\r\n   1: selecting importlib-metadata (1.7.0)\r\n   1: derived: zipp (>=0.5)\r\n   1: selecting wcwidth (0.2.5)\r\n   1: fact: pluggy (0.13.1) depends on importlib-metadata (>=0.12)\r\n   1: selecting pluggy (0.13.1)\r\n   1: selecting more-itertools (8.4.0)\r\n   1: selecting attrs (19.3.0)\r\n   1: fact: packaging (20.4) depends on pyparsing (>=2.0.2)\r\n   1: fact: packaging (20.4) depends on six (*)\r\n   1: selecting packaging (20.4)\r\n   1: derived: six (*)\r\n   1: derived: pyparsing (>=2.0.2)\r\n   1: selecting py (1.9.0)\r\n   1: selecting zipp (3.1.0)\r\n   1: selecting six (1.15.0)\r\n   1: selecting pyparsing (2.4.7)\r\n   1: selecting llvmlite (0.34.0rc1)\r\n   1: selecting numpy (1.19.1)\r\n   1: Version solving took 0.262 seconds.\r\n   1: Tried 1 solutions.\r\n\r\nWriting lock file\r\n\r\n\r\nPackage operations: 3 installs, 0 updates, 0 removals\r\n\r\n  - Installing llvmlite (0.34.0rc1)\r\n  - Installing numpy (1.19.1)\r\n  - Installing numba (0.50.1)\r\n```\r\n\r\n</details>\r\n\r\nIt is clear for the `numba` requirements that `llvmlite` should be `<0.34`, but the resolver still chooses `0.34.0rc1`.\r\n\r\nThat's wrong and my code cannot run because of this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2792", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2792/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2792/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2792/events", "html_url": "https://github.com/python-poetry/poetry/issues/2792", "id": 676145317, "node_id": "MDU6SXNzdWU2NzYxNDUzMTc=", "number": 2792, "title": "Method to Exit Poetry Virtual Environment", "user": {"login": "adam-grant-hendry", "id": 59346180, "node_id": "MDQ6VXNlcjU5MzQ2MTgw", "avatar_url": "https://avatars0.githubusercontent.com/u/59346180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adam-grant-hendry", "html_url": "https://github.com/adam-grant-hendry", "followers_url": "https://api.github.com/users/adam-grant-hendry/followers", "following_url": "https://api.github.com/users/adam-grant-hendry/following{/other_user}", "gists_url": "https://api.github.com/users/adam-grant-hendry/gists{/gist_id}", "starred_url": "https://api.github.com/users/adam-grant-hendry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adam-grant-hendry/subscriptions", "organizations_url": "https://api.github.com/users/adam-grant-hendry/orgs", "repos_url": "https://api.github.com/users/adam-grant-hendry/repos", "events_url": "https://api.github.com/users/adam-grant-hendry/events{/privacy}", "received_events_url": "https://api.github.com/users/adam-grant-hendry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1055741547, "node_id": "MDU6TGFiZWwxMDU1NzQxNTQ3", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Documentation", "name": "Documentation", "color": "86d8ad", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2020-08-10T13:40:17Z", "updated_at": "2020-08-17T20:10:14Z", "closed_at": "2020-08-17T20:10:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nRelated to #1057. Please add `poetry exit` or equivalent to exit virtual environment.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2791", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2791/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2791/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2791/events", "html_url": "https://github.com/python-poetry/poetry/issues/2791", "id": 676113838, "node_id": "MDU6SXNzdWU2NzYxMTM4Mzg=", "number": 2791, "title": "Inconsistency with pip when handling versions with \"+\" in their name.", "user": {"login": "pkubik", "id": 4431772, "node_id": "MDQ6VXNlcjQ0MzE3NzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/4431772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pkubik", "html_url": "https://github.com/pkubik", "followers_url": "https://api.github.com/users/pkubik/followers", "following_url": "https://api.github.com/users/pkubik/following{/other_user}", "gists_url": "https://api.github.com/users/pkubik/gists{/gist_id}", "starred_url": "https://api.github.com/users/pkubik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pkubik/subscriptions", "organizations_url": "https://api.github.com/users/pkubik/orgs", "repos_url": "https://api.github.com/users/pkubik/repos", "events_url": "https://api.github.com/users/pkubik/events{/privacy}", "received_events_url": "https://api.github.com/users/pkubik/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-10T12:54:36Z", "updated_at": "2020-08-10T18:25:15Z", "closed_at": "2020-08-10T18:24:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "- **OS version and name**: Ubuntu 18.04\r\n- **Poetry version**: 1.0.10\r\n\r\nDeps:\r\n```\r\ntorch = \"^1.6\"\r\nkornia = \"^0.4\"\r\n```\r\n\r\n## Issue\r\n\r\nThe default behavior is correct. Even if I remove `torch` dependency it is being installed as a dependency for `kornia`.\r\n\r\nYet for my server machine I need to use a specific manually installed version of torch which is `1.6.0+cu101`. This dependency is already installed on the system and should be reused. `pip install` properly recognize that the existing version `1.6.0+cu101` matches the requirement `^1.6`, but Poetry tries to \"upgrade\" the package and thus replaces it with a version that does not work in my setup:\r\n\r\n```\r\n- Updating torch (1.6.0+cu101 -> 1.6.0)\r\n```\r\n\r\nNot that I've added `kornia` library because it depend on torch 1.6. Otherwise I could just remove `torch` from my requirements and move on with my life. Also note that this specific `1.6.0+cu101` version is not available on PyPI, so I can't simply provide this version in my TOML - besides I wouldn't like to hardcore a version that is needed only by some of my environments.\r\n\r\nEdit:\r\nHandling this `+something` suffixes is backed by PEP-440\r\nhttps://www.python.org/dev/peps/pep-0440/#id25", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2790", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2790/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2790/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2790/events", "html_url": "https://github.com/python-poetry/poetry/issues/2790", "id": 676081467, "node_id": "MDU6SXNzdWU2NzYwODE0Njc=", "number": 2790, "title": "poetry config: 'Keyring' object has no attribute 'name'", "user": {"login": "GvandeSteeg", "id": 45566691, "node_id": "MDQ6VXNlcjQ1NTY2Njkx", "avatar_url": "https://avatars2.githubusercontent.com/u/45566691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GvandeSteeg", "html_url": "https://github.com/GvandeSteeg", "followers_url": "https://api.github.com/users/GvandeSteeg/followers", "following_url": "https://api.github.com/users/GvandeSteeg/following{/other_user}", "gists_url": "https://api.github.com/users/GvandeSteeg/gists{/gist_id}", "starred_url": "https://api.github.com/users/GvandeSteeg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GvandeSteeg/subscriptions", "organizations_url": "https://api.github.com/users/GvandeSteeg/orgs", "repos_url": "https://api.github.com/users/GvandeSteeg/repos", "events_url": "https://api.github.com/users/GvandeSteeg/events{/privacy}", "received_events_url": "https://api.github.com/users/GvandeSteeg/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-10T11:59:54Z", "updated_at": "2020-08-10T16:56:51Z", "closed_at": "2020-08-10T16:55:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: MacOS Catalina 10.15.6\r\n- **Poetry version**: 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/GvandeSteeg/9fdcd9691ea5dd0d9e4652b9ebf5547e\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nI'm trying to set up poetry for my team's projects, having only learned about it a few weeks ago after always using venv, but when following the steps [here](https://python-poetry.org/docs/repositories/) to add a private pypi repository to our config I get the following error:\r\n```python\r\npoetry add entrypoint:v1.0.3_rc.1_2_g892939d_feature_fix_pypi_integration_2 -vvv\r\n\r\n[AttributeError]\r\n'Keyring' object has no attribute 'name'\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/usr/local/lib/python3.8/site-packages/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/usr/local/lib/python3.8/site-packages/clikit/api/command/command.py\", line 163, in _do_handle\r\n    self._dispatcher.dispatch(PRE_HANDLE, event)\r\n  File \"/usr/local/lib/python3.8/site-packages/clikit/api/event/event_dispatcher.py\", line 22, in dispatch\r\n    self._do_dispatch(listeners, event_name, event)\r\n  File \"/usr/local/lib/python3.8/site-packages/clikit/api/event/event_dispatcher.py\", line 89, in _do_dispatch\r\n    listener(event, event_name, self)\r\n  File \"/usr/local/lib/python3.8/site-packages/poetry/console/config/application_config.py\", line 89, in set_env\r\n    poetry = command.poetry\r\n  File \"/usr/local/lib/python3.8/site-packages/poetry/console/commands/command.py\", line 10, in poetry\r\n    return self.application.poetry\r\n  File \"/usr/local/lib/python3.8/site-packages/poetry/console/application.py\", line 49, in poetry\r\n    self._poetry = Factory().create_poetry(Path.cwd())\r\n  File \"/usr/local/lib/python3.8/site-packages/poetry/factory.py\", line 169, in create_poetry\r\n    repository = self.create_legacy_repository(source, config)\r\n  File \"/usr/local/lib/python3.8/site-packages/poetry/factory.py\", line 249, in create_legacy_repository\r\n    credentials = password_manager.get_http_auth(name)\r\n  File \"/usr/local/lib/python3.8/site-packages/poetry/utils/password_manager.py\", line 165, in get_http_auth\r\n    password = self.keyring.get_password(name, username)\r\n  File \"/usr/local/lib/python3.8/site-packages/poetry/utils/password_manager.py\", line 125, in keyring\r\n    self._keyring = KeyRing(\"poetry-repository\")\r\n  File \"/usr/local/lib/python3.8/site-packages/poetry/utils/password_manager.py\", line 22, in __init__\r\n    self._check()\r\n  File \"/usr/local/lib/python3.8/site-packages/poetry/utils/password_manager.py\", line 90, in _check\r\n    name = backend.name.split(\" \")[0]\r\n```\r\n\r\nI added the repo with http-basic and it worked once, i.e. I was able to install packages from our pypi, but when I logged back in the next day it refuses to work.\r\nThe same error occurs when running `poetry config --list`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2788", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2788/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2788/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2788/events", "html_url": "https://github.com/python-poetry/poetry/issues/2788", "id": 675856468, "node_id": "MDU6SXNzdWU2NzU4NTY0Njg=", "number": 2788, "title": "Show venv in parentheses next to shell path", "user": {"login": "adam-grant-hendry", "id": 59346180, "node_id": "MDQ6VXNlcjU5MzQ2MTgw", "avatar_url": "https://avatars0.githubusercontent.com/u/59346180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adam-grant-hendry", "html_url": "https://github.com/adam-grant-hendry", "followers_url": "https://api.github.com/users/adam-grant-hendry/followers", "following_url": "https://api.github.com/users/adam-grant-hendry/following{/other_user}", "gists_url": "https://api.github.com/users/adam-grant-hendry/gists{/gist_id}", "starred_url": "https://api.github.com/users/adam-grant-hendry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adam-grant-hendry/subscriptions", "organizations_url": "https://api.github.com/users/adam-grant-hendry/orgs", "repos_url": "https://api.github.com/users/adam-grant-hendry/repos", "events_url": "https://api.github.com/users/adam-grant-hendry/events{/privacy}", "received_events_url": "https://api.github.com/users/adam-grant-hendry/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-10T04:32:44Z", "updated_at": "2020-08-10T13:52:08Z", "closed_at": "2020-08-10T13:51:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nThis may be related to #571,  but I am looking for something different. When I activate a virtual environment with `virtualenv` or `pipenv`, the environment name appears in parentheses to the left of the path. This lets me know I'm in a virtual environment and serves to remind me to deactivate it once I'm finished with it.\r\n\r\nThis does not happen with `poetry`. Can `poetry` be updated so that when a virtual environment is created and/or activated that the environment name appears to the left of the path in the shell? (FYI, I am using Windows command prompt, but I'm sure solutions for bash and fish would be desirable as well).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2784", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2784/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2784/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2784/events", "html_url": "https://github.com/python-poetry/poetry/issues/2784", "id": 675705444, "node_id": "MDU6SXNzdWU2NzU3MDU0NDQ=", "number": 2784, "title": "The dumbest most useless tool , I have ever seen", "user": {"login": "Mohamed209", "id": 12018493, "node_id": "MDQ6VXNlcjEyMDE4NDkz", "avatar_url": "https://avatars3.githubusercontent.com/u/12018493?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mohamed209", "html_url": "https://github.com/Mohamed209", "followers_url": "https://api.github.com/users/Mohamed209/followers", "following_url": "https://api.github.com/users/Mohamed209/following{/other_user}", "gists_url": "https://api.github.com/users/Mohamed209/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mohamed209/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mohamed209/subscriptions", "organizations_url": "https://api.github.com/users/Mohamed209/orgs", "repos_url": "https://api.github.com/users/Mohamed209/repos", "events_url": "https://api.github.com/users/Mohamed209/events{/privacy}", "received_events_url": "https://api.github.com/users/Mohamed209/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2265053672, "node_id": "MDU6TGFiZWwyMjY1MDUzNjcy", "url": "https://api.github.com/repos/python-poetry/poetry/labels/unconstructive", "name": "unconstructive", "color": "963315", "default": false, "description": "Issue and related conversation is not constructive."}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-09T14:03:14Z", "updated_at": "2020-08-09T23:55:54Z", "closed_at": "2020-08-09T23:55:54Z", "author_association": "NONE", "active_lock_reason": "off-topic", "body": "Open Source dev , is not about wrapping few lines from existing tools and say hi i have a new tool\r\nthis tool is literally wrapper around pip package and every single feature introduced can be done in pip much more easily , so what the problem did this silly tool solved ! , no problem , it just replaces commands for example `pip install` >> `poetry install` , `pip list >> `poetry show`\r\nif there was unlike button in githup API , I would have pressed it 10000 times for this piece of shit\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2782", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2782/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2782/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2782/events", "html_url": "https://github.com/python-poetry/poetry/issues/2782", "id": 675565348, "node_id": "MDU6SXNzdWU2NzU1NjUzNDg=", "number": 2782, "title": "poetry add breaks existing [build-system]", "user": {"login": "ycd", "id": 62724709, "node_id": "MDQ6VXNlcjYyNzI0NzA5", "avatar_url": "https://avatars3.githubusercontent.com/u/62724709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ycd", "html_url": "https://github.com/ycd", "followers_url": "https://api.github.com/users/ycd/followers", "following_url": "https://api.github.com/users/ycd/following{/other_user}", "gists_url": "https://api.github.com/users/ycd/gists{/gist_id}", "starred_url": "https://api.github.com/users/ycd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ycd/subscriptions", "organizations_url": "https://api.github.com/users/ycd/orgs", "repos_url": "https://api.github.com/users/ycd/repos", "events_url": "https://api.github.com/users/ycd/events{/privacy}", "received_events_url": "https://api.github.com/users/ycd/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-08-08T18:09:47Z", "updated_at": "2020-08-14T01:08:35Z", "closed_at": "2020-08-10T15:21:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n\r\n- **OS version and name**: \r\nDISTRIB_ID=Ubuntu\r\nDISTRIB_RELEASE=20.04\r\n\r\n- **Poetry version**: Poetry version 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/ycd/2311f6e9a48cb7e1e8811c87247dc3a6\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\n\r\n\r\nWhen adding a new dependency with `poetry add example[extra1, extra2]` it tries to override existing [build-system] and breaks it.\r\n\r\n```\r\n[build-system]\r\nrequires = [\"poetry>=0.12\"]\r\nbuild-backend = \"poetry.masonry.api\"\r\n```\r\n\r\n\r\n![poetry](https://user-images.githubusercontent.com/62724709/89717048-4fd9b180-d9bb-11ea-8103-fcfd5ec54bb2.gif)\r\nAlso streamable link: https://streamable.com/xwvej8\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2781", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2781/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2781/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2781/events", "html_url": "https://github.com/python-poetry/poetry/issues/2781", "id": 675555464, "node_id": "MDU6SXNzdWU2NzU1NTU0NjQ=", "number": 2781, "title": "Circular dependencies / recursion depth (MVP example)", "user": {"login": "tony", "id": 26336, "node_id": "MDQ6VXNlcjI2MzM2", "avatar_url": "https://avatars0.githubusercontent.com/u/26336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tony", "html_url": "https://github.com/tony", "followers_url": "https://api.github.com/users/tony/followers", "following_url": "https://api.github.com/users/tony/following{/other_user}", "gists_url": "https://api.github.com/users/tony/gists{/gist_id}", "starred_url": "https://api.github.com/users/tony/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tony/subscriptions", "organizations_url": "https://api.github.com/users/tony/orgs", "repos_url": "https://api.github.com/users/tony/repos", "events_url": "https://api.github.com/users/tony/events{/privacy}", "received_events_url": "https://api.github.com/users/tony/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/python-poetry/poetry/milestones/3", "html_url": "https://github.com/python-poetry/poetry/milestone/3", "labels_url": "https://api.github.com/repos/python-poetry/poetry/milestones/3/labels", "id": 5081070, "node_id": "MDk6TWlsZXN0b25lNTA4MTA3MA==", "number": 3, "title": "1.1", "description": "", "creator": {"login": "sdispater", "id": 555648, "node_id": "MDQ6VXNlcjU1NTY0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/555648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdispater", "html_url": "https://github.com/sdispater", "followers_url": "https://api.github.com/users/sdispater/followers", "following_url": "https://api.github.com/users/sdispater/following{/other_user}", "gists_url": "https://api.github.com/users/sdispater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdispater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdispater/subscriptions", "organizations_url": "https://api.github.com/users/sdispater/orgs", "repos_url": "https://api.github.com/users/sdispater/repos", "events_url": "https://api.github.com/users/sdispater/events{/privacy}", "received_events_url": "https://api.github.com/users/sdispater/received_events", "type": "User", "site_admin": false}, "open_issues": 15, "closed_issues": 33, "state": "open", "created_at": "2020-02-07T08:39:51Z", "updated_at": "2020-08-20T18:59:14Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2020-08-08T16:57:41Z", "updated_at": "2020-08-15T14:41:15Z", "closed_at": "2020-08-15T14:41:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Potential duplicate of (search: [\"maximum recursion\"](https://github.com/python-poetry/poetry/issues?q=is%3Aissue+is%3Aopen+maximum+recursion)): #2555 #2376 #2329 #2138 #2138 #2008\r\n\r\nIf it is a duplicate, please feel free to close. Hopefully this gist example and debug log is helpful!\r\n\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.  - I am not 100% sure\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: WSL 2 + Ubuntu 20.04 + Python 2.7\r\n- **Poetry version**: Poetry version 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/tony/439cfe08a9d36e90dac02a2f77296205\r\n\r\n## Issue\r\n\r\n\r\n#### Config\r\n\r\n```toml\r\n[tool.poetry]\r\nname = \"test\"\r\nversion = \"0.0.1\"\r\ndescription = \"test config\"\r\nauthors = [\"User <user@user.com>\"]\r\n\r\n[tool.poetry.dependencies]\r\npython = \"2.7 || ^3.5\"\r\ndjango-extensions = { version = \"*\", optional = true }\r\n\r\n[tool.poetry.dev-dependencies]\r\ndjango-extensions = [\r\n  {version=\"<2.2.6\", python=\"<3\"},\r\n  {version=\"*\", python=\">=3\"}\r\n]\r\n\r\n\r\n[tool.poetry.extras]\r\ntest = [\"django-extensions\"]\r\n```\r\n\r\nDebug output: [bug.txt](https://github.com/python-poetry/poetry/files/5045719/bug.txt)\r\n\r\nDebug snippet:\r\n\r\n```\r\n   0: Different requirements found for django-extensions (*) and django-extensions (<2.2.6).\r\n   1: Version solving took 0.002 seconds.\r\n   1: Tried 1 solutions.\r\n   0: Retrying dependency resolution for Python (2.7 || >=3.5,<4.0).\r\n   1: fact: test is 0.0.1\r\n   1: derived: test\r\n   0: Duplicate dependencies for django-extensions\r\n   0: Different requirements found for django-extensions (*) and django-extensions (<2.2.6).\r\n   1: Version solving took 0.002 seconds.\r\n   1: Tried 1 solutions.\r\n   0: Retrying dependency resolution for Python (2.7 || >=3.5,<4.0).\r\n   1: fact: test is 0.0.1\r\n   1: derived: test\r\n   1: Version solving took 0.001 seconds.\r\n   1: Tried 1 solutions.\r\n\r\n[RecursionError]\r\nmaximum recursion depth exceeded\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/t/.poetry/lib/poetry/_vendor/py3.7/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/home/t/.poetry/lib/poetry/_vendor/py3.7/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/home/t/.poetry/lib/poetry/_vendor/py3.7/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/home/t/.poetry/lib/poetry/_vendor/py3.7/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/home/t/.poetry/lib/poetry/console/commands/install.py\", line 69, in handle\r\n    return_code = installer.run()\r\n  File \"/home/t/.poetry/lib/poetry/installation/installer.py\", line 74, in run\r\n    self._do_install(local_repo)\r\n  File \"/home/t/.poetry/lib/poetry/installation/installer.py\", line 161, in _do_install\r\n    ops = solver.solve(use_latest=self._whitelist)\r\n  File \"/home/t/.poetry/lib/poetry/puzzle/solver.py\", line 36, in solve\r\n    packages, depths = self._solve(use_latest=use_latest)\r\n  File \"/home/t/.poetry/lib/poetry/puzzle/solver.py\", line 187, in _solve\r\n    e.constraints, use_latest=use_latest\r\n  File \"/home/t/.poetry/lib/poetry/puzzle/solver.py\", line 154, in solve_in_compatibility_mode\r\n    _packages, _depths = self._solve(use_latest=use_latest)\r\n  File \"/home/t/.poetry/lib/poetry/puzzle/solver.py\", line 187, in _solve\r\n    e.constraints, use_latest=use_latest\r\n  File \"/home/t/.poetry/lib/poetry/puzzle/solver.py\", line 154, in solve_in_compatibility_mode\r\n    _packages, _depths = self._solve(use_latest=use_latest)\r\n  File \"/home/t/.poetry/lib/poetry/puzzle/solver.py\", line 187, in _solve\r\n    e.constraints, use_latest=use_latest\r\n  File \"/home/t/.poetry/lib/poetry/puzzle/solver.py\", line 154, in solve_in_compatibility_mode\r\n    _packages, _depths = self._solve(use_latest=use_latest)\r\n  File \"/home/t/.poetry/lib/poetry/puzzle/solver.py\", line 187, in _solve\r\n    e.constraints, use_latest=use_latest\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2779", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2779/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2779/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2779/events", "html_url": "https://github.com/python-poetry/poetry/issues/2779", "id": 675332480, "node_id": "MDU6SXNzdWU2NzUzMzI0ODA=", "number": 2779, "title": "Tensorflow-gpu does not recognize my NVIDIA GPU when using Poetry", "user": {"login": "igormcsouza", "id": 38996012, "node_id": "MDQ6VXNlcjM4OTk2MDEy", "avatar_url": "https://avatars2.githubusercontent.com/u/38996012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igormcsouza", "html_url": "https://github.com/igormcsouza", "followers_url": "https://api.github.com/users/igormcsouza/followers", "following_url": "https://api.github.com/users/igormcsouza/following{/other_user}", "gists_url": "https://api.github.com/users/igormcsouza/gists{/gist_id}", "starred_url": "https://api.github.com/users/igormcsouza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igormcsouza/subscriptions", "organizations_url": "https://api.github.com/users/igormcsouza/orgs", "repos_url": "https://api.github.com/users/igormcsouza/repos", "events_url": "https://api.github.com/users/igormcsouza/events{/privacy}", "received_events_url": "https://api.github.com/users/igormcsouza/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-08-07T23:03:26Z", "updated_at": "2020-08-11T20:57:59Z", "closed_at": "2020-08-11T20:57:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [X] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [X] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n\r\n- **Ubuntu 20.04**:\r\n- **Poetry 1.0.0**:\r\n\r\n## Issue\r\nHello! Firstly Nice work of yours! \r\n\r\nWell, I'm getting this issue and, for some reason, I couldn't find anything related in my previous research. \r\n\r\nI was building a package for my classification task using tensorflow-gpu and it was working just fine. I'm using tensorflow-gpu on version 2.2.0 and my CUDA version is 10.1, all fine to work with this kind of task and requirements. \r\n\r\nWell, for some personal reasons I decide to use poetry to deal with versioning, but just after all the dependencies were installed with poetry tensorflow-gpu stop to recognize my GPU. Even though its all installed and working fine. \r\n\r\nCommnad:\r\n```\r\ntf.config.experimental.list_physical_devices('GPU')\r\n```\r\n\r\nResult:\r\n```\r\n2020-08-07 22:49:36.619079: W tensorflow/stream_executor/platform/default/dso_loader.cc:55] Could not load dynamic library 'libcuda.so.1'; dlerror: libcuda.so.1: cannot open shared object file: No such file or directory\r\n2020-08-07 22:49:36.619139: E tensorflow/stream_executor/cuda/cuda_driver.cc:313] failed call to cuInit: UNKNOWN ERROR (303)\r\n2020-08-07 22:49:36.619165: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:169] retrieving CUDA diagnostic information for host: lead-XPS-8930\r\n2020-08-07 22:49:36.619500: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:176] hostname: lead-XPS-8930\r\n2020-08-07 22:49:36.619548: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:200] libcuda reported version is: Not found: was unable to find libcuda.so DSO loaded into this program\r\n2020-08-07 22:49:36.619716: I tensorflow/stream_executor/cuda/cuda_diagnostics.cc:204] kernel reported version is: 435.21.0\r\n```\r\n\r\nAnything outside poetry environment runs the command above just fine!\r\n\r\nHave no IDEA whats happening. If you guys could give me a hint on how to solve this I'd be greatful! \ud83d\udc4d \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2774", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2774/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2774/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2774/events", "html_url": "https://github.com/python-poetry/poetry/issues/2774", "id": 673950294, "node_id": "MDU6SXNzdWU2NzM5NTAyOTQ=", "number": 2774, "title": "Poetry unnecessarily creates a tty", "user": {"login": "himat", "id": 1156974, "node_id": "MDQ6VXNlcjExNTY5NzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1156974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himat", "html_url": "https://github.com/himat", "followers_url": "https://api.github.com/users/himat/followers", "following_url": "https://api.github.com/users/himat/following{/other_user}", "gists_url": "https://api.github.com/users/himat/gists{/gist_id}", "starred_url": "https://api.github.com/users/himat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himat/subscriptions", "organizations_url": "https://api.github.com/users/himat/orgs", "repos_url": "https://api.github.com/users/himat/repos", "events_url": "https://api.github.com/users/himat/events{/privacy}", "received_events_url": "https://api.github.com/users/himat/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1861574286, "node_id": "MDU6TGFiZWwxODYxNTc0Mjg2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Question", "name": "Question", "color": "f9d0c4", "default": false, "description": ""}, {"id": 2171054436, "node_id": "MDU6TGFiZWwyMTcxMDU0NDM2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/candidate/faq", "name": "candidate/faq", "color": "99f7a7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-06T01:35:58Z", "updated_at": "2020-08-13T10:01:20Z", "closed_at": "2020-08-13T10:01:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: Mac OS Mojave 10.14.5\r\n- **Poetry version**: 1.0.5\r\n\r\n## Issue\r\n\r\nWhen I run poetry shell, why does that create another sub-tty. Using a regular virtualenv doesn't create a tty\r\n\r\nWith poetry:\r\n```\r\n> tty\r\n/dev/ttys004 # original shell\r\n\r\n> poetry shell\r\nSpawning shell within /Users/x/x/.venv\r\n\r\n> . /Users/x/.venv/bin/activate\r\n\r\n> tty\r\n/dev/ttys017 # shell with poetry activated\r\n```\r\n\r\nWith virtualenv\r\n```\r\n> tty\r\n/dev/ttys004 # original shell\r\n\r\n> source ./venv/bin/activate\r\n\r\n> tty\r\n/dev/ttys004 # shell with venv activated\r\n```\r\n\r\nThis is presenting an issue to me when I use tmux since I have some commands in tmux that run based on checking what programs are running in the current tty. But those are now failing because tmux returns the original tty 004 of the shell I'm in and doesn't see that poetry has created a new tty in which I have other programs running.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2772", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2772/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2772/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2772/events", "html_url": "https://github.com/python-poetry/poetry/issues/2772", "id": 673505382, "node_id": "MDU6SXNzdWU2NzM1MDUzODI=", "number": 2772, "title": "Installing `scrapy`: maximum recursion depth exceeded while calling a Python object", "user": {"login": "dmiwell", "id": 1378803, "node_id": "MDQ6VXNlcjEzNzg4MDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1378803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dmiwell", "html_url": "https://github.com/dmiwell", "followers_url": "https://api.github.com/users/dmiwell/followers", "following_url": "https://api.github.com/users/dmiwell/following{/other_user}", "gists_url": "https://api.github.com/users/dmiwell/gists{/gist_id}", "starred_url": "https://api.github.com/users/dmiwell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dmiwell/subscriptions", "organizations_url": "https://api.github.com/users/dmiwell/orgs", "repos_url": "https://api.github.com/users/dmiwell/repos", "events_url": "https://api.github.com/users/dmiwell/events{/privacy}", "received_events_url": "https://api.github.com/users/dmiwell/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-05T12:35:56Z", "updated_at": "2020-08-06T04:59:55Z", "closed_at": "2020-08-06T04:59:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Linux Mint 20\r\n- **Poetry version**: 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/dmiwell/8cd15375642fdbf3215bf93430bebbf3) with the contents of your pyproject.toml file**: https://gist.github.com/dmiwell/8cd15375642fdbf3215bf93430bebbf3\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nI'm trying to install scrapy, but getting:\r\n```\r\n[RecursionError]\r\nmaximum recursion depth exceeded while calling a Python object\r\n```\r\n\r\nWith `-vvv` I see:\r\n```\r\n0: Duplicate dependencies for lxml\r\n0: Different requirements found for lxml (>=3.5.0) and lxml (>=4.0.0).\r\n```\r\n\r\nIt seems it happens because of latest [setup.py](https://github.com/scrapy/scrapy/blob/1278e76d9093b1c5c9ec810768d1066772a8a134/setup.py#L39)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2767", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2767/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2767/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2767/events", "html_url": "https://github.com/python-poetry/poetry/issues/2767", "id": 672763862, "node_id": "MDU6SXNzdWU2NzI3NjM4NjI=", "number": 2767, "title": "[RuntimeError] maximum recursion depth exceeded installing python-benedict", "user": {"login": "fabiocaccamo", "id": 1035294, "node_id": "MDQ6VXNlcjEwMzUyOTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1035294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fabiocaccamo", "html_url": "https://github.com/fabiocaccamo", "followers_url": "https://api.github.com/users/fabiocaccamo/followers", "following_url": "https://api.github.com/users/fabiocaccamo/following{/other_user}", "gists_url": "https://api.github.com/users/fabiocaccamo/gists{/gist_id}", "starred_url": "https://api.github.com/users/fabiocaccamo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fabiocaccamo/subscriptions", "organizations_url": "https://api.github.com/users/fabiocaccamo/orgs", "repos_url": "https://api.github.com/users/fabiocaccamo/repos", "events_url": "https://api.github.com/users/fabiocaccamo/events{/privacy}", "received_events_url": "https://api.github.com/users/fabiocaccamo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-04T12:44:07Z", "updated_at": "2020-08-04T19:53:13Z", "closed_at": "2020-08-04T15:32:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: `macOS Catalina 10.15.6`\r\n- **Poetry version**: `1.0.10`\r\n- **pyproject.toml file**: \r\n\r\n```toml\r\n[tool.poetry]\r\nname = \"poetrytest\"\r\nversion = \"0.1.0\"\r\ndescription = \"\"\r\nauthors = [\"Fabio Caccamo <fabio.caccamo@gmail.com>\"]\r\n\r\n[tool.poetry.dependencies]\r\npython = \"^2.7\"\r\n\r\n[tool.poetry.dev-dependencies]\r\npytest = \"^4.6\"\r\n\r\n[build-system]\r\nrequires = [\"poetry>=0.12\"]\r\nbuild-backend = \"poetry.masonry.api\"\r\n```\r\n## Issue\r\nI just installed `poetry`, but when I try to install [python-benedict](https://github.com/fabiocaccamo/python-benedict) I receive the following error:\r\n**[RuntimeError] maximum recursion depth exceeded installing python-benedict**\r\n\r\nSteps to reproduce the error:\r\n- Run `poetry new poetrytest && cd poetrytest` \r\n- Run `poetry add python-benedict`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2764", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2764/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2764/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2764/events", "html_url": "https://github.com/python-poetry/poetry/issues/2764", "id": 672030738, "node_id": "MDU6SXNzdWU2NzIwMzA3Mzg=", "number": 2764, "title": "Poetry refuses to install isort > 5.", "user": {"login": "sfermigier", "id": 271079, "node_id": "MDQ6VXNlcjI3MTA3OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/271079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfermigier", "html_url": "https://github.com/sfermigier", "followers_url": "https://api.github.com/users/sfermigier/followers", "following_url": "https://api.github.com/users/sfermigier/following{/other_user}", "gists_url": "https://api.github.com/users/sfermigier/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfermigier/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfermigier/subscriptions", "organizations_url": "https://api.github.com/users/sfermigier/orgs", "repos_url": "https://api.github.com/users/sfermigier/repos", "events_url": "https://api.github.com/users/sfermigier/events{/privacy}", "received_events_url": "https://api.github.com/users/sfermigier/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-03T12:09:30Z", "updated_at": "2020-08-03T12:41:57Z", "closed_at": "2020-08-03T12:41:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: MacOS X 10.13.6 or Ubuntu 18.04\r\n- **Poetry version**: 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: <https://gist.github.com/sfermigier/91fcfa81c0b7dcde50c14070855372a4>\r\n\r\n\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nThe project won't install, complaining that \"isort requires Python >=3.6,<4.0\", even when we are using Python 3.7 or Python 3.6.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2763", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2763/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2763/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2763/events", "html_url": "https://github.com/python-poetry/poetry/issues/2763", "id": 671925899, "node_id": "MDU6SXNzdWU2NzE5MjU4OTk=", "number": 2763, "title": "[RecursionError] on first poetry install of tomlkit project", "user": {"login": "nat-n", "id": 880829, "node_id": "MDQ6VXNlcjg4MDgyOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/880829?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nat-n", "html_url": "https://github.com/nat-n", "followers_url": "https://api.github.com/users/nat-n/followers", "following_url": "https://api.github.com/users/nat-n/following{/other_user}", "gists_url": "https://api.github.com/users/nat-n/gists{/gist_id}", "starred_url": "https://api.github.com/users/nat-n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nat-n/subscriptions", "organizations_url": "https://api.github.com/users/nat-n/orgs", "repos_url": "https://api.github.com/users/nat-n/repos", "events_url": "https://api.github.com/users/nat-n/events{/privacy}", "received_events_url": "https://api.github.com/users/nat-n/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-03T09:11:44Z", "updated_at": "2020-08-04T08:16:26Z", "closed_at": "2020-08-04T08:16:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: macOS 10.14.6\r\n- **Poetry version**: 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://github.com/sdispater/tomlkit/blob/1926311a71172b75fae1dea2cc6bccd103b32243/pyproject.toml\r\n\r\n## Issue\r\nI tried checking out [tomlkit](https://github.com/sdispater/tomlkit) (heard of it?) \r\n\r\nand then this happened:\r\n\r\n```\r\npoetry install -vvv\r\nUsing virtualenv: /Users/nat/Library/Caches/pypoetry/virtualenvs/tomlkit-xn8UEsS9-py3.6\r\nThe lock file might not be compatible with the current version of Poetry.\r\nUpgrade Poetry to ensure the lock file is read properly or, alternatively, regenerate the lock file with the `poetry lock` command.\r\nInstalling dependencies from lock file\r\n\r\n[RecursionError]\r\nmaximum recursion depth exceeded\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/Users/nat/.poetry/lib/poetry/console/commands/install.py\", line 69, in handle\r\n    return_code = installer.run()\r\n  File \"/Users/nat/.poetry/lib/poetry/installation/installer.py\", line 74, in run\r\n    self._do_install(local_repo)\r\n  File \"/Users/nat/.poetry/lib/poetry/installation/installer.py\", line 225, in _do_install\r\n    ops = solver.solve(use_latest=whitelist)\r\n  File \"/Users/nat/.poetry/lib/poetry/puzzle/solver.py\", line 36, in solve\r\n    packages, depths = self._solve(use_latest=use_latest)\r\n  File \"/Users/nat/.poetry/lib/poetry/puzzle/solver.py\", line 187, in _solve\r\n    e.constraints, use_latest=use_latest\r\n  File \"/Users/nat/.poetry/lib/poetry/puzzle/solver.py\", line 154, in solve_in_compatibility_mode\r\n    _packages, _depths = self._solve(use_latest=use_latest)\r\n\r\n... several pages of the last same two lines repeating ...\r\n\r\n  File \"/Users/nat/.poetry/lib/poetry/puzzle/solver.py\", line 181, in _solve\r\n    self._package, self._provider, locked=locked, use_latest=use_latest\r\n  File \"/Users/nat/.poetry/lib/poetry/mixology/__init__.py\", line 7, in resolve_version\r\n    return solver.solve()\r\n  File \"/Users/nat/.poetry/lib/poetry/mixology/version_solver.py\", line 80, in solve\r\n    next = self._choose_package_version()\r\n  File \"/Users/nat/.poetry/lib/poetry/mixology/version_solver.py\", line 388, in _choose_package_version\r\n    version = self._provider.complete_package(version)\r\n  File \"/Users/nat/.poetry/lib/poetry/puzzle/provider.py\", line 587, in complete_package\r\n    repository=package.dependency.source_name,\r\n  File \"/Users/nat/.poetry/lib/poetry/repositories/pool.py\", line 115, in package\r\n    package = repo.package(name, version, extras=extras)\r\n  File \"/Users/nat/.poetry/lib/poetry/repositories/repository.py\", line 40, in package\r\n    return package.clone()\r\n  File \"/Users/nat/.poetry/lib/poetry/packages/package.py\", line 427, in clone\r\n    clone.python_versions = self.python_versions\r\n  File \"/Users/nat/.poetry/lib/poetry/packages/package.py\", line 203, in python_versions\r\n    create_nested_marker('python_version', self._python_constraint)\r\n  File \"/Users/nat/.poetry/lib/poetry/version/markers.py\", line 725, in parse_marker\r\n    markers = _coerce_parse_result(MARKER.parseString(marker))\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1943, in parseString\r\n    loc, tokens = self._parse(instring, 0)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4069, in parseImpl\r\n    loc, exprtokens = e._parse(instring, loc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4462, in parseImpl\r\n    return self.expr._parse(instring, loc, doActions, callPreParse=False)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4052, in parseImpl\r\n    loc, resultlist = self.exprs[0]._parse(instring, loc, doActions, callPreParse=False)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4254, in parseImpl\r\n    ret = e._parse(instring, loc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4462, in parseImpl\r\n    return self.expr._parse(instring, loc, doActions, callPreParse=False)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4069, in parseImpl\r\n    loc, exprtokens = e._parse(instring, loc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4462, in parseImpl\r\n    return self.expr._parse(instring, loc, doActions, callPreParse=False)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4069, in parseImpl\r\n    loc, exprtokens = e._parse(instring, loc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4781, in parseImpl\r\n    return super(ZeroOrMore, self).parseImpl(instring, loc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4697, in parseImpl\r\n    loc, tokens = self_expr_parse(instring, loc, doActions, callPreParse=False)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4069, in parseImpl\r\n    loc, exprtokens = e._parse(instring, loc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4462, in parseImpl\r\n    return self.expr._parse(instring, loc, doActions, callPreParse=False)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4052, in parseImpl\r\n    loc, resultlist = self.exprs[0]._parse(instring, loc, doActions, callPreParse=False)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4254, in parseImpl\r\n    ret = e._parse(instring, loc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4462, in parseImpl\r\n    return self.expr._parse(instring, loc, doActions, callPreParse=False)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4052, in parseImpl\r\n    loc, resultlist = self.exprs[0]._parse(instring, loc, doActions, callPreParse=False)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4254, in parseImpl\r\n    ret = e._parse(instring, loc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1683, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 4254, in parseImpl\r\n    ret = e._parse(instring, loc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 1687, in _parseNoCache\r\n    loc, tokens = self.parseImpl(instring, preloc, doActions)\r\n  File \"/Users/nat/.poetry/lib/poetry/_vendor/py3.6/pyparsing.py\", line 2893, in parseImpl\r\n    raise ParseException(instring, loc, self.errmsg, self)\r\n```\r\n\r\nI'm guess this indicates a bug to be fixed, but would also be interested in a work around if one is known.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2762", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2762/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2762/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2762/events", "html_url": "https://github.com/python-poetry/poetry/issues/2762", "id": 670811134, "node_id": "MDU6SXNzdWU2NzA4MTExMzQ=", "number": 2762, "title": "how to install it on google colab?", "user": {"login": "shangguan91", "id": 64595972, "node_id": "MDQ6VXNlcjY0NTk1OTcy", "avatar_url": "https://avatars2.githubusercontent.com/u/64595972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shangguan91", "html_url": "https://github.com/shangguan91", "followers_url": "https://api.github.com/users/shangguan91/followers", "following_url": "https://api.github.com/users/shangguan91/following{/other_user}", "gists_url": "https://api.github.com/users/shangguan91/gists{/gist_id}", "starred_url": "https://api.github.com/users/shangguan91/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shangguan91/subscriptions", "organizations_url": "https://api.github.com/users/shangguan91/orgs", "repos_url": "https://api.github.com/users/shangguan91/repos", "events_url": "https://api.github.com/users/shangguan91/events{/privacy}", "received_events_url": "https://api.github.com/users/shangguan91/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1861574286, "node_id": "MDU6TGFiZWwxODYxNTc0Mjg2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Question", "name": "Question", "color": "f9d0c4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-01T12:05:58Z", "updated_at": "2020-08-04T10:58:45Z", "closed_at": "2020-08-04T10:58:45Z", "author_association": "NONE", "active_lock_reason": null, "body": " name 'poetry' is not defined after i installed, and run poetry --version", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2760", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2760/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2760/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2760/events", "html_url": "https://github.com/python-poetry/poetry/issues/2760", "id": 670424310, "node_id": "MDU6SXNzdWU2NzA0MjQzMTA=", "number": 2760, "title": "[Feat] Automated Development Environment with Docker Volumes", "user": {"login": "bergkvist", "id": 410028, "node_id": "MDQ6VXNlcjQxMDAyOA==", "avatar_url": "https://avatars0.githubusercontent.com/u/410028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bergkvist", "html_url": "https://github.com/bergkvist", "followers_url": "https://api.github.com/users/bergkvist/followers", "following_url": "https://api.github.com/users/bergkvist/following{/other_user}", "gists_url": "https://api.github.com/users/bergkvist/gists{/gist_id}", "starred_url": "https://api.github.com/users/bergkvist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bergkvist/subscriptions", "organizations_url": "https://api.github.com/users/bergkvist/orgs", "repos_url": "https://api.github.com/users/bergkvist/repos", "events_url": "https://api.github.com/users/bergkvist/events{/privacy}", "received_events_url": "https://api.github.com/users/bergkvist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-01T01:56:49Z", "updated_at": "2020-08-12T12:28:49Z", "closed_at": "2020-08-12T12:26:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [X] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [X] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\nAbility to `poetry install`/`pip install -e .` on an (empty) folder during docker build.\r\n\r\nThe Docker image will have all project dependencies preinstalled with the correct versions - but does not yet know anything about the source code of the library - as this will be mounted when the container is started up.\r\n\r\n### Motivation\r\nI want a new developer to be able to start changing Python-code, without having to know anything about poetry. The only manual step involved should be a `docker-compose up`. Having to run `poetry install` every time the container starts up feels repetitive, slow - and unneccesary. Dependencies don't change very often compared to source code.\r\n\r\n### Problem\r\n`poetry install` right now seems to be \"imperative\"/\"eager\" (initially anyways). I would love if there was some \"declarative\"/\"lazy\" alternative, or something that could be done in advance, which would not need to have the source code available. \r\n\r\nA key to this is that I'm personally responsible for ensuring that dependencies are available. I'm also using `poetry config virtualenvs.create false` inside the docker containers.\r\n\r\nIt is important to me that I don't include the source code itself in the docker image - so that the docker image can be shared without also sharing the source code.\r\n\r\n### Workflow\r\n#### JupyterLab (custom prebuilt Docker image)\r\n```py\r\n# JupyterLab: autoreloads allow for changing code and immediately playing around with it\r\n# without restarting the IPython kernel.\r\n%load_ext autoreload\r\n%autoreload 2\r\n# I don't want to have to run poetry install manually for this to work.\r\nimport myproject\r\n```\r\n\r\n#### VSCode (for editing code in shared docker volume)\r\nI want to be able to edit my code here, and have tests rerun automatically. The latest version will immediately/auomatically become available in the JupyterLab container.\r\n\r\n#### Automatic testing/test reporting container\r\nThis container will be responsible for automatically rerunning tests whenever files change. The test results will be exposed through an [html test reporter](https://pypi.org/project/pytest-html/) and [livereload](https://pypi.org/project/livereload/).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2757", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2757/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2757/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2757/events", "html_url": "https://github.com/python-poetry/poetry/issues/2757", "id": 670195829, "node_id": "MDU6SXNzdWU2NzAxOTU4Mjk=", "number": 2757, "title": "What is egg-info folder", "user": {"login": "bartekpacia", "id": 40357511, "node_id": "MDQ6VXNlcjQwMzU3NTEx", "avatar_url": "https://avatars0.githubusercontent.com/u/40357511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bartekpacia", "html_url": "https://github.com/bartekpacia", "followers_url": "https://api.github.com/users/bartekpacia/followers", "following_url": "https://api.github.com/users/bartekpacia/following{/other_user}", "gists_url": "https://api.github.com/users/bartekpacia/gists{/gist_id}", "starred_url": "https://api.github.com/users/bartekpacia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bartekpacia/subscriptions", "organizations_url": "https://api.github.com/users/bartekpacia/orgs", "repos_url": "https://api.github.com/users/bartekpacia/repos", "events_url": "https://api.github.com/users/bartekpacia/events{/privacy}", "received_events_url": "https://api.github.com/users/bartekpacia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1861574286, "node_id": "MDU6TGFiZWwxODYxNTc0Mjg2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Question", "name": "Question", "color": "f9d0c4", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-31T20:29:08Z", "updated_at": "2020-07-31T21:40:45Z", "closed_at": "2020-07-31T21:40:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! I've just started using Poetry because it looks awesome. I created a new project using `poetry new ...` and then `poetry install`, and a folder called `<my_project_name>.egg-info` was created in my root directory. I've searched for some info about info but I didn't find anything. I think it should be better documented, e.g I don't know whether it should be checked into git or not.\r\n\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2752", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2752/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2752/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2752/events", "html_url": "https://github.com/python-poetry/poetry/issues/2752", "id": 668696952, "node_id": "MDU6SXNzdWU2Njg2OTY5NTI=", "number": 2752, "title": "Poetry does not work with tomlkit 0.6.0", "user": {"login": "tlc28", "id": 48520046, "node_id": "MDQ6VXNlcjQ4NTIwMDQ2", "avatar_url": "https://avatars2.githubusercontent.com/u/48520046?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tlc28", "html_url": "https://github.com/tlc28", "followers_url": "https://api.github.com/users/tlc28/followers", "following_url": "https://api.github.com/users/tlc28/following{/other_user}", "gists_url": "https://api.github.com/users/tlc28/gists{/gist_id}", "starred_url": "https://api.github.com/users/tlc28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tlc28/subscriptions", "organizations_url": "https://api.github.com/users/tlc28/orgs", "repos_url": "https://api.github.com/users/tlc28/repos", "events_url": "https://api.github.com/users/tlc28/events{/privacy}", "received_events_url": "https://api.github.com/users/tlc28/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-30T12:58:53Z", "updated_at": "2020-08-03T06:51:02Z", "closed_at": "2020-07-31T14:50:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Poetry!\r\n\r\nPoetry 1.0.10 is unfortunately broken on Guix (https://guix.gnu.org) since I upgraded tomlkit to version 0.6.0!\r\nThe version required by Poetry is \"^0.5.11\", which translates to \">=0.5.11,<0.6.0\". We only have one version of tomlkit packaged, and it's the latest one, 0.6.0.\r\n\r\nFrom what I understand reading SemVer (https://semver.org), minor versions should only \"add functionality in a backwards compatible manner\", and so the API should be stable. So 0.6.0 should work with Poetry. And, as a matter of fact, when I force it (by modifying the requirements), Poetry seems to be working as expected.\r\n\r\nI have 3 options:\r\n- modify the requirements at build time (quick fix);\r\n- package tomlkit version \"0.5\" alongside the \"latest\" version (long term solution);\r\n- report the problem upstream to see if there's a cleaner solution.\r\n\r\nFor the time being, I'll implement solution 1. I'll implement solution 2 if you don't see it as a problem that should be fixed upstream.\r\n\r\nWDYT?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2744", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2744/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2744/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2744/events", "html_url": "https://github.com/python-poetry/poetry/issues/2744", "id": 667787551, "node_id": "MDU6SXNzdWU2Njc3ODc1NTE=", "number": 2744, "title": "1.1.0b2 causes EnvCommandError (Non-posix paths with file:// protocol on Windows)", "user": {"login": "fredrikaverpil", "id": 994357, "node_id": "MDQ6VXNlcjk5NDM1Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/994357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredrikaverpil", "html_url": "https://github.com/fredrikaverpil", "followers_url": "https://api.github.com/users/fredrikaverpil/followers", "following_url": "https://api.github.com/users/fredrikaverpil/following{/other_user}", "gists_url": "https://api.github.com/users/fredrikaverpil/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredrikaverpil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredrikaverpil/subscriptions", "organizations_url": "https://api.github.com/users/fredrikaverpil/orgs", "repos_url": "https://api.github.com/users/fredrikaverpil/repos", "events_url": "https://api.github.com/users/fredrikaverpil/events{/privacy}", "received_events_url": "https://api.github.com/users/fredrikaverpil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-07-29T11:57:46Z", "updated_at": "2020-07-30T13:02:53Z", "closed_at": "2020-07-30T13:02:53Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Windows 10\r\n- **Poetry version**: 1.1.0b2\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: <!-- Gist Link Here -->\r\n\r\n## Issue\r\n\r\nWhen on Poetry 1.0.10 there are no issues. But after having updated to poetry 1.1.0b2, I constantly get an EnvCommandError caused by a FileNotFoundError (a temporary setup.py file is not found):\r\n\r\n```bash\r\n$ poetry --version\r\nPoetry version 1.1.0b2\r\n\r\n$ poetry lock\r\nUpdating dependencies\r\nResolving dependencies...\r\n\r\nWriting lock file\r\n\r\n$ poetry install -vvv                                         \r\nUsing virtualenv: C:\\Users\\fredrik\\code\\repos\\mylittleci\\venv\r\nInstalling dependencies from lock file\r\n\r\nFinding the necessary packages for the current system\r\n\r\nPackage operations: 2 installs, 0 updates, 0 removals\r\n\r\n  \u2022 Installing zipp (3.1.0)\r\n\r\n  Stack trace:\r\n\r\n  7  c:\\users\\fredrik\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\installation\\executor.py:183 in _execute_operation\r\n      181\u2502\r\n      182\u2502             try:\r\n    \u2192 183\u2502                 result = self._do_execute_operation(operation)\r\n      184\u2502             except EnvCommandError as e:\r\n      185\u2502                 if e.e.returncode == -2:\r\n\r\n  6  c:\\users\\fredrik\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\installation\\executor.py:257 in _do_execute_operation\r\n      255\u2502             return 0\r\n      256\u2502\r\n    \u2192 257\u2502         result = getattr(self, \"_execute_{}\".format(method))(operation)\r\n      258\u2502\r\n      259\u2502         if result != 0:\r\n\r\n  5  c:\\users\\fredrik\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\installation\\executor.py:394 in _execute_install\r\n      392\u2502\r\n      393\u2502     def _execute_install(self, operation):  # type: (Install) -> None\r\n    \u2192 394\u2502         return self._install(operation)\r\n      395\u2502\r\n      396\u2502     def _execute_update(self, operation):  # type: (Update) -> None\r\n\r\n  4  c:\\users\\fredrik\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\installation\\executor.py:432 in _install\r\n      430\u2502             args.insert(2, \"-U\")\r\n      431\u2502\r\n    \u2192 432\u2502         return self.run_pip(*args)\r\n      433\u2502\r\n      434\u2502     def _update(self, operation):\r\n\r\n  3  c:\\users\\fredrik\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\installation\\executor.py:283 in run_pip\r\n      281\u2502     def run_pip(self, *args, **kwargs):  # type: (...) -> int\r\n      282\u2502         try:\r\n    \u2192 283\u2502             self._env.run_pip(*args, **kwargs)\r\n      284\u2502         except EnvCommandError as e:\r\n      285\u2502             output = decode(e.e.output)\r\n\r\n  2  c:\\users\\fredrik\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\utils\\env.py:883 in run_pip\r\n       881\u2502         pip = self.get_pip_command()\r\n       882\u2502         cmd = pip + list(args)\r\n    \u2192  883\u2502         return self._run(cmd, **kwargs)\r\n       884\u2502\r\n       885\u2502     def _run(self, cmd, **kwargs):\r\n\r\n  1  c:\\users\\fredrik\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\utils\\env.py:1151 in _run\r\n      1149\u2502             self.unset_env(\"__PYVENV_LAUNCHER__\")\r\n      1150\u2502\r\n    \u2192 1151\u2502             return super(VirtualEnv, self)._run(cmd, **kwargs)\r\n      1152\u2502\r\n      1153\u2502     def execute(self, bin, *args, **kwargs):\r\n\r\n  EnvCommandError\r\n\r\n  Command C:\\Users\\fredrik\\code\\repos\\mylittleci\\venv\\Scripts\\pip.exe install --no-deps file://C:\\Users\\fredrik\\AppData\\Local\\pypoetry\\Cache\\artifacts\\3f\\29\\e0\\445941d0045028dce97085f4263281587225a49fa7dd09f41e4c2752af\\zipp-3.1.0-py3-none-any.whl errored with the following return code 1, and output:\r\n  Processing c:\\users\\fredrik\\appdata\\local\\pypoetry\\cache\\artifacts\\3f\\29\\e0\\445941d0045028dce97085f4263281587225a49fa7dd09f41e4c2752af\\zipp-3.1.0-py3-none-any.whl\r\n      ERROR: Command errored out with exit status 1:\r\n       command: 'c:\\users\\fredrik\\code\\repos\\mylittleci\\venv\\scripts\\python.exe' -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\fredrik\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-gsp4euj0\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\fredrik\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-gsp4euj0\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base 'C:\\Users\\fredrik\\AppData\\Local\\Temp\\pip-pip-egg-info-_md_1odm'\r\n           cwd: C:\\Users\\fredrik\\AppData\\Local\\Temp\\pip-req-build-gsp4euj0\\\r\n      Complete output (5 lines):\r\n      Traceback (most recent call last):\r\n        File \"<string>\", line 1, in <module>\r\n        File \"C:\\Users\\fredrik\\AppData\\Local\\Programs\\Python\\Python37\\lib\\tokenize.py\", line 447, in open\r\n          buffer = _builtin_open(filename, 'rb')\r\n      FileNotFoundError: [Errno 2] No such file or directory: 'C:\\\\Users\\\\fredrik\\\\AppData\\\\Local\\\\Temp\\\\pip-req-build-gsp4euj0\\\\setup.py'\r\n      ----------------------------------------\r\n  ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n\r\n\r\n  at c:\\users\\fredrik\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\utils\\env.py:915 in _run\r\n       911\u2502                 output = subprocess.check_output(\r\n       912\u2502                     cmd, stderr=subprocess.STDOUT, **kwargs\r\n       913\u2502                 )\r\n       914\u2502         except CalledProcessError as e:\r\n    \u2192  915\u2502             raise EnvCommandError(e, input=input_)\r\n       916\u2502\r\n       917\u2502         return decode(output)\r\n       918\u2502\r\n       919\u2502     def execute(self, bin, *args, **kwargs):\r\n```\r\n\r\nThe contents of my `pyproject.toml`:\r\n\r\n```\r\n[tool.poetry]\r\nname = \"mylittleci\"\r\nversion = \"0.0.1\"\r\nauthors = [\"Fredrik <***@***.***>\"]\r\ndescription = \"mylittleci\"\r\n\r\n\r\n[tool.poetry.dependencies]\r\npython = \"^3.7\"\r\n\r\n\r\n[tool.poetry.dev-dependencies]\r\nimportlib_metadata = \"^1.7.0\"\r\n\r\n\r\n[tool.poetry.scripts]\r\ncalculator = \"mylittleci.cli.calculator:main\"\r\n\r\n\r\n[build-system]\r\n# https://python-poetry.org/docs/faq/#is-tox-supported\r\nrequires = [\"poetry-core>=1.0.0a5\"]\r\nbuild-backend = \"poetry.core.masonry.api\"\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2742", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2742/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2742/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2742/events", "html_url": "https://github.com/python-poetry/poetry/issues/2742", "id": 667509785, "node_id": "MDU6SXNzdWU2Njc1MDk3ODU=", "number": 2742, "title": "1.0.10 NameError exception 'PosixPath' is not defined when creating virtual envrionment", "user": {"login": "pladdy", "id": 11509380, "node_id": "MDQ6VXNlcjExNTA5Mzgw", "avatar_url": "https://avatars0.githubusercontent.com/u/11509380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pladdy", "html_url": "https://github.com/pladdy", "followers_url": "https://api.github.com/users/pladdy/followers", "following_url": "https://api.github.com/users/pladdy/following{/other_user}", "gists_url": "https://api.github.com/users/pladdy/gists{/gist_id}", "starred_url": "https://api.github.com/users/pladdy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pladdy/subscriptions", "organizations_url": "https://api.github.com/users/pladdy/orgs", "repos_url": "https://api.github.com/users/pladdy/repos", "events_url": "https://api.github.com/users/pladdy/events{/privacy}", "received_events_url": "https://api.github.com/users/pladdy/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-29T02:59:02Z", "updated_at": "2020-08-19T09:34:59Z", "closed_at": "2020-07-29T13:07:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: centos7.8.2003\r\n- **Poetry version**: 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://github.com/pladdy/poetry-1.0.10-centos-postposix\r\n  - I created a repo with docker files, you can reproduce provided you have docker installed\r\n  - `make build-1.0.10` should show the error\r\n\r\n## Issue\r\n\r\nI noticed today when poetry was used in a centos image to install dependencies, it failed (output will be below).  It looks like an exception is thrown when creating the virtual environment, which fails, but then poetry tries to install dependencies:\r\n```sh\r\nStep 16/16 : RUN poetry install -vvv\r\n ---> Running in 7316ee3aa652\r\n/root/.poetry/lib/poetry/_vendor/py2.7/subprocess32.py:149: RuntimeWarning: The _posixsubprocess module is not being used. Child process reliability may suffer if your program uses threads.\r\n  \"program uses threads.\", RuntimeWarning)\r\nThe currently activated Python version 2.7.5 is not supported by the project (^3.7).\r\nTrying to find and use a compatible version. \r\nTrying python3\r\nTrying python3.8\r\nTrying python3.7\r\nUsing python3.7 (3.7.5)\r\nCreating virtualenv poetry-1.0.10-centos-postposix-WP7muOYE-py3.7 in /root/.cache/pypoetry/virtualenvs\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nNameError: name 'PosixPath' is not defined\r\nUsing virtualenv: /root/.cache/pypoetry/virtualenvs/poetry-1.0.10-centos-postposix-WP7muOYE-py3.7\r\nUpdating dependencies\r\nResolving dependencies...\r\n   1: fact: poetry-1.0.10-centos-postposix is 0.1.0\r\n   1: derived: poetry-1.0.10-centos-postposix\r\n   1: fact: poetry-1.0.10-centos-postposix depends on jsonschema (^3.2.0)\r\n   1: selecting poetry-1.0.10-centos-postposix (0.1.0)\r\n   1: derived: jsonschema (^3.2.0)\r\n   1: fact: jsonschema (3.2.0) depends on attrs (>=17.4.0)\r\n   1: fact: jsonschema (3.2.0) depends on pyrsistent (>=0.14.0)\r\n   1: fact: jsonschema (3.2.0) depends on six (>=1.11.0)\r\n   1: fact: jsonschema (3.2.0) depends on importlib-metadata (*)\r\n   1: selecting jsonschema (3.2.0)\r\n   1: derived: importlib-metadata (*)\r\n   1: derived: six (>=1.11.0)\r\n   1: derived: pyrsistent (>=0.14.0)\r\n   1: derived: attrs (>=17.4.0)\r\n   1: selecting six (1.15.0)\r\n   1: selecting attrs (19.3.0)\r\n   1: fact: pyrsistent (0.16.0) depends on six (*)\r\n   1: selecting pyrsistent (0.16.0)\r\n   1: fact: importlib-metadata (1.7.0) depends on zipp (>=0.5)\r\n   1: selecting importlib-metadata (1.7.0)\r\n   1: derived: zipp (>=0.5)\r\n   1: selecting zipp (3.1.0)\r\n   1: Version solving took 0.639 seconds.\r\n   1: Tried 1 solutions.\r\n\r\nWriting lock file\r\n\r\n[SolverProblemError]\r\nThe current project's Python requirement (2.7.5) is not compatible with some of the required packages Python requirement:\r\n  - zipp requires Python >=3.6\r\n\r\nBecause no versions of jsonschema match >3.2.0,<4.0.0\r\n and jsonschema (3.2.0) depends on importlib-metadata (*), jsonschema (>=3.2.0,<4.0.0) requires importlib-metadata (*).\r\nAnd because no versions of importlib-metadata match !=1.7.0\r\n and importlib-metadata (1.7.0) depends on zipp (>=0.5), jsonschema (>=3.2.0,<4.0.0) requires zipp (>=0.5).\r\nBecause zipp (3.1.0) requires Python >=3.6\r\n and no versions of zipp match >=0.5,<3.1.0 || >3.1.0, zipp is forbidden.\r\nThus, jsonschema is forbidden.\r\nSo, because poetry-1.0.10-centos-postposix depends on jsonschema (^3.2.0), version solving failed.\r\n\r\nTraceback (most recent call last):\r\n  File \"/root/.poetry/lib/poetry/_vendor/py2.7/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/root/.poetry/lib/poetry/_vendor/py2.7/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/root/.poetry/lib/poetry/_vendor/py2.7/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/root/.poetry/lib/poetry/_vendor/py2.7/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/root/.poetry/lib/poetry/console/commands/install.py\", line 69, in handle\r\n    return_code = installer.run()\r\n  File \"/root/.poetry/lib/poetry/installation/installer.py\", line 74, in run\r\n    self._do_install(local_repo)\r\n  File \"/root/.poetry/lib/poetry/installation/installer.py\", line 225, in _do_install\r\n    ops = solver.solve(use_latest=whitelist)\r\n  File \"/root/.poetry/lib/poetry/puzzle/solver.py\", line 36, in solve\r\n    packages, depths = self._solve(use_latest=use_latest)\r\n  File \"/root/.poetry/lib/poetry/puzzle/solver.py\", line 190, in _solve\r\n    raise SolverProblemError(e)\r\n\r\nThe command '/bin/sh -c poetry install -vvv' returned a non-zero code: 1\r\nmake: *** [build-1.0.10] Error 1\r\n```\r\n\r\nCurious if anyone else is running into this.  I typically use poetry on my mac, but I have some projects where I'll use it to install dependencies on centos based images like in the example project linked above.\r\n\r\nHope this is helpful, thank you for your consideration!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2738", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2738/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2738/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2738/events", "html_url": "https://github.com/python-poetry/poetry/issues/2738", "id": 667007205, "node_id": "MDU6SXNzdWU2NjcwMDcyMDU=", "number": 2738, "title": "Improve how internal errors are propagated to users and when debugging issues", "user": {"login": "abn", "id": 165325, "node_id": "MDQ6VXNlcjE2NTMyNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/165325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abn", "html_url": "https://github.com/abn", "followers_url": "https://api.github.com/users/abn/followers", "following_url": "https://api.github.com/users/abn/following{/other_user}", "gists_url": "https://api.github.com/users/abn/gists{/gist_id}", "starred_url": "https://api.github.com/users/abn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abn/subscriptions", "organizations_url": "https://api.github.com/users/abn/orgs", "repos_url": "https://api.github.com/users/abn/repos", "events_url": "https://api.github.com/users/abn/events{/privacy}", "received_events_url": "https://api.github.com/users/abn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1963884637, "node_id": "MDU6TGFiZWwxOTYzODg0NjM3", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Improvement", "name": "Improvement", "color": "ead24b", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-28T11:44:50Z", "updated_at": "2020-07-28T15:05:27Z", "closed_at": "2020-07-28T13:04:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As things stand today, the internal errors that happen when issues like #2737 #2734 are encountered are lost to the logger.\r\n\r\nhttps://github.com/python-poetry/poetry/blob/cae154c26485e3177f994f828b73d342aec12810/poetry/inspection/info.py#L153-L160\r\n\r\nThis needs to be improved such that we use an application level logger with an option to generate debug logs if/when required without interfering with the CLI UX.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2737", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2737/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2737/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2737/events", "html_url": "https://github.com/python-poetry/poetry/issues/2737", "id": 666926136, "node_id": "MDU6SXNzdWU2NjY5MjYxMzY=", "number": 2737, "title": "Tilde operator (`~=`) in dependencies fails silently in 1.1.0b2", "user": {"login": "ewjoachim", "id": 1457576, "node_id": "MDQ6VXNlcjE0NTc1NzY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1457576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ewjoachim", "html_url": "https://github.com/ewjoachim", "followers_url": "https://api.github.com/users/ewjoachim/followers", "following_url": "https://api.github.com/users/ewjoachim/following{/other_user}", "gists_url": "https://api.github.com/users/ewjoachim/gists{/gist_id}", "starred_url": "https://api.github.com/users/ewjoachim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ewjoachim/subscriptions", "organizations_url": "https://api.github.com/users/ewjoachim/orgs", "repos_url": "https://api.github.com/users/ewjoachim/repos", "events_url": "https://api.github.com/users/ewjoachim/events{/privacy}", "received_events_url": "https://api.github.com/users/ewjoachim/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1938902308, "node_id": "MDU6TGFiZWwxOTM4OTAyMzA4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Core", "name": "Core", "color": "97ebfc", "default": false, "description": "Related to the core library"}, {"id": 851634278, "node_id": "MDU6TGFiZWw4NTE2MzQyNzg=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Dependency%20resolution", "name": "Dependency resolution", "color": "356991", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "sdispater", "id": 555648, "node_id": "MDQ6VXNlcjU1NTY0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/555648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdispater", "html_url": "https://github.com/sdispater", "followers_url": "https://api.github.com/users/sdispater/followers", "following_url": "https://api.github.com/users/sdispater/following{/other_user}", "gists_url": "https://api.github.com/users/sdispater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdispater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdispater/subscriptions", "organizations_url": "https://api.github.com/users/sdispater/orgs", "repos_url": "https://api.github.com/users/sdispater/repos", "events_url": "https://api.github.com/users/sdispater/events{/privacy}", "received_events_url": "https://api.github.com/users/sdispater/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sdispater", "id": 555648, "node_id": "MDQ6VXNlcjU1NTY0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/555648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdispater", "html_url": "https://github.com/sdispater", "followers_url": "https://api.github.com/users/sdispater/followers", "following_url": "https://api.github.com/users/sdispater/following{/other_user}", "gists_url": "https://api.github.com/users/sdispater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdispater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdispater/subscriptions", "organizations_url": "https://api.github.com/users/sdispater/orgs", "repos_url": "https://api.github.com/users/sdispater/repos", "events_url": "https://api.github.com/users/sdispater/events{/privacy}", "received_events_url": "https://api.github.com/users/sdispater/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/python-poetry/poetry/milestones/3", "html_url": "https://github.com/python-poetry/poetry/milestone/3", "labels_url": "https://api.github.com/repos/python-poetry/poetry/milestones/3/labels", "id": 5081070, "node_id": "MDk6TWlsZXN0b25lNTA4MTA3MA==", "number": 3, "title": "1.1", "description": "", "creator": {"login": "sdispater", "id": 555648, "node_id": "MDQ6VXNlcjU1NTY0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/555648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdispater", "html_url": "https://github.com/sdispater", "followers_url": "https://api.github.com/users/sdispater/followers", "following_url": "https://api.github.com/users/sdispater/following{/other_user}", "gists_url": "https://api.github.com/users/sdispater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdispater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdispater/subscriptions", "organizations_url": "https://api.github.com/users/sdispater/orgs", "repos_url": "https://api.github.com/users/sdispater/repos", "events_url": "https://api.github.com/users/sdispater/events{/privacy}", "received_events_url": "https://api.github.com/users/sdispater/received_events", "type": "User", "site_admin": false}, "open_issues": 15, "closed_issues": 33, "state": "open", "created_at": "2020-02-07T08:39:51Z", "updated_at": "2020-08-20T18:59:14Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2020-07-28T09:34:30Z", "updated_at": "2020-08-03T06:51:18Z", "closed_at": "2020-08-03T06:51:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version. (unstable)\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: N/A\r\n- **Poetry version**: 1.1.0b2 (and not in stable)\r\n- **pyproject.toml**:\r\n```\r\n[tool.poetry]\r\nname = \"foo\"\r\nversion = \"0.1.0\"\r\ndescription = \"\"\r\nauthors = [\"Joachim Jablon\"]\r\n\r\n[tool.poetry.dependencies]\r\npython = \"^3.6\"\r\newjoachim-poetry-bug-2020-07-28 = \"0.0.0\"\r\n\r\n[tool.poetry.dev-dependencies]\r\n\r\n[build-system]\r\nrequires = [\"poetry-core>=1.0.0a5\"]\r\nbuild-backend = \"poetry.core.masonry.api\"\r\n```\r\n\r\n## Issue\r\nThe package `ewjoachim-poetry-bug-2020-07-28` consists of a single line:\r\n```python\r\nsetup(name=\"ewjoachim-poetry-bug-2020-07-28\", install_requires=[\"requests~=2.24.0\"])\r\n```\r\n\r\nWhen launching `poetry debug resolve -vvv` I expect to find `requests`, yet: \r\n```\r\npoetry debug resolve -vvv                    \r\nResolving dependencies...\r\n   1: fact: foo is 0.1.0\r\n   1: derived: foo\r\n   1: fact: foo depends on ewjoachim-poetry-bug-2020-07-28 (0.0.0)\r\n   1: selecting foo (0.1.0)\r\n   1: derived: ewjoachim-poetry-bug-2020-07-28 (0.0.0)\r\nPyPI: 1 packages found for ewjoachim-poetry-bug-2020-07-28 0.0.0\r\n   1: selecting ewjoachim-poetry-bug-2020-07-28 (0.0.0)\r\n   1: Version solving took 0.010 seconds.\r\n   1: Tried 1 solutions.\r\n\r\nResolution results:\r\n\r\newjoachim-poetry-bug-2020-07-28 0.0.0\r\n```\r\n\r\nAs seen with @sdispater, this is because `~=` operator is missing from the `LEGACY_VERSION_CONSTRAINT` in\r\nhttps://github.com/python-poetry/poetry-core/blob/2409e6d980d310791d4ee23ef40623c0cfa884b4/poetry/core/version/grammars/pep508.lark#L17\r\n\r\nThere are 2 issues:\r\n- The missing operator\r\n- The fact that it fails silently and completely ignores the dependency instead of crashing loudly.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2735", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2735/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2735/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2735/events", "html_url": "https://github.com/python-poetry/poetry/issues/2735", "id": 666838340, "node_id": "MDU6SXNzdWU2NjY4MzgzNDA=", "number": 2735, "title": "Poetry add pack", "user": {"login": "peach-lasagna", "id": 59787538, "node_id": "MDQ6VXNlcjU5Nzg3NTM4", "avatar_url": "https://avatars1.githubusercontent.com/u/59787538?v=4", "gravatar_id": "", "url": "https://api.github.com/users/peach-lasagna", "html_url": "https://github.com/peach-lasagna", "followers_url": "https://api.github.com/users/peach-lasagna/followers", "following_url": "https://api.github.com/users/peach-lasagna/following{/other_user}", "gists_url": "https://api.github.com/users/peach-lasagna/gists{/gist_id}", "starred_url": "https://api.github.com/users/peach-lasagna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/peach-lasagna/subscriptions", "organizations_url": "https://api.github.com/users/peach-lasagna/orgs", "repos_url": "https://api.github.com/users/peach-lasagna/repos", "events_url": "https://api.github.com/users/peach-lasagna/events{/privacy}", "received_events_url": "https://api.github.com/users/peach-lasagna/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}, {"id": 2171054436, "node_id": "MDU6TGFiZWwyMTcxMDU0NDM2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/candidate/faq", "name": "candidate/faq", "color": "99f7a7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-28T07:34:35Z", "updated_at": "2020-08-03T06:49:14Z", "closed_at": "2020-08-03T06:49:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: 10 Windows\r\n- **Poetry version**: 1.0.10\r\n- **Link of a [Gist](https://github.com/peach-lasagna/Idea-Manager/blob/master/pyproject.toml) with the contents of your pyproject.toml file**\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nI tried to run file and catch error\r\n\r\n```sh\r\n$ py idea_manager\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\kir\\AppData\\Local\\Programs\\Python\\Python38\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"C:\\Users\\kir\\AppData\\Local\\Programs\\Python\\Python38\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"idea_manager\\__main__.py\", line 4, in <module>\r\n    from dotenv import find_dotenv, load_dotenv\r\nModuleNotFoundError: No module named 'dotenv'\r\n```\r\nthen run install\r\n```sh\r\n$ poetry install\r\nCreating virtualenv idea-manager in C:\\Users\\kir\\Tools\\Idea-manager\\.venv\r\nUpdating dependencies\r\nResolving dependencies...\r\n\r\nWriting lock file\r\n\r\n\r\nPackage operations: 32 installs, 0 updates, 0 removals\r\n\r\n  - Installing smmap (3.0.4)\r\n  - Installing gitdb (4.0.5)\r\n  - Installing pbr (5.4.5)\r\n  - Installing snowballstemmer (2.0.0)\r\n  - Installing appdirs (1.4.4)\r\n  - Installing attrs (19.3.0)\r\n  - Installing click (7.1.2)\r\n  - Installing colorama (0.4.3)\r\n  - Installing gitpython (3.1.7)\r\n  - Installing mccabe (0.6.1)\r\n  - Installing mypy-extensions (0.4.3)\r\n  - Installing pathspec (0.8.0)\r\n  - Installing pycodestyle (2.6.0)\r\n  - Installing pydocstyle (5.0.2)\r\n  - Installing pyflakes (2.2.0)\r\n  - Installing pyyaml (5.3.1)\r\n  - Installing regex (2020.7.14)\r\n  - Installing six (1.15.0)\r\n  - Installing stevedore (3.2.0)\r\n  - Installing toml (0.10.1)\r\n  - Installing typed-ast (1.4.1)\r\n  - Installing typing-extensions (3.7.4.2)\r\n  - Installing autopep8 (1.5.3)\r\n  - Installing bandit (1.6.2)\r\n  - Installing black (19.10b0)\r\n  - Installing flake8 (3.8.3)\r\n  - Installing isort (4.3.21)\r\n  - Installing keyboard (0.13.5)\r\n  - Installing mypy (0.782)\r\n  - Installing pylama (7.7.1)\r\n  - Installing python-dotenv (0.14.0)\r\n  - Installing vulture (1.6)\r\n  - Installing Idea-manager (0.1.0)\r\n```\r\nrun show\r\n```sh\r\n$ poetry show\r\nappdirs           1.4.4     A small Python module for determining appropriate platform-specific dirs, e.g. a \"user data dir\".\r\nattrs             19.3.0    Classes Without Boilerplate\r\nautopep8          1.5.3     A tool that automatically formats Python code to conform to the PEP 8 style guide\r\nbandit            1.6.2     Security oriented static analyser for python code.\r\nblack             19.10b0   The uncompromising code formatter.\r\nclick             7.1.2     Composable command line interface toolkit\r\ncolorama          0.4.3     Cross-platform colored terminal text.\r\nflake8            3.8.3     the modular source code checker: pep8 pyflakes and co\r\ngitdb             4.0.5     Git Object Database\r\ngitpython         3.1.7     Python Git Library\r\nisort             4.3.21    A Python utility / library to sort Python imports.\r\nkeyboard          0.13.5    Hook and simulate keyboard events on Windows and Linux\r\nmccabe            0.6.1     McCabe checker, plugin for flake8\r\nmypy              0.782     Optional static typing for Python\r\nmypy-extensions   0.4.3     Experimental type system extensions for programs checked with the mypy typechecker.\r\npathspec          0.8.0     Utility library for gitignore style pattern matching of file paths.\r\npbr               5.4.5     Python Build Reasonableness\r\npycodestyle       2.6.0     Python style guide checker\r\npydocstyle        5.0.2     Python docstring style checker\r\npyflakes          2.2.0     passive checker of Python programs\r\npylama            7.7.1     pylama -- Code audit tool for python\r\npython-dotenv     0.14.0    Add .env support to your django/flask apps in development and deployments\r\npyyaml            5.3.1     YAML parser and emitter for Python\r\nregex             2020.7.14 Alternative regular expression module, to replace re.\r\nsix               1.15.0    Python 2 and 3 compatibility utilities\r\nsmmap             3.0.4     A pure Python implementation of a sliding window memory map manager\r\nsnowballstemmer   2.0.0     This package provides 26 stemmers for 25 languages generated from Snowball algorithms.\r\nstevedore         3.2.0     Manage dynamic plugins for Python applications\r\ntoml              0.10.1    Python Library for Tom's Obvious, Minimal Language\r\ntyped-ast         1.4.1     a fork of Python 2 and 3 ast modules with type comment support\r\ntyping-extensions 3.7.4.2   Backported and Experimental Type Hints for Python 3.5+\r\nvulture           1.6       Find dead code\r\n```\r\nthen run my file\r\n```sh\r\n$ py idea_manager\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\kir\\AppData\\Local\\Programs\\Python\\Python38\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"C:\\Users\\kir\\AppData\\Local\\Programs\\Python\\Python38\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"idea_manager\\__main__.py\", line 4, in <module>\r\n    from dotenv import find_dotenv, load_dotenv\r\nModuleNotFoundError: No module named 'dotenv'\r\n```\r\nOOPS!\r\nI tried add python-dotenv\r\n```sh\r\n$ poetry add python-dotenv\r\n\r\n[ValueError]\r\nPackage python-dotenv is already present\r\n```\r\nOK!\r\nI remove him!\r\n```sh\r\n$ poetry remove python-dotenv\r\nUpdating dependencies\r\nResolving dependencies...\r\n\r\nWriting lock file\r\n\r\n[RecursionError]\r\nmaximum recursion depth exceeded while calling a Python object\r\n```\r\nWHAT?\r\n\r\nI want to show dependies\r\n```sh\r\n$ poetry show\r\n\r\n[RecursionError]\r\nmaximum recursion depth exceeded\r\n```\r\n\r\n**WTF??**", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2730", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2730/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2730/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2730/events", "html_url": "https://github.com/python-poetry/poetry/issues/2730", "id": 665891761, "node_id": "MDU6SXNzdWU2NjU4OTE3NjE=", "number": 2730, "title": "1.1a3/b2 does not detect installed packages as git", "user": {"login": "wakemaster39", "id": 694131, "node_id": "MDQ6VXNlcjY5NDEzMQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/694131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wakemaster39", "html_url": "https://github.com/wakemaster39", "followers_url": "https://api.github.com/users/wakemaster39/followers", "following_url": "https://api.github.com/users/wakemaster39/following{/other_user}", "gists_url": "https://api.github.com/users/wakemaster39/gists{/gist_id}", "starred_url": "https://api.github.com/users/wakemaster39/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wakemaster39/subscriptions", "organizations_url": "https://api.github.com/users/wakemaster39/orgs", "repos_url": "https://api.github.com/users/wakemaster39/repos", "events_url": "https://api.github.com/users/wakemaster39/events{/privacy}", "received_events_url": "https://api.github.com/users/wakemaster39/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-27T00:30:46Z", "updated_at": "2020-07-31T09:05:40Z", "closed_at": "2020-07-31T09:05:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Checked checkbox should look like this: [x] -->\r\n- [ x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [ x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: MacOs 10.15\r\n- **Poetry version**: 1.1a3/b2\r\n\r\n## Issue\r\nThis issues was found trying to validate the change set presented in #2327.  In 1.0.9 where the PR was inititated, the \r\n\r\nhttps://github.com/python-poetry/poetry/blob/4769f72a052743691a5c073777aaf07f72f94e74/poetry/puzzle/solver.py#L87 `pkg.source_type` value was git, in the current master and develop, the pkg.source is returning None.\r\n\r\nBack tracking this issue, lead me to the InstalledRepository load method, https://github.com/python-poetry/poetry/blob/4769f72a052743691a5c073777aaf07f72f94e74/poetry/repositories/installed_repository.py#L55-L57\r\n\r\nI have a test test up where my only dependency is a test git repo, I added the following to try and diagnose the problem. \r\n\r\n```python\r\n        for entry in reversed(env.sys_path):\r\n            print(entry, list(metadata.distributions(path=[entry])))\r\n            for distribution in sorted(\r\n                metadata.distributions(path=[entry]), key=lambda d: str(d._path),\r\n            ):\r\n```\r\n\r\nThe output is:\r\n\r\n```\r\n/Users/cahurst/code/test2/.venv/src/test-abc/src []\r\n/Users/cahurst/code/test2/.venv/lib/python3.8/site-packages [<importlib.metadata.PathDistribution object at 0x109a84af0>, <importlib.metadata.PathDistribution object at 0x109a84a90>, <importlib.metadata.PathDistribution object at 0x109a84c70>, <importlib.metadata.PathDistribution object at 0x109a84dc0>, <importlib.metadata.PathDistribution object at 0x109a84c40>]\r\n/Users/cahurst/.pyenv/versions/3.8.0/lib/python3.8/lib-dynload []\r\n/Users/cahurst/.pyenv/versions/3.8.0/lib/python3.8 []\r\n/Users/cahurst/.pyenv/versions/3.8.0/lib/python38.zip []\r\n []\r\n```\r\n\r\nMy test repo is not returning any metadata distributions and during the next loop, the `dist-info` file is being detected and the package is being treated as a standard package and things try and get updated based on that.\r\n\r\nForcibly adding the following if condition to see if they is the root cause resolves the issue and `pkg.source_type` is being properly populated.\r\n\r\n```python\r\n            for distribution in sorted(\r\n                metadata.distributions(path=[entry]), key=lambda d: str(d._path),\r\n            ):\r\n                name = distribution.metadata[\"name\"]\r\n                path = Path(str(distribution._path))\r\n                if name == \"test-abc\":\r\n                    path = Path(\"/Users/cahurst/code/test2/.venv/src/test-abc/src\")\r\n```\r\n\r\nUnfortunately, `metadata.distributions` is out of my knowledge base and I am unsure what should be changed here  as I looked to try and see if something further in the chain might be wrong as well but this following gate fails unless that first entry is passed in and set.\r\n\r\nhttps://github.com/python-poetry/poetry/blob/4769f72a052743691a5c073777aaf07f72f94e74/poetry/repositories/installed_repository.py#L100-L105\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2726", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2726/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2726/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2726/events", "html_url": "https://github.com/python-poetry/poetry/issues/2726", "id": 665570014, "node_id": "MDU6SXNzdWU2NjU1NzAwMTQ=", "number": 2726, "title": "Package goodtables is not installable via poetry", "user": {"login": "gegenschall", "id": 855271, "node_id": "MDQ6VXNlcjg1NTI3MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/855271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gegenschall", "html_url": "https://github.com/gegenschall", "followers_url": "https://api.github.com/users/gegenschall/followers", "following_url": "https://api.github.com/users/gegenschall/following{/other_user}", "gists_url": "https://api.github.com/users/gegenschall/gists{/gist_id}", "starred_url": "https://api.github.com/users/gegenschall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gegenschall/subscriptions", "organizations_url": "https://api.github.com/users/gegenschall/orgs", "repos_url": "https://api.github.com/users/gegenschall/repos", "events_url": "https://api.github.com/users/gegenschall/events{/privacy}", "received_events_url": "https://api.github.com/users/gegenschall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2171054436, "node_id": "MDU6TGFiZWwyMTcxMDU0NDM2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/candidate/faq", "name": "candidate/faq", "color": "99f7a7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-25T11:36:25Z", "updated_at": "2020-07-27T15:56:16Z", "closed_at": "2020-07-27T09:51:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Arch Linux\r\n- **Poetry version**: 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/gegenschall/04badcf673b3239a7d46a30be0f9f860\r\n- **Output of `poetry lock -vvv`**: https://gist.github.com/gegenschall/71056b9aa63058d4da8cf14992c2f95c\r\n\r\n## Issue\r\nI'm trying to install the package goodtables version 2.5.0. Poetry runs into some kind of dependency cycle that is not detected (?) and never broken and thus cannot complete locking of packages.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2725", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2725/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2725/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2725/events", "html_url": "https://github.com/python-poetry/poetry/issues/2725", "id": 665531943, "node_id": "MDU6SXNzdWU2NjU1MzE5NDM=", "number": 2725, "title": "Editable mode is gone since `1.1.0a2`", "user": {"login": "snejus", "id": 16212750, "node_id": "MDQ6VXNlcjE2MjEyNzUw", "avatar_url": "https://avatars2.githubusercontent.com/u/16212750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snejus", "html_url": "https://github.com/snejus", "followers_url": "https://api.github.com/users/snejus/followers", "following_url": "https://api.github.com/users/snejus/following{/other_user}", "gists_url": "https://api.github.com/users/snejus/gists{/gist_id}", "starred_url": "https://api.github.com/users/snejus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snejus/subscriptions", "organizations_url": "https://api.github.com/users/snejus/orgs", "repos_url": "https://api.github.com/users/snejus/repos", "events_url": "https://api.github.com/users/snejus/events{/privacy}", "received_events_url": "https://api.github.com/users/snejus/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-25T06:58:28Z", "updated_at": "2020-08-02T18:45:58Z", "closed_at": "2020-08-02T18:45:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.  \r\n  * Though this covers more than one release\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: Ubuntu 18.04.4 LTS x86_64\r\n- **Poetry version**: `1.1.0a2-b2`\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: <!-- Gist Link Here -->\r\n\r\n## Issue\r\n\r\nI've been using `1.1.0a1` version since the beginning and having seen the recent pre-release updates I thought I'd try them out. Unfortunately, it doesn't seem that Poetry has been able to install *the root project* in editable mode since `1.1.0a2` pre-release. I've checked also checked `a3` and `b2` and found the same behaviour.\r\n\r\n`pip list` output using `1.1.0a1`, as expected:\r\n```\r\nrequests-toolbelt     0.9.1\r\nsafety                1.9.0\r\nmy-package 4.4.0     /projects/my-package/src\r\n```\r\n\r\nand what I saw for the more recent pre-releases mentioned above:\r\n```\r\nrequests-toolbelt     0.9.1\r\nsafety                1.9.0\r\nmy-package 4.4.0     /projects/my-package/.venv/lib/python3.6/site-packages\r\n```\r\n\r\nIt's telling me that the editable installation is in the `site-packages` - by this logic every each of my dependencies is an editable one too :sweat_smile: \r\n\r\nWould be good to have sorted since it's something that's blocking me from updating. I'd be happy to help with this if you need extra hands.\r\n\r\nSee below for the `pyproject.toml`. The package metadata is altered a bit\r\n```toml\r\n[tool.poetry]\r\nname = \"my-package\"\r\nversion = \"4.4.0\"\r\nauthors = [\"Sarunas Nejus <my@email.com>\"]\r\ndescription = \"My cool cool package\"\r\n\r\nreadme = \"README.rst\"\r\nrepository = \"https://github.com/my/package\"\r\n\r\npackages = [{ include = \"mypackage\", from = \"src\" }]\r\ninclude = [\"packagedata/**/*\"]\r\n\r\n[tool.poetry.urls]\r\nChangelog = \"https://github.com/my/package/CHANGELOG.md\"\r\n\r\n[[tool.poetry.source]]\r\nname = \"pripy\"\r\nurl = \"https://hidden-pypi.com\"\r\n\r\n[tool.poetry.dependencies]\r\npython = \"~3.6\"\r\n\r\npydantic = \"^1.5\"\r\ndataclasses = \"^0.7\"\r\ndj-database-url = \"^0.4\"\r\npsycopg2-binary = \"^2.8\"\r\npython-dateutil = \"*\"\r\ntyping-extensions = \"*\"\r\n\r\n[tool.poetry.dev-dependencies]\r\nmypy = \"^0.782\"\r\nflake8 = \"^3.8\"\r\nsafety = \"^1.9\"\r\npytest = \"^5.4\"\r\npylint = \"^2.5\"\r\npytest-cov = \"^2.8\"\r\npytest-randomly = \"^3\"\r\n\r\n\r\n[tool.coverage.run]\r\nbranch = true\r\ndynamic_context = \"test_function\"\r\n\r\n[tool.coverage.report]\r\nprecision = 2\r\nshow_missing = true\r\nexclude_lines = [\r\n    \"pragma: no cover\",\r\n    \"if TYPE_CHECKING\",\r\n    \"raise AssertionError\",\r\n    \"raise NotImplementedError\"\r\n]\r\n\r\n[tool.coverage.html]\r\nshow_contexts = true\r\n\r\n[tool.pylint.MASTER]\r\nclass-rgx = \"[A-Z_]+[a-zA-Z0-9]+$\"\r\ndeprecated-modules = [\"tkinter.tix\", \"formatter\", \"pycrypto\", \"optparse\", \"httpoxy\", \"xmlrpc\",\r\n                      \"parser\", \"email\", \"pipes\", \"crypt\", \"spwd\", \"imp\", \"xml\", \"lxml\"]\r\ndisable = [\r\n    \"no-member\",  # buggy\r\n    \"bad-continuation\",  # buggy\r\n    \"ungrouped-imports\",  # incompatible with mypy\r\n    \"no-name-in-module\",  # buggy\r\n    \"undefined-variable\",  # covered by mypy\r\n    \"not-callable\",  # covered by mypy\r\n    \"unused-import\", # covered by flake8 which does it correctly\r\n]\r\ndocstring-min-length = 10\r\ngood-names = \"_,pk,pytest_plugins\"\r\nignore-long-lines = 'noqa|^\\s*(# )?<?https?://\\S+>?$'\r\nmax-line-length = 90\r\nmax-nested-blocks = 3\r\nmsg-template=\"{path}:{module}:{line}: [{msg_id}({symbol}), {obj}] {msg}\"\r\nmin-similarity-lines = 5\r\nno-docstring-rgx = \"^test_\"\r\npersistent = \"no\"\r\n\r\n[tool.black]\r\nline_length = 90\r\n\r\n[tool.isort]\r\nline_length = 90\r\nmulti_line_output = 3\r\ninclude_trailing_comma = true\r\n\r\n[build-system]\r\nrequires = [\"poetry-core>=1.0.0a5\"]\r\nbuild-backend = \"poetry.core.masonry.api\"\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2711", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2711/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2711/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2711/events", "html_url": "https://github.com/python-poetry/poetry/issues/2711", "id": 665104381, "node_id": "MDU6SXNzdWU2NjUxMDQzODE=", "number": 2711, "title": "\"env use\" fails with \"NameError: name 'PosixPath' is not defined\"", "user": {"login": "elferia", "id": 25544700, "node_id": "MDQ6VXNlcjI1NTQ0NzAw", "avatar_url": "https://avatars1.githubusercontent.com/u/25544700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elferia", "html_url": "https://github.com/elferia", "followers_url": "https://api.github.com/users/elferia/followers", "following_url": "https://api.github.com/users/elferia/following{/other_user}", "gists_url": "https://api.github.com/users/elferia/gists{/gist_id}", "starred_url": "https://api.github.com/users/elferia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elferia/subscriptions", "organizations_url": "https://api.github.com/users/elferia/orgs", "repos_url": "https://api.github.com/users/elferia/repos", "events_url": "https://api.github.com/users/elferia/events{/privacy}", "received_events_url": "https://api.github.com/users/elferia/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-24T11:24:22Z", "updated_at": "2020-07-28T03:00:59Z", "closed_at": "2020-07-24T11:44:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: Ubuntu 18.04.4 LTS\r\n- **Poetry version**: 1.0.10\r\n\r\n## Issue\r\nWhen I try the following command,\r\n\r\n```\r\npoetry env use 3.8\r\n```\r\n\r\nit will fail with the following message:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nNameError: name 'PosixPath' is not defined\r\n```\r\n\r\nI guess this is caused by the following line.\r\nhttps://github.com/python-poetry/poetry/blob/d3c9049a18ae33baacfcb5c698777282f2f58128/poetry/utils/env.py#L625\r\nVariable `venv` is a `Path` object, and it is finally passed to `str.format()`\r\nhttps://github.com/python-poetry/poetry/blob/d3c9049a18ae33baacfcb5c698777282f2f58128/poetry/utils/env.py#L672\r\nThen `CREATE_VENV_COMMAND` is\r\nhttps://github.com/python-poetry/poetry/blob/d3c9049a18ae33baacfcb5c698777282f2f58128/poetry/utils/env.py#L105-L106\r\n\r\n```\r\n$ python -c 'import pathlib; print(\"{!r}\".format(pathlib.Path(\"/\")))'\r\nPosixPath('/')\r\n```\r\n\r\nSo the interpreter will first read a line like `path = PosixPath('...')` but `PosixPath` is not defined.\r\n\r\nI think this bug is introduced in 1.0.10 https://github.com/python-poetry/poetry/commit/54870697d921ae6efdbba0bc86f6b54c86d6896a\r\n\r\nI guess it will be fixed by replacing `venv` to `str(venv)` so I tried to fix, but the commit above is replacing `str(venv)` to `venv` and I can't understand the purpose to do so. I can't fix it.\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2708", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2708/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2708/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2708/events", "html_url": "https://github.com/python-poetry/poetry/issues/2708", "id": 665000456, "node_id": "MDU6SXNzdWU2NjUwMDA0NTY=", "number": 2708, "title": "Error import: not found on Windows 10 WSL2 - Ubuntu 20.04", "user": {"login": "ThePresence", "id": 19200271, "node_id": "MDQ6VXNlcjE5MjAwMjcx", "avatar_url": "https://avatars2.githubusercontent.com/u/19200271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThePresence", "html_url": "https://github.com/ThePresence", "followers_url": "https://api.github.com/users/ThePresence/followers", "following_url": "https://api.github.com/users/ThePresence/following{/other_user}", "gists_url": "https://api.github.com/users/ThePresence/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThePresence/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThePresence/subscriptions", "organizations_url": "https://api.github.com/users/ThePresence/orgs", "repos_url": "https://api.github.com/users/ThePresence/repos", "events_url": "https://api.github.com/users/ThePresence/events{/privacy}", "received_events_url": "https://api.github.com/users/ThePresence/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-07-24T08:21:46Z", "updated_at": "2020-08-03T10:13:20Z", "closed_at": "2020-08-03T10:12:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "- **OS version and name**: Ubuntu 20.04 on Windows 10 WSL2\r\n- **Poetry version**: 1.0.9\r\n---\r\n\r\n## Issue -\r\n\r\nWhenever I try to use poetry I'm getting below error message -\r\n```\r\npoetry shell\r\n/mnt/c/Users/viren/.poetry/bin/poetry: 2: import: not found\r\n/mnt/c/Users/viren/.poetry/bin/poetry: 3: import: not found\r\n/mnt/c/Users/viren/.poetry/bin/poetry: 4: import: not found\r\n: not founds/viren/.poetry/bin/poetry: 5: \r\n/mnt/c/Users/viren/.poetry/bin/poetry: 6: Syntax error: \"(\" unexpected\r\n```\r\nI'm only getting this error on Ubuntu wsl2, but on Windows 10 it's working flawlessly.\r\n\r\nPlease find the screenshot below -\r\n\r\n![image](https://user-images.githubusercontent.com/19200271/88373388-6118a080-cdb5-11ea-9a11-eaadc57dec93.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2700", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2700/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2700/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2700/events", "html_url": "https://github.com/python-poetry/poetry/issues/2700", "id": 663830788, "node_id": "MDU6SXNzdWU2NjM4MzA3ODg=", "number": 2700, "title": "Restrictive transitive versioning of Python", "user": {"login": "atollk", "id": 1518021, "node_id": "MDQ6VXNlcjE1MTgwMjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1518021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atollk", "html_url": "https://github.com/atollk", "followers_url": "https://api.github.com/users/atollk/followers", "following_url": "https://api.github.com/users/atollk/following{/other_user}", "gists_url": "https://api.github.com/users/atollk/gists{/gist_id}", "starred_url": "https://api.github.com/users/atollk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atollk/subscriptions", "organizations_url": "https://api.github.com/users/atollk/orgs", "repos_url": "https://api.github.com/users/atollk/repos", "events_url": "https://api.github.com/users/atollk/events{/privacy}", "received_events_url": "https://api.github.com/users/atollk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}, {"id": 1624595558, "node_id": "MDU6TGFiZWwxNjI0NTk1NTU4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/wontfix", "name": "wontfix", "color": "efefef", "default": true, "description": "This bug report or feature request will not be addressed"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-07-22T15:00:29Z", "updated_at": "2020-08-06T05:51:54Z", "closed_at": "2020-07-22T17:58:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "-  [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: Microsoft Windows 10 Enterprise Build 18363\r\n- **Poetry version**: 1.1.0a3\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/atollk/db657cf9d4d869ee2d89273c4a9926a3\r\n\r\n## Issue\r\nAs described in issues such as #2646, Python versioning transitively \"corrupts\" project dependencies. In the gist above, if `private_pkg` requires `python = \"^3.8,<3.9\"` (which is very common to see on PyPi), poetry will raise a SolverProblemError because my `\"^3.8\"` includes 3.9 which would conflict with `private_pkg`'s `<3.9`. This forces me to add the constraint `<3.9` to all of my packages until 3.9 releases at which point I will have to manually change all of them again.\r\n\r\nSolving problems like this is the very point why one uses a dependency manager. poetry should recognize that version 3.8 is a valid solution to both constraints and thus be able to install it. Is there a reason why it works the way it does?\r\n\r\nIf you point me to a starting point in the code, I'd be willing to make a PR to fix this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2698", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2698/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2698/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2698/events", "html_url": "https://github.com/python-poetry/poetry/issues/2698", "id": 663550102, "node_id": "MDU6SXNzdWU2NjM1NTAxMDI=", "number": 2698, "title": "poetry env use fails with NameError: name 'WindowsPath' is not defined", "user": {"login": "moochannel", "id": 4381346, "node_id": "MDQ6VXNlcjQzODEzNDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/4381346?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moochannel", "html_url": "https://github.com/moochannel", "followers_url": "https://api.github.com/users/moochannel/followers", "following_url": "https://api.github.com/users/moochannel/following{/other_user}", "gists_url": "https://api.github.com/users/moochannel/gists{/gist_id}", "starred_url": "https://api.github.com/users/moochannel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moochannel/subscriptions", "organizations_url": "https://api.github.com/users/moochannel/orgs", "repos_url": "https://api.github.com/users/moochannel/repos", "events_url": "https://api.github.com/users/moochannel/events{/privacy}", "received_events_url": "https://api.github.com/users/moochannel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-22T07:45:37Z", "updated_at": "2020-08-20T19:04:37Z", "closed_at": "2020-07-22T09:16:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Windows 10 Pro\r\n- **Poetry version**: 1.0.10\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/moochannel/f26598d0d763cbadd7ca44e89bc917c0\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nWhen I run `poetry env use \"C:\\Program Files\\Python37\\python.exe\"` in a directory without a virtual environment, it fails with `NameError: name 'WindowsPath' is not defined`.\r\n\r\n```\r\n(In empty directory C:\\Users\\xxxx\\poetrytest)\r\n> poetry init\r\n> poetry env use \"C:\\Program Files\\Python37\\python.exe\"\r\n\r\nCreating virtualenv poetrytest in C:\\Users\\xxxx\\poetrytest\\.venv\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nNameError: name 'WindowsPath' is not defined\r\n\r\n[EnvCommandError]\r\nCommand ['python', '-'] errored with the following return code 1, and output:\r\n'python' is not recognized as an internal or external command,\r\noperable program or batch file.\r\ninput was : import sys\r\n\r\nif hasattr(sys, \"real_prefix\"):\r\n    print(sys.real_prefix)\r\nelif hasattr(sys, \"base_prefix\"):\r\n    print(sys.base_prefix)\r\nelse:\r\n    print(sys.prefix)\r\n\r\nexit status 1\r\n```\r\n\r\n`CREATE_VENV_COMMAND.format(path))` in EnvManager.build_venv converts `path` to `WindowsPath(path)`, but CREATE_VENV_COMMAND doesn't contain pathlib.WindowsPath. So it results in an error.\r\n\r\nMy workaround here. I suppose the `path` should be converted from WindowsPath to str before it passed to `CREATE_VENV_COMMAND.format(path))`.\r\n\r\n```diff\r\n--- env.py.bak  2020-07-22 06:30:05.245529100 +0900\r\n+++ env.py      2020-07-22 14:20:24.012698600 +0900\r\n@@ -669,7 +669,7 @@\r\n                     stdin=subprocess.PIPE,\r\n                     shell=True,\r\n                 )\r\n-                p.communicate(encode(CREATE_VENV_COMMAND.format(path)))\r\n+                p.communicate(encode(CREATE_VENV_COMMAND.format(str(path))))\r\n             except CalledProcessError as e:\r\n                 raise EnvCommandError(e)\r\n```\r\n\r\nAfter patching this, the command runs fine.\r\n\r\n```\r\n> poetry env use \"C:\\Program Files\\Python37\\python.exe\"\r\nCreating virtualenv poetrytest in C:\\Users\\xxxx\\poetrytest\\.venv\r\nUsing virtualenv: C:\\Users\\xxxx\\poetrytest\\.venv\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2688", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2688/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2688/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2688/events", "html_url": "https://github.com/python-poetry/poetry/issues/2688", "id": 661746972, "node_id": "MDU6SXNzdWU2NjE3NDY5NzI=", "number": 2688, "title": "[Linux, 1.1.0a3, Python3.6] X is not a supported wheel on this platform.", "user": {"login": "scoiatael", "id": 2892794, "node_id": "MDQ6VXNlcjI4OTI3OTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/2892794?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scoiatael", "html_url": "https://github.com/scoiatael", "followers_url": "https://api.github.com/users/scoiatael/followers", "following_url": "https://api.github.com/users/scoiatael/following{/other_user}", "gists_url": "https://api.github.com/users/scoiatael/gists{/gist_id}", "starred_url": "https://api.github.com/users/scoiatael/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scoiatael/subscriptions", "organizations_url": "https://api.github.com/users/scoiatael/orgs", "repos_url": "https://api.github.com/users/scoiatael/repos", "events_url": "https://api.github.com/users/scoiatael/events{/privacy}", "received_events_url": "https://api.github.com/users/scoiatael/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-20T12:10:26Z", "updated_at": "2020-07-21T08:35:14Z", "closed_at": "2020-07-21T08:35:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Linux; Docker `python:3.6` image\r\n- **Poetry version**: 1.1.0a3\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://github.com/scoiatael/poetry-grpcio-issue/blob/master/pyproject.toml\r\n\r\n## Problem with installation of `grpcio` on Python 3.6 with Poetry 1.1.0a3\r\n\r\nFirst of all looks like faster installation in 1.1 will be a great feature, can't wait to have it on stable :)\r\n\r\nHowever when I tried using that feature to speed up our Docker build I encountered a problem with installation of `grpcio` on python 3.6 (works on 3.8 fine, also works with Poetry 1.0.9 on both Python versions):\r\n```\r\nCommand ['/root/.cache/pypoetry/virtualenvs/poetry-grpcio-issue-o9msT97p-py3.6/bin/python', '-m', 'pip', 'install', '--no-deps', '/root/.cache/pypoetry/artifacts/e4/1a/fb/cc14443ebcdd3b0d5df7ca7fbffdc7d9343564703a67906925174cd179/grpcio-1.30.0-cp36-cp36m-manylinux2010_x86_64.whl'] errored with the following return code 1, and output:\r\n  grpcio-1.30.0-cp36-cp36m-manylinux2010_x86_64.whl is not a supported wheel on this platform.\r\n  You are using pip version 18.1, however version 20.2b1 is available.\r\n  You should consider upgrading via the 'pip install --upgrade pip' command.\r\n\r\n\r\n  at /usr/local/lib/python3.6/site-packages/poetry/utils/env.py:937 in _run\r\n       933\u2502                 output = subprocess.check_output(\r\n       934\u2502                     cmd, stderr=subprocess.STDOUT, **kwargs\r\n       935\u2502                 )\r\n       936\u2502         except CalledProcessError as e:\r\n    \u2192  937\u2502             raise EnvCommandError(e, input=input_)\r\n       938\u2502\r\n       939\u2502         return decode(output)\r\n       940\u2502\r\n       941\u2502     def execute(self, bin, *args, **kwargs):\r\n\r\n```\r\n\r\nYou can find minimal working example [here](https://github.com/scoiatael/poetry-grpcio-issue).\r\n\r\nCheers!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2684", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2684/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2684/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2684/events", "html_url": "https://github.com/python-poetry/poetry/issues/2684", "id": 660112952, "node_id": "MDU6SXNzdWU2NjAxMTI5NTI=", "number": 2684, "title": "How do I find outdated dependencies?", "user": {"login": "WhyNotHugo", "id": 730811, "node_id": "MDQ6VXNlcjczMDgxMQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/730811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WhyNotHugo", "html_url": "https://github.com/WhyNotHugo", "followers_url": "https://api.github.com/users/WhyNotHugo/followers", "following_url": "https://api.github.com/users/WhyNotHugo/following{/other_user}", "gists_url": "https://api.github.com/users/WhyNotHugo/gists{/gist_id}", "starred_url": "https://api.github.com/users/WhyNotHugo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WhyNotHugo/subscriptions", "organizations_url": "https://api.github.com/users/WhyNotHugo/orgs", "repos_url": "https://api.github.com/users/WhyNotHugo/repos", "events_url": "https://api.github.com/users/WhyNotHugo/events{/privacy}", "received_events_url": "https://api.github.com/users/WhyNotHugo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1055741547, "node_id": "MDU6TGFiZWwxMDU1NzQxNTQ3", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Documentation", "name": "Documentation", "color": "86d8ad", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-18T12:10:37Z", "updated_at": "2020-07-18T22:20:24Z", "closed_at": "2020-07-18T22:20:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n\r\n## Issue\r\nI've a large project with ~32 pinned dependencies.\r\n\r\n`poetry update` is good for updating within the constraints of these project.\r\n\r\nHowever, I want to find which dependencies are out of date. E.g.: list all dependencies for which I've pinned a specific version, but has newer releases.\r\n\r\nI try to proactively keep my deps up to date, but so far I've been manually checking in pypi if each one has a new version. How can I figure out this using poetry?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2677", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2677/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2677/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2677/events", "html_url": "https://github.com/python-poetry/poetry/issues/2677", "id": 658159529, "node_id": "MDU6SXNzdWU2NTgxNTk1Mjk=", "number": 2677, "title": "Poetry always reinstalls all packages (poetry add, poetry update) on windows 10", "user": {"login": "AlxndrJhn", "id": 7229402, "node_id": "MDQ6VXNlcjcyMjk0MDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/7229402?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlxndrJhn", "html_url": "https://github.com/AlxndrJhn", "followers_url": "https://api.github.com/users/AlxndrJhn/followers", "following_url": "https://api.github.com/users/AlxndrJhn/following{/other_user}", "gists_url": "https://api.github.com/users/AlxndrJhn/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlxndrJhn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlxndrJhn/subscriptions", "organizations_url": "https://api.github.com/users/AlxndrJhn/orgs", "repos_url": "https://api.github.com/users/AlxndrJhn/repos", "events_url": "https://api.github.com/users/AlxndrJhn/events{/privacy}", "received_events_url": "https://api.github.com/users/AlxndrJhn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-16T12:36:49Z", "updated_at": "2020-07-17T10:28:56Z", "closed_at": "2020-07-17T10:28:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: windows 10 ,version 1909\r\n- **Poetry version**: Poetry version 1.0.9\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/AlxndrJhn/b59c7426d3264159318c7fd04364276f\r\n\r\n## Issue\r\nJust like in #2502 poetry re-installs all packages every time I update anything, it re-installs the same version.\r\nI created the virtual environment with `poetry shell`.\r\nAs suggested, I already deleted the lock file and re-created it with `poetry lock`\r\n\r\nThe terminal log below shows that the `update` command was given a single package from a private repo (that is defined in toml file, see above) to update, but re-installed all packages unnecessarily.\r\nThe same happens when I add a new package with `poetry add` and update everything `poetry update`.\r\nI had this issue since I started using poetry on windows (since version 1.0.5).\r\n\r\n```text\r\n(us-tools-XDCreN_q-py3.8) PS C:\\Users\\jahna\\UltrasoundMeasurementCell\\us-tools> python --version\r\nPython 3.8.0\r\n(us-tools-XDCreN_q-py3.8) PS C:\\Users\\jahna\\UltrasoundMeasurementCell\\us-tools> pip --version\r\npip 19.2.3 from c:\\users\\jahna\\appdata\\local\\pypoetry\\cache\\virtualenvs\\us-tools-xdcren_q-py3.8\\lib\\site-packages\\pip (python 3.8)\r\n(us-tools-XDCreN_q-py3.8) PS C:\\Users\\jahna\\UltrasoundMeasurementCell\\us-tools> which python\r\n\r\nCommandType     Name                                               Version    Source\r\n-----------     ----                                               -------    ------\r\nApplication     python.exe                                         3.8.150... C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\Scripts\\python.exe\r\n\r\n\r\n(us-tools-XDCreN_q-py3.8) PS C:\\Users\\jahna\\UltrasoundMeasurementCell\\us-tools> which pip\r\n\r\nCommandType     Name                                               Version    Source\r\n-----------     ----                                               -------    ------\r\nApplication     pip.exe                                            0.0.0.0    C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\Scripts\\pip.exe\r\n\r\n\r\n(us-tools-XDCreN_q-py3.8) PS C:\\Users\\jahna\\UltrasoundMeasurementCell\\us-tools> which poetry\r\n\r\nCommandType     Name                                               Version    Source\r\n-----------     ----                                               -------    ------\r\nApplication     poetry.bat                                         0.0.0.0    C:\\Users\\jahna\\.poetry\\bin\\poetry.bat\r\n\r\n\r\n(us-tools-XDCreN_q-py3.8) PS C:\\Users\\jahna\\UltrasoundMeasurementCell\\us-tools> poetry update ultrasoundalgorithm\r\nUpdating dependencies\r\nResolving dependencies...\r\n\r\n\r\nPackage operations: 0 installs, 45 updates, 0 removals\r\n\r\n  - Updating certifi (2020.6.20 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 2020.6.20)\r\n  - Updating chardet (3.0.4 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 3.0.4)\r\n  - Updating click (7.1.2 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 7.1.2)\r\n  - Updating dnspython (1.16.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.16.0)\r\n  - Updating h11 (0.9.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.9.0)\r\n  - Updating idna (2.10 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 2.10)\r\n  - Updating mypy-extensions (0.4.3 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.4.3)\r\n  - Updating pydantic (1.6.1 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.6.1)\r\n  - Updating pyparsing (2.4.7 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 2.4.7)\r\n  - Updating six (1.15.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.15.0)\r\n  - Updating starlette (0.12.9 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.12.9)\r\n  - Updating typed-ast (1.4.1 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.4.1)\r\n  - Updating typing-extensions (3.7.4.2 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 3.7.4.2)\r\n  - Updating urllib3 (1.25.9 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.25.9)\r\n  - Updating websockets (8.1 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 8.1)\r\n  - Updating appdirs (1.4.4 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.4.4)\r\n  - Updating atomicwrites (1.4.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.4.0)\r\n  - Updating attrs (19.3.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 19.3.0)\r\n  - Updating colorama (0.4.3 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.4.3)\r\n  - Updating cycler (0.10.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.10.0)\r\n  - Updating email-validator (1.1.1 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.1.1)\r\n  - Updating et-xmlfile (1.0.1 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.0.1)\r\n  - Updating fastapi (0.46.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.46.0)\r\n  - Updating jdcal (1.4.1 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.4.1)\r\n  - Updating kiwisolver (1.2.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.2.0)\r\n  - Updating more-itertools (8.4.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 8.4.0)\r\n  - Updating mypy (0.761 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.761)\r\n  - Updating numpy (1.19.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.19.0)\r\n  - Updating packaging (20.4 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 20.4)\r\n  - Updating pathspec (0.8.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.8.0)\r\n  - Updating pillow (7.2.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 7.2.0)\r\n  - Updating pluggy (0.13.1 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.13.1)\r\n  - Updating py (1.9.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 1.9.0)\r\n  - Updating python-dateutil (2.8.1 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 2.8.1)\r\n  - Updating regex (2020.7.14 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 2020.7.14)\r\n  - Updating requests (2.24.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 2.24.0)\r\n  - Updating toml (0.10.1 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.10.1)\r\n  - Updating uvicorn (0.11.5 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.11.5)\r\n  - Updating wcwidth (0.2.5 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 0.2.5)\r\n  - Updating black (19.10b0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 19.10b0)\r\n  - Updating matplotlib (3.2.2 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 3.2.2)\r\n  - Updating openpyxl (3.0.4 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 3.0.4)\r\n  - Updating pytest (5.4.3 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 5.4.3)\r\n  - Updating tqdm (4.47.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 4.47.0)\r\n  - Updating ujson (3.0.0 C:\\Users\\jahna\\AppData\\Local\\pypoetry\\Cache\\virtualenvs\\us-tools-XDCreN_q-py3.8\\lib\\site-packages -> 3.0.0)\r\n```\r\n\r\nI executed the same command again but with `-vvv` flag:\r\n[verbose_update.txt](https://github.com/python-poetry/poetry/files/4931465/verbose_update.txt)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2672", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2672/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2672/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2672/events", "html_url": "https://github.com/python-poetry/poetry/issues/2672", "id": 657832639, "node_id": "MDU6SXNzdWU2NTc4MzI2Mzk=", "number": 2672, "title": "How to build for manylinux2014", "user": {"login": "dimaqq", "id": 662249, "node_id": "MDQ6VXNlcjY2MjI0OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/662249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dimaqq", "html_url": "https://github.com/dimaqq", "followers_url": "https://api.github.com/users/dimaqq/followers", "following_url": "https://api.github.com/users/dimaqq/following{/other_user}", "gists_url": "https://api.github.com/users/dimaqq/gists{/gist_id}", "starred_url": "https://api.github.com/users/dimaqq/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dimaqq/subscriptions", "organizations_url": "https://api.github.com/users/dimaqq/orgs", "repos_url": "https://api.github.com/users/dimaqq/repos", "events_url": "https://api.github.com/users/dimaqq/events{/privacy}", "received_events_url": "https://api.github.com/users/dimaqq/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2171054436, "node_id": "MDU6TGFiZWwyMTcxMDU0NDM2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/candidate/faq", "name": "candidate/faq", "color": "99f7a7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-16T04:17:53Z", "updated_at": "2020-07-17T07:22:44Z", "closed_at": "2020-07-17T07:22:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "What I've tried so far:\r\n\r\n`docker run -v (pwd):/src -it quay.io/pypa/manylinux2014_x86_64 sh`\r\n\r\n```sh\r\nsource $HOME/.poetry/env\r\ncd /src\r\npoetry env use /opt/python/cp38-cp38/bin/python\r\npoetry install\r\npoetry run pytest\r\npoetry build\r\n```\r\n\r\nBuilds: `mypackage-V.V-cp38-cp38-linux_x86_64.whl`\r\n\r\nI'd expect it to build `mypackage-V.V-cp38-cp38-manylinux2014_x86_64.whl` instead", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2670", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2670/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2670/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2670/events", "html_url": "https://github.com/python-poetry/poetry/issues/2670", "id": 656926138, "node_id": "MDU6SXNzdWU2NTY5MjYxMzg=", "number": 2670, "title": "Ability to install project dependencies into arbitrary virtualenv specified by path", "user": {"login": "m-khvoinitsky", "id": 16675892, "node_id": "MDQ6VXNlcjE2Njc1ODky", "avatar_url": "https://avatars1.githubusercontent.com/u/16675892?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-khvoinitsky", "html_url": "https://github.com/m-khvoinitsky", "followers_url": "https://api.github.com/users/m-khvoinitsky/followers", "following_url": "https://api.github.com/users/m-khvoinitsky/following{/other_user}", "gists_url": "https://api.github.com/users/m-khvoinitsky/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-khvoinitsky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-khvoinitsky/subscriptions", "organizations_url": "https://api.github.com/users/m-khvoinitsky/orgs", "repos_url": "https://api.github.com/users/m-khvoinitsky/repos", "events_url": "https://api.github.com/users/m-khvoinitsky/events{/privacy}", "received_events_url": "https://api.github.com/users/m-khvoinitsky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1130493635, "node_id": "MDU6TGFiZWwxMTMwNDkzNjM1", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Virtualenvs", "name": "Virtualenvs", "color": "d0f966", "default": false, "description": ""}, {"id": 2171054436, "node_id": "MDU6TGFiZWwyMTcxMDU0NDM2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/candidate/faq", "name": "candidate/faq", "color": "99f7a7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-14T22:03:43Z", "updated_at": "2020-07-19T18:51:07Z", "closed_at": "2020-07-19T18:51:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Right now it's possible to only specify directory where poetry will create virtualenv, not the final virtualenv directory (or am I missing something?) which is extremely inconvenient during deployment.\r\n\r\nThere *is* a workaround: install poetry itself into desired virtualenv and it will use it which is what I'm doing now, but there is a problem: project dependencies may conflict with poetry dependencies (which is happening in my case).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2669", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2669/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2669/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2669/events", "html_url": "https://github.com/python-poetry/poetry/issues/2669", "id": 656603613, "node_id": "MDU6SXNzdWU2NTY2MDM2MTM=", "number": 2669, "title": "Consistent naming for package files", "user": {"login": "allyraza", "id": 570731, "node_id": "MDQ6VXNlcjU3MDczMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/570731?v=4", "gravatar_id": "", "url": "https://api.github.com/users/allyraza", "html_url": "https://github.com/allyraza", "followers_url": "https://api.github.com/users/allyraza/followers", "following_url": "https://api.github.com/users/allyraza/following{/other_user}", "gists_url": "https://api.github.com/users/allyraza/gists{/gist_id}", "starred_url": "https://api.github.com/users/allyraza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/allyraza/subscriptions", "organizations_url": "https://api.github.com/users/allyraza/orgs", "repos_url": "https://api.github.com/users/allyraza/repos", "events_url": "https://api.github.com/users/allyraza/events{/privacy}", "received_events_url": "https://api.github.com/users/allyraza/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 2171054436, "node_id": "MDU6TGFiZWwyMTcxMDU0NDM2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/candidate/faq", "name": "candidate/faq", "color": "99f7a7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-07-14T13:15:44Z", "updated_at": "2020-07-14T15:36:35Z", "closed_at": "2020-07-14T13:30:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nFirst thank you for this wonderful project!\r\n\r\nI have been meaning to start something to consolidate current package management tools to make it something that gives you unified and deterministic package management experience never, then a colleague told me about `poetry`.\r\n\r\nI would like to know was there any particular reason for not using a consistent naming for `.toml` and `.lock` files, what about `poetry.toml` for toml file and `poetry.lock`  for lock file\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2665", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2665/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2665/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2665/events", "html_url": "https://github.com/python-poetry/poetry/issues/2665", "id": 656106736, "node_id": "MDU6SXNzdWU2NTYxMDY3MzY=", "number": 2665, "title": "`poetry init` still outputs `poetry.masonry.api` as `build-system`,  not `poetry.core.masonry.api`", "user": {"login": "StephenBrown2", "id": 1148665, "node_id": "MDQ6VXNlcjExNDg2NjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1148665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/StephenBrown2", "html_url": "https://github.com/StephenBrown2", "followers_url": "https://api.github.com/users/StephenBrown2/followers", "following_url": "https://api.github.com/users/StephenBrown2/following{/other_user}", "gists_url": "https://api.github.com/users/StephenBrown2/gists{/gist_id}", "starred_url": "https://api.github.com/users/StephenBrown2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/StephenBrown2/subscriptions", "organizations_url": "https://api.github.com/users/StephenBrown2/orgs", "repos_url": "https://api.github.com/users/StephenBrown2/repos", "events_url": "https://api.github.com/users/StephenBrown2/events{/privacy}", "received_events_url": "https://api.github.com/users/StephenBrown2/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-13T20:10:19Z", "updated_at": "2020-07-13T20:15:45Z", "closed_at": "2020-07-13T20:15:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n`poetry init` does not follow the updated docs in https://python-poetry.org/docs/pyproject/#poetry-and-pep-517 for specifying the `build-system` `backend` as `poetry.core.masonry.api`. The code here should be updated:\r\nhttps://github.com/python-poetry/poetry/blob/b19873ae4f4391b89bd6fe89aed52963c44db078/poetry/layouts/layout.py#L106-L115\r\n\r\nto be:\r\n```py\r\n        build_system.add(\"requires\", [\"poetry_core\" + build_system_version])\r\n        build_system.add(\"build-backend\", \"poetry.core.masonry.api\")\r\n```\r\nand of course `BUILD_SYSTEM_MIN_VERSION = \"1.0.0\"` above.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2661", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2661/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2661/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2661/events", "html_url": "https://github.com/python-poetry/poetry/issues/2661", "id": 655750593, "node_id": "MDU6SXNzdWU2NTU3NTA1OTM=", "number": 2661, "title": "--remove-untracked does not work", "user": {"login": "cwittlinger", "id": 17162955, "node_id": "MDQ6VXNlcjE3MTYyOTU1", "avatar_url": "https://avatars1.githubusercontent.com/u/17162955?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cwittlinger", "html_url": "https://github.com/cwittlinger", "followers_url": "https://api.github.com/users/cwittlinger/followers", "following_url": "https://api.github.com/users/cwittlinger/following{/other_user}", "gists_url": "https://api.github.com/users/cwittlinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/cwittlinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cwittlinger/subscriptions", "organizations_url": "https://api.github.com/users/cwittlinger/orgs", "repos_url": "https://api.github.com/users/cwittlinger/repos", "events_url": "https://api.github.com/users/cwittlinger/events{/privacy}", "received_events_url": "https://api.github.com/users/cwittlinger/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1055741547, "node_id": "MDU6TGFiZWwxMDU1NzQxNTQ3", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Documentation", "name": "Documentation", "color": "86d8ad", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-07-13T10:47:07Z", "updated_at": "2020-07-16T08:50:46Z", "closed_at": "2020-07-16T08:50:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **Poetry version**: 1.0.9\r\n\r\n## Issue\r\nAccording to the documentation `poetry install --remove-untracked` should work. In version 1.0.9 however, it gives me a `NoSuchOptionException`.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2660", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2660/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2660/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2660/events", "html_url": "https://github.com/python-poetry/poetry/issues/2660", "id": 655729104, "node_id": "MDU6SXNzdWU2NTU3MjkxMDQ=", "number": 2660, "title": "Local path dependencies cannot be updated/rebuilt on update", "user": {"login": "supermihi", "id": 102419, "node_id": "MDQ6VXNlcjEwMjQxOQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/102419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/supermihi", "html_url": "https://github.com/supermihi", "followers_url": "https://api.github.com/users/supermihi/followers", "following_url": "https://api.github.com/users/supermihi/following{/other_user}", "gists_url": "https://api.github.com/users/supermihi/gists{/gist_id}", "starred_url": "https://api.github.com/users/supermihi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/supermihi/subscriptions", "organizations_url": "https://api.github.com/users/supermihi/orgs", "repos_url": "https://api.github.com/users/supermihi/repos", "events_url": "https://api.github.com/users/supermihi/events{/privacy}", "received_events_url": "https://api.github.com/users/supermihi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-13T10:13:08Z", "updated_at": "2020-07-15T09:27:11Z", "closed_at": "2020-07-14T08:50:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Windows 10 Version 2004\r\n- **Poetry version**: 1.0.9\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: not relevant\r\n\r\n## Issue\r\nI have added a dependency to a setuptools package in a local path (`poetry add <...path to setup.py directory>`). That package contains native python modules which are built by setuptools. Poetry did build and install the package on the initial `add` command.\r\n\r\nNow, the external package is updated via `git pull`. Another manual call to `setup.py build` or `setup.py install` in that package's directory causes te native modules to be rebuilt. However, it does not seem possible to trigger such a rebuilt from poetry. I have tried `poetry install` but that command does not seem to notice that the dependency has changed.\r\n\r\n*Hint*: the dependency is *not* under semantic versioning. I noticed that manually increasing the version in `setup.py` *does* cause a subsequent `poetry install` to recompile the module. But is it possible to rebuild without increasing the version?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2659", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2659/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2659/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2659/events", "html_url": "https://github.com/python-poetry/poetry/issues/2659", "id": 655709557, "node_id": "MDU6SXNzdWU2NTU3MDk1NTc=", "number": 2659, "title": "Installing pre-built wheels 1.1.0a3", "user": {"login": "aviramha", "id": 41201924, "node_id": "MDQ6VXNlcjQxMjAxOTI0", "avatar_url": "https://avatars0.githubusercontent.com/u/41201924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aviramha", "html_url": "https://github.com/aviramha", "followers_url": "https://api.github.com/users/aviramha/followers", "following_url": "https://api.github.com/users/aviramha/following{/other_user}", "gists_url": "https://api.github.com/users/aviramha/gists{/gist_id}", "starred_url": "https://api.github.com/users/aviramha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aviramha/subscriptions", "organizations_url": "https://api.github.com/users/aviramha/orgs", "repos_url": "https://api.github.com/users/aviramha/repos", "events_url": "https://api.github.com/users/aviramha/events{/privacy}", "received_events_url": "https://api.github.com/users/aviramha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-13T09:45:10Z", "updated_at": "2020-07-13T10:31:21Z", "closed_at": "2020-07-13T10:31:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**:  Linux/macOS Python 3.7\r\n- **Poetry version**: 1.1.0a3\r\n\r\nWhen testing the new version, I have an exception raising that doesn't occur on the stable release.\r\nThe pyproject.toml contains grpcio and the installation is from lock file - exact command:\r\n`poetry install -vvv --no-dev --no-root`\r\nThis is the verbose output:\r\n```\r\n  Stack trace:\r\n\r\n  6  /usr/local/lib/python3.7/site-packages/poetry/installation/executor.py:181 in _execute_operation\r\n      179\u2502 \r\n      180\u2502             try:\r\n    \u2192 181\u2502                 result = self._do_execute_operation(operation)\r\n      182\u2502             except EnvCommandError as e:\r\n      183\u2502                 if e.e.returncode == -2:\r\n\r\n  5  /usr/local/lib/python3.7/site-packages/poetry/installation/executor.py:255 in _do_execute_operation\r\n      253\u2502             return 0\r\n      254\u2502 \r\n    \u2192 255\u2502         result = getattr(self, \"_execute_{}\".format(method))(operation)\r\n      256\u2502 \r\n      257\u2502         if result != 0:\r\n\r\n  4  /usr/local/lib/python3.7/site-packages/poetry/installation/executor.py:392 in _execute_install\r\n      390\u2502 \r\n      391\u2502     def _execute_install(self, operation):  # type: (Install) -> None\r\n    \u2192 392\u2502         return self._install(operation)\r\n      393\u2502 \r\n      394\u2502     def _execute_update(self, operation):  # type: (Update) -> None\r\n\r\n  3  /usr/local/lib/python3.7/site-packages/poetry/installation/executor.py:430 in _install\r\n      428\u2502             args.insert(2, \"-U\")\r\n      429\u2502 \r\n    \u2192 430\u2502         return self.run_pip(*args)\r\n      431\u2502 \r\n      432\u2502     def _update(self, operation):\r\n\r\n  2  /usr/local/lib/python3.7/site-packages/poetry/installation/executor.py:281 in run_pip\r\n      279\u2502     def run_pip(self, *args, **kwargs):  # type: (...) -> int\r\n      280\u2502         try:\r\n    \u2192 281\u2502             self._env.run(\"python\", \"-m\", \"pip\", *args, **kwargs)\r\n      282\u2502         except EnvCommandError as e:\r\n      283\u2502             output = decode(e.e.output)\r\n\r\n  1  /usr/local/lib/python3.7/site-packages/poetry/utils/env.py:900 in run\r\n       898\u2502         bin = self._bin(bin)\r\n       899\u2502         cmd = [bin] + list(args)\r\n    \u2192  900\u2502         return self._run(cmd, **kwargs)\r\n       901\u2502 \r\n       902\u2502     def run_pip(self, *args, **kwargs):\r\n\r\n  EnvCommandError\r\n\r\n  Command ['/usr/local/bin/python', '-m', 'pip', 'install', '--no-deps', '/root/.cache/pypoetry/artifacts/bf/5c/37/e12e65a458ae61e0f0bd770b37983b777496195b2437778787e8bfffa9/grpcio-1.30.0-cp37-cp37m-manylinux2010_x86_64.whl'] errored with the following return code 1, and output: \r\n  grpcio-1.30.0-cp37-cp37m-manylinux2010_x86_64.whl is not a supported wheel on this platform.\r\n  You are using pip version 18.1, however version 20.2b1 is available.\r\n  You should consider upgrading via the 'pip install --upgrade pip' command.\r\n  \r\n\r\n  at /usr/local/lib/python3.7/site-packages/poetry/utils/env.py:937 in _run\r\n       933\u2502                 output = subprocess.check_output(\r\n       934\u2502                     cmd, stderr=subprocess.STDOUT, **kwargs\r\n       935\u2502                 )\r\n       936\u2502         except CalledProcessError as e:\r\n    \u2192  937\u2502             raise EnvCommandError(e, input=input_)\r\n       938\u2502 \r\n       939\u2502         return decode(output)\r\n       940\u2502 \r\n       941\u2502     def execute(self, bin, *args, **kwargs):\r\n\r\n````\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2657", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2657/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2657/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2657/events", "html_url": "https://github.com/python-poetry/poetry/issues/2657", "id": 655467402, "node_id": "MDU6SXNzdWU2NTU0Njc0MDI=", "number": 2657, "title": "Project package in 'src/' folder is not added to python path after install", "user": {"login": "boukeversteegh", "id": 53926, "node_id": "MDQ6VXNlcjUzOTI2", "avatar_url": "https://avatars2.githubusercontent.com/u/53926?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boukeversteegh", "html_url": "https://github.com/boukeversteegh", "followers_url": "https://api.github.com/users/boukeversteegh/followers", "following_url": "https://api.github.com/users/boukeversteegh/following{/other_user}", "gists_url": "https://api.github.com/users/boukeversteegh/gists{/gist_id}", "starred_url": "https://api.github.com/users/boukeversteegh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boukeversteegh/subscriptions", "organizations_url": "https://api.github.com/users/boukeversteegh/orgs", "repos_url": "https://api.github.com/users/boukeversteegh/repos", "events_url": "https://api.github.com/users/boukeversteegh/events{/privacy}", "received_events_url": "https://api.github.com/users/boukeversteegh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-12T20:07:20Z", "updated_at": "2020-07-23T22:53:01Z", "closed_at": "2020-07-23T22:53:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version. (Prerelease!)\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option). No poetry exception\r\n\r\nRunning `Windows 10 Pro` with `Ubuntu 18.04.4 LTS` inside Windows Subsystem for Linux, with ZSH.\r\n\r\n```\r\nPoetry\r\nVersion: 1.1.0a3\r\nPython:  3.6.9\r\n\r\nVirtualenv\r\nPython:         3.6.9\r\nImplementation: CPython\r\nPath:           /home/bouke/.cache/pypoetry/virtualenvs/betterproto-1OFIV5Qo-py3.6\r\nValid:          True\r\n\r\nSystem\r\nPlatform: linux\r\nOS:       posix\r\nPython:   /usr\r\n```\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://github.com/danielgtaylor/python-betterproto/blob/master/pyproject.toml\r\n\r\n## Issue\r\n\r\n- After running `poetry install`, the project package itself is not added to python path.\r\n- Our package is in `src/`, and defined in `pyproject.toml` to be included as `betterproto` (may or may not be related)\r\n\r\n## Reproduce:\r\n\r\nclone `betterproto`\r\n```bash\r\ngit clone git@github.com:danielgtaylor/python-betterproto.git poetry-install-bug\r\ncd poetry-install-bug\r\ngit checkout cbd34370803a537743f6cdcadb9e5893781b137d\r\n```\r\n\r\ninstall poetry\r\n```bash \r\npoetry run pip install --upgrade pip  # workaround for another bug, probably not essential to reproduce\r\npoetry install\r\n```\r\n\r\nrun a module that depends on the project package `betterproto`\r\n```bash\r\npoetry run python -m tests.generate\r\n# ModuleNotFoundError: No module named 'betterproto'\r\n```\r\n\r\n## Full log\r\n\r\n```bash\r\n$ /mnt/h\r\n\u276f cd contribution/python-betterproto-prs\r\n\r\n$ /mnt/h/contribution/python-betterproto-prs\r\n\u276f git clone git@github.com:danielgtaylor/python-betterproto.git poetry-install-bug\r\nCloning into 'poetry-install-bug'...\r\nremote: Enumerating objects: 96, done.\r\nremote: Counting objects: 100% (96/96), done.\r\nremote: Compressing objects: 100% (64/64), done.\r\nremote: Total 1829 (delta 34), reused 70 (delta 24), pack-reused 1733\r\nReceiving objects: 100% (1829/1829), 451.69 KiB | 1.51 MiB/s, done.\r\nResolving deltas: 100% (1120/1120), done.\r\n\u276f cd poetry-install-bug\r\n\r\n$ /mnt/h/contribution/python-betterproto-prs/poetry-install-bug master\r\n\u276f poetry run pip install --upgrade pip\r\nCreating virtualenv betterproto-1OFIV5Qo-py3.6 in /home/bouke/.cache/pypoetry/virtualenvs\r\nCache entry deserialization failed, entry ignored\r\nCollecting pip\r\n  Using cached https://files.pythonhosted.org/packages/43/84/23ed6a1796480a6f1a2d38f2802901d078266bda38388954d01d3f2e821d/pip-20.1.1-py2.py3-none-any.whl\r\nInstalling collected packages: pip\r\n  Found existing installation: pip 9.0.1\r\n    Uninstalling pip-9.0.1:\r\n      Successfully uninstalled pip-9.0.1\r\nSuccessfully installed pip-20.1.1\r\n\u276f poetry install\r\nInstalling dependencies from lock file\r\n\r\nPackage operations: 52 installs, 0 updates, 0 removals\r\n\r\n  \u2022 Installing zipp (3.1.0)\r\n  \u2022 Installing importlib-metadata (1.7.0)\r\n  \u2022 Installing pyparsing (2.4.7)\r\n  \u2022 Installing six (1.15.0)\r\n  \u2022 Installing appdirs (1.4.4)\r\n  \u2022 Installing attrs (19.3.0)\r\n  \u2022 Installing blessings (1.7)\r\n  \u2022 Installing certifi (2020.6.20)\r\n  \u2022 Installing chardet (3.0.4)\r\n  \u2022 Installing distlib (0.3.1)\r\n  \u2022 Installing filelock (3.0.12)\r\n  \u2022 Installing hpack (3.0.0)\r\n  \u2022 Installing hyperframe (5.2.0)\r\n  \u2022 Installing idna (2.10)\r\n  \u2022 Installing importlib-resources (3.0.0)\r\n  \u2022 Installing more-itertools (8.4.0)\r\n  \u2022 Installing packaging (20.4)\r\n  \u2022 Installing pluggy (0.13.1)\r\n  \u2022 Installing urllib3 (1.25.9)\r\n  \u2022 Installing py (1.9.0)\r\n  \u2022 Installing wcwidth (0.2.5)\r\n  \u2022 Installing click (7.1.2)\r\n  \u2022 Installing coverage (5.2)\r\n  \u2022 Installing curtsies (0.3.3)\r\n  \u2022 Installing dataclasses (0.7)\r\n  \u2022 Installing greenlet (0.4.16)\r\n  \u2022 Installing grpcio (1.30.0)\r\n  \u2022 Installing h2 (3.2.0)\r\n  \u2022 Installing markupsafe (1.1.1)\r\n  \u2022 Installing multidict (4.7.6)\r\n  \u2022 Installing mypy-extensions (0.4.3)\r\n  \u2022 Installing pathspec (0.8.0)\r\n  \u2022 Installing protobuf (3.12.2)\r\n  \u2022 Installing pygments (2.6.1)\r\n  \u2022 Installing pytest (5.4.3)\r\n  \u2022 Installing regex (2020.6.8)\r\n  \u2022 Installing toml (0.10.1)\r\n  \u2022 Installing typed-ast (1.4.1)\r\n  \u2022 Installing requests (2.24.0)\r\n  \u2022 Installing typing-extensions (3.7.4.2)\r\n  \u2022 Installing virtualenv (20.0.26)\r\n  \u2022 Installing backports-datetime-fromisoformat (1.0.0)\r\n  \u2022 Installing black (19.10b0)\r\n  \u2022 Installing bpython (0.19)\r\n  \u2022 Installing grpcio-tools (1.30.0)\r\n  \u2022 Installing grpclib (0.3.2)\r\n  \u2022 Installing jinja2 (2.11.2)\r\n  \u2022 Installing mypy (0.770)\r\n  \u2022 Installing pytest-asyncio (0.12.0)\r\n  \u2022 Installing pytest-cov (2.10.0)\r\n  \u2022 Installing pytest-mock (3.1.1)\r\n  \u2022 Installing tox (3.16.1)\r\n\r\nInstalling the current project: betterproto (2.0.0b1)\r\n\u276f poetry shell\r\nSpawning shell within /home/bouke/.cache/pypoetry/virtualenvs/betterproto-1OFIV5Qo-py3.6\r\n\r\n$ /mnt/h/contribution/python-betterproto-prs/poetry-install-bug master\r\n\u276f . /home/bouke/.cache/pypoetry/virtualenvs/betterproto-1OFIV5Qo-py3.6/bin/activate\r\n\u276f poetry run python -i\r\nPython 3.6.9 (default, Apr 18 2020, 01:56:04)\r\n[GCC 8.4.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import betterproto\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'betterproto'\r\n>>>\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2655", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2655/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2655/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2655/events", "html_url": "https://github.com/python-poetry/poetry/issues/2655", "id": 655242188, "node_id": "MDU6SXNzdWU2NTUyNDIxODg=", "number": 2655, "title": "Add [tool.poetry.dev-scripts] section in pyproject.toml", "user": {"login": "roipoussiere", "id": 1665542, "node_id": "MDQ6VXNlcjE2NjU1NDI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1665542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/roipoussiere", "html_url": "https://github.com/roipoussiere", "followers_url": "https://api.github.com/users/roipoussiere/followers", "following_url": "https://api.github.com/users/roipoussiere/following{/other_user}", "gists_url": "https://api.github.com/users/roipoussiere/gists{/gist_id}", "starred_url": "https://api.github.com/users/roipoussiere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/roipoussiere/subscriptions", "organizations_url": "https://api.github.com/users/roipoussiere/orgs", "repos_url": "https://api.github.com/users/roipoussiere/repos", "events_url": "https://api.github.com/users/roipoussiere/events{/privacy}", "received_events_url": "https://api.github.com/users/roipoussiere/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-11T16:53:31Z", "updated_at": "2020-07-11T17:03:56Z", "closed_at": "2020-07-11T17:03:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n\r\nThere is `[tool.poetry.dependencies]` that lists dependencies and `[tool.poetry.dev-dependencies]` that lists development dependencies.\r\n\r\nIn a similar way, the section `[tool.poetry.dev-scripts]` could be added, as a development equivalent of `[tool.poetry.scripts]`.\r\n\r\nSome users uses `[tool.poetry.scripts]` to add utility scripts for development purpose (that runs a linter, execute unit tests, etc.). But all these items in this section will be available for the package end users, which is not an expected behavior.\r\n\r\nThe `[tool.poetry.dev-scripts]` section could be used to run custom scripts with `poetry run` but not available for the final user that installed the package.\r\n\r\nIt has been suggested [here](https://github.com/python-poetry/poetry/issues/241#issuecomment-447840937), I create this issue for visibility.\r\n\r\nedit: a similar feature has been suggested in this [PR](https://github.com/python-poetry/poetry/pull/591), but [closed](https://github.com/python-poetry/poetry/pull/591#issuecomment-504762152), so I close this issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2652", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2652/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2652/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2652/events", "html_url": "https://github.com/python-poetry/poetry/issues/2652", "id": 655098504, "node_id": "MDU6SXNzdWU2NTUwOTg1MDQ=", "number": 2652, "title": "Add `--system` option to `poetry install`", "user": {"login": "logangrado", "id": 5983898, "node_id": "MDQ6VXNlcjU5ODM4OTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/logangrado", "html_url": "https://github.com/logangrado", "followers_url": "https://api.github.com/users/logangrado/followers", "following_url": "https://api.github.com/users/logangrado/following{/other_user}", "gists_url": "https://api.github.com/users/logangrado/gists{/gist_id}", "starred_url": "https://api.github.com/users/logangrado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/logangrado/subscriptions", "organizations_url": "https://api.github.com/users/logangrado/orgs", "repos_url": "https://api.github.com/users/logangrado/repos", "events_url": "https://api.github.com/users/logangrado/events{/privacy}", "received_events_url": "https://api.github.com/users/logangrado/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-11T00:33:53Z", "updated_at": "2020-07-14T15:22:58Z", "closed_at": "2020-07-14T08:11:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nAs the title suggests, I'd like the option to install to the system python, as opposed to always creating a virtual environment.\r\n\r\nBefore you say \"but you should ALWAYS be in a virtual environment!\", that's mostly true. However, when submitting jobs to clusters, you often must install your dependencies and launch the task within a shell script, and `poetry shell` launches an interactive shell, which breaks this usage pattern.\r\n\r\nYes, I know it's possible to just use `poetry run`. However, the system I'm creating is supposed to support poetry, Pipenv AND plain old requirements.txt files, which means I need to launch the actual python code with `python`. \r\n\r\nAn alternative solution, if you all are really against a `--system` option, would be to add a `poetry source` command (in addition to `poetry shell`), which WOULD NOT launch a subshell.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2649", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2649/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2649/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2649/events", "html_url": "https://github.com/python-poetry/poetry/issues/2649", "id": 654641959, "node_id": "MDU6SXNzdWU2NTQ2NDE5NTk=", "number": 2649, "title": "can't add local packages with git dependencies", "user": {"login": "brain4power", "id": 42776132, "node_id": "MDQ6VXNlcjQyNzc2MTMy", "avatar_url": "https://avatars3.githubusercontent.com/u/42776132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brain4power", "html_url": "https://github.com/brain4power", "followers_url": "https://api.github.com/users/brain4power/followers", "following_url": "https://api.github.com/users/brain4power/following{/other_user}", "gists_url": "https://api.github.com/users/brain4power/gists{/gist_id}", "starred_url": "https://api.github.com/users/brain4power/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brain4power/subscriptions", "organizations_url": "https://api.github.com/users/brain4power/orgs", "repos_url": "https://api.github.com/users/brain4power/repos", "events_url": "https://api.github.com/users/brain4power/events{/privacy}", "received_events_url": "https://api.github.com/users/brain4power/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-10T09:17:34Z", "updated_at": "2020-07-14T08:05:52Z", "closed_at": "2020-07-14T08:05:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: MacOS Catalina 10.15.5.\r\n- **Poetry version**: 1.0.9\r\n- **[my pyproject.toml file](https://gist.github.com/brain4power/39ed5c49727e38ddf838231c4cc8c4c9)\r\n\r\n## Issue\r\nI downloaded the [lamb](https://bitbucket.org/kovsyk/lamb-core/src/master/) package to my computer. Trying:\r\n`poetry add ../lamb -vvv`\r\ngetting an error:\r\n```\r\n[RuntimeError]\r\nUnable to retrieve the package version for /var/folders/r1/65bwz63x3dd_zcr5vnrgm7m80000gn/T/pypoetry-git-dpath-pythonmqyoos_1\r\n```\r\nwith praceback:\r\n```\r\n  File \"/Users/user/.poetry/lib/poetry/_vendor/py3.6/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/Users/user/.poetry/lib/poetry/_vendor/py3.6/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/Users/user/.poetry/lib/poetry/_vendor/py3.6/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/Users/user/.poetry/lib/poetry/_vendor/py3.6/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/Users/user/.poetry/lib/poetry/console/commands/add.py\", line 149, in handle\r\n    status = installer.run()\r\n  File \"/Users/user/.poetry/lib/poetry/installation/installer.py\", line 74, in run\r\n    self._do_install(local_repo)\r\n  File \"/Users/user/.poetry/lib/poetry/installation/installer.py\", line 161, in _do_install\r\n    ops = solver.solve(use_latest=self._whitelist)\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/solver.py\", line 36, in solve\r\n    packages, depths = self._solve(use_latest=use_latest)\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/solver.py\", line 181, in _solve\r\n    self._package, self._provider, locked=locked, use_latest=use_latest\r\n  File \"/Users/user/.poetry/lib/poetry/mixology/__init__.py\", line 7, in resolve_version\r\n    return solver.solve()\r\n  File \"/Users/user/.poetry/lib/poetry/mixology/version_solver.py\", line 80, in solve\r\n    next = self._choose_package_version()\r\n  File \"/Users/user/.poetry/lib/poetry/mixology/version_solver.py\", line 388, in _choose_package_version\r\n    version = self._provider.complete_package(version)\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/provider.py\", line 601, in complete_package\r\n    self.search_for_vcs(r)\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/provider.py\", line 175, in search_for_vcs\r\n    name=dependency.name,\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/provider.py\", line 213, in get_package_from_vcs\r\n    package = cls.get_package_from_directory(tmp_dir, name=name)\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/provider.py\", line 374, in get_package_from_directory\r\n    directory\r\n```\r\n\r\ntrying to fix that and edit dpath dependence at setup.py:\r\n```\r\ninstall_requires=[\r\n        ...\r\n        'dpath @ git+https://git@github.com/MrJuicyBacon/dpath-python@2.0.1#egg=dpath',\r\n       ...\r\n\r\n]\r\n```\r\ntrying again `poetry add ../lamb -vvv`\r\ngetting an error:\r\n```\r\n[CalledProcessError]\r\nCommand '['git', '--git-dir', '/var/folders/r1/65bwz63x3dd_zcr5vnrgm7m80000gn/T/pypoetry-git-dpath-pythonfffloo11/.git', '--work-tree', '/var/folders/r1/65bwz63x3dd_zcr5vnrgm7m80000gn/T/pypoetry-git-dpath-pythonfffloo11', 'checkout', '2.0.1']' returned non-zero exit status 1\r\n```\r\nwith traceback\r\n```\r\n  File \"/Users/user/.poetry/lib/poetry/_vendor/py3.6/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/Users/user/.poetry/lib/poetry/_vendor/py3.6/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/Users/user/.poetry/lib/poetry/_vendor/py3.6/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/Users/user/.poetry/lib/poetry/_vendor/py3.6/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/Users/user/.poetry/lib/poetry/console/commands/add.py\", line 149, in handle\r\n    status = installer.run()\r\n  File \"/Users/user/.poetry/lib/poetry/installation/installer.py\", line 74, in run\r\n    self._do_install(local_repo)\r\n  File \"/Users/user/.poetry/lib/poetry/installation/installer.py\", line 161, in _do_install\r\n    ops = solver.solve(use_latest=self._whitelist)\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/solver.py\", line 36, in solve\r\n    packages, depths = self._solve(use_latest=use_latest)\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/solver.py\", line 181, in _solve\r\n    self._package, self._provider, locked=locked, use_latest=use_latest\r\n  File \"/Users/user/.poetry/lib/poetry/mixology/__init__.py\", line 7, in resolve_version\r\n    return solver.solve()\r\n  File \"/Users/user/.poetry/lib/poetry/mixology/version_solver.py\", line 80, in solve\r\n    next = self._choose_package_version()\r\n  File \"/Users/user/.poetry/lib/poetry/mixology/version_solver.py\", line 388, in _choose_package_version\r\n    version = self._provider.complete_package(version)\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/provider.py\", line 601, in complete_package\r\n    self.search_for_vcs(r)\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/provider.py\", line 175, in search_for_vcs\r\n    name=dependency.name,\r\n  File \"/Users/user/.poetry/lib/poetry/puzzle/provider.py\", line 207, in get_package_from_vcs\r\n    git.checkout(reference, tmp_dir)\r\n  File \"/Users/user/.poetry/lib/poetry/vcs/git.py\", line 217, in checkout\r\n    return self.run(*args)\r\n  File \"/Users/user/.poetry/lib/poetry/vcs/git.py\", line 284, in run\r\n    subprocess.check_output(['git'] + list(args), stderr=subprocess.STDOUT)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/subprocess.py\", line 356, in check_output\r\n    **kwargs).stdout\r\n  File \"/Users/user/.poetry/lib/poetry/utils/_compat.py\", line 206, in run\r\n    retcode, process.args, output=stdout, stderr=stderr\r\n```\r\n\r\nwhat do I need to do to fix the problem? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2647", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2647/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2647/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2647/events", "html_url": "https://github.com/python-poetry/poetry/issues/2647", "id": 654317125, "node_id": "MDU6SXNzdWU2NTQzMTcxMjU=", "number": 2647, "title": "Poetry Setting for PyPI Name (different from module name)", "user": {"login": "EntilZha", "id": 1382460, "node_id": "MDQ6VXNlcjEzODI0NjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/1382460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EntilZha", "html_url": "https://github.com/EntilZha", "followers_url": "https://api.github.com/users/EntilZha/followers", "following_url": "https://api.github.com/users/EntilZha/following{/other_user}", "gists_url": "https://api.github.com/users/EntilZha/gists{/gist_id}", "starred_url": "https://api.github.com/users/EntilZha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EntilZha/subscriptions", "organizations_url": "https://api.github.com/users/EntilZha/orgs", "repos_url": "https://api.github.com/users/EntilZha/repos", "events_url": "https://api.github.com/users/EntilZha/events{/privacy}", "received_events_url": "https://api.github.com/users/EntilZha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-09T20:08:04Z", "updated_at": "2020-07-09T20:37:05Z", "closed_at": "2020-07-09T20:37:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x ] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nI tried using the `poetry publish` command for my package\r\n\r\n* Github: https://github.com/EntilZha/PyFunctional\r\n* PyPI: https://pypi.org/project/PyFunctional/\r\n\r\nand got an error indicating I don't have permission to upload for the project `functional`. I looked at the source code https://github.com/python-poetry/poetry/blob/b19873ae4f4391b89bd6fe89aed52963c44db078/poetry/masonry/publishing/publisher.py#L29 and fairly certain that it is because it uses the package name, but my PyPI name is different (`functional` vs `PyFunctional`).\r\n\r\nMy feature request is that poetry should provide a setting to change the name of the PyPI project, separately from the python module name, but with the default being the module name.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2646", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2646/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2646/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2646/events", "html_url": "https://github.com/python-poetry/poetry/issues/2646", "id": 653480520, "node_id": "MDU6SXNzdWU2NTM0ODA1MjA=", "number": 2646, "title": "False SolverProblemError with Python version", "user": {"login": "atollk", "id": 1518021, "node_id": "MDQ6VXNlcjE1MTgwMjE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1518021?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atollk", "html_url": "https://github.com/atollk", "followers_url": "https://api.github.com/users/atollk/followers", "following_url": "https://api.github.com/users/atollk/following{/other_user}", "gists_url": "https://api.github.com/users/atollk/gists{/gist_id}", "starred_url": "https://api.github.com/users/atollk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atollk/subscriptions", "organizations_url": "https://api.github.com/users/atollk/orgs", "repos_url": "https://api.github.com/users/atollk/repos", "events_url": "https://api.github.com/users/atollk/events{/privacy}", "received_events_url": "https://api.github.com/users/atollk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851634278, "node_id": "MDU6TGFiZWw4NTE2MzQyNzg=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Dependency%20resolution", "name": "Dependency resolution", "color": "356991", "default": false, "description": ""}, {"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-08T17:42:52Z", "updated_at": "2020-07-08T18:13:14Z", "closed_at": "2020-07-08T18:12:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n\r\n- **OS version and name**: Microsoft Windows 10 Enterprise, Build 18363\r\n- **Poetry version**: 1.0.9\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/atollk/8726831acc855e44993bbaaefcccc9c2\r\n\r\n## Issue\r\nRunning `poetry update` results in:\r\n```[SolverProblemError]\r\nThe current project's Python requirement (^3.8) is not compatible with some of the required packages Python requirement:\r\n  - flake8-annotations requires Python >=3.6.1,<3.9\r\n\r\nBecause no versions of flake8-annotations match >2.2.0,<3.0.0\r\n and flake8-annotations (2.2.0) requires Python >=3.6.1,<3.9, flake8-annotations is forbidden.\r\nSo, because xxx depends on flake8-annotations (^2.2.0), version solving failed.\r\n```\r\n\r\nWhich obviously doesn't make any sense. flake8-annotations would be completely fine with a Python 3.8. In fact, changing the version to \"3.8.2\" explicitly rather than \"^3.8\" removes the error.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2645", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2645/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2645/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2645/events", "html_url": "https://github.com/python-poetry/poetry/issues/2645", "id": 652878299, "node_id": "MDU6SXNzdWU2NTI4NzgyOTk=", "number": 2645, "title": "Could not parse version constraint: ~3.6.*", "user": {"login": "abersheeran", "id": 25364828, "node_id": "MDQ6VXNlcjI1MzY0ODI4", "avatar_url": "https://avatars3.githubusercontent.com/u/25364828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abersheeran", "html_url": "https://github.com/abersheeran", "followers_url": "https://api.github.com/users/abersheeran/followers", "following_url": "https://api.github.com/users/abersheeran/following{/other_user}", "gists_url": "https://api.github.com/users/abersheeran/gists{/gist_id}", "starred_url": "https://api.github.com/users/abersheeran/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abersheeran/subscriptions", "organizations_url": "https://api.github.com/users/abersheeran/orgs", "repos_url": "https://api.github.com/users/abersheeran/repos", "events_url": "https://api.github.com/users/abersheeran/events{/privacy}", "received_events_url": "https://api.github.com/users/abersheeran/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-07-08T03:11:03Z", "updated_at": "2020-08-03T11:32:05Z", "closed_at": "2020-08-03T11:32:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Windows10\r\n- **Poetry version**: 1.0.9\r\n\r\n## Issue\r\n\r\nI initialized a project and tried to install index.py using `poetry add git+https://github.com/abersheeran/index.py@setup.py`.\r\n\r\n```\r\n\u279c poetry add git+https://github.com/abersheeran/index.py@setup.py -vvv\r\nUsing virtualenv: C:\\Users\\AberS\\Documents\\**********************\\.venv\r\n\r\n[ValueError]\r\nCould not parse version constraint: ~3.6.*\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\clikit\\console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\clikit\\api\\command\\command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\clikit\\api\\command\\command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\cleo\\commands\\command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\console\\commands\\add.py\", line 89, in handle\r\n    packages, allow_prereleases=self.option('allow-prereleases')\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\console\\commands\\init.py\", line 293, in _determine_requirements\r\n    requires = self._parse_requirements(requires)\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\console\\commands\\init.py\", line 381, in _parse_requirements\r\n    \"git\", url.url, reference=pair.get(\"rev\")\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\puzzle\\provider.py\", line 213, in get_package_from_vcs\r\n    package = cls.get_package_from_directory(tmp_dir, name=name)\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\puzzle\\provider.py\", line 441, in get_package_from_directory\r\n    dep = dependency_from_pep_508(req)\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\packages\\__init__.py\", line 158, in dependency_from_pep_508\r\n    dep.python_versions = ' || '.join(ors)\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\packages\\dependency.py\", line 99, in python_versions\r\n    self._python_constraint = parse_constraint(value)\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\semver\\__init__.py\", line 31, in parse_constraint\r\n    constraint_objects.append(parse_single_constraint(and_constraints[0]))\r\n  File \"c:\\users\\abers\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\semver\\__init__.py\", line 162, in parse_single_constraint\r\n    raise ValueError('Could not parse version constraint: {}'.format(constraint))\r\n```\r\n\r\nOn https://github.com/abersheeran/index.py/tree/setup.py, you can see that `setup.py` is automatically generated using dephell, and I have read that `~3.6.*` does not appear, I don\u2019t know the cause of this error.\r\n\r\nHope someone can help me. \ud83d\ude2d", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2639", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2639/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2639/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2639/events", "html_url": "https://github.com/python-poetry/poetry/issues/2639", "id": 652048578, "node_id": "MDU6SXNzdWU2NTIwNDg1Nzg=", "number": 2639, "title": "Suddenly unable to run Poetry", "user": {"login": "shrvtv", "id": 54761203, "node_id": "MDQ6VXNlcjU0NzYxMjAz", "avatar_url": "https://avatars2.githubusercontent.com/u/54761203?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shrvtv", "html_url": "https://github.com/shrvtv", "followers_url": "https://api.github.com/users/shrvtv/followers", "following_url": "https://api.github.com/users/shrvtv/following{/other_user}", "gists_url": "https://api.github.com/users/shrvtv/gists{/gist_id}", "starred_url": "https://api.github.com/users/shrvtv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shrvtv/subscriptions", "organizations_url": "https://api.github.com/users/shrvtv/orgs", "repos_url": "https://api.github.com/users/shrvtv/repos", "events_url": "https://api.github.com/users/shrvtv/events{/privacy}", "received_events_url": "https://api.github.com/users/shrvtv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-07T06:44:29Z", "updated_at": "2020-07-07T07:03:44Z", "closed_at": "2020-07-07T07:03:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Ubuntu 20.04 LTS\r\n- **Poetry version**: 1.0.9\r\n-**Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/shrvtv/ce0577fa7cd34971ca8e00483ee42aa2\r\n\r\n## Issue\r\nWhenever I try to run poetry with poetry run or poetry update etc it stops working and exits with this:\r\n\r\n```\r\nshrvtv@shrvtv-T470:~/python-project-lvl1$ poetry update\r\n/home/shrvtv/.poetry/lib/poetry/_vendor/py2.7/subprocess32.py:149: RuntimeWarning: The _posixsubprocess module is not being used. Child process reliability may suffer if your program uses threads.\r\n  \"program uses threads.\", RuntimeWarning)\r\n\r\n[UnexpectedCharError]\r\nUnexpected character: u'T' at line 8 col 4\r\n```\r\n\r\nHow do I fix this? Reinstallation didn't work", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2634", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2634/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2634/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2634/events", "html_url": "https://github.com/python-poetry/poetry/issues/2634", "id": 651011532, "node_id": "MDU6SXNzdWU2NTEwMTE1MzI=", "number": 2634, "title": "An option for `--system-site-packages` in virtual environment creation", "user": {"login": "thanhnguyen2187", "id": 27758849, "node_id": "MDQ6VXNlcjI3NzU4ODQ5", "avatar_url": "https://avatars3.githubusercontent.com/u/27758849?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thanhnguyen2187", "html_url": "https://github.com/thanhnguyen2187", "followers_url": "https://api.github.com/users/thanhnguyen2187/followers", "following_url": "https://api.github.com/users/thanhnguyen2187/following{/other_user}", "gists_url": "https://api.github.com/users/thanhnguyen2187/gists{/gist_id}", "starred_url": "https://api.github.com/users/thanhnguyen2187/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thanhnguyen2187/subscriptions", "organizations_url": "https://api.github.com/users/thanhnguyen2187/orgs", "repos_url": "https://api.github.com/users/thanhnguyen2187/repos", "events_url": "https://api.github.com/users/thanhnguyen2187/events{/privacy}", "received_events_url": "https://api.github.com/users/thanhnguyen2187/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-05T06:29:14Z", "updated_at": "2020-07-08T12:52:13Z", "closed_at": "2020-07-08T12:52:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\nHi,\r\n\r\nI encountered a weird bug while trying to install Kivy along with a project created by Poetry. The versions are like this:\r\n- Linux (Kubuntu 20)\r\n- PyCharm Professional 2020.1.2\r\n- Python 3.8\r\n- Poetry 1.0.9\r\n\r\nMy steps were:\r\n- Follow the guide on [Kivy's Linux installation page](https://kivy.org/doc/stable/installation/installation-linux.html) that should be shortened to: `sudo apt-get install python3-kivy`.\r\n- Create a new project with Poetry.\r\n- Set the environment to be locally created (let Poetry create a folder named `.venv` inside the source folder).\r\n- Try `import kivy` in a file.\r\n\r\nI expected using Kivy would work this way, but it did not. After a while tinkering around, I finally found the solution:\r\n- Remove `.venv`.\r\n- Create `.venv` again using the command `python3 -m venv .venv --system-site-packages`.\r\n\r\nI think an option like this in Poetry would be nice to have. The document should warn people to use the option if their Python code have some system-specific installation (e.g. `sudo apt install python3-...`).\r\n\r\nThanks for reading.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2633", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2633/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2633/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2633/events", "html_url": "https://github.com/python-poetry/poetry/issues/2633", "id": 650841337, "node_id": "MDU6SXNzdWU2NTA4NDEzMzc=", "number": 2633, "title": "Using inside nixOS updates packages that are already up-to-date", "user": {"login": "jnoortheen", "id": 6702219, "node_id": "MDQ6VXNlcjY3MDIyMTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/6702219?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnoortheen", "html_url": "https://github.com/jnoortheen", "followers_url": "https://api.github.com/users/jnoortheen/followers", "following_url": "https://api.github.com/users/jnoortheen/following{/other_user}", "gists_url": "https://api.github.com/users/jnoortheen/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnoortheen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnoortheen/subscriptions", "organizations_url": "https://api.github.com/users/jnoortheen/orgs", "repos_url": "https://api.github.com/users/jnoortheen/repos", "events_url": "https://api.github.com/users/jnoortheen/events{/privacy}", "received_events_url": "https://api.github.com/users/jnoortheen/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-04T07:03:38Z", "updated_at": "2020-07-04T20:20:56Z", "closed_at": "2020-07-04T20:20:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: NixOS 20.03 (Markhor) x86_64\r\n- **Poetry version**: 1.0.5\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: <!-- Gist Link Here -->\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\npackages that are already up-to-date, gets reinstalled. \r\n![image](https://user-images.githubusercontent.com/6702219/86506977-044b4b00-bdf2-11ea-86ea-29c470f84139.png)\r\n\r\n## Steps to reproduce\r\n\r\n1. with nix package manager installed and available create a `shell.nix` with following content\r\n```nix\r\nwith import <nixpkgs> { };\r\nlet\r\n  pythonPackages = python38Packages;\r\nin\r\npkgs.mkShell rec {\r\n  name = \"impurePythonEnv\";\r\n  venvDir = \"/home/noor/.virtualenvs/nixm\";\r\n  buildInputs = [\r\n    # A Python interpreter including the 'venv' module is required to bootstrap\r\n    # the environment.\r\n    pythonPackages.python\r\n\r\n    # This execute some shell code to initialize a venv in $venvDir before\r\n    # dropping into the shell\r\n    pythonPackages.venvShellHook\r\n\r\n    # package manager\r\n    poetry\r\n\r\n    # In this particular example, in order to compile any binary extensions they may\r\n    # require, the Python modules listed in the hypothetical requirements.txt need\r\n    # the following packages to be installed locally:\r\n    openssl\r\n    libxml2\r\n    libxslt\r\n    libzip\r\n    zlib\r\n  ];\r\n\r\n  # Run this command, only after creating the virtual environment\r\n  postVenvCreation = ''\r\n    unset SOURCE_DATE_EPOCH\r\n    poetry install\r\n  '';\r\n\r\n  # Now we can execute any commands within the virtual environment.\r\n  # This is optional and can be left out to run pip manually.\r\n  postShellHook = ''\r\n    # allow pip to install wheels\r\n    unset SOURCE_DATE_EPOCH\r\n    exec fish\r\n  '';\r\n}\r\n```\r\n\r\n2. add a package and run install again\r\n```\r\npoetry add typer\r\n\r\n# it will reinstall packages that are already present\r\npoetry add type[all]\r\n\r\n# this will reinstall all the packages\r\npoetry install\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2631", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2631/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2631/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2631/events", "html_url": "https://github.com/python-poetry/poetry/issues/2631", "id": 650757662, "node_id": "MDU6SXNzdWU2NTA3NTc2NjI=", "number": 2631, "title": "30 minutes and still not done installing", "user": {"login": "Natetronn", "id": 582149, "node_id": "MDQ6VXNlcjU4MjE0OQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/582149?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Natetronn", "html_url": "https://github.com/Natetronn", "followers_url": "https://api.github.com/users/Natetronn/followers", "following_url": "https://api.github.com/users/Natetronn/following{/other_user}", "gists_url": "https://api.github.com/users/Natetronn/gists{/gist_id}", "starred_url": "https://api.github.com/users/Natetronn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Natetronn/subscriptions", "organizations_url": "https://api.github.com/users/Natetronn/orgs", "repos_url": "https://api.github.com/users/Natetronn/repos", "events_url": "https://api.github.com/users/Natetronn/events{/privacy}", "received_events_url": "https://api.github.com/users/Natetronn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-03T20:34:03Z", "updated_at": "2020-07-04T17:19:16Z", "closed_at": "2020-07-04T06:12:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x ] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [ x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Manjaro 20.0.3\r\n- **Poetry version**: 1.0.9\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/Natetronn/55a22d921be54ee2c88d4006f05a8f16\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nIt seems this is a recurring issue and it may not be addressable under the current ecosystem, from what I've read in the other reports but, thought I'd share the pyproject.toml in case it could somehow be useful. In particular, pyqt5 takes over 30 minutes all by itself.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2628", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2628/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2628/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2628/events", "html_url": "https://github.com/python-poetry/poetry/issues/2628", "id": 650621791, "node_id": "MDU6SXNzdWU2NTA2MjE3OTE=", "number": 2628, "title": "Add ability to specify a set of dev dependencies to install toghether with all regular dependencies", "user": {"login": "fredrikaverpil", "id": 994357, "node_id": "MDQ6VXNlcjk5NDM1Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/994357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fredrikaverpil", "html_url": "https://github.com/fredrikaverpil", "followers_url": "https://api.github.com/users/fredrikaverpil/followers", "following_url": "https://api.github.com/users/fredrikaverpil/following{/other_user}", "gists_url": "https://api.github.com/users/fredrikaverpil/gists{/gist_id}", "starred_url": "https://api.github.com/users/fredrikaverpil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fredrikaverpil/subscriptions", "organizations_url": "https://api.github.com/users/fredrikaverpil/orgs", "repos_url": "https://api.github.com/users/fredrikaverpil/repos", "events_url": "https://api.github.com/users/fredrikaverpil/events{/privacy}", "received_events_url": "https://api.github.com/users/fredrikaverpil/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-03T14:10:40Z", "updated_at": "2020-07-04T21:17:52Z", "closed_at": "2020-07-04T21:17:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n\r\nI use poetry together with nox or tox. I then run multiple nox or tox sessions in CI, all of them starting with a `poetry install`. This installation takes up a lot of time, as this will install ~100 packages on my end.\r\n\r\nI could look into venv caching, but I would rather start fresh each time and install my package and then a selection packages relevant to my nox or tox session.\r\n\r\nI would've wanted to take the approach seen in the [Hypermodern Python setup](https://github.com/cjolowicz/hypermodern-python/blob/264698776f40b3a902a658b24ef49add7d2bb1f6/noxfile.py#L14-L39), where you can install one ore more dependencies (and its sub-dependencies) only, and constrain all versions to poetry's lockfile.\r\n\r\nSo, imagine something like;\r\n\r\n```bash\r\n$ poetry install --no-dev flake8 mypy pytest\r\n```\r\n\r\nThe above would then install my package and its production requirements. But it would also install flake8, mypy and pytest, all constrained to the versions stipulated by poetry.lock.\r\n\r\nHowever, if I want to do this today, I would need to define flake8, mypy and pytest twice in my `pyproject.toml` file, both as extras/opional under dependencies and again under dev-dependencies.\r\n\r\nIt would be nice to instead simply be able to pick dev-dependencies already specified.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2616", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2616/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2616/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2616/events", "html_url": "https://github.com/python-poetry/poetry/issues/2616", "id": 649908168, "node_id": "MDU6SXNzdWU2NDk5MDgxNjg=", "number": 2616, "title": "Black console output is invisible", "user": {"login": "FichteFoll", "id": 931051, "node_id": "MDQ6VXNlcjkzMTA1MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/931051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FichteFoll", "html_url": "https://github.com/FichteFoll", "followers_url": "https://api.github.com/users/FichteFoll/followers", "following_url": "https://api.github.com/users/FichteFoll/following{/other_user}", "gists_url": "https://api.github.com/users/FichteFoll/gists{/gist_id}", "starred_url": "https://api.github.com/users/FichteFoll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FichteFoll/subscriptions", "organizations_url": "https://api.github.com/users/FichteFoll/orgs", "repos_url": "https://api.github.com/users/FichteFoll/repos", "events_url": "https://api.github.com/users/FichteFoll/events{/privacy}", "received_events_url": "https://api.github.com/users/FichteFoll/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851635331, "node_id": "MDU6TGFiZWw4NTE2MzUzMzE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/CLI", "name": "CLI", "color": "6fcdd6", "default": false, "description": ""}, {"id": 2045783104, "node_id": "MDU6TGFiZWwyMDQ1NzgzMTA0", "url": "https://api.github.com/repos/python-poetry/poetry/labels/UX", "name": "UX", "color": "F687B3", "default": false, "description": "Features and improvements related to the user experience"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-02T12:54:01Z", "updated_at": "2020-07-03T09:42:54Z", "closed_at": "2020-07-03T09:42:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option). \r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Arch Linux\r\n- **Poetry version**: 1.0.9\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: *skip*\r\n\r\n## Issue\r\n\r\nWhen using lock with debug mode `-vvv`, poetry uses black text (ANSI escapes) for some of its messages that are simply unreadable on dark consoles. Following is an example image:\r\n\r\n![2020-07-02_14-49-19_cli_poetry-black](https://user-images.githubusercontent.com/931051/86361005-7e08fa80-bc73-11ea-939a-5346b928f078.png)\r\n\r\nWhile one could say this is a terminal emulator issue, I don't think it's ever reasonable to use black or white color codes without also setting a background color, which would be totally inappropriate as that grabs a lot of attention. If this text is not deemed important, some dimmed text might be more reasonable? Or just use normal text color since this is debug mode only.\r\n\r\nRelated: #1934", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2614", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2614/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2614/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2614/events", "html_url": "https://github.com/python-poetry/poetry/issues/2614", "id": 649371107, "node_id": "MDU6SXNzdWU2NDkzNzExMDc=", "number": 2614, "title": "poetry version - increment __version__ in __init__.py too!", "user": {"login": "logangrado", "id": 5983898, "node_id": "MDQ6VXNlcjU5ODM4OTg=", "avatar_url": "https://avatars2.githubusercontent.com/u/5983898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/logangrado", "html_url": "https://github.com/logangrado", "followers_url": "https://api.github.com/users/logangrado/followers", "following_url": "https://api.github.com/users/logangrado/following{/other_user}", "gists_url": "https://api.github.com/users/logangrado/gists{/gist_id}", "starred_url": "https://api.github.com/users/logangrado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/logangrado/subscriptions", "organizations_url": "https://api.github.com/users/logangrado/orgs", "repos_url": "https://api.github.com/users/logangrado/repos", "events_url": "https://api.github.com/users/logangrado/events{/privacy}", "received_events_url": "https://api.github.com/users/logangrado/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}, {"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-01T22:40:03Z", "updated_at": "2020-07-02T03:53:46Z", "closed_at": "2020-07-02T03:53:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running the command `poetry version`, it increments the version in the `pyproject.toml`. However, the version in the project itself remains the same. \r\n\r\nIt should be straightforward to also update the version in `<project>/__init__.py` to ensure they match.\r\n\r\nWithout incrementing this version, you will see different versions in `pip list` as you do when you actually import the package and call `<package>.__version__`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2612", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2612/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2612/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2612/events", "html_url": "https://github.com/python-poetry/poetry/issues/2612", "id": 649163584, "node_id": "MDU6SXNzdWU2NDkxNjM1ODQ=", "number": 2612, "title": "How to have `my-script --version` return version", "user": {"login": "alexbode", "id": 25521899, "node_id": "MDQ6VXNlcjI1NTIxODk5", "avatar_url": "https://avatars3.githubusercontent.com/u/25521899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexbode", "html_url": "https://github.com/alexbode", "followers_url": "https://api.github.com/users/alexbode/followers", "following_url": "https://api.github.com/users/alexbode/following{/other_user}", "gists_url": "https://api.github.com/users/alexbode/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexbode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexbode/subscriptions", "organizations_url": "https://api.github.com/users/alexbode/orgs", "repos_url": "https://api.github.com/users/alexbode/repos", "events_url": "https://api.github.com/users/alexbode/events{/privacy}", "received_events_url": "https://api.github.com/users/alexbode/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1861574286, "node_id": "MDU6TGFiZWwxODYxNTc0Mjg2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Question", "name": "Question", "color": "f9d0c4", "default": false, "description": ""}, {"id": 2171054436, "node_id": "MDU6TGFiZWwyMTcxMDU0NDM2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/candidate/faq", "name": "candidate/faq", "color": "99f7a7", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-01T17:50:08Z", "updated_at": "2020-07-01T19:40:32Z", "closed_at": "2020-07-01T19:06:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Describe your question and issue here. This space is meant to be used for general questions that are neither bugs, feature requests, nor documentation issues. A good example would be a question regarding Poetry's roadmap, for example. If you're looking for help when it comes to using Poetry, consider posting a question on StackOverflow instead: http://stackoverflow.com/questions/tagged/python-poetry -->\r\n\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n```[tool.poetry]\r\nversion = \"0.1.21\"\r\n[tool.poetry.scripts]\r\nmy-script = 'poetry.console:run'\r\n```\r\n\r\nIs there an easy way to have `my-script --version` return 0.1.21? I am using fire cli to create a cli tool and I can create a function that returns the value 0.1.21. But, since I did not see anything in the documentation about this I was wondering if this can be done through poetry, which would make version control much easier.\r\n\r\n\r\nUpdate:\r\nIs there any way to update the executable file during buidl time from \r\n```\r\n#!/usr/local/opt/python/bin/python3.7\r\n# -*- coding: utf-8 -*-\r\nimport re\r\nimport sys\r\nfrom src.cli import wrapper\r\nif __name__ == '__main__':\r\n    sys.argv[0] = re.sub(r'(-script\\.pyw|\\.exe)?$', '', sys.argv[0])\r\n    sys.exit(wrapper())\r\n```\r\n\r\nto:\r\n```\r\n#!/usr/local/opt/python/bin/python3.7\r\n# -*- coding: utf-8 -*-\r\nimport re\r\nimport sys\r\nimport argparse\r\nfrom src.cli import wrapper\r\nif __name__ == '__main__':\r\n    parser = argparse.ArgumentParser()\r\n    parser.add_argument(\"-v\", \"--version\", action='version', version='0.1.21')\r\n    parser.parse_args(['--version'])\r\n    sys.argv[0] = re.sub(r'(-script\\.pyw|\\.exe)?$', '', sys.argv[0])\r\n    sys.exit(wrapper())\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2607", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2607/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2607/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2607/events", "html_url": "https://github.com/python-poetry/poetry/issues/2607", "id": 647811071, "node_id": "MDU6SXNzdWU2NDc4MTEwNzE=", "number": 2607, "title": "Asking for package the vendors libs", "user": {"login": "eamanu", "id": 7605307, "node_id": "MDQ6VXNlcjc2MDUzMDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/7605307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eamanu", "html_url": "https://github.com/eamanu", "followers_url": "https://api.github.com/users/eamanu/followers", "following_url": "https://api.github.com/users/eamanu/following{/other_user}", "gists_url": "https://api.github.com/users/eamanu/gists{/gist_id}", "starred_url": "https://api.github.com/users/eamanu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eamanu/subscriptions", "organizations_url": "https://api.github.com/users/eamanu/orgs", "repos_url": "https://api.github.com/users/eamanu/repos", "events_url": "https://api.github.com/users/eamanu/events{/privacy}", "received_events_url": "https://api.github.com/users/eamanu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 2171054436, "node_id": "MDU6TGFiZWwyMTcxMDU0NDM2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/candidate/faq", "name": "candidate/faq", "color": "99f7a7", "default": false, "description": ""}, {"id": 1624595558, "node_id": "MDU6TGFiZWwxNjI0NTk1NTU4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/wontfix", "name": "wontfix", "color": "efefef", "default": true, "description": "This bug report or feature request will not be addressed"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-30T02:49:44Z", "updated_at": "2020-06-30T08:55:39Z", "closed_at": "2020-06-30T08:54:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nHi Everybody,\r\n\r\nCurrenlty, I'm working on Poetry package on Debian [0]. Poetry, depends from many modules\r\nthat currently are not in Debian yet. I start working on someone of them, but the process to accept\r\na new package could be long.\r\n\r\nI would really like that poetry could be into Debian before the freeze for the next release of Debian.\r\n\r\nWill be very appreciate if you can package the dependencies. This kind of package\r\nis common on pipenv [1]  an pip [2], just for give some examples.\r\n\r\n\r\n[0] https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=947261\r\n[1] https://github.com/pypa/pipenv/tree/master/pipenv/vendor\r\n[2] https://github.com/pypa/pip/tree/master/src/pip/_vendor\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2604", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2604/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2604/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2604/events", "html_url": "https://github.com/python-poetry/poetry/issues/2604", "id": 647542559, "node_id": "MDU6SXNzdWU2NDc1NDI1NTk=", "number": 2604, "title": "Poetry 1.1.0a2 SolverProblemError: Failure to resolve dependencies when environment markers are used", "user": {"login": "hukkinj1", "id": 3275109, "node_id": "MDQ6VXNlcjMyNzUxMDk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3275109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hukkinj1", "html_url": "https://github.com/hukkinj1", "followers_url": "https://api.github.com/users/hukkinj1/followers", "following_url": "https://api.github.com/users/hukkinj1/following{/other_user}", "gists_url": "https://api.github.com/users/hukkinj1/gists{/gist_id}", "starred_url": "https://api.github.com/users/hukkinj1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hukkinj1/subscriptions", "organizations_url": "https://api.github.com/users/hukkinj1/orgs", "repos_url": "https://api.github.com/users/hukkinj1/repos", "events_url": "https://api.github.com/users/hukkinj1/events{/privacy}", "received_events_url": "https://api.github.com/users/hukkinj1/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": {"login": "sdispater", "id": 555648, "node_id": "MDQ6VXNlcjU1NTY0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/555648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdispater", "html_url": "https://github.com/sdispater", "followers_url": "https://api.github.com/users/sdispater/followers", "following_url": "https://api.github.com/users/sdispater/following{/other_user}", "gists_url": "https://api.github.com/users/sdispater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdispater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdispater/subscriptions", "organizations_url": "https://api.github.com/users/sdispater/orgs", "repos_url": "https://api.github.com/users/sdispater/repos", "events_url": "https://api.github.com/users/sdispater/events{/privacy}", "received_events_url": "https://api.github.com/users/sdispater/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "sdispater", "id": 555648, "node_id": "MDQ6VXNlcjU1NTY0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/555648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdispater", "html_url": "https://github.com/sdispater", "followers_url": "https://api.github.com/users/sdispater/followers", "following_url": "https://api.github.com/users/sdispater/following{/other_user}", "gists_url": "https://api.github.com/users/sdispater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdispater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdispater/subscriptions", "organizations_url": "https://api.github.com/users/sdispater/orgs", "repos_url": "https://api.github.com/users/sdispater/repos", "events_url": "https://api.github.com/users/sdispater/events{/privacy}", "received_events_url": "https://api.github.com/users/sdispater/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/python-poetry/poetry/milestones/3", "html_url": "https://github.com/python-poetry/poetry/milestone/3", "labels_url": "https://api.github.com/repos/python-poetry/poetry/milestones/3/labels", "id": 5081070, "node_id": "MDk6TWlsZXN0b25lNTA4MTA3MA==", "number": 3, "title": "1.1", "description": "", "creator": {"login": "sdispater", "id": 555648, "node_id": "MDQ6VXNlcjU1NTY0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/555648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdispater", "html_url": "https://github.com/sdispater", "followers_url": "https://api.github.com/users/sdispater/followers", "following_url": "https://api.github.com/users/sdispater/following{/other_user}", "gists_url": "https://api.github.com/users/sdispater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdispater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdispater/subscriptions", "organizations_url": "https://api.github.com/users/sdispater/orgs", "repos_url": "https://api.github.com/users/sdispater/repos", "events_url": "https://api.github.com/users/sdispater/events{/privacy}", "received_events_url": "https://api.github.com/users/sdispater/received_events", "type": "User", "site_admin": false}, "open_issues": 15, "closed_issues": 33, "state": "open", "created_at": "2020-02-07T08:39:51Z", "updated_at": "2020-08-20T18:59:14Z", "due_on": null, "closed_at": null}, "comments": 2, "created_at": "2020-06-29T17:23:04Z", "updated_at": "2020-07-11T02:04:36Z", "closed_at": "2020-07-11T02:04:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Poetry 1.1.0a2 fails at resolving dependencies in `poetry-core` CI. I've described the problem more thoroughly in a PR here https://github.com/python-poetry/poetry-core/pull/39", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2603", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2603/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2603/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2603/events", "html_url": "https://github.com/python-poetry/poetry/issues/2603", "id": 647174635, "node_id": "MDU6SXNzdWU2NDcxNzQ2MzU=", "number": 2603, "title": "Poetry 1.1.0a2 PackageInfoError", "user": {"login": "aviramha", "id": 41201924, "node_id": "MDQ6VXNlcjQxMjAxOTI0", "avatar_url": "https://avatars0.githubusercontent.com/u/41201924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aviramha", "html_url": "https://github.com/aviramha", "followers_url": "https://api.github.com/users/aviramha/followers", "following_url": "https://api.github.com/users/aviramha/following{/other_user}", "gists_url": "https://api.github.com/users/aviramha/gists{/gist_id}", "starred_url": "https://api.github.com/users/aviramha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aviramha/subscriptions", "organizations_url": "https://api.github.com/users/aviramha/orgs", "repos_url": "https://api.github.com/users/aviramha/repos", "events_url": "https://api.github.com/users/aviramha/events{/privacy}", "received_events_url": "https://api.github.com/users/aviramha/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": {"login": "abn", "id": 165325, "node_id": "MDQ6VXNlcjE2NTMyNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/165325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abn", "html_url": "https://github.com/abn", "followers_url": "https://api.github.com/users/abn/followers", "following_url": "https://api.github.com/users/abn/following{/other_user}", "gists_url": "https://api.github.com/users/abn/gists{/gist_id}", "starred_url": "https://api.github.com/users/abn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abn/subscriptions", "organizations_url": "https://api.github.com/users/abn/orgs", "repos_url": "https://api.github.com/users/abn/repos", "events_url": "https://api.github.com/users/abn/events{/privacy}", "received_events_url": "https://api.github.com/users/abn/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "abn", "id": 165325, "node_id": "MDQ6VXNlcjE2NTMyNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/165325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abn", "html_url": "https://github.com/abn", "followers_url": "https://api.github.com/users/abn/followers", "following_url": "https://api.github.com/users/abn/following{/other_user}", "gists_url": "https://api.github.com/users/abn/gists{/gist_id}", "starred_url": "https://api.github.com/users/abn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abn/subscriptions", "organizations_url": "https://api.github.com/users/abn/orgs", "repos_url": "https://api.github.com/users/abn/repos", "events_url": "https://api.github.com/users/abn/events{/privacy}", "received_events_url": "https://api.github.com/users/abn/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-06-29T07:12:00Z", "updated_at": "2020-07-10T16:03:05Z", "closed_at": "2020-07-10T16:03:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n\r\n- **OS version and name**: Python 3.7 docker image\r\n- **Poetry version**: 1.1.0a2\r\n\r\nwhen running poetry install (with dependency of orjson):\r\n```\r\nSkipping virtualenv creation, as specified in config file.\r\nUpdating dependencies\r\nResolving dependencies...\r\n  PackageInfoError\r\n  Unable to determine package info for path: /tmp/tmpje1crk60/orjson-2.6.5\r\n  at ~/.poetry/lib/poetry/inspection/info.py:406 in from_directory\r\n      402\u2502             return cls.from_package(project_package)\r\n      403\u2502 \r\n      404\u2502         if not setup_py.exists():\r\n      405\u2502             # this means we cannot do anything else here\r\n    \u2192 406\u2502             raise PackageInfoError(path)\r\n      407\u2502 \r\n      408\u2502         current_dir = os.getcwd()\r\n      409\u2502 \r\n      410\u2502         info = cls.from_metadata(path)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2600", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2600/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2600/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2600/events", "html_url": "https://github.com/python-poetry/poetry/issues/2600", "id": 646863600, "node_id": "MDU6SXNzdWU2NDY4NjM2MDA=", "number": 2600, "title": "'PosixPath' object has no attribute 'endswith'", "user": {"login": "akarsh1995", "id": 25827628, "node_id": "MDQ6VXNlcjI1ODI3NjI4", "avatar_url": "https://avatars2.githubusercontent.com/u/25827628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akarsh1995", "html_url": "https://github.com/akarsh1995", "followers_url": "https://api.github.com/users/akarsh1995/followers", "following_url": "https://api.github.com/users/akarsh1995/following{/other_user}", "gists_url": "https://api.github.com/users/akarsh1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/akarsh1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akarsh1995/subscriptions", "organizations_url": "https://api.github.com/users/akarsh1995/orgs", "repos_url": "https://api.github.com/users/akarsh1995/repos", "events_url": "https://api.github.com/users/akarsh1995/events{/privacy}", "received_events_url": "https://api.github.com/users/akarsh1995/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-28T07:42:58Z", "updated_at": "2020-08-04T19:51:35Z", "closed_at": "2020-08-04T19:51:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Darwin Kernel Version 19.5.0\r\n- **Poetry version**: 1.0.9\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/akarsh1995/fd5e263884c6627dba7077219e870c0c\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n```\r\n\r\n[AttributeError]\r\n'PosixPath' object has no attribute 'endswith'\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/_vendor/py2.7/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/_vendor/py2.7/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/_vendor/py2.7/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/_vendor/py2.7/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/console/commands/install.py\", line 69, in handle\r\n    return_code = installer.run()\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/installation/installer.py\", line 74, in run\r\n    self._do_install(local_repo)\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/installation/installer.py\", line 286, in _do_install\r\n    self._execute(op)\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/installation/installer.py\", line 302, in _execute\r\n    getattr(self, '_execute_{}'.format(method))(operation)\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/installation/installer.py\", line 327, in _execute_install\r\n    self._installer.install(operation.package)\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/installation/pip_installer.py\", line 90, in install\r\n    req = self.requirement(package)\r\n  File \"/Users/akarshjain/.poetry/lib/poetry/installation/pip_installer.py\", line 146, in requirement\r\n    req = os.path.join(package.root_dir, package.source_url)\r\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/posixpath.py\", line 70, in join\r\n    elif path == '' or path.endswith('/'):\r\n```\r\n\r\nAdding source distribution as a dependency to pyproject.toml, I encountered this error. \r\nLooks like python 2.7 compatibility issue.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2597", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2597/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2597/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2597/events", "html_url": "https://github.com/python-poetry/poetry/issues/2597", "id": 646429353, "node_id": "MDU6SXNzdWU2NDY0MjkzNTM=", "number": 2597, "title": "Poetry 1.1.0a2 includes python code in the version string", "user": {"login": "PetterS", "id": 772305, "node_id": "MDQ6VXNlcjc3MjMwNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/772305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PetterS", "html_url": "https://github.com/PetterS", "followers_url": "https://api.github.com/users/PetterS/followers", "following_url": "https://api.github.com/users/PetterS/following{/other_user}", "gists_url": "https://api.github.com/users/PetterS/gists{/gist_id}", "starred_url": "https://api.github.com/users/PetterS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PetterS/subscriptions", "organizations_url": "https://api.github.com/users/PetterS/orgs", "repos_url": "https://api.github.com/users/PetterS/repos", "events_url": "https://api.github.com/users/PetterS/events{/privacy}", "received_events_url": "https://api.github.com/users/PetterS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-26T18:10:02Z", "updated_at": "2020-07-01T20:28:25Z", "closed_at": "2020-07-01T20:28:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "To reproduce:\r\n\r\n1. `poetry init` with default choices; no dependencies.\r\n1. `poetry add pytest-cov`\r\n1. `poetry install`\r\n\r\nThe last command prints:\r\n```\r\nInstalling dependencies from lock file\r\n\r\nPackage operations: 0 installs, 1 update, 0 removals\r\n\r\n- Updating pytest-cov (2.10.0 import os, sys;exec('if \\'COV_CORE_SOURCE\\' in os.environ:\\n try:\\n  from pytest_cov.embed import init\\n  init()\\n except Exception as exc:\\n  sys.stderr.write(\\n   \"pytest-cov: Failed to setup subprocess coverage. \"\\n   \"Environ: {0!r} \"\\n   \"Exception: {1!r}\\\\n\".format(\\n    dict((k, v) for k, v in os.environ.items() if k.startswith(\\'COV_CORE\\')),\\n    exc\\n   )\\n  )\\n') -> 2.10.0) \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2594", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2594/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2594/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2594/events", "html_url": "https://github.com/python-poetry/poetry/issues/2594", "id": 645832283, "node_id": "MDU6SXNzdWU2NDU4MzIyODM=", "number": 2594, "title": "Interactive (multiple results) package selection for init appears to use inputted name instead of chosen result name for toml generation", "user": {"login": "deliciouslytyped", "id": 47436522, "node_id": "MDQ6VXNlcjQ3NDM2NTIy", "avatar_url": "https://avatars0.githubusercontent.com/u/47436522?v=4", "gravatar_id": "", "url": "https://api.github.com/users/deliciouslytyped", "html_url": "https://github.com/deliciouslytyped", "followers_url": "https://api.github.com/users/deliciouslytyped/followers", "following_url": "https://api.github.com/users/deliciouslytyped/following{/other_user}", "gists_url": "https://api.github.com/users/deliciouslytyped/gists{/gist_id}", "starred_url": "https://api.github.com/users/deliciouslytyped/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/deliciouslytyped/subscriptions", "organizations_url": "https://api.github.com/users/deliciouslytyped/orgs", "repos_url": "https://api.github.com/users/deliciouslytyped/repos", "events_url": "https://api.github.com/users/deliciouslytyped/events{/privacy}", "received_events_url": "https://api.github.com/users/deliciouslytyped/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 851635331, "node_id": "MDU6TGFiZWw4NTE2MzUzMzE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/CLI", "name": "CLI", "color": "6fcdd6", "default": false, "description": ""}, {"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-25T20:30:23Z", "updated_at": "2020-06-27T03:40:28Z", "closed_at": "2020-06-26T03:58:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm on 1.0.8 .\r\n\r\nHere is a log:\r\n```\r\n$ poetry init\r\n\r\nThis command will guide you through creating your pyproject.toml config.\r\n\r\nPackage name [tmp.7trtcgjfei]:  \r\nVersion [0.1.0]:  \r\nDescription []:  \r\nAuthor [None, n to skip]:  n\r\nLicense []:  \r\nCompatible Python versions [^3.8]:  \r\n\r\nWould you like to define your main dependencies interactively? (yes/no) [yes] \r\nYou can specify a package in the following forms:\r\n  - A single name (requests)\r\n  - A name and a constraint (requests ^2.23.0)\r\n  - A git url (git+https://github.com/python-poetry/poetry.git)\r\n  - A git url with a revision (git+https://github.com/python-poetry/poetry.git#develop)\r\n  - A file path (../my-package/my-package.whl)\r\n  - A directory (../my-package/)\r\n  - A url (https://example.com/packages/my-package-0.1.0.tar.gz)\r\n\r\nSearch for package to add (or leave blank to continue): pylabel\r\nFound 2 packages matching pylabel\r\n\r\nEnter package # to add, or the complete package name if it is not listed: \r\n [0] pylabels\r\n [1] pylabeledrf\r\n > 0\r\nEnter the version constraint to require (or leave blank to use the latest version): \r\nUsing version ^1.2.1 for pylabels\r\n\r\nAdd a package: \r\n\r\nWould you like to define your development dependencies interactively? (yes/no) [yes] \r\nSearch for package to add (or leave blank to continue): \r\n\r\nGenerated file\r\n\r\n[tool.poetry]\r\nname = \"tmp.7trtcgjfei\"\r\nversion = \"0.1.0\"\r\ndescription = \"\"\r\nauthors = [\"Your Name <you@example.com>\"]\r\n\r\n[tool.poetry.dependencies]\r\npython = \"^3.8\"\r\npylabel = \"^1.2.1\"\r\n\r\n[tool.poetry.dev-dependencies]\r\n\r\n[build-system]\r\nrequires = [\"poetry>=0.12\"]\r\nbuild-backend = \"poetry.masonry.api\"\r\n\r\n\r\nDo you confirm generation? (yes/no) [yes] \r\n```\r\n\r\nNote `[tool.poetry.dependencies]` contains `pylabel` instead of `pylabels`, which will later lead to problems when trying to get dependencies with, e.g., `lock`, because it is wrong.\r\n \r\nThe issue is probably somewhere in https://github.com/python-poetry/poetry/blob/cd6da2c00e88d897c123170ff86484dbe41de841/poetry/console/commands/init.py#L205\r\nI think it might be updating the version but not the given name.\r\n\r\nPing @sdispater because blame.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2592", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2592/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2592/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2592/events", "html_url": "https://github.com/python-poetry/poetry/issues/2592", "id": 645031278, "node_id": "MDU6SXNzdWU2NDUwMzEyNzg=", "number": 2592, "title": "error message on malformed authors is not helpful", "user": {"login": "seansfkelley", "id": 2101409, "node_id": "MDQ6VXNlcjIxMDE0MDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/2101409?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seansfkelley", "html_url": "https://github.com/seansfkelley", "followers_url": "https://api.github.com/users/seansfkelley/followers", "following_url": "https://api.github.com/users/seansfkelley/following{/other_user}", "gists_url": "https://api.github.com/users/seansfkelley/gists{/gist_id}", "starred_url": "https://api.github.com/users/seansfkelley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seansfkelley/subscriptions", "organizations_url": "https://api.github.com/users/seansfkelley/orgs", "repos_url": "https://api.github.com/users/seansfkelley/repos", "events_url": "https://api.github.com/users/seansfkelley/events{/privacy}", "received_events_url": "https://api.github.com/users/seansfkelley/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}, {"id": 1733679088, "node_id": "MDU6TGFiZWwxNzMzNjc5MDg4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Error%20Handling", "name": "Error Handling", "color": "ea59c6", "default": false, "description": "Bad error messages, insufficient error handling, ..."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-24T23:02:58Z", "updated_at": "2020-06-25T15:18:40Z", "closed_at": "2020-06-25T11:45:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: macOS Mojave\r\n- **Poetry version**: 1.0.5\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: see below\r\n\r\n```toml\r\n[tool.poetry]\r\nname = \"docs\"\r\nversion = \"0.1.0\"\r\ndescription = \"\"\r\nauthors = [\"foo@bar.com\"]\r\n```\r\n\r\n## Issue\r\n\r\nWhen trying to install with the above project configuration, I get something like:\r\n\r\n```\r\n$ poetry install\r\nInstalling dependencies from lock file\r\n\r\nNo dependencies to install or update\r\n\r\n\r\n[AttributeError]\r\n'NoneType' object has no attribute 'group'\r\n```\r\n\r\nAs noted in https://github.com/python-poetry/poetry/issues/2263, Poetry expects the format `author <email>`. That's fine, but I had to run `poetry install -v` and read the implementation to realize that the problem was with the authors field. I won't try argue that it should accept plain emails here (though I personally think it should), but it definitely should try to be a bit more helpful with the messaging.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2585", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2585/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2585/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2585/events", "html_url": "https://github.com/python-poetry/poetry/issues/2585", "id": 642091041, "node_id": "MDU6SXNzdWU2NDIwOTEwNDE=", "number": 2585, "title": "Use the same naming pattern for sdist and wheel dist files", "user": {"login": "javiermatos", "id": 2723080, "node_id": "MDQ6VXNlcjI3MjMwODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/2723080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/javiermatos", "html_url": "https://github.com/javiermatos", "followers_url": "https://api.github.com/users/javiermatos/followers", "following_url": "https://api.github.com/users/javiermatos/following{/other_user}", "gists_url": "https://api.github.com/users/javiermatos/gists{/gist_id}", "starred_url": "https://api.github.com/users/javiermatos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/javiermatos/subscriptions", "organizations_url": "https://api.github.com/users/javiermatos/orgs", "repos_url": "https://api.github.com/users/javiermatos/repos", "events_url": "https://api.github.com/users/javiermatos/events{/privacy}", "received_events_url": "https://api.github.com/users/javiermatos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-19T16:26:07Z", "updated_at": "2020-06-20T13:16:08Z", "closed_at": "2020-06-20T06:39:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "When building with `poetry build` I have noticed that the dist files created do not share the same naming pattern.\r\n\r\nI have a package named `local-cache` and created dist files are the following:\r\n\r\n1. local-cache-0.1.0.tar.gz\r\n2. local_cache-0.1.0-py3-none-any.whl\r\n\r\nFirst case uses dash, second uses underscore.\r\n\r\nFor wheel builder we have this:\r\n\r\n```python\r\n@property\r\ndef wheel_filename(self):  # type: () -> str\r\n    return \"{}-{}-{}.whl\".format(\r\n        escape_name(self._package.pretty_name),\r\n        escape_version(self._meta.version),\r\n        self.tag,\r\n    )\r\n```\r\n\r\nBut for sdist builder we have the following:\r\n\r\n```python\r\ntarget = target_dir / \"{}-{}.tar.gz\".format(\r\n    self._package.pretty_name, self._meta.version\r\n)\r\n```\r\n\r\nWould not it be better to use the same naming pattern in both cases?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2584", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2584/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2584/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2584/events", "html_url": "https://github.com/python-poetry/poetry/issues/2584", "id": 642083699, "node_id": "MDU6SXNzdWU2NDIwODM2OTk=", "number": 2584, "title": "poetry shell command does not activate the virtual environment when the user's shell is tsch", "user": {"login": "JnyJny", "id": 876947, "node_id": "MDQ6VXNlcjg3Njk0Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/876947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JnyJny", "html_url": "https://github.com/JnyJny", "followers_url": "https://api.github.com/users/JnyJny/followers", "following_url": "https://api.github.com/users/JnyJny/following{/other_user}", "gists_url": "https://api.github.com/users/JnyJny/gists{/gist_id}", "starred_url": "https://api.github.com/users/JnyJny/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JnyJny/subscriptions", "organizations_url": "https://api.github.com/users/JnyJny/orgs", "repos_url": "https://api.github.com/users/JnyJny/repos", "events_url": "https://api.github.com/users/JnyJny/events{/privacy}", "received_events_url": "https://api.github.com/users/JnyJny/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-19T16:15:56Z", "updated_at": "2020-06-19T21:41:49Z", "closed_at": "2020-06-19T21:41:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x ] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [ x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**:  macOS 10.15.5\r\n- **Poetry version**:  1.0.9\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: [pyproject.toml](https://github.com/JnyJny/blynclight/blob/master/pyproject.toml)\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nI recently switched back to `tcsh` from `bash` and found that `poetry shell` now fails to activate the python virtual environment.\r\n\r\n```console\r\nejo@ufo:blynclight -> poetry --version\r\nPoetry version 1.0.9\r\nejo@ufo:blynclight -> poetry shell\r\nSpawning shell within /Users/ejo/Library/Caches/pypoetry/virtualenvs/blynclight-JhnzrnPE-py3.7\r\nejo@ufo:blynclight -> . /Users/ejo/Library/Caches/pypoetry/virtualenvs/blynclight-JhnzrnPE-py3.7/bin/activate\r\n/usr/bin/.: Permission denied.\r\nejo@ufo:blynclight -> echo $shlvl \r\n2\r\n```\r\n\r\nThe $shlvl variable indicates that a new shell was invoked, but the errors indicate that the virtual environment was not properly activated. \r\n\r\nIt appears that `poetry shell` is attempting to use the bash method of activating the virtual environment which does not work for [tcsh](https://en.wikipedia.org/wiki/Tcsh) (as expected). \r\n\r\n Inspection of the two methods:\r\n\r\n- `poetry.utils.shell.Shell._get_activate_script`\r\n- `poetry.utils.shell.Shell._get_source_command`\r\n\r\nshow explicit checks for csh and fish but not tcsh.  \r\n\r\nWhen the user's shell is tcsh, both of those methods will mis-identify the shell as bash and it all ends badly.\r\n\r\nI submitted PR #2583 which expands the explicit checking done in those methods to include tcsh and lumps handling for csh and tcsh together. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2575", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2575/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2575/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2575/events", "html_url": "https://github.com/python-poetry/poetry/issues/2575", "id": 640743890, "node_id": "MDU6SXNzdWU2NDA3NDM4OTA=", "number": 2575, "title": "Add configuration to specify path to virtualenv / commandline", "user": {"login": "goodwillcoding", "id": 582074, "node_id": "MDQ6VXNlcjU4MjA3NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/582074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/goodwillcoding", "html_url": "https://github.com/goodwillcoding", "followers_url": "https://api.github.com/users/goodwillcoding/followers", "following_url": "https://api.github.com/users/goodwillcoding/following{/other_user}", "gists_url": "https://api.github.com/users/goodwillcoding/gists{/gist_id}", "starred_url": "https://api.github.com/users/goodwillcoding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/goodwillcoding/subscriptions", "organizations_url": "https://api.github.com/users/goodwillcoding/orgs", "repos_url": "https://api.github.com/users/goodwillcoding/repos", "events_url": "https://api.github.com/users/goodwillcoding/events{/privacy}", "received_events_url": "https://api.github.com/users/goodwillcoding/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-17T21:09:47Z", "updated_at": "2020-06-25T18:36:46Z", "closed_at": "2020-06-20T15:49:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n**Configuration setting to specify which virtualenv script to use.**\r\n\r\nCurrently the virtualenv script is being looked for in the path, but for isolation issues it would be nice there could be a setting which sets the path to the virtualenv to use. Currently I work around this by having poetry run inside a virtualenv which seems like major overkill. Please let me know what you think of this.\r\n\r\nAddititionally this setting could include the full call to virtualenv for example with \"--no-download\" and others which is crucial in isolated deployment.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2571", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2571/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2571/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2571/events", "html_url": "https://github.com/python-poetry/poetry/issues/2571", "id": 640044992, "node_id": "MDU6SXNzdWU2NDAwNDQ5OTI=", "number": 2571, "title": "Type = \"legacy\" for all dependencies from custom package source", "user": {"login": "cpvandehey", "id": 7979252, "node_id": "MDQ6VXNlcjc5NzkyNTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/7979252?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpvandehey", "html_url": "https://github.com/cpvandehey", "followers_url": "https://api.github.com/users/cpvandehey/followers", "following_url": "https://api.github.com/users/cpvandehey/following{/other_user}", "gists_url": "https://api.github.com/users/cpvandehey/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpvandehey/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpvandehey/subscriptions", "organizations_url": "https://api.github.com/users/cpvandehey/orgs", "repos_url": "https://api.github.com/users/cpvandehey/repos", "events_url": "https://api.github.com/users/cpvandehey/events{/privacy}", "received_events_url": "https://api.github.com/users/cpvandehey/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1624595558, "node_id": "MDU6TGFiZWwxNjI0NTk1NTU4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/wontfix", "name": "wontfix", "color": "efefef", "default": true, "description": "This bug report or feature request will not be addressed"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-17T00:01:24Z", "updated_at": "2020-06-17T17:26:33Z", "closed_at": "2020-06-17T14:45:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: <!-- Replace with version + name -->\r\n- **Poetry version**: <!-- Replace with version -->\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: <!-- Gist Link Here -->\r\n\r\n## Issue\r\nHello, ever since upgrading to `1.0.9`, I am starting to see type = \"legacy\" added to ALL ~80 dependencies in my project. It appears that even if they are at their most updated version, Poetry adds \"legacy\" as the type. \r\n\r\nI don't quite understand the process, but poetry deems anything from a private repository (all of my dependencies are from a custom source) as type \"legacy\". This seems super important to document and rename. The type should be something like \"custom\" or \"private\". Legacy gives the wrong idea. There could be underlying behavior tied to \"legacy\" that \"private\" might not need.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2570", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2570/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2570/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2570/events", "html_url": "https://github.com/python-poetry/poetry/issues/2570", "id": 639837469, "node_id": "MDU6SXNzdWU2Mzk4Mzc0Njk=", "number": 2570, "title": "Bad link to \"Managing environments\" page.", "user": {"login": "knmarvel", "id": 54945739, "node_id": "MDQ6VXNlcjU0OTQ1NzM5", "avatar_url": "https://avatars1.githubusercontent.com/u/54945739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/knmarvel", "html_url": "https://github.com/knmarvel", "followers_url": "https://api.github.com/users/knmarvel/followers", "following_url": "https://api.github.com/users/knmarvel/following{/other_user}", "gists_url": "https://api.github.com/users/knmarvel/gists{/gist_id}", "starred_url": "https://api.github.com/users/knmarvel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/knmarvel/subscriptions", "organizations_url": "https://api.github.com/users/knmarvel/orgs", "repos_url": "https://api.github.com/users/knmarvel/repos", "events_url": "https://api.github.com/users/knmarvel/events{/privacy}", "received_events_url": "https://api.github.com/users/knmarvel/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1055741547, "node_id": "MDU6TGFiZWwxMDU1NzQxNTQ3", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Documentation", "name": "Documentation", "color": "86d8ad", "default": false, "description": ""}, {"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-16T17:12:48Z", "updated_at": "2020-06-20T07:09:04Z", "closed_at": "2020-06-20T07:08:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n<!--\r\n  Hi there! Thank you for discovering and submitting an issue with our documentation.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nOn the [Commands](https://python-poetry.org/docs/cli/#env) page of the docs, in the `env` section, the `Managing environments` link is `https://python-poetry.org/docs/managing-environments.md`, which leads to a 404. The link should be `https://python-poetry.org/docs/managing-environments`. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2569", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2569/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2569/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2569/events", "html_url": "https://github.com/python-poetry/poetry/issues/2569", "id": 639824584, "node_id": "MDU6SXNzdWU2Mzk4MjQ1ODQ=", "number": 2569, "title": "Add information on the different ways to specify a package in to the help section.", "user": {"login": "dgnsrekt", "id": 25717871, "node_id": "MDQ6VXNlcjI1NzE3ODcx", "avatar_url": "https://avatars1.githubusercontent.com/u/25717871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgnsrekt", "html_url": "https://github.com/dgnsrekt", "followers_url": "https://api.github.com/users/dgnsrekt/followers", "following_url": "https://api.github.com/users/dgnsrekt/following{/other_user}", "gists_url": "https://api.github.com/users/dgnsrekt/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgnsrekt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgnsrekt/subscriptions", "organizations_url": "https://api.github.com/users/dgnsrekt/orgs", "repos_url": "https://api.github.com/users/dgnsrekt/repos", "events_url": "https://api.github.com/users/dgnsrekt/events{/privacy}", "received_events_url": "https://api.github.com/users/dgnsrekt/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851635331, "node_id": "MDU6TGFiZWw4NTE2MzUzMzE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/CLI", "name": "CLI", "color": "6fcdd6", "default": false, "description": ""}, {"id": 1055741547, "node_id": "MDU6TGFiZWwxMDU1NzQxNTQ3", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Documentation", "name": "Documentation", "color": "86d8ad", "default": false, "description": ""}, {"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "dgnsrekt", "id": 25717871, "node_id": "MDQ6VXNlcjI1NzE3ODcx", "avatar_url": "https://avatars1.githubusercontent.com/u/25717871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgnsrekt", "html_url": "https://github.com/dgnsrekt", "followers_url": "https://api.github.com/users/dgnsrekt/followers", "following_url": "https://api.github.com/users/dgnsrekt/following{/other_user}", "gists_url": "https://api.github.com/users/dgnsrekt/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgnsrekt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgnsrekt/subscriptions", "organizations_url": "https://api.github.com/users/dgnsrekt/orgs", "repos_url": "https://api.github.com/users/dgnsrekt/repos", "events_url": "https://api.github.com/users/dgnsrekt/events{/privacy}", "received_events_url": "https://api.github.com/users/dgnsrekt/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "dgnsrekt", "id": 25717871, "node_id": "MDQ6VXNlcjI1NzE3ODcx", "avatar_url": "https://avatars1.githubusercontent.com/u/25717871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgnsrekt", "html_url": "https://github.com/dgnsrekt", "followers_url": "https://api.github.com/users/dgnsrekt/followers", "following_url": "https://api.github.com/users/dgnsrekt/following{/other_user}", "gists_url": "https://api.github.com/users/dgnsrekt/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgnsrekt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgnsrekt/subscriptions", "organizations_url": "https://api.github.com/users/dgnsrekt/orgs", "repos_url": "https://api.github.com/users/dgnsrekt/repos", "events_url": "https://api.github.com/users/dgnsrekt/events{/privacy}", "received_events_url": "https://api.github.com/users/dgnsrekt/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-06-16T16:51:10Z", "updated_at": "2020-06-20T15:30:58Z", "closed_at": "2020-06-20T15:30:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [X] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [X] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nAdd the different ways a package can be added to the poetry add --help DESCRIPTION section. This information only shows up on poetry init. I think it would be useful as a quick reference when adding future dependencies with the poetry add command.\r\n\r\nExample\r\n```\r\n\u279c poetry add --help\r\nUSAGE\r\n  poetry add [-D] [-E <...>] [--optional] [--python <...>] [--platform <...>] [--allow-prereleases] [--dry-run] <name1> ... [<nameN>]\r\n\r\nARGUMENTS\r\n  <name>                 The packages to add.\r\n\r\nOPTIONS\r\n  -D (--dev)             Add as a development dependency.\r\n  -E (--extras)          Extras to activate for the dependency. (multiple values allowed)\r\n  --optional             Add as an optional dependency.\r\n  --python               Python version for which the dependency must be installed.\r\n  --platform             Platforms for which the dependency must be installed.\r\n  --allow-prereleases    Accept prereleases.\r\n  --dry-run              Output the operations but do not execute anything (implicitly enables --verbose).\r\n\r\nGLOBAL OPTIONS\r\n  -h (--help)            Display this help message\r\n  -q (--quiet)           Do not output any message\r\n  -v (--verbose)         Increase the verbosity of messages: \"-v\" for normal output, \"-vv\" for more verbose output and \"-vvv\" for debug\r\n  -V (--version)         Display this application version\r\n  --ansi                 Force ANSI output\r\n  --no-ansi              Disable ANSI output\r\n  -n (--no-interaction)  Do not ask any interactive question\r\n\r\nDESCRIPTION\r\n  The add command adds required packages to your pyproject.toml and installs them.\r\n  \r\n  If you do not specify a version constraint, poetry will choose a suitable one based on the available package versions.\r\n\r\n  You can specify a package in the following forms:\r\n    - A single name (requests)\r\n    - A name and a constraint (requests ^2.23.0)\r\n    - A git url (git+https://github.com/python-poetry/poetry.git)\r\n    - A git url with a revision (git+https://github.com/python-poetry/poetry.git#develop)\r\n    - A file path (../my-package/my-package.whl)\r\n    - A directory (../my-package/)\r\n    - A url (https://example.com/packages/my-package-0.1.0.tar.gz)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2567", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2567/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2567/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2567/events", "html_url": "https://github.com/python-poetry/poetry/issues/2567", "id": 639801499, "node_id": "MDU6SXNzdWU2Mzk4MDE0OTk=", "number": 2567, "title": "Build poetry package with extra or optional dependencies", "user": {"login": "JulianRMedina", "id": 22779710, "node_id": "MDQ6VXNlcjIyNzc5NzEw", "avatar_url": "https://avatars2.githubusercontent.com/u/22779710?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JulianRMedina", "html_url": "https://github.com/JulianRMedina", "followers_url": "https://api.github.com/users/JulianRMedina/followers", "following_url": "https://api.github.com/users/JulianRMedina/following{/other_user}", "gists_url": "https://api.github.com/users/JulianRMedina/gists{/gist_id}", "starred_url": "https://api.github.com/users/JulianRMedina/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JulianRMedina/subscriptions", "organizations_url": "https://api.github.com/users/JulianRMedina/orgs", "repos_url": "https://api.github.com/users/JulianRMedina/repos", "events_url": "https://api.github.com/users/JulianRMedina/events{/privacy}", "received_events_url": "https://api.github.com/users/JulianRMedina/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 851634863, "node_id": "MDU6TGFiZWw4NTE2MzQ4NjM=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Packaging", "name": "Packaging", "color": "7e56c4", "default": false, "description": ""}, {"id": 1861574286, "node_id": "MDU6TGFiZWwxODYxNTc0Mjg2", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Question", "name": "Question", "color": "f9d0c4", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-16T16:19:03Z", "updated_at": "2020-06-19T18:06:11Z", "closed_at": "2020-06-19T18:06:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [ x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x ] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nLooking through the documentation I was able to find adding optional/extra dependencies to a project as well as installing, but I could not find information about their inclusion in the build process. I see two scenarios:\r\n\r\n1. Poetry already supports this and the documentation should be edited accordingly to accommodate.\r\n2. Poetry does not support this and should provide some sort of API to do so similarly to the current process for installing extra req.s, but for building:\r\n```\r\npoetry build --extras \"mysql pgsql\"\r\npoetry build -E mysql -E pgsql\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2560", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2560/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2560/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2560/events", "html_url": "https://github.com/python-poetry/poetry/issues/2560", "id": 638594287, "node_id": "MDU6SXNzdWU2Mzg1OTQyODc=", "number": 2560, "title": "Lock Python version itself", "user": {"login": "tmshn", "id": 3760893, "node_id": "MDQ6VXNlcjM3NjA4OTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3760893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmshn", "html_url": "https://github.com/tmshn", "followers_url": "https://api.github.com/users/tmshn/followers", "following_url": "https://api.github.com/users/tmshn/following{/other_user}", "gists_url": "https://api.github.com/users/tmshn/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmshn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmshn/subscriptions", "organizations_url": "https://api.github.com/users/tmshn/orgs", "repos_url": "https://api.github.com/users/tmshn/repos", "events_url": "https://api.github.com/users/tmshn/events{/privacy}", "received_events_url": "https://api.github.com/users/tmshn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-15T06:53:58Z", "updated_at": "2020-06-15T16:52:26Z", "closed_at": "2020-06-15T16:52:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nPoetry is not only good at developing **libraries**, but also good at **application**, which requires careful version lock of depending packages.\r\n\r\nHowever, Poetry doesn't lock Python version. This might led to version mismatch between developers. Say we have constraint `^3.7`, some member might use `3.7.6` while others might `3.8.1`.\r\n\r\nIMO, we should lock Python version too to have better reproducibility of environment.\r\n\r\n(Note: this is somewhat related to https://github.com/python-poetry/poetry/issues/2558)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2556", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2556/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2556/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2556/events", "html_url": "https://github.com/python-poetry/poetry/issues/2556", "id": 638584487, "node_id": "MDU6SXNzdWU2Mzg1ODQ0ODc=", "number": 2556, "title": "cli.md managing environments url at the bottom leads to a 404", "user": {"login": "sivanbecker", "id": 20453622, "node_id": "MDQ6VXNlcjIwNDUzNjIy", "avatar_url": "https://avatars0.githubusercontent.com/u/20453622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sivanbecker", "html_url": "https://github.com/sivanbecker", "followers_url": "https://api.github.com/users/sivanbecker/followers", "following_url": "https://api.github.com/users/sivanbecker/following{/other_user}", "gists_url": "https://api.github.com/users/sivanbecker/gists{/gist_id}", "starred_url": "https://api.github.com/users/sivanbecker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sivanbecker/subscriptions", "organizations_url": "https://api.github.com/users/sivanbecker/orgs", "repos_url": "https://api.github.com/users/sivanbecker/repos", "events_url": "https://api.github.com/users/sivanbecker/events{/privacy}", "received_events_url": "https://api.github.com/users/sivanbecker/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1055741547, "node_id": "MDU6TGFiZWwxMDU1NzQxNTQ3", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Documentation", "name": "Documentation", "color": "86d8ad", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-15T06:32:58Z", "updated_at": "2020-06-15T07:57:15Z", "closed_at": "2020-06-15T07:57:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue with our documentation.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [X ] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2550", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2550/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2550/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2550/events", "html_url": "https://github.com/python-poetry/poetry/issues/2550", "id": 637664309, "node_id": "MDU6SXNzdWU2Mzc2NjQzMDk=", "number": 2550, "title": "setup.py --user not recognized", "user": {"login": "heitorlessa", "id": 3340292, "node_id": "MDQ6VXNlcjMzNDAyOTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/3340292?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heitorlessa", "html_url": "https://github.com/heitorlessa", "followers_url": "https://api.github.com/users/heitorlessa/followers", "following_url": "https://api.github.com/users/heitorlessa/following{/other_user}", "gists_url": "https://api.github.com/users/heitorlessa/gists{/gist_id}", "starred_url": "https://api.github.com/users/heitorlessa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heitorlessa/subscriptions", "organizations_url": "https://api.github.com/users/heitorlessa/orgs", "repos_url": "https://api.github.com/users/heitorlessa/repos", "events_url": "https://api.github.com/users/heitorlessa/events{/privacy}", "received_events_url": "https://api.github.com/users/heitorlessa/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-12T10:48:49Z", "updated_at": "2020-07-04T15:11:52Z", "closed_at": "2020-07-04T15:11:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**:  Ubuntu 20.04 <!-- Replace with version + name -->\r\n- **Poetry version**: 1.0.9 <!-- Replace with version -->\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**:  https://gist.github.com/heitorlessa/a7bea3acf7b50ea640bca804beb26a1f <!-- Gist Link Here -->\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nWhen using poetry in [Gitpod.io](https://gitpod.io) to install a project in editable mode, `poetry install`, it fails with --user not recognized -- This does not happen locally in my laptop.\r\n\r\nIt seemed to be [related to an old version of pip that poetry might be using](https://github.com/python-poetry/poetry/issues/1661), so I've gone ahead and updated both pip and setuptools, sadly to no avail - `pip install -U pip setuptools; poetry run pip install -U pip setuptools`\r\n\r\nIs there anything else I can possibly try?\r\n\r\nThank you!\r\n\r\n### How to reproduce\r\n\r\n1. [Launch a new IDE environment in the browser](https://gitpod.io/#https://github.com/awslabs/aws-lambda-powertools-python)\r\n2. Install all dependencies by running `make dev`\r\n\r\n### Logs\r\n\r\n**Full error**\r\n\r\n```python\r\n[EnvCommandError]\r\nCommand ['/home/gitpod/.cache/pypoetry/virtualenvs/aws-lambda-powertools-YwoV7uxh-py3.8/bin/pip', 'install', '--no-deps', '-e', '/workspace/aws-lambda-powertools-python'] errored with the following return code 1, and output: \r\nObtaining file:///workspace/aws-lambda-powertools-python\r\nInstalling collected packages: aws-lambda-powertools\r\n  Running setup.py develop for aws-lambda-powertools\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /home/gitpod/.cache/pypoetry/virtualenvs/aws-lambda-powertools-YwoV7uxh-py3.8/bin/python3 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/workspace/aws-lambda-powertools-python/setup.py'\"'\"'; __file__='\"'\"'/workspace/aws-lambda-powertools-python/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps --user --prefix=\r\n         cwd: /workspace/aws-lambda-powertools-python/\r\n    Complete output (6 lines):\r\n    usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\r\n       or: setup.py --help [cmd1 cmd2 ...]\r\n       or: setup.py --help-commands\r\n       or: setup.py cmd --help\r\n    \r\n    error: option --user not recognized\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /home/gitpod/.cache/pypoetry/virtualenvs/aws-lambda-powertools-YwoV7uxh-py3.8/bin/python3 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/workspace/aws-lambda-powertools-python/setup.py'\"'\"'; __file__='\"'\"'/workspace/aws-lambda-powertools-python/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' develop --no-deps --user --prefix= Check the logs for full command output.\r\nWARNING: You are using pip version 19.2.3, however version 20.1.1 is available.\r\nYou should consider upgrading via the 'pip install --upgrade pip' command.\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/workspace/.pip-modules/lib/python3.8/site-packages/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/workspace/.pip-modules/lib/python3.8/site-packages/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/workspace/.pip-modules/lib/python3.8/site-packages/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/workspace/.pip-modules/lib/python3.8/site-packages/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/workspace/.pip-modules/lib/python3.8/site-packages/poetry/console/commands/install.py\", line 94, in handle\r\n    builder.build()\r\n  File \"/workspace/.pip-modules/lib/python3.8/site-packages/poetry/masonry/builders/editable.py\", line 17, in build\r\n    return self._setup_build()\r\n  File \"/workspace/.pip-modules/lib/python3.8/site-packages/poetry/masonry/builders/editable.py\", line 41, in _setup_build\r\n    self._env.run_pip(\"install\", \"--no-deps\", \"-e\", str(self._path))\r\n  File \"/workspace/.pip-modules/lib/python3.8/site-packages/poetry/utils/env.py\", line 861, in run_pip\r\n    return self._run(cmd, **kwargs)\r\n  File \"/workspace/.pip-modules/lib/python3.8/site-packages/poetry/utils/env.py\", line 1089, in _run\r\n    return super(VirtualEnv, self)._run(cmd, **kwargs)\r\n  File \"/workspace/.pip-modules/lib/python3.8/site-packages/poetry/utils/env.py\", line 893, in _run\r\n    raise EnvCommandError(e, input=input_)\r\n\r\nmake: *** [Makefile:7: dev] Error 1\r\n```\r\n\r\n**Python site output**\r\n\r\n```python\r\npython -m site\r\nsys.path = [\r\n    '/workspace/aws-lambda-powertools-python',\r\n    '/home/gitpod/.pyenv/versions/3.8.3/lib/python38.zip',\r\n    '/home/gitpod/.pyenv/versions/3.8.3/lib/python3.8',\r\n    '/home/gitpod/.pyenv/versions/3.8.3/lib/python3.8/lib-dynload',\r\n    '/workspace/.pip-modules/lib/python3.8/site-packages',\r\n    '/home/gitpod/.pyenv/versions/3.8.3/lib/python3.8/site-packages',\r\n]\r\nUSER_BASE: '/workspace/.pip-modules' (exists)\r\nUSER_SITE: '/workspace/.pip-modules/lib/python3.8/site-packages' (exists)\r\nENABLE_USER_SITE: True\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2541", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2541/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2541/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2541/events", "html_url": "https://github.com/python-poetry/poetry/issues/2541", "id": 636498212, "node_id": "MDU6SXNzdWU2MzY0OTgyMTI=", "number": 2541, "title": "Unhandled AttributeError in 'poetry install': 'NoneType' object has no attribute 'group'", "user": {"login": "rpdelaney", "id": 1139517, "node_id": "MDQ6VXNlcjExMzk1MTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1139517?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rpdelaney", "html_url": "https://github.com/rpdelaney", "followers_url": "https://api.github.com/users/rpdelaney/followers", "following_url": "https://api.github.com/users/rpdelaney/following{/other_user}", "gists_url": "https://api.github.com/users/rpdelaney/gists{/gist_id}", "starred_url": "https://api.github.com/users/rpdelaney/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rpdelaney/subscriptions", "organizations_url": "https://api.github.com/users/rpdelaney/orgs", "repos_url": "https://api.github.com/users/rpdelaney/repos", "events_url": "https://api.github.com/users/rpdelaney/events{/privacy}", "received_events_url": "https://api.github.com/users/rpdelaney/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}, {"id": 1733679088, "node_id": "MDU6TGFiZWwxNzMzNjc5MDg4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Error%20Handling", "name": "Error Handling", "color": "ea59c6", "default": false, "description": "Bad error messages, insufficient error handling, ..."}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-10T19:38:13Z", "updated_at": "2020-06-17T23:25:56Z", "closed_at": "2020-06-11T10:14:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- `macOS-10.15.5`: <!-- Replace with version + name -->\r\n- `1.0.9`: <!-- Replace with version -->\r\n\r\n<details><summary>pyproject.toml</summary>\r\n\r\n```toml\r\n[tool.poetry]\r\nname = \"uncolor\"\r\nversion = \"0.1.0\"\r\ndescription = \"strips ANSI colors from a data stream\"\r\nauthors = [\"Ryan Delaney <ryan.patrick.delaney@protonmail.com\"]\r\nclassifiers = [ ]\r\n\r\n[tool.poetry.dependencies]\r\npython = \"^3.7\"\r\nansicolors = \"^1.1.8\"\r\n\r\n[tool.poetry.dev-dependencies]\r\npytest = \"^5.2\"\r\nblack = \"19.10b0\"\r\nflake8 = \"^3.8.3\"\r\nflake8-breakpoint = \"^1.1.0\"\r\nflake8-bugbear = \"^20.1.4\"\r\nflake8-builtins = \"^1.5.3\"\r\npytest-mock = \"^3.1.1\"\r\npytest-icdiff = \"^0.5\"\r\n\r\n[tool.poetry.scripts]\r\nfoo = \"uncolor:main\"\r\n\r\n[tool.black]\r\nline-length = 79\r\ntarget_version = [\"py37\"]\r\n\r\n[tool.isort]\r\n[settings]\r\ncombine_star = true\r\n# default_section =\r\n# force_to_top =\r\n# forced_separate =\r\ninclude_trailing_comma = true\r\nindent='    '\r\nknown_first_party = []\r\nknown_third_party = []\r\nlength_sort = false\r\nline_length = 79\r\nmulti_line_output = 3\r\n# no_lines_before =\r\n# skip =\r\n# skip_glob =\r\nuse_parentheses = true\r\n# verbose =\r\n\r\n[build-system]\r\nrequires = [\"poetry>=0.12\"]\r\nbuild-backend = \"poetry.masonry.api\"\r\n```\r\n</details>\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nPossibly related to #2372\r\n\r\nWhen performing `poetry install` using this pyproject.toml file, I am met with an AttributeError:\r\n\r\n```console\r\n$ poetry install -vvv\r\nUsing virtualenv: /Users/ryan/src/me/uncolor/.venv\r\nInstalling dependencies from lock file\r\n\r\nNo dependencies to install or update\r\n\r\n  - Skipping zipp (3.1.0) Already installed\r\n  - Skipping importlib-metadata (1.6.1) Already installed\r\n  - Skipping pyparsing (2.4.7) Already installed\r\n  - Skipping six (1.15.0) Already installed\r\n  - Skipping atomicwrites (1.4.0) Not needed for the current environment\r\n  - Skipping attrs (19.3.0) Already installed\r\n  - Skipping colorama (0.4.3) Not needed for the current environment\r\n  - Skipping mccabe (0.6.1) Already installed\r\n  - Skipping more-itertools (8.3.0) Already installed\r\n  - Skipping packaging (20.4) Already installed\r\n  - Skipping pluggy (0.13.1) Already installed\r\n  - Skipping py (1.8.1) Already installed\r\n  - Skipping pycodestyle (2.6.0) Already installed\r\n  - Skipping pyflakes (2.2.0) Already installed\r\n  - Skipping wcwidth (0.2.4) Already installed\r\n  - Skipping appdirs (1.4.4) Already installed\r\n  - Skipping click (7.1.2) Already installed\r\n  - Skipping flake8 (3.8.3) Already installed\r\n  - Skipping flake8-plugin-utils (1.3.0) Already installed\r\n  - Skipping icdiff (1.9.1) Already installed\r\n  - Skipping pathspec (0.8.0) Already installed\r\n  - Skipping pprintpp (0.4.0) Already installed\r\n  - Skipping pytest (5.4.3) Already installed\r\n  - Skipping regex (2020.6.8) Already installed\r\n  - Skipping toml (0.10.1) Already installed\r\n  - Skipping typed-ast (1.4.1) Already installed\r\n  - Skipping ansicolors (1.1.8) Already installed\r\n  - Skipping black (19.10b0) Already installed\r\n  - Skipping flake8-breakpoint (1.1.0) Already installed\r\n  - Skipping flake8-bugbear (20.1.4) Already installed\r\n  - Skipping flake8-builtins (1.5.3) Already installed\r\n  - Skipping pytest-icdiff (0.5) Already installed\r\n  - Skipping pytest-mock (3.1.1) Already installed\r\n\r\n[AttributeError]\r\n'NoneType' object has no attribute 'group'\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/ryan/.local/pipx/venvs/poetry/lib/python3.7/site-packages/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/Users/ryan/.local/pipx/venvs/poetry/lib/python3.7/site-packages/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/Users/ryan/.local/pipx/venvs/poetry/lib/python3.7/site-packages/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/Users/ryan/.local/pipx/venvs/poetry/lib/python3.7/site-packages/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/Users/ryan/.local/pipx/venvs/poetry/lib/python3.7/site-packages/poetry/console/commands/install.py\", line 78, in handle\r\n    builder = EditableBuilder(self.poetry, self._env, NullIO())\r\n  File \"/Users/ryan/.local/pipx/venvs/poetry/lib/python3.7/site-packages/poetry/masonry/builders/builder.py\", line 71, in __init__\r\n    self._meta = Metadata.from_package(self._package)\r\n  File \"/Users/ryan/.local/pipx/venvs/poetry/lib/python3.7/site-packages/poetry/masonry/metadata.py\", line 54, in from_package\r\n    meta.author = package.author_name\r\n  File \"/Users/ryan/.local/pipx/venvs/poetry/lib/python3.7/site-packages/poetry/packages/package.py\", line 138, in author_name\r\n    return self._get_author()['name']\r\n  File \"/Users/ryan/.local/pipx/venvs/poetry/lib/python3.7/site-packages/poetry/packages/package.py\", line 166, in _get_author\r\n    name = m.group('name')\r\n\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2536", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2536/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2536/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2536/events", "html_url": "https://github.com/python-poetry/poetry/issues/2536", "id": 636045195, "node_id": "MDU6SXNzdWU2MzYwNDUxOTU=", "number": 2536, "title": "Wrong date on https://python-poetry.org/history", "user": {"login": "BjornFJohansson", "id": 9726401, "node_id": "MDQ6VXNlcjk3MjY0MDE=", "avatar_url": "https://avatars1.githubusercontent.com/u/9726401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BjornFJohansson", "html_url": "https://github.com/BjornFJohansson", "followers_url": "https://api.github.com/users/BjornFJohansson/followers", "following_url": "https://api.github.com/users/BjornFJohansson/following{/other_user}", "gists_url": "https://api.github.com/users/BjornFJohansson/gists{/gist_id}", "starred_url": "https://api.github.com/users/BjornFJohansson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BjornFJohansson/subscriptions", "organizations_url": "https://api.github.com/users/BjornFJohansson/orgs", "repos_url": "https://api.github.com/users/BjornFJohansson/repos", "events_url": "https://api.github.com/users/BjornFJohansson/events{/privacy}", "received_events_url": "https://api.github.com/users/BjornFJohansson/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1055741547, "node_id": "MDU6TGFiZWwxMDU1NzQxNTQ3", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Documentation", "name": "Documentation", "color": "86d8ad", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-10T08:29:14Z", "updated_at": "2020-06-28T12:54:29Z", "closed_at": "2020-06-28T12:54:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Spottd that the lates entry on the list is 1.0.9 - 2010-06-09\r\nhttps://python-poetry.org/history\r\nShould be 1.0.9 - 2020-06-09 ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2534", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2534/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2534/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2534/events", "html_url": "https://github.com/python-poetry/poetry/issues/2534", "id": 635976773, "node_id": "MDU6SXNzdWU2MzU5NzY3NzM=", "number": 2534, "title": "Poetry Update always re-installs *all* dependencies", "user": {"login": "Imaclean74", "id": 6381576, "node_id": "MDQ6VXNlcjYzODE1NzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/6381576?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Imaclean74", "html_url": "https://github.com/Imaclean74", "followers_url": "https://api.github.com/users/Imaclean74/followers", "following_url": "https://api.github.com/users/Imaclean74/following{/other_user}", "gists_url": "https://api.github.com/users/Imaclean74/gists{/gist_id}", "starred_url": "https://api.github.com/users/Imaclean74/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Imaclean74/subscriptions", "organizations_url": "https://api.github.com/users/Imaclean74/orgs", "repos_url": "https://api.github.com/users/Imaclean74/repos", "events_url": "https://api.github.com/users/Imaclean74/events{/privacy}", "received_events_url": "https://api.github.com/users/Imaclean74/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2020-06-10T06:45:51Z", "updated_at": "2020-07-02T11:59:06Z", "closed_at": "2020-07-02T11:59:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **Linux 3.10.0-1062.21.1.el7.x86_64 **\r\n- **1.08**: \r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: <!-- Gist Link Here -->\r\n\r\n## Issue\r\nSince upgrading to 1.0.8 poetry will \"upgrade\" every dependency to the same version as previously. ie after the dependency resolution / Version solving poetry thinks every single package in pyproject.toml ( and dependencies ) needs upgrading and proceeds to update them to exactly the same version as previously. I've tried deleting the venv and re-running and get consistent behavior every time.\r\n\r\n```bash\r\n\r\nbash-4.2$ poetry update\r\nUpdating dependencies\r\nResolving dependencies... (52.7s)\r\n\r\nPackage operations: 0 installs, 59 updates, 0 removals\r\n\r\n- Updating pycparser (2.20 -> 2.20)\r\n- Updating certifi (2020.4.5.2 -> 2020.4.5.2)\r\n- Updating cffi (1.14.0 -> 1.14.0)\r\n- Updating chardet (3.0.4 -> 3.0.4)\r\n- Updating idna (2.9 -> 2.9)\r\n```\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2529", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2529/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2529/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2529/events", "html_url": "https://github.com/python-poetry/poetry/issues/2529", "id": 635571298, "node_id": "MDU6SXNzdWU2MzU1NzEyOTg=", "number": 2529, "title": "`init` option to select Python version.", "user": {"login": "fcoclavero", "id": 7874078, "node_id": "MDQ6VXNlcjc4NzQwNzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/7874078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fcoclavero", "html_url": "https://github.com/fcoclavero", "followers_url": "https://api.github.com/users/fcoclavero/followers", "following_url": "https://api.github.com/users/fcoclavero/following{/other_user}", "gists_url": "https://api.github.com/users/fcoclavero/gists{/gist_id}", "starred_url": "https://api.github.com/users/fcoclavero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fcoclavero/subscriptions", "organizations_url": "https://api.github.com/users/fcoclavero/orgs", "repos_url": "https://api.github.com/users/fcoclavero/repos", "events_url": "https://api.github.com/users/fcoclavero/events{/privacy}", "received_events_url": "https://api.github.com/users/fcoclavero/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-09T16:14:28Z", "updated_at": "2020-07-19T17:36:08Z", "closed_at": "2020-07-19T17:36:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nHello,\r\n\r\nI wanted to add an option to the `init` command to select the Python version. This would be really useful when running in non-interactive mode, and a version different from the default is needed.\r\n\r\nThanks!\r\n\r\nResolves #2529", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2528", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2528/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2528/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2528/events", "html_url": "https://github.com/python-poetry/poetry/issues/2528", "id": 635552172, "node_id": "MDU6SXNzdWU2MzU1NTIxNzI=", "number": 2528, "title": "add a command to  uninstalls all packages not specified in poetry.lock", "user": {"login": "kwinstonix", "id": 12824991, "node_id": "MDQ6VXNlcjEyODI0OTkx", "avatar_url": "https://avatars1.githubusercontent.com/u/12824991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kwinstonix", "html_url": "https://github.com/kwinstonix", "followers_url": "https://api.github.com/users/kwinstonix/followers", "following_url": "https://api.github.com/users/kwinstonix/following{/other_user}", "gists_url": "https://api.github.com/users/kwinstonix/gists{/gist_id}", "starred_url": "https://api.github.com/users/kwinstonix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kwinstonix/subscriptions", "organizations_url": "https://api.github.com/users/kwinstonix/orgs", "repos_url": "https://api.github.com/users/kwinstonix/repos", "events_url": "https://api.github.com/users/kwinstonix/events{/privacy}", "received_events_url": "https://api.github.com/users/kwinstonix/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-09T15:47:05Z", "updated_at": "2020-06-09T18:46:36Z", "closed_at": "2020-06-09T18:46:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nJust like pipenv clean cmd\r\n>   clean      Uninstalls all packages not specified in Pipfile.lock.\r\n\r\nBenifit\uff1a\r\n\r\nwhen run poetry in gitlab CI,  we usually use the feature of `Cache dependencies`,  It is better to remove old unused  packages. For example flake8 plugins `flake8-xxx` \r\n\r\n\r\nhttps://docs.gitlab.com/ee/ci/caching/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2523", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2523/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2523/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2523/events", "html_url": "https://github.com/python-poetry/poetry/issues/2523", "id": 635175542, "node_id": "MDU6SXNzdWU2MzUxNzU1NDI=", "number": 2523, "title": "PermissionError for 'poetry add p4python'", "user": {"login": "Celeborn2BeAlive", "id": 1659465, "node_id": "MDQ6VXNlcjE2NTk0NjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1659465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Celeborn2BeAlive", "html_url": "https://github.com/Celeborn2BeAlive", "followers_url": "https://api.github.com/users/Celeborn2BeAlive/followers", "following_url": "https://api.github.com/users/Celeborn2BeAlive/following{/other_user}", "gists_url": "https://api.github.com/users/Celeborn2BeAlive/gists{/gist_id}", "starred_url": "https://api.github.com/users/Celeborn2BeAlive/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Celeborn2BeAlive/subscriptions", "organizations_url": "https://api.github.com/users/Celeborn2BeAlive/orgs", "repos_url": "https://api.github.com/users/Celeborn2BeAlive/repos", "events_url": "https://api.github.com/users/Celeborn2BeAlive/events{/privacy}", "received_events_url": "https://api.github.com/users/Celeborn2BeAlive/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-09T07:18:54Z", "updated_at": "2020-06-09T07:38:04Z", "closed_at": "2020-06-09T07:38:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [ ] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Windows 10 1903\r\n- **Poetry version**: 1.0.5\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: No need, the bug occurs with a new poetry project\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nWhen I try to add the perforce package with `poetry add p4python` in a newly created project I get the following error:\r\n```\r\n[PermissionError]\r\n[WinError 5] Access is denied: 'C:\\\\Users\\\\laure\\\\AppData\\\\Local\\\\Temp\\\\tmprjqn7cu0\\\\unpacked\\\\p4python-2019.1.1858212\\\\devnotes.txt'\r\n```\r\nHere is the stack I obtain with `-vvv`:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\clikit\\console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\clikit\\api\\command\\command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\clikit\\api\\command\\command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\cleo\\commands\\command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\console\\commands\\add.py\", line 149, in handle\r\n    status = installer.run()\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\installation\\installer.py\", line 74, in run\r\n    self._do_install(local_repo)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\installation\\installer.py\", line 161, in _do_install\r\n    ops = solver.solve(use_latest=self._whitelist)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\puzzle\\solver.py\", line 36, in solve\r\n    packages, depths = self._solve(use_latest=use_latest)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\puzzle\\solver.py\", line 181, in _solve\r\n    self._package, self._provider, locked=locked, use_latest=use_latest\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\mixology\\__init__.py\", line 7, in resolve_version\r\n    return solver.solve()\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\mixology\\version_solver.py\", line 80, in solve\r\n    next = self._choose_package_version()\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\mixology\\version_solver.py\", line 378, in _choose_package_version\r\n    version = self._provider.complete_package(version)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\puzzle\\provider.py\", line 550, in complete_package\r\n    repository=package.dependency.source_name,\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\repositories\\pool.py\", line 115, in package\r\n    package = repo.package(name, version, extras=extras)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\repositories\\pypi_repository.py\", line 161, in package\r\n    release_info = self.get_release_info(name, version)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\repositories\\pypi_repository.py\", line 278, in get_release_info\r\n    '{}:{}'.format(name, version), lambda: self._get_release_info(name, version)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\cachy\\repository.py\", line 174, in remember_forever\r\n    val = value(callback)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\cachy\\helpers.py\", line 6, in value\r\n    return val()\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\repositories\\pypi_repository.py\", line 278, in <lambda>\r\n    '{}:{}'.format(name, version), lambda: self._get_release_info(name, version)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\repositories\\pypi_repository.py\", line 345, in _get_release_info\r\n    info = self._get_info_from_urls(urls)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\repositories\\pypi_repository.py\", line 462, in _get_info_from_urls\r\n    return self._get_info_from_sdist(urls['sdist'][0])\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\repositories\\pypi_repository.py\", line 494, in _get_info_from_sdist\r\n    return self._inspector.inspect_sdist(filepath)\r\n  File \"C:\\Users\\laure\\.pyenv\\pyenv-win\\versions\\3.7.6-amd64\\lib\\contextlib.py\", line 119, in __exit__\r\n    next(self.gen)\r\n  File \"c:\\users\\laure\\.local\\pipx\\venvs\\poetry\\lib\\site-packages\\poetry\\utils\\helpers.py\", line 43, in temporary_directory\r\n    yield name\r\n  File \"C:\\Users\\laure\\.pyenv\\pyenv-win\\versions\\3.7.6-amd64\\lib\\tempfile.py\", line 807, in __exit__\r\n    self.cleanup()\r\n  File \"C:\\Users\\laure\\.pyenv\\pyenv-win\\versions\\3.7.6-amd64\\lib\\tempfile.py\", line 811, in cleanup\r\n    _shutil.rmtree(self.name)\r\n  File \"C:\\Users\\laure\\.pyenv\\pyenv-win\\versions\\3.7.6-amd64\\lib\\shutil.py\", line 516, in rmtree\r\n    return _rmtree_unsafe(path, onerror)\r\n  File \"C:\\Users\\laure\\.pyenv\\pyenv-win\\versions\\3.7.6-amd64\\lib\\shutil.py\", line 395, in _rmtree_unsafe\r\n    _rmtree_unsafe(fullname, onerror)\r\n  File \"C:\\Users\\laure\\.pyenv\\pyenv-win\\versions\\3.7.6-amd64\\lib\\shutil.py\", line 395, in _rmtree_unsafe\r\n    _rmtree_unsafe(fullname, onerror)\r\n  File \"C:\\Users\\laure\\.pyenv\\pyenv-win\\versions\\3.7.6-amd64\\lib\\shutil.py\", line 400, in _rmtree_unsafe\r\n    onerror(os.unlink, fullname, sys.exc_info())\r\n  File \"C:\\Users\\laure\\.pyenv\\pyenv-win\\versions\\3.7.6-amd64\\lib\\shutil.py\", line 398, in _rmtree_unsafe\r\n    os.unlink(fullname)\r\n```\r\nI will try to fix it and submit a pull request.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2515", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2515/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2515/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2515/events", "html_url": "https://github.com/python-poetry/poetry/issues/2515", "id": 633277535, "node_id": "MDU6SXNzdWU2MzMyNzc1MzU=", "number": 2515, "title": "chicken-egg-problem - install poetry with poetry", "user": {"login": "Cielquan", "id": 43916661, "node_id": "MDQ6VXNlcjQzOTE2NjYx", "avatar_url": "https://avatars3.githubusercontent.com/u/43916661?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cielquan", "html_url": "https://github.com/Cielquan", "followers_url": "https://api.github.com/users/Cielquan/followers", "following_url": "https://api.github.com/users/Cielquan/following{/other_user}", "gists_url": "https://api.github.com/users/Cielquan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cielquan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cielquan/subscriptions", "organizations_url": "https://api.github.com/users/Cielquan/orgs", "repos_url": "https://api.github.com/users/Cielquan/repos", "events_url": "https://api.github.com/users/Cielquan/events{/privacy}", "received_events_url": "https://api.github.com/users/Cielquan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-07T10:24:49Z", "updated_at": "2020-06-08T12:56:42Z", "closed_at": "2020-06-07T12:06:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request / Bug Report\r\n<!-- Now feel free to write your idea for improvement. Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\n## Foreword\r\n\r\nWhile I took a look at #2457 and tried to implement it #2511 I encountered an breaking issue: You cannot install poetry from source directly.\r\n\r\nI stated my findings and thoughts in the [comments of the issue](https://github.com/python-poetry/poetry/issues/2457#issuecomment-640047433) yesterday. But I think its better to outsource this discussion into another (this) issue because its off-topic for the other issue. \r\n\r\nQuotes in the following text are either from my above linked comment or this issue itself.\r\n\r\n\r\n## The Issue\r\n\r\nSo first of all the encountered issue is **not** a problem if you install poetry like its [described in the docs](https://python-poetry.org/docs/#installation). \r\n\r\nThe problem occurs when you want to install poetry from source with `pip install .`: \r\n> When I clone the poetry repo I cannot install it via `pip install .` like pre-commit will do. For installing it it wants to build a wheel for poetry but fails so because for building it it wants to use itself but its dependencies are not there because its not installed - catch-22.\r\n\r\nFor the error output please see the spoiler in my linked comment. You can also simply reproduce the error when you clone the repo and install it into a venv (linux commands):\r\n```bash\r\ngit clone https://github.com/python-poetry/poetry\r\npython3 -m venv venv\r\nsource venv/bin/activate\r\npip install -U pip\r\npip install .\r\n```\r\n\r\n## Solutions\r\n\r\nI stated 3 solutions:\r\n> 1. Bootstrapping (I think its called): change from using itself to using poetry as a package (like we all do)\r\n> 2. add the install dependencies to the `requires` section in `[build-system]` in `pyproject.toml`\r\n> 3. include dependencies in poetry repo itself\r\n\r\nAnd said:\r\n> I think option 2 and 3 are overhead and IMO option 1 is *the* solution.\r\n \r\nSo after a night of sleep I got some additional thoughts and changed my view on my statement from above. Now I think solution 1 would only be the best **temporary** solution to the problem (because its so easy to apply and can be changed back anytime).\r\n\r\nIMO the best and most *stylish* approach would be solution 2 **but** only in conjunction with the following part.\r\n\r\n\r\n## Implementation\r\n\r\nBefore I talk further I want to state that till now I have not taken a single look into the internals of poetry and plan to do so. So please don't hit me :wink: \r\n\r\npoetry currently has 22 install dependencies (4 for py3.4 (drop in 1.1) and 6 for py2.7 (drop in 2.0)). I don't think all are necessary to use poetry as a building back-end.\r\nSo I think it would be best to not put all dependencies into the `require` section but allow poetry to be used in a minimal way with minimal dependencies as a building back-end to build the full poetry application from source.\r\n\r\n\r\n## Proposal\r\n\r\nI would propose to implement solution 1 as a temporary fix first\r\n> (because its so easy to apply and can be changed back anytime)\r\n\r\nand then implement solution 2 like state above.\r\n\r\n---\r\n\r\nWhat do you think?\r\n\r\nEDIT: Added context to dependency amount", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2507", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2507/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2507/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2507/events", "html_url": "https://github.com/python-poetry/poetry/issues/2507", "id": 631985329, "node_id": "MDU6SXNzdWU2MzE5ODUzMjk=", "number": 2507, "title": "Unable to download from Python repository hosted in Artifactory", "user": {"login": "snambi", "id": 280453, "node_id": "MDQ6VXNlcjI4MDQ1Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/280453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/snambi", "html_url": "https://github.com/snambi", "followers_url": "https://api.github.com/users/snambi/followers", "following_url": "https://api.github.com/users/snambi/following{/other_user}", "gists_url": "https://api.github.com/users/snambi/gists{/gist_id}", "starred_url": "https://api.github.com/users/snambi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/snambi/subscriptions", "organizations_url": "https://api.github.com/users/snambi/orgs", "repos_url": "https://api.github.com/users/snambi/repos", "events_url": "https://api.github.com/users/snambi/events{/privacy}", "received_events_url": "https://api.github.com/users/snambi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-06-05T21:41:54Z", "updated_at": "2020-06-10T23:54:02Z", "closed_at": "2020-06-10T23:54:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Mac OS X 10.14.6 , Mojave <!-- Replace with version + name -->\r\n- **Poetry version**: 1.0.5 <!-- Replace with version -->\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: [pyproject.toml](https://gist.github.com/snambi/f4fecc78e96a1cb7e3aa3f3c47c806b0)\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nThe legacy repositories have versions found in child pages\r\n\r\n**PYPI Repository:**\r\n\r\nPlease take a look at the Flask package in PyPI repository\r\n[https://pypi.org/simple/flask/](https://pypi.org/simple/flask/) \r\n\r\nPackage page contains href elements that point to .whl, tar.gz etc.\r\n` <a href=\"https://files.pythonhosted.org/packages/d8/94/7350820/Flask-1.0.4-py2.py3-none-any.whl#sha256=1a21ccc\" data-requires-python=\"&gt;=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*\">Flask-1.0.4-py2.py3-none-any.whl</a>`\r\n\r\n **Artifactory (Legacy) Repository**\r\n\r\nHowever the artifactory doesn't follow the same convention as the PYPI repository.\r\n[https://artifactory.repo.com/artifactory/my-repo/py-pkg](https://artifactory.repo.com/artifactory/my-repo/py-pkg/ )\r\n\r\nThe package page simply have links to the child pages.\r\n**The actual binaries are only found in the child pages.** \r\n\r\nVersions are provided by following pages\r\n\r\n[https://artifactory.repo.com/artifactory/my-repo/py-pkg/0.1.0](https://artifactory.repo.com/artifactory/my-repo/py-pkg/0.1.0)\r\n[https://artifactory.repo.com/artifactory/my-repo/py-pkg/0.2.0](https://artifactory.repo.com/artifactory/my-repo/py-pkg/0.2.0)\r\n            \r\n**_For legacy repositories, child pages must be read_**\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2504", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2504/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2504/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2504/events", "html_url": "https://github.com/python-poetry/poetry/issues/2504", "id": 631770723, "node_id": "MDU6SXNzdWU2MzE3NzA3MjM=", "number": 2504, "title": "Poetry Install/Update Failing on 1.0.7 with git repositories (works on 1.0.5)", "user": {"login": "badrobit", "id": 1327963, "node_id": "MDQ6VXNlcjEzMjc5NjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/1327963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/badrobit", "html_url": "https://github.com/badrobit", "followers_url": "https://api.github.com/users/badrobit/followers", "following_url": "https://api.github.com/users/badrobit/following{/other_user}", "gists_url": "https://api.github.com/users/badrobit/gists{/gist_id}", "starred_url": "https://api.github.com/users/badrobit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/badrobit/subscriptions", "organizations_url": "https://api.github.com/users/badrobit/orgs", "repos_url": "https://api.github.com/users/badrobit/repos", "events_url": "https://api.github.com/users/badrobit/events{/privacy}", "received_events_url": "https://api.github.com/users/badrobit/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-05T17:14:20Z", "updated_at": "2020-06-05T18:43:12Z", "closed_at": "2020-06-05T17:35:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [X] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [X] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate. (there are similar but not specific)\r\n- [X] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option). (No exception occurs)\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Ubuntu 18.04, 20.04, Debian (from Python 3.8.2 Docker Image)\r\n- **Poetry version**: 1.0.7\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: Not allowed to sorry, (Work Defined Rule).\r\n\r\n## Issue\r\nWhen using dependencies defined as git based repositories poetry reports that it installs the repository but when we source the poetry created virtual environment and try to run unit tests or an interactive terminal we are unable to find the package poetry reported as installed.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2502", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2502/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2502/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2502/events", "html_url": "https://github.com/python-poetry/poetry/issues/2502", "id": 631665948, "node_id": "MDU6SXNzdWU2MzE2NjU5NDg=", "number": 2502, "title": "Poetry install always reinstalls all packages when used in legacy repo", "user": {"login": "Nitori-", "id": 65889, "node_id": "MDQ6VXNlcjY1ODg5", "avatar_url": "https://avatars3.githubusercontent.com/u/65889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nitori-", "html_url": "https://github.com/Nitori-", "followers_url": "https://api.github.com/users/Nitori-/followers", "following_url": "https://api.github.com/users/Nitori-/following{/other_user}", "gists_url": "https://api.github.com/users/Nitori-/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nitori-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nitori-/subscriptions", "organizations_url": "https://api.github.com/users/Nitori-/orgs", "repos_url": "https://api.github.com/users/Nitori-/repos", "events_url": "https://api.github.com/users/Nitori-/events{/privacy}", "received_events_url": "https://api.github.com/users/Nitori-/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-06-05T14:59:33Z", "updated_at": "2020-06-09T21:35:53Z", "closed_at": "2020-06-09T18:54:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n- **OS version and name**: Ubuntu 20.04\r\n- **Poetry version**: 1.0.6, 1.0.8\r\n- **Link of a [Gist]() with the contents of your pyproject.toml file**: https://gist.github.com/Nitori-/45e49ac8feb993c11158decd4ba1fc67\r\n\r\n## Issue\r\n\r\nWhenever I run `poetry install` it seems any existing packages are \"upgraded\" to the exact same version:\r\n\r\n```\r\n$ poetry install\r\nInstalling dependencies from lock file\r\n\r\n\r\nPackage operations: 0 installs, 51 updates, 0 removals\r\n\r\n  - Updating certifi (2020.4.5.1 -> 2020.4.5.1)\r\n  - Updating chardet (3.0.4 -> 3.0.4)\r\n  - Updating idna (2.9 -> 2.9)\r\n  - Updating markupsafe (1.1.1 -> 1.1.1)\r\n  - Updating pyparsing (2.4.7 -> 2.4.7)\r\n  - Updating pytz (2020.1 -> 2020.1)\r\n  - Updating six (1.15.0 -> 1.15.0)\r\n  - Updating urllib3 (1.25.9 -> 1.25.9)\r\n  - Updating alabaster (0.7.12 -> 0.7.12)\r\n  - Updating atomicwrites (1.4.0 -> 1.4.0)\r\n  - Updating attrs (19.3.0 -> 19.3.0)\r\n  - Updating babel (2.8.0 -> 2.8.0)\r\n  - Updating docutils (0.16 -> 0.16)\r\n  - Updating imagesize (1.2.0 -> 1.2.0)\r\n  - Updating jinja2 (2.11.2 -> 2.11.2)\r\n  - Updating lazy-object-proxy (1.4.3 -> 1.4.3)\r\n  - Updating more-itertools (8.3.0 -> 8.3.0)\r\n  - Updating packaging (20.4 -> 20.4)\r\n  - Updating pluggy (0.13.1 -> 0.13.1)\r\n  - Updating py (1.8.1 -> 1.8.1)\r\n  - Updating pygments (2.6.1 -> 2.6.1)\r\n  - Updating requests (2.23.0 -> 2.23.0)\r\n  - Updating snowballstemmer (2.0.0 -> 2.0.0)\r\n  - Updating sphinxcontrib-applehelp (1.0.2 -> 1.0.2)\r\n  - Updating sphinxcontrib-devhelp (1.0.2 -> 1.0.2)\r\n  - Updating sphinxcontrib-htmlhelp (1.0.3 -> 1.0.3)\r\n  - Updating sphinxcontrib-jsmath (1.0.1 -> 1.0.1)\r\n  - Updating sphinxcontrib-qthelp (1.0.3 -> 1.0.3)\r\n  - Updating sphinxcontrib-serializinghtml (1.1.4 -> 1.1.4)\r\n  - Updating wcwidth (0.2.3 -> 0.2.3)\r\n  - Updating wrapt (1.12.1 -> 1.12.1)\r\n  - Updating appdirs (1.4.4 -> 1.4.4)\r\n  - Updating astroid (2.4.1 -> 2.4.1)\r\n  - Updating click (7.1.2 -> 7.1.2)\r\n  - Updating coverage (4.5.4 -> 4.5.4)\r\n  - Updating isort (4.3.21 -> 4.3.21)\r\n  - Updating mccabe (0.6.1 -> 0.6.1)\r\n  - Updating pycodestyle (2.6.0 -> 2.6.0)\r\n  - Updating pydocstyle (5.0.2 -> 5.0.2)\r\n  - Updating pyflakes (2.2.0 -> 2.2.0)\r\n  - Updating pytest (4.6.11 -> 4.6.11)\r\n  - Updating sphinx (2.4.4 -> 2.4.4)\r\n  - Updating toml (0.10.1 -> 0.10.1)\r\n  - Updating black (18.9b0 -> 18.9b0)\r\n  - Updating pathlib2 (2.3.5 -> 2.3.5)\r\n  - Updating pylama (7.7.1 -> 7.7.1)\r\n  - Updating pylint (2.5.2 -> 2.5.2)\r\n  - Updating pytest-cov (2.9.0 -> 2.9.0)\r\n  - Updating pytest-ct-ext (2.0.5 -> 2.0.5)\r\n  - Updating scandir (1.10.0 -> 1.10.0)\r\n  - Updating sphinx-rtd-theme (0.4.3 -> 0.4.3)\r\n  - Installing porg (1.49.0)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2501", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2501/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2501/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2501/events", "html_url": "https://github.com/python-poetry/poetry/issues/2501", "id": 631663643, "node_id": "MDU6SXNzdWU2MzE2NjM2NDM=", "number": 2501, "title": "Poetry 1.0.6 fails to install another poetry project from a sub-folder", "user": {"login": "graffic", "id": 47939, "node_id": "MDQ6VXNlcjQ3OTM5", "avatar_url": "https://avatars3.githubusercontent.com/u/47939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graffic", "html_url": "https://github.com/graffic", "followers_url": "https://api.github.com/users/graffic/followers", "following_url": "https://api.github.com/users/graffic/following{/other_user}", "gists_url": "https://api.github.com/users/graffic/gists{/gist_id}", "starred_url": "https://api.github.com/users/graffic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graffic/subscriptions", "organizations_url": "https://api.github.com/users/graffic/orgs", "repos_url": "https://api.github.com/users/graffic/repos", "events_url": "https://api.github.com/users/graffic/events{/privacy}", "received_events_url": "https://api.github.com/users/graffic/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-05T14:57:08Z", "updated_at": "2020-06-05T19:32:02Z", "closed_at": "2020-06-05T17:35:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: Archlinux\r\n- **Poetry version**: 1.0.6\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: https://gist.github.com/graffic/53aad7feb76f11c524a1172458d4d1ed\r\n\r\n## Issue\r\nThe `pyproject.toml` file has a dependency on another poetry project. But it seems after poetry install, it fails to install. This was working with `1.0.5`. If I go to the `schemas` folder and execute a poetry install inside the virtual-env, I can install the main package afterwards.\r\n\r\nOutput I get\r\n\r\n```\r\n\r\nPackage operations: 1 install, 0 updates, 0 removals\r\n\r\n  - Installing ovat-schemas-metrics (0.6.0 schemas)\r\n  - Installing metrics (0.20.0)\r\n\r\n[EnvCommandError]\r\nCommand ['/redacted/metrics/.venv/bin/pip', 'install', '-e', '/redacted/metrics'] errored with the following return code 1, and output: \r\nObtaining file:///redacted/metrics\r\nRequirement already satisfied: Faker<5.0.0,>=4.0.2 in ./.venv/lib/python3.8/site-packages (from metrics==0.20.0) (4.1.0)\r\nRequirement already satisfied: alembic<2.0.0,>=1.4.2 in ./.venv/lib/python3.8/site-packages (from metrics==0.20.0) (1.4.2)\r\nRequirement already satisfied: click<8.0,>=7.0 in ./.venv/lib/python3.8/site-packages (from metrics==0.20.0) (7.1.2)\r\nRequirement already satisfied: databases<1,>=0 in ./.venv/lib/python3.8/site-packages (from metrics==0.20.0) (0.3.2)\r\nRequirement already satisfied: fastapi<0.55.0,>=0.54.1 in ./.venv/lib/python3.8/site-packages (from metrics==0.20.0) (0.54.2)\r\nRequirement already satisfied: httpx<0.14.0,>=0.13.2 in ./.venv/lib/python3.8/site-packages (from metrics==0.20.0) (0.13.3)\r\nERROR: Could not find a version that satisfies the requirement ovat-schemas-metrics==0.6.0 (from metrics==0.20.0) (from versions: none)\r\nERROR: No matching distribution found for ovat-schemas-metrics==0.6.0 (from metrics==0.20.0)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2498", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2498/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2498/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2498/events", "html_url": "https://github.com/python-poetry/poetry/issues/2498", "id": 631618346, "node_id": "MDU6SXNzdWU2MzE2MTgzNDY=", "number": 2498, "title": "Poetry 1.0.6 raises TypeError", "user": {"login": "PetterS", "id": 772305, "node_id": "MDQ6VXNlcjc3MjMwNQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/772305?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PetterS", "html_url": "https://github.com/PetterS", "followers_url": "https://api.github.com/users/PetterS/followers", "following_url": "https://api.github.com/users/PetterS/following{/other_user}", "gists_url": "https://api.github.com/users/PetterS/gists{/gist_id}", "starred_url": "https://api.github.com/users/PetterS/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PetterS/subscriptions", "organizations_url": "https://api.github.com/users/PetterS/orgs", "repos_url": "https://api.github.com/users/PetterS/repos", "events_url": "https://api.github.com/users/PetterS/events{/privacy}", "received_events_url": "https://api.github.com/users/PetterS/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/python-poetry/poetry/milestones/4", "html_url": "https://github.com/python-poetry/poetry/milestone/4", "labels_url": "https://api.github.com/repos/python-poetry/poetry/milestones/4/labels", "id": 5503240, "node_id": "MDk6TWlsZXN0b25lNTUwMzI0MA==", "number": 4, "title": "Next bugfix release", "description": "", "creator": {"login": "sdispater", "id": 555648, "node_id": "MDQ6VXNlcjU1NTY0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/555648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sdispater", "html_url": "https://github.com/sdispater", "followers_url": "https://api.github.com/users/sdispater/followers", "following_url": "https://api.github.com/users/sdispater/following{/other_user}", "gists_url": "https://api.github.com/users/sdispater/gists{/gist_id}", "starred_url": "https://api.github.com/users/sdispater/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sdispater/subscriptions", "organizations_url": "https://api.github.com/users/sdispater/orgs", "repos_url": "https://api.github.com/users/sdispater/repos", "events_url": "https://api.github.com/users/sdispater/events{/privacy}", "received_events_url": "https://api.github.com/users/sdispater/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "open", "created_at": "2020-06-05T10:45:09Z", "updated_at": "2020-06-05T14:25:29Z", "due_on": null, "closed_at": null}, "comments": 12, "created_at": "2020-06-05T14:03:47Z", "updated_at": "2020-06-05T17:59:03Z", "closed_at": "2020-06-05T14:25:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I am using the new Poetry that was released 6 minutes ago (1.0.6).\r\n\r\nIt gives me the following output on my repo:\r\n```\r\nInstalling dependencies from lock file\r\n[TypeError] \r\n_execute_setup() missing 1 required positional argument: 'self'\r\n```\r\n\r\nPoetry 1.0.5 works.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2493", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2493/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2493/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2493/events", "html_url": "https://github.com/python-poetry/poetry/issues/2493", "id": 630972169, "node_id": "MDU6SXNzdWU2MzA5NzIxNjk=", "number": 2493, "title": "Poetry errors fails with '--format wheel'", "user": {"login": "padix-key", "id": 28051833, "node_id": "MDQ6VXNlcjI4MDUxODMz", "avatar_url": "https://avatars2.githubusercontent.com/u/28051833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/padix-key", "html_url": "https://github.com/padix-key", "followers_url": "https://api.github.com/users/padix-key/followers", "following_url": "https://api.github.com/users/padix-key/following{/other_user}", "gists_url": "https://api.github.com/users/padix-key/gists{/gist_id}", "starred_url": "https://api.github.com/users/padix-key/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/padix-key/subscriptions", "organizations_url": "https://api.github.com/users/padix-key/orgs", "repos_url": "https://api.github.com/users/padix-key/repos", "events_url": "https://api.github.com/users/padix-key/events{/privacy}", "received_events_url": "https://api.github.com/users/padix-key/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 851634863, "node_id": "MDU6TGFiZWw4NTE2MzQ4NjM=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Packaging", "name": "Packaging", "color": "7e56c4", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-04T16:21:57Z", "updated_at": "2020-07-28T13:57:59Z", "closed_at": "2020-07-28T13:57:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS**: Ubuntu 18.04\r\n- **Poetry version**: 1.0.5\r\n- **pyproject.toml**: https://github.com/padix-key/biotite/blob/poetry-build/pyproject.toml\r\n- **build.py**: https://github.com/padix-key/biotite/blob/poetry-build/build.py\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\nWhen building my Python project with `poetry build -vvv -f wheel`it errors:\r\n```\r\n[EnvCommandError]\r\nCommand ['/home/kunzmann/bin/conda/envs/biotite-dev/bin/python', '/home/kunzmann/data/coding/biotite/setup.py', 'build', '-b', '/home/kunzmann/data/coding/biotite/build'] errored with the following return code 2, and output: \r\n/home/kunzmann/bin/conda/envs/biotite-dev/bin/python: can't open file '/home/kunzmann/data/coding/biotite/setup.py': [Errno 2] No such file or directory\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/kunzmann/.poetry/lib/poetry/_vendor/py3.8/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/home/kunzmann/.poetry/lib/poetry/_vendor/py3.8/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/home/kunzmann/.poetry/lib/poetry/_vendor/py3.8/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/home/kunzmann/.poetry/lib/poetry/_vendor/py3.8/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/home/kunzmann/.poetry/lib/poetry/console/commands/build.py\", line 30, in handle\r\n    builder.build(fmt)\r\n  File \"/home/kunzmann/.poetry/lib/poetry/masonry/builder.py\", line 21, in build\r\n    return builder.build()\r\n  File \"/home/kunzmann/.poetry/lib/poetry/masonry/builders/wheel.py\", line 81, in build\r\n    self._build(zip_file)\r\n  File \"/home/kunzmann/.poetry/lib/poetry/masonry/builders/wheel.py\", line 103, in _build\r\n    self._env.run(\r\n  File \"/home/kunzmann/.poetry/lib/poetry/utils/env.py\", line 856, in run\r\n    return self._run(cmd, **kwargs)\r\n  File \"/home/kunzmann/.poetry/lib/poetry/utils/env.py\", line 1089, in _run\r\n    return super(VirtualEnv, self)._run(cmd, **kwargs)\r\n  File \"/home/kunzmann/.poetry/lib/poetry/utils/env.py\", line 893, in _run\r\n    raise EnvCommandError(e, input=input_)\r\n```\r\n\r\nHowever, when running `poetry build` (without `--format`) it works fine.\r\n\r\nI am using Poetry in a Conda environment.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2490", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2490/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2490/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2490/events", "html_url": "https://github.com/python-poetry/poetry/issues/2490", "id": 630491829, "node_id": "MDU6SXNzdWU2MzA0OTE4Mjk=", "number": 2490, "title": "Does not detect swagger_spec_validator-2.6.0-py2.py3-none-any.whl in PyPI", "user": {"login": "l0b0", "id": 168301, "node_id": "MDQ6VXNlcjE2ODMwMQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/168301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/l0b0", "html_url": "https://github.com/l0b0", "followers_url": "https://api.github.com/users/l0b0/followers", "following_url": "https://api.github.com/users/l0b0/following{/other_user}", "gists_url": "https://api.github.com/users/l0b0/gists{/gist_id}", "starred_url": "https://api.github.com/users/l0b0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/l0b0/subscriptions", "organizations_url": "https://api.github.com/users/l0b0/orgs", "repos_url": "https://api.github.com/users/l0b0/repos", "events_url": "https://api.github.com/users/l0b0/events{/privacy}", "received_events_url": "https://api.github.com/users/l0b0/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-04T03:58:09Z", "updated_at": "2020-06-04T17:55:46Z", "closed_at": "2020-06-04T17:54:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [ ] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option). *Not applicable*\r\n\r\n- **OS version and name**: Ubuntu 18.04\r\n- **Poetry version**: 1.0.5\r\n- **Relevant line in pyproject.toml**: `swagger-spec-validator = \"*\"` \r\n\r\n## Issue\r\n\r\nWhen running `poetry update` just now the entry in the lock file is\r\n\r\n```\r\nswagger-spec-validator = [\r\n    {file = \"swagger-spec-validator-2.6.0.macosx-10.15-x86_64.tar.gz\", hash = \"sha256:8cefd19349681531b07a187eee85c2ffe39353a0f1f21989ec29da6af618424b\"},\r\n]\r\n```\r\n\r\ndespite there being [another file in the same release](https://pypi.org/project/swagger-spec-validator/2.6.0/#files). This release fails to install on Linux. Is the problem the non-standard filename, containing underscores rather than the actual package name?\r\n\r\n**Workaround:** Manually add the relevant line to the lock file:\r\n\r\n```\r\n{file = \"swagger_spec_validator-2.6.0-py2.py3-none-any.whl\", hash = \"sha256:ba4e636d89bf547a6f41a6945bb503cf06dde13664ad978a7407aaed772ae75f\"},\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2488", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2488/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2488/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2488/events", "html_url": "https://github.com/python-poetry/poetry/issues/2488", "id": 630234866, "node_id": "MDU6SXNzdWU2MzAyMzQ4NjY=", "number": 2488, "title": "poetry init - dependency name equals to search string, not to selected package", "user": {"login": "thomaszub", "id": 10945901, "node_id": "MDQ6VXNlcjEwOTQ1OTAx", "avatar_url": "https://avatars2.githubusercontent.com/u/10945901?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomaszub", "html_url": "https://github.com/thomaszub", "followers_url": "https://api.github.com/users/thomaszub/followers", "following_url": "https://api.github.com/users/thomaszub/following{/other_user}", "gists_url": "https://api.github.com/users/thomaszub/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomaszub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomaszub/subscriptions", "organizations_url": "https://api.github.com/users/thomaszub/orgs", "repos_url": "https://api.github.com/users/thomaszub/repos", "events_url": "https://api.github.com/users/thomaszub/events{/privacy}", "received_events_url": "https://api.github.com/users/thomaszub/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-03T18:44:08Z", "updated_at": "2020-08-15T06:30:03Z", "closed_at": "2020-08-15T06:30:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **OS version and name**: macOS Catalina 10.15.5\r\n- **Poetry version**: 1.0.5\r\n- **Link of a [Gist](https://gist.github.com/) with the contents of your pyproject.toml file**: <!-- Gist Link Here -->\r\n\r\n## Issue\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n\r\nThe dependency added by the search dialog equals to the search string, not to the selected package. See the following with search string pendulu:\r\n\r\n```\r\n\u276f poetry init\r\n\r\nThis command will guide you through creating your pyproject.toml config.\r\n\r\nPackage name [poetry-bug-test]:\r\nVersion [0.1.0]:\r\nDescription []:\r\nAuthor [thomaszub <thomas.zub@outlook.de>, n to skip]:\r\nLicense []:\r\nCompatible Python versions [^3.7]:\r\n\r\nWould you like to define your main dependencies interactively? (yes/no) [yes]\r\nYou can specify a package in the following forms:\r\n  - A single name (requests)\r\n  - A name and a constraint (requests ^2.23.0)\r\n  - A git url (git+https://github.com/python-poetry/poetry.git)\r\n  - A git url with a revision (git+https://github.com/python-poetry/poetry.git#develop)\r\n  - A file path (../my-package/my-package.whl)\r\n  - A directory (../my-package/)\r\n  - An url (https://example.com/packages/my-package-0.1.0.tar.gz)\r\n\r\nSearch for package to add (or leave blank to continue): pendulu\r\nFound 5 packages matching pendulu\r\n\r\nEnter package # to add, or the complete package name if it is not listed:\r\n [0] PID-pendulum\r\n [1] sparse-pendulum\r\n [2] django-pendulum\r\n [3] pendulumify\r\n [4] pendulum\r\n > 4\r\nEnter the version constraint to require (or leave blank to use the latest version):\r\nUsing version ^2.1.0 for pendulum\r\n\r\nAdd a package:\r\n\r\nWould you like to define your development dependencies interactively? (yes/no) [yes] no\r\nGenerated file\r\n\r\n[tool.poetry]\r\nname = \"poetry-bug-test\"\r\nversion = \"0.1.0\"\r\ndescription = \"\"\r\nauthors = [\"thomaszub <thomas.zub@outlook.de>\"]\r\n\r\n[tool.poetry.dependencies]\r\npython = \"^3.7\"\r\npendulu = \"^2.1.0\"\r\n\r\n[tool.poetry.dev-dependencies]\r\n\r\n[build-system]\r\nrequires = [\"poetry>=0.12\"]\r\nbuild-backend = \"poetry.masonry.api\"\r\n\r\n\r\nDo you confirm generation? (yes/no) [yes] yes\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2476", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2476/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2476/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2476/events", "html_url": "https://github.com/python-poetry/poetry/issues/2476", "id": 627319575, "node_id": "MDU6SXNzdWU2MjczMTk1NzU=", "number": 2476, "title": "Unable to clearly install poetry in Docker container", "user": {"login": "cdeler", "id": 32924338, "node_id": "MDQ6VXNlcjMyOTI0MzM4", "avatar_url": "https://avatars1.githubusercontent.com/u/32924338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdeler", "html_url": "https://github.com/cdeler", "followers_url": "https://api.github.com/users/cdeler/followers", "following_url": "https://api.github.com/users/cdeler/following{/other_user}", "gists_url": "https://api.github.com/users/cdeler/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdeler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdeler/subscriptions", "organizations_url": "https://api.github.com/users/cdeler/orgs", "repos_url": "https://api.github.com/users/cdeler/repos", "events_url": "https://api.github.com/users/cdeler/events{/privacy}", "received_events_url": "https://api.github.com/users/cdeler/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 938024205, "node_id": "MDU6TGFiZWw5MzgwMjQyMDU=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Feature", "name": "Feature", "color": "73a1d6", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-29T14:40:09Z", "updated_at": "2020-05-29T16:17:40Z", "closed_at": "2020-05-29T16:17:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for wanting to make Poetry better.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] I have searched the [documentation](https://python-poetry.org/docs/) and believe that my question is not covered.\r\n\r\n## Feature Request\r\nI cannot clearly install poetry into Docker container. I'm not sure if it's a bug or feature request. I decided it's a new feature.\r\n\r\nSo if you want to install poetry into Docker container, you have to do either\r\n```\r\nRUN curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python\r\nENV PATH=\"${PATH}:/root/.poetry/bin\"```\r\nor \r\n```\r\npip install poetry==1.0.5\r\n```\r\n\r\nThe problem in first command is that I haven't found a way ho to install poetry into `/usr/bin` or `/usr/local/bin`, therefore I have to add `/root/.poetry/bin` to the $PATH\r\n\r\nThe second command installs the binaries into `/root/.local/bin` which obliviously is not in the PATH. \r\n\r\nSo is it possible to ask you provide us with a command-line option to poetry installator to install your tool system-wide?  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2474", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2474/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2474/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2474/events", "html_url": "https://github.com/python-poetry/poetry/issues/2474", "id": 627169328, "node_id": "MDU6SXNzdWU2MjcxNjkzMjg=", "number": 2474, "title": "Unable to parse \"None\" exception", "user": {"login": "dbalabka", "id": 1269372, "node_id": "MDQ6VXNlcjEyNjkzNzI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1269372?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbalabka", "html_url": "https://github.com/dbalabka", "followers_url": "https://api.github.com/users/dbalabka/followers", "following_url": "https://api.github.com/users/dbalabka/following{/other_user}", "gists_url": "https://api.github.com/users/dbalabka/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbalabka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbalabka/subscriptions", "organizations_url": "https://api.github.com/users/dbalabka/orgs", "repos_url": "https://api.github.com/users/dbalabka/repos", "events_url": "https://api.github.com/users/dbalabka/events{/privacy}", "received_events_url": "https://api.github.com/users/dbalabka/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 851628021, "node_id": "MDU6TGFiZWw4NTE2MjgwMjE=", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Bug", "name": "Bug", "color": "f74a2a", "default": false, "description": "Something isn't working"}, {"id": 1963964338, "node_id": "MDU6TGFiZWwxOTYzOTY0MzM4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Duplicate", "name": "Duplicate", "color": "d6667d", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-29T10:33:17Z", "updated_at": "2020-06-01T07:29:44Z", "closed_at": "2020-06-01T05:28:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\n  Hi there! Thank you for discovering and submitting an issue.\r\n\r\n  Before you submit this; let's make sure of a few things.\r\n  Please make sure the following boxes are ticked if they are correct.\r\n  If not, please try and fulfill these first.\r\n-->\r\n\r\n<!-- Checked checkbox should look like this: [x] -->\r\n- [x] I am on the [latest](https://github.com/python-poetry/poetry/releases/latest) Poetry version.\r\n- [x] I have searched the [issues](https://github.com/python-poetry/poetry/issues) of this repo and believe that this is not a duplicate.\r\n- [x] If an exception occurs when executing a command, I executed it again in debug mode (`-vvv` option).\r\n\r\n<!--\r\n  Once those are done, if you're able to fill in the following list with your information,\r\n  it'd be very helpful to whoever handles the issue.\r\n-->\r\n\r\n- **MacOS Catalina 10.15.4**: <!-- Replace with version + name -->\r\n- **1.0.5**: <!-- Replace with version -->\r\n\r\n## Issue\r\n\r\nTrying to add a new package into a new project using `add` command and URL https://github.com/lyst/lightfm/archive/1.15.tar.gz \r\nbut getting following error:\r\n```\r\n\u279c  test-poetry poetry add https://github.com/lyst/lightfm/archive/1.15.tar.gz -vvv\r\nCreating virtualenv test-poetry-ZlQuSTS_-py3.6 in /Users/torinaki/Library/Caches/pypoetry/virtualenvs\r\nUsing virtualenv: /Users/torinaki/Library/Caches/pypoetry/virtualenvs/test-poetry-ZlQuSTS_-py3.6\r\n\r\n[ParseVersionError]\r\nUnable to parse \"None\".\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/torinaki/.poetry/lib/poetry/_vendor/py3.6/clikit/console_application.py\", line 131, in run\r\n    status_code = command.handle(parsed_args, io)\r\n  File \"/Users/torinaki/.poetry/lib/poetry/_vendor/py3.6/clikit/api/command/command.py\", line 120, in handle\r\n    status_code = self._do_handle(args, io)\r\n  File \"/Users/torinaki/.poetry/lib/poetry/_vendor/py3.6/clikit/api/command/command.py\", line 171, in _do_handle\r\n    return getattr(handler, handler_method)(args, io, self)\r\n  File \"/Users/torinaki/.poetry/lib/poetry/_vendor/py3.6/cleo/commands/command.py\", line 92, in wrap_handle\r\n    return self.handle()\r\n  File \"/Users/torinaki/.poetry/lib/poetry/console/commands/add.py\", line 89, in handle\r\n    packages, allow_prereleases=self.option('allow-prereleases')\r\n  File \"/Users/torinaki/.poetry/lib/poetry/console/commands/init.py\", line 293, in _determine_requirements\r\n    requires = self._parse_requirements(requires)\r\n  File \"/Users/torinaki/.poetry/lib/poetry/console/commands/init.py\", line 388, in _parse_requirements\r\n    package = Provider.get_package_from_url(requirement)\r\n  File \"/Users/torinaki/.poetry/lib/poetry/puzzle/provider.py\", line 466, in get_package_from_url\r\n    package = cls.get_package_from_file(temp_dir / file_name)\r\n  File \"/Users/torinaki/.poetry/lib/poetry/puzzle/provider.py\", line 249, in get_package_from_file\r\n    package = Package(info['name'], info['version'])\r\n  File \"/Users/torinaki/.poetry/lib/poetry/packages/package.py\", line 46, in __init__\r\n    self._version = Version.parse(version)\r\n  File \"/Users/torinaki/.poetry/lib/poetry/semver/version.py\", line 206, in parse\r\n    raise ParseVersionError('Unable to parse \"{}\".'.format(text))\r\n```\r\n\r\nSteps to reproduce:\r\n1. `poetry init`\r\n2. `poetry add https://github.com/lyst/lightfm/archive/1.15.tar.gz -vvv`\r\n<!-- Now feel free to write your issue, but please be descriptive! Thanks again \ud83d\ude4c \u2764\ufe0f -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-poetry/poetry/issues/2471", "repository_url": "https://api.github.com/repos/python-poetry/poetry", "labels_url": "https://api.github.com/repos/python-poetry/poetry/issues/2471/labels{/name}", "comments_url": "https://api.github.com/repos/python-poetry/poetry/issues/2471/comments", "events_url": "https://api.github.com/repos/python-poetry/poetry/issues/2471/events", "html_url": "https://github.com/python-poetry/poetry/issues/2471", "id": 626507409, "node_id": "MDU6SXNzdWU2MjY1MDc0MDk=", "number": 2471, "title": "the docs is outdated for Ubuntu 20.04", "user": {"login": "jabbalaci", "id": 694081, "node_id": "MDQ6VXNlcjY5NDA4MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/694081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jabbalaci", "html_url": "https://github.com/jabbalaci", "followers_url": "https://api.github.com/users/jabbalaci/followers", "following_url": "https://api.github.com/users/jabbalaci/following{/other_user}", "gists_url": "https://api.github.com/users/jabbalaci/gists{/gist_id}", "starred_url": "https://api.github.com/users/jabbalaci/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jabbalaci/subscriptions", "organizations_url": "https://api.github.com/users/jabbalaci/orgs", "repos_url": "https://api.github.com/users/jabbalaci/repos", "events_url": "https://api.github.com/users/jabbalaci/events{/privacy}", "received_events_url": "https://api.github.com/users/jabbalaci/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1055741547, "node_id": "MDU6TGFiZWwxMDU1NzQxNTQ3", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Documentation", "name": "Documentation", "color": "86d8ad", "default": false, "description": ""}, {"id": 1982093198, "node_id": "MDU6TGFiZWwxOTgyMDkzMTk4", "url": "https://api.github.com/repos/python-poetry/poetry/labels/Triage", "name": "Triage", "color": "fceb32", "default": false, "description": "This issue needs to be triaged"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-28T13:26:04Z", "updated_at": "2020-06-01T06:33:52Z", "closed_at": "2020-06-01T06:33:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to install poetry on a freshly installed Ubuntu 20.04 and the command `python` is not available there. Only `python3` exists. Thus, on https://python-poetry.org/docs/ , the following line should be updated:\r\n\r\n    curl -sSL https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py | python\r\n\r\nInstead of `python` at the end, use `python3`.\r\n\r\nOnce I installed it, it created the script `~/.poetry/bin/poetry`, whose first line also includes `python`. The script's first line should be:\r\n\r\n    #!/usr/bin/env python3\r\n", "performed_via_github_app": null, "score": 1.0}]}