{"total_count": 437, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/pantsbuild/pex/issues/1011", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/1011/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/1011/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/1011/events", "html_url": "https://github.com/pantsbuild/pex/issues/1011", "id": 664611834, "node_id": "MDU6SXNzdWU2NjQ2MTE4MzQ=", "number": 1011, "title": "Release 2.1.14", "user": {"login": "Eric-Arellano", "id": 14852634, "node_id": "MDQ6VXNlcjE0ODUyNjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/14852634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eric-Arellano", "html_url": "https://github.com/Eric-Arellano", "followers_url": "https://api.github.com/users/Eric-Arellano/followers", "following_url": "https://api.github.com/users/Eric-Arellano/following{/other_user}", "gists_url": "https://api.github.com/users/Eric-Arellano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eric-Arellano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eric-Arellano/subscriptions", "organizations_url": "https://api.github.com/users/Eric-Arellano/orgs", "repos_url": "https://api.github.com/users/Eric-Arellano/repos", "events_url": "https://api.github.com/users/Eric-Arellano/events{/privacy}", "received_events_url": "https://api.github.com/users/Eric-Arellano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-23T16:26:47Z", "updated_at": "2020-07-23T16:59:32Z", "closed_at": "2020-07-23T16:59:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On the docket:\r\n\r\n* [x] Add `--use-first-matching-interpreter` to speed up performance of builds at the expense of worse compatibility at runtime. This is an important optimization for Pants's use of Pex. https://github.com/pantsbuild/pex/pull/1008", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/1009", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/1009/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/1009/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/1009/events", "html_url": "https://github.com/pantsbuild/pex/issues/1009", "id": 664116034, "node_id": "MDU6SXNzdWU2NjQxMTYwMzQ=", "number": 1009, "title": "No such file for interpreter's binary name", "user": {"login": "stuhood", "id": 46740, "node_id": "MDQ6VXNlcjQ2NzQw", "avatar_url": "https://avatars1.githubusercontent.com/u/46740?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stuhood", "html_url": "https://github.com/stuhood", "followers_url": "https://api.github.com/users/stuhood/followers", "following_url": "https://api.github.com/users/stuhood/following{/other_user}", "gists_url": "https://api.github.com/users/stuhood/gists{/gist_id}", "starred_url": "https://api.github.com/users/stuhood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stuhood/subscriptions", "organizations_url": "https://api.github.com/users/stuhood/orgs", "repos_url": "https://api.github.com/users/stuhood/repos", "events_url": "https://api.github.com/users/stuhood/events{/privacy}", "received_events_url": "https://api.github.com/users/stuhood/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-07-22T23:47:50Z", "updated_at": "2020-08-07T16:17:37Z", "closed_at": "2020-08-07T16:17:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "With `2.1.12`, @asherf encountered a case where `pex` detected an interpreter with a bad binary name:\r\n```\r\npex: Building pex\r\npex: Building pex :: Resolving interpreters\r\npex: Constraints on interpreters: ['CPython>=3.6'], Matching Interpreter: /Users/asher/.pyenv/versions/3.8.2/bin/python3.8\r\npex: Constraints on interpreters: ['CPython>=3.6'], Matching Interpreter: /Users/asher/.toolchain/homebrew/Cellar/python@3.8/3.8.4/bin/python3.7\r\npex: Constraints on interpreters: ['CPython>=3.6'], Matching Interpreter: /usr/local/Cellar/python/3.7.8/Frameworks/Python.framework/Versions/3.7/bin/python3.7\r\npex: Constraints on interpreters: ['CPython>=3.6'], Matching Interpreter: /Applications/Xcode.app/Contents/Developer/Library/Frameworks/Python3.framework/Versions/3.7/bin/python3.7\r\n```\r\n\r\nThe file `/Users/asher/.toolchain/homebrew/Cellar/python@3.8/3.8.4/bin/python3.7` does not exist (`python3.8` does, as might be expected).\r\n\r\nThis bug was reproduced in the context of a long lived `pex_root`, which @asherf can provide if need be.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/1007", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/1007/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/1007/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/1007/events", "html_url": "https://github.com/pantsbuild/pex/issues/1007", "id": 661318753, "node_id": "MDU6SXNzdWU2NjEzMTg3NTM=", "number": 1007, "title": "Can PEX bundle a Python interpreter too?", "user": {"login": "dclong", "id": 824507, "node_id": "MDQ6VXNlcjgyNDUwNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/824507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dclong", "html_url": "https://github.com/dclong", "followers_url": "https://api.github.com/users/dclong/followers", "following_url": "https://api.github.com/users/dclong/following{/other_user}", "gists_url": "https://api.github.com/users/dclong/gists{/gist_id}", "starred_url": "https://api.github.com/users/dclong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dclong/subscriptions", "organizations_url": "https://api.github.com/users/dclong/orgs", "repos_url": "https://api.github.com/users/dclong/repos", "events_url": "https://api.github.com/users/dclong/events{/privacy}", "received_events_url": "https://api.github.com/users/dclong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}, {"id": 115645385, "node_id": "MDU6TGFiZWwxMTU2NDUzODU=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}, {"id": 377929932, "node_id": "MDU6TGFiZWwzNzc5Mjk5MzI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/ready-for-review", "name": "ready-for-review", "color": "0e8a16", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-07-20T03:32:08Z", "updated_at": "2020-07-24T20:47:57Z", "closed_at": "2020-07-24T20:47:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible for PEX to bundle a Python interpreter too so that the target machine does not even need a Python to be installed?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/1005", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/1005/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/1005/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/1005/events", "html_url": "https://github.com/pantsbuild/pex/issues/1005", "id": 657200432, "node_id": "MDU6SXNzdWU2NTcyMDA0MzI=", "number": 1005, "title": "Bundling PEX file for Python applications with pinned dependencies", "user": {"login": "hiboo", "id": 2545380, "node_id": "MDQ6VXNlcjI1NDUzODA=", "avatar_url": "https://avatars2.githubusercontent.com/u/2545380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hiboo", "html_url": "https://github.com/hiboo", "followers_url": "https://api.github.com/users/hiboo/followers", "following_url": "https://api.github.com/users/hiboo/following{/other_user}", "gists_url": "https://api.github.com/users/hiboo/gists{/gist_id}", "starred_url": "https://api.github.com/users/hiboo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hiboo/subscriptions", "organizations_url": "https://api.github.com/users/hiboo/orgs", "repos_url": "https://api.github.com/users/hiboo/repos", "events_url": "https://api.github.com/users/hiboo/events{/privacy}", "received_events_url": "https://api.github.com/users/hiboo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-07-15T09:22:10Z", "updated_at": "2020-07-19T15:18:21Z", "closed_at": "2020-07-19T15:18:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello there,\r\n\r\nI'm currently using PEX to bundle my Python applications (API, workers, ...) to be deployed easier on different machines.\r\nI want my PEX to bundle pinned version of each of my application dependencies (as well as my application source code) so I'm sure the behavior of the application is the same as the one I developed locally.\r\n\r\nHowever, when running `pex -o myapp.pex .` or `python setup.py bdist_pex`, I suppose that PEX resolve the requirements from the `setup.py` file `install_requires` argument. Again, I suppose that this may result in different builds if dependencies are not pinned (for example requirement: `flask>=1.0.0` could lead pex to resolve flask with the latest released version while I could develop and test locally my application with flask 1.0.1,  leading to a difference between my application and the built one with potential issues).\r\n\r\nTo fix this I generate a `requirements.txt` file containing my application pinned dependencies then I run:\r\n`pex -r requirements.txt -o myapp.pex .`\r\n\r\nHowever, I'm wondering if this is fine as it may cause pex to have to resolve dependencies twice (one time from requirements.txt and one another from setup.py).\r\n\r\nIs it ok ? Is there any better practice to generate a Python application PEX file using pinned dependencies ? Am I wrong about PEX or application bundling ?\r\n\r\nThanks for reading and this awesome tool\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/1003", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/1003/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/1003/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/1003/events", "html_url": "https://github.com/pantsbuild/pex/issues/1003", "id": 655036157, "node_id": "MDU6SXNzdWU2NTUwMzYxNTc=", "number": 1003, "title": "NotADirectoryError when looking for a `.bootstrap` directory in a pex file", "user": {"login": "asherf", "id": 1268088, "node_id": "MDQ6VXNlcjEyNjgwODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1268088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asherf", "html_url": "https://github.com/asherf", "followers_url": "https://api.github.com/users/asherf/followers", "following_url": "https://api.github.com/users/asherf/following{/other_user}", "gists_url": "https://api.github.com/users/asherf/gists{/gist_id}", "starred_url": "https://api.github.com/users/asherf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asherf/subscriptions", "organizations_url": "https://api.github.com/users/asherf/orgs", "repos_url": "https://api.github.com/users/asherf/repos", "events_url": "https://api.github.com/users/asherf/events{/privacy}", "received_events_url": "https://api.github.com/users/asherf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-07-10T21:05:59Z", "updated_at": "2020-07-10T21:55:26Z", "closed_at": "2020-07-10T21:21:09Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I have only seen it once (in CI), however, this is concerning.\r\n\r\n```\r\n\r\n\ud800\udd02 Bandit failed.\r\nTraceback (most recent call last):\r\n  File \"/tmp/process-executionIgo8Kg/bandit.pex/.bootstrap/pex/pex.py\", line 401, in execute\r\n  File \"/tmp/process-executionIgo8Kg/bandit.pex/.bootstrap/pex/pex.py\", line 333, in _wrap_coverage\r\n  File \"/tmp/process-executionIgo8Kg/bandit.pex/.bootstrap/pex/pex.py\", line 364, in _wrap_profiling\r\n  File \"/tmp/process-executionIgo8Kg/bandit.pex/.bootstrap/pex/pex.py\", line 452, in _execute\r\n  File \"/tmp/process-executionIgo8Kg/bandit.pex/.bootstrap/pex/pex.py\", line 549, in execute_entry\r\n  File \"/tmp/process-executionIgo8Kg/bandit.pex/.bootstrap/pex/pex.py\", line 556, in execute_module\r\n  File \"/usr/local/lib/python3.8/runpy.py\", line 202, in run_module\r\n    mod_name, mod_spec, code = _get_module_details(mod_name)\r\n  File \"/usr/local/lib/python3.8/runpy.py\", line 143, in _get_module_details\r\n    return _get_module_details(pkg_main_name, error)\r\n  File \"/usr/local/lib/python3.8/runpy.py\", line 110, in _get_module_details\r\n    __import__(pkg_name)\r\n  File \"/home/toolchain/.pex/installed_wheels/15d2aa75fdcfe6784df2a47644a713e788abe936/bandit-1.6.2-py2.py3-none-any.whl/bandit/__init__.py\", line 19, in <module>\r\n    from bandit.core import config  # noqa\r\n  File \"/home/toolchain/.pex/installed_wheels/15d2aa75fdcfe6784df2a47644a713e788abe936/bandit-1.6.2-py2.py3-none-any.whl/bandit/core/__init__.py\", line 17, in <module>\r\n    from bandit.core import config  # noqa\r\n  File \"/home/toolchain/.pex/installed_wheels/15d2aa75fdcfe6784df2a47644a713e788abe936/bandit-1.6.2-py2.py3-none-any.whl/bandit/core/config.py\", line 22, in <module>\r\n    from bandit.core import extension_loader\r\n  File \"/home/toolchain/.pex/installed_wheels/15d2aa75fdcfe6784df2a47644a713e788abe936/bandit-1.6.2-py2.py3-none-any.whl/bandit/core/extension_loader.py\", line 118, in <module>\r\n    MANAGER = Manager()\r\n  File \"/home/toolchain/.pex/installed_wheels/15d2aa75fdcfe6784df2a47644a713e788abe936/bandit-1.6.2-py2.py3-none-any.whl/bandit/core/extension_loader.py\", line 35, in __init__\r\n    self.load_formatters(formatters_namespace)\r\n  File \"/home/toolchain/.pex/installed_wheels/15d2aa75fdcfe6784df2a47644a713e788abe936/bandit-1.6.2-py2.py3-none-any.whl/bandit/core/extension_loader.py\", line 40, in load_formatters\r\n    self.formatters_mgr = extension.ExtensionManager(\r\n  File \"/home/toolchain/.pex/installed_wheels/00819186ecdcbd98d3ccae67a09c673ec7165d77/stevedore-3.0.0-py3-none-any.whl/stevedore/extension.py\", line 101, in __init__\r\n    extensions = self._load_plugins(invoke_on_load,\r\n  File \"/home/toolchain/.pex/installed_wheels/00819186ecdcbd98d3ccae67a09c673ec7165d77/stevedore-3.0.0-py3-none-any.whl/stevedore/extension.py\", line 186, in _load_plugins\r\n    for ep in self.list_entry_points():\r\n  File \"/home/toolchain/.pex/installed_wheels/00819186ecdcbd98d3ccae67a09c673ec7165d77/stevedore-3.0.0-py3-none-any.whl/stevedore/extension.py\", line 175, in list_entry_points\r\n    eps = list(_cache.get_group_all(self.namespace))\r\n  File \"/home/toolchain/.pex/installed_wheels/00819186ecdcbd98d3ccae67a09c673ec7165d77/stevedore-3.0.0-py3-none-any.whl/stevedore/_cache.py\", line 171, in get_group_all\r\n    data = self._get_data_for_path(path)\r\n  File \"/home/toolchain/.pex/installed_wheels/00819186ecdcbd98d3ccae67a09c673ec7165d77/stevedore-3.0.0-py3-none-any.whl/stevedore/_cache.py\", line 148, in _get_data_for_path\r\n    digest, path_values = _hash_settings_for_path(path)\r\n  File \"/home/toolchain/.pex/installed_wheels/00819186ecdcbd98d3ccae67a09c673ec7165d77/stevedore-3.0.0-py3-none-any.whl/stevedore/_cache.py\", line 86, in _hash_settings_for_path\r\n    mtime = _get_mtime(entry)\r\n  File \"/home/toolchain/.pex/installed_wheels/00819186ecdcbd98d3ccae67a09c673ec7165d77/stevedore-3.0.0-py3-none-any.whl/stevedore/_cache.py\", line 62, in _get_mtime\r\n    s = os.stat(name)\r\nNotADirectoryError: [Errno 20] Not a directory: '/tmp/process-executionIgo8Kg/bandit.pex/.bootstrap'\r\n\r\n```\r\n\r\n@jsirois ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/997", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/997/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/997/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/997/events", "html_url": "https://github.com/pantsbuild/pex/issues/997", "id": 654135396, "node_id": "MDU6SXNzdWU2NTQxMzUzOTY=", "number": 997, "title": "Feature Request : Syntax for --platform to refer to the current platform", "user": {"login": "mschaef-da", "id": 40773844, "node_id": "MDQ6VXNlcjQwNzczODQ0", "avatar_url": "https://avatars1.githubusercontent.com/u/40773844?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mschaef-da", "html_url": "https://github.com/mschaef-da", "followers_url": "https://api.github.com/users/mschaef-da/followers", "following_url": "https://api.github.com/users/mschaef-da/following{/other_user}", "gists_url": "https://api.github.com/users/mschaef-da/gists{/gist_id}", "starred_url": "https://api.github.com/users/mschaef-da/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mschaef-da/subscriptions", "organizations_url": "https://api.github.com/users/mschaef-da/orgs", "repos_url": "https://api.github.com/users/mschaef-da/repos", "events_url": "https://api.github.com/users/mschaef-da/events{/privacy}", "received_events_url": "https://api.github.com/users/mschaef-da/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-07-09T15:06:36Z", "updated_at": "2020-07-13T15:09:59Z", "closed_at": "2020-07-10T17:50:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm working on a project where I'm using an OS X development machine to cross build PEX files that need to run both on OS X and on Linux. To do this, I am using `--platform` to define a new platform list for the build that contains both the OS X platform string and the target platform:\r\n\r\n`--platform macosx_10.15-x86_64-cp-37-cp37m  --platform manylinux2010-x86_64-cp-37-cp37m`\r\n\r\nThis works, but it requires explicitly specifying (and knowing) the current platform string. What would be useful to avoid this is a syntax for the `--platform` option that uses the normal defaulting logic to compute the current platform string and adds that to the platform list.\r\n\r\n`--platform host-platform --platform manylinux2010-x86_64-cp-37-cp37m`\r\n\r\nAlternatively, a programmatic way to query for the current platform string would also work:\r\n\r\n`--platform $(find-python-platform-string) --platform manylinux2010-x86_64-cp-37-cp37m`\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/996", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/996/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/996/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/996/events", "html_url": "https://github.com/pantsbuild/pex/issues/996", "id": 652656488, "node_id": "MDU6SXNzdWU2NTI2NTY0ODg=", "number": 996, "title": "Add support for satisfying `--platform=X` with a local interpreter iff one is found.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1142509127, "node_id": "MDU6TGFiZWwxMTQyNTA5MTI3", "url": "https://api.github.com/repos/pantsbuild/pex/labels/feature%20request", "name": "feature request", "color": "3e81a5", "default": false, "description": ""}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-07-07T21:21:50Z", "updated_at": "2020-07-10T23:26:45Z", "closed_at": "2020-07-10T23:26:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, specifying a `--platform` that doesn't match the interpreter Pex is running under forces resolves to act as if `--no-build` had been specified and thus only fetch pre-built wheels:\r\nhttps://github.com/pantsbuild/pex/blob/451977efdf987dd299a1b4798ac2ee298cd6d61b/pex/pip.py#L208-L220\r\n\r\nUsing Pex from other (multiplatform) programs could be made simpler in many cases if, in addition to the current interpreter platform check, Pex could be asked to (or by default) check for any local interpreter that matched specified `--platform`s, using those interpreters when found to build wheels when only sdists were available.\r\n\r\nThe motivating use case is https://github.com/pantsbuild/pants/issues/10286", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/993", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/993/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/993/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/993/events", "html_url": "https://github.com/pantsbuild/pex/issues/993", "id": 649360729, "node_id": "MDU6SXNzdWU2NDkzNjA3Mjk=", "number": 993, "title": "pex ignores --no-wheel/--no-use-wheel", "user": {"login": "AndrewHoos", "id": 231790, "node_id": "MDQ6VXNlcjIzMTc5MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/231790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndrewHoos", "html_url": "https://github.com/AndrewHoos", "followers_url": "https://api.github.com/users/AndrewHoos/followers", "following_url": "https://api.github.com/users/AndrewHoos/following{/other_user}", "gists_url": "https://api.github.com/users/AndrewHoos/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndrewHoos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndrewHoos/subscriptions", "organizations_url": "https://api.github.com/users/AndrewHoos/orgs", "repos_url": "https://api.github.com/users/AndrewHoos/repos", "events_url": "https://api.github.com/users/AndrewHoos/events{/privacy}", "received_events_url": "https://api.github.com/users/AndrewHoos/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 6, "created_at": "2020-07-01T22:20:50Z", "updated_at": "2020-07-24T17:13:07Z", "closed_at": "2020-07-24T17:13:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you run this command:\r\n`python2 -m pex --no-use-wheel -r pex-requirements.txt -o python`\r\n\r\nThen you unzip the pex it will have wheels inside of it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/990", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/990/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/990/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/990/events", "html_url": "https://github.com/pantsbuild/pex/issues/990", "id": 642188111, "node_id": "MDU6SXNzdWU2NDIxODgxMTE=", "number": 990, "title": "Release 2.1.12", "user": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-06-19T19:52:05Z", "updated_at": "2020-06-19T21:45:46Z", "closed_at": "2020-06-19T21:45:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On the docket:\r\n- [x] A PEX_EXTRA_SYS_PATH runtime variable #989 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/984", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/984/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/984/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/984/events", "html_url": "https://github.com/pantsbuild/pex/issues/984", "id": 630137047, "node_id": "MDU6SXNzdWU2MzAxMzcwNDc=", "number": 984, "title": "pex safe copy files failure", "user": {"login": "asherf", "id": 1268088, "node_id": "MDQ6VXNlcjEyNjgwODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1268088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asherf", "html_url": "https://github.com/asherf", "followers_url": "https://api.github.com/users/asherf/followers", "following_url": "https://api.github.com/users/asherf/following{/other_user}", "gists_url": "https://api.github.com/users/asherf/gists{/gist_id}", "starred_url": "https://api.github.com/users/asherf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asherf/subscriptions", "organizations_url": "https://api.github.com/users/asherf/orgs", "repos_url": "https://api.github.com/users/asherf/repos", "events_url": "https://api.github.com/users/asherf/events{/privacy}", "received_events_url": "https://api.github.com/users/asherf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 17, "created_at": "2020-06-03T16:18:13Z", "updated_at": "2020-06-05T04:31:30Z", "closed_at": "2020-06-05T03:44:35Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This happened in CI.\r\npants was running pex to build a requirements.pex file for a test.\r\n\r\n```\r\n Process 'Building requirements.pex with 36 requirements: Django==3.0.6, ansicolors==1.1.8\r\n```\r\n\r\n```\r\n                stderr:\r\n                Traceback (most recent call last):\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.bootstrap/pex/pex.py\", line 396, in execute\r\n    exit_code = self._wrap_coverage(self._wrap_profiling, self._execute)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.bootstrap/pex/pex.py\", line 328, in _wrap_coverage\r\n    return runner(*args)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.bootstrap/pex/pex.py\", line 359, in _wrap_profiling\r\n    return runner(*args)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.bootstrap/pex/pex.py\", line 447, in _execute\r\n    return self.execute_entry(self._pex_info.entry_point)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.bootstrap/pex/pex.py\", line 544, in execute_entry\r\n    return runner(entry_point)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.bootstrap/pex/pex.py\", line 559, in execute_pkg_resources\r\n    return runner()\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.deps/pex-2.1.11-py2.py3-none-any.whl/pex/bin/pex.py\", line 786, in main\r\n    pex_builder = build_pex(reqs, options, cache=ENV.PEX_ROOT)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.deps/pex-2.1.11-py2.py3-none-any.whl/pex/bin/pex.py\", line 711, in build_pex\r\n    pex_builder.add_distribution(resolved_dist.distribution)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.deps/pex-2.1.11-py2.py3-none-any.whl/pex/pex_builder.py\", line 375, in add_distribution\r\n    dist_hash = self._add_dist_dir(dist.location, dist_name)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.deps/pex-2.1.11-py2.py3-none-any.whl/pex/pex_builder.py\", line 347, in _add_dist_dir\r\n    self._copy_or_link(filename, target)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.deps/pex-2.1.11-py2.py3-none-any.whl/pex/pex_builder.py\", line 434, in _copy_or_link\r\n    self._chroot.link(src, dst, label)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.deps/pex-2.1.11-py2.py3-none-any.whl/pex/common.py\", line 464, in link\r\n    safe_copy(abs_src, abs_dst, overwrite=False)\r\n  File \"/home/toolchain/.cache/pants/named_caches/pex_root/unzipped_pexes/5c7bc45e8fc51b4727f7d062b6d1d5e0ad0faf9d/.deps/pex-2.1.11-py2.py3-none-any.whl/pex/common.py\", line 44, in safe_copy\r\n    os.link(source, dest)\r\nFileNotFoundError: [Errno 2] No such file or directory: '/home/toolchain/.cache/pants/named_caches/pex_root/installed_wheels/d0f9e0791b74e702309155afd4c9c88d564264fa/kubernetes-11.0.0-py3-none-any.whl/kubernetes/client/api/__pycache__/auditregistration_v1alpha1_api.cpython-38.pyc.140613335570880' -> '/tmp/tmpfnzzu622/.deps/kubernetes-11.0.0-py3-none-any.whl/kubernetes/client/api/__pycache__/auditregistration_v1alpha1_api.cpython-38.pyc.140613335570880'\r\n```\r\n\r\n@benjyw @stuhood @jsirois ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/983", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/983/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/983/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/983/events", "html_url": "https://github.com/pantsbuild/pex/issues/983", "id": 629541830, "node_id": "MDU6SXNzdWU2Mjk1NDE4MzA=", "number": 983, "title": "vendored pip prompts for user input", "user": {"login": "asherf", "id": 1268088, "node_id": "MDQ6VXNlcjEyNjgwODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1268088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asherf", "html_url": "https://github.com/asherf", "followers_url": "https://api.github.com/users/asherf/followers", "following_url": "https://api.github.com/users/asherf/following{/other_user}", "gists_url": "https://api.github.com/users/asherf/gists{/gist_id}", "starred_url": "https://api.github.com/users/asherf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asherf/subscriptions", "organizations_url": "https://api.github.com/users/asherf/orgs", "repos_url": "https://api.github.com/users/asherf/repos", "events_url": "https://api.github.com/users/asherf/events{/privacy}", "received_events_url": "https://api.github.com/users/asherf/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 12, "created_at": "2020-06-02T21:58:02Z", "updated_at": "2020-07-10T17:52:49Z", "closed_at": "2020-07-10T17:48:05Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This obviously breaks pants.\r\nIt has to do with files in the temp directory, seeing this mostly on an ubuntu box.\r\n\r\nsince we vendor pip, we should probably modify this code to avoid the user interaction.\r\n```\r\nProcessExecutionFailure:                 Process 'Resolving 28 requirements: <REDACTED>' failed with exit code 1.\r\n                stdout:\r\n                The file /tmp/tmp_vbdtx6s/cp38-cp38/rsa-4.0-py2.py3-none-any.whl exists. (i)gnore, (w)ipe, (b)ackup, (a)abort\r\n\r\n                stderr:\r\n                ERROR: Exception:\r\nTraceback (most recent call last):\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/cli/base_command.py\", line 172, in _main\r\n    status = self.run(options, args)\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/commands/download.py\", line 146, in run\r\n    resolver.resolve(requirement_set)\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/legacy_resolve.py\", line 185, in resolve\r\n    discovered_reqs.extend(self._resolve_one(requirement_set, req))\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/legacy_resolve.py\", line 341, in _resolve_one\r\n    abstract_dist = self._get_abstract_dist_for(req_to_install)\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/legacy_resolve.py\", line 290, in _get_abstract_dist_for\r\n    abstract_dist = self.preparer.prepare_linked_requirement(req)\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/operations/prepare.py\", line 508, in prepare_linked_requirement\r\n    local_path = unpack_url(\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/operations/prepare.py\", line 308, in unpack_url\r\n    return unpack_http_url(\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/operations/prepare.py\", line 172, in unpack_http_url\r\n    _copy_file(from_path, download_dir, link)\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/operations/prepare.py\", line 113, in _copy_file\r\n    response = ask_path_exists(\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/utils/misc.py\", line 224, in ask_path_exists\r\n    return ask(message, options)\r\n  File \"/tmp/process-execution2mCsRC/pex_root/pip.pex/240b20f98d345b70b316f7e734d4cea20bde73b6/.deps/pip/pip/_internal/utils/misc.py\", line 242, in ask\r\n    response = input(message)\r\nEOFError: EOF when reading a line\r\npid: 24972 -> /usr/bin/python3.8 /tmp/process-execution2mCsRC/pex_root/pip.pex/2\r\n```\r\n\r\n@stuhood @benjyw  @jsirois ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/980", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/980/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/980/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/980/events", "html_url": "https://github.com/pantsbuild/pex/issues/980", "id": 620572608, "node_id": "MDU6SXNzdWU2MjA1NzI2MDg=", "number": 980, "title": "Release 2.1.11", "user": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-05-18T23:44:01Z", "updated_at": "2020-05-19T22:06:32Z", "closed_at": "2020-05-19T22:06:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "A quick patch release to get: \r\n- [x] wheel cache should use relative path symlinks to allow for chroot environments #978 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/978", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/978/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/978/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/978/events", "html_url": "https://github.com/pantsbuild/pex/issues/978", "id": 619267891, "node_id": "MDU6SXNzdWU2MTkyNjc4OTE=", "number": 978, "title": "wheel cache should use relative path symlinks to allow for chroot environments", "user": {"login": "tdyas", "id": 901363, "node_id": "MDQ6VXNlcjkwMTM2Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/901363?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tdyas", "html_url": "https://github.com/tdyas", "followers_url": "https://api.github.com/users/tdyas/followers", "following_url": "https://api.github.com/users/tdyas/following{/other_user}", "gists_url": "https://api.github.com/users/tdyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/tdyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tdyas/subscriptions", "organizations_url": "https://api.github.com/users/tdyas/orgs", "repos_url": "https://api.github.com/users/tdyas/repos", "events_url": "https://api.github.com/users/tdyas/events{/privacy}", "received_events_url": "https://api.github.com/users/tdyas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-15T21:29:34Z", "updated_at": "2020-05-18T23:42:54Z", "closed_at": "2020-05-18T23:42:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When running `pex` within a chroot environment, the symlinks generated by https://github.com/pantsbuild/pex/blob/e2d6bab09f8e9245f608402a904421268223ee58/pex/resolver.py#L421 use the absolute path within the chroot in the path for the symlinks' targets. These symlinks are invalid paths to any program that accesses the wheel cache outside of the chroot. (This was seen within a remote execution environment with Buildfarm.)\r\n\r\nThese would be better as relative paths within the wheel cache directory structure (probably use `os.path.relpath`).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/972", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/972/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/972/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/972/events", "html_url": "https://github.com/pantsbuild/pex/issues/972", "id": 616137257, "node_id": "MDU6SXNzdWU2MTYxMzcyNTc=", "number": 972, "title": "Release 2.1.13", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-05-11T19:46:49Z", "updated_at": "2020-07-11T00:38:22Z", "closed_at": "2020-07-11T00:08:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] vendored pip prompts for user input #983\r\n+ [x] Add support for satisfying `--platform=X` with a local interpreter iff one is found. #996\r\n+ [x] Feature Request : Syntax for --platform to refer to the current platform #997", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/967", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/967/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/967/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/967/events", "html_url": "https://github.com/pantsbuild/pex/issues/967", "id": 615451132, "node_id": "MDU6SXNzdWU2MTU0NTExMzI=", "number": 967, "title": "Many Pex tests fail under Python 2.7 in CI", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-05-10T18:42:50Z", "updated_at": "2020-05-11T17:10:54Z", "closed_at": "2020-05-11T17:10:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I was finally able to reproduce this locally by re-creating my tox venv which, as a side effect, upgraded virtualenv. The latter is the problem.\r\n\r\nThe errors look like:\r\n```\r\n$ tox -epy27 -- -vvsk test_entry_points_dict\r\n.package create: /home/jsirois/dev/pantsbuild/jsirois-pex/.tox/.package\r\n.package installdeps: flit_core >=2,<3\r\npy27 create: /home/jsirois/dev/pantsbuild/jsirois-pex/.tox/py27\r\npy27 installdeps: pytest==4.6.6, mock==3.0.5\r\npy27 inst: /home/jsirois/dev/pantsbuild/jsirois-pex/.tox/.tmp/package/1/pex-2.1.9.tar.gz\r\npy27 installed: DEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support,atomicwrites==1.4.0,attrs==19.3.0,configparser==4.0.2,contextlib2==0.6.0.post1,funcsigs==1.0.2,importlib-metadata==1.6.0,mock==3.0.5,more-itertools==5.0.0,packaging==20.3,pathlib2==2.3.5,pex==2.1.9,pluggy==0.13.1,py==1.8.1,pyparsing==2.4.7,pytest==4.6.6,scandir==1.10.0,six==1.14.0,wcwidth==0.1.9,zipp==1.2.0\r\npy27 run-test-pre: PYTHONHASHSEED='1467207441'\r\npy27 run-test: commands[0] | pytest --ignore=tests/test_integration.py -vvsk test_entry_points_dict\r\n==================================================================================================================================== test session starts =====================================================================================================================================\r\nplatform linux2 -- Python 2.7.18, pytest-4.6.6, py-1.8.1, pluggy-0.13.1 -- /home/jsirois/dev/pantsbuild/jsirois-pex/.tox/py27/bin/python\r\ncachedir: .tox/py27/.pytest_cache\r\nrootdir: /home/jsirois/dev/pantsbuild/jsirois-pex\r\ncollected 179 items / 178 deselected / 1 selected                                                                                                                                                                                                                                            \r\n\r\ntests/test_bdist_pex.py::test_entry_points_dict running bdist_pex\r\nWriting my_app to /tmp/tmpsgDVu1/my_app-0.0.0.pex\r\nFailed to create pex via /home/jsirois/dev/pantsbuild/jsirois-pex/.tox/py27/bin/python -s -m pex /tmp/tmpxEPsaM --output-file /tmp/tmpsgDVu1/my_app-0.0.0.pex --script my_app:\r\nERROR: Exception:\r\nTraceback (most recent call last):\r\n  File \"/home/jsirois/.pex/pip.pex/3616f444e6841b3bb5e495d304f6de6a76f743d8/.deps/pip/pip/_internal/cli/base_command.py\", line 172, in _main\r\n    status = self.run(options, args)\r\n  File \"/home/jsirois/.pex/pip.pex/3616f444e6841b3bb5e495d304f6de6a76f743d8/.deps/pip/pip/_internal/commands/install.py\", line 457, in run\r\n    use_user_site=options.use_user_site,\r\n  File \"/home/jsirois/.pex/pip.pex/3616f444e6841b3bb5e495d304f6de6a76f743d8/.deps/pip/pip/_internal/req/__init__.py\", line 71, in install_given_reqs\r\n    **kwargs\r\n  File \"/home/jsirois/.pex/pip.pex/3616f444e6841b3bb5e495d304f6de6a76f743d8/.deps/pip/pip/_internal/req/req_install.py\", line 775, in install\r\n    prefix=prefix,\r\n  File \"/home/jsirois/.pex/pip.pex/3616f444e6841b3bb5e495d304f6de6a76f743d8/.deps/pip/pip/_internal/locations.py\", line 186, in get_scheme\r\n    dist_name, user, home, root, isolated, prefix\r\n  File \"/home/jsirois/.pex/pip.pex/3616f444e6841b3bb5e495d304f6de6a76f743d8/.deps/pip/pip/_internal/locations.py\", line 108, in distutils_scheme\r\n    d = Distribution(dist_args)\r\n  File \"/home/jsirois/dev/pantsbuild/jsirois-pex/.tox/py27/lib/python2.7/site-packages/setuptools/dist.py\", line 448, in __init__\r\n    k: v for k, v in attrs.items()\r\n  File \"/usr/lib/python2.7/distutils/dist.py\", line 287, in __init__\r\n    self.finalize_options()\r\n  File \"/home/jsirois/dev/pantsbuild/jsirois-pex/.tox/py27/lib/python2.7/site-packages/setuptools/dist.py\", line 740, in finalize_options\r\n    ep.load()(self)\r\nTypeError: unbound method _finalize_setup_keywords() must be called with Distribution instance as first argument (got Distribution instance instead)\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/runpy.py\", line 174, in _run_module_as_main\r\n    \"__main__\", fname, loader, pkg_name)\r\n  File \"/usr/lib/python2.7/runpy.py\", line 72, in _run_code\r\n    exec code in run_globals\r\n  File \"/home/jsirois/dev/pantsbuild/jsirois-pex/pex/__main__.py\", line 8, in <module>\r\n    __name__ == '__main__' and pex.main()\r\n  File \"/home/jsirois/dev/pantsbuild/jsirois-pex/pex/bin/pex.py\", line 724, in main\r\n    pex_builder = build_pex(reqs, options, cache=ENV.PEX_ROOT)\r\n  File \"/home/jsirois/dev/pantsbuild/jsirois-pex/pex/bin/pex.py\", line 644, in build_pex\r\n    ignore_errors=options.ignore_errors)\r\n  File \"/home/jsirois/dev/pantsbuild/jsirois-pex/pex/resolver.py\", line 824, in resolve_multi\r\n    return list(resolve_request.resolve_distributions(ignore_errors=ignore_errors))\r\n  File \"/home/jsirois/dev/pantsbuild/jsirois-pex/pex/resolver.py\", line 574, in resolve_distributions\r\n    raise_type=Untranslateable):\r\n  File \"/home/jsirois/dev/pantsbuild/jsirois-pex/pex/resolver.py\", line 392, in _run_parallel\r\n    max_jobs=self._max_parallel_jobs\r\n  File \"/home/jsirois/dev/pantsbuild/jsirois-pex/pex/jobs.py\", line 219, in execute_parallel\r\n    raise error\r\npex.resolver.Untranslateable: pid: 45184 -> /home/jsirois/dev/pantsbuild/jsirois-pex/.tox/py27/bin/python /home/jsirois/.pex/pip.pex/3616f444e6841b3bb5e495d304f6de6a76f743d8 --disable-pip-version-check --isolated --no-python-version-warning -q --cache-dir /home/jsirois/.pex install --no-deps --no-index --only-binary :all: --target /home/jsirois/.pex/installed_wheels/4a13a89cdea76fef75d2f4f649fd2a71e63cadc5/my_app-0.0.0-py2-none-any.whl.b62ccffb18944c67b083ffc00365fcf3 --no-compile /home/jsirois/.pex/built_wheels/local_projects/tmpxEPsaM/2f24e7ea7df2645d261d6734d297043c0d527dfc/cp27-cp27mu/my_app-0.0.0-py2-none-any.whl raised Executing /home/jsirois/dev/pantsbuild/jsirois-pex/.tox/py27/bin/python /home/jsirois/.pex/pip.pex/3616f444e6841b3bb5e495d304f6de6a76f743d8 --disable-pip-version-check --isolated --no-python-version-warning -q --cache-dir /home/jsirois/.pex install --no-deps --no-index --only-binary :all: --target /home/jsirois/.pex/installed_wheels/4a13a89cdea76fef75d2f4f649fd2a71e63cadc5/my_app-0.0.0-py2-none-any.whl.b62ccffb18944c67b083ffc00365fcf3 --no-compile /home/jsirois/.pex/built_wheels/local_projects/tmpxEPsaM/2f24e7ea7df2645d261d6734d297043c0d527dfc/cp27-cp27mu/my_app-0.0.0-py2-none-any.whl failed with 2\r\n\r\nFAILED\r\n\r\n========================================================================================================================================== FAILURES ==========================================================================================================================================\r\n___________________________________________________________________________________________________________________________________ test_entry_points_dict ___________________________________________________________________________________________________________________________________\r\n\r\n    def test_entry_points_dict():\r\n>     assert_entry_points({'console_scripts': ['my_app = my_app.my_module:do_something']})\r\n\r\ntests/test_bdist_pex.py:54: \r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\ntests/test_bdist_pex.py:37: in assert_entry_points\r\n    with bdist_pex(project_dir) as my_app_pex:\r\n/usr/lib/python2.7/contextlib.py:17: in __enter__\r\n    return self.gen.next()\r\ntests/test_bdist_pex.py:29: in bdist_pex\r\n    spawn_python_job(args=cmd, cwd=project_dir, pythonpath=[pex_project_dir()]).wait()\r\n.tox/py27/lib/python2.7/site-packages/pex/jobs.py:38: in wait\r\n    self._check_returncode()\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n\r\nself = <pex.jobs.Job object at 0x7f932477f190>, stderr = None\r\n\r\n    def _check_returncode(self, stderr=None):\r\n      if self._process.returncode != 0:\r\n        msg = 'Executing {} failed with {}'.format(' '.join(self._command), self._process.returncode)\r\n        if stderr:\r\n          msg += '\\nSTDERR:\\n{}'.format(stderr.decode('utf-8'))\r\n>       raise self.Error(msg)\r\nE       Error: Executing /home/jsirois/dev/pantsbuild/jsirois-pex/.tox/py27/bin/python -s setup.py --command-packages pex.commands bdist_pex --bdist-dir=/tmp/tmpsgDVu1 failed with 1\r\n\r\n.tox/py27/lib/python2.7/site-packages/pex/jobs.py:67: Error\r\n========================================================================================================================== 1 failed, 178 deselected in 3.08 seconds ==========================================================================================================================\r\nERROR: InvocationError for command /home/jsirois/dev/pantsbuild/jsirois-pex/.tox/py27/bin/pytest --ignore=tests/test_integration.py -vvsk test_entry_points_dict (exited with code 1)\r\n__________________________________________________________________________________________________________________________________________ summary ___________________________________________________________________________________________________________________________________________\r\nERROR:   py27: commands failed\r\n```\r\n\r\nThis is a tricky problem involving a custom importer virtualenv installs that loses references to symbols in its module after some import reloading by Pex, virtualenv, or both. Its unclear exactly where and when symbols get nuked at this point.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/964", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/964/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/964/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/964/events", "html_url": "https://github.com/pantsbuild/pex/issues/964", "id": 615105152, "node_id": "MDU6SXNzdWU2MTUxMDUxNTI=", "number": 964, "title": "Can't run PEX file when a dependency's wheel includes a build tag", "user": {"login": "luislew", "id": 3188373, "node_id": "MDQ6VXNlcjMxODgzNzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/3188373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luislew", "html_url": "https://github.com/luislew", "followers_url": "https://api.github.com/users/luislew/followers", "following_url": "https://api.github.com/users/luislew/following{/other_user}", "gists_url": "https://api.github.com/users/luislew/gists{/gist_id}", "starred_url": "https://api.github.com/users/luislew/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luislew/subscriptions", "organizations_url": "https://api.github.com/users/luislew/orgs", "repos_url": "https://api.github.com/users/luislew/repos", "events_url": "https://api.github.com/users/luislew/events{/privacy}", "received_events_url": "https://api.github.com/users/luislew/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-09T06:25:31Z", "updated_at": "2020-05-11T18:08:16Z", "closed_at": "2020-05-11T18:08:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We recently encountered a runtime issue with a successfully built PEX file:\r\n```\r\n(nwpy-ml-clustering_linux-x86-64_cp3.7) app@8bceeea547ee:/srv/nerdwallet/nwpy-ml-clustering$ ./build/nwpy-ml-clustering.pex\r\nTraceback (most recent call last):\r\n  File \"/srv/nerdwallet/nwpy-ml-clustering/build/nwpy-ml-clustering.pex/.bootstrap/pex/pex.py\", line 391, in execute\r\n  File \"/srv/nerdwallet/nwpy-ml-clustering/build/nwpy-ml-clustering.pex/.bootstrap/pex/pex.py\", line 89, in _activate\r\n  File \"/srv/nerdwallet/nwpy-ml-clustering/build/nwpy-ml-clustering.pex/.bootstrap/pex/environment.py\", line 232, in activate\r\n  File \"/srv/nerdwallet/nwpy-ml-clustering/build/nwpy-ml-clustering.pex/.bootstrap/pex/environment.py\", line 375, in _activate\r\n  File \"/srv/nerdwallet/nwpy-ml-clustering/build/nwpy-ml-clustering.pex/.bootstrap/pex/environment.py\", line 209, in _update_candidate_distributions\r\n  File \"/srv/nerdwallet/nwpy-ml-clustering/build/nwpy-ml-clustering.pex/.bootstrap/pex/environment.py\", line 227, in can_add\r\n  File \"/srv/nerdwallet/nwpy-ml-clustering/build/nwpy-ml-clustering.pex/.bootstrap/pex/vendor/_vendored/packaging/packaging/tags.py\", line 75, in parse_tag\r\nValueError: too many values to unpack (expected 3)\r\n```\r\n\r\nWe tracked this down to the following installed wheel: `'llvmlite-0.29.0-1-cp37-cp37m-manylinux1_x86_64.whl'`. The current wheel filename parsing code in `environment.py` assumes that there is no build tag: https://github.com/pantsbuild/pex/blob/916e61e04634c60d09ee25859c76ba4f27282e51/pex/environment.py#L223\r\n\r\nAs a result, it includes the build tag with `wheel_tags` (e.g. `1-cp37-cp37m-manylinux1_x86_64`) and `parse_tag` fails.\r\n\r\nPer PEP 427, wheel filenames may include an optional build tag: https://www.python.org/dev/peps/pep-0427/#file-name-convention\r\n\r\n---\r\n\r\nProposed fix: ~~`pex` _already_ vendors `wheel`, which includes a [regex matcher for wheel filenames](https://github.com/pypa/wheel/blob/a51977075740fda01b2c0e983a79bfe753567219/src/wheel/wheelfile.py#L16-L21). Just use the `WHEEL_INFO_RE` to parse the wheel filename.~~\r\n\r\nEven simpler - split the whole filename, and gather up the trailing 3 tags:\r\n```\r\nwheel_tags = '-'.join(filename.split('-')[-3:])\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/963", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/963/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/963/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/963/events", "html_url": "https://github.com/pantsbuild/pex/issues/963", "id": 615017875, "node_id": "MDU6SXNzdWU2MTUwMTc4NzU=", "number": 963, "title": "Ignore directory when building pex", "user": {"login": "dgkatz", "id": 13141150, "node_id": "MDQ6VXNlcjEzMTQxMTUw", "avatar_url": "https://avatars1.githubusercontent.com/u/13141150?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgkatz", "html_url": "https://github.com/dgkatz", "followers_url": "https://api.github.com/users/dgkatz/followers", "following_url": "https://api.github.com/users/dgkatz/following{/other_user}", "gists_url": "https://api.github.com/users/dgkatz/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgkatz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgkatz/subscriptions", "organizations_url": "https://api.github.com/users/dgkatz/orgs", "repos_url": "https://api.github.com/users/dgkatz/repos", "events_url": "https://api.github.com/users/dgkatz/events{/privacy}", "received_events_url": "https://api.github.com/users/dgkatz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}, {"id": 115645385, "node_id": "MDU6TGFiZWwxMTU2NDUzODU=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-05-08T22:25:06Z", "updated_at": "2020-05-09T15:27:56Z", "closed_at": "2020-05-09T15:27:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using pex to package a python web application like so:\r\n`pex -v -r requirements.txt -c gunicorn -D . -o $(PEXFILE)`\r\nThe `-D .` option will add all files in the project into the pex, but I have a use case where I want some directories not to be included in the pex.\r\nIs there a way to tell pex to ignore certain directories when building?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/959", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/959/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/959/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/959/events", "html_url": "https://github.com/pantsbuild/pex/issues/959", "id": 602054581, "node_id": "MDU6SXNzdWU2MDIwNTQ1ODE=", "number": 959, "title": "Pants cannot detect CPython-3.X.X", "user": {"login": "MackHeller", "id": 22175743, "node_id": "MDQ6VXNlcjIyMTc1NzQz", "avatar_url": "https://avatars1.githubusercontent.com/u/22175743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MackHeller", "html_url": "https://github.com/MackHeller", "followers_url": "https://api.github.com/users/MackHeller/followers", "following_url": "https://api.github.com/users/MackHeller/following{/other_user}", "gists_url": "https://api.github.com/users/MackHeller/gists{/gist_id}", "starred_url": "https://api.github.com/users/MackHeller/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MackHeller/subscriptions", "organizations_url": "https://api.github.com/users/MackHeller/orgs", "repos_url": "https://api.github.com/users/MackHeller/repos", "events_url": "https://api.github.com/users/MackHeller/events{/privacy}", "received_events_url": "https://api.github.com/users/MackHeller/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-17T15:24:27Z", "updated_at": "2020-04-17T15:31:37Z", "closed_at": "2020-04-17T15:31:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello! I seem to have an issue where Pants is not about to find any of my Python3 interpreters. I have Python2.7.19, Python3.5.9 and Python3.6.9 installed on my Ubuntu18 machine. This is what my `pants.ini` file looks like:\r\n\r\n```\r\n[GLOBAL]\r\npants_version: 1.24.0\r\n\r\nbackend_packages: [\r\n    # Pants built-ins: https://github.com/pantsbuild/pants/issues/4782\r\n    'pants.backend.python',\r\n  ]\r\n\r\n[pytest]\r\nversion: pytest>=5.3.4\r\n\r\n[python-setup]\r\ninterpreter_constraints: ['CPython>=3.5']\r\n```\r\n\r\nWhen I try to run some tests it is only able to detect CPython-2.7.17:\r\n```\r\n/webapps/app/app$ PEX_VERBOSE=9 ./pants test.pytest src/python/app:all_tests --test-pyt\r\nest-chroot\r\npex: Installed VendorImporter(root='/home/ubuntu/.cache/pants/setup/bootstrap-Linux-x86_64/1.24.0_py36/lib/python3.6/site-packages', importables=(_Importable(module='pkg_resources', is_pkg=True, path='pex/vendor/_vendored/setuptools', prefix='pex.third_party'), _Importable(module='setuptools', is_pkg=True, path='pex/vendor/_vendored/setuptools', prefix='pex.third_party'), _Importable(module='wheel', is_pkg=True, path='pex/vendor/_vendored/wheel', prefix='pex.third_party')))\r\npex: pex.third_party.pkg_resources imported via _Loader(module_name='pex.third_party.pkg_resources', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources')\r\npex: pex.third_party.pkg_resources.extern imported via _Loader(module_name='pex.third_party.pkg_resources.extern', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources.extern')\r\npex: pex.third_party.pkg_resources.extern.six imported via _Loader(module_name='pex.third_party.pkg_resources.extern.six', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources.extern.six')\r\npex: pex.third_party.pkg_resources.extern.six.moves imported via _Loader(module_name='pex.third_party.pkg_resources.extern.six.moves', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources.extern.six.moves')\r\npex: pex.third_party.pkg_resources.extern.packaging imported via _Loader(module_name='pex.third_party.pkg_resources.extern.packaging', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources.extern.packaging')\r\npex: pex.third_party.pkg_resources.extern.packaging.version imported via _Loader(module_name='pex.third_party.pkg_resources.extern.packaging.version', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources.extern.packaging.version')\r\npex: pex.third_party.pkg_resources.extern.packaging.specifiers imported via _Loader(module_name='pex.third_party.pkg_resources.extern.packaging.specifiers', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources.extern.packaging.specifiers')\r\npex: pex.third_party.pkg_resources.extern.pyparsing imported via _Loader(module_name='pex.third_party.pkg_resources.extern.pyparsing', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources.extern.pyparsing')\r\npex: pex.third_party.pkg_resources.extern.six.moves.urllib imported via _Loader(module_name='pex.third_party.pkg_resources.extern.six.moves.urllib', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources.extern.six.moves.urllib')\r\npex: pex.third_party.pkg_resources.extern.packaging.requirements imported via _Loader(module_name='pex.third_party.pkg_resources.extern.packaging.requirements', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources.extern.packaging.requirements')\r\npex: pex.third_party.pkg_resources.extern.packaging.markers imported via _Loader(module_name='pex.third_party.pkg_resources.extern.packaging.markers', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources.extern.packaging.markers')\r\npex: pex.third_party.pkg_resources imported via _Loader(module_name='pex.third_party.pkg_resources', vendor_module_name='pex.vendor._vendored.setuptools.pkg_resources')\r\n\r\n15:08:29 00:00 [main]\r\n               (To run a reporting server: ./pants server)\r\n15:08:29 00:00   [setup]\r\n15:08:30 00:01     [parse]\r\n               Executing tasks in goals: pyprep -> test\r\n15:08:30 00:01   [pyprep]\r\n15:08:30 00:01     [interpreter]\r\n15:08:30 00:01       [cache]\r\n                   No cached artifacts for 39 targets.\r\n                   Invalidated 39 targets.pex: creating PythonIdentity from id string: cp cp27mu 27 2 7 17\r\npex: creating PythonIdentity from id string: cp cp35m 35 3 5 9\r\npex: creating PythonIdentity from id string: cp cp36m 36 3 6 9\r\npex: creating PythonIdentity from id string: cp cp35m 35 3 5 9\r\npex: creating PythonIdentity from id string: cp cp36m 36 3 6 9\r\n\r\nFAILURE: Unable to detect a suitable interpreter for compatibilities: CPython>=3.5 (Conflicting targets: src/python/app:all_tests)\r\n\r\nPants detected these interpreter versions on your system: CPython-2.7.17\r\n\r\nPossible ways to fix this:\r\n* Modify your Python interpreter constraints by following https://www.pantsbuild.org/python_readme.html#configure-the-python-version.\r\n* Ensure the targeted Python version is installed and discoverable.\r\n* Modify Pants' interpreter search paths via --pants-setup-interpreter-search-paths.\r\n\r\n\r\n15:08:30 00:01   [complete]\r\n               FAILURE\r\n```\r\n![image](https://user-images.githubusercontent.com/22175743/79585265-8eaacb00-809d-11ea-80d7-78a4b5fa0a63.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/957", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/957/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/957/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/957/events", "html_url": "https://github.com/pantsbuild/pex/issues/957", "id": 601329574, "node_id": "MDU6SXNzdWU2MDEzMjk1NzQ=", "number": 957, "title": "`--interpreter-constraint` causes the `current` platform to always be used", "user": {"login": "Eric-Arellano", "id": 14852634, "node_id": "MDQ6VXNlcjE0ODUyNjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/14852634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eric-Arellano", "html_url": "https://github.com/Eric-Arellano", "followers_url": "https://api.github.com/users/Eric-Arellano/followers", "following_url": "https://api.github.com/users/Eric-Arellano/following{/other_user}", "gists_url": "https://api.github.com/users/Eric-Arellano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eric-Arellano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eric-Arellano/subscriptions", "organizations_url": "https://api.github.com/users/Eric-Arellano/orgs", "repos_url": "https://api.github.com/users/Eric-Arellano/repos", "events_url": "https://api.github.com/users/Eric-Arellano/events{/privacy}", "received_events_url": "https://api.github.com/users/Eric-Arellano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-16T18:42:27Z", "updated_at": "2020-04-16T18:54:31Z", "closed_at": "2020-04-16T18:54:31Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From a macOS machine, without constraints:\r\n\r\n```bash\r\n\u25b6 pex --platform=linux-x86_64-cp-37-cp37m --output-file test.pex cryptography && unzip -l test.pex | grep 'macosx' | wc -l\r\n       0\r\n```\r\n\r\nWith constraints:\r\n\r\n```bash\r\n\u25b6 pex --platform=linux-x86_64-cp-37-cp37m --interpreter-constraint 'CPython>=3.6' --output-file test.pex cryptography && unzip -l test.pex | grep 'macosx' | wc -l\r\n     151\r\n```\r\n\r\nThis is a problem for Pants, which always sets `--interpreter-constraint`, meaning it is never possible with Pants to create a binary without `current` as a platform.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/953", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/953/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/953/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/953/events", "html_url": "https://github.com/pantsbuild/pex/issues/953", "id": 596822016, "node_id": "MDU6SXNzdWU1OTY4MjIwMTY=", "number": 953, "title": "`--platform` incorrectly reads the `abi` when using the unabbreviated platform string format", "user": {"login": "Eric-Arellano", "id": 14852634, "node_id": "MDQ6VXNlcjE0ODUyNjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/14852634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eric-Arellano", "html_url": "https://github.com/Eric-Arellano", "followers_url": "https://api.github.com/users/Eric-Arellano/followers", "following_url": "https://api.github.com/users/Eric-Arellano/following{/other_user}", "gists_url": "https://api.github.com/users/Eric-Arellano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eric-Arellano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eric-Arellano/subscriptions", "organizations_url": "https://api.github.com/users/Eric-Arellano/orgs", "repos_url": "https://api.github.com/users/Eric-Arellano/repos", "events_url": "https://api.github.com/users/Eric-Arellano/events{/privacy}", "received_events_url": "https://api.github.com/users/Eric-Arellano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2020-04-08T19:54:33Z", "updated_at": "2020-04-10T18:43:44Z", "closed_at": "2020-04-10T16:41:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "> \u25b6 pex tensorflow --platform=manylinux2010_x86_64-cp-37-37m\r\n> ERROR: Could not find a version that satisfies the requirement tensorflow (from versions: none)\r\n> ERROR: No matching distribution found for tensorflow\r\npid: 82372 -> /usr/local/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/bin/python3.7 /var/folders/sx/pdpbqz4x5cscn9hhfpbsbqvm0000gn/T/tmpo3j06cp5 --disable-pip-version-check --isolated --exists-action i -q --cache-dir /Users/eric/.pex download --dest /var/folders/sx/pdpbqz4x5cscn9hhfpbsbqvm0000gn/T/tmp9ym4s833/resolved_dists/manylinux2010_x86_64-cp-37-cp3737m --platform manylinux2010_x86_64 --implementation cp --python-version 37 --abi cp3737m --only-binary :all: tensorflow raised Executing /usr/local/Cellar/python/3.7.6_1/Frameworks/Python.framework/Versions/3.7/bin/python3.7 /var/folders/sx/pdpbqz4x5cscn9hhfpbsbqvm0000gn/T/tmpo3j06cp5 --disable-pip-version-check --isolated --exists-action i -q --cache-dir /Users/eric/.pex download --dest /var/folders/sx/pdpbqz4x5cscn9hhfpbsbqvm0000gn/T/tmp9ym4s833/resolved_dists/manylinux2010_x86_64-cp-37-cp3737m --platform manylinux2010_x86_64 --implementation cp --python-version 37 --abi cp3737m --only-binary :all: tensorflow failed with 1\r\n\r\nOf note: `--abi cp3737m`\r\n\r\n--\r\n\r\nThis command does work when using the abbreviated tag `manylinux2010_x86_64-cp-37-m`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/950", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/950/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/950/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/950/events", "html_url": "https://github.com/pantsbuild/pex/issues/950", "id": 596199195, "node_id": "MDU6SXNzdWU1OTYxOTkxOTU=", "number": 950, "title": "Release 2.1.10", "user": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-04-07T22:56:35Z", "updated_at": "2020-05-12T00:57:27Z", "closed_at": "2020-05-12T00:38:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Improve Pex packaging. (#961)\r\n+ [x] Make the interpreter cache deterministic. (#960)\r\n+ [x] Fix deprecation warning for `rU` mode (#956)\r\n+ [x] Fix runtime resolve error message generation. (#955)\r\n+ [x] Kill dead code. (#954)\r\n+ [x] Many Pex tests fail under Python 2.7 in CI #967\r\n+ [x] Add a `--local` mode for packaging the Pex PEX. #971\r\n+ [x] Split Pex resolve API. (#970)\r\n+ [x] Can't run PEX file when a dependency's wheel includes a build tag #964\r\n+ [x] Expose network configuration in pex options. #803\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/949", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/949/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/949/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/949/events", "html_url": "https://github.com/pantsbuild/pex/issues/949", "id": 595468964, "node_id": "MDU6SXNzdWU1OTU0Njg5NjQ=", "number": 949, "title": "ImportError when importing pkg_resources", "user": {"login": "taranlu-houzz", "id": 52425255, "node_id": "MDQ6VXNlcjUyNDI1MjU1", "avatar_url": "https://avatars3.githubusercontent.com/u/52425255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/taranlu-houzz", "html_url": "https://github.com/taranlu-houzz", "followers_url": "https://api.github.com/users/taranlu-houzz/followers", "following_url": "https://api.github.com/users/taranlu-houzz/following{/other_user}", "gists_url": "https://api.github.com/users/taranlu-houzz/gists{/gist_id}", "starred_url": "https://api.github.com/users/taranlu-houzz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/taranlu-houzz/subscriptions", "organizations_url": "https://api.github.com/users/taranlu-houzz/orgs", "repos_url": "https://api.github.com/users/taranlu-houzz/repos", "events_url": "https://api.github.com/users/taranlu-houzz/events{/privacy}", "received_events_url": "https://api.github.com/users/taranlu-houzz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-04-06T22:31:34Z", "updated_at": "2020-04-10T18:40:41Z", "closed_at": "2020-04-10T18:38:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Problem**:\r\nI use `poetry` for development and have been exploring pex lately. I have run into an issue with projects that use `pkg_resources`. The simplified example below causes an error for me:\r\n\r\n```lang=sh\r\npoetry new --src to_delete\r\ncd to_delete\r\npoetry add --dev pex\r\npoetry run pex\r\n>>> import pkg_resources\r\nTraceback (most recent call last):\r\n  File \"<console>\", line 1, in <module>\r\nImportError: No module named pkg_resources\r\n```\r\n\r\nI don't think this is an issue on `poetry`'s end, since it is just creating a venv and installing `pex` into it. I've seen a couple of other issues that seem like they might be related: #749, #307 \r\n\r\n**Config**:\r\nI'm on macOS using the `brew` installed version of Python 2.7.16.\r\n\r\n```lang=sh\r\npex --version\r\npex 2.1.8\r\n\r\npoetry --version\r\nPoetry version 1.0.5\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/946", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/946/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/946/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/946/events", "html_url": "https://github.com/pantsbuild/pex/issues/946", "id": 592971358, "node_id": "MDU6SXNzdWU1OTI5NzEzNTg=", "number": 946, "title": "Not able to reference local WSDL file when using PEX ", "user": {"login": "arnabthumbtack", "id": 38019603, "node_id": "MDQ6VXNlcjM4MDE5NjAz", "avatar_url": "https://avatars3.githubusercontent.com/u/38019603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arnabthumbtack", "html_url": "https://github.com/arnabthumbtack", "followers_url": "https://api.github.com/users/arnabthumbtack/followers", "following_url": "https://api.github.com/users/arnabthumbtack/following{/other_user}", "gists_url": "https://api.github.com/users/arnabthumbtack/gists{/gist_id}", "starred_url": "https://api.github.com/users/arnabthumbtack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arnabthumbtack/subscriptions", "organizations_url": "https://api.github.com/users/arnabthumbtack/orgs", "repos_url": "https://api.github.com/users/arnabthumbtack/repos", "events_url": "https://api.github.com/users/arnabthumbtack/events{/privacy}", "received_events_url": "https://api.github.com/users/arnabthumbtack/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-04-02T23:09:17Z", "updated_at": "2020-04-10T18:19:10Z", "closed_at": "2020-04-10T18:16:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a question about pex build. So we have this project structure and we are trying to build a pex file off of it. It has a WSDL file which needs to be referenced in the code. No matter what I do, when I run the pex file, it throws an exception: File Not Found . Does anyone have any idea how to fix it? \r\n\r\nBelow is the folder structure -\r\n\r\n```\r\nMain_Folder\r\n      Util\r\n            util1.py\r\n      main.py\r\n      WebService.xml\r\n```\r\n\r\n```\r\npath = os.path.join(os.path.abspath(__file__), 'WebService.xml')\r\nurl = urllib.parse.urljoin('file:', urllib.request.pathname2url(os.path.abspath(path)))\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/944", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/944/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/944/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/944/events", "html_url": "https://github.com/pantsbuild/pex/issues/944", "id": 592300870, "node_id": "MDU6SXNzdWU1OTIzMDA4NzA=", "number": 944, "title": "Release 2.1.9", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-02T01:41:50Z", "updated_at": "2020-04-08T00:39:07Z", "closed_at": "2020-04-08T00:39:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Support for copying requirements from an existing pex. #948 \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/942", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/942/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/942/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/942/events", "html_url": "https://github.com/pantsbuild/pex/issues/942", "id": 591677269, "node_id": "MDU6SXNzdWU1OTE2NzcyNjk=", "number": 942, "title": "DeprecationWarning: 'U' mode is deprecated", "user": {"login": "walles", "id": 158201, "node_id": "MDQ6VXNlcjE1ODIwMQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/158201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/walles", "html_url": "https://github.com/walles", "followers_url": "https://api.github.com/users/walles/followers", "following_url": "https://api.github.com/users/walles/following{/other_user}", "gists_url": "https://api.github.com/users/walles/gists{/gist_id}", "starred_url": "https://api.github.com/users/walles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/walles/subscriptions", "organizations_url": "https://api.github.com/users/walles/orgs", "repos_url": "https://api.github.com/users/walles/repos", "events_url": "https://api.github.com/users/walles/events{/privacy}", "received_events_url": "https://api.github.com/users/walles/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Eric-Arellano", "id": 14852634, "node_id": "MDQ6VXNlcjE0ODUyNjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/14852634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eric-Arellano", "html_url": "https://github.com/Eric-Arellano", "followers_url": "https://api.github.com/users/Eric-Arellano/followers", "following_url": "https://api.github.com/users/Eric-Arellano/following{/other_user}", "gists_url": "https://api.github.com/users/Eric-Arellano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eric-Arellano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eric-Arellano/subscriptions", "organizations_url": "https://api.github.com/users/Eric-Arellano/orgs", "repos_url": "https://api.github.com/users/Eric-Arellano/repos", "events_url": "https://api.github.com/users/Eric-Arellano/events{/privacy}", "received_events_url": "https://api.github.com/users/Eric-Arellano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Eric-Arellano", "id": 14852634, "node_id": "MDQ6VXNlcjE0ODUyNjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/14852634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eric-Arellano", "html_url": "https://github.com/Eric-Arellano", "followers_url": "https://api.github.com/users/Eric-Arellano/followers", "following_url": "https://api.github.com/users/Eric-Arellano/following{/other_user}", "gists_url": "https://api.github.com/users/Eric-Arellano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eric-Arellano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eric-Arellano/subscriptions", "organizations_url": "https://api.github.com/users/Eric-Arellano/orgs", "repos_url": "https://api.github.com/users/Eric-Arellano/repos", "events_url": "https://api.github.com/users/Eric-Arellano/events{/privacy}", "received_events_url": "https://api.github.com/users/Eric-Arellano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-04-01T07:02:37Z", "updated_at": "2020-04-16T20:08:14Z", "closed_at": "2020-04-16T20:08:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Quoting this failing Travis run: <https://travis-ci.com/github/walles/px/jobs/311074370>\r\n\r\n```\r\ntest-pex3 run-test: commands[2] | python -Werror '-Wdefault:the imp module' /home/travis/build/walles/px/dist3/px.pex\r\nTraceback (most recent call last):\r\n  File \".bootstrap/pex/pex.py\", line 349, in execute\r\n  File \".bootstrap/pex/pex.py\", line 276, in patch_sys\r\n  File \".bootstrap/pex/pex.py\", line 244, in minimum_sys\r\n  File \".bootstrap/pex/pex.py\", line 119, in _extras_paths\r\n  File \".bootstrap/pex/util.py\", line 228, in iter_pth_paths\r\nDeprecationWarning: 'U' mode is deprecated\r\n```\r\n\r\nLooking at `util.py` in `iter_pth_paths`, it goes:\r\nhttps://github.com/pantsbuild/pex/blob/1b7689e7c74fc80c92d8177181c464bc77930123/pex/util.py#L200-L203\r\n\r\nPlease remove the deprecated use of `U` file mode?\r\n\r\nRegards /Johan\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/935", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/935/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/935/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/935/events", "html_url": "https://github.com/pantsbuild/pex/issues/935", "id": 588228344, "node_id": "MDU6SXNzdWU1ODgyMjgzNDQ=", "number": 935, "title": "pex 2.1.7 not resolving tensorflow==1.14.0 if a correct interpreter constraint is provided", "user": {"login": "cosmicexplorer", "id": 1305167, "node_id": "MDQ6VXNlcjEzMDUxNjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1305167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cosmicexplorer", "html_url": "https://github.com/cosmicexplorer", "followers_url": "https://api.github.com/users/cosmicexplorer/followers", "following_url": "https://api.github.com/users/cosmicexplorer/following{/other_user}", "gists_url": "https://api.github.com/users/cosmicexplorer/gists{/gist_id}", "starred_url": "https://api.github.com/users/cosmicexplorer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cosmicexplorer/subscriptions", "organizations_url": "https://api.github.com/users/cosmicexplorer/orgs", "repos_url": "https://api.github.com/users/cosmicexplorer/repos", "events_url": "https://api.github.com/users/cosmicexplorer/events{/privacy}", "received_events_url": "https://api.github.com/users/cosmicexplorer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2020-03-26T08:03:45Z", "updated_at": "2020-03-27T15:48:04Z", "closed_at": "2020-03-27T15:42:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Seen when trying to run something from the pants repo just now, and narrowed the issue down to the `--interpreter-constraint` option:\r\n```bash\r\n> pex pex==2.1.7 --entry-point=pex -- --interpreter-constraint='CPython>=3' tensorflow==1.14.0\r\nERROR: Could not find a version that satisfies the requirement tensorflow==1.14.0 (from versions: none)\r\nERROR: No matching distribution found for tensorflow==1.14.0\r\n> pex pex==2.1.7 --entry-point=pex -- tensorflow==1.14.0\r\nPython 3.7.7 (default, Mar 10 2020, 15:43:33)\r\n[Clang 11.0.0 (clang-1100.0.33.17)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n(InteractiveConsole)\r\n>>>\r\n```\r\n\r\nI'll be diving into this more tomorrow.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/933", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/933/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/933/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/933/events", "html_url": "https://github.com/pantsbuild/pex/issues/933", "id": 587952943, "node_id": "MDU6SXNzdWU1ODc5NTI5NDM=", "number": 933, "title": "Release 2.1.8", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-25T19:56:34Z", "updated_at": "2020-04-10T00:20:18Z", "closed_at": "2020-04-02T02:42:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Cache pip.pex. #937\r\n+ [x] Ensure the interpreter path is a file #938\r\n+ [x] Support an unzip toggle for PEXes. #939\r\n+ [x] Better support unzip mode PEXes. #941", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/926", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/926/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/926/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/926/events", "html_url": "https://github.com/pantsbuild/pex/issues/926", "id": 585580554, "node_id": "MDU6SXNzdWU1ODU1ODA1NTQ=", "number": 926, "title": "The pex cache (PEX_ROOT) is not always controllable.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-03-21T20:42:49Z", "updated_at": "2020-03-25T17:26:45Z", "closed_at": "2020-03-25T17:25:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In general, there is cruft here, including the confusing existence of `--cache-dir` _and_ `--pex-root` at build-time, in addition to `PEX_ROOT` at both build-time and run-time, and, finally `PexInfo.pex_root` at run-time. The behavior of PEX with combinations of these settings is not currently well defined, but there is also at least one concrete case where the pex root cannot be controlled, in a Pex PEX. This case is of importance for Pants v2 which uses PEXed Pex to build PEXes.\r\n\r\nOn PEX startup, all `PEX_` env vars are stripped before handing off control to the underlying application:\r\nhttps://github.com/pantsbuild/pex/blob/73ce2f4b4fdc1fe3ad76779c06f0b9a25f443384/pex/pex.py#L416-L419\r\nhttps://github.com/pantsbuild/pex/blob/73ce2f4b4fdc1fe3ad76779c06f0b9a25f443384/pex/pex.py#L45-L54\r\n\r\nWhen that application is itself Pex, this takes away `PEX_ROOT` as a means to control the pex root for PEXed Pex build-time. Whether or not some affordance should be made for passing `PEX_` env vars to Pex when PEXed is tracked in #925. As a result, any direct uses of `PEX_ROOT` instead of `--pex-root` or `--cache-dir` will use the default `PEX_ROOT` of `~/.pex`. We have three of these:\r\n1. https://github.com/pantsbuild/pex/blob/128c03de866c3f0d667a97524aade5b05faad8a5/pex/interpreter.py#L337\r\n2. https://github.com/pantsbuild/pex/blob/bf66b72a9aa467b1bfd6ae6f07d1b679733aaaa5/pex/third_party/__init__.py#L362\r\n3. https://github.com/pantsbuild/pex/blob/91159b34a8c88f8788df41aba2d09cd2938a67f8/pex/pip.py#L56-L82\r\n\r\nItem 3 is easy to fix to respect `cache` if passed - this appears to be a bug. Items 1 & 2 are a bit harder to fix:\r\n1. PythonInterpreter is used at both build-time and run-time and even in the public API.\r\n2. The `isolated` API is used by on-demand `pex.third_party` imports.\r\n\r\nFixing item 3 may be enough to solve the 1 known controllability issue, but it would be good to solve for all 3 cases by addressing #925 eventually.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/925", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/925/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/925/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/925/events", "html_url": "https://github.com/pantsbuild/pex/issues/925", "id": 585574455, "node_id": "MDU6SXNzdWU1ODU1NzQ0NTU=", "number": 925, "title": "Consider passing through `PEX_` env vars to PEXed Pex.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-21T20:20:18Z", "updated_at": "2020-03-24T21:03:38Z", "closed_at": "2020-03-24T20:46:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On PEX startup, all `PEX_` env vars are stripped before handing off control to the underlying application:\r\nhttps://github.com/pantsbuild/pex/blob/73ce2f4b4fdc1fe3ad76779c06f0b9a25f443384/pex/pex.py#L416-L419\r\nhttps://github.com/pantsbuild/pex/blob/73ce2f4b4fdc1fe3ad76779c06f0b9a25f443384/pex/pex.py#L45-L54\r\n\r\nWhen that application is Pex itself (Someone uses the PEXed Pex we release for example), this leads to surprising behavior where Pex does not respond to the same environment variable control it does respond to when installed as a wheel.\r\n\r\nIt seems like this should be fixed by either passing through the `PEX_` env vars in this special case (which is likely hard to detect) - or else we should revisit stripping `PEX_` env vars wholesale.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/922", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/922/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/922/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/922/events", "html_url": "https://github.com/pantsbuild/pex/issues/922", "id": 584024345, "node_id": "MDU6SXNzdWU1ODQwMjQzNDU=", "number": 922, "title": "Improve error message when interpreters cannot be found", "user": {"login": "Eric-Arellano", "id": 14852634, "node_id": "MDQ6VXNlcjE0ODUyNjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/14852634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eric-Arellano", "html_url": "https://github.com/Eric-Arellano", "followers_url": "https://api.github.com/users/Eric-Arellano/followers", "following_url": "https://api.github.com/users/Eric-Arellano/following{/other_user}", "gists_url": "https://api.github.com/users/Eric-Arellano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eric-Arellano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eric-Arellano/subscriptions", "organizations_url": "https://api.github.com/users/Eric-Arellano/orgs", "repos_url": "https://api.github.com/users/Eric-Arellano/repos", "events_url": "https://api.github.com/users/Eric-Arellano/events{/privacy}", "received_events_url": "https://api.github.com/users/Eric-Arellano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 3, "created_at": "2020-03-18T21:49:57Z", "updated_at": "2020-04-01T17:15:22Z", "closed_at": "2020-03-23T18:48:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Current:\r\n\r\n```\r\npex --interpreter-constraint='CPython>=3.8.*'\r\nCould not find compatible interpreter\r\n```\r\n\r\nThis is a fine message for trivial constraints, especially when using Pex directly through the CLI. But, this is hard to interpret when there are complex constraints and when Pex is used programmatically, such as Pants passing often quite complex constraints to Pex.\r\n\r\nAn ideal message will\r\na) output all requested constraints\r\nb) identify which interpreters were recognized by Pex\r\nc) offer suggestions to resolve the issue\r\n\r\nSee https://github.com/pantsbuild/pants/pull/7628 for possible inspiration.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/920", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/920/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/920/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/920/events", "html_url": "https://github.com/pantsbuild/pex/issues/920", "id": 578676727, "node_id": "MDU6SXNzdWU1Nzg2NzY3Mjc=", "number": 920, "title": "Pex bootstrap resets PYTHONPATH at runtime when running pex file", "user": {"login": "smezouar", "id": 11571218, "node_id": "MDQ6VXNlcjExNTcxMjE4", "avatar_url": "https://avatars1.githubusercontent.com/u/11571218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smezouar", "html_url": "https://github.com/smezouar", "followers_url": "https://api.github.com/users/smezouar/followers", "following_url": "https://api.github.com/users/smezouar/following{/other_user}", "gists_url": "https://api.github.com/users/smezouar/gists{/gist_id}", "starred_url": "https://api.github.com/users/smezouar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smezouar/subscriptions", "organizations_url": "https://api.github.com/users/smezouar/orgs", "repos_url": "https://api.github.com/users/smezouar/repos", "events_url": "https://api.github.com/users/smezouar/events{/privacy}", "received_events_url": "https://api.github.com/users/smezouar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-10T15:43:52Z", "updated_at": "2020-06-12T01:36:41Z", "closed_at": "2020-03-10T16:06:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "We use behave in a pex file. Our behave scenario can import external libs defined in PYTHONPATH.\r\nWith latest release of pex, the import fails, whereas it was OK with pex 1.6.7\r\n\r\nSteps to reproduce:\r\n\r\nA .pex file is generated with the following requirements:\r\n```\r\nallure-behave==2.8.11\r\nallure-python-commons==2.8.11\r\nappdirs==1.4.3\r\nattrs==19.3.0\r\nbehave==1.2.6\r\ncertifi==2019.11.28\r\ndistlib==0.3.0\r\nfilelock==3.0.12\r\nimportlib-metadata==1.5.0 ; python_version < '3.8'\r\nimportlib-resources==1.3.1 ; python_version < '3.7'\r\nparse-type==0.5.2\r\nparse==1.15.0\r\npipenv==2018.11.26\r\npluggy==0.13.1\r\nsix==1.14.0\r\nvirtualenv-clone==0.5.3\r\nvirtualenv==20.0.10\r\nzipp==3.1.0 ; python_version < '3.8'\r\n```\r\n\r\nI have generated the pex file with pex version 1.6.7 and last release 2.1.6:\r\n```\r\npip install pex==1.6.7\r\npython3.6 -m pex -r requirements.txt -m behave -o behave_pex_1.6.7 --python-shebang /opt/rh/rh-python36/root/usr/bin/python3.6\r\n\r\npip install pex --upgrade\r\npython3.6 -m pex -r requirements.txt -m behave -o behave_pex_2.1.6 --python-shebang /opt/rh/rh-python36/root/usr/bin/python3.6\r\n```\r\n\r\nI then install new modules in a custom path with pip\r\n```\r\npip install -t ./extlibs xmldiff\r\n```\r\nThis path is used during the tests done with behave built with pex.\r\n\t\r\nHere are the behave feature and step:\r\n```\r\nmkdir features\r\n\r\necho \"Feature: Behave pex\r\n\r\n  Scenario: Behave PYTHONPATH\r\n    Given I test PYTHONPATH with pex\" >  features/mybehave.feature\r\n\r\nmkdir steps\r\necho \"from behave import *\r\nimport xmldiff\r\n\r\n@given(u'I test PYTHONPATH with pex')\r\ndef step_impl(context):\r\n  print('OK')\r\n\" > steps/mybehave.py\r\n```\r\n\r\nThen I run the tests:\r\n```\r\nexport PEX_INHERIT_PATH=1\r\nexport PYTHONPATH=\"./extlibs\"\r\n./behave_pex_1.6.7\r\n./behave_pex_2.1.6\r\n```\r\n\r\nThe test with pex 1.6.7 is OK, whereas it fails with pex 2.1.6:\r\n```\r\nFeature: Behave pex # features/mybehave.feature:1\r\n\r\n  Scenario: Behave PYTHONPATH        # features/mybehave.feature:3\r\n    Given I test PYTHONPATH with pex # steps/mybehave.py:4 0.001s\r\n\r\n1 feature passed, 0 failed, 0 skipped\r\n1 scenario passed, 0 failed, 0 skipped\r\n1 step passed, 0 failed, 0 skipped, 0 undefined\r\nTook 0m0.001s\r\nException ModuleNotFoundError: No module named 'xmldiff'\r\nTraceback (most recent call last):\r\n  File \"/sources/Framework/pex-behave/behave_pex_2.1.6/.bootstrap/pex/pex.py\", line 393, in execute\r\n  File \"/sources/Framework/pex-behave/behave_pex_2.1.6/.bootstrap/pex/pex.py\", line 325, in _wrap_coverage\r\n  File \"/sources/Framework/pex-behave/behave_pex_2.1.6/.bootstrap/pex/pex.py\", line 356, in _wrap_profiling\r\n  File \"/sources/Framework/pex-behave/behave_pex_2.1.6/.bootstrap/pex/pex.py\", line 438, in _execute\r\n  File \"/sources/Framework/pex-behave/behave_pex_2.1.6/.bootstrap/pex/pex.py\", line 535, in execute_entry\r\n  File \"/sources/Framework/pex-behave/behave_pex_2.1.6/.bootstrap/pex/pex.py\", line 542, in execute_module\r\n  File \"/opt/rh/rh-python36/root/usr/lib64/python3.6/runpy.py\", line 208, in run_module\r\n    return _run_code(code, {}, init_globals, run_name, mod_spec)\r\n  File \"/opt/rh/rh-python36/root/usr/lib64/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/root/.pex/installed_wheels/0943f08eca1831c061473e7a2ab7182db1f14f74/behave-1.2.6-py2.py3-none-any.whl/behave/__main__.py\", line 187, in <module>\r\n    sys.exit(main())\r\n  File \"/root/.pex/installed_wheels/0943f08eca1831c061473e7a2ab7182db1f14f74/behave-1.2.6-py2.py3-none-any.whl/behave/__main__.py\", line 183, in main\r\n    return run_behave(config)\r\n  File \"/root/.pex/installed_wheels/0943f08eca1831c061473e7a2ab7182db1f14f74/behave-1.2.6-py2.py3-none-any.whl/behave/__main__.py\", line 127, in run_behave\r\n    failed = runner.run()\r\n  File \"/root/.pex/installed_wheels/0943f08eca1831c061473e7a2ab7182db1f14f74/behave-1.2.6-py2.py3-none-any.whl/behave/runner.py\", line 804, in run\r\n    return self.run_with_paths()\r\n  File \"/root/.pex/installed_wheels/0943f08eca1831c061473e7a2ab7182db1f14f74/behave-1.2.6-py2.py3-none-any.whl/behave/runner.py\", line 809, in run_with_paths\r\n    self.load_step_definitions()\r\n  File \"/root/.pex/installed_wheels/0943f08eca1831c061473e7a2ab7182db1f14f74/behave-1.2.6-py2.py3-none-any.whl/behave/runner.py\", line 796, in load_step_definitions\r\n    load_step_modules(step_paths)\r\n  File \"/root/.pex/installed_wheels/0943f08eca1831c061473e7a2ab7182db1f14f74/behave-1.2.6-py2.py3-none-any.whl/behave/runner_util.py\", line 412, in load_step_modules\r\n    exec_file(os.path.join(path, name), step_module_globals)\r\n  File \"/root/.pex/installed_wheels/0943f08eca1831c061473e7a2ab7182db1f14f74/behave-1.2.6-py2.py3-none-any.whl/behave/runner_util.py\", line 386, in exec_file\r\n    exec(code, globals_, locals_)\r\n  File \"steps/mybehave.py\", line 2, in <module>\r\n    import xmldiff\r\nModuleNotFoundError: No module named 'xmldiff'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/917", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/917/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/917/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/917/events", "html_url": "https://github.com/pantsbuild/pex/issues/917", "id": 576668169, "node_id": "MDU6SXNzdWU1NzY2NjgxNjk=", "number": 917, "title": "Release 2.1.6", "user": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-03-06T03:13:42Z", "updated_at": "2020-03-06T19:00:12Z", "closed_at": "2020-03-06T19:00:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Don't delete the root `__init__.py` when devendoring. #915\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/914", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/914/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/914/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/914/events", "html_url": "https://github.com/pantsbuild/pex/issues/914", "id": 575827850, "node_id": "MDU6SXNzdWU1NzU4Mjc4NTA=", "number": 914, "title": "Provide a mechanism to AND interpreter constraint strings", "user": {"login": "Eric-Arellano", "id": 14852634, "node_id": "MDQ6VXNlcjE0ODUyNjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/14852634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eric-Arellano", "html_url": "https://github.com/Eric-Arellano", "followers_url": "https://api.github.com/users/Eric-Arellano/followers", "following_url": "https://api.github.com/users/Eric-Arellano/following{/other_user}", "gists_url": "https://api.github.com/users/Eric-Arellano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eric-Arellano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eric-Arellano/subscriptions", "organizations_url": "https://api.github.com/users/Eric-Arellano/orgs", "repos_url": "https://api.github.com/users/Eric-Arellano/repos", "events_url": "https://api.github.com/users/Eric-Arellano/events{/privacy}", "received_events_url": "https://api.github.com/users/Eric-Arellano/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1142509127, "node_id": "MDU6TGFiZWwxMTQyNTA5MTI3", "url": "https://api.github.com/repos/pantsbuild/pex/labels/feature%20request", "name": "feature request", "color": "3e81a5", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "Eric-Arellano", "id": 14852634, "node_id": "MDQ6VXNlcjE0ODUyNjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/14852634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eric-Arellano", "html_url": "https://github.com/Eric-Arellano", "followers_url": "https://api.github.com/users/Eric-Arellano/followers", "following_url": "https://api.github.com/users/Eric-Arellano/following{/other_user}", "gists_url": "https://api.github.com/users/Eric-Arellano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eric-Arellano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eric-Arellano/subscriptions", "organizations_url": "https://api.github.com/users/Eric-Arellano/orgs", "repos_url": "https://api.github.com/users/Eric-Arellano/repos", "events_url": "https://api.github.com/users/Eric-Arellano/events{/privacy}", "received_events_url": "https://api.github.com/users/Eric-Arellano/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Eric-Arellano", "id": 14852634, "node_id": "MDQ6VXNlcjE0ODUyNjM0", "avatar_url": "https://avatars3.githubusercontent.com/u/14852634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Eric-Arellano", "html_url": "https://github.com/Eric-Arellano", "followers_url": "https://api.github.com/users/Eric-Arellano/followers", "following_url": "https://api.github.com/users/Eric-Arellano/following{/other_user}", "gists_url": "https://api.github.com/users/Eric-Arellano/gists{/gist_id}", "starred_url": "https://api.github.com/users/Eric-Arellano/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Eric-Arellano/subscriptions", "organizations_url": "https://api.github.com/users/Eric-Arellano/orgs", "repos_url": "https://api.github.com/users/Eric-Arellano/repos", "events_url": "https://api.github.com/users/Eric-Arellano/events{/privacy}", "received_events_url": "https://api.github.com/users/Eric-Arellano/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-03-04T22:17:16Z", "updated_at": "2020-03-10T06:05:46Z", "closed_at": "2020-03-10T06:04:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In https://github.com/pantsbuild/pex/pull/678, we changed `--interpreter-constraint` to OR between multiple values. This is useful for disjoint constraints, e.g. `CPython==2.7.*` OR `CPython>=3.5`.\r\n\r\nWe explained that you can AND by using a single constraint, e.g. `CPython>=3.5,<3.6`.\r\n\r\nHowever, there is no way to AND with the entire requirement string, e.g. there is no way to say `CPython==3.7.*` AND `CPython==3.8.0` without manually merging the constraints into one. \r\n\r\nWhile this may be fine for most usages, Pants needs to be able to AND the entire requirement string. Specifically, in Pants, constraints should be ANDed accross targets (but ORed within the target). For example, the below results in `CPython==3.7.* AND CPython==3.6.*`.\r\n\r\n```python\r\npython_library(\r\n  name=\"dep_global\",\r\n  source=\"test_compat.py\",\r\n)\r\n\r\npython_library(\r\n  name=\"dep\",\r\n  source=\"test_compat.py\",\r\n  compatibility='CPython==3.7.*',\r\n)\r\n\r\npython_tests(\r\n  name = 'compat',\r\n  source='test_compat.py',\r\n  dependencies=[\":dep\", \":dep_global\"],\r\n  compatibility='CPython==3.6.*',\r\n)\r\n```\r\n\r\nIt's not clear what the API should look like for this. `--interpreter-constraint` should certainly still OR. Possibly, we introduce a new flag? \r\n\r\nPossibly we parametrize whether `--interpreter-constraint` should OR vs. AND? (Although, we may likely need to support both. It's unclear to me if we can use static analysis to avoid this by having Pants pre-process the constraints.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/909", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/909/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/909/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/909/events", "html_url": "https://github.com/pantsbuild/pex/issues/909", "id": 571769355, "node_id": "MDU6SXNzdWU1NzE3NjkzNTU=", "number": 909, "title": "Release 2.1.7", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-02-27T01:54:06Z", "updated_at": "2020-03-25T21:00:32Z", "closed_at": "2020-03-25T20:45:47Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Top level requirements in PEX-INFO are missing needed environment markers. #898\r\n+ [x] Improve error message when interpreters cannot be found #922\r\n+ [x] Adding `--runtime-pex-root` option. #780\r\n+ [x] The pex cache (PEX_ROOT) is not always controllable. #926\r\n+ [x] Consider passing through `PEX_` env vars to PEXed Pex. #925\r\n+ [x] Preserve PEX_ env variables after calling pex #180", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/906", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/906/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/906/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/906/events", "html_url": "https://github.com/pantsbuild/pex/issues/906", "id": 569051537, "node_id": "MDU6SXNzdWU1NjkwNTE1Mzc=", "number": 906, "title": "[Enhancement] Build missing wheels when platform tag is given", "user": {"login": "jhermann", "id": 1068245, "node_id": "MDQ6VXNlcjEwNjgyNDU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1068245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhermann", "html_url": "https://github.com/jhermann", "followers_url": "https://api.github.com/users/jhermann/followers", "following_url": "https://api.github.com/users/jhermann/following{/other_user}", "gists_url": "https://api.github.com/users/jhermann/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhermann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhermann/subscriptions", "organizations_url": "https://api.github.com/users/jhermann/orgs", "repos_url": "https://api.github.com/users/jhermann/repos", "events_url": "https://api.github.com/users/jhermann/events{/privacy}", "received_events_url": "https://api.github.com/users/jhermann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}, {"id": 1142509127, "node_id": "MDU6TGFiZWwxMTQyNTA5MTI3", "url": "https://api.github.com/repos/pantsbuild/pex/labels/feature%20request", "name": "feature request", "color": "3e81a5", "default": false, "description": ""}, {"id": 115645384, "node_id": "MDU6TGFiZWwxMTU2NDUzODQ=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-21T16:19:48Z", "updated_at": "2020-02-21T19:10:12Z", "closed_at": "2020-02-21T16:45:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When I tried to build a Windows PEX on Ubuntu, I had a problem with 'harmless' pure Python requirements, because PEX adds `--only-binary :all:` in that case \u2013 but many pure Python packages only have a sdist on PyPI.\r\n\r\nSee here for a solution:\r\nhttps://github.com/jhermann/rituals/blob/f53f07189bb5df55fbb970c3aed8253726315b00/src/rituals/acts/releasing.py#L318-L324\r\n\r\nThis could possibly be integrated into PEX for a better user experience.\r\n\r\nThe other option is to have a wheel builder feed a local repo, but not everyone wants to run such infrastructure.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/905", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/905/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/905/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/905/events", "html_url": "https://github.com/pantsbuild/pex/issues/905", "id": 568512662, "node_id": "MDU6SXNzdWU1Njg1MTI2NjI=", "number": 905, "title": "Failed to set the pex root directory", "user": {"login": "dclong", "id": 824507, "node_id": "MDQ6VXNlcjgyNDUwNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/824507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dclong", "html_url": "https://github.com/dclong", "followers_url": "https://api.github.com/users/dclong/followers", "following_url": "https://api.github.com/users/dclong/following{/other_user}", "gists_url": "https://api.github.com/users/dclong/gists{/gist_id}", "starred_url": "https://api.github.com/users/dclong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dclong/subscriptions", "organizations_url": "https://api.github.com/users/dclong/orgs", "repos_url": "https://api.github.com/users/dclong/repos", "events_url": "https://api.github.com/users/dclong/events{/privacy}", "received_events_url": "https://api.github.com/users/dclong/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-20T19:16:28Z", "updated_at": "2020-02-21T18:40:57Z", "closed_at": "2020-02-21T18:40:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to use pex with PySpark and run into [the permission denied issue](https://github.com/pantsbuild/pex/issues/359) with the default pex root directory. I tried to set a different writable pex root directory using a few approaches but all failed. \r\n\r\n## --conf spark.executorEnv.PEX_ROOT\r\nIt seems to me that pex doesn't honor the environment variable set by this way. I can verify from PySpark (not with pex) that environment variables set this is readable by Python but when used with pex, it has no effect. The pex root directory is always `/home/.pex`.\r\n```\r\n#!/bin/bash\r\n\r\n/apache/spark2.3/bin/spark-submit \\\r\n    --files \"file:///apache/hive/conf/hive-site.xml,file:///apache/hadoop/etc/hadoop/ssl-client.xml,file:///apache/hadoop/etc/hadoop/hdfs-site.xml,file:///apache/hadoop/etc/hadoop/core-site.xml,file:///apache/hadoop/etc/hadoop/federation-mapping.xml\" \\\r\n    --master yarn \\\r\n    --deploy-mode cluster \\\r\n    --queue YOUR_QUEUE \\\r\n    --num-executors 200 \\\r\n    --executor-memory 10G \\\r\n    --driver-memory 15G \\\r\n    --executor-cores 4 \\\r\n    --conf spark.yarn.maxAppAttempts=2 \\\r\n    --conf spark.dynamicAllocation.enabled=true \\\r\n    --conf spark.dynamicAllocation.maxExecutors=1000 \\\r\n    --conf spark.network.timeout=300s \\\r\n    --conf spark.executor.memoryOverhead=2G \\\r\n    --conf spark.pyspark.driver.python=./env.pex \\\r\n    --conf spark.pyspark.python=./env.pex \\\r\n    --conf spark.executorEnv.PEX_ROOT=/some/writable/directory \\\r\n    --files env.pex \\\r\n    $1\r\n```\r\n\r\n## PEX_ROOT=/some/writable/directory ./env.pex\r\nI got the error message saying that \"cannot run the program `PEX_ROOT=/some/writable/directory ./env.pex`, file or directory not found\".\r\n```\r\n#!/bin/bash\r\n\r\n/apache/spark2.3/bin/spark-submit \\\r\n    --files \"file:///apache/hive/conf/hive-site.xml,file:///apache/hadoop/etc/hadoop/ssl-client.xml,file:///apache/hadoop/etc/hadoop/hdfs-site.xml,file:///apache/hadoop/etc/hadoop/core-site.xml,file:///apache/hadoop/etc/hadoop/federation-mapping.xml\" \\\r\n    --master yarn \\\r\n    --deploy-mode cluster \\\r\n    --queue YOUR_QUEUE \\\r\n    --num-executors 200 \\\r\n    --executor-memory 10G \\\r\n    --driver-memory 15G \\\r\n    --executor-cores 4 \\\r\n    --conf spark.yarn.maxAppAttempts=2 \\\r\n    --conf spark.dynamicAllocation.enabled=true \\\r\n    --conf spark.dynamicAllocation.maxExecutors=1000 \\\r\n    --conf spark.network.timeout=300s \\\r\n    --conf spark.executor.memoryOverhead=2G \\\r\n    --conf spark.pyspark.driver.python=\"PEX_ROOT=/some/writable/directory ./env.pex\" \\\r\n    --conf spark.pyspark.python=\"PEX_ROOT=/some/writable/directory ./env.pex\" \\\r\n    --files env.pex \\\r\n    $1\r\n```\r\n## ./env.pex --pex-root /some/writable/directory\r\nSimilarly, I got the error message saying that \"cannot run the program `./env.pex --pex-root /some/writable/directory`, file or directory not found\".\r\n```\r\n#!/bin/bash\r\n\r\n/apache/spark2.3/bin/spark-submit \\\r\n    --files \"file:///apache/hive/conf/hive-site.xml,file:///apache/hadoop/etc/hadoop/ssl-client.xml,file:///apache/hadoop/etc/hadoop/hdfs-site.xml,file:///apache/hadoop/etc/hadoop/core-site.xml,file:///apache/hadoop/etc/hadoop/federation-mapping.xml\" \\\r\n    --master yarn \\\r\n    --deploy-mode cluster \\\r\n    --queue YOUR_QUEUE \\\r\n    --num-executors 200 \\\r\n    --executor-memory 10G \\\r\n    --driver-memory 15G \\\r\n    --executor-cores 4 \\\r\n    --conf spark.yarn.maxAppAttempts=2 \\\r\n    --conf spark.dynamicAllocation.enabled=true \\\r\n    --conf spark.dynamicAllocation.maxExecutors=1000 \\\r\n    --conf spark.network.timeout=300s \\\r\n    --conf spark.executor.memoryOverhead=2G \\\r\n    --conf spark.pyspark.driver.python=\"PEX_ROOT=/some/writable/directory ./env.pex\" \\\r\n    --conf spark.pyspark.python=\"PEX_ROOT=/some/writable/directory ./env.pex\" \\\r\n    --files env.pex \\\r\n    $1\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/904", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/904/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/904/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/904/events", "html_url": "https://github.com/pantsbuild/pex/issues/904", "id": 568505343, "node_id": "MDU6SXNzdWU1Njg1MDUzNDM=", "number": 904, "title": "Py4JException: Constructor org.apache.spark.api.python.PythonAccumulationV2 does not exist", "user": {"login": "dclong", "id": 824507, "node_id": "MDQ6VXNlcjgyNDUwNw==", "avatar_url": "https://avatars0.githubusercontent.com/u/824507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dclong", "html_url": "https://github.com/dclong", "followers_url": "https://api.github.com/users/dclong/followers", "following_url": "https://api.github.com/users/dclong/following{/other_user}", "gists_url": "https://api.github.com/users/dclong/gists{/gist_id}", "starred_url": "https://api.github.com/users/dclong/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dclong/subscriptions", "organizations_url": "https://api.github.com/users/dclong/orgs", "repos_url": "https://api.github.com/users/dclong/repos", "events_url": "https://api.github.com/users/dclong/events{/privacy}", "received_events_url": "https://api.github.com/users/dclong/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-20T19:01:57Z", "updated_at": "2020-02-21T02:25:49Z", "closed_at": "2020-02-20T19:20:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I got the following error while using PEX with PySpark. \r\n```\r\npy4j.protocol.Py4JError: An error occurred while calling None.org.apache.spark.api.python.PythonAccumulatorV2. Trace:\r\npy4j.Py4JException: Constructor org.apache.spark.api.python.PythonAccumulatorV2([class java.lang.String, class java.lang.Integer, class java.lang.String]) does not exist\r\n```\r\nThe environment variable `PYTHONPATH` (I checked it inside the PEX environment in PySpark) is set to the following. Is there any other path that I should add to `PYTHONPATH` manually?\r\n'PYTHONPATH': '/hadoop/5/yarn/local/usercache/dclong/filecache/31/__spark_libs__385482079064142506.zip/spark-core_2.11-0.4.jar:/hadoop/2/yarn/local/usercache/dclong/appcache/application_1581371194283_161101/container_e2601_1581371194283_161101_02_000001/pyspark.zip:/hadoop/2/yarn/local/usercache/dclong/appcache/application_1581371194283_161101/container_e2601_1581371194283_161101_02_000001/py4j-0.10.7-src.zip',\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/902", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/902/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/902/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/902/events", "html_url": "https://github.com/pantsbuild/pex/issues/902", "id": 568387294, "node_id": "MDU6SXNzdWU1NjgzODcyOTQ=", "number": 902, "title": "Release 2.1.5", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2020-02-20T15:37:55Z", "updated_at": "2020-02-27T07:44:18Z", "closed_at": "2020-02-27T03:04:29Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Kill `Pip.spawn_install_wheel` `overwrite` arg. #907\r\n+ [x] Silence pip warnings about Python 2.7. #908", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/898", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/898/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/898/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/898/events", "html_url": "https://github.com/pantsbuild/pex/issues/898", "id": 567983552, "node_id": "MDU6SXNzdWU1Njc5ODM1NTI=", "number": 898, "title": "Top level requirements in PEX-INFO are missing needed environment markers.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-20T00:59:17Z", "updated_at": "2020-03-19T18:48:16Z", "closed_at": "2020-03-19T18:48:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `Requires-Python` wheel METADATA should be converted into the `python_version` environment marker for requirements we store in PEX-INFO to allow for activation of the proper wheel when multiple resolve for different distribution targets. We already correctly resolve all the required distributions:\r\n```\r\n$ python -mpex --python=python2.7 --python=python3.8 zipp -o zipp.pex\r\nDEPRECATION: Python 2.7 reached the end of its life on January 1st, 2020. Please upgrade your Python as Python 2.7 is no longer maintained. A future version of pip will drop support for Python 2.7. More details about Python 2 support in pip, can be found at https://pip.pypa.io/en/latest/development/release-process/#python-2-support\r\n$ ./zipp.pex \r\nFailed to execute PEX file. Needed manylinux2014_x86_64-cp-27-cp27mu compatible dependencies for:\r\n 1: zipp==3.0.0\r\n    But this pex only contains:\r\n      zipp-1.2.0-py2.py3-none-any.whl\r\n      zipp-3.0.0-py3-none-any.whl\r\n$ unzip -qc zipp.pex PEX-INFO | jq .\r\n{\r\n  \"always_write_cache\": false,\r\n  \"build_properties\": {\r\n    \"class\": \"CPython\",\r\n    \"pex_version\": \"2.1.3\",\r\n    \"platform\": \"manylinux2014_x86_64\",\r\n    \"version\": [\r\n      2,\r\n      7,\r\n      17\r\n    ]\r\n  },\r\n  \"code_hash\": \"da39a3ee5e6b4b0d3255bfef95601890afd80709\",\r\n  \"distributions\": {\r\n    \"contextlib2-0.6.0.post1-py2.py3-none-any.whl\": \"3517e14cadfba621f038f09a462a62e56363371a\",\r\n    \"zipp-1.2.0-py2.py3-none-any.whl\": \"ac5ea4241acf8a77fc207c4b661cff9ee418ea4e\",\r\n    \"zipp-3.0.0-py3-none-any.whl\": \"add980e49f821259d8baae9823d1a0517a1c88b0\"\r\n  },\r\n  \"emit_warnings\": true,\r\n  \"ignore_errors\": false,\r\n  \"inherit_path\": \"false\",\r\n  \"interpreter_constraints\": [],\r\n  \"pex_path\": null,\r\n  \"requirements\": [\r\n    \"contextlib2==0.6.0.post1; python_version < \\\"3.4\\\"\",\r\n    \"zipp==1.2.0\",\r\n    \"zipp==3.0.0\"\r\n  ],\r\n  \"zip_safe\": true\r\n}\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/896", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/896/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/896/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/896/events", "html_url": "https://github.com/pantsbuild/pex/issues/896", "id": 567712337, "node_id": "MDU6SXNzdWU1Njc3MTIzMzc=", "number": 896, "title": "Master CI is broken for OSX python3.8 `tests/test_bdist_pex.py`", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-19T17:19:02Z", "updated_at": "2020-02-20T01:53:36Z", "closed_at": "2020-02-20T01:13:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In short the tests in `tests/test_bdist_pex.py` try to run `python setup.py bdist_pex ...` but either the Pex codebase is not on the sys.path / PYTHONPATH or else it is but the distutils `bdist_pex` `Command` provded by Pex is not being registered / discovered.\r\n\r\nErrors look like:\r\n```\r\ntests/test_bdist_pex.py::test_entry_points_dict usage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\r\n   or: setup.py --help [cmd1 cmd2 ...]\r\n   or: setup.py --help-commands\r\n   or: setup.py cmd --help\r\nerror: invalid command 'bdist_pex'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/893", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/893/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/893/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/893/events", "html_url": "https://github.com/pantsbuild/pex/issues/893", "id": 567648308, "node_id": "MDU6SXNzdWU1Njc2NDgzMDg=", "number": 893, "title": "Release 2.1.4", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-19T15:51:58Z", "updated_at": "2020-02-20T16:20:48Z", "closed_at": "2020-02-20T16:07:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Pex resolver API is not completely hermetic to PYTHONPATH. #892", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/892", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/892/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/892/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/892/events", "html_url": "https://github.com/pantsbuild/pex/issues/892", "id": 567645967, "node_id": "MDU6SXNzdWU1Njc2NDU5Njc=", "number": 892, "title": "Pex resolver API is not completely hermetic to PYTHONPATH.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-19T15:50:04Z", "updated_at": "2020-02-20T01:56:49Z", "closed_at": "2020-02-20T01:56:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The `pex.resolver` module delegates work to pip by running a pip PEX in a subprocess. If the interpreter being resolved for is not the current interpreter and the current interpreter has portions of its stdlib exported on the `PYTHONPATH` and those portions of the stdlib are incompatible with the interpreter being resolved for, the bootstrap of the pip PEX will fail before it can scrub away the `PYTHONPATH`.\r\n\r\nA minimal repro:\r\n```\r\n$ python3.8 <<EOF\r\n> import os\r\n> import sys\r\n> \r\n> \r\n> # This puts python3.8 stdlib on PYTHONPATH.\r\n> os.environ['PYTHONPATH'] = os.pathsep.join(sys.path)\r\n> \r\n> \r\n> from pex import resolver\r\n> from pex.interpreter import PythonInterpreter\r\n> \r\n> \r\n> def find_python36():\r\n>   for interp in PythonInterpreter.iter():\r\n>     if interp.version[:2] == (3, 6):\r\n>       return interp\r\n>   raise RuntimeError('This test requires python3.6 be on the PATH.')\r\n> \r\n> \r\n> result = resolver.resolve(requirements=['packaging==19.2'], interpreter=find_python36())\r\n> print('Resolved: {}'.format(result))\r\n> EOF\r\nFatal Python error: Py_Initialize: can't initialize sys standard streams\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/abc.py\", line 64, in <module>\r\nModuleNotFoundError: No module named '_abc'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.8/io.py\", line 52, in <module>\r\n  File \"/usr/lib/python3.8/abc.py\", line 68, in <module>\r\n  File \"/usr/lib/python3.8/_py_abc.py\", line 35\r\n    def __new__(mcls, name, bases, namespace, /, **kwargs):\r\n                                              ^\r\nSyntaxError: invalid syntax\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 20, in <module>\r\n  File \"/home/jsirois/dev/pantsbuild/pex/pex/resolver.py\", line 701, in resolve\r\n    return list(resolve_request.resolve_distributions(ignore_errors=ignore_errors))\r\n  File \"/home/jsirois/dev/pantsbuild/pex/pex/resolver.py\", line 498, in resolve_distributions\r\n    for resolve_result in self._run_parallel(inputs=to_resolve,\r\n  File \"/home/jsirois/dev/pantsbuild/pex/pex/resolver.py\", line 366, in _run_parallel\r\n    for result in execute_parallel(\r\n  File \"/home/jsirois/dev/pantsbuild/pex/pex/jobs.py\", line 219, in execute_parallel\r\n    raise error\r\npex.resolver.Unsatisfiable: pid: 13111 -> /usr/bin/python3.6 /tmp/tmp6ghsjpkj --disable-pip-version-check --isolated --exists-action i -q --no-cache-dir download --dest /tmp/tmpk4po5m_6/resolved_dists/cp36-cp36m packaging==19.2 raised Executing /usr/bin/python3.6 /tmp/tmp6ghsjpkj --disable-pip-version-check --isolated --exists-action i -q --no-cache-dir download --dest /tmp/tmpk4po5m_6/resolved_dists/cp36-cp36m packaging==19.2 failed with -6\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/889", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/889/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/889/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/889/events", "html_url": "https://github.com/pantsbuild/pex/issues/889", "id": 565442379, "node_id": "MDU6SXNzdWU1NjU0NDIzNzk=", "number": 889, "title": "Release 2.1.3", "user": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-14T16:49:58Z", "updated_at": "2020-02-16T00:08:32Z", "closed_at": "2020-02-16T00:08:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Error eagerly if an interpreter binary doesn't exist #886 \r\n+ [x] The pip-powered resolve in pex 2 will re-tokenize --find-links pages on each transitive requirement #887 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/887", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/887/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/887/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/887/events", "html_url": "https://github.com/pantsbuild/pex/issues/887", "id": 564331309, "node_id": "MDU6SXNzdWU1NjQzMzEzMDk=", "number": 887, "title": "the pip-powered resolve in pex 2 will re-tokenize --find-links pages on each transitive requirement", "user": {"login": "cosmicexplorer", "id": 1305167, "node_id": "MDQ6VXNlcjEzMDUxNjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1305167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cosmicexplorer", "html_url": "https://github.com/cosmicexplorer", "followers_url": "https://api.github.com/users/cosmicexplorer/followers", "following_url": "https://api.github.com/users/cosmicexplorer/following{/other_user}", "gists_url": "https://api.github.com/users/cosmicexplorer/gists{/gist_id}", "starred_url": "https://api.github.com/users/cosmicexplorer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cosmicexplorer/subscriptions", "organizations_url": "https://api.github.com/users/cosmicexplorer/orgs", "repos_url": "https://api.github.com/users/cosmicexplorer/repos", "events_url": "https://api.github.com/users/cosmicexplorer/events{/privacy}", "received_events_url": "https://api.github.com/users/cosmicexplorer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-12T22:59:54Z", "updated_at": "2020-02-15T16:21:36Z", "closed_at": "2020-02-15T16:21:36Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We've been running into an issue when trying to test the feature in pantsbuild/pants#8793 (inspired by #789) with pex versions later than 2. When the vendored pip resolver fetches html pages provided as `--find-links` arguments, it appears to always fetch with the `cachecontrol` header `max-age: 0`, which appears to mean it always re-fetches and re-tokenizes every `--find-links` html page every time it tries to resolve any requirement. This leads to extremely long resolve times when resolving against a large remote `--find-links` html page in pex 2 (12 minutes vs 1.5 minutes for a particular intransitive resolve).\r\n\r\nApplication of the `max-age` header: https://github.com/pantsbuild/pex/blob/e078b88659b2992c839c110ca3447f64e6838f08/pex/vendor/_vendored/pip/pip/_internal/index/collector.py#L130-L143\r\n\r\nOutput excerpt with `-vvvvvvvvv`:\r\n```\r\nFetching project page and analyzing links: https://INTERNAL-URL.com/INTERNAL-FIND-LINKS-REPO\r\n  Getting page https://INTERNAL-URL.com/INTERNAL-FIND-LINKS-REPO\r\n  Looking up \"https://INTERNAL-URL.com/INTERNAL-FIND-LINKS-REPO\" in the cache\r\n  Request header has \"max_age\" as 0, cache bypassed\r\n  Resetting dropped connection: INTERNAL-URL.com\r\n  https://INTERNAL-URL.com:443 \"GET /INTERNAL-FIND-LINKS-REPO HTTP/1.1\" 200 858\r\n  Updating cache with response from \"https://INTERNAL-URL.com/INTERNAL-FIND-LINKS-REPO\"\r\n```\r\n\r\nSize of our large `--find-links` page (when saved to disk):\r\n```bash\r\n> wc -c wow.html\r\n1577275 wow.html\r\n```\r\n\r\nWill try to post a repro if possible which avoids dumping our internal repo into a public issue. Note that pex 1 does not appear to support local fileystem paths to html pages with `--find-links`, so `--find-links=wow.html` in pex 2 is not directly comparable to the result in pex 1.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/883", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/883/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/883/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/883/events", "html_url": "https://github.com/pantsbuild/pex/issues/883", "id": 563747186, "node_id": "MDU6SXNzdWU1NjM3NDcxODY=", "number": 883, "title": "Release 2.1.2", "user": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-12T04:37:54Z", "updated_at": "2020-02-12T14:55:16Z", "closed_at": "2020-02-12T14:55:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Isolating a pex chroot doesn't work from a zipped pex #882 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/882", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/882/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/882/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/882/events", "html_url": "https://github.com/pantsbuild/pex/issues/882", "id": 563746613, "node_id": "MDU6SXNzdWU1NjM3NDY2MTM=", "number": 882, "title": "Isolating a pex chroot doesn't work from a zipped pex", "user": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-12T04:35:59Z", "updated_at": "2020-03-11T17:19:37Z", "closed_at": "2020-03-11T17:19:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The implementation assumes that the pex code is available on the filesystem. And since `os.walk`'s default behavior is to silently no-op if its argument doesn't exist, this was causing the isolated chroot to be empty. This affected interpreter detection, as `import pex` statements in the interpreter identification code would fail due to the pex code not being in the chroot.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/878", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/878/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/878/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/878/events", "html_url": "https://github.com/pantsbuild/pex/issues/878", "id": 562153964, "node_id": "MDU6SXNzdWU1NjIxNTM5NjQ=", "number": 878, "title": "Please be clear about using virtualenv or venv #Documentation", "user": {"login": "hivemall", "id": 30777961, "node_id": "MDQ6VXNlcjMwNzc3OTYx", "avatar_url": "https://avatars3.githubusercontent.com/u/30777961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hivemall", "html_url": "https://github.com/hivemall", "followers_url": "https://api.github.com/users/hivemall/followers", "following_url": "https://api.github.com/users/hivemall/following{/other_user}", "gists_url": "https://api.github.com/users/hivemall/gists{/gist_id}", "starred_url": "https://api.github.com/users/hivemall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hivemall/subscriptions", "organizations_url": "https://api.github.com/users/hivemall/orgs", "repos_url": "https://api.github.com/users/hivemall/repos", "events_url": "https://api.github.com/users/hivemall/events{/privacy}", "received_events_url": "https://api.github.com/users/hivemall/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-09T10:16:17Z", "updated_at": "2020-02-19T22:51:46Z", "closed_at": "2020-02-19T22:51:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "While diggung through your docs + talks, there is no clear mention of what virtual environment you are using. Pypa endorses venv which also is stdlib natively , thus i highly favor.\r\n\r\nWhat are you using, can venv be used too, what would hinder it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/875", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/875/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/875/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/875/events", "html_url": "https://github.com/pantsbuild/pex/issues/875", "id": 561460178, "node_id": "MDU6SXNzdWU1NjE0NjAxNzg=", "number": 875, "title": "ERROR: Could not find a version that satisfies the requirement psutil==5.6.7", "user": {"login": "H4dr1en", "id": 16240134, "node_id": "MDQ6VXNlcjE2MjQwMTM0", "avatar_url": "https://avatars3.githubusercontent.com/u/16240134?v=4", "gravatar_id": "", "url": "https://api.github.com/users/H4dr1en", "html_url": "https://github.com/H4dr1en", "followers_url": "https://api.github.com/users/H4dr1en/followers", "following_url": "https://api.github.com/users/H4dr1en/following{/other_user}", "gists_url": "https://api.github.com/users/H4dr1en/gists{/gist_id}", "starred_url": "https://api.github.com/users/H4dr1en/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/H4dr1en/subscriptions", "organizations_url": "https://api.github.com/users/H4dr1en/orgs", "repos_url": "https://api.github.com/users/H4dr1en/repos", "events_url": "https://api.github.com/users/H4dr1en/events{/privacy}", "received_events_url": "https://api.github.com/users/H4dr1en/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-07T07:08:00Z", "updated_at": "2020-02-08T10:58:15Z", "closed_at": "2020-02-08T10:58:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using pex 2.1.0, \r\n\r\nTrying the following:\r\n\r\n```\r\npex psutil==5.6.7 --platform linux-x86_64-cp-37-cp37m --disable-cache\r\n```\r\n\r\nOn macOS (10.14), python 3.6.10 gives the following error:\r\n\r\n```\r\nERROR: Could not find a version that satisfies the requirement psutil==5.6.7 (from versions: none)\r\nERROR: No matching distribution found for psutil==5.6.7\r\n```\r\n\r\nDetailed log with `-verbose`: \r\n\r\n```\r\npex: Building pex :: Resolving distributions (['psutil==5.6.7']) :: Resolving for:\r\npex: Isolating pex: 50.3ms                                                           \r\npex: PEX.run invoking /Users/username/miniconda3/envs/dask-deploy/bin/python3.6 /var/folders/kz/s8wsl1z15wjfw6wq8mb_2g140000gn/T/tmpcsu3k3mo --disable-pip-version-check --isolated --exists-action i -q --cache-dir /Users/username/.pex download --dest /var/folders/kz/s8wsl1z15wjfw6wq8mb_2g140000gn/T/tmpzxvo2umu/resolved_dists/linux_x86_64-cp-37-cp37m --platform manylinux2014_x86_64 --platform linux_x86_64 --implementation cp --python-version 37 --abi cp37m --only-binary :all: psutil==5.6.7\r\npex: Found site-library: /Users/username/miniconda3/envs/dask-deploy/lib/python3.6/site-packages\r\npex: Tainted path element: /Users/username/miniconda3/envs/dask-deploy/lib/python3.6/site-packages\r\npex: Scrubbing from user site: /Users/username/.local/lib/python3.6/site-packages\r\npex: Scrubbing from site-packages: /Users/username/miniconda3/envs/dask-deploy/lib/python3.6/site-packages\r\npex: Activating PEX virtual environment from /var/folders/kz/s8wsl1z15wjfw6wq8mb_2g140000gn/T/tmpcsu3k3mo: 10.5ms\r\npex: Bootstrap complete, performing final sys.path modifications...\r\npex: PYTHONPATH contains:\r\npex:     /var/folders/kz/s8wsl1z15wjfw6wq8mb_2g140000gn/T/tmpcsu3k3mo\r\npex:   * /Users/username/miniconda3/envs/dask-deploy/lib/python36.zip\r\npex:     /Users/username/miniconda3/envs/dask-deploy/lib/python3.6\r\npex:     /Users/username/miniconda3/envs/dask-deploy/lib/python3.6/lib-dynload\r\npex:     /private/var/folders/kz/s8wsl1z15wjfw6wq8mb_2g140000gn/T/tmpcsu3k3mo/.deps/pip\r\npex:     /private/var/folders/kz/s8wsl1z15wjfw6wq8mb_2g140000gn/T/tmpcsu3k3mo/.deps/setuptools\r\npex:     /private/var/folders/kz/s8wsl1z15wjfw6wq8mb_2g140000gn/T/tmpcsu3k3mo/.deps/wheel\r\npex:     /var/folders/kz/s8wsl1z15wjfw6wq8mb_2g140000gn/T/tmpcsu3k3mo/.bootstrap\r\npex:   * - paths that do not exist or will be imported via zipimport\r\nERROR: Could not find a version that satisfies the requirement psutil==5.6.7 (from versions: none)\r\nERROR: No matching distribution found for psutil==5.6.7\r\n```\r\n\r\n- It works well when removing the `--platform` argument, but I want to deploy on a linux machine.\r\n- It throws the same error if I don't specify the version of `psutil`\r\n\r\nEDIT:\r\n\r\nI am not sure it is related to pex since \r\n\r\n```\r\npip download psutil==5.6.7 --platform linux-x86_64 --python-version 3 --only-binary=:all:\r\n```\r\n\r\nAlso gives me:\r\n```\r\nERROR: Could not find a version that satisfies the requirement psutil==5.6.7 (from versions: none)\r\nERROR: No matching distribution found for psutil==5.6.7\r\n```\r\n\r\nEDIT 2:\r\n```\r\npip download psutil\r\n```\r\nWorks fine, but as soon as I specify a `--platform`, it breaks\r\n```\r\n$ pip download psutil --platform any --only-binary=:all:\r\n> ERROR: Could not find a version that satisfies the requirement psutil (from versions: none)\r\n> ERROR: No matching distribution found for psutil\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/870", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/870/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/870/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/870/events", "html_url": "https://github.com/pantsbuild/pex/issues/870", "id": 557885954, "node_id": "MDU6SXNzdWU1NTc4ODU5NTQ=", "number": 870, "title": "Unable to download from https index-url", "user": {"login": "jdevilla20", "id": 45016974, "node_id": "MDQ6VXNlcjQ1MDE2OTc0", "avatar_url": "https://avatars2.githubusercontent.com/u/45016974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdevilla20", "html_url": "https://github.com/jdevilla20", "followers_url": "https://api.github.com/users/jdevilla20/followers", "following_url": "https://api.github.com/users/jdevilla20/following{/other_user}", "gists_url": "https://api.github.com/users/jdevilla20/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdevilla20/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdevilla20/subscriptions", "organizations_url": "https://api.github.com/users/jdevilla20/orgs", "repos_url": "https://api.github.com/users/jdevilla20/repos", "events_url": "https://api.github.com/users/jdevilla20/events{/privacy}", "received_events_url": "https://api.github.com/users/jdevilla20/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-31T03:12:23Z", "updated_at": "2020-01-31T21:30:59Z", "closed_at": "2020-01-31T21:30:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI have been creating executables using PEX.  I have done this without incident when I use an http index-url.  However, when I switch to https, I get errors:\r\n\r\n```\r\nStarting new HTTPS connection (31): <secureurl>:443\r\nIncremented Retry for (url='/artifactory/api/pypi/pypi/simple/pan-python/'): Retry(total=4, connect=None, read=None, redirect=None, status=None)\r\nStarting new HTTPS connection (32): <secureurl>:443\r\nIncremented Retry for (url='/artifactory/api/pypi/pypi/simple/pan-python/'): Retry(total=3, connect=None, read=None, redirect=None, status=None)\r\n...\r\nCould not fetch URL https://artifactory.pan.local/artifactory/api/pypi/pypi/simple/pan-python/: There was a problem confirming the ssl certificate: HTTPSConnectionPool(host='<secureurl>', port=443): Max retries exceeded with url: /artifactory/api/pypi/pypi/simple/pan-python/ (Caused by SSLError(SSLError(1, u'[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:727)'),)) - skipping\r\n```\r\nThe secure URL works fine via pip.  I had to install several certificates:\r\n```\r\ncurl -sk https://sv3-ldap1.pan.local/ipa/config/ca.crt  > /usr/local/share/ca-certificates/freeIPA.crt\r\n/usr/sbin/update-ca-certificates\r\napt update\r\napt install libssl-dev libldap2-dev libsasl2-dev -y\r\n```\r\n\r\nIs there a way to get the SSL connection to work properly?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/869", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/869/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/869/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/869/events", "html_url": "https://github.com/pantsbuild/pex/issues/869", "id": 557804725, "node_id": "MDU6SXNzdWU1NTc4MDQ3MjU=", "number": 869, "title": "pex not pulling the correct repository", "user": {"login": "jdevilla20", "id": 45016974, "node_id": "MDQ6VXNlcjQ1MDE2OTc0", "avatar_url": "https://avatars2.githubusercontent.com/u/45016974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdevilla20", "html_url": "https://github.com/jdevilla20", "followers_url": "https://api.github.com/users/jdevilla20/followers", "following_url": "https://api.github.com/users/jdevilla20/following{/other_user}", "gists_url": "https://api.github.com/users/jdevilla20/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdevilla20/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdevilla20/subscriptions", "organizations_url": "https://api.github.com/users/jdevilla20/orgs", "repos_url": "https://api.github.com/users/jdevilla20/repos", "events_url": "https://api.github.com/users/jdevilla20/events{/privacy}", "received_events_url": "https://api.github.com/users/jdevilla20/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-30T22:51:39Z", "updated_at": "2020-01-31T02:43:31Z", "closed_at": "2020-01-31T02:43:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to build a pex file comprised of some libraries using a combination of pip and setuptools.  I have recently switched artifactory repositories.\r\n\r\nWhen I modify my pip.conf to use both the old and new repositories, I can download the correct files.\r\n\r\nWhen I run the following:\r\n```\r\n\tvenv/bin/pip install pex==1.6.12 requests\r\n\tvenv/bin/python ./setup.py bdist_pex --pex-args '-v --index-url http://<OLD ARTIFACTORY>'\r\n```\r\nMy pex file contains all of the proper libraries.  However, when I run this:\r\n```\r\n\tvenv/bin/pip install pex==1.6.12 requests\r\n\tvenv/bin/python ./setup.py bdist_pex --pex-args '-v --index-url http://<NEW ARTIFACTORY>'\r\n```\r\nInstead of getting the package I want (proprietary python-devops), I get the one located here: https://pypi.org/project/Python-DevOps (the public one via pypi).  Are there additional pex options I need to set?  As stated above, the package I want is in the new repository, I can get it using pip.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/868", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/868/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/868/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/868/events", "html_url": "https://github.com/pantsbuild/pex/issues/868", "id": 557066918, "node_id": "MDU6SXNzdWU1NTcwNjY5MTg=", "number": 868, "title": "Jinja2 key error on bootstrap", "user": {"login": "jdevilla20", "id": 45016974, "node_id": "MDQ6VXNlcjQ1MDE2OTc0", "avatar_url": "https://avatars2.githubusercontent.com/u/45016974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdevilla20", "html_url": "https://github.com/jdevilla20", "followers_url": "https://api.github.com/users/jdevilla20/followers", "following_url": "https://api.github.com/users/jdevilla20/following{/other_user}", "gists_url": "https://api.github.com/users/jdevilla20/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdevilla20/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdevilla20/subscriptions", "organizations_url": "https://api.github.com/users/jdevilla20/orgs", "repos_url": "https://api.github.com/users/jdevilla20/repos", "events_url": "https://api.github.com/users/jdevilla20/events{/privacy}", "received_events_url": "https://api.github.com/users/jdevilla20/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-29T19:26:04Z", "updated_at": "2020-01-31T02:43:21Z", "closed_at": "2020-01-31T02:43:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI am running pex2.1 on python 2.7.  Upon startup, my script fails.\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/receptorexporter.pex/.bootstrap/pex/pex.py\", line 391, in execute\r\n  File \"/receptorexporter.pex/.bootstrap/pex/pex.py\", line 89, in _activate\r\n  File \"/receptorexporter.pex/.bootstrap/pex/environment.py\", line 232, in activate\r\n  File \"/receptorexporter.pex/.bootstrap/pex/environment.py\", line 386, in _activate\r\n  File \"/receptorexporter.pex/.bootstrap/pex/environment.py\", line 258, in _resolve\r\n  File \"/receptorexporter.pex/.bootstrap/pex/orderedset.py\", line 39, in update\r\n  File \"/receptorexporter.pex/.bootstrap/pex/environment.py\", line 258, in <genexpr>\r\nKeyError: 'Jinja2'\r\n```\r\nLooking at the source code, I can't see an exact cause of error.  I have not made any changes to any of my other libraries.  Do you know what causes this?\r\n\r\nThanks\r\n\r\nJoe", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/867", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/867/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/867/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/867/events", "html_url": "https://github.com/pantsbuild/pex/issues/867", "id": 556698449, "node_id": "MDU6SXNzdWU1NTY2OTg0NDk=", "number": 867, "title": "adding an -r argument appears to cause pex to not use the invoking interpreter (with git-bisect script and result)", "user": {"login": "slyphon", "id": 46660, "node_id": "MDQ6VXNlcjQ2NjYw", "avatar_url": "https://avatars2.githubusercontent.com/u/46660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slyphon", "html_url": "https://github.com/slyphon", "followers_url": "https://api.github.com/users/slyphon/followers", "following_url": "https://api.github.com/users/slyphon/following{/other_user}", "gists_url": "https://api.github.com/users/slyphon/gists{/gist_id}", "starred_url": "https://api.github.com/users/slyphon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slyphon/subscriptions", "organizations_url": "https://api.github.com/users/slyphon/orgs", "repos_url": "https://api.github.com/users/slyphon/repos", "events_url": "https://api.github.com/users/slyphon/events{/privacy}", "received_events_url": "https://api.github.com/users/slyphon/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 357600171, "node_id": "MDU6TGFiZWwzNTc2MDAxNzE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/answered", "name": "answered", "color": "c2e0c6", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-01-29T07:58:55Z", "updated_at": "2020-03-11T17:21:32Z", "closed_at": "2020-03-11T17:21:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've boiled this down to the following test case which reliably reproduces the issue for me.\r\n\r\n```shell\r\n#!/bin/bash\r\n\r\nset -euo pipefail\r\nIFS=$'\\n\\t'\r\n\r\ndie() { echo \"fatal: $*\" >&2; exit 1; }\r\n\r\nTEMP=\"$(mktemp -d 2>/dev/null || mktemp -d -t tempdir)\" || die \"failed to make tmpdir\"\r\ncleanup() { [[ -n \"${TEMP:-}\" ]] && rm -rf \"${TEMP}\"; }\r\ntrap cleanup EXIT\r\n\r\nOUTPUT=\"\"\r\n\r\nTEST_NUM=1\r\nbump_counter() {\r\n  TEST_NUM=$((TEST_NUM + 1))\r\n}\r\n\r\nPEXDIR=\"$(pwd)\"\r\n\r\nassert_output_ok() {\r\n  if [[ \"$OUTPUT\" != \"OK\" ]]; then\r\n    echo \"FAIL! expected OK, got: $OUTPUT\"\r\n    exit 1\r\n  fi\r\n}\r\n\r\nmake_and_run() {\r\n  (\r\n    set -euo pipefail\r\n\r\n    local reqs=f\r\n    if [[ $# -gt 0 && \"$1\" == \"with_requirements\" ]]; then\r\n      reqs=t\r\n    fi\r\n\r\n    local t\r\n    t=\"${TEMP}/${TEST_NUM}\"\r\n    mkdir -p \"${t}\"\r\n    export PEX_ROOT=\"${t}/pexroot\"\r\n    mkdir -p \"${PEX_ROOT}\"\r\n\r\n    export PEX_IGNORE_RCFILES=1\r\n\r\n    cd \"${t}\"\r\n    cat > \"${t}/worked.py\" <<EOS\r\nimport sys\r\ndef main():\r\n  print(\"OK\")\r\n  sys.exit(0)\r\n\r\nif __name__ == '__main__':\r\n  main()\r\nEOS\r\n\r\n    local args\r\n    args=(\r\n      python -m pex\r\n      -o \"${t}/out.pex\"\r\n      -m worked\r\n      -D \"${t}\"\r\n      --disable-cache\r\n    )\r\n\r\n    if [[ \"${reqs}\" == 't' ]]; then\r\n      cat > \"${t}/requirements.txt\" <<EOS\r\n-i https://pypi.org/simple\r\nmore-itertools==8.1.0\r\nEOS\r\n      args+=(-r requirements.txt)\r\n    fi\r\n\r\n    PYTHONPATH=\"$PEXDIR\" \"${args[@]}\" && \"${t}/out.pex\"\r\n  )\r\n}\r\n\r\nOUTPUT=\"$(make_and_run)\" || true\r\nassert_output_ok\r\nbump_counter\r\n\r\nOUTPUT=\"$(make_and_run with_requirements)\" || true\r\nassert_output_ok\r\nbump_counter\r\n```\r\n\r\nThis script is run from the root of the pex repo. Each run attempts to create a reasonably clean environment in a temporary test dir (for each run) by creating a fresh `PEX_ROOT` and disabling caching. It writes out a very minimal test module, creates a pex for it, then executes the pex. The calling process checks the output and asserts it's \"OK\". The first run executes without a `requirements.txt` file and completes successfully (for me), the second run _with_ a `requirements.txt` doesn't.\r\n\r\na git-bisect with the above script:\r\n\r\n```\r\n$ git bisect start master v2.0.0 --\r\n$ git bisect run ../script.sh\r\n```\r\n\r\nSuccessfully completes and points to 31af708a9914f6d0590c88011dd44f4b4a167e4e as the first bad commit:\r\n\r\n```\r\n31af708a9914f6d0590c88011dd44f4b4a167e4e is the first bad commit\r\ncommit 31af708a9914f6d0590c88011dd44f4b4a167e4e\r\nAuthor: John Sirois <john.sirois@gmail.com>\r\nDate:   Fri Dec 13 20:51:46 2019 -0800\r\n\r\n    Fix pex resolution to respect --ignore-errors. (#828)\r\n\r\n    Previously, pip might warn in red that versions were mismatched but\r\n    we would get no failure until pex runtime resolution. Improve pex\r\n    runtime resolution error messages and implement pex buildtime\r\n    resolution sanity checks when --no-ignore-errors.\r\n\r\n:040000 040000 265e6dc6c16c0007cf23d44ed62be7f856e233ed 7293c4f2827a4f9f6c445e82672bf30a31ece56b M      pex\r\n:040000 040000 c0476b9418b5cdc90ffb86c31a90cbe84516f5d8 9c0df1d65db21028bb2602f428d5db299f8c3f41 M      tests\r\nbisect run success\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/866", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/866/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/866/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/866/events", "html_url": "https://github.com/pantsbuild/pex/issues/866", "id": 556643554, "node_id": "MDU6SXNzdWU1NTY2NDM1NTQ=", "number": 866, "title": "PEX_IGNORE_RCFILES=1 doesn't ignore /etc/pexrc", "user": {"login": "slyphon", "id": 46660, "node_id": "MDQ6VXNlcjQ2NjYw", "avatar_url": "https://avatars2.githubusercontent.com/u/46660?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slyphon", "html_url": "https://github.com/slyphon", "followers_url": "https://api.github.com/users/slyphon/followers", "following_url": "https://api.github.com/users/slyphon/following{/other_user}", "gists_url": "https://api.github.com/users/slyphon/gists{/gist_id}", "starred_url": "https://api.github.com/users/slyphon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slyphon/subscriptions", "organizations_url": "https://api.github.com/users/slyphon/orgs", "repos_url": "https://api.github.com/users/slyphon/repos", "events_url": "https://api.github.com/users/slyphon/events{/privacy}", "received_events_url": "https://api.github.com/users/slyphon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-29T05:20:00Z", "updated_at": "2020-01-29T07:09:24Z", "closed_at": "2020-01-29T07:09:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following applies to master at 70d810045be9270cd9ab0e30916b2380a9da04f2\r\n\r\nAt some point in the run, a component of pex is not respecting the `PEX_IGNORE_RCFILES` environment variable. I was able to confirm that it makes it into the `ENV` in `pex.py`, but couldn't trace the issue much past there. Thankfully the repro case is fairly straightforward.\r\n\r\n```shell\r\n# enable pyenv\r\n;github.com/pex [master] \u00bb s-pyenv\r\n;github.com/pex [master] \u00bb pyenv shell 3.7.5\r\n\r\n# create a venv just to show the base python installation is clean\r\n;github.com/pex [master] \u00bb python -m venv .venv\r\n;github.com/pex [master] \u00bb . .venv/bin/activate\r\n;github.com/pex [master] \u00bb pip list\r\nPackage    Version\r\n---------- -------\r\npip        19.2.3\r\nsetuptools 41.2.0\r\n\r\n# move pexrc out of the way\r\n;github.com/pex [master] \u00bb [[ -f /etc/pexrc ]] && sudo mv /etc/pexrc /etc/pexrc.demo\r\n\r\n# simple interactive pex session works\r\n;github.com/pex [master] \u00bb python -m pex requests\r\nPython 3.7.5 (default, Dec 21 2019, 13:55:37)\r\n[Clang 11.0.0 (clang-1100.0.33.16)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n(InteractiveConsole)\r\n>>> import requests\r\n>>>\r\nnow exiting InteractiveConsole...\r\n\r\n# ok, now we add a pexrc with garbage content\r\n#\r\n;github.com/pex [master] \u00bb printf \"PEX_PYTHON_PATH=/path/to/nothing\\nPEX_PYTHON=/ok/boomer\\n\"|sudo tee -a /etc/pexrc\r\nPEX_PYTHON_PATH=/path/to/nothing\r\nPEX_PYTHON=/ok/boomer\r\n;github.com/pex [master] \u00bb cat /etc/pexrc\r\nPEX_PYTHON_PATH=/path/to/nothing\r\nPEX_PYTHON=/ok/boomer\r\n\r\n# this should fail\r\n#\r\n;github.com/pex [master] \u00bb python -m pex requests\r\nFailed to find compatible interpreter on path /path/to/nothing for constraints: []\r\npid: 21127 -> /Users/jsimms/opt/pyenv/versions/3.7.5/bin/python3.7 /var/folders/j7/hv7fd5kx1mqdpsc9sdx263kh0000gn/T/tmpw020yqul --disable-pip-version-check --isolated --exists-action i -q --cache-dir /Users/jsimms/.pex download --dest /var/folders/j7/hv7fd5kx1mqdpsc9sdx263kh0000gn/T/tmpoq2cb8ka/resolved_dists/cp37-cp37m requests raised Executing /Users/jsimms/opt/pyenv/versions/3.7.5/bin/python3.7 /var/folders/j7/hv7fd5kx1mqdpsc9sdx263kh0000gn/T/tmpw020yqul --disable-pip-version-check --isolated --exists-action i -q --cache-dir /Users/jsimms/.pex download --dest /var/folders/j7/hv7fd5kx1mqdpsc9sdx263kh0000gn/T/tmpoq2cb8ka/resolved_dists/cp37-cp37m requests failed with 1\r\n\r\n# ok now try with PEX_IGNORE_RCFILES=1\r\n# which should work, as it should ignore the garbage in /etc/pexrc\r\n#\r\n;github.com/pex [master] \u00bb PEX_IGNORE_RCFILES=1 python -m pex requests\r\nFailed to find compatible interpreter on path /path/to/nothing for constraints: []\r\npid: 21215 -> /Users/jsimms/opt/pyenv/versions/3.7.5/bin/python3.7 /var/folders/j7/hv7fd5kx1mqdpsc9sdx263kh0000gn/T/tmpcpuh5oml --disable-pip-version-check --isolated --exists-action i -q --cache-dir /Users/jsimms/.pex download --dest /var/folders/j7/hv7fd5kx1mqdpsc9sdx263kh0000gn/T/tmpl5wwkduq/resolved_dists/cp37-cp37m requests raised Executing /Users/jsimms/opt/pyenv/versions/3.7.5/bin/python3.7 /var/folders/j7/hv7fd5kx1mqdpsc9sdx263kh0000gn/T/tmpcpuh5oml --disable-pip-version-check --isolated --exists-action i -q --cache-dir /Users/jsimms/.pex download --dest /var/folders/j7/hv7fd5kx1mqdpsc9sdx263kh0000gn/T/tmpl5wwkduq/resolved_dists/cp37-cp37m requests failed with 1\r\n\r\n```\r\n\r\nUnless I misunderstand the purpose of `PEX_IGNORE_RCFILES=1` this behavior seems like a bug.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/864", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/864/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/864/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/864/events", "html_url": "https://github.com/pantsbuild/pex/issues/864", "id": 555610235, "node_id": "MDU6SXNzdWU1NTU2MTAyMzU=", "number": 864, "title": "--index-url option is not passed to the build step in PEX", "user": {"login": "Djailla", "id": 576608, "node_id": "MDQ6VXNlcjU3NjYwOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/576608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Djailla", "html_url": "https://github.com/Djailla", "followers_url": "https://api.github.com/users/Djailla/followers", "following_url": "https://api.github.com/users/Djailla/following{/other_user}", "gists_url": "https://api.github.com/users/Djailla/gists{/gist_id}", "starred_url": "https://api.github.com/users/Djailla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Djailla/subscriptions", "organizations_url": "https://api.github.com/users/Djailla/orgs", "repos_url": "https://api.github.com/users/Djailla/repos", "events_url": "https://api.github.com/users/Djailla/events{/privacy}", "received_events_url": "https://api.github.com/users/Djailla/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-27T14:27:02Z", "updated_at": "2020-02-08T22:28:57Z", "closed_at": "2020-02-08T22:28:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello\r\n\r\nWith pex 2.1.0, I have an issue when trying to package an app with dependencies using an external PyPi server.\r\n\r\nThe options used in the commande line is not passed to pip in the end leading to an error.\r\n\r\nHere is an example :\r\n\r\nInput command :\r\n\r\n`pex . -e rackconf.marathon.run:main -o dist/rackconf --validate-entry-point --not-zip-safe --compile --index=http://build-nexus.crto.in/repository/pypi/simple`\r\n\r\nOutput is :\r\n\r\n```\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /private/tmp/.tox-build-current/unknown/bundle/bin/python3.6 /private/var/folders/5m/kdmz6msd16x_xldyfj7z4s98pk9plw/T/tmp54pb4o_4/.deps/pip/pip install --ignore-installed --no-user --prefix /private/var/folders/5m/kdmz6msd16x_xldyfj7z4s98pk9plw/T/pip-build-env-i_ko8iix/normal --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- 'numpy>=1.18,<2.0' 'openpyxl>=3.0,<4.0' 'PICOS>=1.2,<2.0' 'django-cors-headers>=3.2,<4.0' 'django-bootstrap4>=1.1,<2.0' 'PuLP>=2.0,<3.0' 'pandas>=0.25.3,<0.26.0' 'docopt>=0.6.2,<0.7.0' 'django-mesos-criteo>=1.0,<2.0' 'django-extensions>=2.2,<3.0' 'sentry-sdk>=0.14.1,<0.15.0' 'pymysql>=0.9.3,<0.10.0' 'progressbar2>=3.47,<4.0' 'whitenoise>=5.0,<6.0'\r\n       cwd: None\r\n  Complete output (17 lines):\r\n  Collecting numpy<2.0,>=1.18\r\n    Using cached numpy-1.18.1-cp36-cp36m-macosx_10_9_x86_64.whl (15.2 MB)\r\n  Processing /Users/b.vallet/Library/Caches/pip/wheels/a2/97/2a/d5e43384faa87a34b198b8d75e03e7130e70321ea446f98703/openpyxl-3.0.3-py2.py3-none-any.whl\r\n  Processing /Users/b.vallet/Library/Caches/pip/wheels/e2/1f/e0/6a4ba65c75c958043bc14c52e997623d7ca4d9cdeb6b3e9bad/PICOS-1.2.0.post35-py3-none-any.whl\r\n  Collecting django-cors-headers<4.0,>=3.2\r\n    Using cached django_cors_headers-3.2.1-py3-none-any.whl (14 kB)\r\n  Collecting django-bootstrap4<2.0,>=1.1\r\n    Using cached django_bootstrap4-1.1.1-py3-none-any.whl (26 kB)\r\n  Collecting PuLP<3.0,>=2.0\r\n    Using cached PuLP-2.0-py3-none-any.whl (39.2 MB)\r\n  Collecting pandas<0.26.0,>=0.25.3\r\n    Using cached pandas-0.25.3-cp36-cp36m-macosx_10_9_x86_64.whl (10.4 MB)\r\n  Processing /Users/b.vallet/Library/Caches/pip/wheels/9b/04/dd/7daf4150b6d9b12949298737de9431a324d4b797ffd63f526e/docopt-0.6.2-py2.py3-none-any.whl\r\n  ERROR: Could not find a version that satisfies the requirement django-mesos-criteo<2.0,>=1.0 (from versions: none)\r\n  ERROR: No matching distribution found for django-mesos-criteo<2.0,>=1.0\r\n  WARNING: You are using pip version 20.0.dev0; however, version 20.0.2 is available.\r\n  You should consider upgrading via the 'pip install --upgrade pip' command.\r\n  ----------------------------------------\r\nERROR: Command errored out with exit status 1: /private/tmp/.tox-build-current/unknown/bundle/bin/python3.6 /private/var/folders/5m/kdmz6msd16x_xldyfj7z4s98pk9plw/T/tmp54pb4o_4/.deps/pip/pip install --ignore-installed --no-user --prefix /private/var/folders/5m/kdmz6msd16x_xldyfj7z4s98pk9plw/T/pip-build-env-i_ko8iix/normal --no-warn-script-location --no-binary :none: --only-binary :none: -i https://pypi.org/simple -- 'numpy>=1.18,<2.0' 'openpyxl>=3.0,<4.0' 'PICOS>=1.2,<2.0' 'django-cors-headers>=3.2,<4.0' 'django-bootstrap4>=1.1,<2.0' 'PuLP>=2.0,<3.0' 'pandas>=0.25.3,<0.26.0' 'docopt>=0.6.2,<0.7.0' 'django-mesos-criteo>=1.0,<2.0' 'django-extensions>=2.2,<3.0' 'sentry-sdk>=0.14.1,<0.15.0' 'pymysql>=0.9.3,<0.10.0' 'progressbar2>=3.47,<4.0' 'whitenoise>=5.0,<6.0' Check the logs for full command output.\r\nTraceback (most recent call last):\r\n  File \"/private/tmp/.tox-build-current/unknown/bundle/bin/pex\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/private/tmp/.tox-build-current/unknown/bundle/lib/python3.6/site-packages/pex/bin/pex.py\", line 662, in main\r\n    pex_builder = build_pex(reqs, options)\r\n  File \"/private/tmp/.tox-build-current/unknown/bundle/lib/python3.6/site-packages/pex/bin/pex.py\", line 594, in build_pex\r\n    ignore_errors=options.ignore_errors)\r\n  File \"/private/tmp/.tox-build-current/unknown/bundle/lib/python3.6/site-packages/pex/resolver.py\", line 778, in resolve_multi\r\n    return list(resolve_request.resolve_distributions(ignore_errors=ignore_errors))\r\n  File \"/private/tmp/.tox-build-current/unknown/bundle/lib/python3.6/site-packages/pex/resolver.py\", line 511, in resolve_distributions\r\n    raise_type=Untranslateable):\r\n  File \"/private/tmp/.tox-build-current/unknown/bundle/lib/python3.6/site-packages/pex/resolver.py\", line 363, in _run_parallel\r\n    for result in execute_parallel(self._max_parallel_jobs, inputs, spawn_func, raise_type):\r\n  File \"/private/tmp/.tox-build-current/unknown/bundle/lib/python3.6/site-packages/pex/jobs.py\", line 228, in execute_parallel\r\n    raise error\r\npex.resolver.Untranslateable: pid: 269 -> /private/tmp/.tox-build-current/unknown/bundle/bin/python3.6 /var/folders/5m/kdmz6msd16x_xldyfj7z4s98pk9plw/T/tmp54pb4o_4 --disable-pip-version-check --isolated --exists-action i -q --cache-dir /Users/b.vallet/.pex wheel --no-deps --wheel-dir /Users/b.vallet/.pex/built_wheels/local_projects/./45bd628349414968de9d3b108c2119790fe98685/cp36-cp36m.01d147a376df42a39fd467fc9a29bc62 /Users/b.vallet/Workspace/python-projects/rackconf/. raised Executing /private/tmp/.tox-build-current/unknown/bundle/bin/python3.6 /var/folders/5m/kdmz6msd16x_xldyfj7z4s98pk9plw/T/tmp54pb4o_4 --disable-pip-version-check --isolated --exists-action i -q --cache-dir /Users/b.vallet/.pex wheel --no-deps --wheel-dir /Users/b.vallet/.pex/built_wheels/local_projects/./45bd628349414968de9d3b108c2119790fe98685/cp36-cp36m.01d147a376df42a39fd467fc9a29bc62 /Users/b.vallet/Workspace/python-projects/rackconf/. failed with 1\r\nERROR: InvocationError for command /private/tmp/.tox-build-current/unknown/bundle/bin/poetry run pex . -e rackconf.marathon.run:main -o dist/rackconf --validate-entry-point --not-zip-safe --compile --index=http://build-nexus.crto.in/repository/pypi/simple (exited with code 1)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/857", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/857/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/857/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/857/events", "html_url": "https://github.com/pantsbuild/pex/issues/857", "id": 553707050, "node_id": "MDU6SXNzdWU1NTM3MDcwNTA=", "number": 857, "title": "Release 2.1.1", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-01-22T18:08:08Z", "updated_at": "2020-02-09T23:39:32Z", "closed_at": "2020-02-09T23:39:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] PEX 2.1.0 regression: pex file won't build inside a running docker image as user #850\r\n+ [x] Fully pin vendored requirements. #853\r\n+ [x] Fix `tox -epackage` to create pex supporting 3.8. #843\r\n+ [x] Pex erroneously warns about needing to use vendored `pkg_resources` for distributions with empty `namespace_packages.txt` metadata files. #840\r\n+ [x] Interpreter discovery and pyenv don't interact well #782\r\n+ [x] ensure_python_interpreter() bootstrapping broken on pypy shard #477\r\n+ [x] Resolve error checking does not account for environment markers. #851\r\n+ [x] Ensure Pex PEX contraints match pex wheel / sdist. #863\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/853", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/853/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/853/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/853/events", "html_url": "https://github.com/pantsbuild/pex/issues/853", "id": 553141886, "node_id": "MDU6SXNzdWU1NTMxNDE4ODY=", "number": 853, "title": "Fully pin vendored requirements.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-01-21T21:30:46Z", "updated_at": "2020-01-22T00:00:15Z", "closed_at": "2020-01-21T23:59:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "With the introduction of the `packaging` vendored distribution in #831 pex took on its 1st vendored distribution with transitive requirements. Those requirements are not pinned and so re-vendoring over time is not stable. @bradhowes hit this in #852 (https://travis-ci.org/pantsbuild/pex/jobs/640044039#L230) since six released 1.14.0 on January 15th: https://pypi.org/project/six/#history.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/851", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/851/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/851/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/851/events", "html_url": "https://github.com/pantsbuild/pex/issues/851", "id": 551703239, "node_id": "MDU6SXNzdWU1NTE3MDMyMzk=", "number": 851, "title": "Resolve error checking does not account for environment markers.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-01-18T01:38:59Z", "updated_at": "2020-01-25T02:45:08Z", "closed_at": "2020-01-25T02:44:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#828 introduced build-time detection of resolution errors but this new facility can trip erroneously when environment markers are in-play. For example, as discovered upgrading Pants to Pex 2.1.0 in https://github.com/pantsbuild/pants/pull/8881:\r\n```\r\n$ python2 -mpex --disable-cache --interpreter-constraint \"CPython==3.6.*\" pytest pytest-cov pytest-rerunfailures pytest-timeout setuptools==44.0.0\r\nFailed to resolve compatible distributions:\r\n1: importlib-metadata==1.4.0 requires configparser>=3.5; python_version < \"3\" but None was resolved\r\n2: importlib-metadata==1.4.0 requires contextlib2; python_version < \"3\" but None was resolved\r\n3: importlib-metadata==1.4.0 requires pathlib2; python_version < \"3\" but None was resolved\r\n4: pytest==5.3.3 requires pathlib2>=2.2.0; python_version < \"3.6\" but None was resolved\r\n```\r\n\r\nHere it is correct to not resolve any of the 4 mentioned items since they all only apply for python <3.6 whereas the pex is being built for 3.6.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/850", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/850/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/850/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/850/events", "html_url": "https://github.com/pantsbuild/pex/issues/850", "id": 551505300, "node_id": "MDU6SXNzdWU1NTE1MDUzMDA=", "number": 850, "title": "PEX 2.1.0 regression: pex file won't build inside a running docker image as user", "user": {"login": "struegamer", "id": 677433, "node_id": "MDQ6VXNlcjY3NzQzMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/677433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/struegamer", "html_url": "https://github.com/struegamer", "followers_url": "https://api.github.com/users/struegamer/followers", "following_url": "https://api.github.com/users/struegamer/following{/other_user}", "gists_url": "https://api.github.com/users/struegamer/gists{/gist_id}", "starred_url": "https://api.github.com/users/struegamer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/struegamer/subscriptions", "organizations_url": "https://api.github.com/users/struegamer/orgs", "repos_url": "https://api.github.com/users/struegamer/repos", "events_url": "https://api.github.com/users/struegamer/events{/privacy}", "received_events_url": "https://api.github.com/users/struegamer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-01-17T16:16:05Z", "updated_at": "2020-01-22T00:00:46Z", "closed_at": "2020-01-22T00:00:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Good Day,\r\n\r\nfirst of all, thanks for your good work on `pex`, we use it in our daily work, and it's a great tool to deliver single file python app distributions.\r\n\r\nSadly, when updating our build images, we encountered a new issue with pex 2.1.0 release.\r\n\r\nGiven this `Dockerfile`:\r\n\r\n```\r\nFROM ubuntu:18.04\r\n\r\nARG user=jenkins\r\nARG group=jenkins\r\nARG uid=10000\r\nARG gid=10000\r\nARG AGENT_WORKDIR=/home/${user}/agent\r\n\r\nENV HOME /home/${user}\r\nENV AGENT_WORKDIR=${AGENT_WORKDIR}\r\n\r\nRUN apt -y update && \\\r\n  apt -y --no-install-recommends install python3 python3-pip python3-distutils \\\r\n    python3-distutils-extra python3-venv git \\\r\n    python3-setuptools python3-requests \\\r\n    openssh-client build-essential libpython3-dev && \\\r\n    pip3 install pex && \\\r\n    groupadd -g ${gid} ${group} && useradd -c \"Jenkins user\" -d /home/${user} -u ${uid} -g ${gid} -m ${user} && \\\r\n    mkdir /home/${user}/.jenkins && mkdir -p ${AGENT_WORKDIR} && chown -R ${uid}:${gid} /home/${user}\r\n\r\nVOLUME /home/${user}/.jenkins\r\nVOLUME ${AGENT_WORKDIR}\r\n```\r\nyou can create a stripped down build image, as we are running in our environment, i.e. \r\n\r\n```\r\ndocker build -t py-pex-test:foo .\r\n```\r\n\r\nNow, when created, execute the image like this:\r\n\r\n```\r\ndocker run -ti -u jenkins py-pex-test:foo bash\r\n```\r\n\r\nand inside the running image execute `pex` like this:\r\n\r\n```\r\npex -vvv --disable-cache -o black.pex -c black black\r\n```\r\n\r\nNow you will see the following error message:\r\n\r\n```\r\njenkins@b922415fef8e:/$ pex -vvv --disable-cache -o black -c black black\r\npex: Building pex :: Resolving distributions (['black']) :: Resolving for:\r\nTraceback (most recent call last):ex to /home/jenkins/.pex/isolated/0edff9f980790256c0e238e65ccca12cffa9085b\r\n  File \"/usr/local/bin/pex\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/bin/pex.py\", line 662, in main\r\n    pex_builder = build_pex(reqs, options)\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/bin/pex.py\", line 594, in build_pex\r\n    ignore_errors=options.ignore_errors)\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/resolver.py\", line 778, in resolve_multi\r\n    return list(resolve_request.resolve_distributions(ignore_errors=ignore_errors))\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/resolver.py\", line 490, in resolve_distributions\r\n    raise_type=Unsatisfiable):\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/resolver.py\", line 363, in _run_parallel\r\n    for result in execute_parallel(self._max_parallel_jobs, inputs, spawn_func, raise_type):\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/jobs.py\", line 228, in execute_parallel\r\n    raise error\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/jobs.py\", line 211, in spawn_jobs\r\n    resut = spawn_func(item)\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/resolver.py\", line 368, in _spawn_resolve\r\n    download_job = get_pip().spawn_download_distributions(\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/pip.py\", line 243, in get_pip\r\n    _PIP = Pip.create()\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/pip.py\", line 29, in create\r\n    isolated_pip_environment = third_party.pkg_resources.Environment(search_path=pythonpath)\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/vendor/_vendored/setuptools/pkg_resources/__init__.py\", line 1016, in __init__\r\n    self.scan(search_path)\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/vendor/_vendored/setuptools/pkg_resources/__init__.py\", line 1047, in scan\r\n    for item in search_path:\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/third_party/__init__.py\", line 436, in expose\r\n    for path in VendorImporter.expose(dists, root=isolated()):\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/third_party/__init__.py\", line 358, in isolated\r\n    safe_copy(os.path.join(root, f), os.path.join(chroot, 'pex', relroot, f))\r\n  File \"/usr/local/lib/python3.6/dist-packages/pex/common.py\", line 44, in safe_copy\r\n    os.link(source, dest)\r\nPermissionError: [Errno 1] Operation not permitted: '/usr/local/lib/python3.6/dist-packages/pex/pex_info.py' -> '/home/jenkins/.pex/isolated/0edff9f980790256c0e238e65ccca12cffa9085b.a62d3de2cec04d3683f8178794351eba/pex/./pex_info.py'\r\n```\r\n\r\nI can reproduce this everywhere.\r\n\r\nYou don't see this happening when running inside the image as default `root` user.\r\n\r\nThe path `$HOME/.pex/isolated` was created automatically, but the directory `<hash>` was not. \r\n\r\nThis is a regression from `pex` 2.0.3, where all this worked nicely.\r\n\r\nAny ideas how to workaround this?\r\n\r\nThanks for your help, and keep up the good work.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/848", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/848/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/848/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/848/events", "html_url": "https://github.com/pantsbuild/pex/issues/848", "id": 545859979, "node_id": "MDU6SXNzdWU1NDU4NTk5Nzk=", "number": 848, "title": "Logically dead code in requests auth.py", "user": {"login": "huornlmj", "id": 28444739, "node_id": "MDQ6VXNlcjI4NDQ0NzM5", "avatar_url": "https://avatars3.githubusercontent.com/u/28444739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huornlmj", "html_url": "https://github.com/huornlmj", "followers_url": "https://api.github.com/users/huornlmj/followers", "following_url": "https://api.github.com/users/huornlmj/following{/other_user}", "gists_url": "https://api.github.com/users/huornlmj/gists{/gist_id}", "starred_url": "https://api.github.com/users/huornlmj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huornlmj/subscriptions", "organizations_url": "https://api.github.com/users/huornlmj/orgs", "repos_url": "https://api.github.com/users/huornlmj/repos", "events_url": "https://api.github.com/users/huornlmj/events{/privacy}", "received_events_url": "https://api.github.com/users/huornlmj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-06T18:03:36Z", "updated_at": "2020-01-07T03:42:01Z", "closed_at": "2020-01-07T03:42:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/pantsbuild/pex/blob/a2b6d0a645824e5ed20e422f34482b60e0e7cdd6/pex/vendor/_vendored/pip/pip/_vendor/requests/auth.py#L223\r\n\r\nLine 175, `entdig = None`\r\nLine 222, `if entdig:` cannot be true\r\nLine 223 is never reached", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/847", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/847/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/847/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/847/events", "html_url": "https://github.com/pantsbuild/pex/issues/847", "id": 545854511, "node_id": "MDU6SXNzdWU1NDU4NTQ1MTE=", "number": 847, "title": "Logically dead code in requirements.py L107", "user": {"login": "huornlmj", "id": 28444739, "node_id": "MDQ6VXNlcjI4NDQ0NzM5", "avatar_url": "https://avatars3.githubusercontent.com/u/28444739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huornlmj", "html_url": "https://github.com/huornlmj", "followers_url": "https://api.github.com/users/huornlmj/followers", "following_url": "https://api.github.com/users/huornlmj/following{/other_user}", "gists_url": "https://api.github.com/users/huornlmj/gists{/gist_id}", "starred_url": "https://api.github.com/users/huornlmj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huornlmj/subscriptions", "organizations_url": "https://api.github.com/users/huornlmj/orgs", "repos_url": "https://api.github.com/users/huornlmj/repos", "events_url": "https://api.github.com/users/huornlmj/events{/privacy}", "received_events_url": "https://api.github.com/users/huornlmj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-06T17:50:50Z", "updated_at": "2020-01-07T03:41:56Z", "closed_at": "2020-01-07T03:41:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/pantsbuild/pex/blob/a2b6d0a645824e5ed20e422f34482b60e0e7cdd6/pex/vendor/_vendored/pip/pip/_vendor/packaging/requirements.py#L107\r\n\r\nAt line 108, `parsed_url.scheme` must be true.\r\nExecution cannot reach the expression `parsed_url.netloc` inside the statement on line 108, because the condition `not (parsed_url.scheme `cannot be true.\r\n\r\nSame occurs in /pex/vendor/_vendored/setuptools/setuptools/_vendor/packaging/requirements.py line 123", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/846", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/846/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/846/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/846/events", "html_url": "https://github.com/pantsbuild/pex/issues/846", "id": 545845037, "node_id": "MDU6SXNzdWU1NDU4NDUwMzc=", "number": 846, "title": "Structurally dead code but no stubbing comment", "user": {"login": "huornlmj", "id": 28444739, "node_id": "MDQ6VXNlcjI4NDQ0NzM5", "avatar_url": "https://avatars3.githubusercontent.com/u/28444739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huornlmj", "html_url": "https://github.com/huornlmj", "followers_url": "https://api.github.com/users/huornlmj/followers", "following_url": "https://api.github.com/users/huornlmj/following{/other_user}", "gists_url": "https://api.github.com/users/huornlmj/gists{/gist_id}", "starred_url": "https://api.github.com/users/huornlmj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huornlmj/subscriptions", "organizations_url": "https://api.github.com/users/huornlmj/orgs", "repos_url": "https://api.github.com/users/huornlmj/repos", "events_url": "https://api.github.com/users/huornlmj/events{/privacy}", "received_events_url": "https://api.github.com/users/huornlmj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-06T17:28:28Z", "updated_at": "2020-01-07T03:41:53Z", "closed_at": "2020-01-07T03:41:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/pantsbuild/pex/blob/a2b6d0a645824e5ed20e422f34482b60e0e7cdd6/pex/vendor/_vendored/setuptools/setuptools/_vendor/pyparsing.py#L650\r\n\r\nThis cannot be reached but there is no stubbing comment like similar instances in the same file (e.g. line 4203).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/845", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/845/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/845/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/845/events", "html_url": "https://github.com/pantsbuild/pex/issues/845", "id": 545838870, "node_id": "MDU6SXNzdWU1NDU4Mzg4NzA=", "number": 845, "title": "Attribute/item access or function call before check for None or undefined", "user": {"login": "huornlmj", "id": 28444739, "node_id": "MDQ6VXNlcjI4NDQ0NzM5", "avatar_url": "https://avatars3.githubusercontent.com/u/28444739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huornlmj", "html_url": "https://github.com/huornlmj", "followers_url": "https://api.github.com/users/huornlmj/followers", "following_url": "https://api.github.com/users/huornlmj/following{/other_user}", "gists_url": "https://api.github.com/users/huornlmj/gists{/gist_id}", "starred_url": "https://api.github.com/users/huornlmj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huornlmj/subscriptions", "organizations_url": "https://api.github.com/users/huornlmj/orgs", "repos_url": "https://api.github.com/users/huornlmj/repos", "events_url": "https://api.github.com/users/huornlmj/events{/privacy}", "received_events_url": "https://api.github.com/users/huornlmj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-06T17:14:18Z", "updated_at": "2020-01-07T03:41:49Z", "closed_at": "2020-01-07T03:41:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/pantsbuild/pex/blob/a2b6d0a645824e5ed20e422f34482b60e0e7cdd6/pex/vendor/_vendored/wheel/wheel/cli/convert.py#L67\r\n\r\nNull-checking egg_info[\"arch\"] suggests that it may be null, but it has already been dereferenced (line 62) on all paths leading to the check.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/844", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/844/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/844/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/844/events", "html_url": "https://github.com/pantsbuild/pex/issues/844", "id": 545820178, "node_id": "MDU6SXNzdWU1NDU4MjAxNzg=", "number": 844, "title": "Possible code copy / paste error", "user": {"login": "huornlmj", "id": 28444739, "node_id": "MDQ6VXNlcjI4NDQ0NzM5", "avatar_url": "https://avatars3.githubusercontent.com/u/28444739?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huornlmj", "html_url": "https://github.com/huornlmj", "followers_url": "https://api.github.com/users/huornlmj/followers", "following_url": "https://api.github.com/users/huornlmj/following{/other_user}", "gists_url": "https://api.github.com/users/huornlmj/gists{/gist_id}", "starred_url": "https://api.github.com/users/huornlmj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huornlmj/subscriptions", "organizations_url": "https://api.github.com/users/huornlmj/orgs", "repos_url": "https://api.github.com/users/huornlmj/repos", "events_url": "https://api.github.com/users/huornlmj/events{/privacy}", "received_events_url": "https://api.github.com/users/huornlmj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-06T16:35:28Z", "updated_at": "2020-01-07T03:41:23Z", "closed_at": "2020-01-07T03:41:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/pantsbuild/pex/blob/a2b6d0a645824e5ed20e422f34482b60e0e7cdd6/pex/vendor/_vendored/setuptools/setuptools/glob.py#L56\r\n\r\nThe outcomes of the if / else logic in _iglob both \"yield pathname\".  Should the 'else not \"yield dirname\" instead?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/840", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/840/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/840/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/840/events", "html_url": "https://github.com/pantsbuild/pex/issues/840", "id": 545481380, "node_id": "MDU6SXNzdWU1NDU0ODEzODA=", "number": 840, "title": "Pex erroneously warns about needing to use vendored `pkg_resources` for distributions with empty `namespace_packages.txt` metadata files.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-01-05T23:21:44Z", "updated_at": "2020-01-05T23:46:38Z", "closed_at": "2020-01-05T23:46:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As reported by @Eric-Arellano.\r\n\r\nFor example:\r\n```\r\n$ pex --version\r\npex 2.1.0\r\n$ pex pycodestyle==2.5.0\r\n/tmp/tmpwizaf8e_/.bootstrap/pex/environment.py:356: PEXWarning: The `pkg_resources` package was loaded from a pex vendored version when declaring namespace packages defined by odict_keys([pycodestyle 2.5.0 (/tmp/tmpwizaf8e_/.deps/pycodestyle-2.5.0-py2.py3-none-any.whl)]). These distributions should fix their `install_requires` to include `setuptools`\r\n  pex_warnings.warn('The `pkg_resources` package was loaded from a pex vendored version when '\r\nPython 3.8.1 (default, Dec 21 2019, 20:57:38) \r\n[GCC 9.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n(InteractiveConsole)\r\n>>> \r\n```\r\n\r\nBut pycodestyle doesn't actually declare any namespace packages: https://github.com/PyCQA/pycodestyle/blob/2.5.0/setup.py#L34\r\n```\r\n$ curl -sSL https://files.pythonhosted.org/packages/0e/0c/04a353e104d2f324f8ee5f4b32012618c1c86dd79e52a433b64fceed511b/pycodestyle-2.5.0-py2.py3-none-any.whl -O\r\n$ unzip -qc pycodestyle-2.5.0-py2.py3-none-any.whl pycodestyle-2.5.0.dist-info/namespace_packages.txt\r\n\r\n$\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/837", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/837/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/837/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/837/events", "html_url": "https://github.com/pantsbuild/pex/issues/837", "id": 543271252, "node_id": "MDU6SXNzdWU1NDMyNzEyNTI=", "number": 837, "title": "Release 2.1.0", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-12-28T19:24:55Z", "updated_at": "2019-12-28T19:49:57Z", "closed_at": "2019-12-28T19:41:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n\r\nThe prime motivator:\r\n+ [x] Pex does not download foreign abi3 wheels correctly #823\r\n\r\nChanges to support the above as well as others:\r\n+ [x] Fix pex resolving for foreign platforms. #835  \r\n+ [x] Use pypa/packaging. #831\r\n+ [x] Upgrade vendored setuptools to 42.0.2. #832\r\n+ [x] De-vendor pex just once per version. #833\r\n+ [x] Support VCS urls for vendoring. #834\r\n+ [x] Support python 3.8 in CI. #829\r\n+ [x] Fix pex resolution to respect --ignore-errors. #828\r\n+ [x] Kill `pkg_resources` finders monkey-patching. #827\r\n+ [x] Use flit to distribute pex. #826\r\n+ [x] Cleanup extras_require. #825\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/823", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/823/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/823/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/823/events", "html_url": "https://github.com/pantsbuild/pex/issues/823", "id": 535882604, "node_id": "MDU6SXNzdWU1MzU4ODI2MDQ=", "number": 823, "title": "Pex does not download foreign abi3 wheels correctly", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-12-10T17:39:13Z", "updated_at": "2019-12-28T19:21:41Z", "closed_at": "2019-12-28T17:56:37Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "A similar looking issue was encountered in #539 and fixed in #692, although that was for the Pex runtime resolve case; i.e.: resolving wheels stored inside the PEX at runtime. With the switch from the pex resolver to pip, we have a similar issue for downloads of foreign platforms. In particular, passing pip an explicit foreign platform, say: `--platform macosx_10_11_x86_64 --implementation cp --python-version 36 --abi cp36m`, we get the following calculation of supported tags:\r\n```\r\n$ PYTHONPATH=$PWD/pex/vendor/_vendored/pip python -mpip -vvv --disable-pip-version-check --isolated --exists-action i --no-cache-dir download --dest /tmp/tmp7991z44v/resolved_dists/macosx_10_11_x86_64-cp-36-cp36m --no-index --find-links /home/jsirois/dev/pantsbuild/pants/dist/deploy/wheels/pantsbuild.pants/879df20df1df1b9cf16e29cb4a2836f4831f23d9/1.24.0.dev1+git879df20d --find-links /home/jsirois/dev/pantsbuild/pants/dist/deploy/wheels/3rdparty/879df20df1df1b9cf16e29cb4a2836f4831f23d9/1.24.0.dev1+git879df20d --platform macosx_10_11_x86_64 --implementation cp --python-version 36 --abi cp36m --only-binary :all: cryptography>=1.9\r\n>>> calculating supported for versions=36, noarch=False, platform=macosx_10_11_x86_64, impl=cp, abi=cp36m:...\r\n\r\n\t('cp36', 'cp36m', 'macosx_10_11_x86_64')\r\n\t('cp36', 'cp36m', 'macosx_10_11_intel')\r\n\t('cp36', 'cp36m', 'macosx_10_11_fat64')\r\n\t('cp36', 'cp36m', 'macosx_10_11_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_11_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_10_x86_64')\r\n\t('cp36', 'cp36m', 'macosx_10_10_intel')\r\n\t('cp36', 'cp36m', 'macosx_10_10_fat64')\r\n\t('cp36', 'cp36m', 'macosx_10_10_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_10_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_9_x86_64')\r\n\t('cp36', 'cp36m', 'macosx_10_9_intel')\r\n\t('cp36', 'cp36m', 'macosx_10_9_fat64')\r\n\t('cp36', 'cp36m', 'macosx_10_9_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_9_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_8_x86_64')\r\n\t('cp36', 'cp36m', 'macosx_10_8_intel')\r\n\t('cp36', 'cp36m', 'macosx_10_8_fat64')\r\n\t('cp36', 'cp36m', 'macosx_10_8_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_8_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_7_x86_64')\r\n\t('cp36', 'cp36m', 'macosx_10_7_intel')\r\n\t('cp36', 'cp36m', 'macosx_10_7_fat64')\r\n\t('cp36', 'cp36m', 'macosx_10_7_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_7_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_6_x86_64')\r\n\t('cp36', 'cp36m', 'macosx_10_6_intel')\r\n\t('cp36', 'cp36m', 'macosx_10_6_fat64')\r\n\t('cp36', 'cp36m', 'macosx_10_6_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_6_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_5_x86_64')\r\n\t('cp36', 'cp36m', 'macosx_10_5_intel')\r\n\t('cp36', 'cp36m', 'macosx_10_5_fat64')\r\n\t('cp36', 'cp36m', 'macosx_10_5_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_5_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_4_intel')\r\n\t('cp36', 'cp36m', 'macosx_10_4_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_4_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_3_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_3_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_2_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_2_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_1_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_1_universal')\r\n\t('cp36', 'cp36m', 'macosx_10_0_fat32')\r\n\t('cp36', 'cp36m', 'macosx_10_0_universal')\r\n\t('cp36', 'abi3', 'macosx_10_11_x86_64')\r\n\t('cp36', 'abi3', 'macosx_10_11_intel')\r\n\t('cp36', 'abi3', 'macosx_10_11_fat64')\r\n\t('cp36', 'abi3', 'macosx_10_11_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_11_universal')\r\n\t('cp36', 'abi3', 'macosx_10_10_x86_64')\r\n\t('cp36', 'abi3', 'macosx_10_10_intel')\r\n\t('cp36', 'abi3', 'macosx_10_10_fat64')\r\n\t('cp36', 'abi3', 'macosx_10_10_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_10_universal')\r\n\t('cp36', 'abi3', 'macosx_10_9_x86_64')\r\n\t('cp36', 'abi3', 'macosx_10_9_intel')\r\n\t('cp36', 'abi3', 'macosx_10_9_fat64')\r\n\t('cp36', 'abi3', 'macosx_10_9_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_9_universal')\r\n\t('cp36', 'abi3', 'macosx_10_8_x86_64')\r\n\t('cp36', 'abi3', 'macosx_10_8_intel')\r\n\t('cp36', 'abi3', 'macosx_10_8_fat64')\r\n\t('cp36', 'abi3', 'macosx_10_8_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_8_universal')\r\n\t('cp36', 'abi3', 'macosx_10_7_x86_64')\r\n\t('cp36', 'abi3', 'macosx_10_7_intel')\r\n\t('cp36', 'abi3', 'macosx_10_7_fat64')\r\n\t('cp36', 'abi3', 'macosx_10_7_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_7_universal')\r\n\t('cp36', 'abi3', 'macosx_10_6_x86_64')\r\n\t('cp36', 'abi3', 'macosx_10_6_intel')\r\n\t('cp36', 'abi3', 'macosx_10_6_fat64')\r\n\t('cp36', 'abi3', 'macosx_10_6_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_6_universal')\r\n\t('cp36', 'abi3', 'macosx_10_5_x86_64')\r\n\t('cp36', 'abi3', 'macosx_10_5_intel')\r\n\t('cp36', 'abi3', 'macosx_10_5_fat64')\r\n\t('cp36', 'abi3', 'macosx_10_5_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_5_universal')\r\n\t('cp36', 'abi3', 'macosx_10_4_intel')\r\n\t('cp36', 'abi3', 'macosx_10_4_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_4_universal')\r\n\t('cp36', 'abi3', 'macosx_10_3_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_3_universal')\r\n\t('cp36', 'abi3', 'macosx_10_2_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_2_universal')\r\n\t('cp36', 'abi3', 'macosx_10_1_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_1_universal')\r\n\t('cp36', 'abi3', 'macosx_10_0_fat32')\r\n\t('cp36', 'abi3', 'macosx_10_0_universal')\r\n\t('cp36', 'none', 'macosx_10_11_x86_64')\r\n\t('cp36', 'none', 'macosx_10_11_intel')\r\n\t('cp36', 'none', 'macosx_10_11_fat64')\r\n\t('cp36', 'none', 'macosx_10_11_fat32')\r\n\t('cp36', 'none', 'macosx_10_11_universal')\r\n\t('cp36', 'none', 'macosx_10_10_x86_64')\r\n\t('cp36', 'none', 'macosx_10_10_intel')\r\n\t('cp36', 'none', 'macosx_10_10_fat64')\r\n\t('cp36', 'none', 'macosx_10_10_fat32')\r\n\t('cp36', 'none', 'macosx_10_10_universal')\r\n\t('cp36', 'none', 'macosx_10_9_x86_64')\r\n\t('cp36', 'none', 'macosx_10_9_intel')\r\n\t('cp36', 'none', 'macosx_10_9_fat64')\r\n\t('cp36', 'none', 'macosx_10_9_fat32')\r\n\t('cp36', 'none', 'macosx_10_9_universal')\r\n\t('cp36', 'none', 'macosx_10_8_x86_64')\r\n\t('cp36', 'none', 'macosx_10_8_intel')\r\n\t('cp36', 'none', 'macosx_10_8_fat64')\r\n\t('cp36', 'none', 'macosx_10_8_fat32')\r\n\t('cp36', 'none', 'macosx_10_8_universal')\r\n\t('cp36', 'none', 'macosx_10_7_x86_64')\r\n\t('cp36', 'none', 'macosx_10_7_intel')\r\n\t('cp36', 'none', 'macosx_10_7_fat64')\r\n\t('cp36', 'none', 'macosx_10_7_fat32')\r\n\t('cp36', 'none', 'macosx_10_7_universal')\r\n\t('cp36', 'none', 'macosx_10_6_x86_64')\r\n\t('cp36', 'none', 'macosx_10_6_intel')\r\n\t('cp36', 'none', 'macosx_10_6_fat64')\r\n\t('cp36', 'none', 'macosx_10_6_fat32')\r\n\t('cp36', 'none', 'macosx_10_6_universal')\r\n\t('cp36', 'none', 'macosx_10_5_x86_64')\r\n\t('cp36', 'none', 'macosx_10_5_intel')\r\n\t('cp36', 'none', 'macosx_10_5_fat64')\r\n\t('cp36', 'none', 'macosx_10_5_fat32')\r\n\t('cp36', 'none', 'macosx_10_5_universal')\r\n\t('cp36', 'none', 'macosx_10_4_intel')\r\n\t('cp36', 'none', 'macosx_10_4_fat32')\r\n\t('cp36', 'none', 'macosx_10_4_universal')\r\n\t('cp36', 'none', 'macosx_10_3_fat32')\r\n\t('cp36', 'none', 'macosx_10_3_universal')\r\n\t('cp36', 'none', 'macosx_10_2_fat32')\r\n\t('cp36', 'none', 'macosx_10_2_universal')\r\n\t('cp36', 'none', 'macosx_10_1_fat32')\r\n\t('cp36', 'none', 'macosx_10_1_universal')\r\n\t('cp36', 'none', 'macosx_10_0_fat32')\r\n\t('cp36', 'none', 'macosx_10_0_universal')\r\n\t('py3', 'none', 'macosx_10_11_x86_64')\r\n\t('py3', 'none', 'macosx_10_11_intel')\r\n\t('py3', 'none', 'macosx_10_11_fat64')\r\n\t('py3', 'none', 'macosx_10_11_fat32')\r\n\t('py3', 'none', 'macosx_10_11_universal')\r\n\t('py3', 'none', 'macosx_10_10_x86_64')\r\n\t('py3', 'none', 'macosx_10_10_intel')\r\n\t('py3', 'none', 'macosx_10_10_fat64')\r\n\t('py3', 'none', 'macosx_10_10_fat32')\r\n\t('py3', 'none', 'macosx_10_10_universal')\r\n\t('py3', 'none', 'macosx_10_9_x86_64')\r\n\t('py3', 'none', 'macosx_10_9_intel')\r\n\t('py3', 'none', 'macosx_10_9_fat64')\r\n\t('py3', 'none', 'macosx_10_9_fat32')\r\n\t('py3', 'none', 'macosx_10_9_universal')\r\n\t('py3', 'none', 'macosx_10_8_x86_64')\r\n\t('py3', 'none', 'macosx_10_8_intel')\r\n\t('py3', 'none', 'macosx_10_8_fat64')\r\n\t('py3', 'none', 'macosx_10_8_fat32')\r\n\t('py3', 'none', 'macosx_10_8_universal')\r\n\t('py3', 'none', 'macosx_10_7_x86_64')\r\n\t('py3', 'none', 'macosx_10_7_intel')\r\n\t('py3', 'none', 'macosx_10_7_fat64')\r\n\t('py3', 'none', 'macosx_10_7_fat32')\r\n\t('py3', 'none', 'macosx_10_7_universal')\r\n\t('py3', 'none', 'macosx_10_6_x86_64')\r\n\t('py3', 'none', 'macosx_10_6_intel')\r\n\t('py3', 'none', 'macosx_10_6_fat64')\r\n\t('py3', 'none', 'macosx_10_6_fat32')\r\n\t('py3', 'none', 'macosx_10_6_universal')\r\n\t('py3', 'none', 'macosx_10_5_x86_64')\r\n\t('py3', 'none', 'macosx_10_5_intel')\r\n\t('py3', 'none', 'macosx_10_5_fat64')\r\n\t('py3', 'none', 'macosx_10_5_fat32')\r\n\t('py3', 'none', 'macosx_10_5_universal')\r\n\t('py3', 'none', 'macosx_10_4_intel')\r\n\t('py3', 'none', 'macosx_10_4_fat32')\r\n\t('py3', 'none', 'macosx_10_4_universal')\r\n\t('py3', 'none', 'macosx_10_3_fat32')\r\n\t('py3', 'none', 'macosx_10_3_universal')\r\n\t('py3', 'none', 'macosx_10_2_fat32')\r\n\t('py3', 'none', 'macosx_10_2_universal')\r\n\t('py3', 'none', 'macosx_10_1_fat32')\r\n\t('py3', 'none', 'macosx_10_1_universal')\r\n\t('py3', 'none', 'macosx_10_0_fat32')\r\n\t('py3', 'none', 'macosx_10_0_universal')\r\n\t('cp36', 'none', 'any')\r\n\t('cp3', 'none', 'any')\r\n\t('py36', 'none', 'any')\r\n\t('py3', 'none', 'any')\r\nERROR: Could not find a version that satisfies the requirement cryptography (from versions: none)\r\nERROR: No matching distribution found for cryptography\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/820", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/820/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/820/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/820/events", "html_url": "https://github.com/pantsbuild/pex/issues/820", "id": 532399030, "node_id": "MDU6SXNzdWU1MzIzOTkwMzA=", "number": 820, "title": "Unify resolve and runtime wheel caches.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-12-04T02:05:22Z", "updated_at": "2019-12-06T07:52:14Z", "closed_at": "2019-12-06T07:51:22Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The discussion in #789 and continued in the [associated design doc](https://docs.google.com/document/d/1B_g0Ofs8aQsJtrePPR1PCtSAKgBG1o59AhS_NwfFnbI/edit?usp=sharing) led to some spelunking and the realization that Pex currently has two distinct caches for wheels. One for the buildtime resolve of the wheel and one for the runtime extraction of the wheel from zipped pex files. By unifying these caches, we save disk space on machines where we both build and run wheels.\r\n\r\nMore interesting, apropos to #789, we gain the ability to populate the runtime wheel cache from a local build operation due to unification. For zipped pexes, this allows those pexes to fully resolve their requirements from the resolve-populated cache and thus not actually ever need any of those requirement wheels embedded in the zipped pex.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/818", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/818/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/818/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/818/events", "html_url": "https://github.com/pantsbuild/pex/issues/818", "id": 532360713, "node_id": "MDU6SXNzdWU1MzIzNjA3MTM=", "number": 818, "title": "Parallelize resolve.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-12-04T00:31:35Z", "updated_at": "2019-12-06T07:53:31Z", "closed_at": "2019-12-06T02:22:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "PEX has always performed a serial resolve, first resolving, then building, then installing. We can take advantage of the fact we shell out to pip for these three steps and use process parallelism for an easy way to improve cold cache pex build speed.\r\n\r\nThis is part of the story for rectifying #811 in addition to caching installs (#815) and builds (#817).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/817", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/817/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/817/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/817/events", "html_url": "https://github.com/pantsbuild/pex/issues/817", "id": 532360695, "node_id": "MDU6SXNzdWU1MzIzNjA2OTU=", "number": 817, "title": "Cache sdist & local project builds", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-12-04T00:31:32Z", "updated_at": "2019-12-06T07:52:22Z", "closed_at": "2019-12-06T02:22:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, pex does not cache builds of sdists and local projects. Re-instate this cache - which was present in pre version 2 pex with bugs - in a safe way, invalidating the cache based on the content hash of sdists / local project directory trees.\r\n\r\nThis is part of the story for rectifying #811 in addition to caching installs (#815) and parallelizing resolves (#818).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/816", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/816/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/816/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/816/events", "html_url": "https://github.com/pantsbuild/pex/issues/816", "id": 530064911, "node_id": "MDU6SXNzdWU1MzAwNjQ5MTE=", "number": 816, "title": "Prevent create files on PEX ROOT as root when pex file is run with sudo", "user": {"login": "carlosduelo", "id": 1053788, "node_id": "MDQ6VXNlcjEwNTM3ODg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1053788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlosduelo", "html_url": "https://github.com/carlosduelo", "followers_url": "https://api.github.com/users/carlosduelo/followers", "following_url": "https://api.github.com/users/carlosduelo/following{/other_user}", "gists_url": "https://api.github.com/users/carlosduelo/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlosduelo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlosduelo/subscriptions", "organizations_url": "https://api.github.com/users/carlosduelo/orgs", "repos_url": "https://api.github.com/users/carlosduelo/repos", "events_url": "https://api.github.com/users/carlosduelo/events{/privacy}", "received_events_url": "https://api.github.com/users/carlosduelo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-28T20:14:50Z", "updated_at": "2020-03-25T17:25:50Z", "closed_at": "2020-03-25T17:25:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Run a pex with sudo the first time:\r\n\r\n```\r\nsudo my-pex.pex\r\n```\r\nIt creates files under in my HOME `~/.pex/install/` with root as owner, \r\n\r\n```\r\n$ ls -la ~/.pex/install/\r\ntotal 0\r\ndrwxr-xr-x 1 root   root   3818 Nov 28 17:03 .\r\ndrwxrwxr-x 1 user user   14 Nov 28 17:03 ..\r\ndrwxr-xr-x 1 root   root     76 Nov 28 17:03 attrs-19.3.0-py2.py3-none-any.whl.e91da08a7091c46772d87f0c961a63ac85d4a810\r\ndrwxr-xr-x 1 root   root     82 Nov 28 17:03 requests-2.22.0-py2.py3-none-any.whl.9523c112783d316b50f5bfd5d4bcad40736336aa\r\n.........\r\n```\r\n\r\nLater when the same pex is run without sudo it produces `PermissionError`\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/my-pex.pex/.bootstrap/pex/pex.py\", line 395, in execute\r\n  File \"/usr/bin/my-pex.pex/.bootstrap/pex/pex.py\", line 93, in _activate\r\n  File \"/usr/bin/my-pex.pex/.bootstrap/pex/environment.py\", line 249, in activate\r\n  File \"/usr/bin/my-pex.pex/.bootstrap/pex/environment.py\", line 357, in _activate\r\n  File \"/usr/bin/my-pex.pex/.bootstrap/pex/environment.py\", line 238, in _update_candidate_distributions\r\n  File \"/usr/bin/my-pex.pex/.bootstrap/pex/environment.py\", line 203, in _load_internal_cache\r\n  File \"/usr/bin/my-pex.pex/.bootstrap/pex/environment.py\", line 190, in _write_zipped_internal_cache\r\n  File \"/usr/bin/my-pex.pex/.bootstrap/pex/util.py\", line 166, in cache_distribution\r\n  File \"/usr/lib/python3.7/zipfile.py\", line 1599, in extract\r\n    return self._extract_member(member, path, pwd)\r\n  File \"/usr/bin/my-pex.pex/.bootstrap/pex/common.py\", line 121, in _extract_member\r\n  File \"/usr/lib/python3.7/zipfile.py\", line 1662, in _extract_member\r\n    os.makedirs(upperdirs)\r\n  File \"/usr/lib/python3.7/os.py\", line 211, in makedirs\r\n    makedirs(head, exist_ok=exist_ok)\r\n  File \"/usr/lib/python3.7/os.py\", line 211, in makedirs\r\n    makedirs(head, exist_ok=exist_ok)\r\n  File \"/usr/lib/python3.7/os.py\", line 221, in makedirs\r\n    mkdir(name, mode)\r\nPermissionError: [Errno 13] Permission denied: '/home/user/.pex/install/pyrsistent-0.15.6-cp37-cp37m-linux_x86_64.whl.5e52dba7dab3ea7ab9594ad73326d31baf150835.a8407da79a3145ad8d2ed53f8f654852'\r\n```\r\nMaybe this files can be created with the real user ownership", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/814", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/814/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/814/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/814/events", "html_url": "https://github.com/pantsbuild/pex/issues/814", "id": 528828102, "node_id": "MDU6SXNzdWU1Mjg4MjgxMDI=", "number": 814, "title": "Release 2.0.3", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-11-26T16:14:10Z", "updated_at": "2019-12-06T08:23:52Z", "closed_at": "2019-12-06T07:51:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n\r\n+ [x] Pex should trust any host passed via `--index` or `--find-links`. #812\r\n+ [x] A cache should always be used by `pex.resolver.resolve`. #809\r\n+ [x] Use the resolve cache to skip installs. #815\r\n+ [x] Parallelize resolve. #818\r\n+ [x] Cache sdist & local project builds #817\r\n+ [x] Unify resolve and runtime wheel caches. #820", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/812", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/812/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/812/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/812/events", "html_url": "https://github.com/pantsbuild/pex/issues/812", "id": 528358313, "node_id": "MDU6SXNzdWU1MjgzNTgzMTM=", "number": 812, "title": "Pex should trust any host passed via `--index` or `--find-links`.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-11-25T21:53:11Z", "updated_at": "2019-11-26T01:17:53Z", "closed_at": "2019-11-26T01:17:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The underlying pip calls don't assume this and error out, e.g.:\r\n```\r\nE   \tWARNING: The repository located at www.antlr3.org is not a trusted or secure host and is being ignored. If this repository is available via HTTPS we recommend you use HTTPS instead, otherwise you may silence this warning and allow it anyway with '--trusted-host www.antlr3.org'.\r\nE   \tERROR: Could not find a version that satisfies the requirement antlr_python_runtime==3.1.3 (from versions: none)\r\nE   \tERROR: No matching distribution found for antlr_python_runtime==3.1.3\r\n...\r\nE   \tException caught: (pex.resolver.Unsatisfiable)\r\n...\r\nE   \t  File \"/b/f/w/pants/backend/python/subsystems/pex_build_util.py\", line 278, in _resolve_multi\r\nE   \t    allow_prereleases=python_setup.resolver_allow_prereleases)\r\nE   \t  File \"/b/f/w/pex_root/install/pex-2.0.2-py2.py3-none-any.whl.b89b057c31d08e6bebdb4531720b75237c56588e/pex-2.0.2-py2.py3-none-any.whl/pex/resolver.py\", line 195, in resolve\r\nE   \t    raise Unsatisfiable(str(e))\r\nE   \t\r\nE   \tException message: Executing /usr/bin/python2.7 -s -m pip --disable-pip-version-check --isolated -q --cache-dir /home/nobody/.cache/pants/python_cache/requirements/CPython-2.7.12 download --dest /tmp/tmpj2dt894x/resolved --index-url https://pypi.org/simple/ --find-links http://www.antlr3.org/download/Python/ antlr_python_runtime==3.1.3 failed with 1\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/811", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/811/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/811/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/811/events", "html_url": "https://github.com/pantsbuild/pex/issues/811", "id": 527859870, "node_id": "MDU6SXNzdWU1Mjc4NTk4NzA=", "number": 811, "title": "Slow builds in 2.0 - how does --python interact with --platform?", "user": {"login": "AlexHill", "id": 1011483, "node_id": "MDQ6VXNlcjEwMTE0ODM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1011483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexHill", "html_url": "https://github.com/AlexHill", "followers_url": "https://api.github.com/users/AlexHill/followers", "following_url": "https://api.github.com/users/AlexHill/following{/other_user}", "gists_url": "https://api.github.com/users/AlexHill/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexHill/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexHill/subscriptions", "organizations_url": "https://api.github.com/users/AlexHill/orgs", "repos_url": "https://api.github.com/users/AlexHill/repos", "events_url": "https://api.github.com/users/AlexHill/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexHill/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 7, "created_at": "2019-11-25T05:39:10Z", "updated_at": "2019-12-06T07:54:17Z", "closed_at": "2019-12-06T02:22:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to build a pex that supports Linux armv7l and x86_64, on Python versions 3.5 through 3.7.\r\n\r\nBefore pex 2.0, I used\r\n\r\n`--platform linux_armv7l --platform linux_x86_64 --python python3.5 --python python3.6 --python python3.7 --python-shebang \"/usr/bin/env python3\"`\r\n\r\nAnd that produced a pex file meeting those requirements in about ten seconds.\r\n\r\nAs of 2.0 I'm not sure what I need to do. pex seems to resolve requirements for every combination of platform and python, so if I specify all six relevant `--platform` options (`--platform linux_armv7l-cp-35-m`, `--platform linux_x86_64-cp-36-m`, etc) plus all three `--python` options it takes **200s**.\r\n\r\nFor my use case I can simplify and specify just `--platform any-py-<35/36/37>-none` and the `--python`s. That takes **90s**.\r\n\r\nUltimately the dependencies are in this case resolved to py3-none-any wheels, so I figure I can probably get away with specifying `--platform any-py-35-none` and the `--python`s. That takes **60s**.\r\n\r\nIf I omit `--python` entirely with the single `--platform` arg, it takes about **15s** - close to the pre-2.0 time. For every `--python` I add, including the default interpreter, it adds another ~15s.\r\n\r\nIn all these cases the actual resolved and bundled dependencies are identical. What effect does `--python` actually have on the pex over and above the platform specifier? Is there anything I can do to get the build time down while ensuring that I'm producing a file that will work where it needs to?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/810", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/810/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/810/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/810/events", "html_url": "https://github.com/pantsbuild/pex/issues/810", "id": 527781369, "node_id": "MDU6SXNzdWU1Mjc3ODEzNjk=", "number": 810, "title": "The `pex.resolver.resolve` API should accept a `target` dir.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-11-25T00:07:49Z", "updated_at": "2019-12-03T23:59:26Z", "closed_at": "2019-12-03T23:59:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, `pex.resolver.resolve` resolves distributions as wheels installed in individual tmpdir chroots. If a client wants the installed wheel to outlast the process, they need to copy or move the chroot somewhere. Allow clients to avoid the copy by specifying a chroot root directly for `resolve` to install wheels into.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/809", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/809/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/809/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/809/events", "html_url": "https://github.com/pantsbuild/pex/issues/809", "id": 527781018, "node_id": "MDU6SXNzdWU1Mjc3ODEwMTg=", "number": 809, "title": "A cache should always be used by `pex.resolver.resolve`.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-11-25T00:04:59Z", "updated_at": "2019-12-02T00:28:37Z", "closed_at": "2019-11-27T00:40:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Even if no cache is requested, the `resolve` function executes `pip download` and `pip wheel` in serial, both of which can hit the network. The `pip wheel` call can safey use one-shot cache to take advantage of work just done by `pip download`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/807", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/807/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/807/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/807/events", "html_url": "https://github.com/pantsbuild/pex/issues/807", "id": 527374774, "node_id": "MDU6SXNzdWU1MjczNzQ3NzQ=", "number": 807, "title": "Switch distribution publishing to `twine`.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 293075991, "node_id": "MDU6TGFiZWwyOTMwNzU5OTE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/in%20progress", "name": "in progress", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-11-22T19:28:55Z", "updated_at": "2019-12-12T16:03:10Z", "closed_at": "2019-12-12T16:03:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We currently use the `upload` command which is deprcated. Use the reccomended `twine` package / cli to do this instead.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/806", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/806/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/806/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/806/events", "html_url": "https://github.com/pantsbuild/pex/issues/806", "id": 527371256, "node_id": "MDU6SXNzdWU1MjczNzEyNTY=", "number": 806, "title": "Officially support python 3.8", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-11-22T19:20:39Z", "updated_at": "2019-12-21T01:25:02Z", "closed_at": "2019-12-15T11:36:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We should update CI / tox / and our project metadata to reflect / test our support for python 3.8.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/805", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/805/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/805/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/805/events", "html_url": "https://github.com/pantsbuild/pex/issues/805", "id": 527370717, "node_id": "MDU6SXNzdWU1MjczNzA3MTc=", "number": 805, "title": "Move pex to a pyproject.toml build.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 293075991, "node_id": "MDU6TGFiZWwyOTMwNzU5OTE=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/in%20progress", "name": "in progress", "color": "009800", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-11-22T19:19:19Z", "updated_at": "2019-12-12T16:03:10Z", "closed_at": "2019-12-12T16:03:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We should dogfood PEP-517 / PEP-518 support inherited through pip, set a good example and I think this can also allow removal of the trickery used currently to make the setup.py self-hosting using `pex.third_party`, although that in itself is a dogfood demonstration of the vendoring we'll lose.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/803", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/803/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/803/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/803/events", "html_url": "https://github.com/pantsbuild/pex/issues/803", "id": 526917325, "node_id": "MDU6SXNzdWU1MjY5MTczMjU=", "number": 803, "title": "Expose network configuration in pex options.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-11-22T00:28:35Z", "updated_at": "2020-05-12T01:45:00Z", "closed_at": "2020-05-12T00:01:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In particular, these pip options should be plumbed through from the pex CLI & the resolver API:\r\n```\r\n  -H, --header <key:val>      HTTP header to include in all requests. This option can be used multiple times. Conflicts with --extra-index-url.\r\n  --proxy <proxy>             Specify a proxy in the form [user:passwd@]proxy.server:port.\r\n  --retries <retries>         Maximum number of retries each connection should attempt (default 5 times).\r\n  --timeout <sec>             Set the socket timeout (default 15 seconds).\r\n  --trusted-host <hostname>   Mark this host as trusted, even though it does not have valid or any HTTPS.\r\n  --cert <path>               Path to alternate CA bundle.\r\n  --client-cert <path>        Path to SSL client certificate, a single file containing the private key and the certificate in PEM format.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/800", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/800/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/800/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/800/events", "html_url": "https://github.com/pantsbuild/pex/issues/800", "id": 526267605, "node_id": "MDU6SXNzdWU1MjYyNjc2MDU=", "number": 800, "title": "Release 2.0.2", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-11-20T23:10:01Z", "updated_at": "2019-11-22T20:03:17Z", "closed_at": "2019-11-22T19:22:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n\r\n+ [x] Add a test of pypi index rendering. (#799)\r\n+ [x] Fix `iter_compatible_interpreters` path biasing. (#798)\r\n+ [x] Fix current platform handling. #801", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/796", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/796/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/796/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/796/events", "html_url": "https://github.com/pantsbuild/pex/issues/796", "id": 525369468, "node_id": "MDU6SXNzdWU1MjUzNjk0Njg=", "number": 796, "title": "Release 2.0.1", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-11-20T01:48:31Z", "updated_at": "2019-11-20T03:35:34Z", "closed_at": "2019-11-20T03:21:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n\r\n+ [x] pex --index-url=... fails in 2.0.0 #794", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/794", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/794/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/794/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/794/events", "html_url": "https://github.com/pantsbuild/pex/issues/794", "id": 523566776, "node_id": "MDU6SXNzdWU1MjM1NjY3NzY=", "number": 794, "title": "pex --index-url=... fails in 2.0.0", "user": {"login": "Djailla", "id": 576608, "node_id": "MDQ6VXNlcjU3NjYwOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/576608?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Djailla", "html_url": "https://github.com/Djailla", "followers_url": "https://api.github.com/users/Djailla/followers", "following_url": "https://api.github.com/users/Djailla/following{/other_user}", "gists_url": "https://api.github.com/users/Djailla/gists{/gist_id}", "starred_url": "https://api.github.com/users/Djailla/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Djailla/subscriptions", "organizations_url": "https://api.github.com/users/Djailla/orgs", "repos_url": "https://api.github.com/users/Djailla/repos", "events_url": "https://api.github.com/users/Djailla/events{/privacy}", "received_events_url": "https://api.github.com/users/Djailla/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-15T16:26:28Z", "updated_at": "2019-11-18T23:58:48Z", "closed_at": "2019-11-18T23:58:48Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello,\r\n\r\nIn my team we have an issue since this morning with the new version of PEX\r\n\r\nThis is a big Django project but with simple configuration.\r\n\r\nHere is an extract of the setup.py\r\n\r\n```\r\nsetuptools.setup(\r\n    name='rackguru-api',\r\n    version=find_version(),\r\n    install_requires=_INSTALL_REQUIRES,\r\n    author='Criteo',\r\n    author_email='infratools-team@criteo.com',\r\n    description='Criteo datacenter assets manager',\r\n    packages=setuptools.find_packages(),\r\n    entry_points={\r\n        'console_scripts': [\r\n            'rackguru-run = marathon.run:main',\r\n        ],\r\n    },\r\n    classifiers=CLASSIFIERS,\r\n    include_package_data=True,\r\n)\r\n```\r\n\r\nIn the tox.ini :\r\n\r\n```\r\n# Bundle environment\r\n[testenv:bundle]\r\ndeps = pex\r\nsetenv =\r\n    LANG=en_US.UTF-8\r\ncommands =\r\n    # Collect the statics to be embedded in the sdist and PEX file (via the MANIFEST)\r\n    {envpython} manage.py collectstatic --noinput --clear\r\n    # Creates a source archive in sdist/\r\n    {envpython} setup.py sdist --dist-dir=sdist --format=gztar\r\n    # Build exec file and save it in dist/\r\n    {envpython} setup.py bdist_pex --bdist-dir=dist --pex-args='--disable-cache --not-zip-safe --index-url=http://build-nexus.crto.in/repository/pypi/simple' --bdist-all\r\n```\r\n\r\nAnd here is the build output :\r\n\r\n```\r\nbundle run-test: commands[2] | /tmp/.tox-rackguru-api-post-submit-3573/com.criteo.rackguru.rackguru-api/bundle/bin/python setup.py bdist_pex --bdist-dir=dist '--pex-args=--disable-cache --not-zip-safe --index-url=http://build-nexus.crto.in/repository/pypi/simple' --bdist-all\r\nrunning bdist_pex\r\nWriting rackguru-run to dist/rackguru-run\r\nFailed to create pex via /tmp/.tox-rackguru-api-post-submit-3573/com.criteo.rackguru.rackguru-api/bundle/bin/python3.6 -s -m pex /home/jenkins/workspace/rackguru-api-post-submit --disable-cache --not-zip-safe --index-url=http://build-nexus.crto.in/repository/pypi/simple --output-file dist/rackguru-run --script rackguru-run:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib64/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/usr/lib64/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/tmp/.tox-rackguru-api-post-submit-3573/com.criteo.rackguru.rackguru-api/bundle/lib/python3.6/site-packages/pex/__main__.py\", line 8, in <module>\r\n    __name__ == '__main__' and pex.main()\r\n  File \"/tmp/.tox-rackguru-api-post-submit-3573/com.criteo.rackguru.rackguru-api/bundle/lib/python3.6/site-packages/pex/bin/pex.py\", line 628, in main\r\n    pex_builder = build_pex(reqs, options)\r\n  File \"/tmp/.tox-rackguru-api-post-submit-3573/com.criteo.rackguru.rackguru-api/bundle/lib/python3.6/site-packages/pex/bin/pex.py\", line 540, in build_pex\r\n    indexes = [str(index) for index in options.indexes]\r\n  File \"/tmp/.tox-rackguru-api-post-submit-3573/com.criteo.rackguru.rackguru-api/bundle/lib/python3.6/site-packages/pex/bin/pex.py\", line 540, in <listcomp>\r\n    indexes = [str(index) for index in options.indexes]\r\nTypeError: __str__ returned non-string (type NoneType)\r\n```\r\n\r\nDo you have any idea about the root issue ?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/793", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/793/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/793/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/793/events", "html_url": "https://github.com/pantsbuild/pex/issues/793", "id": 523396284, "node_id": "MDU6SXNzdWU1MjMzOTYyODQ=", "number": 793, "title": "`pex -r <(pip freeze)` syntax stopped working in 2.0.0", "user": {"login": "zachmoshe", "id": 4789087, "node_id": "MDQ6VXNlcjQ3ODkwODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/4789087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachmoshe", "html_url": "https://github.com/zachmoshe", "followers_url": "https://api.github.com/users/zachmoshe/followers", "following_url": "https://api.github.com/users/zachmoshe/following{/other_user}", "gists_url": "https://api.github.com/users/zachmoshe/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachmoshe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachmoshe/subscriptions", "organizations_url": "https://api.github.com/users/zachmoshe/orgs", "repos_url": "https://api.github.com/users/zachmoshe/repos", "events_url": "https://api.github.com/users/zachmoshe/events{/privacy}", "received_events_url": "https://api.github.com/users/zachmoshe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-15T10:45:59Z", "updated_at": "2019-11-29T13:37:18Z", "closed_at": "2019-11-29T13:37:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "So far I was using pex with a temporary requirements file like this: \r\n`pex -r <(pip freeze)`  and it worked nicely.\r\n\r\nAfter updating to 2.0, I started getting this: \r\n`ERROR: Could not open requirements file: [Errno 9] Bad file descriptor: '/dev/fd/63'`\r\n\r\nI'm on MacOS, with pex upgraded to the latest (2.0.0), python 3.6.5 and pip 19.3.1.\r\n\r\nIf I try on Unix (Ubuntu 16.04), python 3.6.5, pex 2.0.0, pip 19.3.1, I get a slightly different message:\r\n`ERROR: Could not open requirements file: [Errno 2] No such file or directory: '/dev/fd/63'`\r\n\r\nIt works normally if I save the `pip freeze` output to a file and pass the filename as the argument.\r\n\r\nWas anything changed in how pex parses arguments or opens the requirements file?\r\nIs the (convenient) old syntax still supported?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/790", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/790/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/790/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/790/events", "html_url": "https://github.com/pantsbuild/pex/issues/790", "id": 523140056, "node_id": "MDU6SXNzdWU1MjMxNDAwNTY=", "number": 790, "title": "Release 2.0.0", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-11-14T22:26:37Z", "updated_at": "2019-11-20T01:47:34Z", "closed_at": "2019-11-15T02:07:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Use pip for resolving and building distributions. #788\r\n+ [x] Pex defaults to reproduceable builds. #791\r\n\r\nThat one issue closes out a slew of others, partially documented in #686.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/789", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/789/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/789/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/789/events", "html_url": "https://github.com/pantsbuild/pex/issues/789", "id": 521179368, "node_id": "MDU6SXNzdWU1MjExNzkzNjg=", "number": 789, "title": "performantly redeploying PEX files by sharding their requirements", "user": {"login": "cosmicexplorer", "id": 1305167, "node_id": "MDQ6VXNlcjEzMDUxNjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1305167?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cosmicexplorer", "html_url": "https://github.com/cosmicexplorer", "followers_url": "https://api.github.com/users/cosmicexplorer/followers", "following_url": "https://api.github.com/users/cosmicexplorer/following{/other_user}", "gists_url": "https://api.github.com/users/cosmicexplorer/gists{/gist_id}", "starred_url": "https://api.github.com/users/cosmicexplorer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cosmicexplorer/subscriptions", "organizations_url": "https://api.github.com/users/cosmicexplorer/orgs", "repos_url": "https://api.github.com/users/cosmicexplorer/repos", "events_url": "https://api.github.com/users/cosmicexplorer/events{/privacy}", "received_events_url": "https://api.github.com/users/cosmicexplorer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-11-11T20:48:50Z", "updated_at": "2019-12-21T01:59:15Z", "closed_at": "2019-12-21T01:59:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "**This issue should be conclusively resolved before #787 can be reviewed.**\r\n*From that PR:*\r\n### Problem\r\n\r\nRedeploying pex files full of many extremely large 3rdparty requirements (tensorflow, etc) into our datacenter at Twitter currently takes a very long time, since we upload them all at once into an internal artifact resolution utility, and then pull down the entire pex file before executing it. This slowness to redeploy then also affects multiple of our internal python development workflows and tooling for machine learning (including a Jupyter wrapper developed by @kwlzn) which depend on executing a pex file within the datacenter -- in that case, modifying any python source files in our monorepo currently requires waiting several minutes for changes to be usable within that Jupyter notebook.\r\n\r\nAs far as we are aware, other users of pex who package large machine learning applications also suffer from this issue and do not have an easy workaround.\r\n\r\n### (Initial) Proposed Solution\r\n\r\n*This is implemented in #787*.\r\n\r\nWe would like to be able to ship around \"dehydrated\" pex files without 3rdparty requirements embedded in the pex, and resolve (\"hydrate\") them before executing the pex. This removes one half of the current process of synchronously waiting to upload and download 3rdparty requirements, and moves the remaining download part off the critical path of the entire redeploy process. Because the requirements to hydrate were already resolved when building the pex, we know all the exact versions of all the transitive dependencies to resolve at bootstrap time.\r\n\r\nThere are many ways we could potentially make the bootstrap resolve process faster -- #787 just uses a CachingResolver, with the idea that the machines that execute our pex files will eventually have most of the large distributions cached and won't need to redownload them on every redeploy (or that we can provision machines to have these requirements already contained within their local pex cache).\r\n\r\nAn alternative implementation of \"hydration\" that was considered was to use a virtualenv to hydrate requirements before running the pex with PEX_INHERIT_PATH=fallback, but it would be extremely helpful for us to avoid having to maintain separate tooling with virtualenv, and it would be really nice if pex could do that itself at bootstrap.\r\n\r\n### Feedback\r\n*From https://github.com/pantsbuild/pex/pull/787#issuecomment-552219882:*\r\n> This changes a fundamental bit of the informal pex contract. You no-longer ship an app, you resolve it at runtime and allow in all manner of non-reproduceabilities that need to be carefully excluded or contended with.\r\n\r\n### Alternative Solutions\r\n*From https://github.com/pantsbuild/pex/pull/787#issuecomment-552219882:*\r\n> Doesn't use of PEX_PATH already solve this? Build 2 pexes, one with the highly variable bits - maybe just sources and resources, and one with the more stable bits - large dependencies. Then on the deploy side, of the 2 pexes that now compose the app, only deploy the ones that have changed. To make this work well, we may need to enhance the build-side of pex; i.e.: have the pex tool / API understand how to resolve from other pexes as 1st-class indexes / find-links repos; but, crucially, this leaves the runtime unchanged. The same guarantees apply.\r\n\r\n**Responses to the above feedback to follow as comments in this issue.**", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/785", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/785/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/785/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/785/events", "html_url": "https://github.com/pantsbuild/pex/issues/785", "id": 515684765, "node_id": "MDU6SXNzdWU1MTU2ODQ3NjU=", "number": 785, "title": "minimum_sys_modules keeps tainted non-package modules", "user": {"login": "zhanwu", "id": 488359, "node_id": "MDQ6VXNlcjQ4ODM1OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/488359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhanwu", "html_url": "https://github.com/zhanwu", "followers_url": "https://api.github.com/users/zhanwu/followers", "following_url": "https://api.github.com/users/zhanwu/following{/other_user}", "gists_url": "https://api.github.com/users/zhanwu/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhanwu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhanwu/subscriptions", "organizations_url": "https://api.github.com/users/zhanwu/orgs", "repos_url": "https://api.github.com/users/zhanwu/repos", "events_url": "https://api.github.com/users/zhanwu/events{/privacy}", "received_events_url": "https://api.github.com/users/zhanwu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-31T19:23:48Z", "updated_at": "2019-11-02T08:09:17Z", "closed_at": "2019-11-02T08:09:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "For some packages (e.g. Jinja2), both tainted packages and non-package modules can be imported. However `minimum_sys_modules` would only drop the tainted packages but kept non-package modules.\r\n\r\nWhen `Jinja2` is imported, there are both `Jinja2` and `Jinja2.utils` in sys.modules; minimum_sys_modules() would drop `Jinja2` but keep `Jinja2.utils` (because it doesn't have `__path__`), and this cause user code to unable to load another version of `Jinja2` correctly:  \r\nhttps://github.com/pantsbuild/pex/blob/master/pex/pex.py#L184-L203", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/782", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/782/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/782/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/782/events", "html_url": "https://github.com/pantsbuild/pex/issues/782", "id": 510842084, "node_id": "MDU6SXNzdWU1MTA4NDIwODQ=", "number": 782, "title": "Interpreter discovery and pyenv don't interact well", "user": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 5, "created_at": "2019-10-22T18:50:55Z", "updated_at": "2020-01-23T15:18:19Z", "closed_at": "2020-01-23T15:18:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "At pex runtime, interpreter discovery looks on the PATH for any binary with a name that looks like it might be a python interpreter, and executes it to get its version (and verify that it is in fact a python interpreter). \r\n\r\nUnfortunately, pyenv can create a large number of such files in `~/.pyenv/shims`. E.g.,\r\n\r\n```\r\n> ls /Users/benjyw/.pyenv/shims/ | grep -E \"python\\d?(.\\d)?m?$\"\r\npython\r\npython2\r\npython2.7\r\npython3\r\npython3.5\r\npython3.5m\r\npython3.6\r\npython3.6m\r\npython3.7\r\npython3.7m\r\n>\r\n```\r\nNote that these aren't symlinks, but wrapper scripts, so pex's realpath deduping doesn't help.\r\n\r\nSo, pex will execute every one of these, plus whatever other python interpreters it finds, which adds up to non trivial overhead (~1 second in the above example) on every run of the pex. Note that not all of these are actually valid python interpreters - some are shim stubs that fail on purpose.  ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/781", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/781/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/781/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/781/events", "html_url": "https://github.com/pantsbuild/pex/issues/781", "id": 509659800, "node_id": "MDU6SXNzdWU1MDk2NTk4MDA=", "number": 781, "title": "Use pip for resolving and building distributions", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2019-10-20T22:06:56Z", "updated_at": "2019-11-14T22:47:35Z", "closed_at": "2019-11-14T22:46:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Now that we can vendor distributions, we might consider vendoring pip to get pip-compatible resolution and wheel building behavior. This would likely kill a fair amount of PEX code and open issues at the expense of a larger PEX tool binary and, without care, a larger PEX runtime. Since pip should be largely (completely?) un-needed at runtime, this might have little downside.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/773", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/773/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/773/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/773/events", "html_url": "https://github.com/pantsbuild/pex/issues/773", "id": 507988941, "node_id": "MDU6SXNzdWU1MDc5ODg5NDE=", "number": 773, "title": "Release 1.6.12", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-10-16T17:21:38Z", "updated_at": "2019-10-17T21:05:04Z", "closed_at": "2019-10-17T19:50:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] PythonInterpreter: support python binary names with single letter suffixes #769\r\n+ [x] Pex should support some form of verifiably reproducible resolve. #772", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/772", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/772/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/772/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/772/events", "html_url": "https://github.com/pantsbuild/pex/issues/772", "id": 507988709, "node_id": "MDU6SXNzdWU1MDc5ODg3MDk=", "number": 772, "title": "Pex should support some form of verifiably reproducible resolve.", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "benjyw", "id": 512764, "node_id": "MDQ6VXNlcjUxMjc2NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/512764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benjyw", "html_url": "https://github.com/benjyw", "followers_url": "https://api.github.com/users/benjyw/followers", "following_url": "https://api.github.com/users/benjyw/following{/other_user}", "gists_url": "https://api.github.com/users/benjyw/gists{/gist_id}", "starred_url": "https://api.github.com/users/benjyw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benjyw/subscriptions", "organizations_url": "https://api.github.com/users/benjyw/orgs", "repos_url": "https://api.github.com/users/benjyw/repos", "events_url": "https://api.github.com/users/benjyw/events{/privacy}", "received_events_url": "https://api.github.com/users/benjyw/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-10-16T17:21:11Z", "updated_at": "2019-10-17T17:30:10Z", "closed_at": "2019-10-17T17:30:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Supporting requirements files with hashes would help #429, but even then the results of indirect dependencies are not pinned and could vary if the requirements presented do not form a closure. Being able to inform Pex that the requirements presented are a closure and that it should do no more than fetch distributions at most but not transitively attempt to resolve / fetch their dependencies, etc would help fill out a full solution. This would allow a lock file to be presented and used to guarantee a reprodcible resolve or fail fast.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/771", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/771/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/771/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/771/events", "html_url": "https://github.com/pantsbuild/pex/issues/771", "id": 505977911, "node_id": "MDU6SXNzdWU1MDU5Nzc5MTE=", "number": 771, "title": "Cannot satisfy requirement with environment marker", "user": {"login": "hchargois", "id": 535234, "node_id": "MDQ6VXNlcjUzNTIzNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/535234?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hchargois", "html_url": "https://github.com/hchargois", "followers_url": "https://api.github.com/users/hchargois/followers", "following_url": "https://api.github.com/users/hchargois/following{/other_user}", "gists_url": "https://api.github.com/users/hchargois/gists{/gist_id}", "starred_url": "https://api.github.com/users/hchargois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hchargois/subscriptions", "organizations_url": "https://api.github.com/users/hchargois/orgs", "repos_url": "https://api.github.com/users/hchargois/repos", "events_url": "https://api.github.com/users/hchargois/events{/privacy}", "received_events_url": "https://api.github.com/users/hchargois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-10-11T17:45:14Z", "updated_at": "2019-11-14T22:48:31Z", "closed_at": "2019-11-14T22:46:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to build a pex file that includes `sanic==19.6.3`. In its setup.py file, it requires `uvloop>=0.5.3; sys_platform != \"win32\" and implementation_name == \"cpython\"`.\r\n\r\nIf I build the pex like this everything works:\r\n\r\n`pex sanic==19.6.3 -o pex.out`\r\n\r\nBut in my build process, I want to first download and store wheels, so that I can then build offline (without PyPI). Normally the following method works with other packages, but it doesn't with sanic. I guess it's because of the environment markers.\r\n\r\n```\r\n$ pip download sanic==19.6.3 -d wheels\r\n[...]\r\n$ pex --disable-cache --no-pypi -f wheels/ sanic==19.6.3 -o pex.out\r\nCould not satisfy all requirements for uvloop>=0.5.3; sys_platform != \"win32\" and implementation_name == \"cpython\":\r\n    uvloop>=0.5.3; sys_platform != \"win32\" and implementation_name == \"cpython\"(from: sanic==19.6.3)\r\n```\r\n\r\nI guess this is a bug in pex but I'm not even sure. What do you think?\r\n\r\nPex 1.6.11\r\nPython 3.7.4", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/766", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/766/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/766/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/766/events", "html_url": "https://github.com/pantsbuild/pex/issues/766", "id": 491733154, "node_id": "MDU6SXNzdWU0OTE3MzMxNTQ=", "number": 766, "title": "Release 1.6.11", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-09-10T15:06:30Z", "updated_at": "2019-09-12T06:26:28Z", "closed_at": "2019-09-12T06:04:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Include `PYTHONPATH` in `--inherit-path` logic. #765\r\n+ [x] Avoid reordering of equivalent packages from multiple fetchers #762", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/763", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/763/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/763/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/763/events", "html_url": "https://github.com/pantsbuild/pex/issues/763", "id": 486568465, "node_id": "MDU6SXNzdWU0ODY1Njg0NjU=", "number": 763, "title": "Pex fails with tensorflow==2.0.0rc0  (probably because of manylinux2010)", "user": {"login": "zachmoshe", "id": 4789087, "node_id": "MDQ6VXNlcjQ3ODkwODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/4789087?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zachmoshe", "html_url": "https://github.com/zachmoshe", "followers_url": "https://api.github.com/users/zachmoshe/followers", "following_url": "https://api.github.com/users/zachmoshe/following{/other_user}", "gists_url": "https://api.github.com/users/zachmoshe/gists{/gist_id}", "starred_url": "https://api.github.com/users/zachmoshe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zachmoshe/subscriptions", "organizations_url": "https://api.github.com/users/zachmoshe/orgs", "repos_url": "https://api.github.com/users/zachmoshe/repos", "events_url": "https://api.github.com/users/zachmoshe/events{/privacy}", "received_events_url": "https://api.github.com/users/zachmoshe/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2019-08-28T19:32:10Z", "updated_at": "2019-11-14T22:48:36Z", "closed_at": "2019-11-14T22:46:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n<<start in a new virtualenv>>\r\npip install -U pip\r\n# got me pip-19.2.3\r\npip install pex\r\n# got me pex-1.6.10\r\npip install tensorflow==2.0.0rc0\r\n\r\npip freeze\r\n# shows:\r\n# absl-py==0.8.0\r\n# astor==0.8.0\r\n# gast==0.2.2\r\n# google-pasta==0.1.7\r\n# grpcio==1.23.0\r\n# h5py==2.9.0\r\n# Keras-Applications==1.0.8\r\n# Keras-Preprocessing==1.1.0\r\n# Markdown==3.1.1\r\n# numpy==1.17.1\r\n# opt-einsum==3.0.1\r\n# pex==1.6.10\r\n# protobuf==3.9.1\r\n# six==1.12.0\r\n# tb-nightly==1.15.0a20190806\r\n# tensorflow==2.0.0rc0\r\n# termcolor==1.1.0\r\n# tf-estimator-nightly==1.14.0.dev2019080601\r\n# Werkzeug==0.15.5\r\n# wrapt==1.11.2\r\n\r\npex -r <(pip freeze) -o tmp.pex\r\n# fails on:\r\n# Could not satisfy all requirements for tensorflow==2.0.0rc0:\r\n#    tensorflow==2.0.0rc0\r\n```\r\n\r\nThis only happens when I try `tensorflow==2.0.0rc0`, for example `tensorflow-2.0.0-b1` works fine. It also doesn't happen on macos.\r\nI've noticed that the `-b1` version detects the distribution as `manylinux1` while `rc0` calls it `manylinux2010` - could that be the difference? \r\n\r\nAny solution or a workaround?\r\n\r\nThanks!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/761", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/761/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/761/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/761/events", "html_url": "https://github.com/pantsbuild/pex/issues/761", "id": 483367423, "node_id": "MDU6SXNzdWU0ODMzNjc0MjM=", "number": 761, "title": "pex does not resolve the same version as pip for llvmlite 0.29.0", "user": {"login": "tibonihoo", "id": 222371, "node_id": "MDQ6VXNlcjIyMjM3MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/222371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tibonihoo", "html_url": "https://github.com/tibonihoo", "followers_url": "https://api.github.com/users/tibonihoo/followers", "following_url": "https://api.github.com/users/tibonihoo/following{/other_user}", "gists_url": "https://api.github.com/users/tibonihoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/tibonihoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tibonihoo/subscriptions", "organizations_url": "https://api.github.com/users/tibonihoo/orgs", "repos_url": "https://api.github.com/users/tibonihoo/repos", "events_url": "https://api.github.com/users/tibonihoo/events{/privacy}", "received_events_url": "https://api.github.com/users/tibonihoo/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 1109374693, "node_id": "MDU6TGFiZWwxMTA5Mzc0Njkz", "url": "https://api.github.com/repos/pantsbuild/pex/labels/resolver", "name": "resolver", "color": "20A6B2", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-08-21T11:37:15Z", "updated_at": "2019-11-14T22:48:41Z", "closed_at": "2019-11-14T22:46:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "When trying to use the documented pattern of collecting wheels with pip and then using the wheelhouse with `--no-index` for pex generation of a project, I came across a blocking issue due to a difference in which pex and pip resolved the package name for the 0.29.0 version of llvmlite.\r\n\r\nPlease find below the sequence of commands that \"minimally\" reproduce the issue (along with showing the versions of the various tools involved):\r\n\r\n```\r\n~/shared/Development $mkdir pex-repro\r\n~/shared/Development $cd pex-repro/\r\n~/shared/Development/pex-repro $python3.6 -m venv venv-linux\r\n~/shared/Development/pex-repro $source venv-linux/bin/activate\r\n(venv-linux) ~/shared/Development/pex-repro $python -m pip install --upgrade pip\r\n(...)\r\nSuccessfully installed pip-19.2.2\r\n(venv-linux) ~/shared/Development/pex-repro $python -m pip install --upgrade pex\r\n(...)\r\nSuccessfully installed pex-1.6.10\r\n(venv-linux) ~/shared/Development/pex-repro $python -m pip freeze\r\npex==1.6.10\r\n(venv-linux) ~/shared/Development/pex-repro $python -m pip wheel -w wheelhouseDir \"llvmlite>=0.29.0,<0.30.0\"\r\n(...)\r\n  Saved ./wheelhouseDir/llvmlite-0.29.0-1-cp36-cp36m-manylinux1_x86_64.whl\r\nSkipping llvmlite, due to already being wheel.\r\n(venv-linux) ~/shared/Development/pex-repro $python -m pex -f wheelhouseDir --no-index --disable-cache \"llvmlite>=0.29.0,<0.30.0\" -o test.pex\r\nCould not satisfy all requirements for llvmlite<0.30.0,>=0.29.0:\r\n    llvmlite<0.30.0,>=0.29.0\r\n```\r\n\r\nFor reference and comparison, using pex directly with the same requirement and allowing it to resolve the reference from the package index directly works:\r\n```\r\n(venv-linux) ~/shared/Development/pex-repro $python -m pex -f wheelhouseDir -i https://pypi.org/simple/ -vv --disable-cache \"llvmlite>=0.29.0,<0.30.0\r\n\" -o test.pex\r\npex: Warning, using a UrllibContext which is known to be flaky.\r\npex: Please build pex with the requests module for more reliable downloads.\r\npex: Building pex :: Resolving distributions :: Fetching https://files.pythonhosted.org/packages/09/f1/4fa99c2079132da8694361fb9a19094616f1ba2c2eae610379e7539pex: Building pex :: Resolving distributions :: Fetching https://files.pythonhosted.org/packages/09/f1/4fa99c2079132da8694361fb9a19094616f1ba2c2eae610379e75394575f/llvmlite-0.29.0-cp36-cp36m-manylinux1_x86_64.whl#sha256=bd68e01f1444e38983a364ad1810bdaf3eb59ca1fe8aff4a33cc17a90cb9fcdb :: Fetching https://files.pythonhosted.org/packages/09/f1/4fa99c2079132da8694361fb9a19094616f1ba2c2eae610379e75394575f/llvmlite-0.29.0-cp36-cp36m-manylinux1_x86_64.whl#sha256=bd68e01f1444e3pex: Building pex :: Resolving distributions :: Translating /tmp/tmp6utook28/llvmlite-0.29.0-cp36-cp36m-manylinux1_x86_64.whl into distribution                                                                                                                                                                                                                                                                                                                                             llvmlite<0.30.0,>=0.29.0 -> llvmlite 0.29.0\r\npex: Building pex: 9075.3ms\r\npex:   Resolving interpreters: 5.7ms\r\npex:   Resolving distributions: 9065.0ms\r\npex:     Fetching https://files.pythonhosted.org/packages/09/f1/4fa99c2079132da8694361fb9a19094616f1ba2c2eae610379e75394575f/llvmlite-0.29.0-cp36-cp36m-manylinux1_x86_64.whl#sha256=bd68e01f1444e38983a364ad1810bdaf3eb59ca1fe8aff4a33cc17a90cb9fcdb: 5689.0ms\r\npex:       Fetching https://files.pythonhosted.org/packages/09/f1/4fa99c2079132da8694361fb9a19094616f1ba2c2eae610379e75394575f/llvmlite-0.29.0-cp36-cp36m-manylinux1_x86_64.whl#sha256=bd68e01f1444e38983a364ad1810bdaf3eb59ca1fe8aff4a33cc17a90cb9fcdb: 5688.5ms\r\npex:     Translating /tmp/tmp6utook28/llvmlite-0.29.0-cp36-cp36m-manylinux1_x86_64.whl into distribution: 2.6ms\r\nSaving PEX file to test.pex\r\n```\r\n\r\nAs a summary of what happened:\r\n- pip resolved: `llvmlite-0.29.0-1-cp36-cp36m-manylinux1_x86_64.whl`\r\n- pex resolved: `llvmlite-0.29.0-cp36-cp36m-manylinux1_x86_64.whl`\r\n\r\nSo it seems the extra `-1` in the august release of llvmlite for version 0.29.0 triggered the discrepancy.\r\n\r\nI can understand that the llvmlite naming is possibly breaking some typical assumption on package name and versionning, but the discrepancy between pex and pip is what is really bothering me here as it breaks the \"build wheelhouse -> build pex from wheelhouse\" workflow.\r\n\r\nAm I missing an option that would help having a version resolution that better matches pip ?\r\n\r\nAs last notes of context about my real use case (for the sake of completeness):\r\n- llvmlite is a dependency of an external dependency and I don't have much ways to impose any restriction on its exact version.\r\n- I do need to constraint the set of wheels pex will use (so the \"pex from wheelhouse\" features makes a lot of sense for me)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/759", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/759/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/759/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/759/events", "html_url": "https://github.com/pantsbuild/pex/issues/759", "id": 482464529, "node_id": "MDU6SXNzdWU0ODI0NjQ1Mjk=", "number": 759, "title": "Release 1.6.10", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-08-19T18:36:15Z", "updated_at": "2019-08-20T00:09:35Z", "closed_at": "2019-08-19T20:06:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n\r\n+ [x] version 1.6.9 fails with null module __file__ attribute #756 ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/756", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/756/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/756/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/756/events", "html_url": "https://github.com/pantsbuild/pex/issues/756", "id": 480381414, "node_id": "MDU6SXNzdWU0ODAzODE0MTQ=", "number": 756, "title": "version 1.6.9 fails with null module __file__ attribute", "user": {"login": "gshuflin", "id": 29717477, "node_id": "MDQ6VXNlcjI5NzE3NDc3", "avatar_url": "https://avatars2.githubusercontent.com/u/29717477?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gshuflin", "html_url": "https://github.com/gshuflin", "followers_url": "https://api.github.com/users/gshuflin/followers", "following_url": "https://api.github.com/users/gshuflin/following{/other_user}", "gists_url": "https://api.github.com/users/gshuflin/gists{/gist_id}", "starred_url": "https://api.github.com/users/gshuflin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gshuflin/subscriptions", "organizations_url": "https://api.github.com/users/gshuflin/orgs", "repos_url": "https://api.github.com/users/gshuflin/repos", "events_url": "https://api.github.com/users/gshuflin/events{/privacy}", "received_events_url": "https://api.github.com/users/gshuflin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2019-08-13T21:38:04Z", "updated_at": "2019-08-19T18:36:44Z", "closed_at": "2019-08-19T18:12:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "On my arch linux system, after the pants upgrade to version 1.6.9, a number of pieces of pants functionality that make use of pex started failing with the following error message:\r\n\r\n```\r\n                     Traceback (most recent call last):\r\n                       File \"/home/gregs/code/pants/.pants.d/test/pytest-prep/CPython-3.7.3/7c81bb6ec656c4064b548c392d519f0695716e81/.bootstrap/pex/pex.py\", line 356, in execute\r\n                         self.patch_sys(pex_inherit_path)\r\n                       File \"/home/gregs/code/pants/.pants.d/test/pytest-prep/CPython-3.7.3/7c81bb6ec656c4064b548c392d519f0695716e81/.bootstrap/pex/pex.py\", line 285, in patch_sys\r\n                         new_sys_path, new_sys_path_importer_cache, new_sys_modules = self.minimum_sys(inherit_path)\r\n                       File \"/home/gregs/code/pants/.pants.d/test/pytest-prep/CPython-3.7.3/7c81bb6ec656c4064b548c392d519f0695716e81/.bootstrap/pex/pex.py\", line 259, in minimum_sys\r\n                         sys_modules = cls.minimum_sys_modules(site_libs)\r\n                       File \"/home/gregs/code/pants/.pants.d/test/pytest-prep/CPython-3.7.3/7c81bb6ec656c4064b548c392d519f0695716e81/.bootstrap/pex/pex.py\", line 179, in minimum_sys_modules\r\n                         if cls._tainted_path(module_file, site_libs):\r\n                       File \"/home/gregs/code/pants/.pants.d/test/pytest-prep/CPython-3.7.3/7c81bb6ec656c4064b548c392d519f0695716e81/.bootstrap/pex/pex.py\", line 157, in _tainted_path\r\n                         paths = frozenset([path, os.path.realpath(path)])\r\n                       File \"/home/gregs/code/pants/build-support/pants_dev_deps.py37.venv/lib/python3.7/posixpath.py\", line 394, in realpath\r\n                         filename = os.fspath(filename)\r\n                     TypeError: expected str, bytes or os.PathLike object, not NoneType\r\n```\r\nIt looks like what's going on here is that https://github.com/pantsbuild/pex/blob/master/pex/pex.py#L178 is iterating over every module and extracting the `__file__` attribute of that mdoule. However, some module on my system seems to have a `None` value for that attribute, which is causing code downstream of that line to fail. It looks like the commit https://github.com/pantsbuild/pex/pull/752/commits/b5f7e41780c8f05a07640dc09fdeed67e1b7a6a6 might be relevant.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/751", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/751/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/751/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/751/events", "html_url": "https://github.com/pantsbuild/pex/issues/751", "id": 477482969, "node_id": "MDU6SXNzdWU0Nzc0ODI5Njk=", "number": 751, "title": "Release 1.6.9", "user": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 381218113, "node_id": "MDU6TGFiZWwzODEyMTgxMTM=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/release", "name": "release", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2019-08-06T16:37:50Z", "updated_at": "2019-08-08T15:05:09Z", "closed_at": "2019-08-08T14:55:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "On the docket:\r\n+ [x] Fix pkg resource early import #750\r\n+ [x] Fix `sys.path` scrubbing of pex extras modules. #752\r\n\r\nMaybe on the docket:\r\n+ [ ] Problem running PEX files with restricted permissions #746", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/749", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/749/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/749/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/749/events", "html_url": "https://github.com/pantsbuild/pex/issues/749", "id": 474159950, "node_id": "MDU6SXNzdWU0NzQxNTk5NTA=", "number": 749, "title": "pkg_resources imported too early", "user": {"login": "jhamet93", "id": 7623671, "node_id": "MDQ6VXNlcjc2MjM2NzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/7623671?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhamet93", "html_url": "https://github.com/jhamet93", "followers_url": "https://api.github.com/users/jhamet93/followers", "following_url": "https://api.github.com/users/jhamet93/following{/other_user}", "gists_url": "https://api.github.com/users/jhamet93/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhamet93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhamet93/subscriptions", "organizations_url": "https://api.github.com/users/jhamet93/orgs", "repos_url": "https://api.github.com/users/jhamet93/repos", "events_url": "https://api.github.com/users/jhamet93/events{/privacy}", "received_events_url": "https://api.github.com/users/jhamet93/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645380, "node_id": "MDU6TGFiZWwxMTU2NDUzODA=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-07-29T17:06:18Z", "updated_at": "2019-08-07T01:02:06Z", "closed_at": "2019-08-07T01:02:06Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I ran across two cases recently which resulted in pkg_resources being imported too early (resulting in the global working set being set before sys.path is done being finalized). This issue is also relevant to #713, #730, #732 .\r\n\r\n1.  In setuptools, If a package sets `namespace_packages` to be an empty list in the setup.py, `has_metadata` will return True in the executed code below in environment.py.\r\n```\r\ndef _declare_namespace_packages(resolved_dists):\r\n    namespace_package_dists = [dist for dist in resolved_dists if dist.has_metadata('namespace_packages.txt')]\r\n    if not namespace_package_dists:\r\n      return  # Nothing to do here.\r\n    pkg_resources, vendored = _import_pkg_resources()\r\n    ...\r\n```\r\nHowever, since the list is empty, it is not actually a namespace package. This results in pkg_resources to be imported too early. I discovered this issue when using the package, `autopep8` in which the dependency, `pycodestyle`, was causing this.(https://github.com/PyCQA/pycodestyle/blob/2.5.0/setup.py). Therefore, to be defensive, should the code also ensure there's a value within the metadata ? \r\n\r\n2.  It seems the current logic is only cognizant of making sure not to import pkg_resources too early according to the executed pex.  Therefore, when setting PEX_PATH to merge in other pexes into the current environment, pkg_resources can be imported too early if there is a namespace package before the last merged pex. Should the code be modified to declare all the namespace packages only after all the pexes have been merged ? \r\n\r\n\r\nBoth issues can be reproduced identically.\r\n```\r\npex setuptools autopep8 -o environment.pex\r\npex six -o missing_dependency.pex\r\nPEX_PATH=$(pwd)/missing_dependency.pex: ./environment.pex\r\n```\r\n```\r\n>>> import pkg_resources\r\n>>> pkg_resources.get_distribution('six')\r\nTraceback (most recent call last):\r\n  File \"<console>\", line 1, in <module>\r\n  File \"/Users/jhamet/.pex/install/setuptools-41.0.1-py2.py3-none-any.whl.ffa66c57fd90eee9c21efeb1d3d918a7b960fa4f/setuptools-41.0.1-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 481, in get_distribution\r\n    dist = get_provider(dist)\r\n  File \"/Users/jhamet/.pex/install/setuptools-41.0.1-py2.py3-none-any.whl.ffa66c57fd90eee9c21efeb1d3d918a7b960fa4f/setuptools-41.0.1-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 357, in get_provider\r\n    return working_set.find(moduleOrReq) or require(str(moduleOrReq))[0]\r\n  File \"/Users/jhamet/.pex/install/setuptools-41.0.1-py2.py3-none-any.whl.ffa66c57fd90eee9c21efeb1d3d918a7b960fa4f/setuptools-41.0.1-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 900, in require\r\n    needed = self.resolve(parse_requirements(requirements))\r\n  File \"/Users/jhamet/.pex/install/setuptools-41.0.1-py2.py3-none-any.whl.ffa66c57fd90eee9c21efeb1d3d918a7b960fa4f/setuptools-41.0.1-py2.py3-none-any.whl/pkg_resources/__init__.py\", line 786, in resolve\r\n    raise DistributionNotFound(req, requirers)\r\nDistributionNotFound: The 'six' distribution was not found and is required by the application\r\n>>> import importlib\r\n>>> importlib.reload(pkg_resources)\r\n<module 'pkg_resources' from '/Users/jhamet/.pex/install/setuptools-41.0.1-py2.py3-none-any.whl.ffa66c57fd90eee9c21efeb1d3d918a7b960fa4f/setuptools-41.0.1-py2.py3-none-any.whl/pkg_resources/__init__.pyc'>\r\n>>> pkg_resources.get_distribution('six')\r\nsix 1.12.0 (/Users/jhamet/.pex/install/six-1.12.0-py2.py3-none-any.whl.56417fecea1347c6c047607ab9996cc97aec99de/six-1.12.0-py2.py3-none-any.whl)\r\n```\r\n\r\nI can work on a pull request, just want to affirm these are issues.  Solving the second case should handle any issue brought forth from the first case.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/748", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/748/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/748/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/748/events", "html_url": "https://github.com/pantsbuild/pex/issues/748", "id": 474039773, "node_id": "MDU6SXNzdWU0NzQwMzk3NzM=", "number": 748, "title": " Problem running PEX files with restricted permissions ", "user": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-07-29T13:03:54Z", "updated_at": "2019-08-06T15:26:02Z", "closed_at": "2019-08-06T15:26:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Because #746 remains closed though unresolved.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/pantsbuild/pex/issues/746", "repository_url": "https://api.github.com/repos/pantsbuild/pex", "labels_url": "https://api.github.com/repos/pantsbuild/pex/issues/746/labels{/name}", "comments_url": "https://api.github.com/repos/pantsbuild/pex/issues/746/comments", "events_url": "https://api.github.com/repos/pantsbuild/pex/issues/746/events", "html_url": "https://github.com/pantsbuild/pex/issues/746", "id": 471590534, "node_id": "MDU6SXNzdWU0NzE1OTA1MzQ=", "number": 746, "title": "Problem running PEX files with restricted permissions", "user": {"login": "jfinkhaeuser", "id": 203885, "node_id": "MDQ6VXNlcjIwMzg4NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/203885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jfinkhaeuser", "html_url": "https://github.com/jfinkhaeuser", "followers_url": "https://api.github.com/users/jfinkhaeuser/followers", "following_url": "https://api.github.com/users/jfinkhaeuser/following{/other_user}", "gists_url": "https://api.github.com/users/jfinkhaeuser/gists{/gist_id}", "starred_url": "https://api.github.com/users/jfinkhaeuser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jfinkhaeuser/subscriptions", "organizations_url": "https://api.github.com/users/jfinkhaeuser/orgs", "repos_url": "https://api.github.com/users/jfinkhaeuser/repos", "events_url": "https://api.github.com/users/jfinkhaeuser/events{/privacy}", "received_events_url": "https://api.github.com/users/jfinkhaeuser/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 115645382, "node_id": "MDU6TGFiZWwxMTU2NDUzODI=", "url": "https://api.github.com/repos/pantsbuild/pex/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "jsirois", "id": 157586, "node_id": "MDQ6VXNlcjE1NzU4Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/157586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirois", "html_url": "https://github.com/jsirois", "followers_url": "https://api.github.com/users/jsirois/followers", "following_url": "https://api.github.com/users/jsirois/following{/other_user}", "gists_url": "https://api.github.com/users/jsirois/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirois/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirois/subscriptions", "organizations_url": "https://api.github.com/users/jsirois/orgs", "repos_url": "https://api.github.com/users/jsirois/repos", "events_url": "https://api.github.com/users/jsirois/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirois/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 20, "created_at": "2019-07-23T09:39:19Z", "updated_at": "2020-06-09T00:00:05Z", "closed_at": "2020-03-25T17:25:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running PEX files, `PexInfo` determines the `install_cache` path based on the `pex_root` path, which in turn can be set in the `PEX-INFO` file - but isn't.\r\n\r\nThat means it defaults to `~/.pex` for writing the install cache - which fails when that path isn't writeable for the user. That can happen - is common practice, even - when securing a system against unwanted file system access. Writing to the home directory, for example, can modify environment variables in unwanted ways.\r\n\r\nThere's a number of things that could be improved in the approach of defaulting to `~/.pex`, but different requirements here would conflict with each other - so I'll leave that discussion to other people. The main point, though, is that it would be *very, very useful* if one could set the `pex_root` value that goes into the `PEX-INFO` file, so that you can effectively choose other paths for the `install_cache`. If additionally, `install_cache` could be overridden as well, that'd be excellent.", "performed_via_github_app": null, "score": 1.0}]}