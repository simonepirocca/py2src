{"total_count": 73, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/194", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/194/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/194/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/194", "id": 590471206, "node_id": "MDU6SXNzdWU1OTA0NzEyMDY=", "number": 194, "title": "Version 3.0.2 break compilation on pypy", "user": {"login": "fruch", "id": 340979, "node_id": "MDQ6VXNlcjM0MDk3OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/340979?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fruch", "html_url": "https://github.com/fruch", "followers_url": "https://api.github.com/users/fruch/followers", "following_url": "https://api.github.com/users/fruch/following{/other_user}", "gists_url": "https://api.github.com/users/fruch/gists{/gist_id}", "starred_url": "https://api.github.com/users/fruch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fruch/subscriptions", "organizations_url": "https://api.github.com/users/fruch/orgs", "repos_url": "https://api.github.com/users/fruch/repos", "events_url": "https://api.github.com/users/fruch/events{/privacy}", "received_events_url": "https://api.github.com/users/fruch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-30T17:41:46Z", "updated_at": "2020-07-22T19:34:19Z", "closed_at": "2020-07-19T13:28:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nlz4/_version.c:39:65: error: redefinition of parameter \u00e2\u20ac\u02dcPy_UNUSED\u00e2\u20ac\u2122\r\n   library_version_number (PyObject * Py_UNUSED (self), PyObject * Py_UNUSED (args))\r\n                                                                   ^\r\n```\r\nFull log:\r\nhttps://api.travis-ci.org/v3/job/661421436/log.txt\r\n\r\nOn version 2.2.1 it was compiling o.k.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/193", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/193/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/193/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/193/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/193", "id": 569158496, "node_id": "MDU6SXNzdWU1NjkxNTg0OTY=", "number": 193, "title": "Precompiled wheels for 3.8 on Windows 10 not installing", "user": {"login": "cdgriffith", "id": 3275435, "node_id": "MDQ6VXNlcjMyNzU0MzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3275435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdgriffith", "html_url": "https://github.com/cdgriffith", "followers_url": "https://api.github.com/users/cdgriffith/followers", "following_url": "https://api.github.com/users/cdgriffith/following{/other_user}", "gists_url": "https://api.github.com/users/cdgriffith/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdgriffith/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdgriffith/subscriptions", "organizations_url": "https://api.github.com/users/cdgriffith/orgs", "repos_url": "https://api.github.com/users/cdgriffith/repos", "events_url": "https://api.github.com/users/cdgriffith/events{/privacy}", "received_events_url": "https://api.github.com/users/cdgriffith/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-21T20:05:17Z", "updated_at": "2020-03-17T20:14:57Z", "closed_at": "2020-03-17T20:14:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python: `Python 3.8.1 (tags/v3.8.1:1b293b6, Dec 18 2019, 22:39:24) [MSC v.1916 32 bit (Intel)] on win32` \r\n\r\nUsing same venv: `pip install ..\\..\\Downloads\\lz4-3.0.2-cp38-cp38-win32.whl\r\nlz4-3.0.2-cp38-cp38-win32.whl is not a supported wheel on this platform` \r\n\r\nTrying to do a `pip install lz4` will try to manually compile them. I could be missing something obvious, but just not having luck (with any version, not just 3.0.2 for me). Any help appreciated, thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/192", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/192/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/192/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/192", "id": 566843982, "node_id": "MDU6SXNzdWU1NjY4NDM5ODI=", "number": 192, "title": "Tests fail with out of memory error", "user": {"login": "grazzolini", "id": 4093184, "node_id": "MDQ6VXNlcjQwOTMxODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/4093184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grazzolini", "html_url": "https://github.com/grazzolini", "followers_url": "https://api.github.com/users/grazzolini/followers", "following_url": "https://api.github.com/users/grazzolini/following{/other_user}", "gists_url": "https://api.github.com/users/grazzolini/gists{/gist_id}", "starred_url": "https://api.github.com/users/grazzolini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grazzolini/subscriptions", "organizations_url": "https://api.github.com/users/grazzolini/orgs", "repos_url": "https://api.github.com/users/grazzolini/repos", "events_url": "https://api.github.com/users/grazzolini/events{/privacy}", "received_events_url": "https://api.github.com/users/grazzolini/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-18T11:57:42Z", "updated_at": "2020-04-04T22:21:54Z", "closed_at": "2020-04-04T22:21:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to build version 3.0.2 of python-lz4 for the Arch Linux package and the tests fail because the OOM killer is actually kicking in and killing the tests. I have attached the relevant section of the build output. This was on a machine with 128GB of RAM, so I don't think it's an actual hardware issue.\r\n\r\n[lz4-error.txt](https://github.com/python-lz4/python-lz4/files/4219028/lz4-error.txt)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/190", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/190/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/190/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/190", "id": 560629297, "node_id": "MDU6SXNzdWU1NjA2MjkyOTc=", "number": 190, "title": "wrong name of argument in docstring of compress_begin", "user": {"login": "nelzas", "id": 15090547, "node_id": "MDQ6VXNlcjE1MDkwNTQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/15090547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nelzas", "html_url": "https://github.com/nelzas", "followers_url": "https://api.github.com/users/nelzas/followers", "following_url": "https://api.github.com/users/nelzas/following{/other_user}", "gists_url": "https://api.github.com/users/nelzas/gists{/gist_id}", "starred_url": "https://api.github.com/users/nelzas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nelzas/subscriptions", "organizations_url": "https://api.github.com/users/nelzas/orgs", "repos_url": "https://api.github.com/users/nelzas/repos", "events_url": "https://api.github.com/users/nelzas/events{/privacy}", "received_events_url": "https://api.github.com/users/nelzas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-05T21:07:58Z", "updated_at": "2020-02-06T21:36:24Z", "closed_at": "2020-02-06T21:36:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In one place it is written block_mode, it should be block_linked. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/189", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/189/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/189/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/189", "id": 550496051, "node_id": "MDU6SXNzdWU1NTA0OTYwNTE=", "number": 189, "title": "lz4.block.compress() missing keyword arguments referenced in docs", "user": {"login": "MattTimms", "id": 8767225, "node_id": "MDQ6VXNlcjg3NjcyMjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/8767225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MattTimms", "html_url": "https://github.com/MattTimms", "followers_url": "https://api.github.com/users/MattTimms/followers", "following_url": "https://api.github.com/users/MattTimms/following{/other_user}", "gists_url": "https://api.github.com/users/MattTimms/gists{/gist_id}", "starred_url": "https://api.github.com/users/MattTimms/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MattTimms/subscriptions", "organizations_url": "https://api.github.com/users/MattTimms/orgs", "repos_url": "https://api.github.com/users/MattTimms/repos", "events_url": "https://api.github.com/users/MattTimms/events{/privacy}", "received_events_url": "https://api.github.com/users/MattTimms/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 563728366, "node_id": "MDU6TGFiZWw1NjM3MjgzNjY=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/information%20needed", "name": "information needed", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-16T00:01:39Z", "updated_at": "2020-01-19T08:58:27Z", "closed_at": "2020-01-19T08:58:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Despite working as intended, `lz4.block.compress()` in `lz4/block/_block.py` is missing `store_size` and `dict` keyword arguments referenced in docs and its docstrings. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/186", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/186/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/186/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/186", "id": 543221885, "node_id": "MDU6SXNzdWU1NDMyMjE4ODU=", "number": 186, "title": "Please create a python 3.8.x wheel ", "user": {"login": "bxff", "id": 51504045, "node_id": "MDQ6VXNlcjUxNTA0MDQ1", "avatar_url": "https://avatars0.githubusercontent.com/u/51504045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bxff", "html_url": "https://github.com/bxff", "followers_url": "https://api.github.com/users/bxff/followers", "following_url": "https://api.github.com/users/bxff/following{/other_user}", "gists_url": "https://api.github.com/users/bxff/gists{/gist_id}", "starred_url": "https://api.github.com/users/bxff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bxff/subscriptions", "organizations_url": "https://api.github.com/users/bxff/orgs", "repos_url": "https://api.github.com/users/bxff/repos", "events_url": "https://api.github.com/users/bxff/events{/privacy}", "received_events_url": "https://api.github.com/users/bxff/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-28T16:01:24Z", "updated_at": "2019-12-28T20:53:38Z", "closed_at": "2019-12-28T20:53:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "As the title says, would be really helpful\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/185", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/185/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/185/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/185/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/185", "id": 541024547, "node_id": "MDU6SXNzdWU1NDEwMjQ1NDc=", "number": 185, "title": "Add C4711 to excluded warnings", "user": {"login": "silverbacknet", "id": 1977016, "node_id": "MDQ6VXNlcjE5NzcwMTY=", "avatar_url": "https://avatars0.githubusercontent.com/u/1977016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/silverbacknet", "html_url": "https://github.com/silverbacknet", "followers_url": "https://api.github.com/users/silverbacknet/followers", "following_url": "https://api.github.com/users/silverbacknet/following{/other_user}", "gists_url": "https://api.github.com/users/silverbacknet/gists{/gist_id}", "starred_url": "https://api.github.com/users/silverbacknet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/silverbacknet/subscriptions", "organizations_url": "https://api.github.com/users/silverbacknet/orgs", "repos_url": "https://api.github.com/users/silverbacknet/repos", "events_url": "https://api.github.com/users/silverbacknet/events{/privacy}", "received_events_url": "https://api.github.com/users/silverbacknet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-20T14:32:25Z", "updated_at": "2019-12-20T16:59:40Z", "closed_at": "2019-12-20T16:59:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I won't bore you with pasting in, but compiling with VS 2019 via setup.py garnered at least a thousand lines with the same C4711 warning. ex: `warning C4711: function 'LZ4_read32' selected for automatic inline expansion`\r\n\r\nMight add #pragma warning( disable : 4711 ) in lz4.h in the meantime?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/184", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/184/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/184/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/184/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/184", "id": 537956148, "node_id": "MDU6SXNzdWU1Mzc5NTYxNDg=", "number": 184, "title": "Performance lz4.frame.decompress_chunk poor", "user": {"login": "bjonen", "id": 832380, "node_id": "MDQ6VXNlcjgzMjM4MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/832380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjonen", "html_url": "https://github.com/bjonen", "followers_url": "https://api.github.com/users/bjonen/followers", "following_url": "https://api.github.com/users/bjonen/following{/other_user}", "gists_url": "https://api.github.com/users/bjonen/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjonen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjonen/subscriptions", "organizations_url": "https://api.github.com/users/bjonen/orgs", "repos_url": "https://api.github.com/users/bjonen/repos", "events_url": "https://api.github.com/users/bjonen/events{/privacy}", "received_events_url": "https://api.github.com/users/bjonen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-14T19:40:46Z", "updated_at": "2019-12-28T20:53:57Z", "closed_at": "2019-12-28T20:53:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I ran into the 2GB limit when compressing with lz4.block and followed the [docs](https://python-lz4.readthedocs.io/en/stable/quickstart.html#working-with-data-in-chunks) to use lz4.frame to be able to compress/decompress via chunks. \r\n\r\nThe decompress step seems extremely slow on my machine with test data of ~1GB running python-lz4 version 2.2.1. \r\n\r\nCompared to block (high compression) it runs 7 times slower, compared to lz4framed 15 times slower. \r\n\r\nOutput\r\n\r\n```\r\nRunning lz4 version 2.2.1\r\nTest data 1048.6MB\r\n\r\nlz4.block\r\nCompression took 0.2s - size 4.1MB\r\nDeompression took 1.6s\r\nlz4.frame\r\nCompression took 1.1s - size 4.3MB\r\nDeompression took 14.3s\r\nlz4framed\r\nCompression took 5.1s - size 4.3MB\r\nDeompression took 0.8s\r\n```\r\n\r\n```\r\nimport os\r\nimport sys\r\nimport time\r\nimport lz4\r\nfrom lz4.block import compress as lz4_compress, decompress as lz4_decompress\r\n\r\nprint(f'Running lz4 version {lz4.__version__}')\r\ns = 1000 * 1024 *  os.urandom(1024)\r\nprint(f'Test data {sys.getsizeof(s)/1.e6:2.1f}MB\\n')\r\n\r\nprint('lz4.block')\r\nlz4_compressHC = lambda _str: lz4_compress(_str, mode='high_compression')\r\nstart = time.time()\r\ncompressed = lz4_compressHC(s)\r\nend = time.time()\r\nprint(f'Compression took {end-start:2.1f}s - size {sys.getsizeof(compressed)/1.e6:2.1f}MB')\r\nstart = time.time()\r\ns2 = lz4_decompress(compressed)\r\nend = time.time()\r\nprint(f'Deompression took {end-start:2.1f}s')\r\nassert s == s2\r\n\r\nprint('lz4.frame')\r\nimport lz4.frame\r\nstart = time.time()\r\nc_context = lz4.frame.create_compression_context()\r\ncompressed = lz4.frame.compress_begin(c_context)\r\ncompressed += lz4.frame.compress_chunk(c_context, s[:10 * 128 * 1024])\r\ncompressed += lz4.frame.compress_chunk(c_context, s[10 * 128 * 1024:])\r\ncompressed += lz4.frame.compress_flush(c_context)\r\nend = time.time()\r\nprint(f'Compression took {end-start:2.1f}s - size {sys.getsizeof(compressed)/1.e6:2.1f}MB')\r\n\r\nstart = time.time()\r\nd_context = lz4.frame.create_decompression_context()\r\nd1, b, e = lz4.frame.decompress_chunk(d_context, compressed[:len(compressed)//2])\r\nd2, b, e = lz4.frame.decompress_chunk(d_context, compressed[len(compressed)//2:])\r\nd1 + d2 == s\r\nend = time.time()\r\nprint(f'Deompression took {end-start:2.1f}s')\r\n\r\nprint('lz4framed')\r\nimport lz4framed\r\nstart = time.time()\r\ncompressed = lz4framed.compress(s, level=4)\r\nend = time.time()\r\nprint(f'Compression took {end-start:2.1f}s - size {sys.getsizeof(compressed)/1.e6:2.1f}MB')\r\n\r\nstart = time.time()\r\ns2 = lz4framed.decompress(compressed)\r\nend = time.time()\r\nprint(f'Deompression took {end-start:2.1f}s')\r\nassert s == s2\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/183", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/183/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/183/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/183", "id": 530789629, "node_id": "MDU6SXNzdWU1MzA3ODk2Mjk=", "number": 183, "title": "Invalid _block.LZ4BlockError: Decompression failed: corrupt input or insufficient space in destination buffer. Error code: 179", "user": {"login": "tobgu", "id": 485836, "node_id": "MDQ6VXNlcjQ4NTgzNg==", "avatar_url": "https://avatars0.githubusercontent.com/u/485836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tobgu", "html_url": "https://github.com/tobgu", "followers_url": "https://api.github.com/users/tobgu/followers", "following_url": "https://api.github.com/users/tobgu/following{/other_user}", "gists_url": "https://api.github.com/users/tobgu/gists{/gist_id}", "starred_url": "https://api.github.com/users/tobgu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tobgu/subscriptions", "organizations_url": "https://api.github.com/users/tobgu/orgs", "repos_url": "https://api.github.com/users/tobgu/repos", "events_url": "https://api.github.com/users/tobgu/events{/privacy}", "received_events_url": "https://api.github.com/users/tobgu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-01T20:24:29Z", "updated_at": "2020-01-08T20:41:22Z", "closed_at": "2019-12-28T17:04:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "For some shapes of data compressed with https://github.com/pierrec/lz4 this library raises a seemingly incorrect `LZ4BlockerError`. The error indicates that the supplied buffer size is to small to decompress the input. By adding 1 to the supplied expected size the data is decompressed fine though and the size is the expected.\r\n\r\nI've attached the smallest compressed example file that I was able to manufacture that fails. There is also a corresponding issue opened here for the Go compressor: https://github.com/pierrec/lz4/issues/58. The investigation done there indicates that the underlying C library manages to uncompress the data fine though which points in the direction of the Python lib.\r\n\r\nThis is the code used for decompression:\r\n```python\r\nimport lz4.block\r\n\r\nsize = 214\r\nwith open(f'test_compressed_{size}.txt', mode='rb') as f:\r\n    # This crashes with _block.LZ4BlockError: Decompression failed: corrupt input or insufficient space in destination buffer. Error code: 179\r\n    result = lz4.block.decompress(f.read(), uncompressed_size=size)\r\n\r\n    # This works, the decompressed size is 214 bytes\r\n    # result = lz4.block.decompress(f.read(), uncompressed_size=size+1)\r\n    # print(len(result))   # 214\r\n```\r\n[test_compressed_214.txt](https://github.com/python-lz4/python-lz4/files/3908669/test_compressed_214.txt)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/182", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/182/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/182/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/182", "id": 507381052, "node_id": "MDU6SXNzdWU1MDczODEwNTI=", "number": 182, "title": "ImportError: No module named lz4.block", "user": {"login": "pandalatte", "id": 52426808, "node_id": "MDQ6VXNlcjUyNDI2ODA4", "avatar_url": "https://avatars0.githubusercontent.com/u/52426808?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pandalatte", "html_url": "https://github.com/pandalatte", "followers_url": "https://api.github.com/users/pandalatte/followers", "following_url": "https://api.github.com/users/pandalatte/following{/other_user}", "gists_url": "https://api.github.com/users/pandalatte/gists{/gist_id}", "starred_url": "https://api.github.com/users/pandalatte/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pandalatte/subscriptions", "organizations_url": "https://api.github.com/users/pandalatte/orgs", "repos_url": "https://api.github.com/users/pandalatte/repos", "events_url": "https://api.github.com/users/pandalatte/events{/privacy}", "received_events_url": "https://api.github.com/users/pandalatte/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 563728366, "node_id": "MDU6TGFiZWw1NjM3MjgzNjY=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/information%20needed", "name": "information needed", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-15T17:26:13Z", "updated_at": "2020-01-21T08:46:10Z", "closed_at": "2020-01-19T08:54:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone!\r\nI'm trying to edit a search engine extension in Firefox Quantum. Some guy has posted a piece of code elsewhere that reads as\r\n\r\n\"#!/usr/bin/env python\r\n\r\nimport lz4.block as lb\r\n\r\ninfile = 'search.json.mozlz4'\r\noutfile = 'search.json.mozlz4_'\r\n\r\ninf = open(infile, 'rb')\r\ninf.read(8)\r\ndata = lb.decompress(inf.read())\r\noutf = open(outfile, 'wb')\r\noutf.write(data)\"\r\n========================\r\n\r\nSo I did\r\n\"pip install lz4\", add the requirements, then I execute this code, but it says\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"./se\", line 3, in <module>\r\n    import lz4.block as lb\r\nImportError: No module named lz4.block\r\n\r\n================\r\nDo I need any extra libraries? Thanks a lot", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/181", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/181/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/181/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/181/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/181", "id": 503030609, "node_id": "MDU6SXNzdWU1MDMwMzA2MDk=", "number": 181, "title": "deprecation is still listed in requirements.txt", "user": {"login": "opoplawski", "id": 814662, "node_id": "MDQ6VXNlcjgxNDY2Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/814662?v=4", "gravatar_id": "", "url": "https://api.github.com/users/opoplawski", "html_url": "https://github.com/opoplawski", "followers_url": "https://api.github.com/users/opoplawski/followers", "following_url": "https://api.github.com/users/opoplawski/following{/other_user}", "gists_url": "https://api.github.com/users/opoplawski/gists{/gist_id}", "starred_url": "https://api.github.com/users/opoplawski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/opoplawski/subscriptions", "organizations_url": "https://api.github.com/users/opoplawski/orgs", "repos_url": "https://api.github.com/users/opoplawski/repos", "events_url": "https://api.github.com/users/opoplawski/events{/privacy}", "received_events_url": "https://api.github.com/users/opoplawski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-05T23:53:51Z", "updated_at": "2019-12-28T17:12:13Z", "closed_at": "2019-12-28T17:12:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "deprecation is still listed in requirements.txt.  I'm guessing that is just an oversight.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/178", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/178/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/178/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/178", "id": 486424786, "node_id": "MDU6SXNzdWU0ODY0MjQ3ODY=", "number": 178, "title": "Decompression failed: corrupt input or insufficient space in destination buffer. Error code: 16", "user": {"login": "shedance", "id": 34019602, "node_id": "MDQ6VXNlcjM0MDE5NjAy", "avatar_url": "https://avatars0.githubusercontent.com/u/34019602?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shedance", "html_url": "https://github.com/shedance", "followers_url": "https://api.github.com/users/shedance/followers", "following_url": "https://api.github.com/users/shedance/following{/other_user}", "gists_url": "https://api.github.com/users/shedance/gists{/gist_id}", "starred_url": "https://api.github.com/users/shedance/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shedance/subscriptions", "organizations_url": "https://api.github.com/users/shedance/orgs", "repos_url": "https://api.github.com/users/shedance/repos", "events_url": "https://api.github.com/users/shedance/events{/privacy}", "received_events_url": "https://api.github.com/users/shedance/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-08-28T14:38:53Z", "updated_at": "2020-04-10T14:42:56Z", "closed_at": "2019-09-04T09:37:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "import lz4.block as lb\r\n\r\nTraceback (most recent call last):\r\n  File \"test1.py\", line 82, in <module>\r\n    dec = lb.decompress(data,uncompressed_size=208226,return_bytearray=True)\r\n_block.LZ4BlockError: Decompression failed: corrupt input or insufficient space in destination buffer. Error code: 16\r\n\r\n\r\n\r\nget the compressed data from the redis\uff0c use the lz4.block to decompress the data , the error occured.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/176", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/176/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/176/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/176", "id": 478704240, "node_id": "MDU6SXNzdWU0Nzg3MDQyNDA=", "number": 176, "title": "Error code: 11", "user": {"login": "Anabiotik", "id": 29384314, "node_id": "MDQ6VXNlcjI5Mzg0MzE0", "avatar_url": "https://avatars3.githubusercontent.com/u/29384314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Anabiotik", "html_url": "https://github.com/Anabiotik", "followers_url": "https://api.github.com/users/Anabiotik/followers", "following_url": "https://api.github.com/users/Anabiotik/following{/other_user}", "gists_url": "https://api.github.com/users/Anabiotik/gists{/gist_id}", "starred_url": "https://api.github.com/users/Anabiotik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Anabiotik/subscriptions", "organizations_url": "https://api.github.com/users/Anabiotik/orgs", "repos_url": "https://api.github.com/users/Anabiotik/repos", "events_url": "https://api.github.com/users/Anabiotik/events{/privacy}", "received_events_url": "https://api.github.com/users/Anabiotik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-08T21:52:31Z", "updated_at": "2019-08-11T16:13:53Z", "closed_at": "2019-08-11T16:13:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have this code on my local server\r\n\r\n```\r\n#!c:\\Python27\\python.exe\r\n# -*- coding: utf-8 -*-\r\nimport cgi\r\nimport os\r\nimport struct\r\nimport zlib\r\n\r\nfrom lz4.block import decompress\r\n\r\nform = cgi.FieldStorage()\r\nfolder = form.getfirst(\"time\")\r\nname = form.getfirst(\"filename\")\r\n\r\nFOOTER_STRUCTURE = '4I4s'\r\nFOOTER_SIZE = struct.calcsize(FOOTER_STRUCTURE)\r\n\r\ninfile = \".\\\\uploads\\\\\" + folder + \"\\\\\" + name;\r\noutPath = \".\\\\uploads\\\\\" + folder + \"\\\\\";\r\n\r\nwith open(infile, 'rb') as f, open(outPath + name[:-5] , 'wb') as out:\r\n    f.seek(-FOOTER_SIZE, os.SEEK_END)\r\n    unpacked, packed, crc, ptype, marker = struct.unpack(FOOTER_STRUCTURE, f.read(FOOTER_SIZE))\r\n    f.seek(0)\r\n    result = decompress(f.read(packed), uncompressed_size=unpacked)\r\n    out.write(result)\r\n    out.close()\r\n    f.close()\r\n\r\n\r\nprint(\"Content-Type: text/html; charset: utf-8\\n\\n\")\r\n```\r\n\r\n\r\nAfter converting the file I need, I get a void and this error\r\n\r\n```\r\nI File \"dvpl_unpack.py\", line 22, in <module> \r\nresult = decompress(f.read(packed), uncompressed_size=unpacked) \r\n_block.LZ4BlockError: Decompression failed: corrupt input or insufficient space \r\nin destination buffer. Error code: 11 \r\n```\r\n\r\nHow to fix this error, preferably in a couple of lines))\r\nPlease pay attention", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/172", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/172/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/172/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/172", "id": 441936221, "node_id": "MDU6SXNzdWU0NDE5MzYyMjE=", "number": 172, "title": "LZ4FrameFile read() fails on windows", "user": {"login": "steve-talent", "id": 50425648, "node_id": "MDQ6VXNlcjUwNDI1NjQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/50425648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steve-talent", "html_url": "https://github.com/steve-talent", "followers_url": "https://api.github.com/users/steve-talent/followers", "following_url": "https://api.github.com/users/steve-talent/following{/other_user}", "gists_url": "https://api.github.com/users/steve-talent/gists{/gist_id}", "starred_url": "https://api.github.com/users/steve-talent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steve-talent/subscriptions", "organizations_url": "https://api.github.com/users/steve-talent/orgs", "repos_url": "https://api.github.com/users/steve-talent/repos", "events_url": "https://api.github.com/users/steve-talent/events{/privacy}", "received_events_url": "https://api.github.com/users/steve-talent/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2019-05-08T21:18:11Z", "updated_at": "2019-06-01T18:59:09Z", "closed_at": "2019-06-01T16:34:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Tested with Python 3.7.3, 3.6.x, and 3.5.x. Code works fine under linux but consistently fails under windows 10.\r\n\r\nIn this example, 'tprofFile' was compressed using lz4 frame format by another application.\r\n#### Console log\r\nA few `print()` statements were added to `__compression.py` to localize the issue.\r\nThis is console output from the code below.\r\n```\r\n$ py TimelineLogViewer/tprof2db.py RouterPerformanceTest tprofdump-192.168.1.26-2019-05-02_10_15_59.tprof.lz4\r\nself.tprof <lz4.frame.LZ4FrameFile object at 0x00000214B1030320>\r\nmagicStruct.size 5\r\nread size 8192\r\nread self._decompressor.eof False\r\nread BUFFER_SIZE 8192\r\nread len(rawblock) 8192\r\nread len(data) 0\r\nread BUFFER_SIZE 8192\r\nread len(rawblock) 8192\r\nread len(data) 65536\r\nlen(byte_view 8192\r\nlen(data) 65536\r\nTraceback (most recent call last):\r\n  File \"TimelineLogViewer/tprof2db.py\", line 711, in <module>\r\n    main()\r\n  File \"TimelineLogViewer/tprof2db.py\", line 640, in main\r\n    tprof = TprofFile( args.tprofFile, sqliteData )\r\n  File \"TimelineLogViewer/tprof2db.py\", line 94, in __init__\r\n    buffer = self.tprof.read( self.magicStruct.size ) # read version, depending on this we will know the header config\r\n  File \"C:\\Users\\steve\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\lz4\\frame\\__init__.py\", line 635, in read\r\n    return self._buffer.read(size)\r\n  File \"C:\\Users\\steve\\AppData\\Local\\Programs\\Python\\Python36\\lib\\_compression.py\", line 71, in readinto\r\n    byte_view[:len(data)] = data\r\nValueError: memoryview assignment: lvalue and rvalue have different structures\r\n```\r\n#### Calling code\r\nThis is the code that uses `lz4.frame.LZ4FrameFile`. The size of the input file is about 1GB.\r\n```python\r\nclass TprofFile( object ):\r\n    ''' class that knows how to parse a tprof timeline binary file '''\r\n\r\n    def __init__( self, tprofFile, dbconn ):\r\n\r\n        #self.tprof = open( tprofFile, 'rb' )\r\n        self.tprof = lz4.frame.open( tprofFile, 'rb' )\r\n        print( \"self.tprof\", self.tprof )\r\n\r\n        self.magicStruct = struct.Struct( '<5s' )\r\n        print( \"magicStruct.size\", self.magicStruct.size )\r\n        buffer = self.tprof.read( self.magicStruct.size ) # read version, depending on this we will know the header config\r\n```\r\n#### Print statements added to `_compression.py`\r\nThe call to `self._decompressor.decompress(rawblock, size)` is returning 64KB but the requested size was 8KB.\r\n```python\r\n    def readinto(self, b):\r\n        with memoryview(b) as view, view.cast(\"B\") as byte_view:\r\n            data = self.read(len(byte_view))\r\n            print('readinto len(byte_view)',len(byte_view))\r\n            print('readinto len(data)',len(data))\r\n            byte_view[:len(data)] = data\r\n        return len(data)\r\n\r\n    def read(self, size=-1):\r\n        print('read size',size)\r\n        print('read self._decompressor.eof',self._decompressor.eof)\r\n        if size < 0:\r\n            return self.readall()\r\n\r\n        if not size or self._eof:\r\n            return b\"\"\r\n        data = None  # Default if EOF is encountered\r\n        # Depending on the input data, our call to the decompressor may not\r\n        # return any data. In this case, try again after reading another block.\r\n        while True:\r\n            if self._decompressor.eof:\r\n                rawblock = (self._decompressor.unused_data or\r\n                            self._fp.read(BUFFER_SIZE))\r\n                if not rawblock:\r\n                    break\r\n                # Continue to next stream.\r\n                self._decompressor = self._decomp_factory(\r\n                    **self._decomp_args)\r\n                print('self._decomp_args',self._decomp_args)\r\n                try:\r\n                    data = self._decompressor.decompress(rawblock, size)\r\n                except self._trailing_error:\r\n                    # Trailing data isn't a valid compressed stream; ignore it.\r\n                    break\r\n            else:\r\n                if self._decompressor.needs_input:\r\n                    print('read BUFFER_SIZE',BUFFER_SIZE)\r\n                    rawblock = self._fp.read(BUFFER_SIZE)\r\n                    print('read len(rawblock)',len(rawblock))\r\n                    if not rawblock:\r\n                        raise EOFError(\"Compressed file ended before the \"\r\n                                       \"end-of-stream marker was reached\")\r\n                else:\r\n                    rawblock = b\"\"\r\n                data = self._decompressor.decompress(rawblock, size)\r\n                print('read len(data)',len(data))\r\n            if data:\r\n                break\r\n        if not data:\r\n            self._eof = True\r\n            self._size = self._pos\r\n            return b\"\"\r\n        self._pos += len(data)\r\n        return data\r\n```                                          ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/170", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/170/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/170/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/170", "id": 434423299, "node_id": "MDU6SXNzdWU0MzQ0MjMyOTk=", "number": 170, "title": "Compression methods corresponding to the C API", "user": {"login": "reikdas", "id": 11775615, "node_id": "MDQ6VXNlcjExNzc1NjE1", "avatar_url": "https://avatars0.githubusercontent.com/u/11775615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reikdas", "html_url": "https://github.com/reikdas", "followers_url": "https://api.github.com/users/reikdas/followers", "following_url": "https://api.github.com/users/reikdas/following{/other_user}", "gists_url": "https://api.github.com/users/reikdas/gists{/gist_id}", "starred_url": "https://api.github.com/users/reikdas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reikdas/subscriptions", "organizations_url": "https://api.github.com/users/reikdas/orgs", "repos_url": "https://api.github.com/users/reikdas/repos", "events_url": "https://api.github.com/users/reikdas/events{/privacy}", "received_events_url": "https://api.github.com/users/reikdas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-17T18:25:14Z", "updated_at": "2019-06-09T09:00:02Z", "closed_at": "2019-06-09T09:00:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Am I correct in assuming that the corresponding python method for `LZ4_compress_HC()` is `lz4.block.compress()` with `mode=\"high_compression\"` (and also setting the compression parameter with the required compression level)?\r\nAlso, is the corresponding python method for `LZ4_compress_default()` `lz4.block.compress()`?\r\n\r\nAlso, trying to uncompress bytes compressed by `lz4.block.compress(uncompressed_bytes, mode=\"high_compression\", level=level)` and `lz4.block.compress(uncompressed_bytes)` via `lz4.block.decompress(compressed_bytes)` works, but `lz4.block.decompress(compressed_bytes, uncompressed_size=len(uncompressed_bytes))` does not work. Could you throw some light on this? Is the value of the `uncompressed_size` parameter of `lz4.block.decompress` different from the actual length of the bytes being compressed?\r\n\r\n\r\nAnother way to frame this question would be -\r\nWhat is the python equivalent of the following C code? \r\n```\r\n#include <lz4.h>\r\n#include <lz4hc.h>\r\n\r\nint foo(int level, int *srcsize, char *src, int *tgtsize, char *tgt) {\r\n    int bar;\r\n    if (level >= 4) {\r\n        bar = LZ4_compress_HC(src, tgt, *srcsize, *tgtsize, level);\r\n    } else {\r\n        bar = LZ4_compress_default(src, tgt, *srcsize, *tgtsize);\r\n    }\r\n\r\n    return (int)bar;\r\n}\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/169", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/169/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/169/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/169", "id": 427423096, "node_id": "MDU6SXNzdWU0Mjc0MjMwOTY=", "number": 169, "title": "legacy file format support", "user": {"login": "armijnhemel", "id": 10587952, "node_id": "MDQ6VXNlcjEwNTg3OTUy", "avatar_url": "https://avatars2.githubusercontent.com/u/10587952?v=4", "gravatar_id": "", "url": "https://api.github.com/users/armijnhemel", "html_url": "https://github.com/armijnhemel", "followers_url": "https://api.github.com/users/armijnhemel/followers", "following_url": "https://api.github.com/users/armijnhemel/following{/other_user}", "gists_url": "https://api.github.com/users/armijnhemel/gists{/gist_id}", "starred_url": "https://api.github.com/users/armijnhemel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/armijnhemel/subscriptions", "organizations_url": "https://api.github.com/users/armijnhemel/orgs", "repos_url": "https://api.github.com/users/armijnhemel/repos", "events_url": "https://api.github.com/users/armijnhemel/events{/privacy}", "received_events_url": "https://api.github.com/users/armijnhemel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-31T17:49:31Z", "updated_at": "2019-05-30T15:47:40Z", "closed_at": "2019-03-31T18:04:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently python-lz4 does not seem to support the legacy file format:\r\n\r\nhttps://github.com/lz4/lz4/blob/master/doc/lz4_Frame_format.md#legacy-frame\r\n\r\nThis particular format, while discouraged by the LZ4 authors, is actually still in use, for example in the Linux kernel:\r\n\r\nhttps://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/lib/decompress_unlz4.c", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/168", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/168/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/168/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/168", "id": 421827051, "node_id": "MDU6SXNzdWU0MjE4MjcwNTE=", "number": 168, "title": "Trying to get checksum of uncompressed data", "user": {"login": "reikdas", "id": 11775615, "node_id": "MDQ6VXNlcjExNzc1NjE1", "avatar_url": "https://avatars0.githubusercontent.com/u/11775615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reikdas", "html_url": "https://github.com/reikdas", "followers_url": "https://api.github.com/users/reikdas/followers", "following_url": "https://api.github.com/users/reikdas/following{/other_user}", "gists_url": "https://api.github.com/users/reikdas/gists{/gist_id}", "starred_url": "https://api.github.com/users/reikdas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reikdas/subscriptions", "organizations_url": "https://api.github.com/users/reikdas/orgs", "repos_url": "https://api.github.com/users/reikdas/repos", "events_url": "https://api.github.com/users/reikdas/events{/privacy}", "received_events_url": "https://api.github.com/users/reikdas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-16T16:34:28Z", "updated_at": "2019-03-31T19:38:56Z", "closed_at": "2019-03-31T19:23:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\r\n>>> import lz4.frame\r\n>>> streamers = b\"....\" # Wrote this manually\r\n>>> len(lz4.frame.compress(streamers, compression_level=1, content_checksum=True)) - len(lz4.frame.compress(streamers, compression_level=1))\r\n```\r\nreturns 4. \r\nSo the length of the checksum is 4. \r\n\r\nIs there a way to get an 8 byte checksum(using xxhash 64)?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/167", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/167/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/167/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/167", "id": 421612296, "node_id": "MDU6SXNzdWU0MjE2MTIyOTY=", "number": 167, "title": "LZ4_versionNumber()", "user": {"login": "reikdas", "id": 11775615, "node_id": "MDQ6VXNlcjExNzc1NjE1", "avatar_url": "https://avatars0.githubusercontent.com/u/11775615?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reikdas", "html_url": "https://github.com/reikdas", "followers_url": "https://api.github.com/users/reikdas/followers", "following_url": "https://api.github.com/users/reikdas/following{/other_user}", "gists_url": "https://api.github.com/users/reikdas/gists{/gist_id}", "starred_url": "https://api.github.com/users/reikdas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reikdas/subscriptions", "organizations_url": "https://api.github.com/users/reikdas/orgs", "repos_url": "https://api.github.com/users/reikdas/repos", "events_url": "https://api.github.com/users/reikdas/events{/privacy}", "received_events_url": "https://api.github.com/users/reikdas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-15T16:50:26Z", "updated_at": "2019-03-15T17:33:05Z", "closed_at": "2019-03-15T17:03:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Is there a way to get the equivalent of the C API's LZ4_versionNumber()?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/166", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/166/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/166/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/166", "id": 404878052, "node_id": "MDU6SXNzdWU0MDQ4NzgwNTI=", "number": 166, "title": "Decompressing fails on buffer compressed in cpp code", "user": {"login": "doronAtuar", "id": 6897301, "node_id": "MDQ6VXNlcjY4OTczMDE=", "avatar_url": "https://avatars3.githubusercontent.com/u/6897301?v=4", "gravatar_id": "", "url": "https://api.github.com/users/doronAtuar", "html_url": "https://github.com/doronAtuar", "followers_url": "https://api.github.com/users/doronAtuar/followers", "following_url": "https://api.github.com/users/doronAtuar/following{/other_user}", "gists_url": "https://api.github.com/users/doronAtuar/gists{/gist_id}", "starred_url": "https://api.github.com/users/doronAtuar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/doronAtuar/subscriptions", "organizations_url": "https://api.github.com/users/doronAtuar/orgs", "repos_url": "https://api.github.com/users/doronAtuar/repos", "events_url": "https://api.github.com/users/doronAtuar/events{/privacy}", "received_events_url": "https://api.github.com/users/doronAtuar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-30T17:21:46Z", "updated_at": "2019-01-31T10:58:04Z", "closed_at": "2019-01-31T10:58:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI don't know if it's a bug in the library or somewhere in my code.\r\nI'll be very grateful for some help\r\n\r\nI'm compressing a buffer in cpp using `LZ4_compress_fast` with acceleration=10\r\n\r\nWhen I try to decompress it using python it fails saying\r\n`RuntimeError: LZ4F_getFrameInfo failed with code: ERROR_frameType_unknown`\r\n\r\nOn the cpp code the decompress works.\r\n\r\nI suspect several things:\r\n- missmatch between python's lz4 version and apt liblz4-dev package\r\n- maybe a cpp pack problem since I write it eventually to a file\r\n  (compressing the buff, placing it in Protobuf in a `bytes` field and writing the Protobuf to a file)\r\n\r\nThanks!\r\n\r\nadditional info:\r\nUbuntu 16.04\r\nliblz4-dev apt package version 0.0~r131-2ubuntu2\r\nPython 3.6\r\nlz4 python package 2.1.6\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/161", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/161/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/161/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/161/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/161", "id": 391036007, "node_id": "MDU6SXNzdWUzOTEwMzYwMDc=", "number": 161, "title": "lz4 is not installable in without internet access", "user": {"login": "jurisbu", "id": 13454223, "node_id": "MDQ6VXNlcjEzNDU0MjIz", "avatar_url": "https://avatars3.githubusercontent.com/u/13454223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jurisbu", "html_url": "https://github.com/jurisbu", "followers_url": "https://api.github.com/users/jurisbu/followers", "following_url": "https://api.github.com/users/jurisbu/following{/other_user}", "gists_url": "https://api.github.com/users/jurisbu/gists{/gist_id}", "starred_url": "https://api.github.com/users/jurisbu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jurisbu/subscriptions", "organizations_url": "https://api.github.com/users/jurisbu/orgs", "repos_url": "https://api.github.com/users/jurisbu/repos", "events_url": "https://api.github.com/users/jurisbu/events{/privacy}", "received_events_url": "https://api.github.com/users/jurisbu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-14T09:42:36Z", "updated_at": "2018-12-18T21:33:56Z", "closed_at": "2018-12-17T20:20:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "In restricted environments where custom pypi is used. The reason seems is that some additional dependencies (pytest-runner?) are pulled during execution of `setup.py`.\r\n\r\nInstallation of `lz4` will eventually fail with:\r\n```\r\n$ pip install -v --user --index-url=<custom pypi repo proxy> lz4\r\n...\r\n  Running setup.py (path:/tmp/pip-build-iUkL_k/lz4/setup.py) egg_info for package lz4\r\n    Running command python setup.py egg_info\r\n\r\n    Download error on https://pypi.python.org/simple/pytest-runner/: [Errno 97] Address family not supported by protocol -- Some packages may not be found!\r\n    Download error on https://pypi.python.org/simple/: [Errno 97] Address family not supported by protocol -- Some packages may not be found!\r\n    No local packages or download links found for pytest-runner\r\n    Couldn't find index page for 'pytest-runner' (maybe misspelled?)\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-iUkL_k/lz4/setup.py\", line 188, in <module>\r\n        'Programming Language :: Python :: 3.7',\r\n      File \"/usr/lib64/python2.7/distutils/core.py\", line 112, in setup\r\n        _setup_distribution = dist = klass(attrs)\r\n      File \"/usr/lib/python2.7/site-packages/setuptools/dist.py\", line 265, in __init__\r\n        self.fetch_build_eggs(attrs.pop('setup_requires'))\r\n      File \"/usr/lib/python2.7/site-packages/setuptools/dist.py\", line 289, in fetch_build_eggs\r\n        parse_requirements(requires), installer=self.fetch_build_egg\r\n      File \"/usr/lib/python2.7/site-packages/pkg_resources.py\", line 618, in resolve\r\n        dist = best[req.key] = env.best_match(req, self, installer)\r\n      File \"/usr/lib/python2.7/site-packages/pkg_resources.py\", line 862, in best_match\r\n        return self.obtain(req, installer) # try and download/install\r\n      File \"/usr/lib/python2.7/site-packages/pkg_resources.py\", line 874, in obtain\r\n        return installer(requirement)\r\n      File \"/usr/lib/python2.7/site-packages/setuptools/dist.py\", line 339, in fetch_build_egg\r\n        return cmd.easy_install(req)\r\n      File \"/usr/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 617, in easy_install\r\n        raise DistutilsError(msg)\r\n    distutils.errors.DistutilsError: Could not find suitable distribution for Requirement.parse('pytest-runner')\r\nCleaning up...\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-iUkL_k/lz4/\r\nException information:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python2.7/site-packages/pip/basecommand.py\", line 215, in main\r\n    status = self.run(options, args)\r\n  File \"/usr/lib/python2.7/site-packages/pip/commands/install.py\", line 307, in run\r\n    requirement_set.prepare_files(finder)\r\n  File \"/usr/lib/python2.7/site-packages/pip/req/req_set.py\", line 370, in prepare_files\r\n    ignore_dependencies=self.ignore_dependencies))\r\n  File \"/usr/lib/python2.7/site-packages/pip/req/req_set.py\", line 601, in _prepare_file\r\n    abstract_dist.prep_for_dist()\r\n  File \"/usr/lib/python2.7/site-packages/pip/req/req_set.py\", line 127, in prep_for_dist\r\n    self.req_to_install.run_egg_info()\r\n  File \"/usr/lib/python2.7/site-packages/pip/req/req_install.py\", line 425, in run_egg_info\r\n    command_desc='python setup.py egg_info')\r\n  File \"/usr/lib/python2.7/site-packages/pip/utils/__init__.py\", line 718, in call_subprocess\r\n    % (command_desc, proc.returncode, cwd))\r\nInstallationError: Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-iUkL_k/lz4/\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/159", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/159/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/159/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/159", "id": 389936938, "node_id": "MDU6SXNzdWUzODk5MzY5Mzg=", "number": 159, "title": "Pip install fails on python 3.6", "user": {"login": "katzdave", "id": 3411038, "node_id": "MDQ6VXNlcjM0MTEwMzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/3411038?v=4", "gravatar_id": "", "url": "https://api.github.com/users/katzdave", "html_url": "https://github.com/katzdave", "followers_url": "https://api.github.com/users/katzdave/followers", "following_url": "https://api.github.com/users/katzdave/following{/other_user}", "gists_url": "https://api.github.com/users/katzdave/gists{/gist_id}", "starred_url": "https://api.github.com/users/katzdave/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/katzdave/subscriptions", "organizations_url": "https://api.github.com/users/katzdave/orgs", "repos_url": "https://api.github.com/users/katzdave/repos", "events_url": "https://api.github.com/users/katzdave/events{/privacy}", "received_events_url": "https://api.github.com/users/katzdave/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 785220751, "node_id": "MDU6TGFiZWw3ODUyMjA3NTE=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/documentation", "name": "documentation", "color": "cbe589", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-12-11T20:20:07Z", "updated_at": "2019-06-09T09:05:30Z", "closed_at": "2019-06-09T09:05:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried running pipenv install lz4 on 2 different machines and got the following on both. Works fine on python3.5\r\n\r\nCollecting lz4==2.1.2 \u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589\u2589 0/1 \u2014 00:00:00\r\n  Using cached https://files.pythonhosted.org/packages/f1/4f/878f1827042c5b6828bc23d160f31e242ec820810b8bd04b30b631029952/lz4-2.1.2.tar.gz\r\nBuilding wheels for collected packages: lz4\r\n  Running setup.py bdist_wheel for lz4: started\r\n  Running setup.py bdist_wheel for lz4: finished with status 'error'\r\n  Complete output from command /home/david/.local/share/virtualenvs/shoup-MJkOh-Us/bin/python3.6 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-jcwbyd6h/lz4/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" bdist_wheel -d /tmp/pip-wheel-wgwe4jnx --python-tag cp36:\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-3.6\r\n  creating build/lib.linux-x86_64-3.6/lz4\r\n  copying lz4/__init__.py -> build/lib.linux-x86_64-3.6/lz4\r\n  copying lz4/version.py -> build/lib.linux-x86_64-3.6/lz4\r\n  creating build/lib.linux-x86_64-3.6/lz4/block\r\n  copying lz4/block/__init__.py -> build/lib.linux-x86_64-3.6/lz4/block\r\n  creating build/lib.linux-x86_64-3.6/lz4/frame\r\n  copying lz4/frame/_compression.py -> build/lib.linux-x86_64-3.6/lz4/frame\r\n  copying lz4/frame/__init__.py -> build/lib.linux-x86_64-3.6/lz4/frame\r\n  warning: build_py: byte-compiling is disabled, skipping.\r\n  \r\n  running build_ext\r\n  building 'lz4._version' extension\r\n  creating build/temp.linux-x86_64-3.6\r\n  creating build/temp.linux-x86_64-3.6/lz4\r\n  creating build/temp.linux-x86_64-3.6/lz4libs\r\n  x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -Ilz4libs -Ipy3c -I/usr/include/python3.6m -I/home/david/.local/share/virtualenvs/shoup-MJkOh-Us/include/python3.6m -c lz4/_version.c -o build/temp.linux-x86_64-3.6/lz4/_version.o -O3 -Wall -Wundef\r\n  In file included from lz4/_version.c:38:0:\r\n  py3c/py3c.h:28:20: fatal error: Python.h: No such file or directory\r\n  compilation terminated.\r\n  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\r\n  \r\n  ----------------------------------------\r\n  Running setup.py clean for lz4\r\nFailed to build lz4\r\nInstalling collected packages: lz4\r\n  Running setup.py install for lz4: started\r\n    Running setup.py install for lz4: finished with status 'error'\r\n    Complete output from command /home/david/.local/share/virtualenvs/shoup-MJkOh-Us/bin/python3.6 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-jcwbyd6h/lz4/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-5dla696c/install-record.txt --single-version-externally-managed --compile --install-headers /home/david/.local/share/virtualenvs/shoup-MJkOh-Us/include/site/python3.6/lz4:\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.6\r\n    creating build/lib.linux-x86_64-3.6/lz4\r\n    copying lz4/__init__.py -> build/lib.linux-x86_64-3.6/lz4\r\n    copying lz4/version.py -> build/lib.linux-x86_64-3.6/lz4\r\n    creating build/lib.linux-x86_64-3.6/lz4/block\r\n    copying lz4/block/__init__.py -> build/lib.linux-x86_64-3.6/lz4/block\r\n    creating build/lib.linux-x86_64-3.6/lz4/frame\r\n    copying lz4/frame/_compression.py -> build/lib.linux-x86_64-3.6/lz4/frame\r\n    copying lz4/frame/__init__.py -> build/lib.linux-x86_64-3.6/lz4/frame\r\n    warning: build_py: byte-compiling is disabled, skipping.\r\n    \r\n    running build_ext\r\n    building 'lz4._version' extension\r\n    creating build/temp.linux-x86_64-3.6\r\n    creating build/temp.linux-x86_64-3.6/lz4\r\n    creating build/temp.linux-x86_64-3.6/lz4libs\r\n    x86_64-linux-gnu-gcc -pthread -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -Ilz4libs -Ipy3c -I/usr/include/python3.6m -I/home/david/.local/share/virtualenvs/shoup-MJkOh-Us/include/python3.6m -c lz4/_version.c -o build/temp.linux-x86_64-3.6/lz4/_version.o -O3 -Wall -Wundef\r\n    In file included from lz4/_version.c:38:0:\r\n    py3c/py3c.h:28:20: fatal error: Python.h: No such file or directory\r\n    compilation terminated.\r\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\r\n    \r\n    ----------------------------------------\r\n\r\n  Failed building wheel for lz4\r\nCommand \"/home/david/.local/share/virtualenvs/shoup-MJkOh-Us/bin/python3.6 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-jcwbyd6h/lz4/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-5dla696c/install-record.txt --single-version-externally-managed --compile --install-headers /home/david/.local/share/virtualenvs/shoup-MJkOh-Us/include/site/python3.6/lz4\" failed with error code 1 in /tmp/pip-install-jcwbyd6h/lz4/\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/158", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/158/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/158/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/158", "id": 389535657, "node_id": "MDU6SXNzdWUzODk1MzU2NTc=", "number": 158, "title": "Installation fails on pkgconfig AttributeError", "user": {"login": "raymondEhlers", "id": 1571927, "node_id": "MDQ6VXNlcjE1NzE5Mjc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1571927?v=4", "gravatar_id": "", "url": "https://api.github.com/users/raymondEhlers", "html_url": "https://github.com/raymondEhlers", "followers_url": "https://api.github.com/users/raymondEhlers/followers", "following_url": "https://api.github.com/users/raymondEhlers/following{/other_user}", "gists_url": "https://api.github.com/users/raymondEhlers/gists{/gist_id}", "starred_url": "https://api.github.com/users/raymondEhlers/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/raymondEhlers/subscriptions", "organizations_url": "https://api.github.com/users/raymondEhlers/orgs", "repos_url": "https://api.github.com/users/raymondEhlers/repos", "events_url": "https://api.github.com/users/raymondEhlers/events{/privacy}", "received_events_url": "https://api.github.com/users/raymondEhlers/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-12-10T23:44:14Z", "updated_at": "2018-12-12T15:18:58Z", "closed_at": "2018-12-12T15:18:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When installing lz4 via pip with python 3.6, I received the following AttributeError related to `pkgconfig`:\r\n\r\n```\r\ntest@e75e445ebc4d:/opt/test$ pip install --user lz4\r\nCollecting lz4\r\n  Downloading https://files.pythonhosted.org/packages/f1/4f/878f1827042c5b6828bc23d160f31e242ec820810b8bd04b30b631029952/lz4-2.1.2.tar.gz (128kB)\r\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 133kB 2.6MB/s\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-install-842vmqmd/lz4/setup.py\", line 34, in <module>\r\n        liblz4_found = pkgconfig_installed('liblz4', LZ4_REQUIRED_VERSION, default=False)\r\n      File \"/tmp/pip-install-842vmqmd/lz4/setup.py\", line 24, in pkgconfig_installed\r\n        installed = pkgconfig.installed(lib, required_version)\r\n    AttributeError: module 'pkgconfig' has no attribute 'installed'\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-install-842vmqmd/lz4/\r\n```\r\n\r\nIn trying to reproduce it, I found the issue is caused by some third party software which sets the `PYTHONPATH` to a directory which includes an empty `pkgconfig` directory... I realize that this is a bit of a silly issue, and is mostly unrelated to lz4 (I will try to get the third party software to fix it), but I imagine that other software could also cause this same issue.\r\n\r\nSo I would argue that it's worth addressing. I think it can be addressed with a small modification of the lz4 `setup.py` by adding around line 25:\r\n\r\n```python\r\n try:\r\n   installed = pkgconfig.installed(lib, required_version\r\nexcept AttributeError:\r\n  # Problem with pkgconfig package\r\n  pass\r\n...\r\n```\r\n\r\nI'm happy to open a PR if you'd like. Please let me know what you think. Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/154", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/154/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/154/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/154/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/154", "id": 377129001, "node_id": "MDU6SXNzdWUzNzcxMjkwMDE=", "number": 154, "title": "Importing lz4 is very slow", "user": {"login": "cgohlke", "id": 483428, "node_id": "MDQ6VXNlcjQ4MzQyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/483428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cgohlke", "html_url": "https://github.com/cgohlke", "followers_url": "https://api.github.com/users/cgohlke/followers", "following_url": "https://api.github.com/users/cgohlke/following{/other_user}", "gists_url": "https://api.github.com/users/cgohlke/gists{/gist_id}", "starred_url": "https://api.github.com/users/cgohlke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cgohlke/subscriptions", "organizations_url": "https://api.github.com/users/cgohlke/orgs", "repos_url": "https://api.github.com/users/cgohlke/repos", "events_url": "https://api.github.com/users/cgohlke/events{/privacy}", "received_events_url": "https://api.github.com/users/cgohlke/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-04T07:30:53Z", "updated_at": "2018-11-04T11:01:53Z", "closed_at": "2018-11-04T11:01:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "On my system (Windows 10 Pro WS, SSD, Python 3.7.1, 64 bit, ~1100 packages installed), importing lz4 is very slow (~3.8 seconds) due to [importing pkg_resources in `__init__.py`](https://github.com/python-lz4/python-lz4/blob/master/lz4/__init__.py#L1), There are [several](https://github.com/pypa/setuptools/issues/926) [issues](https://github.com/pypa/setuptools/issues/510) regarding slow import of pkg_resources.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/153", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/153/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/153/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/153/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/153", "id": 374296212, "node_id": "MDU6SXNzdWUzNzQyOTYyMTI=", "number": 153, "title": "Publish manylinux wheels from Travis", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-10-26T09:17:41Z", "updated_at": "2018-12-17T20:25:55Z", "closed_at": "2018-12-17T20:25:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/150", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/150/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/150/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/150/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/150", "id": 369621518, "node_id": "MDU6SXNzdWUzNjk2MjE1MTg=", "number": 150, "title": "Inconsistency between source data and decompressed using block", "user": {"login": "ajholyoake", "id": 3295586, "node_id": "MDQ6VXNlcjMyOTU1ODY=", "avatar_url": "https://avatars2.githubusercontent.com/u/3295586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajholyoake", "html_url": "https://github.com/ajholyoake", "followers_url": "https://api.github.com/users/ajholyoake/followers", "following_url": "https://api.github.com/users/ajholyoake/following{/other_user}", "gists_url": "https://api.github.com/users/ajholyoake/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajholyoake/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajholyoake/subscriptions", "organizations_url": "https://api.github.com/users/ajholyoake/orgs", "repos_url": "https://api.github.com/users/ajholyoake/repos", "events_url": "https://api.github.com/users/ajholyoake/events{/privacy}", "received_events_url": "https://api.github.com/users/ajholyoake/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-10-12T16:24:40Z", "updated_at": "2018-10-12T17:57:13Z", "closed_at": "2018-10-12T17:57:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "With `mode='high_compression'` the input and output data are not always the same.\r\n\r\n(This code downloads a .py file from github and runs eval on the result, which you may not want to do)\r\n\r\n```import urllib2\r\nimport numpy as np\r\nimport copy\r\n\r\nfrom lz4.block import compress, decompress \r\n\r\ndef get_data():\r\n    url = 'https://raw.githubusercontent.com/krywen/arctic_precision/master/data.py'\r\n    comp_data = eval(urllib2.urlopen(url).read().split('=')[1])\r\n    return comp_data\r\n\r\ndef assess(input_data, new_data):\r\n    for i in range(new_data.shape[0]):\r\n        if input_data[i] != new_data[i]:\r\n            return \"{} != {} : Element number {}\".format(input_data[i], new_data[i], i)\r\n            return \r\n    return 'Arrays are the same' \r\n\r\ndata = get_data()\r\n\r\nfor i in range(10):\r\n    in_data = data[1000*i:]\r\n    c = compress(np.array(in_data).tostring(), mode='high_compression')\r\n    new_data = np.frombuffer(decompress(c))\r\n    print ''\r\n    print 1000*i\r\n    print '---'\r\n    print 'Compressed: {}'.format(assess(in_data, new_data))\r\n    print 'Raw:        {}'.format(assess(in_data, np.frombuffer(np.array(in_data).tostring())))\r\n\r\n```\r\n\r\nHas output \r\n```\r\n0\r\n---\r\nCompressed: 1.45 != 1.44995117188 : Element number 10063\r\nRaw:        Arrays are the same\r\n\r\n1000\r\n---\r\nCompressed: 1.45 != 1.44995117188 : Element number 9063\r\nRaw:        Arrays are the same\r\n\r\n2000\r\n---\r\nCompressed: Arrays are the same\r\nRaw:        Arrays are the same\r\n\r\n3000\r\n---\r\nCompressed: Arrays are the same\r\nRaw:        Arrays are the same\r\n```\r\ni.e. when compressing the whole array there is a mismatch on 10063rd element.\r\nWhen compressing / decompressing from the 2000th element onwards there is no such mismatch.\r\n\r\nRunning on:\r\n\r\n- Ubuntu 14.04\r\n- system liblz4-1 (0.0~r131-2ubuntu2)\r\n- Python 2.7.12 (not conda)\r\n- pip package lz4 2.1.0\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/149", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/149/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/149/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/149", "id": 363945907, "node_id": "MDU6SXNzdWUzNjM5NDU5MDc=", "number": 149, "title": "Update bundled lz4 to version 1.8.3", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-26T09:54:39Z", "updated_at": "2018-10-13T11:39:04Z", "closed_at": "2018-10-13T11:39:04Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/lz4/lz4/releases/tag/v1.8.3", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/147", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/147/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/147/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/147/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/147", "id": 348465187, "node_id": "MDU6SXNzdWUzNDg0NjUxODc=", "number": 147, "title": "testing takes abnormally long with python 3.6, but is reasonable with 2.7", "user": {"login": "frispete", "id": 1009685, "node_id": "MDQ6VXNlcjEwMDk2ODU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1009685?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frispete", "html_url": "https://github.com/frispete", "followers_url": "https://api.github.com/users/frispete/followers", "following_url": "https://api.github.com/users/frispete/following{/other_user}", "gists_url": "https://api.github.com/users/frispete/gists{/gist_id}", "starred_url": "https://api.github.com/users/frispete/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frispete/subscriptions", "organizations_url": "https://api.github.com/users/frispete/orgs", "repos_url": "https://api.github.com/users/frispete/repos", "events_url": "https://api.github.com/users/frispete/events{/privacy}", "received_events_url": "https://api.github.com/users/frispete/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 563728366, "node_id": "MDU6TGFiZWw1NjM3MjgzNjY=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/information%20needed", "name": "information needed", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2018-08-07T19:57:29Z", "updated_at": "2018-10-13T11:44:16Z", "closed_at": "2018-10-13T11:44:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nin an attempt to package lz4 for the openSUSE project, we see very differing testing times between python 2.7 and 3.6 builds.\r\n\r\nHere's an example: \r\n```\r\n[  105s] ============================= test session starts ==============================\r\n[  105s] platform linux2 -- Python 2.7.15, pytest-3.6.3, py-1.5.3, pluggy-0.6.0\r\n[  105s] rootdir: /home/abuild/rpmbuild/BUILD/lz4-2.0.2, inifile: setup.cfg\r\n[  114s] collected 18893 items\r\n[...] \r\n[  405s] ================== 18889 passed, 4 skipped in 300.56 seconds ===================\r\n\r\n[  410s] ============================= test session starts ==============================\r\n[  410s] platform linux -- Python 3.6.5, pytest-3.6.3, py-1.5.3, pluggy-0.6.0\r\n[  410s] rootdir: /home/abuild/rpmbuild/BUILD/lz4-2.0.2, inifile: setup.cfg\r\n[  418s] collected 18893 items\r\n[...]\r\n[ 9610s] ======================= 18893 passed in 9200.23 seconds ========================\r\n```\r\nSure, we have quicker hosts in the build cluster, but 5 minutes versus 2 and a half hours is an abnormal deviation. It might be due to the 4 skipped tests, but having builds taking this long **is** painful. Of course, you can argue, that testing isn't necessary, but we're building for a varying number of different interpreters and real world distributions, where having tested all the builds is a good thing (tm). \r\n\r\n**Is that observed timing behaviour to be expected?**\r\n\r\nFor reference, here's the [build log](https://build.opensuse.org/package/live_build_log/devel:languages:python/python-lz4/openSUSE_Tumbleweed/x86_64), use the `Download logfile` link for a full build log.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/146", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/146/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/146/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/146", "id": 346275228, "node_id": "MDU6SXNzdWUzNDYyNzUyMjg=", "number": 146, "title": "pytest-runner a setup requirement ?", "user": {"login": "FlingeR", "id": 704401, "node_id": "MDQ6VXNlcjcwNDQwMQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/704401?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FlingeR", "html_url": "https://github.com/FlingeR", "followers_url": "https://api.github.com/users/FlingeR/followers", "following_url": "https://api.github.com/users/FlingeR/following{/other_user}", "gists_url": "https://api.github.com/users/FlingeR/gists{/gist_id}", "starred_url": "https://api.github.com/users/FlingeR/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FlingeR/subscriptions", "organizations_url": "https://api.github.com/users/FlingeR/orgs", "repos_url": "https://api.github.com/users/FlingeR/repos", "events_url": "https://api.github.com/users/FlingeR/events{/privacy}", "received_events_url": "https://api.github.com/users/FlingeR/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-31T16:59:31Z", "updated_at": "2018-07-31T17:12:47Z", "closed_at": "2018-07-31T17:08:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nJust wondering...\r\nWhy is pytest-runner a setup requirement ?\r\nShouldn't it be a test requirement ?\r\n\r\n```\r\ntests_require = [\r\n    'pytest',\r\n    'pytest-runner',\r\n    'psutil',\r\n],\r\n```\r\ninstead of\r\n```\r\nsetup_requires=[\r\n        'setuptools_scm',\r\n        'pkgconfig',\r\n        'pytest-runner',\r\n    ],\r\n```\r\n\r\nCheers.\r\nElias.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/144", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/144/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/144/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/144/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/144", "id": 345879505, "node_id": "MDU6SXNzdWUzNDU4Nzk1MDU=", "number": 144, "title": "Test on travis with Python 3.7", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-30T18:29:19Z", "updated_at": "2018-12-17T20:26:11Z", "closed_at": "2018-12-17T20:26:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This is a tracker - at present Python 3.7 is not available on travis. See:\r\n\r\nhttps://github.com/travis-ci/travis-ci/issues/9815", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/143", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/143/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/143/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/143", "id": 345680423, "node_id": "MDU6SXNzdWUzNDU2ODA0MjM=", "number": 143, "title": "LZ4F_getFrameInfo failed with code: ERROR_frameType_unknown", "user": {"login": "Nitika123", "id": 20179339, "node_id": "MDQ6VXNlcjIwMTc5MzM5", "avatar_url": "https://avatars1.githubusercontent.com/u/20179339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nitika123", "html_url": "https://github.com/Nitika123", "followers_url": "https://api.github.com/users/Nitika123/followers", "following_url": "https://api.github.com/users/Nitika123/following{/other_user}", "gists_url": "https://api.github.com/users/Nitika123/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nitika123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nitika123/subscriptions", "organizations_url": "https://api.github.com/users/Nitika123/orgs", "repos_url": "https://api.github.com/users/Nitika123/repos", "events_url": "https://api.github.com/users/Nitika123/events{/privacy}", "received_events_url": "https://api.github.com/users/Nitika123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-07-30T09:30:21Z", "updated_at": "2018-08-04T18:50:25Z", "closed_at": "2018-07-30T10:44:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I compressed the data using lz4 java library (https://github.com/lz4/lz4-java) and want to decompress it in python using your library. And the compressed data is available in redis cluster. When I execute the following code:\r\n\r\n    from rediscluster import StrictRedisCluster\r\n    startup_nodes = [{\"host\": \"my_host\", \"port\": \"7002\"}]\r\n    rc = StrictRedisCluster(startup_nodes=startup_nodes, decode_responses=False)\r\n    result=rc.hget(\"key\",\"field\")\r\n    from lz4.frame import compress, decompress\r\n    decompress(result)\r\n\r\nI am getting the error:\"LZ4F_getFrameInfo failed with code: ERROR_frameType_unknown\"\r\n\r\nWhat am I doing wrong? \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/140", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/140/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/140/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/140", "id": 337573889, "node_id": "MDU6SXNzdWUzMzc1NzM4ODk=", "number": 140, "title": "Segfault on frame decompress", "user": {"login": "diorcety", "id": 636199, "node_id": "MDQ6VXNlcjYzNjE5OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/636199?v=4", "gravatar_id": "", "url": "https://api.github.com/users/diorcety", "html_url": "https://github.com/diorcety", "followers_url": "https://api.github.com/users/diorcety/followers", "following_url": "https://api.github.com/users/diorcety/following{/other_user}", "gists_url": "https://api.github.com/users/diorcety/gists{/gist_id}", "starred_url": "https://api.github.com/users/diorcety/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/diorcety/subscriptions", "organizations_url": "https://api.github.com/users/diorcety/orgs", "repos_url": "https://api.github.com/users/diorcety/repos", "events_url": "https://api.github.com/users/diorcety/events{/privacy}", "received_events_url": "https://api.github.com/users/diorcety/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-07-02T15:53:29Z", "updated_at": "2018-07-07T17:34:50Z", "closed_at": "2018-07-07T17:34:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "There is an issue in the code for the frame.\r\nHere: https://github.com/python-lz4/python-lz4/blob/master/lz4/frame/_frame.c#L1087\r\nYou set to 1 the stableDst even if max_length  is -1 (meaning that PyMem_Realloc can be called) which is incorrect.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/136", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/136/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/136/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/136/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/136", "id": 334654908, "node_id": "MDU6SXNzdWUzMzQ2NTQ5MDg=", "number": 136, "title": "Gracefully handle old versions of liblz4", "user": {"login": "nikitos3000", "id": 1317714, "node_id": "MDQ6VXNlcjEzMTc3MTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1317714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikitos3000", "html_url": "https://github.com/nikitos3000", "followers_url": "https://api.github.com/users/nikitos3000/followers", "following_url": "https://api.github.com/users/nikitos3000/following{/other_user}", "gists_url": "https://api.github.com/users/nikitos3000/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikitos3000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikitos3000/subscriptions", "organizations_url": "https://api.github.com/users/nikitos3000/orgs", "repos_url": "https://api.github.com/users/nikitos3000/repos", "events_url": "https://api.github.com/users/nikitos3000/events{/privacy}", "received_events_url": "https://api.github.com/users/nikitos3000/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-21T20:57:49Z", "updated_at": "2018-06-23T10:13:58Z", "closed_at": "2018-06-23T10:13:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Unable to `pip install lz4` if `pkgconfig` python module is already installed and an old version of `liblz4` is present. Details below. \r\n\r\n## Expected Behavior\r\n`pip install lz4` should assume `liblz4_found = False` when `pkgconfig` fails to find the library for any reason. \r\n\r\n## Current Behavior\r\n\r\n```shell\r\n$ pip install lz4==2.0.0\r\n    100% |################################| 133kB 53.8MB/s\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"tmp/pip-build-pp4a_V/lz4/setup.py\", line 22, in <module>\r\n        liblz4_found = pkgconfig.installed('liblz4', LZ4_REQUIRED_VERSION)\r\n      File \"tmp/python-lz4/venv/lib/python2.7/site-packages/pkgconfig/pkgconfig.py\", line 155, in installed\r\n        raise ValueError(msg)\r\n    ValueError: >= 1.7.5 is not a correct version specifier\r\n\r\n```\r\n\r\n\r\n## Possible Solution\r\n\r\nImprove error handling around `pkgconfig.installed()` call in `setup.py`.\r\n\r\n```diff\r\ndiff --git a/setup.py b/setup.py\r\nindex 73a8e2a..2cd413a 100644\r\n--- a/setup.py\r\n+++ b/setup.py\r\n@@ -21,8 +21,9 @@ else:\r\n     try:\r\n         liblz4_found = pkgconfig.installed('liblz4', LZ4_REQUIRED_VERSION)\r\n         py3c_found = pkgconfig.installed('py3c', PY3C_REQUIRED_VERSION)\r\n-    except EnvironmentError:\r\n+    except Exception:\r\n         # Windows, no pkg-config present\r\n+        # or pkgconfig call failed\r\n         pass\r\n```\r\n\r\nMaybe both `liblz4_found` and `py3c_found` should be set to `False` too.\r\n\r\n## Steps to Reproduce\r\n\r\n1. `pip install pkgconfig=1.3.1`\r\n2. `<pkg-manager> install liblz4-dev`\r\n3. edit `liblz4.pc` file, replace version with `Version:  \"1.5.r128\"`\r\n4. attempt to `pip install lz4==2.0.0`\r\n\r\n## Context \r\n\r\nBefore ~ 2016 `liblz4` used slightly unconventional versioning schema `...->125->126->127` see\r\nhttps://github.com/lz4/lz4/blob/r128/lib/liblz4.pc.in\r\n\r\nThe library was repackaged internally using https://github.com/lz4/lz4/blob/r128/cmake_unofficial/CMakeLists.txt that constructs versions in the format of `X.Y.r###`, e.g. `1.5.r128` in the `liblz4.pc` file:\r\n\r\n```\r\nName: lz4\r\nDescription: fast lossless compression algorithm library\r\nURL: http://code.google.com/p/lz4/\r\nVersion:  \"1.5.r128\"\r\nLibs: -L${libdir} -llz4\r\nCflags: -I${includedir}\r\n```\r\n\r\nPython `pkgconfig` module `installed()` [call](https://github.com/matze/pkgconfig/blob/v1.3.1/pkgconfig/pkgconfig.py#L127) fails with `invalid literal for int() with base 10: 'r128'`, because of the assumption it makes about the version format [here](https://github.com/matze/pkgconfig/blob/v1.3.1/pkgconfig/pkgconfig.py#L42)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/134", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/134/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/134/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/134", "id": 330890806, "node_id": "MDU6SXNzdWUzMzA4OTA4MDY=", "number": 134, "title": "Test Failure under musl c in 2.0.0", "user": {"login": "itoffshore", "id": 1141947, "node_id": "MDQ6VXNlcjExNDE5NDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1141947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itoffshore", "html_url": "https://github.com/itoffshore", "followers_url": "https://api.github.com/users/itoffshore/followers", "following_url": "https://api.github.com/users/itoffshore/following{/other_user}", "gists_url": "https://api.github.com/users/itoffshore/gists{/gist_id}", "starred_url": "https://api.github.com/users/itoffshore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itoffshore/subscriptions", "organizations_url": "https://api.github.com/users/itoffshore/orgs", "repos_url": "https://api.github.com/users/itoffshore/repos", "events_url": "https://api.github.com/users/itoffshore/events{/privacy}", "received_events_url": "https://api.github.com/users/itoffshore/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 563728366, "node_id": "MDU6TGFiZWw1NjM3MjgzNjY=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/information%20needed", "name": "information needed", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-06-09T14:18:13Z", "updated_at": "2018-06-23T10:59:35Z", "closed_at": "2018-06-23T10:15:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Version `2.0.0` builds successfully under Alpine Linux (musl c) - but the tests fail at the end:\r\n\r\n```\r\n...............................................................................................................................................                     [ 95%]\r\ntests/frame/test_frame_5.py F\r\n\r\n================================================================================ FAILURES =================================================================================\r\n_________________________________________________________________ test_frame_decompress_mem_usage[data0] __________________________________________________________________\r\n\r\ndata = b'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa...aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'\r\n\r\n    def test_frame_decompress_mem_usage(data):\r\n        tracemalloc = pytest.importorskip('tracemalloc')\r\n    \r\n        tracemalloc.start()\r\n    \r\n        compressed = lz4.frame.compress(data)\r\n        prev_snapshot = None\r\n    \r\n        for i in range(1000):\r\n            decompressed = lz4.frame.decompress(compressed)  # noqa: F841\r\n    \r\n            if i % 100 == 0:\r\n                snapshot = tracemalloc.take_snapshot()\r\n    \r\n                if prev_snapshot:\r\n                    stats = snapshot.compare_to(prev_snapshot, 'lineno')\r\n>                   assert stats[0].size_diff < (1024 * 4)\r\nE                   AssertionError: assert 11264 < (1024 * 4)\r\nE                    +  where 11264 = <StatisticDiff traceback=<Traceback (<Frame filename='/usr/lib/python3.6/tracemalloc.py' lineno=113>,)> size=11264 (+11264) count=128 (+128)>.size_diff\r\n\r\ncompressed = b'\\x04\"M\\x18H@\\x00\\x00\\x10\\x00\\x00\\x00\\x00\\x00g\\x0b\\x01\\x00\\x00\\x1fa\\x01\\x00\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\x...\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xff\\xe8Paaaaa\\x00\\x00\\x00\\x00'\r\ndata       = b'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa...aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'\r\ndecompressed = b'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa...aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa'\r\ni          = 200\r\nprev_snapshot = <tracemalloc.Snapshot object at 0x7f661e2d40f0>\r\nsnapshot   = <tracemalloc.Snapshot object at 0x7f661e2d43c8>\r\nstats      = [<StatisticDiff traceback=<Traceback (<Frame filename='/usr/lib/python3.6/tracemalloc.py' lineno=113>,)> size=11264 (+...src/lz4-2.0.0/.eggs/pytest-3.6.1-py3.6.egg/_pytest/python.py' lineno=263>,)> size=842040 (-648) count=11695 (-9)>, ...]\r\ntracemalloc = <module 'tracemalloc' from '/usr/lib/python3.6/tracemalloc.py'>\r\n\r\ntests/frame/test_frame_5.py:35: AssertionError\r\n=========================================================== 1 failed, 18108 passed, 1 skipped in 299.80 seconds ===========================================================\r\n>>> ERROR: py-lz4*: check failed\r\n>>> ERROR: py-lz4: all failed\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/125", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/125/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/125/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/125", "id": 310874287, "node_id": "MDU6SXNzdWUzMTA4NzQyODc=", "number": 125, "title": "Missing `lz4.dumps` in successful install", "user": {"login": "rwarren", "id": 2751728, "node_id": "MDQ6VXNlcjI3NTE3Mjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/2751728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rwarren", "html_url": "https://github.com/rwarren", "followers_url": "https://api.github.com/users/rwarren/followers", "following_url": "https://api.github.com/users/rwarren/following{/other_user}", "gists_url": "https://api.github.com/users/rwarren/gists{/gist_id}", "starred_url": "https://api.github.com/users/rwarren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rwarren/subscriptions", "organizations_url": "https://api.github.com/users/rwarren/orgs", "repos_url": "https://api.github.com/users/rwarren/repos", "events_url": "https://api.github.com/users/rwarren/events{/privacy}", "received_events_url": "https://api.github.com/users/rwarren/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-03T15:00:13Z", "updated_at": "2018-04-03T19:42:50Z", "closed_at": "2018-04-03T19:42:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "After install there is no `lz4.dumps`, or any other method. See below.\r\n\r\n```\r\n$ pip install -U lz4\r\nCollecting lz4\r\nInstalling collected packages: lz4\r\nSuccessfully installed lz4-1.1.0\r\n$ python\r\nPython 3.6.3 |Anaconda, Inc.| (default, Oct 13 2017, 12:02:49)\r\n[GCC 7.2.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import lz4\r\n>>> lz4.dumps\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nAttributeError: module 'lz4' has no attribute 'dumps'\r\n>>> dir(lz4)\r\n['VERSION', '__builtins__', '__cached__', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__path__', '__spec__', '__version__', '_version', 'library_version_number', 'library_version_string', 'version']\r\n>>> lz4.VERSION\r\n'1.1.0'\r\n>>> lz4.library_version_string()\r\n'1.8.1'\r\n>>> lz4.library_version_number()\r\n10801\r\n>>> \r\n```\r\n\r\nI'm not sure how this can be a legitimate issue, but (and because!) I have tested this on two separate machines (Debian and CentOS), across different python versions (2.7 and 3.6). I have even tried installing older versions of the `lz4` module (going back to 0.23.2). They all have this issue, which makes me think it is on my end, but... not sure what it is across multiple machines??\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/122", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/122/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/122/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/122", "id": 310541906, "node_id": "MDU6SXNzdWUzMTA1NDE5MDY=", "number": 122, "title": "Add / fix support for text read mode", "user": {"login": "nick-hahner", "id": 31867525, "node_id": "MDQ6VXNlcjMxODY3NTI1", "avatar_url": "https://avatars3.githubusercontent.com/u/31867525?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nick-hahner", "html_url": "https://github.com/nick-hahner", "followers_url": "https://api.github.com/users/nick-hahner/followers", "following_url": "https://api.github.com/users/nick-hahner/following{/other_user}", "gists_url": "https://api.github.com/users/nick-hahner/gists{/gist_id}", "starred_url": "https://api.github.com/users/nick-hahner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nick-hahner/subscriptions", "organizations_url": "https://api.github.com/users/nick-hahner/orgs", "repos_url": "https://api.github.com/users/nick-hahner/repos", "events_url": "https://api.github.com/users/nick-hahner/events{/privacy}", "received_events_url": "https://api.github.com/users/nick-hahner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-02T17:05:48Z", "updated_at": "2018-04-03T09:10:02Z", "closed_at": "2018-04-03T09:10:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nIn [17]: lz4.frame.open(input_file, mode='rt', newline='', encoding='utf-8')\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-17-ca68d3c17eba> in <module>()\r\n----> 1 lz4.frame.open(input_file, mode='rt', newline='', encoding='utf-8')\r\n\r\n/usr/local/lib/python3.6/site-packages/lz4/frame/__init__.py in open(filename, mode, encoding, errors, newline, block_size, block_linked, compression_level, content_checksum, block_checksum, auto_flush, return_bytearray, source_size)\r\n    842         block_checksum=block_checksum,\r\n    843         auto_flush=auto_flush,\r\n--> 844         return_bytearray=return_bytearray,\r\n    845     )\r\n    846\r\n\r\n/usr/local/lib/python3.6/site-packages/lz4/frame/__init__.py in __init__(self, filename, mode, block_size, block_linked, compression_level, content_checksum, block_checksum, auto_flush, return_bytearray, source_size)\r\n    513             self._pos = 0\r\n    514         else:\r\n--> 515             raise ValueError('Invalid mode: {!r}'.format(mode))\r\n    516\r\n    517         if sys.version_info > (3, 6):\r\n\r\nValueError: Invalid mode: 'rt'\r\n```\r\n\r\nLooking at the source, it looks like mode is passed from https://github.com/python-lz4/python-lz4/blob/603c112a2c8dbaaa706780a94003aeb6888e36bb/lz4/frame/__init__.py#L837 to https://github.com/python-lz4/python-lz4/blob/603c112a2c8dbaaa706780a94003aeb6888e36bb/lz4/frame/__init__.py#L500\r\n\r\nopen() is happy with a mode of 'rt' and it passes it along unchanged to the LZ4FrameFile class which does not like 'rt'. Perhaps the mode should be changed to 'rb' when passing to the __init__ method, or perhaps the __init__ method should be happy with 'rt'.\r\n\r\nEither way it breaks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/121", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/121/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/121/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/121", "id": 303897915, "node_id": "MDU6SXNzdWUzMDM4OTc5MTU=", "number": 121, "title": "Add support for block decompression without a size hint", "user": {"login": "llchan", "id": 51099, "node_id": "MDQ6VXNlcjUxMDk5", "avatar_url": "https://avatars2.githubusercontent.com/u/51099?v=4", "gravatar_id": "", "url": "https://api.github.com/users/llchan", "html_url": "https://github.com/llchan", "followers_url": "https://api.github.com/users/llchan/followers", "following_url": "https://api.github.com/users/llchan/following{/other_user}", "gists_url": "https://api.github.com/users/llchan/gists{/gist_id}", "starred_url": "https://api.github.com/users/llchan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/llchan/subscriptions", "organizations_url": "https://api.github.com/users/llchan/orgs", "repos_url": "https://api.github.com/users/llchan/repos", "events_url": "https://api.github.com/users/llchan/events{/privacy}", "received_events_url": "https://api.github.com/users/llchan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-03-09T16:25:54Z", "updated_at": "2018-07-31T11:41:43Z", "closed_at": "2018-07-31T11:41:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be useful to be able to decompress an lz4 block without knowing the decompressed size up front (i.e. not passed in by the user nor given in a `uint32_t` header). Should be doable by dynamically resizing as it goes. I haven't looked at the lz4 API enough to know if it's possible to realloc and resume, or if it needs to start over, but in either case this function would be a fallback and doesn't need to be super efficient.\r\n\r\nIt'd also be nice to have an initial size + growth factor exposed, but not strictly necessary.\r\n\r\nI should mention that I already have workarounds for my use case so this is not high priority. Just wanted to file it here for consideration.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/118", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/118/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/118/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/118/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/118", "id": 296977395, "node_id": "MDU6SXNzdWUyOTY5NzczOTU=", "number": 118, "title": "Fails to build with Python: nightly", "user": {"login": "decibelcooper", "id": 13596458, "node_id": "MDQ6VXNlcjEzNTk2NDU4", "avatar_url": "https://avatars3.githubusercontent.com/u/13596458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/decibelcooper", "html_url": "https://github.com/decibelcooper", "followers_url": "https://api.github.com/users/decibelcooper/followers", "following_url": "https://api.github.com/users/decibelcooper/following{/other_user}", "gists_url": "https://api.github.com/users/decibelcooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/decibelcooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/decibelcooper/subscriptions", "organizations_url": "https://api.github.com/users/decibelcooper/orgs", "repos_url": "https://api.github.com/users/decibelcooper/repos", "events_url": "https://api.github.com/users/decibelcooper/events{/privacy}", "received_events_url": "https://api.github.com/users/decibelcooper/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-02-14T05:08:54Z", "updated_at": "2018-02-15T15:19:51Z", "closed_at": "2018-02-15T14:50:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hey there,\r\n\r\nJust so that you are aware, setup.py fails for me with Python: nightly.\r\nhttps://travis-ci.org/decibelcooper/proio/jobs/341279761#L447", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/117", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/117/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/117/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/117", "id": 296223493, "node_id": "MDU6SXNzdWUyOTYyMjM0OTM=", "number": 117, "title": "Use doctest to test code snippets in docs", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-11T20:41:04Z", "updated_at": "2018-02-14T22:50:56Z", "closed_at": "2018-02-14T22:50:56Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Ensure all examples given work as expected.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/112", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/112/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/112/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/112/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/112", "id": 295324598, "node_id": "MDU6SXNzdWUyOTUzMjQ1OTg=", "number": 112, "title": "(De)compressor context managers potentially incomplete", "user": {"login": "vtermanis", "id": 6112689, "node_id": "MDQ6VXNlcjYxMTI2ODk=", "avatar_url": "https://avatars2.githubusercontent.com/u/6112689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vtermanis", "html_url": "https://github.com/vtermanis", "followers_url": "https://api.github.com/users/vtermanis/followers", "following_url": "https://api.github.com/users/vtermanis/following{/other_user}", "gists_url": "https://api.github.com/users/vtermanis/gists{/gist_id}", "starred_url": "https://api.github.com/users/vtermanis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vtermanis/subscriptions", "organizations_url": "https://api.github.com/users/vtermanis/orgs", "repos_url": "https://api.github.com/users/vtermanis/repos", "events_url": "https://api.github.com/users/vtermanis/events{/privacy}", "received_events_url": "https://api.github.com/users/vtermanis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-07T22:59:08Z", "updated_at": "2018-02-11T17:21:12Z", "closed_at": "2018-02-11T17:21:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi Jonathan / @jgubmll / @jonathanunderwood, congratulations on frame support & reaching production status!\r\n\r\n> We provide context manager classes LZ$FrameCompressor and LZ4FrameDecompressor,\r\n\r\nJudging by what's on [top of master](https://github.com/python-lz4/python-lz4/blob/1df99e8a905885666b18701de581c0a26c3e3f78/lz4/frame/__init__.py#L90) I think you might be missing something there since both `__enter__` and `__exit__` methods are empty which is a No-Op and basically means the following two do exactly the same thing:\r\n\r\n```python\r\nwith lz4.frame.LZ4FrameCompressor() as compressor:\r\n   # do stuff with compressor\r\n   pass\r\n# At this point compressor is still in scope so it's no like\r\n# the context has caused it to be GC'ed.\r\n```\r\nand\r\n```python\r\ncompressor = lz4.frame.LZ4FrameCompressor()\r\n# do stuff with compressor\r\n```\r\n\r\nYou also mention:\r\n> The compression context is created with an appropriate destructor, so no need to del it here\r\n\r\nMaybe I'm missing something - where is the appropriate destructor? (I see e.g. no `__del__` method.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/109", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/109/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/109/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/109", "id": 294110327, "node_id": "MDU6SXNzdWUyOTQxMTAzMjc=", "number": 109, "title": "Remove bundled py3c", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-03T13:22:14Z", "updated_at": "2018-02-11T17:20:34Z", "closed_at": "2018-02-11T17:20:34Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "- As py3c nears a 1.0 release, it is setting up to be available as a package on PyPi, at which point there's no need to bundle it.\r\n- Once 1.0 is released, we can drop the Py_UNUSED stuff from _frame.c and _block.c\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/106", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/106/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/106/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/106", "id": 292456484, "node_id": "MDU6SXNzdWUyOTI0NTY0ODQ=", "number": 106, "title": "Memory leak in v0.19.1", "user": {"login": "alex2108", "id": 6099511, "node_id": "MDQ6VXNlcjYwOTk1MTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/6099511?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alex2108", "html_url": "https://github.com/alex2108", "followers_url": "https://api.github.com/users/alex2108/followers", "following_url": "https://api.github.com/users/alex2108/following{/other_user}", "gists_url": "https://api.github.com/users/alex2108/gists{/gist_id}", "starred_url": "https://api.github.com/users/alex2108/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alex2108/subscriptions", "organizations_url": "https://api.github.com/users/alex2108/orgs", "repos_url": "https://api.github.com/users/alex2108/repos", "events_url": "https://api.github.com/users/alex2108/events{/privacy}", "received_events_url": "https://api.github.com/users/alex2108/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-29T15:47:52Z", "updated_at": "2018-02-01T08:53:06Z", "closed_at": "2018-02-01T08:53:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport numpy as np\r\nimport glob\r\n\r\nimport lz4.frame\r\n\r\nframes=glob.glob('frames_compressed/*.npy.lz4')\r\n\r\n\r\n\r\nfor frame in frames:\r\n    print(frame)\r\n    with lz4.frame.open(frame) as f1:\r\n        data=np.load(f1)\r\n        \r\n```\r\n\r\nthis leads to huge memory usage (due to >50k files in the folder), the same code with lzma works with constant memory usage so I assume there is some leak in lz4", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/104", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/104/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/104/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/104/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/104", "id": 290273072, "node_id": "MDU6SXNzdWUyOTAyNzMwNzI=", "number": 104, "title": "Update to lz4 v1.8.1.2", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-21T13:32:08Z", "updated_at": "2018-02-02T23:25:42Z", "closed_at": "2018-02-02T23:25:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There's a new upstream release available. Seems to have some new features, and some new compression levels. Needs a bit of investigation.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/103", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/103/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/103/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/103", "id": 290269444, "node_id": "MDU6SXNzdWUyOTAyNjk0NDQ=", "number": 103, "title": "Integrate with test coverage service", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-01-21T12:37:11Z", "updated_at": "2018-12-19T15:30:24Z", "closed_at": "2018-12-19T15:30:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It would be really helpful if we could integrate with a service which reports on test coverage (eg. Coveralls) as an aid to increasing and upkeep of test suite coverage of the codebase.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/102", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/102/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/102/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/102", "id": 290269359, "node_id": "MDU6SXNzdWUyOTAyNjkzNTk=", "number": 102, "title": "Upload source release from Travis rather than AppVeyor", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 811609164, "node_id": "MDU6TGFiZWw4MTE2MDkxNjQ=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/good%20first%20issue", "name": "good first issue", "color": "7f36ed", "default": true, "description": null}, {"id": 364947795, "node_id": "MDU6TGFiZWwzNjQ5NDc3OTU=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-01-21T12:35:47Z", "updated_at": "2018-02-01T19:52:24Z", "closed_at": "2018-02-01T19:52:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "At present the source release and Windows wheels are all uploaded from AppVeyor. The Appveyor builds are much slower though, so it would be better to publish the source packge from Travis.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/99", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/99/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/99/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/99", "id": 290234762, "node_id": "MDU6SXNzdWUyOTAyMzQ3NjI=", "number": 99, "title": "Build wheels for Mac OSX on Travis - publish to PyPi", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 811609164, "node_id": "MDU6TGFiZWw4MTE2MDkxNjQ=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/good%20first%20issue", "name": "good first issue", "color": "7f36ed", "default": true, "description": null}, {"id": 364947795, "node_id": "MDU6TGFiZWwzNjQ5NDc3OTU=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/help%20wanted", "name": "help wanted", "color": "128A0C", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-21T00:17:25Z", "updated_at": "2018-12-17T20:20:46Z", "closed_at": "2018-12-17T20:20:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Post 1.0, it would be handy to publish wheels for OSX on PyPi (similar to how we do for Windows Wheels from Appveyor). \r\n\r\nTravis has support for OSX builds. The PyGame folks have this working, so that would be a good place to start. See: [the pygame .travis.yml](https://github.com/pygame/pygame/blob/master/.travis.yml)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/96", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/96/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/96/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/96/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/96", "id": 289457644, "node_id": "MDU6SXNzdWUyODk0NTc2NDQ=", "number": 96, "title": "memory leak in lz4.frame.decompress", "user": {"login": "bt-wil", "id": 25714883, "node_id": "MDQ6VXNlcjI1NzE0ODgz", "avatar_url": "https://avatars3.githubusercontent.com/u/25714883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bt-wil", "html_url": "https://github.com/bt-wil", "followers_url": "https://api.github.com/users/bt-wil/followers", "following_url": "https://api.github.com/users/bt-wil/following{/other_user}", "gists_url": "https://api.github.com/users/bt-wil/gists{/gist_id}", "starred_url": "https://api.github.com/users/bt-wil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bt-wil/subscriptions", "organizations_url": "https://api.github.com/users/bt-wil/orgs", "repos_url": "https://api.github.com/users/bt-wil/repos", "events_url": "https://api.github.com/users/bt-wil/events{/privacy}", "received_events_url": "https://api.github.com/users/bt-wil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-01-18T00:01:45Z", "updated_at": "2018-01-20T10:47:52Z", "closed_at": "2018-01-20T10:47:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n> python --version\r\nPython 3.6.3\r\n> pip freeze | fgrep lz4\r\nlz4==0.18.1\r\n```\r\n\r\nI'm encountering an issue where when I run the script below, I can see the memory increasing.  At the end, the memory using is ~4GB looking at `htop`.\r\n\r\n```\r\nimport lz4.frame\r\nimport tracemalloc\r\nimport time\r\n\r\n\r\ntracemalloc.start()\r\n\r\ninput_data = 'a' * 1024 * 1024\r\ncompressed = lz4.frame.compress(input_data.encode('utf-8'))\r\n\r\nprev_snapshot = None\r\n\r\nfor i in range(5000):\r\n    decompressed = lz4.frame.decompress(compressed)\r\n\r\n    if i % 100 == 0:\r\n        snapshot = tracemalloc.take_snapshot()\r\n        top_stats = snapshot.statistics('lineno')\r\n\r\n        print(\" top: {}\".format(top_stats[0]))\r\n\r\n        if prev_snapshot:\r\n            top_stats = snapshot.compare_to(prev_snapshot, 'lineno')\r\n            print(\"diff: {}\".format(top_stats[0]))\r\n\r\n        print()\r\n        time.sleep(0.5)\r\n\r\n        prev_snapshot = snapshot\r\n\r\nprint('done')\r\ntime.sleep(10)\r\n```\r\n\r\n```\r\n top: mem-look.py:14: size=101 MiB, count=101, average=1024 KiB\r\ndiff: mem-look.py:14: size=101 MiB (+100 MiB), count=101 (+100), average=1024 KiB\r\n...\r\n top: mem-look.py:14: size=4901 MiB, count=4901, average=1024 KiB\r\ndiff: mem-look.py:14: size=4901 MiB (+100 MiB), count=4901 (+100), average=1024 KiB\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/75", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/75/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/75/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/75", "id": 284439396, "node_id": "MDU6SXNzdWUyODQ0MzkzOTY=", "number": 75, "title": "Can't install from pip to a fresh virtualenv: No module named 'pkgconfig'", "user": {"login": "jdufresne", "id": 347634, "node_id": "MDQ6VXNlcjM0NzYzNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/347634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdufresne", "html_url": "https://github.com/jdufresne", "followers_url": "https://api.github.com/users/jdufresne/followers", "following_url": "https://api.github.com/users/jdufresne/following{/other_user}", "gists_url": "https://api.github.com/users/jdufresne/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdufresne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdufresne/subscriptions", "organizations_url": "https://api.github.com/users/jdufresne/orgs", "repos_url": "https://api.github.com/users/jdufresne/repos", "events_url": "https://api.github.com/users/jdufresne/events{/privacy}", "received_events_url": "https://api.github.com/users/jdufresne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-25T11:33:48Z", "updated_at": "2017-12-25T17:46:34Z", "closed_at": "2017-12-25T17:46:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The lz4 package fails to install to a fresh virtualenv with the error. Here is a simple runnable script that demonstrates:\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\nrm -rf venv\r\npython3 -m venv venv\r\n. venv/bin/activate\r\npip install lz4\r\n```\r\n\r\nActual result:\r\n\r\n```\r\n$ ./runtest.sh \r\nCollecting lz4\r\n  Using cached lz4-0.14.0.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-vbudxya6/lz4/setup.py\", line 7, in <module>\r\n        import pkgconfig\r\n    ModuleNotFoundError: No module named 'pkgconfig'\r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-vbudxya6/lz4/\r\n```\r\n\r\nExpected result:\r\n\r\nShould install.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/61", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/61/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/61/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/61/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/61", "id": 283774132, "node_id": "MDU6SXNzdWUyODM3NzQxMzI=", "number": 61, "title": "LZ4_VERSION mismatch", "user": {"login": "tclh123", "id": 1311043, "node_id": "MDQ6VXNlcjEzMTEwNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1311043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tclh123", "html_url": "https://github.com/tclh123", "followers_url": "https://api.github.com/users/tclh123/followers", "following_url": "https://api.github.com/users/tclh123/following{/other_user}", "gists_url": "https://api.github.com/users/tclh123/gists{/gist_id}", "starred_url": "https://api.github.com/users/tclh123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tclh123/subscriptions", "organizations_url": "https://api.github.com/users/tclh123/orgs", "repos_url": "https://api.github.com/users/tclh123/repos", "events_url": "https://api.github.com/users/tclh123/events{/privacy}", "received_events_url": "https://api.github.com/users/tclh123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 364947792, "node_id": "MDU6TGFiZWwzNjQ5NDc3OTI=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-12-21T05:02:23Z", "updated_at": "2017-12-25T12:03:37Z", "closed_at": "2017-12-25T12:03:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "1. According to https://github.com/python-lz4/python-lz4/commit/1a13ecc9e30341254a16cad908a89971d6c871f6, LZ4_VERSION hardcoded in setup.py should be updated, or it will mislead people.\r\n2. The setup.py should be improved. If the version of liblz4 found is lower than requirements, bundled LZ4 library should be used.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/60", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/60/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/60/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/60", "id": 283651783, "node_id": "MDU6SXNzdWUyODM2NTE3ODM=", "number": 60, "title": "Reflect frame.decompress() return change in doc", "user": {"login": "decibelcooper", "id": 13596458, "node_id": "MDQ6VXNlcjEzNTk2NDU4", "avatar_url": "https://avatars3.githubusercontent.com/u/13596458?v=4", "gravatar_id": "", "url": "https://api.github.com/users/decibelcooper", "html_url": "https://github.com/decibelcooper", "followers_url": "https://api.github.com/users/decibelcooper/followers", "following_url": "https://api.github.com/users/decibelcooper/following{/other_user}", "gists_url": "https://api.github.com/users/decibelcooper/gists{/gist_id}", "starred_url": "https://api.github.com/users/decibelcooper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/decibelcooper/subscriptions", "organizations_url": "https://api.github.com/users/decibelcooper/orgs", "repos_url": "https://api.github.com/users/decibelcooper/repos", "events_url": "https://api.github.com/users/decibelcooper/events{/privacy}", "received_events_url": "https://api.github.com/users/decibelcooper/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 364947792, "node_id": "MDU6TGFiZWwzNjQ5NDc3OTI=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 785220751, "node_id": "MDU6TGFiZWw3ODUyMjA3NTE=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/documentation", "name": "documentation", "color": "cbe589", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2017-12-20T18:15:17Z", "updated_at": "2017-12-22T19:55:23Z", "closed_at": "2017-12-22T12:29:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @jonathanunderwood et al, thanks for the new release and the great work.  With the new release I find that frame.decompress() now returns a tuple, with the byte string and an integer, but the [documentation](http://python-lz4.readthedocs.io/en/latest/lz4.frame.html#lz4.frame.decompress) doesn't seem to reflect the change.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/56", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/56/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/56/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/56", "id": 283554852, "node_id": "MDU6SXNzdWUyODM1NTQ4NTI=", "number": 56, "title": "Path to 1.0", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-20T12:59:27Z", "updated_at": "2018-02-17T10:59:10Z", "closed_at": "2018-02-17T10:59:10Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "- [x] Update quickstart and docs for file handler support, and updated `lz4.frame.decompress_chunk` API\r\n- [x] Add more tests for the frame bindings, including tests for exceptions, and decompression of input containing data after the frame\r\n- [x] Working with handler support for file reading and writing\r\n- [x] Check frame module constants for unneeded ones, and remove (we replaced settings with booleans where sensible).\r\n- [x] Implement block checksums for LZ4 >=1.8.0\r\n- [x] Add tests/fixtures for block checksums. Nb. tests with `block_checksum=True` will raise `RuntimeError` if LZ4 < 1.8.0, so need to take care of that, preferably in fixture.\r\n- [x] Provide binding for ` LZ4F_resetDecompressionContext()`\r\n- [x] Add quickstart sections to documentation\r\n- [x] block - add missing error checking for resize operations\r\n- [x] block - use `Py_ssize_t` where appropriate\r\n- [x] block - improve/remove checking for maximum header size\r\n- [x] Remove deprecated functions\r\n- [x] Make LZ4VERSION attribute deprecated (or remove it altogether)\r\n- [x] Add function (as lazily evaulated `@property`) for returning the underlying lz4 semver\r\n- [x] Verify that we're complying with https://packaging.python.org/tutorials/distributing-packages/\r\n- [x] Make windows wheels available on PyPi (pull from Appveyor)\r\n- [x] Frame: API : from 1.7.5 on, LZ4F_compressBound(0) provides upper bound of *flush() and *End() (see issues #290, #280 of lz4). Make use of this - will need a conditional.\r\n- [x] Fix missing docstrings from the RTD docs - unclear why eg. lz4.frame.create_decompression_context doesn't show up. Other formatting screw-ups abound, too.\r\n- [x] Define a minimum supported LZ4 library version. If a system library is found that is older than the minimum required, build against the bundled version. This needs to be as lenient as possible.\r\n- [x] Add binding for `LZ4F_flush()`. Available from 1.8.0 onwards? Check. `The LZ4FrameCompressor` method flush will need renaming to `end`, and a new `flush` method adding. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/55", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/55/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/55/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/55", "id": 278136170, "node_id": "MDU6SXNzdWUyNzgxMzYxNzA=", "number": 55, "title": "Windows build instructions", "user": {"login": "pyhedgehog", "id": 1286400, "node_id": "MDQ6VXNlcjEyODY0MDA=", "avatar_url": "https://avatars2.githubusercontent.com/u/1286400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pyhedgehog", "html_url": "https://github.com/pyhedgehog", "followers_url": "https://api.github.com/users/pyhedgehog/followers", "following_url": "https://api.github.com/users/pyhedgehog/following{/other_user}", "gists_url": "https://api.github.com/users/pyhedgehog/gists{/gist_id}", "starred_url": "https://api.github.com/users/pyhedgehog/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pyhedgehog/subscriptions", "organizations_url": "https://api.github.com/users/pyhedgehog/orgs", "repos_url": "https://api.github.com/users/pyhedgehog/repos", "events_url": "https://api.github.com/users/pyhedgehog/events{/privacy}", "received_events_url": "https://api.github.com/users/pyhedgehog/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 364947792, "node_id": "MDU6TGFiZWwzNjQ5NDc3OTI=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 563728366, "node_id": "MDU6TGFiZWw1NjM3MjgzNjY=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/information%20needed", "name": "information needed", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-11-30T14:21:12Z", "updated_at": "2017-12-26T14:30:10Z", "closed_at": "2017-12-26T14:30:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I understand how to build package \"manually\", but I want to know where to put `lz4` and `py3c` so `pip install lz4` can find it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/44", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/44/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/44/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/44", "id": 260063656, "node_id": "MDU6SXNzdWUyNjAwNjM2NTY=", "number": 44, "title": "Size is int32?", "user": {"login": "hotpxl", "id": 2174815, "node_id": "MDQ6VXNlcjIxNzQ4MTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/2174815?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hotpxl", "html_url": "https://github.com/hotpxl", "followers_url": "https://api.github.com/users/hotpxl/followers", "following_url": "https://api.github.com/users/hotpxl/following{/other_user}", "gists_url": "https://api.github.com/users/hotpxl/gists{/gist_id}", "starred_url": "https://api.github.com/users/hotpxl/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hotpxl/subscriptions", "organizations_url": "https://api.github.com/users/hotpxl/orgs", "repos_url": "https://api.github.com/users/hotpxl/repos", "events_url": "https://api.github.com/users/hotpxl/events{/privacy}", "received_events_url": "https://api.github.com/users/hotpxl/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-09-24T06:56:35Z", "updated_at": "2017-12-20T14:31:29Z", "closed_at": "2017-12-20T14:31:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running\r\n\r\n    python -c \"import lz4.frame; lz4.frame.compress(b'a' * (2 ** 31))\"\r\n\r\nWill give me `OverflowError: size does not fit in an int`\r\n\r\nLooks like it is using int32 to store size?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/37", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/37/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/37/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/37", "id": 229519555, "node_id": "MDU6SXNzdWUyMjk1MTk1NTU=", "number": 37, "title": "Ask LZ4 project to reference this project, not the old project", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-18T00:00:34Z", "updated_at": "2017-12-20T17:43:28Z", "closed_at": "2017-12-20T17:43:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Homepage lists bindings: http://lz4.github.io/lz4/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/36", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/36/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/36/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/36", "id": 229519352, "node_id": "MDU6SXNzdWUyMjk1MTkzNTI=", "number": 36, "title": "Update bundled lz4 to 1.7.5", "user": {"login": "jonathanunderwood", "id": 992114, "node_id": "MDQ6VXNlcjk5MjExNA==", "avatar_url": "https://avatars2.githubusercontent.com/u/992114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathanunderwood", "html_url": "https://github.com/jonathanunderwood", "followers_url": "https://api.github.com/users/jonathanunderwood/followers", "following_url": "https://api.github.com/users/jonathanunderwood/following{/other_user}", "gists_url": "https://api.github.com/users/jonathanunderwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathanunderwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathanunderwood/subscriptions", "organizations_url": "https://api.github.com/users/jonathanunderwood/orgs", "repos_url": "https://api.github.com/users/jonathanunderwood/repos", "events_url": "https://api.github.com/users/jonathanunderwood/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathanunderwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-17T23:58:56Z", "updated_at": "2017-12-20T14:28:14Z", "closed_at": "2017-12-20T14:28:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/lz4/lz4/releases\r\n\r\nAdd support for:\r\n\r\nlz4hc : new high compression mode, by @inikep : levels 10-12 compress more (and slower), 12 is highest level\r\n\r\nAPI : lz4frame : LZ4F_compressBound(0) provides upper bound of *flush() and *End() (#290, #280)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/35", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/35/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/35/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/35/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/35", "id": 229314701, "node_id": "MDU6SXNzdWUyMjkzMTQ3MDE=", "number": 35, "title": "compression failing with 0.9.2", "user": {"login": "bmoscon", "id": 1280059, "node_id": "MDQ6VXNlcjEyODAwNTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1280059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmoscon", "html_url": "https://github.com/bmoscon", "followers_url": "https://api.github.com/users/bmoscon/followers", "following_url": "https://api.github.com/users/bmoscon/following{/other_user}", "gists_url": "https://api.github.com/users/bmoscon/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmoscon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmoscon/subscriptions", "organizations_url": "https://api.github.com/users/bmoscon/orgs", "repos_url": "https://api.github.com/users/bmoscon/repos", "events_url": "https://api.github.com/users/bmoscon/events{/privacy}", "received_events_url": "https://api.github.com/users/bmoscon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-05-17T11:01:23Z", "updated_at": "2017-06-09T10:08:49Z", "closed_at": "2017-05-17T23:26:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can you help me understand what changed from 0.9.1 to 0.9.2? We compress a lot of output from numpy, eg:\r\n\r\n```python\r\nlz4.compressHC(np.packbits(np.ones(len(df), dtype='uint8')))\r\n```\r\n\r\nwith previous versions of lz4 this was fine, and now in our python 3.5/3.6 environments this fails with the following exception:\r\n\r\n```\r\nValueError: Incorrect type for source object\r\n```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/27", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/27/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/27/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/27", "id": 228158471, "node_id": "MDU6SXNzdWUyMjgxNTg0NzE=", "number": 27, "title": "latest version 0.9.0 does not allow compression of empty string", "user": {"login": "bmoscon", "id": 1280059, "node_id": "MDQ6VXNlcjEyODAwNTk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1280059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bmoscon", "html_url": "https://github.com/bmoscon", "followers_url": "https://api.github.com/users/bmoscon/followers", "following_url": "https://api.github.com/users/bmoscon/following{/other_user}", "gists_url": "https://api.github.com/users/bmoscon/gists{/gist_id}", "starred_url": "https://api.github.com/users/bmoscon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bmoscon/subscriptions", "organizations_url": "https://api.github.com/users/bmoscon/orgs", "repos_url": "https://api.github.com/users/bmoscon/repos", "events_url": "https://api.github.com/users/bmoscon/events{/privacy}", "received_events_url": "https://api.github.com/users/bmoscon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-05-12T00:40:02Z", "updated_at": "2019-02-16T18:07:26Z", "closed_at": "2017-05-13T12:11:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Previous versions of python-lz4 allowed compression of the empty string:\r\n\r\n```\r\nIn [1]: lz4.compress('')\r\nOut[1]: b'\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x88/\\xc9\\x0b'\r\n```\r\n\r\nthe latest version fails:\r\n\r\n```\r\nIn [2]: lz4.compress('')\r\nlz4/__init__.py:18: DeprecationWarning: Call to deprecated function or method compress (use lz4.block.compress instead).\r\n  def compress(*args, **kwargs):\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last) in <module>()\r\n----> 1 lz4.compress('')\r\n\r\nlz4/deprecated.py in new_func(*args, **kwargs)\r\n     37             warnings.warn_explicit(msg, category=DeprecationWarning, filename=filename, lineno=lineno)\r\n     38             warnings.simplefilter('default', DeprecationWarning)  # reset filter\r\n---> 39             return cls_or_func(*args, **kwargs)\r\n     40 \r\n     41         return new_func\r\n\r\nlz4/__init__.py in compress(*args, **kwargs)\r\n     17 @deprecated('use lz4.block.compress instead')\r\n     18 def compress(*args, **kwargs):\r\n---> 19     return lz4.block.compress(*args, **kwargs)\r\n     20 \r\n     21 @deprecated('use lz4.block.decompress instead')\r\n\r\nValueError: Input source data size invalid: 0 bytes\r\n```\r\n\r\n\r\nWas there a reason for this change? We use lz4 for compression of data we write to a database. Some of the records might contain empty strings. If I were to upgrade to the latest version of lz4 I'd no longer be able to support datasets with empty strings, and I'd also no longer be able to decompress the compressed data that's already been written. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/26", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/26/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/26/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/26", "id": 225125953, "node_id": "MDU6SXNzdWUyMjUxMjU5NTM=", "number": 26, "title": "Allow unknown uncompressed data size in lz4.block.decompress()", "user": {"login": "mcsakoff", "id": 959565, "node_id": "MDQ6VXNlcjk1OTU2NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/959565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcsakoff", "html_url": "https://github.com/mcsakoff", "followers_url": "https://api.github.com/users/mcsakoff/followers", "following_url": "https://api.github.com/users/mcsakoff/following{/other_user}", "gists_url": "https://api.github.com/users/mcsakoff/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcsakoff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcsakoff/subscriptions", "organizations_url": "https://api.github.com/users/mcsakoff/orgs", "repos_url": "https://api.github.com/users/mcsakoff/repos", "events_url": "https://api.github.com/users/mcsakoff/events{/privacy}", "received_events_url": "https://api.github.com/users/mcsakoff/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 563728366, "node_id": "MDU6TGFiZWw1NjM3MjgzNjY=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/information%20needed", "name": "information needed", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-04-28T16:07:34Z", "updated_at": "2017-04-29T21:41:43Z", "closed_at": "2017-04-29T21:41:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "In some cases you get lz4 compressed chunk of data without knowing uncompressed data size.\r\n\r\nI suggest to allow uncompressed_size (parameter of lz4.block.decompress) accept zero value to indicate that data size is unknown.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/25", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/25/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/25/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/25", "id": 224129263, "node_id": "MDU6SXNzdWUyMjQxMjkyNjM=", "number": 25, "title": "high_compression mode called compress_fast instead of lz4hc", "user": {"login": "karloku", "id": 2968257, "node_id": "MDQ6VXNlcjI5NjgyNTc=", "avatar_url": "https://avatars1.githubusercontent.com/u/2968257?v=4", "gravatar_id": "", "url": "https://api.github.com/users/karloku", "html_url": "https://github.com/karloku", "followers_url": "https://api.github.com/users/karloku/followers", "following_url": "https://api.github.com/users/karloku/following{/other_user}", "gists_url": "https://api.github.com/users/karloku/gists{/gist_id}", "starred_url": "https://api.github.com/users/karloku/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/karloku/subscriptions", "organizations_url": "https://api.github.com/users/karloku/orgs", "repos_url": "https://api.github.com/users/karloku/repos", "events_url": "https://api.github.com/users/karloku/events{/privacy}", "received_events_url": "https://api.github.com/users/karloku/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-04-25T13:00:12Z", "updated_at": "2017-04-28T09:48:35Z", "closed_at": "2017-04-28T09:48:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "#24 \r\n\r\nWhen calling ```lz4.block.compress(xxx, mode='high_compression')```, it calls fast compress instead of HC\r\n\r\nI have made a PR to fix it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/23", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/23/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/23/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/23", "id": 214615026, "node_id": "MDU6SXNzdWUyMTQ2MTUwMjY=", "number": 23, "title": "fix building under mingw", "user": {"login": "totaam", "id": 1049737, "node_id": "MDQ6VXNlcjEwNDk3Mzc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1049737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/totaam", "html_url": "https://github.com/totaam", "followers_url": "https://api.github.com/users/totaam/followers", "following_url": "https://api.github.com/users/totaam/following{/other_user}", "gists_url": "https://api.github.com/users/totaam/gists{/gist_id}", "starred_url": "https://api.github.com/users/totaam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/totaam/subscriptions", "organizations_url": "https://api.github.com/users/totaam/orgs", "repos_url": "https://api.github.com/users/totaam/repos", "events_url": "https://api.github.com/users/totaam/events{/privacy}", "received_events_url": "https://api.github.com/users/totaam/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-16T07:01:18Z", "updated_at": "2017-03-18T15:03:39Z", "closed_at": "2017-03-18T15:03:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n--- a/setup.py\t2017-03-16 13:54:10.038666000 +0700\r\n+++ b/setup.py\t2017-03-16 13:56:20.881360400 +0700\r\n@@ -84,7 +84,7 @@\r\n \r\n if compiler == 'msvc':\r\n     extra_compile_args = ['/Ot', '/Wall']\r\n-elif compiler == 'unix':\r\n+elif compiler in ('unix', 'mingw32'):\r\n     if liblz4_found:\r\n         extra_compile_args = []\r\n     else:\r\n```\r\nAlso the sys.exit in the \"else\" error case is failing with an import error because sys is not imported anywhere.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/21", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/21/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/21/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/21", "id": 213950067, "node_id": "MDU6SXNzdWUyMTM5NTAwNjc=", "number": 21, "title": "Feature Request: enable simple frame compression without content-size header", "user": {"login": "dpkp", "id": 843444, "node_id": "MDQ6VXNlcjg0MzQ0NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/843444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dpkp", "html_url": "https://github.com/dpkp", "followers_url": "https://api.github.com/users/dpkp/followers", "following_url": "https://api.github.com/users/dpkp/following{/other_user}", "gists_url": "https://api.github.com/users/dpkp/gists{/gist_id}", "starred_url": "https://api.github.com/users/dpkp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dpkp/subscriptions", "organizations_url": "https://api.github.com/users/dpkp/orgs", "repos_url": "https://api.github.com/users/dpkp/repos", "events_url": "https://api.github.com/users/dpkp/events{/privacy}", "received_events_url": "https://api.github.com/users/dpkp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-03-14T02:16:29Z", "updated_at": "2017-04-28T20:00:39Z", "closed_at": "2017-04-28T20:00:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The lz4 frame specification makes the content-size header field optional. I would love to be able to `lz4.frame.compress(foo, content_size=False)` and have the encoded frame not include the C.Size FLG and the optional 8 bytes of size data.\r\n\r\nFor example, the lz4f package does not include the content-size header and results in different bits:\r\n\r\n```\r\nIn [1]: import lz4f\r\nIn [2]: lz4f.compressFrame(b'1234')\r\nOut[2]: '\\x04\"M\\x18`@\\x82\\x04\\x00\\x00\\x801234\\x00\\x00\\x00\\x00'\r\nIn [3]: import lz4.frame\r\nIn [4]: lz4.frame.compress(b'1234')\r\nOut[4]: '\\x04\"M\\x18h@\\x04\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xcd\\x04\\x00\\x00\\x801234\\x00\\x00\\x00\\x00'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/20", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/20/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/20/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/20", "id": 213946468, "node_id": "MDU6SXNzdWUyMTM5NDY0Njg=", "number": 20, "title": "Support for pypy", "user": {"login": "dpkp", "id": 843444, "node_id": "MDQ6VXNlcjg0MzQ0NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/843444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dpkp", "html_url": "https://github.com/dpkp", "followers_url": "https://api.github.com/users/dpkp/followers", "following_url": "https://api.github.com/users/dpkp/following{/other_user}", "gists_url": "https://api.github.com/users/dpkp/gists{/gist_id}", "starred_url": "https://api.github.com/users/dpkp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dpkp/subscriptions", "organizations_url": "https://api.github.com/users/dpkp/orgs", "repos_url": "https://api.github.com/users/dpkp/repos", "events_url": "https://api.github.com/users/dpkp/events{/privacy}", "received_events_url": "https://api.github.com/users/dpkp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-14T01:47:50Z", "updated_at": "2017-03-14T20:14:32Z", "closed_at": "2017-03-14T20:14:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The current lz4 library crashes on pypy:\r\n\r\n```\r\n\u2192 pypy\r\nPython 2.7.10 (5f8302b8bf9f53056e40426f10c72151564e5b19, Nov 21 2015, 04:15:18)\r\n[PyPy 4.0.1 with GCC 4.2.1 Compatible Apple LLVM 7.0.0 (clang-700.1.76)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>>> import lz4.frame\r\n>>>> lz4.frame.compress(b'1234')\r\n[1]    23731 segmentation fault  pypy\r\n```\r\n\r\nI don't know enough about pypy development right now to debug, so apologies for no PR (because this is a great library!).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/19", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/19/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/19/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/19", "id": 213868722, "node_id": "MDU6SXNzdWUyMTM4Njg3MjI=", "number": 19, "title": "0.9.0 failing: test_compress_begin_update_end_no_auto_flush_not_defaults_threaded", "user": {"login": "itoffshore", "id": 1141947, "node_id": "MDQ6VXNlcjExNDE5NDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1141947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itoffshore", "html_url": "https://github.com/itoffshore", "followers_url": "https://api.github.com/users/itoffshore/followers", "following_url": "https://api.github.com/users/itoffshore/following{/other_user}", "gists_url": "https://api.github.com/users/itoffshore/gists{/gist_id}", "starred_url": "https://api.github.com/users/itoffshore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itoffshore/subscriptions", "organizations_url": "https://api.github.com/users/itoffshore/orgs", "repos_url": "https://api.github.com/users/itoffshore/repos", "events_url": "https://api.github.com/users/itoffshore/events{/privacy}", "received_events_url": "https://api.github.com/users/itoffshore/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 364947792, "node_id": "MDU6TGFiZWwzNjQ5NDc3OTI=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/bug", "name": "bug", "color": "ee0701", "default": true, "description": null}, {"id": 563728366, "node_id": "MDU6TGFiZWw1NjM3MjgzNjY=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/information%20needed", "name": "information needed", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-03-13T19:13:26Z", "updated_at": "2017-12-22T16:11:46Z", "closed_at": "2017-12-20T14:29:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "In [Alpine Linux](http://alpinelinux.org) we have just started running unit tests for all packages. In `python2` & `python3` only one test is failing (with a segfault) for:\r\n\r\n`test_compress_begin_update_end_no_auto_flush_not_defaults_threaded`\r\n***\r\n\r\n* **Failing test log**:\r\n\r\n```\r\n*** running python2 tests ***\r\nrunning test\r\nrunning egg_info\r\nwriting lz4.egg-info/PKG-INFO\r\nwriting top-level names to lz4.egg-info/top_level.txt\r\nwriting dependency_links to lz4.egg-info/dependency_links.txt\r\nreading manifest file 'lz4.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwarning: no files found matching 'src/*.h'\r\nwarning: no previously-included files found matching 'tests/*.pyc'\r\nwriting manifest file 'lz4.egg-info/SOURCES.txt'\r\nrunning build_ext\r\ncopying build/lib.linux-x86_64-2.7/lz4/_version.so -> lz4\r\ncopying build/lib.linux-x86_64-2.7/lz4/block/_block.so -> lz4/block\r\ncopying build/lib.linux-x86_64-2.7/lz4/frame/_frame.so -> lz4/frame\r\n/usr/lib/python2.7/site-packages/nose/config.py:264: RuntimeWarning: Option 'with-coverage' in config file 'setup.cfg' ignored: excluded by runtime environment\r\n  warn(msg, RuntimeWarning)\r\n/usr/lib/python2.7/site-packages/nose/config.py:264: RuntimeWarning: Option 'cover-package' in config file 'setup.cfg' ignored: excluded by runtime environment\r\n  warn(msg, RuntimeWarning)\r\nnose.loader: DEBUG: load from . (None)\r\nnose.loader: DEBUG: load from dir /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests\r\nnose.loader: DEBUG: load from /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py (None)\r\nnose.loader: DEBUG: Load from module <module 'test_block' from '/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py'>\r\ntest_block_format (test_block.TestLZ4Block) ... ok\r\ntest_random (test_block.TestLZ4Block) ... ok\r\ntest_random_fast1 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast2 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast3 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_random_hc1 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc2 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc3 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_random_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_threads (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast1 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast2 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast3 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc1 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc2 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc3 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_decompress_truncated (test_block.TestLZ4BlockModern) ... ok\r\ntest_decompress_ui32_overflow (test_block.TestLZ4BlockModern) ... ok\r\ntest_decompress_with_trailer (test_block.TestLZ4BlockModern) ... ok\r\ntest_decompress_without_leak (test_block.TestLZ4BlockModern) ... ok\r\nnose.loader: DEBUG: load from /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_frame.py (None)\r\nnose.loader: DEBUG: Load from module <module 'test_frame' from '/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_frame.py'>\r\ntest_LZ4FrameCompressor (test_frame.TestLZ4Frame) ... ok\r\ntest_LZ4FrameCompressor_reset (test_frame.TestLZ4Frame) ... ok\r\ntest_compress (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush_2 (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush_not_defaults (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush_not_defaults_threaded (test_frame.TestLZ4Frame) ... Segmentation fault\r\n*** running python3 tests ***\r\nrunning test\r\nSearching for nose>=1.0\r\nReading https://pypi.python.org/simple/nose/\r\nDownloading https://pypi.python.org/packages/58/a5/0dc93c3ec33f4e281849523a5a913fa1eea9a3068acfa754d44d88107a44/nose-1.3.7.tar.gz#md5=4d3ad0ff07b61373d2cefc89c5d0b20b\r\nBest match: nose 1.3.7\r\nProcessing nose-1.3.7.tar.gz\r\nWriting /tmp/easy_install-wme5wdjf/nose-1.3.7/setup.cfg\r\nRunning nose-1.3.7/setup.py -q bdist_egg --dist-dir /tmp/easy_install-wme5wdjf/nose-1.3.7/egg-dist-tmp-2jabmaz8\r\nno previously-included directories found matching 'doc/.build'\r\ncreating /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py3.6.egg\r\nExtracting nose-1.3.7-py3.6.egg to /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs\r\n\r\nInstalled /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py3.6.egg\r\nrunning egg_info\r\nwriting lz4.egg-info/PKG-INFO\r\nwriting dependency_links to lz4.egg-info/dependency_links.txt\r\nwriting top-level names to lz4.egg-info/top_level.txt\r\nreading manifest file 'lz4.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwarning: no files found matching 'src/*.h'\r\nwarning: no previously-included files found matching 'tests/*.pyc'\r\nwriting manifest file 'lz4.egg-info/SOURCES.txt'\r\nrunning build_ext\r\ncopying build/lib.linux-x86_64-3.6/lz4/_version.cpython-36m-x86_64-linux-gnu.so -> lz4\r\ncopying build/lib.linux-x86_64-3.6/lz4/block/_block.cpython-36m-x86_64-linux-gnu.so -> lz4/block\r\ncopying build/lib.linux-x86_64-3.6/lz4/frame/_frame.cpython-36m-x86_64-linux-gnu.so -> lz4/frame\r\n/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py3.6.egg/nose/config.py:264: RuntimeWarning: Option 'with-coverage' in config file 'setup.cfg' ignored: excluded by runtime environment\r\n  warn(msg, RuntimeWarning)\r\n/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py3.6.egg/nose/config.py:264: RuntimeWarning: Option 'cover-package' in config file 'setup.cfg' ignored: excluded by runtime environment\r\n  warn(msg, RuntimeWarning)\r\nnose.loader: DEBUG: load from . (None)\r\nnose.loader: DEBUG: load from dir /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests\r\nnose.loader: DEBUG: load from /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py (None)\r\n/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py:196: DeprecationWarning: invalid escape sequence \\d\r\n  with self.assertRaisesRegexp(ValueError, '^(Input source data size too small|Corrupt input at byte \\d+|Decompressor wrote \\d+ bytes, but \\d+ bytes expected from header)'):\r\nnose.loader: DEBUG: Load from module <module 'test_block' from '/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py'>\r\ntest_block_format (test_block.TestLZ4Block) ... ok\r\ntest_random (test_block.TestLZ4Block) ... ok\r\ntest_random_fast1 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast2 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast3 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_random_hc1 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc2 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc3 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_random_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_threads (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast1 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast2 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast3 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc1 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc2 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc3 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_decompress_truncated (test_block.TestLZ4BlockModern) ... /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py:196: DeprecationWarning: Please use assertRaisesRegex instead.\r\n  with self.assertRaisesRegexp(ValueError, '^(Input source data size too small|Corrupt input at byte \\d+|Decompressor wrote \\d+ bytes, but \\d+ bytes expected from header)'):\r\nok\r\ntest_decompress_ui32_overflow (test_block.TestLZ4BlockModern) ... ok\r\ntest_decompress_with_trailer (test_block.TestLZ4BlockModern) ... ok\r\ntest_decompress_without_leak (test_block.TestLZ4BlockModern) ... ok\r\nnose.loader: DEBUG: load from /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_frame.py (None)\r\nnose.loader: DEBUG: Load from module <module 'test_frame' from '/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_frame.py'>\r\ntest_LZ4FrameCompressor (test_frame.TestLZ4Frame) ... ok\r\ntest_LZ4FrameCompressor_reset (test_frame.TestLZ4Frame) ... ok\r\ntest_compress (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush_2 (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush_not_defaults (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush_not_defaults_threaded (test_frame.TestLZ4Frame) ... Segmentation fault\r\n```\r\n***\r\n* **Test Log without** `test_compress_begin_update_end_no_auto_flush_not_defaults_threaded`:\r\n\r\n```\r\n*** running python2 tests ***\r\nrunning test\r\nSearching for nose>=1.0\r\nReading https://pypi.python.org/simple/nose/\r\nDownloading https://pypi.python.org/packages/58/a5/0dc93c3ec33f4e281849523a5a913fa1eea9a3068acfa754d44d88107a44/nose-1.3.7.tar.gz#md5=4d3ad0ff07b61373d2cefc89c5d0b20b\r\nBest match: nose 1.3.7\r\nProcessing nose-1.3.7.tar.gz\r\nWriting /tmp/easy_install-FPsAiB/nose-1.3.7/setup.cfg\r\nRunning nose-1.3.7/setup.py -q bdist_egg --dist-dir /tmp/easy_install-FPsAiB/nose-1.3.7/egg-dist-tmp-BDyS4C\r\nno previously-included directories found matching 'doc/.build'\r\ncreating /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py2.7.egg\r\nExtracting nose-1.3.7-py2.7.egg to /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs\r\n\r\nInstalled /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py2.7.egg\r\nrunning egg_info\r\nwriting lz4.egg-info/PKG-INFO\r\nwriting top-level names to lz4.egg-info/top_level.txt\r\nwriting dependency_links to lz4.egg-info/dependency_links.txt\r\nreading manifest file 'lz4.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwarning: no files found matching 'src/*.h'\r\nwarning: no previously-included files found matching 'tests/*.pyc'\r\nwriting manifest file 'lz4.egg-info/SOURCES.txt'\r\nrunning build_ext\r\ncopying build/lib.linux-x86_64-2.7/lz4/_version.so -> lz4\r\ncopying build/lib.linux-x86_64-2.7/lz4/block/_block.so -> lz4/block\r\ncopying build/lib.linux-x86_64-2.7/lz4/frame/_frame.so -> lz4/frame\r\n/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py2.7.egg/nose/config.py:264: RuntimeWarning: Option 'with-coverage' in config file 'setup.cfg' ignored: excluded by runtime environment\r\n  warn(msg, RuntimeWarning)\r\n/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py2.7.egg/nose/config.py:264: RuntimeWarning: Option 'cover-package' in config file 'setup.cfg' ignored: excluded by runtime environment\r\n  warn(msg, RuntimeWarning)\r\nnose.loader: DEBUG: load from . (None)\r\nnose.loader: DEBUG: load from dir /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests\r\nnose.loader: DEBUG: load from /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py (None)\r\nnose.loader: DEBUG: Load from module <module 'test_block' from '/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py'>\r\ntest_block_format (test_block.TestLZ4Block) ... ok\r\ntest_random (test_block.TestLZ4Block) ... ok\r\ntest_random_fast1 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast2 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast3 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_random_hc1 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc2 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc3 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_random_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_threads (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast1 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast2 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast3 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc1 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc2 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc3 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_decompress_truncated (test_block.TestLZ4BlockModern) ... ok\r\ntest_decompress_ui32_overflow (test_block.TestLZ4BlockModern) ... ok\r\ntest_decompress_with_trailer (test_block.TestLZ4BlockModern) ... ok\r\ntest_decompress_without_leak (test_block.TestLZ4BlockModern) ... ok\r\nnose.loader: DEBUG: load from /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_frame.py (None)\r\nnose.loader: DEBUG: Load from module <module 'test_frame' from '/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_frame.py'>\r\ntest_LZ4FrameCompressor (test_frame.TestLZ4Frame) ... ok\r\ntest_LZ4FrameCompressor_reset (test_frame.TestLZ4Frame) ... ok\r\ntest_compress (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush_2 (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush_not_defaults (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_not_defaults (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_huge_with_size (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_huge_without_size (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_not_defaults_1 (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_not_defaults_2 (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_not_defaults_3 (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_not_defaults_4 (test_frame.TestLZ4Frame) ... ok\r\ntest_create_and_free_compression_context (test_frame.TestLZ4Frame) ... ok\r\ntest_get_frame_info (test_frame.TestLZ4Frame) ... ok\r\ntest_threads (test_frame.TestLZ4Frame) ... ok\r\ntest_LZ4FrameCompressor_fails (test_frame.TestLZ4FrameModern) ... ok\r\ntest_checksum_failure (test_frame.TestLZ4FrameModern) ... ok\r\ntest_decompress_trailer (test_frame.TestLZ4FrameModern) ... ok\r\ntest_decompress_truncated (test_frame.TestLZ4FrameModern) ... ok\r\n\r\n----------------------------------------------------------------------\r\nRan 45 tests in 7.541s\r\n\r\nOK\r\n*** running python3 tests ***\r\nrunning test\r\nSearching for nose>=1.0\r\nReading https://pypi.python.org/simple/nose/\r\nDownloading https://pypi.python.org/packages/58/a5/0dc93c3ec33f4e281849523a5a913fa1eea9a3068acfa754d44d88107a44/nose-1.3.7.tar.gz#md5=4d3ad0ff07b61373d2cefc89c5d0b20b\r\nBest match: nose 1.3.7\r\nProcessing nose-1.3.7.tar.gz\r\nWriting /tmp/easy_install-ietl2k7c/nose-1.3.7/setup.cfg\r\nRunning nose-1.3.7/setup.py -q bdist_egg --dist-dir /tmp/easy_install-ietl2k7c/nose-1.3.7/egg-dist-tmp-gdyx_mdr\r\nno previously-included directories found matching 'doc/.build'\r\ncreating /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py3.6.egg\r\nExtracting nose-1.3.7-py3.6.egg to /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs\r\n\r\nInstalled /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py3.6.egg\r\nrunning egg_info\r\nwriting lz4.egg-info/PKG-INFO\r\nwriting dependency_links to lz4.egg-info/dependency_links.txt\r\nwriting top-level names to lz4.egg-info/top_level.txt\r\nreading manifest file 'lz4.egg-info/SOURCES.txt'\r\nreading manifest template 'MANIFEST.in'\r\nwarning: no files found matching 'src/*.h'\r\nwarning: no previously-included files found matching 'tests/*.pyc'\r\nwriting manifest file 'lz4.egg-info/SOURCES.txt'\r\nrunning build_ext\r\ncopying build/lib.linux-x86_64-3.6/lz4/_version.cpython-36m-x86_64-linux-gnu.so -> lz4\r\ncopying build/lib.linux-x86_64-3.6/lz4/block/_block.cpython-36m-x86_64-linux-gnu.so -> lz4/block\r\ncopying build/lib.linux-x86_64-3.6/lz4/frame/_frame.cpython-36m-x86_64-linux-gnu.so -> lz4/frame\r\n/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py3.6.egg/nose/config.py:264: RuntimeWarning: Option 'with-coverage' in config file 'setup.cfg' ignored: excluded by runtime environment\r\n  warn(msg, RuntimeWarning)\r\n/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/.eggs/nose-1.3.7-py3.6.egg/nose/config.py:264: RuntimeWarning: Option 'cover-package' in config file 'setup.cfg' ignored: excluded by runtime environment\r\n  warn(msg, RuntimeWarning)\r\nnose.loader: DEBUG: load from . (None)\r\nnose.loader: DEBUG: load from dir /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests\r\nnose.loader: DEBUG: load from /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py (None)\r\n/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py:196: DeprecationWarning: invalid escape sequence \\d\r\n  with self.assertRaisesRegexp(ValueError, '^(Input source data size too small|Corrupt input at byte \\d+|Decompressor wrote \\d+ bytes, but \\d+ bytes expected from header)'):\r\nnose.loader: DEBUG: Load from module <module 'test_block' from '/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py'>\r\ntest_block_format (test_block.TestLZ4Block) ... ok\r\ntest_random (test_block.TestLZ4Block) ... ok\r\ntest_random_fast1 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast2 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast3 (test_block.TestLZ4Block) ... ok\r\ntest_random_fast_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_random_hc1 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc2 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc3 (test_block.TestLZ4Block) ... ok\r\ntest_random_hc_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_random_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_threads (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast1 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast2 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast3 (test_block.TestLZ4Block) ... ok\r\ntest_threads_fast_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc1 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc2 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc3 (test_block.TestLZ4Block) ... ok\r\ntest_threads_hc_no_store_size (test_block.TestLZ4Block) ... ok\r\ntest_decompress_truncated (test_block.TestLZ4BlockModern) ... /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_block.py:196: DeprecationWarning: Please use assertRaisesRegex instead.\r\n  with self.assertRaisesRegexp(ValueError, '^(Input source data size too small|Corrupt input at byte \\d+|Decompressor wrote \\d+ bytes, but \\d+ bytes expected from header)'):\r\nok\r\ntest_decompress_ui32_overflow (test_block.TestLZ4BlockModern) ... ok\r\ntest_decompress_with_trailer (test_block.TestLZ4BlockModern) ... ok\r\ntest_decompress_without_leak (test_block.TestLZ4BlockModern) ... ok\r\nnose.loader: DEBUG: load from /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_frame.py (None)\r\nnose.loader: DEBUG: Load from module <module 'test_frame' from '/home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_frame.py'>\r\ntest_LZ4FrameCompressor (test_frame.TestLZ4Frame) ... ok\r\ntest_LZ4FrameCompressor_reset (test_frame.TestLZ4Frame) ... ok\r\ntest_compress (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush_2 (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_no_auto_flush_not_defaults (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_begin_update_end_not_defaults (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_huge_with_size (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_huge_without_size (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_not_defaults_1 (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_not_defaults_2 (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_not_defaults_3 (test_frame.TestLZ4Frame) ... ok\r\ntest_compress_not_defaults_4 (test_frame.TestLZ4Frame) ... ok\r\ntest_create_and_free_compression_context (test_frame.TestLZ4Frame) ... ok\r\ntest_get_frame_info (test_frame.TestLZ4Frame) ... ok\r\ntest_threads (test_frame.TestLZ4Frame) ... ok\r\ntest_LZ4FrameCompressor_fails (test_frame.TestLZ4FrameModern) ... /home/stuart/aports/community/py-lz4/src/lz4-0.9.0/tests/test_frame.py:270: DeprecationWarning: Please use assertRaisesRegex instead.\r\n  with self.assertRaisesRegexp(RuntimeError, r'compress called after flush'):\r\nok\r\ntest_checksum_failure (test_frame.TestLZ4FrameModern) ... ok\r\ntest_decompress_trailer (test_frame.TestLZ4FrameModern) ... ok\r\ntest_decompress_truncated (test_frame.TestLZ4FrameModern) ... ok\r\n\r\n----------------------------------------------------------------------\r\nRan 45 tests in 7.807s\r\n```\r\n***\r\nPerhaps this error is due to Alpine using `musl libc` (not `glibc`) - if I can provide any other information to help debug this issue please let me know.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/18", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/18/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/18/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/18", "id": 211597934, "node_id": "MDU6SXNzdWUyMTE1OTc5MzQ=", "number": 18, "title": "0.9 release?", "user": {"login": "jleclanche", "id": 235410, "node_id": "MDQ6VXNlcjIzNTQxMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/235410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jleclanche", "html_url": "https://github.com/jleclanche", "followers_url": "https://api.github.com/users/jleclanche/followers", "following_url": "https://api.github.com/users/jleclanche/following{/other_user}", "gists_url": "https://api.github.com/users/jleclanche/gists{/gist_id}", "starred_url": "https://api.github.com/users/jleclanche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jleclanche/subscriptions", "organizations_url": "https://api.github.com/users/jleclanche/orgs", "repos_url": "https://api.github.com/users/jleclanche/repos", "events_url": "https://api.github.com/users/jleclanche/events{/privacy}", "received_events_url": "https://api.github.com/users/jleclanche/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-03-03T05:18:31Z", "updated_at": "2017-03-12T16:10:39Z", "closed_at": "2017-03-12T16:06:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Any chance for a 0.9 release? Been waiting for it for a long time, and there havent been any new commits in a month and a half.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/17", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/17/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/17/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/17", "id": 210749581, "node_id": "MDU6SXNzdWUyMTA3NDk1ODE=", "number": 17, "title": "Provide with handler support", "user": {"login": "dreamflasher", "id": 31695, "node_id": "MDQ6VXNlcjMxNjk1", "avatar_url": "https://avatars3.githubusercontent.com/u/31695?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dreamflasher", "html_url": "https://github.com/dreamflasher", "followers_url": "https://api.github.com/users/dreamflasher/followers", "following_url": "https://api.github.com/users/dreamflasher/following{/other_user}", "gists_url": "https://api.github.com/users/dreamflasher/gists{/gist_id}", "starred_url": "https://api.github.com/users/dreamflasher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dreamflasher/subscriptions", "organizations_url": "https://api.github.com/users/dreamflasher/orgs", "repos_url": "https://api.github.com/users/dreamflasher/repos", "events_url": "https://api.github.com/users/dreamflasher/events{/privacy}", "received_events_url": "https://api.github.com/users/dreamflasher/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 594544017, "node_id": "MDU6TGFiZWw1OTQ1NDQwMTc=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/WIP", "name": "WIP", "color": "d4c5f9", "default": false, "description": null}, {"id": 364947794, "node_id": "MDU6TGFiZWwzNjQ5NDc3OTQ=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-02-28T10:41:51Z", "updated_at": "2018-01-21T12:28:06Z", "closed_at": "2018-01-21T12:28:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Support read and write via with file handler as gzip.open and BZ2File do. Eg.:\r\n\r\n`with lz4.open(filename, 'wb') as f:`", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/16", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/16/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/16/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/16", "id": 209841600, "node_id": "MDU6SXNzdWUyMDk4NDE2MDA=", "number": 16, "title": "s* instead of s# with PyArg_ParseTupleAndKeywords", "user": {"login": "frensjan", "id": 3985389, "node_id": "MDQ6VXNlcjM5ODUzODk=", "avatar_url": "https://avatars1.githubusercontent.com/u/3985389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frensjan", "html_url": "https://github.com/frensjan", "followers_url": "https://api.github.com/users/frensjan/followers", "following_url": "https://api.github.com/users/frensjan/following{/other_user}", "gists_url": "https://api.github.com/users/frensjan/gists{/gist_id}", "starred_url": "https://api.github.com/users/frensjan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frensjan/subscriptions", "organizations_url": "https://api.github.com/users/frensjan/orgs", "repos_url": "https://api.github.com/users/frensjan/repos", "events_url": "https://api.github.com/users/frensjan/events{/privacy}", "received_events_url": "https://api.github.com/users/frensjan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 364947794, "node_id": "MDU6TGFiZWwzNjQ5NDc3OTQ=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2017-02-23T18:15:50Z", "updated_at": "2017-06-09T09:28:46Z", "closed_at": "2017-05-16T22:12:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "In python-lz4 ```s#``` is used in e.g. the ```lz4.decompress``` method. I've got ```bytearray``` objects I'm decompression and I currently have to create an immutable ```bytes``` object out of them for compatibility with lz4. While I understand that lz4 will threat the bytes to be decompressed as immutable, accepting only immutable ```bytes``` objects forces a memory copy when the data is in a ```bytearray```. Any posibility ```s#``` could be changed to ```s*```?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/15", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/15/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/15/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/15", "id": 204127319, "node_id": "MDU6SXNzdWUyMDQxMjczMTk=", "number": 15, "title": "Fix depreciated API use in tests/bench.py", "user": {"login": "itdaniher", "id": 22683, "node_id": "MDQ6VXNlcjIyNjgz", "avatar_url": "https://avatars2.githubusercontent.com/u/22683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/itdaniher", "html_url": "https://github.com/itdaniher", "followers_url": "https://api.github.com/users/itdaniher/followers", "following_url": "https://api.github.com/users/itdaniher/following{/other_user}", "gists_url": "https://api.github.com/users/itdaniher/gists{/gist_id}", "starred_url": "https://api.github.com/users/itdaniher/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/itdaniher/subscriptions", "organizations_url": "https://api.github.com/users/itdaniher/orgs", "repos_url": "https://api.github.com/users/itdaniher/repos", "events_url": "https://api.github.com/users/itdaniher/events{/privacy}", "received_events_url": "https://api.github.com/users/itdaniher/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-30T20:57:09Z", "updated_at": "2017-04-29T13:03:46Z", "closed_at": "2017-04-29T13:03:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "> lz4.uncompress -> lz4.block.decompress\r\n\r\n> lz4.compress -> lz4.block.compress\r\n\r\nOtherwise stdout gets a line for each of the 200k loop iterations on each test. Didn't seem worth making a PR over, but annoying enough an upstream fix seemed appropriate.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/8", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/8/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/8/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/8/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/8", "id": 193968744, "node_id": "MDU6SXNzdWUxOTM5Njg3NDQ=", "number": 8, "title": "Cannot seem to read from node-lz4", "user": {"login": "gappleto97", "id": 1554778, "node_id": "MDQ6VXNlcjE1NTQ3Nzg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1554778?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gappleto97", "html_url": "https://github.com/gappleto97", "followers_url": "https://api.github.com/users/gappleto97/followers", "following_url": "https://api.github.com/users/gappleto97/following{/other_user}", "gists_url": "https://api.github.com/users/gappleto97/gists{/gist_id}", "starred_url": "https://api.github.com/users/gappleto97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gappleto97/subscriptions", "organizations_url": "https://api.github.com/users/gappleto97/orgs", "repos_url": "https://api.github.com/users/gappleto97/repos", "events_url": "https://api.github.com/users/gappleto97/events{/privacy}", "received_events_url": "https://api.github.com/users/gappleto97/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-12-07T06:30:45Z", "updated_at": "2017-04-29T13:02:00Z", "closed_at": "2017-04-29T13:02:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Your library produces this when compressing 'a':\r\n\r\n`b'\\x01\\x00\\x00\\x00\\x10a'`\r\n\r\n[node-lz4](https://github.com/pierrec/node-lz4) produces this when compressing 'a':\r\n\r\n`b'\\x04\"M\\x18dp\\xb9\\x02\\x00\\x00\\x00\\x10a\\x00\\x00\\x00\\x00Vt\\rU'`\r\n\r\nNeither library can decode the other's output. Is there any chance you could try to make these libraries compatible, since both are supposed to use the same compression?\r\n\r\nSee: https://github.com/pierrec/node-lz4/issues/48", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/7", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/7/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/7/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/7", "id": 182567910, "node_id": "MDU6SXNzdWUxODI1Njc5MTA=", "number": 7, "title": "It would be nice for windows users if pre-compiled Wheels were published", "user": {"login": "jdb-vsn", "id": 2171729, "node_id": "MDQ6VXNlcjIxNzE3Mjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2171729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdb-vsn", "html_url": "https://github.com/jdb-vsn", "followers_url": "https://api.github.com/users/jdb-vsn/followers", "following_url": "https://api.github.com/users/jdb-vsn/following{/other_user}", "gists_url": "https://api.github.com/users/jdb-vsn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdb-vsn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdb-vsn/subscriptions", "organizations_url": "https://api.github.com/users/jdb-vsn/orgs", "repos_url": "https://api.github.com/users/jdb-vsn/repos", "events_url": "https://api.github.com/users/jdb-vsn/events{/privacy}", "received_events_url": "https://api.github.com/users/jdb-vsn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 364947794, "node_id": "MDU6TGFiZWwzNjQ5NDc3OTQ=", "url": "https://api.github.com/repos/python-lz4/python-lz4/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-10-12T16:11:20Z", "updated_at": "2017-12-26T12:34:32Z", "closed_at": "2017-12-26T12:34:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Many Windows users don't have compilers installed, and if they do have some C++ compiler it is likely NOT to be the correct one for building C modules for their installed Python version.\n\nPre-built wheels would make this much easier for Windows users.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/6", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/6/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/6/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/6", "id": 165221572, "node_id": "MDU6SXNzdWUxNjUyMjE1NzI=", "number": 6, "title": "decompress() shouldn't expect the data to start with the size", "user": {"login": "jleclanche", "id": 235410, "node_id": "MDQ6VXNlcjIzNTQxMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/235410?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jleclanche", "html_url": "https://github.com/jleclanche", "followers_url": "https://api.github.com/users/jleclanche/followers", "following_url": "https://api.github.com/users/jleclanche/following{/other_user}", "gists_url": "https://api.github.com/users/jleclanche/gists{/gist_id}", "starred_url": "https://api.github.com/users/jleclanche/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jleclanche/subscriptions", "organizations_url": "https://api.github.com/users/jleclanche/orgs", "repos_url": "https://api.github.com/users/jleclanche/repos", "events_url": "https://api.github.com/users/jleclanche/events{/privacy}", "received_events_url": "https://api.github.com/users/jleclanche/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-07-13T02:13:00Z", "updated_at": "2016-12-20T01:32:42Z", "closed_at": "2016-12-18T14:05:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Unity3d uses lz4 to compress blocks of data. The size is stored separately. In order to use this library to decompress the blocks in question, a buffer has to be recreated which is unnecessarily slow.\n\nCould you add a way to specify the data size through an argument?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/5", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/5/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/5/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/5", "id": 162308109, "node_id": "MDU6SXNzdWUxNjIzMDgxMDk=", "number": 5, "title": "PyCapsule_New calls have no destructor - memory leak", "user": {"login": "nneonneo", "id": 75449, "node_id": "MDQ6VXNlcjc1NDQ5", "avatar_url": "https://avatars3.githubusercontent.com/u/75449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nneonneo", "html_url": "https://github.com/nneonneo", "followers_url": "https://api.github.com/users/nneonneo/followers", "following_url": "https://api.github.com/users/nneonneo/following{/other_user}", "gists_url": "https://api.github.com/users/nneonneo/gists{/gist_id}", "starred_url": "https://api.github.com/users/nneonneo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nneonneo/subscriptions", "organizations_url": "https://api.github.com/users/nneonneo/orgs", "repos_url": "https://api.github.com/users/nneonneo/repos", "events_url": "https://api.github.com/users/nneonneo/events{/privacy}", "received_events_url": "https://api.github.com/users/nneonneo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-06-26T01:47:10Z", "updated_at": "2016-12-04T13:16:07Z", "closed_at": "2016-12-04T13:16:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "None of the calls to `PyCapsule_New` are passing in a destructor. The result is that the various heap-allocated chunks inside these capsules will eventually leak.\n\nFor example, calling `lz4.frame.makePrefs()` in a loop will eventually consume all memory even if the result is not bound to a variable.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/3", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/3/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/3/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/3", "id": 162258358, "node_id": "MDU6SXNzdWUxNjIyNTgzNTg=", "number": 3, "title": "Compile failure on MSVC", "user": {"login": "nneonneo", "id": 75449, "node_id": "MDQ6VXNlcjc1NDQ5", "avatar_url": "https://avatars3.githubusercontent.com/u/75449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nneonneo", "html_url": "https://github.com/nneonneo", "followers_url": "https://api.github.com/users/nneonneo/followers", "following_url": "https://api.github.com/users/nneonneo/following{/other_user}", "gists_url": "https://api.github.com/users/nneonneo/gists{/gist_id}", "starred_url": "https://api.github.com/users/nneonneo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nneonneo/subscriptions", "organizations_url": "https://api.github.com/users/nneonneo/orgs", "repos_url": "https://api.github.com/users/nneonneo/repos", "events_url": "https://api.github.com/users/nneonneo/events{/privacy}", "received_events_url": "https://api.github.com/users/nneonneo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-06-25T02:19:26Z", "updated_at": "2016-06-26T13:25:45Z", "closed_at": "2016-06-26T13:25:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "MS Visual Studio 2008 (which is used for the default python.org Python 2.7 builds) fails to compile lz4 with the following error:\n\n```\nsrc/python-lz4.c(131) : error C2143: syntax error : missing ';' before 'type'\n```\n\nThis is because MSVC 2008 doesn't permit mixing declarations with code. The fix is simple, and a patch is forthcoming.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/2", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/2/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/2/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/2", "id": 153464289, "node_id": "MDU6SXNzdWUxNTM0NjQyODk=", "number": 2, "title": "lz4 doesn't handle larger file sizes: stream protocol implementation needed", "user": {"login": "treeandbrick", "id": 15673238, "node_id": "MDQ6VXNlcjE1NjczMjM4", "avatar_url": "https://avatars2.githubusercontent.com/u/15673238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/treeandbrick", "html_url": "https://github.com/treeandbrick", "followers_url": "https://api.github.com/users/treeandbrick/followers", "following_url": "https://api.github.com/users/treeandbrick/following{/other_user}", "gists_url": "https://api.github.com/users/treeandbrick/gists{/gist_id}", "starred_url": "https://api.github.com/users/treeandbrick/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/treeandbrick/subscriptions", "organizations_url": "https://api.github.com/users/treeandbrick/orgs", "repos_url": "https://api.github.com/users/treeandbrick/repos", "events_url": "https://api.github.com/users/treeandbrick/events{/privacy}", "received_events_url": "https://api.github.com/users/treeandbrick/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-05-06T14:35:10Z", "updated_at": "2017-03-09T01:37:19Z", "closed_at": "2016-06-26T17:36:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "lz4 doesn't handle larger file sizes\n\n```\n$ pip list | grep lz4\nlz4 (0.8.2)\n\n$ python -c \"import lz4; lz4.compress(b'a' * (2 ** 31))\"\nTraceback (most recent call last):\n  File \"<string>\", line 1, in <module>\nOverflowError: size does not fit in an int\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/python-lz4/python-lz4/issues/1", "repository_url": "https://api.github.com/repos/python-lz4/python-lz4", "labels_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/1/labels{/name}", "comments_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/1/comments", "events_url": "https://api.github.com/repos/python-lz4/python-lz4/issues/1/events", "html_url": "https://github.com/python-lz4/python-lz4/issues/1", "id": 151503531, "node_id": "MDU6SXNzdWUxNTE1MDM1MzE=", "number": 1, "title": "Package fails to install on systems without `pkg-config`", "user": {"login": "cesarkawakami", "id": 327996, "node_id": "MDQ6VXNlcjMyNzk5Ng==", "avatar_url": "https://avatars0.githubusercontent.com/u/327996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cesarkawakami", "html_url": "https://github.com/cesarkawakami", "followers_url": "https://api.github.com/users/cesarkawakami/followers", "following_url": "https://api.github.com/users/cesarkawakami/following{/other_user}", "gists_url": "https://api.github.com/users/cesarkawakami/gists{/gist_id}", "starred_url": "https://api.github.com/users/cesarkawakami/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cesarkawakami/subscriptions", "organizations_url": "https://api.github.com/users/cesarkawakami/orgs", "repos_url": "https://api.github.com/users/cesarkawakami/repos", "events_url": "https://api.github.com/users/cesarkawakami/events{/privacy}", "received_events_url": "https://api.github.com/users/cesarkawakami/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-04-27T22:09:35Z", "updated_at": "2016-04-29T09:39:45Z", "closed_at": "2016-04-29T09:39:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "On systems without `pkg-config`, `pip install lz4` fails with the following output:\n\n```\nCollecting lz4 (from ***)\n  Downloading lz4-0.8.1.tar.gz\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"<string>\", line 20, in <module>\n      File \"/tmp/pip-build-D9kUKL/lz4/setup.py\", line 19, in <module>\n        liblz4_found = subprocess.call(cmd) == 0\n      File \"/usr/lib/python2.7/subprocess.py\", line 522, in call\n        return Popen(*popenargs, **kwargs).wait()\n      File \"/usr/lib/python2.7/subprocess.py\", line 710, in __init__\n        errread, errwrite)\n      File \"/usr/lib/python2.7/subprocess.py\", line 1327, in _execute_child\n        raise child_exception\n    OSError: [Errno 2] No such file or directory\n```\n\nI've investigated this a little bit, and it seems like the following chunk of code on the [setup.py file](https://github.com/python-lz4/python-lz4/blob/7dc8ce69a98fb63a9a6a92a25179d942b6082dfd/setup.py#L19) isn't handling all exceptional cases correctly:\n\n```\n# Check to see if we have a lz4 library installed on the system and\n# use it if so. If not, we'll use the bundled library. If lz4 is\n# installed it will have a pkg-config file, so we'll use pkg-config to\n# check for existence of the library.\npkg_config_exe = os.environ.get('PKG_CONFIG', None) or 'pkg-config'\ncmd = '{0} --exists liblz4'.format(pkg_config_exe).split()\nliblz4_found = subprocess.call(cmd) == 0\n```\n\nIn this specific case, the `pkg-config` binary doesn't exist on the system, making `subprocess.call()` fail with an `OSError` exception instead of a non-zero return code, and this exception isn't being handled by the code, making the installation fail.\n\nThis can be pretty common on minimal installations. In this particular situation, I'm running pip inside an ubuntu docker container, and it seems like the default docker ubuntu image doesn't contain `pkg-config` by default:\n\n```\n$ sudo docker run --rm -it ubuntu bash\nroot@f8481c78cd7b:/# pkg-config\nbash: pkg-config: command not found\n```\n\nIn my case I think I'll try to solve this by installing the `pkg-config` package, but since this might trip other people I've also decide to open this issue.\n", "performed_via_github_app": null, "score": 1.0}]}