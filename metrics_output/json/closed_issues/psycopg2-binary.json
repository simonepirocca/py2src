{"total_count": 861, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1142", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1142/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1142/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1142/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1142", "id": 679945469, "node_id": "MDU6SXNzdWU2Nzk5NDU0Njk=", "number": 1142, "title": "Execute hangs then returns Operational Error ", "user": {"login": "ks233ever", "id": 42351537, "node_id": "MDQ6VXNlcjQyMzUxNTM3", "avatar_url": "https://avatars1.githubusercontent.com/u/42351537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ks233ever", "html_url": "https://github.com/ks233ever", "followers_url": "https://api.github.com/users/ks233ever/followers", "following_url": "https://api.github.com/users/ks233ever/following{/other_user}", "gists_url": "https://api.github.com/users/ks233ever/gists{/gist_id}", "starred_url": "https://api.github.com/users/ks233ever/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ks233ever/subscriptions", "organizations_url": "https://api.github.com/users/ks233ever/orgs", "repos_url": "https://api.github.com/users/ks233ever/repos", "events_url": "https://api.github.com/users/ks233ever/events{/privacy}", "received_events_url": "https://api.github.com/users/ks233ever/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-17T05:30:55Z", "updated_at": "2020-08-17T08:17:31Z", "closed_at": "2020-08-17T08:17:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Have been using psycopg2 to unload redshift tables to s3 for the past month. Code is simple like so;\r\n\r\n`hostname = 'XXXXX'\r\nusername = 'XXXX'\r\npassword = 'XXXXX'\r\ndatabase = 'XXX'\r\n\r\ncon = psycopg2.connect(host=hostname, user=username, password=password, dbname=database)\r\n\r\nsql=\"\"\"UNLOAD ('select * from table') TO 's3://bucket/prefix' \\\r\n         credentials 'aws_access_key_id=XXX;aws_secret_access_key=XXX'\r\n         FORMAT PARQUET;\"\"\"\r\n       \r\ncur = con.cursor()\r\ncur.execute(sql)`\r\n\r\nHistorically this table takes 15 mins to unload and there have never been any issues. Today it unloads the file to S3 no problem within the expected 15 mins, but it doesn't get past cur.execute(sql). Continues to run for hours before returning the error:\r\n\r\nOperationalError: server closed the connection unexpectedly This probably means the server terminated abnormally before or while processing the request.\r\n\r\nI've googled around for a while and played with a few connection params to no avail. Is there a quick fix for this?\r\n\r\nversion 2.8.5\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1140", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1140/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1140/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1140/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1140", "id": 679458972, "node_id": "MDU6SXNzdWU2Nzk0NTg5NzI=", "number": 1140, "title": "copy_expert not taking whole column value", "user": {"login": "mvresh", "id": 6341184, "node_id": "MDQ6VXNlcjYzNDExODQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/6341184?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mvresh", "html_url": "https://github.com/mvresh", "followers_url": "https://api.github.com/users/mvresh/followers", "following_url": "https://api.github.com/users/mvresh/following{/other_user}", "gists_url": "https://api.github.com/users/mvresh/gists{/gist_id}", "starred_url": "https://api.github.com/users/mvresh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mvresh/subscriptions", "organizations_url": "https://api.github.com/users/mvresh/orgs", "repos_url": "https://api.github.com/users/mvresh/repos", "events_url": "https://api.github.com/users/mvresh/events{/privacy}", "received_events_url": "https://api.github.com/users/mvresh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-08-15T00:06:15Z", "updated_at": "2020-08-15T22:59:04Z", "closed_at": "2020-08-15T22:59:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm having a csv file and sample row is as follows: \r\n\r\n```\r\nAK|Alaska|NA|NA|NA|NA|NA|NA|NA|NA|\"``` 500; hours are required on or before June 30, 2019\r\n\r\n625 hours are required on or after July 1, 2019 anatomy & physiology & pathology & kinesiology 500/130, 625/162; massage theory & practical application 500/220, 625/275; clinical practice 500/110, 625/138; ethics & law 500/40, `625/50\"|500|\r\n\r\n```\r\n\r\n\r\nWhen I try to copy_expert or copy_from, I'm getting this error.\r\n\r\n`psycopg2.errors.BadCopyFileFormat: missing data for column \"hoursonly\"\r\nCONTEXT:  COPY wages_listing, line 1: \"AK|Alaska|NA|NA|NA|NA|NA|NA|NA|NA|\" 500; hours are required on or before June 30, 2019\"`\r\n\r\nIt stops reading the column value at line break. How to resolve this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1137", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1137/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1137/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1137/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1137", "id": 674276754, "node_id": "MDU6SXNzdWU2NzQyNzY3NTQ=", "number": 1137, "title": "Strange behaviour of fetchone when returning a tuple containing a single None", "user": {"login": "marceloslacerda", "id": 473983, "node_id": "MDQ6VXNlcjQ3Mzk4Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/473983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marceloslacerda", "html_url": "https://github.com/marceloslacerda", "followers_url": "https://api.github.com/users/marceloslacerda/followers", "following_url": "https://api.github.com/users/marceloslacerda/following{/other_user}", "gists_url": "https://api.github.com/users/marceloslacerda/gists{/gist_id}", "starred_url": "https://api.github.com/users/marceloslacerda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marceloslacerda/subscriptions", "organizations_url": "https://api.github.com/users/marceloslacerda/orgs", "repos_url": "https://api.github.com/users/marceloslacerda/repos", "events_url": "https://api.github.com/users/marceloslacerda/events{/privacy}", "received_events_url": "https://api.github.com/users/marceloslacerda/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-06T12:31:07Z", "updated_at": "2020-08-06T12:57:19Z", "closed_at": "2020-08-06T12:57:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I try to use a `fechone` on a query that would return as single `null` result, psycopg2 returns a `None` instead of a `(None,)`. If I use `fetchall` instead I get `[(None,)]`.\r\n\r\nAssuming that's the correct behaviour, shouldn't there be a mention in the documentation?\r\n\r\nExample:\r\n\r\nSuppose that I have the following table\r\n\r\n```\r\nCREATE TABLE a (x INTEGER, y INTEGER);\r\n\r\nINSERT INTO a VALUES (1, null);\r\n```\r\n\r\nRunning the following code reproduces the odd behaviour.\r\n\r\n```\r\ncur.execute('SELECT y FROM a WHERE x = 1')\r\nrow1 = cur.fetchall()  # [(None,)]\r\ncur.execute('SELECT y FROM a WHERE x = 1')\r\nrow2 = cur.fetchone()  # None\r\nassert(row1[0] == row2)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1134", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1134/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1134/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1134/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1134", "id": 667602022, "node_id": "MDU6SXNzdWU2Njc2MDIwMjI=", "number": 1134, "title": "SEGFAULT in caster from bytea", "user": {"login": "nick-tic", "id": 55431919, "node_id": "MDQ6VXNlcjU1NDMxOTE5", "avatar_url": "https://avatars0.githubusercontent.com/u/55431919?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nick-tic", "html_url": "https://github.com/nick-tic", "followers_url": "https://api.github.com/users/nick-tic/followers", "following_url": "https://api.github.com/users/nick-tic/following{/other_user}", "gists_url": "https://api.github.com/users/nick-tic/gists{/gist_id}", "starred_url": "https://api.github.com/users/nick-tic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nick-tic/subscriptions", "organizations_url": "https://api.github.com/users/nick-tic/orgs", "repos_url": "https://api.github.com/users/nick-tic/repos", "events_url": "https://api.github.com/users/nick-tic/events{/privacy}", "received_events_url": "https://api.github.com/users/nick-tic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-29T06:58:59Z", "updated_at": "2020-07-30T04:59:23Z", "closed_at": "2020-07-30T04:59:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\ni am use libpython3.7d.so.1.0 and this library exit with SEGFAULT in this line\r\nhttps://github.com/psycopg/psycopg2/blob/cecff195fc17a83d593dd62c239aa188883a844e/psycopg/typecast_binary.c#L45\r\n\r\nbut tp_free is not set:\r\n\r\nhttps://github.com/psycopg/psycopg2/blob/cecff195fc17a83d593dd62c239aa188883a844e/psycopg/typecast_binary.c#L112\r\n\r\ndecision is that:\r\n<pre>\r\n+   PyObject_FREE(self);\r\n-   Py_TYPE(self)->tp_free((PyObject *)self);\r\n</pre>", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1132", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1132/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1132/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1132/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1132", "id": 667053015, "node_id": "MDU6SXNzdWU2NjcwNTMwMTU=", "number": 1132, "title": "Incorrect Results", "user": {"login": "felixphotobox", "id": 44397506, "node_id": "MDQ6VXNlcjQ0Mzk3NTA2", "avatar_url": "https://avatars3.githubusercontent.com/u/44397506?v=4", "gravatar_id": "", "url": "https://api.github.com/users/felixphotobox", "html_url": "https://github.com/felixphotobox", "followers_url": "https://api.github.com/users/felixphotobox/followers", "following_url": "https://api.github.com/users/felixphotobox/following{/other_user}", "gists_url": "https://api.github.com/users/felixphotobox/gists{/gist_id}", "starred_url": "https://api.github.com/users/felixphotobox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/felixphotobox/subscriptions", "organizations_url": "https://api.github.com/users/felixphotobox/orgs", "repos_url": "https://api.github.com/users/felixphotobox/repos", "events_url": "https://api.github.com/users/felixphotobox/events{/privacy}", "received_events_url": "https://api.github.com/users/felixphotobox/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-28T12:59:45Z", "updated_at": "2020-07-28T14:02:55Z", "closed_at": "2020-07-28T14:02:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am running psycopg2 to retrieve data from a Postgres SQL database. However, the queries being run in Python are returning inconsistent results. \r\n\r\nAn example would be query that in my native SQL connection (not using psycopg2) is returning 2385 rows. When run in Python using psycopg2, it has returned anything between 2200-2300 rows, varying every time it is run. \r\n\r\nIs this a known issue? Are there ways to avoid this? I have tried using both .execute and read_sql_query.\r\n\r\nThanks\r\n\r\nFelix", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1129", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1129/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1129/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1129/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1129", "id": 659835068, "node_id": "MDU6SXNzdWU2NTk4MzUwNjg=", "number": 1129, "title": "asynchronous-notifications - libevent ", "user": {"login": "keith6014", "id": 24735116, "node_id": "MDQ6VXNlcjI0NzM1MTE2", "avatar_url": "https://avatars0.githubusercontent.com/u/24735116?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keith6014", "html_url": "https://github.com/keith6014", "followers_url": "https://api.github.com/users/keith6014/followers", "following_url": "https://api.github.com/users/keith6014/following{/other_user}", "gists_url": "https://api.github.com/users/keith6014/gists{/gist_id}", "starred_url": "https://api.github.com/users/keith6014/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keith6014/subscriptions", "organizations_url": "https://api.github.com/users/keith6014/orgs", "repos_url": "https://api.github.com/users/keith6014/repos", "events_url": "https://api.github.com/users/keith6014/events{/privacy}", "received_events_url": "https://api.github.com/users/keith6014/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-18T02:35:00Z", "updated_at": "2020-07-19T11:08:10Z", "closed_at": "2020-07-19T11:08:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "reference to https://www.psycopg.org/docs/advanced.html#asynchronous-notifications. I was wondering is it possible to swap select() with a libevent select for faster performance?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1128", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1128/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1128/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1128/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1128", "id": 655260733, "node_id": "MDU6SXNzdWU2NTUyNjA3MzM=", "number": 1128, "title": "set_isolation_level reset search_path", "user": {"login": "aironsholt", "id": 68163891, "node_id": "MDQ6VXNlcjY4MTYzODkx", "avatar_url": "https://avatars1.githubusercontent.com/u/68163891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aironsholt", "html_url": "https://github.com/aironsholt", "followers_url": "https://api.github.com/users/aironsholt/followers", "following_url": "https://api.github.com/users/aironsholt/following{/other_user}", "gists_url": "https://api.github.com/users/aironsholt/gists{/gist_id}", "starred_url": "https://api.github.com/users/aironsholt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aironsholt/subscriptions", "organizations_url": "https://api.github.com/users/aironsholt/orgs", "repos_url": "https://api.github.com/users/aironsholt/repos", "events_url": "https://api.github.com/users/aironsholt/events{/privacy}", "received_events_url": "https://api.github.com/users/aironsholt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-11T18:56:12Z", "updated_at": "2020-07-12T17:00:21Z", "closed_at": "2020-07-12T14:29:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "changing/touching \"set_isolation_level\" resets search_path in PostgreSQL.\r\n\r\nModel code:\r\n\r\n```\r\nsearch_path = \"set search path to some path\"\r\ncur.execute('SET search_path TO %s', (search_path,))\r\n\r\ncur.execute(\"show search_path\")\r\nprint(cur.fetchall())\r\n\r\nconn.set_isolation_level(ISOLATION_LEVEL_DEFAULT) # nothing should happen, but search_path is reset in PostgreSQL!\r\n\r\ncur.execute(\"show search_path\") \r\nprint(cur.fetchall()) # search path is reset\r\n\r\n```\r\n\r\n(Psycopg2 version 2.8.5, PostgreSQL PostgreSQL 12.2, compiled by Visual C++ build 1914, 64-bit, Python  3.8.2, Windows 10 Pro)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1122", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1122/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1122/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1122/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1122", "id": 642286768, "node_id": "MDU6SXNzdWU2NDIyODY3Njg=", "number": 1122, "title": "Error convert '0.0000000'::numeric", "user": {"login": "xmings", "id": 8492022, "node_id": "MDQ6VXNlcjg0OTIwMjI=", "avatar_url": "https://avatars1.githubusercontent.com/u/8492022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xmings", "html_url": "https://github.com/xmings", "followers_url": "https://api.github.com/users/xmings/followers", "following_url": "https://api.github.com/users/xmings/following{/other_user}", "gists_url": "https://api.github.com/users/xmings/gists{/gist_id}", "starred_url": "https://api.github.com/users/xmings/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xmings/subscriptions", "organizations_url": "https://api.github.com/users/xmings/orgs", "repos_url": "https://api.github.com/users/xmings/repos", "events_url": "https://api.github.com/users/xmings/events{/privacy}", "received_events_url": "https://api.github.com/users/xmings/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-20T01:58:50Z", "updated_at": "2020-06-21T13:02:03Z", "closed_at": "2020-06-20T04:16:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Maybe it's wrong to convert the '0.0000000'::numeric in database to Decimal('0E-7')", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1121", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1121/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1121/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1121/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1121", "id": 641273501, "node_id": "MDU6SXNzdWU2NDEyNzM1MDE=", "number": 1121, "title": "conn.poll does not raise an AdminShutdown exception", "user": {"login": "elemoine", "id": 76594, "node_id": "MDQ6VXNlcjc2NTk0", "avatar_url": "https://avatars3.githubusercontent.com/u/76594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elemoine", "html_url": "https://github.com/elemoine", "followers_url": "https://api.github.com/users/elemoine/followers", "following_url": "https://api.github.com/users/elemoine/following{/other_user}", "gists_url": "https://api.github.com/users/elemoine/gists{/gist_id}", "starred_url": "https://api.github.com/users/elemoine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elemoine/subscriptions", "organizations_url": "https://api.github.com/users/elemoine/orgs", "repos_url": "https://api.github.com/users/elemoine/repos", "events_url": "https://api.github.com/users/elemoine/events{/privacy}", "received_events_url": "https://api.github.com/users/elemoine/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-18T14:52:21Z", "updated_at": "2020-06-25T13:03:17Z", "closed_at": "2020-06-18T16:47:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "When a connection was closed by the server `cursor.execute()` raises an `AdminShutdown` exception:\r\n\r\n```\r\n>>> conn = psycopg2.connect(dsn=\"\")\r\n>>> # here the connection gets closed on the postgres side\r\n>>> curs = conn.cursor()\r\n>>> curs.execute(\"select 1\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\npsycopg2.errors.AdminShutdown: terminating connection due to administrator command\r\nserver closed the connection unexpectedly\r\n        This probably means the server terminated abnormally\r\n        before or while processing the request.\r\n\r\n>>>\r\n```\r\n\r\nbut `conn.poll()` raises an `OperationalError`:\r\n\r\n```\r\n>>> conn = psycopg2.connect(dsn=\"\")\r\n>>> # here the connection gets closed on the postgres side\r\n>>> conn.poll()\r\n0\r\n>>> conn.poll()\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\npsycopg2.OperationalError: server closed the connection unexpectedly\r\n        This probably means the server terminated abnormally\r\n        before or while processing the request.\r\n```\r\n\r\nWhy doesn't `poll` raise an `AdminShutdown` error? And also, why the first call to `poll` reports no error?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1119", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1119/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1119/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1119/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1119", "id": 641257891, "node_id": "MDU6SXNzdWU2NDEyNTc4OTE=", "number": 1119, "title": "Singleton selects", "user": {"login": "pgodfrin", "id": 59173600, "node_id": "MDQ6VXNlcjU5MTczNjAw", "avatar_url": "https://avatars3.githubusercontent.com/u/59173600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pgodfrin", "html_url": "https://github.com/pgodfrin", "followers_url": "https://api.github.com/users/pgodfrin/followers", "following_url": "https://api.github.com/users/pgodfrin/following{/other_user}", "gists_url": "https://api.github.com/users/pgodfrin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pgodfrin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pgodfrin/subscriptions", "organizations_url": "https://api.github.com/users/pgodfrin/orgs", "repos_url": "https://api.github.com/users/pgodfrin/repos", "events_url": "https://api.github.com/users/pgodfrin/events{/privacy}", "received_events_url": "https://api.github.com/users/pgodfrin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-06-18T14:34:04Z", "updated_at": "2020-06-19T11:49:31Z", "closed_at": "2020-06-18T14:45:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "As of 2.8.6, the only way to retrieve data is with a cursor object. There are occasions where the code knows there will be only one row returned, such as a count(*), or insert.\r\n\r\nI'd like to request a feature request for singleton selects, with no cursor requirement.\r\n\r\nPerl DBI:DBD has the \"do\" statement\r\n`$rv = $dbh->do($statement);`\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1118", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1118/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1118/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1118/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1118", "id": 638387142, "node_id": "MDU6SXNzdWU2MzgzODcxNDI=", "number": 1118, "title": "Bug: can't set schema.", "user": {"login": "heckad", "id": 45011689, "node_id": "MDQ6VXNlcjQ1MDExNjg5", "avatar_url": "https://avatars2.githubusercontent.com/u/45011689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heckad", "html_url": "https://github.com/heckad", "followers_url": "https://api.github.com/users/heckad/followers", "following_url": "https://api.github.com/users/heckad/following{/other_user}", "gists_url": "https://api.github.com/users/heckad/gists{/gist_id}", "starred_url": "https://api.github.com/users/heckad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heckad/subscriptions", "organizations_url": "https://api.github.com/users/heckad/orgs", "repos_url": "https://api.github.com/users/heckad/repos", "events_url": "https://api.github.com/users/heckad/events{/privacy}", "received_events_url": "https://api.github.com/users/heckad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-06-14T16:40:25Z", "updated_at": "2020-06-16T06:29:24Z", "closed_at": "2020-06-15T02:04:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport psycopg2\r\n\r\nconn = psycopg2.connect(\"\"\"\r\n    host=localhost\r\n    port=5432\r\n    dbname=postgres\r\n    user=postgres\r\n    password=<password>\r\n\"\"\", options='-c search_path=my_schema')\r\n\r\nc = conn.cursor()\r\nc.execute('SHOW search_path;')\r\nprint(c.fetchall())\r\n```\r\nResult\r\n```\r\n[('\"$user\", public',)]\r\n```\r\nExpect\r\n```\r\n[('my_schema',)]\r\n```\r\nOn windows works as expected but on Linux not.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1117", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1117/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1117/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1117/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1117", "id": 638347369, "node_id": "MDU6SXNzdWU2MzgzNDczNjk=", "number": 1117, "title": "Is it possible to connect throw proxy?", "user": {"login": "heckad", "id": 45011689, "node_id": "MDQ6VXNlcjQ1MDExNjg5", "avatar_url": "https://avatars2.githubusercontent.com/u/45011689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heckad", "html_url": "https://github.com/heckad", "followers_url": "https://api.github.com/users/heckad/followers", "following_url": "https://api.github.com/users/heckad/following{/other_user}", "gists_url": "https://api.github.com/users/heckad/gists{/gist_id}", "starred_url": "https://api.github.com/users/heckad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heckad/subscriptions", "organizations_url": "https://api.github.com/users/heckad/orgs", "repos_url": "https://api.github.com/users/heckad/repos", "events_url": "https://api.github.com/users/heckad/events{/privacy}", "received_events_url": "https://api.github.com/users/heckad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-14T12:56:53Z", "updated_at": "2020-06-14T15:24:43Z", "closed_at": "2020-06-14T15:24:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "My database is hidden from the internet and I have ssh access to server wich in local network and have access to db. How to connect to db using this server as a proxy?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1116", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1116/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1116/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1116/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1116", "id": 636525405, "node_id": "MDU6SXNzdWU2MzY1MjU0MDU=", "number": 1116, "title": "ModuleNotFoundError: No module named 'psycopg2.extras'; 'psycopg2' is not a package", "user": {"login": "don1uppa", "id": 33661098, "node_id": "MDQ6VXNlcjMzNjYxMDk4", "avatar_url": "https://avatars3.githubusercontent.com/u/33661098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/don1uppa", "html_url": "https://github.com/don1uppa", "followers_url": "https://api.github.com/users/don1uppa/followers", "following_url": "https://api.github.com/users/don1uppa/following{/other_user}", "gists_url": "https://api.github.com/users/don1uppa/gists{/gist_id}", "starred_url": "https://api.github.com/users/don1uppa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/don1uppa/subscriptions", "organizations_url": "https://api.github.com/users/don1uppa/orgs", "repos_url": "https://api.github.com/users/don1uppa/repos", "events_url": "https://api.github.com/users/don1uppa/events{/privacy}", "received_events_url": "https://api.github.com/users/don1uppa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-10T20:26:55Z", "updated_at": "2020-06-11T20:17:57Z", "closed_at": "2020-06-11T00:50:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Everything works fine until I try to do a unittest.   I tried both psycopg2 and psycopg2-binary as some post suggest.  Thank you for reviewing.\r\n\r\nHere is my console output:\r\n```\r\n(venv) C:\\edh-data-exporter\\src\\application\\python>pip install psycopg2\r\nRequirement already satisfied: psycopg2 in c:\\edh-data-exporter\\venv\\lib\\site-packages (2.8.5)\r\n\r\n(venv) C:\\edh-data-exporter\\src\\application\\python>python -m unittest discover -s C:/edh-data-exporter/tests -t C:\\edh-data-exporter\r\nE\r\n======================================================================\r\nERROR: tests (unittest.loader._FailedTest)\r\n----------------------------------------------------------------------\r\nImportError: Failed to import test module: tests\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\diuppa\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\unittest\\loader.py\", line 470, in _find_test_path\r\n    package = self._get_module_from_name(name)\r\n  File \"C:\\Users\\diuppa\\AppData\\Local\\Programs\\Python\\Python38-32\\lib\\unittest\\loader.py\", line 377, in _get_module_from_name\r\n    __import__(name)\r\n  File \"C:\\edh-data-exporter\\tests\\__init__.py\", line 1, in <module>\r\n    from test_exporter import TestExporter\r\n  File \"C:\\edh-data-exporter\\src\\application\\python\\test_exporter.py\", line 11, in <module>\r\n    import exporter\r\n  File \"C:\\edh-data-exporter\\src\\application\\python\\exporter.py\", line 6, in <module>\r\n    from ack_response_report import AckRespReport\r\n  File \"C:\\edh-data-exporter\\src\\application\\python\\ack_response_report.py\", line 3, in <module>\r\n    from psycopg2.extras import NamedTupleConnection\r\nModuleNotFoundError: No module named 'psycopg2.extras'; 'psycopg2' is not a package\r\n\r\n\r\n----------------------------------------------------------------------\r\nRan 1 test in 0.000s\r\n\r\nFAILED (errors=1)\r\n\r\n(venv) C:\\edh-data-exporter\\src\\application\\python>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1115", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1115/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1115/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1115/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1115", "id": 631146192, "node_id": "MDU6SXNzdWU2MzExNDYxOTI=", "number": 1115, "title": "Installation on Mac issue [clang]", "user": {"login": "kszmigiel", "id": 16846111, "node_id": "MDQ6VXNlcjE2ODQ2MTEx", "avatar_url": "https://avatars2.githubusercontent.com/u/16846111?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kszmigiel", "html_url": "https://github.com/kszmigiel", "followers_url": "https://api.github.com/users/kszmigiel/followers", "following_url": "https://api.github.com/users/kszmigiel/following{/other_user}", "gists_url": "https://api.github.com/users/kszmigiel/gists{/gist_id}", "starred_url": "https://api.github.com/users/kszmigiel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kszmigiel/subscriptions", "organizations_url": "https://api.github.com/users/kszmigiel/orgs", "repos_url": "https://api.github.com/users/kszmigiel/repos", "events_url": "https://api.github.com/users/kszmigiel/events{/privacy}", "received_events_url": "https://api.github.com/users/kszmigiel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-04T21:03:24Z", "updated_at": "2020-06-04T21:38:50Z", "closed_at": "2020-06-04T21:38:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I'm getting this error log when doing `pip install psycopg2`:\r\n\r\n```\r\nCollecting psycopg2\r\n  Using cached psycopg2-2.8.5.tar.gz (380 kB)\r\nBuilding wheels for collected packages: psycopg2\r\n  Building wheel for psycopg2 (setup.py) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /Users/kacperszmigiel/.pyenv/versions/3.7.7/bin/python3.7 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-install-4oas_opz/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-install-4oas_opz/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-wheel-2_n_q_ya\r\n       cwd: /private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-install-4oas_opz/psycopg2/\r\n  Complete output (151 lines):\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.macosx-10.15-x86_64-3.7\r\n  creating build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/_json.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/extras.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/compat.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/errorcodes.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/tz.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/_range.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/_ipaddress.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/_lru_cache.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/__init__.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/extensions.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/errors.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/sql.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  copying lib/pool.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n  running build_ext\r\n  building 'psycopg2._psycopg' extension\r\n  creating build/temp.macosx-10.15-x86_64-3.7\r\n  creating build/temp.macosx-10.15-x86_64-3.7/psycopg\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/psycopgmodule.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/psycopgmodule.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/green.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/green.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/pqpath.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/pqpath.o\r\n  psycopg/pqpath.c:138:17: warning: implicit conversion from enumeration type 'ConnStatusType' to different enumeration type 'ExecStatusType' [-Wenum-conversion]\r\n                  PQstatus(conn->pgconn) : PQresultStatus(*pgres)));\r\n                  ^~~~~~~~~~~~~~~~~~~~~~\r\n  psycopg/pqpath.c:1717:11: warning: code will never be executed [-Wunreachable-code]\r\n      ret = 1;\r\n            ^\r\n  psycopg/pqpath.c:1822:17: warning: implicit conversion from enumeration type 'ConnStatusType' to different enumeration type 'ExecStatusType' [-Wenum-conversion]\r\n                  PQstatus(curs->conn->pgconn) : PQresultStatus(curs->pgres)));\r\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n  3 warnings generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/utils.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/utils.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/bytes_format.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/bytes_format.o\r\n  In file included from psycopg/bytes_format.c:82:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/libpq_support.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/libpq_support.o\r\n  In file included from psycopg/libpq_support.c:30:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/win32_support.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/win32_support.o\r\n  In file included from psycopg/win32_support.c:28:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/solaris_support.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/solaris_support.o\r\n  In file included from psycopg/solaris_support.c:29:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/aix_support.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/aix_support.o\r\n  In file included from psycopg/aix_support.c:29:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/connection_int.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/connection_int.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/connection_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/connection_type.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/cursor_int.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/cursor_int.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/cursor_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/cursor_type.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/column_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/column_type.o\r\n  In file included from psycopg/column_type.c:28:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/replication_connection_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_connection_type.o\r\n  In file included from psycopg/replication_connection_type.c:28:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/replication_cursor_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_cursor_type.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/replication_message_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_message_type.o\r\n  In file included from psycopg/replication_message_type.c:28:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/diagnostics_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/diagnostics_type.o\r\n  In file included from psycopg/diagnostics_type.c:28:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/error_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/error_type.o\r\n  In file included from psycopg/error_type.c:28:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/conninfo_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/conninfo_type.o\r\n  In file included from psycopg/conninfo_type.c:28:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/lobject_int.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/lobject_int.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/lobject_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/lobject_type.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/notify_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/notify_type.o\r\n  In file included from psycopg/notify_type.c:28:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/xid_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/xid_type.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_asis.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_asis.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_binary.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_binary.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_datetime.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_datetime.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_list.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_list.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pboolean.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pboolean.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pdecimal.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pdecimal.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pint.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pint.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pfloat.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pfloat.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_qstring.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_qstring.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/microprotocols.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/microprotocols.o\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/microprotocols_proto.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/microprotocols_proto.o\r\n  In file included from psycopg/microprotocols_proto.c:28:\r\n  In file included from ./psycopg/psycopg.h:38:\r\n  ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n  static void Dprintf(const char *fmt, ...) {}\r\n              ^\r\n  1 warning generated.\r\n  clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/typecast.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/typecast.o\r\n  clang -bundle -undefined dynamic_lookup -L/usr/local/opt/readline/lib -L/usr/local/opt/readline/lib -L/Users/kacperszmigiel/.pyenv/versions/3.7.7/lib -L/usr/local/opt/readline/lib -L/usr/local/opt/readline/lib -L/Users/kacperszmigiel/.pyenv/versions/3.7.7/lib build/temp.macosx-10.15-x86_64-3.7/psycopg/psycopgmodule.o build/temp.macosx-10.15-x86_64-3.7/psycopg/green.o build/temp.macosx-10.15-x86_64-3.7/psycopg/pqpath.o build/temp.macosx-10.15-x86_64-3.7/psycopg/utils.o build/temp.macosx-10.15-x86_64-3.7/psycopg/bytes_format.o build/temp.macosx-10.15-x86_64-3.7/psycopg/libpq_support.o build/temp.macosx-10.15-x86_64-3.7/psycopg/win32_support.o build/temp.macosx-10.15-x86_64-3.7/psycopg/solaris_support.o build/temp.macosx-10.15-x86_64-3.7/psycopg/aix_support.o build/temp.macosx-10.15-x86_64-3.7/psycopg/connection_int.o build/temp.macosx-10.15-x86_64-3.7/psycopg/connection_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/cursor_int.o build/temp.macosx-10.15-x86_64-3.7/psycopg/cursor_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/column_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_connection_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_cursor_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_message_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/diagnostics_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/error_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/conninfo_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/lobject_int.o build/temp.macosx-10.15-x86_64-3.7/psycopg/lobject_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/notify_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/xid_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_asis.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_binary.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_datetime.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_list.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pboolean.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pdecimal.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pint.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pfloat.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_qstring.o build/temp.macosx-10.15-x86_64-3.7/psycopg/microprotocols.o build/temp.macosx-10.15-x86_64-3.7/psycopg/microprotocols_proto.o build/temp.macosx-10.15-x86_64-3.7/psycopg/typecast.o -L/usr/local/lib -lpq -lssl -lcrypto -o build/lib.macosx-10.15-x86_64-3.7/psycopg2/_psycopg.cpython-37m-darwin.so\r\n  ld: library not found for -lssl\r\n  clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n  error: command 'clang' failed with exit status 1\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for psycopg2\r\n  Running setup.py clean for psycopg2\r\nFailed to build psycopg2\r\nInstalling collected packages: psycopg2\r\n    Running setup.py install for psycopg2 ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /Users/kacperszmigiel/.pyenv/versions/3.7.7/bin/python3.7 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-install-4oas_opz/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-install-4oas_opz/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-record-6rc9byo2/install-record.txt --single-version-externally-managed --compile --install-headers /Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m/psycopg2\r\n         cwd: /private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-install-4oas_opz/psycopg2/\r\n    Complete output (151 lines):\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.15-x86_64-3.7\r\n    creating build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/_json.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/extras.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/compat.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/errorcodes.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/tz.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/_range.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/_ipaddress.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/_lru_cache.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/__init__.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/extensions.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/errors.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/sql.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    copying lib/pool.py -> build/lib.macosx-10.15-x86_64-3.7/psycopg2\r\n    running build_ext\r\n    building 'psycopg2._psycopg' extension\r\n    creating build/temp.macosx-10.15-x86_64-3.7\r\n    creating build/temp.macosx-10.15-x86_64-3.7/psycopg\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/psycopgmodule.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/psycopgmodule.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/green.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/green.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/pqpath.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/pqpath.o\r\n    psycopg/pqpath.c:138:17: warning: implicit conversion from enumeration type 'ConnStatusType' to different enumeration type 'ExecStatusType' [-Wenum-conversion]\r\n                    PQstatus(conn->pgconn) : PQresultStatus(*pgres)));\r\n                    ^~~~~~~~~~~~~~~~~~~~~~\r\n    psycopg/pqpath.c:1717:11: warning: code will never be executed [-Wunreachable-code]\r\n        ret = 1;\r\n              ^\r\n    psycopg/pqpath.c:1822:17: warning: implicit conversion from enumeration type 'ConnStatusType' to different enumeration type 'ExecStatusType' [-Wenum-conversion]\r\n                    PQstatus(curs->conn->pgconn) : PQresultStatus(curs->pgres)));\r\n                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    3 warnings generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/utils.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/utils.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/bytes_format.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/bytes_format.o\r\n    In file included from psycopg/bytes_format.c:82:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/libpq_support.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/libpq_support.o\r\n    In file included from psycopg/libpq_support.c:30:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/win32_support.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/win32_support.o\r\n    In file included from psycopg/win32_support.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/solaris_support.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/solaris_support.o\r\n    In file included from psycopg/solaris_support.c:29:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/aix_support.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/aix_support.o\r\n    In file included from psycopg/aix_support.c:29:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/connection_int.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/connection_int.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/connection_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/connection_type.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/cursor_int.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/cursor_int.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/cursor_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/cursor_type.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/column_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/column_type.o\r\n    In file included from psycopg/column_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/replication_connection_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_connection_type.o\r\n    In file included from psycopg/replication_connection_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/replication_cursor_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_cursor_type.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/replication_message_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_message_type.o\r\n    In file included from psycopg/replication_message_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/diagnostics_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/diagnostics_type.o\r\n    In file included from psycopg/diagnostics_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/error_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/error_type.o\r\n    In file included from psycopg/error_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/conninfo_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/conninfo_type.o\r\n    In file included from psycopg/conninfo_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/lobject_int.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/lobject_int.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/lobject_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/lobject_type.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/notify_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/notify_type.o\r\n    In file included from psycopg/notify_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/xid_type.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/xid_type.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_asis.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_asis.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_binary.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_binary.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_datetime.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_datetime.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_list.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_list.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pboolean.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pboolean.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pdecimal.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pdecimal.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pint.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pint.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pfloat.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pfloat.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_qstring.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_qstring.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/microprotocols.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/microprotocols.o\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/microprotocols_proto.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/microprotocols_proto.o\r\n    In file included from psycopg/microprotocols_proto.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    clang -Wno-unused-result -Wsign-compare -Wunreachable-code -DNDEBUG -g -fwrapv -O3 -Wall -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120003 -DHAVE_LO64=1 -I/Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/typecast.c -o build/temp.macosx-10.15-x86_64-3.7/psycopg/typecast.o\r\n    clang -bundle -undefined dynamic_lookup -L/usr/local/opt/readline/lib -L/usr/local/opt/readline/lib -L/Users/kacperszmigiel/.pyenv/versions/3.7.7/lib -L/usr/local/opt/readline/lib -L/usr/local/opt/readline/lib -L/Users/kacperszmigiel/.pyenv/versions/3.7.7/lib build/temp.macosx-10.15-x86_64-3.7/psycopg/psycopgmodule.o build/temp.macosx-10.15-x86_64-3.7/psycopg/green.o build/temp.macosx-10.15-x86_64-3.7/psycopg/pqpath.o build/temp.macosx-10.15-x86_64-3.7/psycopg/utils.o build/temp.macosx-10.15-x86_64-3.7/psycopg/bytes_format.o build/temp.macosx-10.15-x86_64-3.7/psycopg/libpq_support.o build/temp.macosx-10.15-x86_64-3.7/psycopg/win32_support.o build/temp.macosx-10.15-x86_64-3.7/psycopg/solaris_support.o build/temp.macosx-10.15-x86_64-3.7/psycopg/aix_support.o build/temp.macosx-10.15-x86_64-3.7/psycopg/connection_int.o build/temp.macosx-10.15-x86_64-3.7/psycopg/connection_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/cursor_int.o build/temp.macosx-10.15-x86_64-3.7/psycopg/cursor_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/column_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_connection_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_cursor_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/replication_message_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/diagnostics_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/error_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/conninfo_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/lobject_int.o build/temp.macosx-10.15-x86_64-3.7/psycopg/lobject_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/notify_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/xid_type.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_asis.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_binary.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_datetime.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_list.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pboolean.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pdecimal.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pint.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_pfloat.o build/temp.macosx-10.15-x86_64-3.7/psycopg/adapter_qstring.o build/temp.macosx-10.15-x86_64-3.7/psycopg/microprotocols.o build/temp.macosx-10.15-x86_64-3.7/psycopg/microprotocols_proto.o build/temp.macosx-10.15-x86_64-3.7/psycopg/typecast.o -L/usr/local/lib -lpq -lssl -lcrypto -o build/lib.macosx-10.15-x86_64-3.7/psycopg2/_psycopg.cpython-37m-darwin.so\r\n    ld: library not found for -lssl\r\n    clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n    error: command 'clang' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /Users/kacperszmigiel/.pyenv/versions/3.7.7/bin/python3.7 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-install-4oas_opz/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-install-4oas_opz/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /private/var/folders/hj/7kb4cbj53tl_n_v2qz68kbph0000gn/T/pip-record-6rc9byo2/install-record.txt --single-version-externally-managed --compile --install-headers /Users/kacperszmigiel/.pyenv/versions/3.7.7/include/python3.7m/psycopg2 Check the logs for full command output.\r\n```\r\n\r\nIt would be wonderful to get some tips on resolving it. Thanks in advance :D ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1114", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1114/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1114/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1114/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1114", "id": 630842161, "node_id": "MDU6SXNzdWU2MzA4NDIxNjE=", "number": 1114, "title": "connection.cursor.close() called twice without error", "user": {"login": "pgodfrin", "id": 59173600, "node_id": "MDQ6VXNlcjU5MTczNjAw", "avatar_url": "https://avatars3.githubusercontent.com/u/59173600?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pgodfrin", "html_url": "https://github.com/pgodfrin", "followers_url": "https://api.github.com/users/pgodfrin/followers", "following_url": "https://api.github.com/users/pgodfrin/following{/other_user}", "gists_url": "https://api.github.com/users/pgodfrin/gists{/gist_id}", "starred_url": "https://api.github.com/users/pgodfrin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pgodfrin/subscriptions", "organizations_url": "https://api.github.com/users/pgodfrin/orgs", "repos_url": "https://api.github.com/users/pgodfrin/repos", "events_url": "https://api.github.com/users/pgodfrin/events{/privacy}", "received_events_url": "https://api.github.com/users/pgodfrin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-04T13:49:03Z", "updated_at": "2020-06-04T14:40:53Z", "closed_at": "2020-06-04T14:34:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Greetings,\r\npyscopg2 noob here, be gentle. In this snippet, the .close() method is called twice, with no error. I would have expected the second close to kick on a cursor already closed error. Oh yeah, same thing for the connection close...\r\n\r\ntry:\r\n            dbconn = psycopg2.connect(host=\"foo\",\r\n                                      dbname='postgres',\r\n                                      user='postgres'\r\n                                      )\r\n            curs01 = dbconn.cursor()\r\n            curs01.execute(\"SELECT version();\")\r\n            record = curs01.fetchone()\r\n            print(f\"You are connected to - {record}\")\r\n            curs01.close()\r\n            curs01.close()\r\n            dbconn.close()\r\n            dbconn.close()\r\n        except (Exception, psycopg2.DatabaseError) as error :\r\n            print (\"ERROR: connecting to PostgreSQL:\", error)\r\n            raise\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1113", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1113/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1113/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1113/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1113", "id": 629924941, "node_id": "MDU6SXNzdWU2Mjk5MjQ5NDE=", "number": 1113, "title": "Is there a way to turn an async connection to sync?", "user": {"login": "UpGado", "id": 2080509, "node_id": "MDQ6VXNlcjIwODA1MDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/2080509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/UpGado", "html_url": "https://github.com/UpGado", "followers_url": "https://api.github.com/users/UpGado/followers", "following_url": "https://api.github.com/users/UpGado/following{/other_user}", "gists_url": "https://api.github.com/users/UpGado/gists{/gist_id}", "starred_url": "https://api.github.com/users/UpGado/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/UpGado/subscriptions", "organizations_url": "https://api.github.com/users/UpGado/orgs", "repos_url": "https://api.github.com/users/UpGado/repos", "events_url": "https://api.github.com/users/UpGado/events{/privacy}", "received_events_url": "https://api.github.com/users/UpGado/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-03T11:39:46Z", "updated_at": "2020-06-04T11:20:04Z", "closed_at": "2020-06-03T12:50:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For an application that I am doing, I need only the connection part to be async but the rest of the usage of the connection to be synchronous. Is there a way to do this? Thanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1112", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1112/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1112/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1112/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1112", "id": 626810371, "node_id": "MDU6SXNzdWU2MjY4MTAzNzE=", "number": 1112, "title": "_psycopg.py doesn't exist!", "user": {"login": "JackOfSpade", "id": 3615459, "node_id": "MDQ6VXNlcjM2MTU0NTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/3615459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JackOfSpade", "html_url": "https://github.com/JackOfSpade", "followers_url": "https://api.github.com/users/JackOfSpade/followers", "following_url": "https://api.github.com/users/JackOfSpade/following{/other_user}", "gists_url": "https://api.github.com/users/JackOfSpade/gists{/gist_id}", "starred_url": "https://api.github.com/users/JackOfSpade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JackOfSpade/subscriptions", "organizations_url": "https://api.github.com/users/JackOfSpade/orgs", "repos_url": "https://api.github.com/users/JackOfSpade/repos", "events_url": "https://api.github.com/users/JackOfSpade/events{/privacy}", "received_events_url": "https://api.github.com/users/JackOfSpade/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-28T20:58:54Z", "updated_at": "2020-05-29T00:20:16Z", "closed_at": "2020-05-29T00:20:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "In the **psycopg2** directory,  `__init__.py`  contains `from psycopg2._psycopg`.  But there is no  `_psycopg..dll` file in the **psycopg2** directory???\r\n\r\nSo I get error:\r\n\r\n```\r\nFailed to get real commands on module \"mysite\": python process died with code 1: Traceback (most recent call last):\r\n  File \"C:\\Users\\Jack\\Anaconda3\\envs\\mysite\\lib\\site-packages\\django\\db\\backends\\postgresql\\base.py\", line 25, in <module>\r\n    import psycopg2 as Database\r\n  File \"C:\\Users\\Jack\\Anaconda3\\envs\\mysite\\lib\\site-packages\\psycopg2\\__init__.py\", line 50, in <module>\r\n    from psycopg2._psycopg import (                     # noqa\r\nImportError: DLL load failed while importing _psycopg: The specified module could not be found.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm 2019.3.1\\plugins\\python\\helpers\\pycharm\\_jb_manage_tasks_provider.py\", line 25, in <module>\r\n    django.setup()\r\n  File \"C:\\Users\\Jack\\Anaconda3\\envs\\mysite\\lib\\site-packages\\django\\__init__.py\", line 24, in setup\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1109", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1109/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1109/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1109/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1109", "id": 624457587, "node_id": "MDU6SXNzdWU2MjQ0NTc1ODc=", "number": 1109, "title": "Why doesn't Pycharm know  methods of objects from psycopg2?", "user": {"login": "TechniumUnlimited", "id": 29348969, "node_id": "MDQ6VXNlcjI5MzQ4OTY5", "avatar_url": "https://avatars3.githubusercontent.com/u/29348969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TechniumUnlimited", "html_url": "https://github.com/TechniumUnlimited", "followers_url": "https://api.github.com/users/TechniumUnlimited/followers", "following_url": "https://api.github.com/users/TechniumUnlimited/following{/other_user}", "gists_url": "https://api.github.com/users/TechniumUnlimited/gists{/gist_id}", "starred_url": "https://api.github.com/users/TechniumUnlimited/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TechniumUnlimited/subscriptions", "organizations_url": "https://api.github.com/users/TechniumUnlimited/orgs", "repos_url": "https://api.github.com/users/TechniumUnlimited/repos", "events_url": "https://api.github.com/users/TechniumUnlimited/events{/privacy}", "received_events_url": "https://api.github.com/users/TechniumUnlimited/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-25T19:38:54Z", "updated_at": "2020-05-26T07:48:16Z", "closed_at": "2020-05-26T07:48:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there something unique about Psycopg2 library that I don't understand that would make it so that Pycharm IDE doesn't know what methods for instance, the connection or cursor objects I built have available to them? I expected to see things like fetchall() and close() methods appear. I know this is probably somewhat offtopic just would make it a lot easier if I could get the ide to recognize the methods of psycopg objects and wondering if I'm doing something wrong in building my application.. It only seems to display default methods for objects\r\n\r\n![image](https://user-images.githubusercontent.com/29348969/82839505-78eea980-9e84-11ea-8727-cf9679956244.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1107", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1107/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1107/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1107/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1107", "id": 617188573, "node_id": "MDU6SXNzdWU2MTcxODg1NzM=", "number": 1107, "title": "psycopg2.ProgrammingError: invalid dsn: invalid connection option \"autoconnect\"", "user": {"login": "kmakwana", "id": 64768985, "node_id": "MDQ6VXNlcjY0NzY4OTg1", "avatar_url": "https://avatars2.githubusercontent.com/u/64768985?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kmakwana", "html_url": "https://github.com/kmakwana", "followers_url": "https://api.github.com/users/kmakwana/followers", "following_url": "https://api.github.com/users/kmakwana/following{/other_user}", "gists_url": "https://api.github.com/users/kmakwana/gists{/gist_id}", "starred_url": "https://api.github.com/users/kmakwana/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kmakwana/subscriptions", "organizations_url": "https://api.github.com/users/kmakwana/orgs", "repos_url": "https://api.github.com/users/kmakwana/repos", "events_url": "https://api.github.com/users/kmakwana/events{/privacy}", "received_events_url": "https://api.github.com/users/kmakwana/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-13T06:46:52Z", "updated_at": "2020-05-13T07:59:04Z", "closed_at": "2020-05-13T07:59:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "OS : Ubuntu 20.04\r\nPython version : 3.8.2\r\nPsycopg2 version : 2.8.5\r\nPeewee version : 3.7.0\r\n\r\nI am trying to do database connection but it gives me following error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/peewee.py\", line 2600, in connect\r\n    self._state.set_connection(self._connect())\r\n  File \"/usr/lib/python3/dist-packages/playhouse/pool.py\", line 155, in _connect\r\n    conn = super(PooledDatabase, self)._connect()\r\n  File \"/usr/lib/python3/dist-packages/playhouse/postgres_ext.py\", line 431, in _connect\r\n    conn = super(PostgresqlExtDatabase, self)._connect()\r\n  File \"/usr/lib/python3/dist-packages/peewee.py\", line 3227, in _connect\r\n    conn = psycopg2.connect(database=self.database, **self.connect_params)\r\n  File \"/usr/local/lib/python3.8/dist-packages/psycopg2/__init__.py\", line 126, in connect\r\n    dsn = _ext.make_dsn(dsn, **kwargs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/psycopg2/extensions.py\", line 176, in make_dsn\r\n    parse_dsn(dsn)\r\npsycopg2.ProgrammingError: invalid dsn: invalid connection option \"autoconnect\"\r\n```\r\nBut if I remove `autoconnect=False` then there is no error.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1106", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1106/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1106/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1106/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1106", "id": 616448310, "node_id": "MDU6SXNzdWU2MTY0NDgzMTA=", "number": 1106, "title": "ubuntu 20.04 + python 3.8 , pip install psycopg2==2.7.3.2 error", "user": {"login": "changchichung", "id": 20943335, "node_id": "MDQ6VXNlcjIwOTQzMzM1", "avatar_url": "https://avatars1.githubusercontent.com/u/20943335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/changchichung", "html_url": "https://github.com/changchichung", "followers_url": "https://api.github.com/users/changchichung/followers", "following_url": "https://api.github.com/users/changchichung/following{/other_user}", "gists_url": "https://api.github.com/users/changchichung/gists{/gist_id}", "starred_url": "https://api.github.com/users/changchichung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/changchichung/subscriptions", "organizations_url": "https://api.github.com/users/changchichung/orgs", "repos_url": "https://api.github.com/users/changchichung/repos", "events_url": "https://api.github.com/users/changchichung/events{/privacy}", "received_events_url": "https://api.github.com/users/changchichung/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-12T08:04:11Z", "updated_at": "2020-05-12T08:33:36Z", "closed_at": "2020-05-12T08:33:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "my requirements/local.txt\r\n```\r\ncat requirements/base.txt |grep psycopg2\r\n# like Pillow and psycopg2\r\npsycopg2==2.7.3.2\r\n#psycopg2==2.7.5\r\n```\r\npip install psycopg2 error messages\r\n```\r\npip install psycopg2==2.7.3.2\r\nCollecting psycopg2==2.7.3.2\r\n  Using cached psycopg2-2.7.3.2.tar.gz (425 kB)\r\nBuilding wheels for collected packages: psycopg2\r\n  Building wheel for psycopg2 (setup.py) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /home/administrator/D/neo/.ve/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-toh63sp5/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-toh63sp5/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /tmp/pip-wheel-c1y2hug1\r\n       cwd: /tmp/pip-install-toh63sp5/psycopg2/\r\n  Complete output (62 lines):\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.linux-x86_64-3.8\r\n  creating build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/extensions.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/_ipaddress.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/errorcodes.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/sql.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/extras.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/__init__.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/pool.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/psycopg1.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/_range.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/tz.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  copying lib/_json.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n  creating build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_green.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_connection.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/testconfig.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_lobject.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_sql.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_async_keyword.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_cursor.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/testutils.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_errcodes.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/__init__.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/dbapi20.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_psycopg2_dbapi20.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_notify.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_replication.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_extras_dictcursor.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_types_basic.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_cancel.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_bug_gc.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_quote.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_ipaddress.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_dates.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_copy.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/dbapi20_tpc.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_async.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_transaction.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_types_extras.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_with.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_module.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_bugX000.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  copying tests/test_fast_executemany.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n  Skipping optional fixer: buffer\r\n  Skipping optional fixer: idioms\r\n  Skipping optional fixer: set_literal\r\n  Skipping optional fixer: ws_comma\r\n  running build_ext\r\n  building 'psycopg2._psycopg' extension\r\n  creating build/temp.linux-x86_64-3.8\r\n  creating build/temp.linux-x86_64-3.8/psycopg\r\n  x86_64-linux-gnu-gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.7.3.2 (dt dec pq3 ext lo64)\" -DPG_VERSION_NUM=120200 -DHAVE_LO64=1 -I/home/administrator/D/neo/.ve/include -I/usr/include/python3.8 -I. -I/usr/include/postgresql -I/usr/include/postgresql/12/server -c psycopg/psycopgmodule.c -o build/temp.linux-x86_64-3.8/psycopg/psycopgmodule.o -Wdeclaration-after-statement\r\n  psycopg/psycopgmodule.c: In function \u2018psyco_is_main_interp\u2019:\r\n  psycopg/psycopgmodule.c:685:18: error: dereferencing pointer to incomplete type \u2018PyInterpreterState\u2019 {aka \u2018struct _is\u2019}\r\n    685 |     while (interp->next)\r\n        |                  ^~\r\n  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for psycopg2\r\n  Running setup.py clean for psycopg2\r\nFailed to build psycopg2\r\nInstalling collected packages: psycopg2\r\n    Running setup.py install for psycopg2 ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /home/administrator/D/neo/.ve/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-toh63sp5/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-toh63sp5/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-e0e08klq/install-record.txt --single-version-externally-managed --compile --install-headers /home/administrator/D/neo/.ve/include/site/python3.8/psycopg2\r\n         cwd: /tmp/pip-install-toh63sp5/psycopg2/\r\n    Complete output (62 lines):\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.linux-x86_64-3.8\r\n    creating build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/extensions.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/_ipaddress.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/errorcodes.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/sql.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/extras.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/__init__.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/pool.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/psycopg1.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/_range.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/tz.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    copying lib/_json.py -> build/lib.linux-x86_64-3.8/psycopg2\r\n    creating build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_green.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_connection.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/testconfig.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_lobject.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_sql.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_async_keyword.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_cursor.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/testutils.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_errcodes.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/__init__.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/dbapi20.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_psycopg2_dbapi20.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_notify.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_replication.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_extras_dictcursor.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_types_basic.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_cancel.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_bug_gc.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_quote.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_ipaddress.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_dates.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_copy.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/dbapi20_tpc.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_async.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_transaction.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_types_extras.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_with.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_module.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_bugX000.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    copying tests/test_fast_executemany.py -> build/lib.linux-x86_64-3.8/psycopg2/tests\r\n    Skipping optional fixer: buffer\r\n    Skipping optional fixer: idioms\r\n    Skipping optional fixer: set_literal\r\n    Skipping optional fixer: ws_comma\r\n    running build_ext\r\n    building 'psycopg2._psycopg' extension\r\n    creating build/temp.linux-x86_64-3.8\r\n    creating build/temp.linux-x86_64-3.8/psycopg\r\n    x86_64-linux-gnu-gcc -pthread -Wno-unused-result -Wsign-compare -DNDEBUG -g -fwrapv -O2 -Wall -g -fstack-protector-strong -Wformat -Werror=format-security -g -fwrapv -O2 -g -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -fPIC -DPSYCOPG_DEFAULT_PYDATETIME=1 -DPSYCOPG_VERSION=\"2.7.3.2 (dt dec pq3 ext lo64)\" -DPG_VERSION_NUM=120200 -DHAVE_LO64=1 -I/home/administrator/D/neo/.ve/include -I/usr/include/python3.8 -I. -I/usr/include/postgresql -I/usr/include/postgresql/12/server -c psycopg/psycopgmodule.c -o build/temp.linux-x86_64-3.8/psycopg/psycopgmodule.o -Wdeclaration-after-statement\r\n    psycopg/psycopgmodule.c: In function \u2018psyco_is_main_interp\u2019:\r\n    psycopg/psycopgmodule.c:685:18: error: dereferencing pointer to incomplete type \u2018PyInterpreterState\u2019 {aka \u2018struct _is\u2019}\r\n      685 |     while (interp->next)\r\n          |                  ^~\r\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /home/administrator/D/neo/.ve/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-toh63sp5/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-toh63sp5/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-e0e08klq/install-record.txt --single-version-externally-managed --compile --install-headers /home/administrator/D/neo/.ve/include/site/python3.8/psycopg2 Check the logs for full command output.\r\n```\r\nI could install with psycopg2 version >= 2.8.0\r\nbut with 2.7.x , pip install will generate those error messages.\r\n\r\nis that mean psycopg2 2.7.x can not work with python 3.8 in ubuntu 20.04 ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1104", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1104/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1104/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1104/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1104", "id": 614066279, "node_id": "MDU6SXNzdWU2MTQwNjYyNzk=", "number": 1104, "title": "psycop2 lobject broken with Postgres 12.x?", "user": {"login": "cbows", "id": 32486983, "node_id": "MDQ6VXNlcjMyNDg2OTgz", "avatar_url": "https://avatars2.githubusercontent.com/u/32486983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbows", "html_url": "https://github.com/cbows", "followers_url": "https://api.github.com/users/cbows/followers", "following_url": "https://api.github.com/users/cbows/following{/other_user}", "gists_url": "https://api.github.com/users/cbows/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbows/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbows/subscriptions", "organizations_url": "https://api.github.com/users/cbows/orgs", "repos_url": "https://api.github.com/users/cbows/repos", "events_url": "https://api.github.com/users/cbows/events{/privacy}", "received_events_url": "https://api.github.com/users/cbows/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-07T13:39:34Z", "updated_at": "2020-05-07T17:42:38Z", "closed_at": "2020-05-07T17:42:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have the following code, that works well with Postgres 11.x:\r\n\r\n```python\r\nimport psycop2\r\n\r\nwith psycopg2.connect(dsn=\"postgresql://...\") as conn:\r\n  lobj = conn.lobject()\r\n  lobj.write(b\"some data\")\r\n  loid = lobj.oid # save oid for later\r\n```\r\n```python\r\nwith psycopg2.connect(dsn=\"postgresql://...\") as conn:\r\n  lobj = conn.lobject(loid) # raises Error with Postgres 12.x\r\n```\r\n\r\nWith Postgres 12.x however, the code raises an error and never actually creates an object. The `lobj.oid` is returned and incremented correctly with each new object, but the `pg_largeobject` table does not actually contain any rows with data and trying to read the object with psycopg2 also returns \"There is no object with this ID\".", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1100", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1100/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1100/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1100/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1100", "id": 611354346, "node_id": "MDU6SXNzdWU2MTEzNTQzNDY=", "number": 1100, "title": "del:ing a named cursor does not close it", "user": {"login": "turepalsson", "id": 14193668, "node_id": "MDQ6VXNlcjE0MTkzNjY4", "avatar_url": "https://avatars1.githubusercontent.com/u/14193668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/turepalsson", "html_url": "https://github.com/turepalsson", "followers_url": "https://api.github.com/users/turepalsson/followers", "following_url": "https://api.github.com/users/turepalsson/following{/other_user}", "gists_url": "https://api.github.com/users/turepalsson/gists{/gist_id}", "starred_url": "https://api.github.com/users/turepalsson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/turepalsson/subscriptions", "organizations_url": "https://api.github.com/users/turepalsson/orgs", "repos_url": "https://api.github.com/users/turepalsson/repos", "events_url": "https://api.github.com/users/turepalsson/events{/privacy}", "received_events_url": "https://api.github.com/users/turepalsson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-03T07:38:17Z", "updated_at": "2020-05-03T08:03:37Z", "closed_at": "2020-05-03T08:03:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems that using the `del` statement on a named cursor object does imply calling .close() on the object. Shouldn't it do that?\r\n\r\nIf I run the program below, I get \r\n\r\n```Version: 2.8.4 (dt dec pq3 ext lo64)\r\nTraceback (most recent call last):\r\n  File \"testcursor.py\", line 14, in <module>\r\n    c.execute(\"CREATE INDEX ON t(x)\")\r\npsycopg2.errors.ObjectInUse: cannot CREATE INDEX \"t\" because it is being used by active queries in this session\r\n```\r\n\r\nI was expecting that `del`:ing the named cursor object would close the cursor. If I uncomment the `nc.close()` line, the program runs with no errors.\r\n\r\nTest program: \r\n```\r\nimport psycopg2\r\nprint(\"Version:\", psycopg2.__version__)\r\nconn = psycopg2.connect(dbname='sweden')\r\nc = conn.cursor()\r\nc.execute(\"CREATE TEMPORARY TABLE t (x TEXT)\")\r\nc.execute(\"INSERT INTO t(x) VALUES ('hello'), ('world')\")\r\n\r\nnc = conn.cursor(name='nc')\r\nnc.execute(\"SELECT * FROM t\")\r\n\r\n# nc.close()                                                                                                                                                                                     \r\ndel nc\r\n\r\nc.execute(\"CREATE INDEX ON t(x)\")\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1098", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1098/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1098/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1098/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1098", "id": 611161989, "node_id": "MDU6SXNzdWU2MTExNjE5ODk=", "number": 1098, "title": "psycopg2 [Import Error] on Windows - ImportError: dynamic module does not define module export function (PyInit__psycopg)", "user": {"login": "thayirsaadham", "id": 39395715, "node_id": "MDQ6VXNlcjM5Mzk1NzE1", "avatar_url": "https://avatars2.githubusercontent.com/u/39395715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thayirsaadham", "html_url": "https://github.com/thayirsaadham", "followers_url": "https://api.github.com/users/thayirsaadham/followers", "following_url": "https://api.github.com/users/thayirsaadham/following{/other_user}", "gists_url": "https://api.github.com/users/thayirsaadham/gists{/gist_id}", "starred_url": "https://api.github.com/users/thayirsaadham/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thayirsaadham/subscriptions", "organizations_url": "https://api.github.com/users/thayirsaadham/orgs", "repos_url": "https://api.github.com/users/thayirsaadham/repos", "events_url": "https://api.github.com/users/thayirsaadham/events{/privacy}", "received_events_url": "https://api.github.com/users/thayirsaadham/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-05-02T11:11:50Z", "updated_at": "2020-05-05T10:24:25Z", "closed_at": "2020-05-05T10:24:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting a weird error when I try to import psycopg2.\r\n\r\nUsing Python 3.7.7 ; pip version: pip 20.1 from C:\\Users\\blah\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\pip (python 3.7)\r\n\r\nDownloaded psycopg2 using pip\r\n\r\n$ python -m pip install psycopg2\r\n```\r\nCollecting psycopg2\r\n  Using cached psycopg2-2.8.5-cp37-cp37m-win_amd64.whl (1.1 MB)\r\nInstalling collected packages: psycopg2\r\nSuccessfully installed psycopg2-2.8.5\r\n```\r\n\r\n> import psycopg2\r\n> if name ==\"main\": print(\"Hello World!\")\r\n\r\nRunning the code gives me the below error:\r\n\r\n```\r\n$ python test2.py Traceback (most recent call last):   File \"test2.py\", line 1, in <module>\r\n    import psycopg2   \r\nFile \"C:\\Users\\blah\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\psycopg2\\__init__.py\", line 51, in <module>\r\n    from psycopg2._psycopg import (                     # noqa ImportError: dynamic module does not define module export function (PyInit__psycopg)\r\n```\r\nHave tried installing pscopg2-binary instead. Still getting the same error.\r\n\r\nAny idea?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1097", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1097/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1097/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1097/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1097", "id": 611112784, "node_id": "MDU6SXNzdWU2MTExMTI3ODQ=", "number": 1097, "title": "python 3.8 support breaks socket connection and setting session variables", "user": {"login": "jwickens", "id": 5220075, "node_id": "MDQ6VXNlcjUyMjAwNzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/5220075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jwickens", "html_url": "https://github.com/jwickens", "followers_url": "https://api.github.com/users/jwickens/followers", "following_url": "https://api.github.com/users/jwickens/following{/other_user}", "gists_url": "https://api.github.com/users/jwickens/gists{/gist_id}", "starred_url": "https://api.github.com/users/jwickens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jwickens/subscriptions", "organizations_url": "https://api.github.com/users/jwickens/orgs", "repos_url": "https://api.github.com/users/jwickens/repos", "events_url": "https://api.github.com/users/jwickens/events{/privacy}", "received_events_url": "https://api.github.com/users/jwickens/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-02T05:37:31Z", "updated_at": "2020-05-05T16:35:37Z", "closed_at": "2020-05-04T12:25:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "I upgraded from python 3.6 to 3.8. My psycopg2 version stayed the same (2.8.5)\r\n\r\nMy usage is \r\n\r\n```py\r\nconn = psycopg2.connect(\"dbname=mydb user=myuser\")\r\ncur = self.conn.cursor()\r\ncur.execute(\"set search_path to myschema\")\r\ncur = self.conn.cursor(\"mycursor\")\r\ncur.execute(query)\r\n```\r\n\r\nWhere I am trying to the search path set to a schema as described in https://github.com/psycopg/psycopg2/issues/596\r\n\r\nImmediately I get the following error:\r\n\r\n```\r\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\r\npsycopg2.OperationalError: could not connect to server: No such file or directory\r\n        Is the server running locally and accepting\r\n        connections on Unix domain socket \"/tmp/.s.PGSQL.5432\"?\r\n```\r\n\r\nIf I instead connect to localhost over http I can connect.\r\n\r\nOnce I connect however the session variable search_path is no longer set as my query cannot find the table.\r\n\r\nI'm kind of confused why the same version for different python versions would have different behavior. I guess this has to do with the builds.\r\n\r\nThanks for this great library by the way!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1096", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1096/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1096/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1096/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1096", "id": 610796663, "node_id": "MDU6SXNzdWU2MTA3OTY2NjM=", "number": 1096, "title": "Unable to install in python 3.7.7 alpine3.11 docker", "user": {"login": "sant527", "id": 6462531, "node_id": "MDQ6VXNlcjY0NjI1MzE=", "avatar_url": "https://avatars0.githubusercontent.com/u/6462531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sant527", "html_url": "https://github.com/sant527", "followers_url": "https://api.github.com/users/sant527/followers", "following_url": "https://api.github.com/users/sant527/following{/other_user}", "gists_url": "https://api.github.com/users/sant527/gists{/gist_id}", "starred_url": "https://api.github.com/users/sant527/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sant527/subscriptions", "organizations_url": "https://api.github.com/users/sant527/orgs", "repos_url": "https://api.github.com/users/sant527/repos", "events_url": "https://api.github.com/users/sant527/events{/privacy}", "received_events_url": "https://api.github.com/users/sant527/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-01T15:03:36Z", "updated_at": "2020-05-02T00:31:10Z", "closed_at": "2020-05-02T00:31:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "On my archlinux host i have\r\n\r\n     python 3.7.3\r\n     pipenv, version 2018.11.26\r\n\r\nI have `Pipfile` and `Pipfile.lock` with many packages inside them. I install all the packages in a virtualenv using `pipenv install --dev` \r\n\r\nI have `psycopg2 2.8.4` and `pyzmq` packages which also get installed without any error.\r\n\r\nBut in the docker `python:3.7.7-alpine3.11` i am not able to install all my packages from `Pipfile` and `Pipfile.lock`. \r\n\r\n`psycopg2 2.8.4` and `pyzmq` packages dont get installed and throw error.\r\n\r\n`pyzmq` inside `Pipfile.lock`\r\n\r\n    \"pyzmq\": {\r\n        \"hashes\": [\r\n            \"sha256:01b588911714a6696283de3904f564c550c9e12e8b4995e173f1011755e01086\",\r\n            \"sha256:0573b9790aa26faff33fba40f25763657271d26f64bffb55a957a3d4165d6098\",\r\n            \"sha256:0fa82b9fc3334478be95a5566f35f23109f763d1669bb762e3871a8fa2a4a037\",\r\n            \"sha256:1e59b7b19396f26e360f41411a5d4603356d18871049cd7790f1a7d18f65fb2c\",\r\n            \"sha256:2a294b4f44201bb21acc2c1a17ff87fbe57b82060b10ddb00ac03e57f3d7fcfa\",\r\n            \"sha256:355b38d7dd6f884b8ee9771f59036bcd178d98539680c4f87e7ceb2c6fd057b6\",\r\n            \"sha256:4b73d20aec63933bbda7957e30add233289d86d92a0bb9feb3f4746376f33527\",\r\n            \"sha256:4ec47f2b50bdb97df58f1697470e5c58c3c5109289a623e30baf293481ff0166\",\r\n            \"sha256:5541dc8cad3a8486d58bbed076cb113b65b5dd6b91eb94fb3e38a3d1d3022f20\",\r\n            \"sha256:6fca7d11310430e751f9832257866a122edf9d7b635305c5d8c51f74a5174d3d\",\r\n            \"sha256:7369656f89878455a5bcd5d56ca961884f5d096268f71c0750fc33d6732a25e5\",\r\n            \"sha256:75d73ee7ca4b289a2a2dfe0e6bd8f854979fc13b3fe4ebc19381be3b04e37a4a\",\r\n            \"sha256:80c928d5adcfa12346b08d31360988d843b54b94154575cccd628f1fe91446bc\",\r\n            \"sha256:83ce18b133dc7e6789f64cb994e7376c5aa6b4aeced993048bf1d7f9a0fe6d3a\",\r\n            \"sha256:8b8498ceee33a7023deb2f3db907ca41d6940321e282297327a9be41e3983792\",\r\n            \"sha256:8c69a6cbfa94da29a34f6b16193e7c15f5d3220cb772d6d17425ff3faa063a6d\",\r\n            \"sha256:8ff946b20d13a99dc5c21cb76f4b8b253eeddf3eceab4218df8825b0c65ab23d\",\r\n            \"sha256:972d723a36ab6a60b7806faa5c18aa3c080b7d046c407e816a1d8673989e2485\",\r\n            \"sha256:a6c9c42bbdba3f9c73aedbb7671815af1943ae8073e532c2b66efb72f39f4165\",\r\n            \"sha256:aa3872f2ebfc5f9692ef8957fe69abe92d905a029c0608e45ebfcd451ad30ab5\",\r\n            \"sha256:cf08435b14684f7f2ca2df32c9df38a79cdc17c20dc461927789216cb43d8363\",\r\n            \"sha256:d30db4566177a6205ed1badb8dbbac3c043e91b12a2db5ef9171b318c5641b75\",\r\n            \"sha256:d5ac84f38575a601ab20c1878818ffe0d09eb51d6cb8511b636da46d0fd8949a\",\r\n            \"sha256:e37f22eb4bfbf69cd462c7000616e03b0cdc1b65f2d99334acad36ea0e4ddf6b\",\r\n            \"sha256:e6549dd80de7b23b637f586217a4280facd14ac01e9410a037a13854a6977299\",\r\n            \"sha256:ed6205ca0de035f252baa0fd26fdd2bc8a8f633f92f89ca866fd423ff26c6f25\",\r\n            \"sha256:efdde21febb9b5d7a8e0b87ea2549d7e00fda1936459cfb27fb6fca0c36af6c1\",\r\n            \"sha256:f4e72646bfe79ff3adbf1314906bbd2d67ef9ccc71a3a98b8b2ccbcca0ab7bec\"\r\n        ],\r\n        \"version\": \"==18.1.1\"\r\n\r\n`psycopg2` inside `Pipfile.lock`\r\n\r\n    \"psycopg2\": {\r\n        \"hashes\": [\r\n            \"sha256:4212ca404c4445dc5746c0d68db27d2cbfb87b523fe233dc84ecd24062e35677\",\r\n            \"sha256:47fc642bf6f427805daf52d6e52619fe0637648fe27017062d898f3bf891419d\",\r\n            \"sha256:72772181d9bad1fa349792a1e7384dde56742c14af2b9986013eb94a240f005b\",\r\n            \"sha256:8396be6e5ff844282d4d49b81631772f80dabae5658d432202faf101f5283b7c\",\r\n            \"sha256:893c11064b347b24ecdd277a094413e1954f8a4e8cdaf7ffbe7ca3db87c103f0\",\r\n            \"sha256:92a07dfd4d7c325dd177548c4134052d4842222833576c8391aab6f74038fc3f\",\r\n            \"sha256:965c4c93e33e6984d8031f74e51227bd755376a9df6993774fd5b6fb3288b1f4\",\r\n            \"sha256:9ab75e0b2820880ae24b7136c4d230383e07db014456a476d096591172569c38\",\r\n            \"sha256:b0845e3bdd4aa18dc2f9b6fb78fbd3d9d371ad167fd6d1b7ad01c0a6cdad4fc6\",\r\n            \"sha256:dca2d7203f0dfce8ea4b3efd668f8ea65cd2b35112638e488a4c12594015f67b\",\r\n            \"sha256:ed686e5926929887e2c7ae0a700e32c6129abb798b4ad2b846e933de21508151\",\r\n            \"sha256:ef6df7e14698e79c59c7ee7cf94cd62e5b869db369ed4b1b8f7b729ea825712a\",\r\n            \"sha256:f898e5cc0a662a9e12bde6f931263a1bbd350cfb18e1d5336a12927851825bb6\"\r\n        ],\r\n        \"index\": \"pypi\",\r\n        \"version\": \"==2.8.4\"\r\n\r\nWhen i try to install the packages from `Pipfile` and `Pipfile.lock` inside the docker i get the following error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nI have read somewhere its the issue with gcc compiler not available in alpine. SO i also tried the Dockerfile with `RUN apk --no-cache add build-base`\r\n\r\n    FROM python:3.7.7-alpine3.11\r\n    \r\n    ENV PYTHONUNBUFFERED 1\r\n    \r\n    RUN apk --no-cache add build-base\r\n\r\nStill same error \r\n\r\nSince it gets installed on archlinux, why its not getting installed on my docker image. \r\n\r\nI want to keep the same configuration (python 3.7 and the same Pipfile and Pipfile.lock) throughtout my various projects, how to get this done in docker\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9aOKi.png\r\n  [2]: https://i.stack.imgur.com/so73o.png\r\n  [3]: https://i.stack.imgur.com/pbx8A.png", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1095", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1095/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1095/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1095/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1095", "id": 608808415, "node_id": "MDU6SXNzdWU2MDg4MDg0MTU=", "number": 1095, "title": "installing pyscopg2 on macOS 10.14.6 results in unusable install", "user": {"login": "cjw296", "id": 632049, "node_id": "MDQ6VXNlcjYzMjA0OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/632049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjw296", "html_url": "https://github.com/cjw296", "followers_url": "https://api.github.com/users/cjw296/followers", "following_url": "https://api.github.com/users/cjw296/following{/other_user}", "gists_url": "https://api.github.com/users/cjw296/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjw296/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjw296/subscriptions", "organizations_url": "https://api.github.com/users/cjw296/orgs", "repos_url": "https://api.github.com/users/cjw296/repos", "events_url": "https://api.github.com/users/cjw296/events{/privacy}", "received_events_url": "https://api.github.com/users/cjw296/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2020-04-29T06:22:08Z", "updated_at": "2020-07-21T04:16:49Z", "closed_at": "2020-04-29T12:14:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Ah, macOS, the gift that keeps on giving.\r\n\r\nHere's the last exciting installment: https://github.com/psycopg/psycopg2/issues/385\r\n\r\nThis time, installation/build resulted in no errors, now using poetry (which is still basically installing into a virtualenv using pip), but when I come to use the installation, I get:\r\n\r\n```\r\n  File \"...lib/python3.8/site-packages/psycopg2/__init__.py\", line 51, in <module>\r\n    from psycopg2._psycopg import (                     # noqa\r\nImportError: dlopen(.../lib/python3.8/site-packages/psycopg2/_psycopg.cpython-38-darwin.so, 2): Library not loaded: libpq.5.dylib\r\n  Referenced from: .../lib/python3.8/site-packages/psycopg2/_psycopg.cpython-38-darwin.so\r\n  Reason: unsafe use of relative rpath libpq.5.dylib in .../lib/python3.8/site-packages/psycopg2/_psycopg.cpython-38-darwin.so with restricted binary\r\n```\r\n\r\nNow to go and try and dig around and find what I did to workaround this last time.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1093", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1093/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1093/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1093/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1093", "id": 608438071, "node_id": "MDU6SXNzdWU2MDg0MzgwNzE=", "number": 1093, "title": "ImportError: undefined symbol: PQencryptPasswordConn", "user": {"login": "AndreFCruz", "id": 13498941, "node_id": "MDQ6VXNlcjEzNDk4OTQx", "avatar_url": "https://avatars3.githubusercontent.com/u/13498941?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndreFCruz", "html_url": "https://github.com/AndreFCruz", "followers_url": "https://api.github.com/users/AndreFCruz/followers", "following_url": "https://api.github.com/users/AndreFCruz/following{/other_user}", "gists_url": "https://api.github.com/users/AndreFCruz/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndreFCruz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndreFCruz/subscriptions", "organizations_url": "https://api.github.com/users/AndreFCruz/orgs", "repos_url": "https://api.github.com/users/AndreFCruz/repos", "events_url": "https://api.github.com/users/AndreFCruz/events{/privacy}", "received_events_url": "https://api.github.com/users/AndreFCruz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-28T16:08:11Z", "updated_at": "2020-04-29T10:10:40Z", "closed_at": "2020-04-29T07:22:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "While using sqlalchemy on a remote computer I ran into this ImportError (which Ican get just by running ```import psycopg2```):\r\n![image](https://user-images.githubusercontent.com/13498941/80509884-e4228a00-8971-11ea-92db-2ea06b5c7de8.png)\r\n\r\nPython is running on a conda environment, which was packed (`conda pack`) `scp`ed and unpacked (`conda-unpack`) into the remote computer.\r\nPython packages are on `~/<conda-env>/lib/python3.7/site-packages`\r\n\r\nI have these psycopg packages installed from pypi:\r\n```\r\npsycopg2==2.8.5\r\npsycopg2-binary==2.8.5\r\n```\r\n\r\nI have seen this issue #1018 but cannot seem to solve it by installing from source as that user did.\r\n\r\nAm I missing any dependency?\r\n\r\nThanks :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1092", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1092/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1092/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1092/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1092", "id": 608014788, "node_id": "MDU6SXNzdWU2MDgwMTQ3ODg=", "number": 1092, "title": "Update docs: Add python3-dev to Build prerequisites", "user": {"login": "louisgregg", "id": 9048899, "node_id": "MDQ6VXNlcjkwNDg4OTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/9048899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/louisgregg", "html_url": "https://github.com/louisgregg", "followers_url": "https://api.github.com/users/louisgregg/followers", "following_url": "https://api.github.com/users/louisgregg/following{/other_user}", "gists_url": "https://api.github.com/users/louisgregg/gists{/gist_id}", "starred_url": "https://api.github.com/users/louisgregg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/louisgregg/subscriptions", "organizations_url": "https://api.github.com/users/louisgregg/orgs", "repos_url": "https://api.github.com/users/louisgregg/repos", "events_url": "https://api.github.com/users/louisgregg/events{/privacy}", "received_events_url": "https://api.github.com/users/louisgregg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-28T04:26:33Z", "updated_at": "2020-05-04T12:24:33Z", "closed_at": "2020-05-04T12:24:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "psycopg2 requires the python.h C header files to prior to installation. It is unclear from docs (and  elsewhere online) that python3-dev is necessary to fulfill this prerequisite when using Python3. This could be fixed by updating the **install.rst** file in the docs folder as below. \r\nCurrently, the documentation states:\r\n>They are usually installed in a package such as **python-dev**.\r\n\r\nThis would be clearer as:\r\n\r\n>They are usually installed in a package such as **python-dev** or **python3-dev** when using Python3.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1091", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1091/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1091/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1091/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1091", "id": 606167640, "node_id": "MDU6SXNzdWU2MDYxNjc2NDA=", "number": 1091, "title": "psycopg2.errors.SyntaxError: ", "user": {"login": "RaghuGangireddy", "id": 64254820, "node_id": "MDQ6VXNlcjY0MjU0ODIw", "avatar_url": "https://avatars2.githubusercontent.com/u/64254820?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RaghuGangireddy", "html_url": "https://github.com/RaghuGangireddy", "followers_url": "https://api.github.com/users/RaghuGangireddy/followers", "following_url": "https://api.github.com/users/RaghuGangireddy/following{/other_user}", "gists_url": "https://api.github.com/users/RaghuGangireddy/gists{/gist_id}", "starred_url": "https://api.github.com/users/RaghuGangireddy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RaghuGangireddy/subscriptions", "organizations_url": "https://api.github.com/users/RaghuGangireddy/orgs", "repos_url": "https://api.github.com/users/RaghuGangireddy/repos", "events_url": "https://api.github.com/users/RaghuGangireddy/events{/privacy}", "received_events_url": "https://api.github.com/users/RaghuGangireddy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-24T09:16:57Z", "updated_at": "2020-05-04T07:55:08Z", "closed_at": "2020-04-30T11:06:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "psycopg2.errors.SyntaxError: Statement is too large. Statement Size: 46557879 bytes. Maximum Allowed: 16777216 bytes\r\n\r\n\r\nIs it possible to change the default size and what is the location?\r\nPlease help me to resolve the", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1088", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1088/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1088/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1088/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1088", "id": 602809017, "node_id": "MDU6SXNzdWU2MDI4MDkwMTc=", "number": 1088, "title": "I only type \"pip3 install psycorg2\" and receive this.. (ubuntu server 18.04). ", "user": {"login": "andrnosenko", "id": 63978000, "node_id": "MDQ6VXNlcjYzOTc4MDAw", "avatar_url": "https://avatars3.githubusercontent.com/u/63978000?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrnosenko", "html_url": "https://github.com/andrnosenko", "followers_url": "https://api.github.com/users/andrnosenko/followers", "following_url": "https://api.github.com/users/andrnosenko/following{/other_user}", "gists_url": "https://api.github.com/users/andrnosenko/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrnosenko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrnosenko/subscriptions", "organizations_url": "https://api.github.com/users/andrnosenko/orgs", "repos_url": "https://api.github.com/users/andrnosenko/repos", "events_url": "https://api.github.com/users/andrnosenko/events{/privacy}", "received_events_url": "https://api.github.com/users/andrnosenko/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-19T20:11:50Z", "updated_at": "2020-04-20T10:22:42Z", "closed_at": "2020-04-19T22:38:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Exception:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3/dist-packages/pip/basecommand.py\", line 215, in main\r\n    status = self.run(options, args)\r\n  File \"/usr/lib/python3/dist-packages/pip/commands/install.py\", line 353, in run\r\n    wb.build(autobuilding=True)\r\n  File \"/usr/lib/python3/dist-packages/pip/wheel.py\", line 749, in build\r\n    self.requirement_set.prepare_files(self.finder)\r\n  File \"/usr/lib/python3/dist-packages/pip/req/req_set.py\", line 380, in prepare_files\r\n    ignore_dependencies=self.ignore_dependencies))\r\n  File \"/usr/lib/python3/dist-packages/pip/req/req_set.py\", line 554, in _prepare_file\r\n    require_hashes\r\n  File \"/usr/lib/python3/dist-packages/pip/req/req_install.py\", line 278, in populate_link\r\n    self.link = finder.find_requirement(self, upgrade)\r\n  File \"/usr/lib/python3/dist-packages/pip/index.py\", line 465, in find_requirement\r\n    all_candidates = self.find_all_candidates(req.name)\r\n  File \"/usr/lib/python3/dist-packages/pip/index.py\", line 423, in find_all_candidates\r\n    for page in self._get_pages(url_locations, project_name):\r\n  File \"/usr/lib/python3/dist-packages/pip/index.py\", line 568, in _get_pages\r\n    page = self._get_page(location)\r\n  File \"/usr/lib/python3/dist-packages/pip/index.py\", line 683, in _get_page\r\n    return HTMLPage.get_page(link, session=self.session)\r\n  File \"/usr/lib/python3/dist-packages/pip/index.py\", line 795, in get_page\r\n    resp.raise_for_status()\r\n  File \"/usr/share/python-wheels/requests-2.18.4-py2.py3-none-any.whl/requests/models.py\", line 935, in raise_for_status\r\n    raise HTTPError(http_error_msg, response=self)\r\nrequests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://pypi.org/simple/psycorg2/", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1087", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1087/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1087/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1087/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1087", "id": 602740223, "node_id": "MDU6SXNzdWU2MDI3NDAyMjM=", "number": 1087, "title": "remove ZPL license from setup.py", "user": {"login": "bluefish6", "id": 3324881, "node_id": "MDQ6VXNlcjMzMjQ4ODE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3324881?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bluefish6", "html_url": "https://github.com/bluefish6", "followers_url": "https://api.github.com/users/bluefish6/followers", "following_url": "https://api.github.com/users/bluefish6/following{/other_user}", "gists_url": "https://api.github.com/users/bluefish6/gists{/gist_id}", "starred_url": "https://api.github.com/users/bluefish6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bluefish6/subscriptions", "organizations_url": "https://api.github.com/users/bluefish6/orgs", "repos_url": "https://api.github.com/users/bluefish6/repos", "events_url": "https://api.github.com/users/bluefish6/events{/privacy}", "received_events_url": "https://api.github.com/users/bluefish6/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-19T15:13:24Z", "updated_at": "2020-04-28T16:53:16Z", "closed_at": "2020-04-28T16:53:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nIt seems that even though [ZPsycopgDA was removed  in 2013](https://github.com/psycopg/psycopg2/commit/e1ff432f4ce49acf13d90c7807bdd01a4bc44ae8), its license remained not removed in setup.py (https://github.com/psycopg/psycopg2/blob/master/setup.py#L60)\r\n\r\n```\r\nLicense :: OSI Approved :: Zope Public License\r\n```\r\n\r\nNote that in 2010 ZPsycopgDA already [changed the license model from GPL+ZPL to LGPL](https://github.com/psycopg/psycopg2/commit/611606d53294ec68ab61aea9ba9149d3c6da4750#diff-229ed981ded0795b148d6e213ce76499L10).\r\n\r\nI'm asking about this due to the fact that our automatic license analysis tool (https://github.com/pivotal/LicenseFinder)  discovered ZPL, which I couldn't find in LICENSE file.\r\n\r\nCould you please remove ZPL classifier from setup.py?\r\n\r\nBest", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1086", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1086/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1086/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1086/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1086", "id": 602679362, "node_id": "MDU6SXNzdWU2MDI2NzkzNjI=", "number": 1086, "title": "Failed install using pipenv on windows 10", "user": {"login": "heckad", "id": 45011689, "node_id": "MDQ6VXNlcjQ1MDExNjg5", "avatar_url": "https://avatars2.githubusercontent.com/u/45011689?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heckad", "html_url": "https://github.com/heckad", "followers_url": "https://api.github.com/users/heckad/followers", "following_url": "https://api.github.com/users/heckad/following{/other_user}", "gists_url": "https://api.github.com/users/heckad/gists{/gist_id}", "starred_url": "https://api.github.com/users/heckad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heckad/subscriptions", "organizations_url": "https://api.github.com/users/heckad/orgs", "repos_url": "https://api.github.com/users/heckad/repos", "events_url": "https://api.github.com/users/heckad/events{/privacy}", "received_events_url": "https://api.github.com/users/heckad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-19T10:27:06Z", "updated_at": "2020-04-19T22:40:42Z", "closed_at": "2020-04-19T14:14:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nRunning $ pipenv lock then $ pipenv sync.\r\nLocking [dev-packages] dependencies\u2026\r\nSuccess!\r\nLocking [packages] dependencies\u2026\r\nLocking Failed!\r\nTraceback (most recent call last):\r\n  File \"c:/program files/python38/lib/site-packages/pipenv/resolver.py\", line 126, in <module>\r\n    main()\r\n  File \"c:/program files/python38/lib/site-packages/pipenv/resolver.py\", line 118, in main\r\n    _main(parsed.pre, parsed.clear, parsed.verbose, parsed.system,\r\n  File \"c:/program files/python38/lib/site-packages/pipenv/resolver.py\", line 78, in _main\r\n    results = resolve(\r\n  File \"c:/program files/python38/lib/site-packages/pipenv/resolver.py\", line 61, in resolve\r\n    return resolve_deps(\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\utils.py\", line 718, in resolve_deps\r\n    resolved_tree, hashes, markers_lookup, resolver = actually_resolve_deps(\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\utils.py\", line 480, in actually_resolve_deps\r\n    resolved_tree = resolver.resolve()\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\utils.py\", line 385, in resolve\r\n    results = self.resolver.resolve(max_rounds=environments.PIPENV_MAX_ROUNDS)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\resolver.py\", line 102, in resolve\r\n    has_changed, best_matches = self._resolve_one_round()\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\resolver.py\", line 206, in _resolve_one_round\r\n    for dep in self._iter_dependencies(best_match):\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\resolver.py\", line 301, in _iter_dependencies\r\n    dependencies = self.repository.get_dependencies(ireq)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\repositories\\pypi.py\", line 234, in get_dependencies\r\n    legacy_results = self.get_legacy_dependencies(ireq)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\repositories\\pypi.py\", line 426, in get_legacy_dependencies\r\n    results, ireq = self.resolve_reqs(download_dir, ireq, wheel_cache)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\repositories\\pypi.py\", line 297, in resolve_reqs\r\n    results = resolver._resolve_one(reqset, ireq)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\resolve.py\", line 260, in _resolve_one\r\n    abstract_dist = self._get_abstract_dist_for(req_to_install)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\resolve.py\", line 211, in _get_abstract_dist_for\r\n    abstract_dist = self.preparer.prepare_linked_requirement(\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\operations\\prepare.py\", line 294, in prepare_linked_requirement\r\n    abstract_dist.prep_for_dist(finder, self.build_isolation)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\operations\\prepare.py\", line 127, in prep_for_dist\r\n    self.req.run_egg_info()\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\req\\req_install.py\", line 470, in run_egg_info\r\n    call_subprocess(\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\utils\\misc.py\", line 703, in call_subprocess\r\n    raise InstallationError(\r\npipenv.patched.notpip._internal.exceptions.InstallationError: Command \"python setup.py egg_info\" failed with error code 1 in C:\\Users\\Asus\\AppData\\Local\\Temp\\tmp1mujif_sbuild\\psycopg2-binary\\\r\nFile \"c:/program files/python38/lib/site-packages/pipenv/resolver.py\", line 126, in <module>\r\n    main()\r\n  File \"c:/program files/python38/lib/site-packages/pipenv/resolver.py\", line 118, in main\r\n    _main(parsed.pre, parsed.clear, parsed.verbose, parsed.system,\r\n  File \"c:/program files/python38/lib/site-packages/pipenv/resolver.py\", line 78, in _main\r\n    results = resolve(\r\n  File \"c:/program files/python38/lib/site-packages/pipenv/resolver.py\", line 61, in resolve\r\n    return resolve_deps(\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\utils.py\", line 718, in resolve_deps\r\n    resolved_tree, hashes, markers_lookup, resolver = actually_resolve_deps(\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\utils.py\", line 480, in actually_resolve_deps\r\n    resolved_tree = resolver.resolve()\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\utils.py\", line 385, in resolve\r\n    results = self.resolver.resolve(max_rounds=environments.PIPENV_MAX_ROUNDS)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\resolver.py\", line 102, in resolve\r\n    has_changed, best_matches = self._resolve_one_round()\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\resolver.py\", line 206, in _resolve_one_round\r\n    for dep in self._iter_dependencies(best_match):\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\resolver.py\", line 301, in _iter_dependencies\r\n    dependencies = self.repository.get_dependencies(ireq)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\repositories\\pypi.py\", line 234, in get_dependencies\r\n    legacy_results = self.get_legacy_dependencies(ireq)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\repositories\\pypi.py\", line 426, in get_legacy_dependencies\r\n    results, ireq = self.resolve_reqs(download_dir, ireq, wheel_cache)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\piptools\\repositories\\pypi.py\", line 297, in resolve_reqs\r\n    results = resolver._resolve_one(reqset, ireq)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\resolve.py\", line 260, in _resolve_one\r\n    abstract_dist = self._get_abstract_dist_for(req_to_install)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\resolve.py\", line 211, in _get_abstract_dist_for\r\n    abstract_dist = self.preparer.prepare_linked_requirement(\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\operations\\prepare.py\", line 294, in prepare_linked_requirement\r\n    abstract_dist.prep_for_dist(finder, self.build_isolation)\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\operations\\prepare.py\", line 127, in prep_for_dist\r\n    self.req.run_egg_info()\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\req\\req_install.py\", line 470, in run_egg_info\r\n    call_subprocess(\r\n  File \"c:\\program files\\python38\\lib\\site-packages\\pipenv\\patched\\notpip\\_internal\\utils\\misc.py\", line 703, in call_subprocess\r\n    raise InstallationError(\r\npipenv.patched.notpip._internal.exceptions.InstallationError: Command \"python setup.py egg_info\" failed with error code 1 in C:\\Users\\Asus\\AppData\\Local\\Temp\\tmp1mujif_sbuild\\psycopg2-binary\\\r\n```\r\n\r\nPipenv needs info of package. Why can't they get information, now? This has worked before.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1085", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1085/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1085/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1085/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1085", "id": 602516821, "node_id": "MDU6SXNzdWU2MDI1MTY4MjE=", "number": 1085, "title": "Error install psycopg2 on Mac", "user": {"login": "vitorpontual", "id": 42771088, "node_id": "MDQ6VXNlcjQyNzcxMDg4", "avatar_url": "https://avatars0.githubusercontent.com/u/42771088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vitorpontual", "html_url": "https://github.com/vitorpontual", "followers_url": "https://api.github.com/users/vitorpontual/followers", "following_url": "https://api.github.com/users/vitorpontual/following{/other_user}", "gists_url": "https://api.github.com/users/vitorpontual/gists{/gist_id}", "starred_url": "https://api.github.com/users/vitorpontual/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vitorpontual/subscriptions", "organizations_url": "https://api.github.com/users/vitorpontual/orgs", "repos_url": "https://api.github.com/users/vitorpontual/repos", "events_url": "https://api.github.com/users/vitorpontual/events{/privacy}", "received_events_url": "https://api.github.com/users/vitorpontual/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-18T18:04:40Z", "updated_at": "2020-07-15T21:42:48Z", "closed_at": "2020-04-18T21:16:41Z", "author_association": "NONE", "active_lock_reason": null, "body": " ERROR: Command errored out with exit status 1:\r\n     command: /Library/Frameworks/Python.framework/Versions/3.8/bin/python3.8 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/p8/4kj9n5kj049gs4xsh3qd8_9r0000gn/T/pip-install-wyckux1n/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/p8/4kj9n5kj049gs4xsh3qd8_9r0000gn/T/pip-install-wyckux1n/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /private/var/folders/p8/4kj9n5kj049gs4xsh3qd8_9r0000gn/T/pip-record-b2z2bx1h/install-record.txt --single-version-externally-managed --compile --install-headers /Library/Frameworks/Python.framework/Versions/3.8/include/python3.8/psycopg2\r\n         cwd: /private/var/folders/p8/4kj9n5kj049gs4xsh3qd8_9r0000gn/T/pip-install-wyckux1n/psycopg2/\r\n    Complete output (151 lines):\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.9-x86_64-3.8\r\n    creating build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/_json.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/extras.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/compat.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/errorcodes.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/tz.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/_range.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/_ipaddress.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/_lru_cache.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/__init__.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/extensions.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/errors.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/sql.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    copying lib/pool.py -> build/lib.macosx-10.9-x86_64-3.8/psycopg2\r\n    running build_ext\r\n    building 'psycopg2._psycopg' extension\r\n    creating build/temp.macosx-10.9-x86_64-3.8\r\n    creating build/temp.macosx-10.9-x86_64-3.8/psycopg\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/psycopgmodule.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/psycopgmodule.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/green.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/green.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/pqpath.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/pqpath.o\r\n    psycopg/pqpath.c:138:17: warning: implicit conversion from enumeration type 'ConnStatusType' to different enumeration type 'ExecStatusType' [-Wenum-conversion]\r\n                    PQstatus(conn->pgconn) : PQresultStatus(*pgres)));\r\n                    ^~~~~~~~~~~~~~~~~~~~~~\r\n    psycopg/pqpath.c:1717:11: warning: code will never be executed [-Wunreachable-code]\r\n        ret = 1;\r\n              ^\r\n    psycopg/pqpath.c:1822:17: warning: implicit conversion from enumeration type 'ConnStatusType' to different enumeration type 'ExecStatusType' [-Wenum-conversion]\r\n                    PQstatus(curs->conn->pgconn) : PQresultStatus(curs->pgres)));\r\n                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    3 warnings generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/utils.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/utils.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/bytes_format.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/bytes_format.o\r\n    In file included from psycopg/bytes_format.c:82:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/libpq_support.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/libpq_support.o\r\n    In file included from psycopg/libpq_support.c:30:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/win32_support.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/win32_support.o\r\n    In file included from psycopg/win32_support.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/solaris_support.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/solaris_support.o\r\n    In file included from psycopg/solaris_support.c:29:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/aix_support.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/aix_support.o\r\n    In file included from psycopg/aix_support.c:29:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/connection_int.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/connection_int.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/connection_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/connection_type.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/cursor_int.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/cursor_int.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/cursor_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/cursor_type.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/column_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/column_type.o\r\n    In file included from psycopg/column_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/replication_connection_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/replication_connection_type.o\r\n    In file included from psycopg/replication_connection_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/replication_cursor_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/replication_cursor_type.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/replication_message_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/replication_message_type.o\r\n    In file included from psycopg/replication_message_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/diagnostics_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/diagnostics_type.o\r\n    In file included from psycopg/diagnostics_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/error_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/error_type.o\r\n    In file included from psycopg/error_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/conninfo_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/conninfo_type.o\r\n    In file included from psycopg/conninfo_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/lobject_int.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/lobject_int.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/lobject_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/lobject_type.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/notify_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/notify_type.o\r\n    In file included from psycopg/notify_type.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/xid_type.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/xid_type.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_asis.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_asis.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_binary.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_binary.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_datetime.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_datetime.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_list.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_list.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pboolean.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_pboolean.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pdecimal.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_pdecimal.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pint.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_pint.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_pfloat.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_pfloat.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/adapter_qstring.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_qstring.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/microprotocols.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/microprotocols.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/microprotocols_proto.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/microprotocols_proto.o\r\n    In file included from psycopg/microprotocols_proto.c:28:\r\n    In file included from ./psycopg/psycopg.h:38:\r\n    ./psycopg/config.h:82:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.5 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=120002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.8/include/python3.8 -I. -I/usr/local/include -I/usr/local/include/postgresql/server -c psycopg/typecast.c -o build/temp.macosx-10.9-x86_64-3.8/psycopg/typecast.o\r\n    gcc -bundle -undefined dynamic_lookup -arch x86_64 -g build/temp.macosx-10.9-x86_64-3.8/psycopg/psycopgmodule.o build/temp.macosx-10.9-x86_64-3.8/psycopg/green.o build/temp.macosx-10.9-x86_64-3.8/psycopg/pqpath.o build/temp.macosx-10.9-x86_64-3.8/psycopg/utils.o build/temp.macosx-10.9-x86_64-3.8/psycopg/bytes_format.o build/temp.macosx-10.9-x86_64-3.8/psycopg/libpq_support.o build/temp.macosx-10.9-x86_64-3.8/psycopg/win32_support.o build/temp.macosx-10.9-x86_64-3.8/psycopg/solaris_support.o build/temp.macosx-10.9-x86_64-3.8/psycopg/aix_support.o build/temp.macosx-10.9-x86_64-3.8/psycopg/connection_int.o build/temp.macosx-10.9-x86_64-3.8/psycopg/connection_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/cursor_int.o build/temp.macosx-10.9-x86_64-3.8/psycopg/cursor_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/column_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/replication_connection_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/replication_cursor_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/replication_message_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/diagnostics_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/error_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/conninfo_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/lobject_int.o build/temp.macosx-10.9-x86_64-3.8/psycopg/lobject_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/notify_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/xid_type.o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_asis.o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_binary.o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_datetime.o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_list.o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_pboolean.o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_pdecimal.o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_pint.o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_pfloat.o build/temp.macosx-10.9-x86_64-3.8/psycopg/adapter_qstring.o build/temp.macosx-10.9-x86_64-3.8/psycopg/microprotocols.o build/temp.macosx-10.9-x86_64-3.8/psycopg/microprotocols_proto.o build/temp.macosx-10.9-x86_64-3.8/psycopg/typecast.o -L/usr/local/lib -lpq -lssl -lcrypto -o build/lib.macosx-10.9-x86_64-3.8/psycopg2/_psycopg.cpython-38-darwin.so\r\n    ld: library not found for -lssl\r\n    clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n    error: command 'gcc' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /Library/Frameworks/Python.framework/Versions/3.8/bin/python3.8 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/p8/4kj9n5kj049gs4xsh3qd8_9r0000gn/T/pip-install-wyckux1n/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/p8/4kj9n5kj049gs4xsh3qd8_9r0000gn/T/pip-install-wyckux1n/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /private/var/folders/p8/4kj9n5kj049gs4xsh3qd8_9r0000gn/T/pip-record-b2z2bx1h/install-record.txt --single-version-externally-managed --compile --install-headers /Library/Frameworks/Python.framework/Versions/3.8/include/python3.8/psycopg2 Check the logs for full command output.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1084", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1084/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1084/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1084/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1084", "id": 600764680, "node_id": "MDU6SXNzdWU2MDA3NjQ2ODA=", "number": 1084, "title": "psycopg2.OperationalError: received invalid response to GSSAPI negotiation", "user": {"login": "markussv", "id": 46045622, "node_id": "MDQ6VXNlcjQ2MDQ1NjIy", "avatar_url": "https://avatars1.githubusercontent.com/u/46045622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/markussv", "html_url": "https://github.com/markussv", "followers_url": "https://api.github.com/users/markussv/followers", "following_url": "https://api.github.com/users/markussv/following{/other_user}", "gists_url": "https://api.github.com/users/markussv/gists{/gist_id}", "starred_url": "https://api.github.com/users/markussv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/markussv/subscriptions", "organizations_url": "https://api.github.com/users/markussv/orgs", "repos_url": "https://api.github.com/users/markussv/repos", "events_url": "https://api.github.com/users/markussv/events{/privacy}", "received_events_url": "https://api.github.com/users/markussv/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-04-16T05:46:35Z", "updated_at": "2020-07-10T16:54:20Z", "closed_at": "2020-05-04T12:38:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've run into problems using sqlalchemy  and psycopg2 2.8.5 connecting to a Greenplum postgres database (fairly old, v.8.2, I think). When I call sqlalchemy.create_engine(), I get the error:\r\n\r\nsqlalchemy.exc.OperationalError: (psycopg2.OperationalError) received invalid response to GSSAPI negotiation\r\n\r\nThis error disappears when I 'downgrade' to psycopg2 2.8.4; it also seems to be working fine with v2.7. A colleague more knowledgeable in Python and software development in general suggested \r\nthat changes in response to  https://github.com/psycopg/psycopg2/issues/1019 could have something to do with it. I'm using Python 3.7. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1083", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1083/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1083/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1083/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1083", "id": 599012390, "node_id": "MDU6SXNzdWU1OTkwMTIzOTA=", "number": 1083, "title": "psycopg2/_psycopg.so, 2): no suitable image found ", "user": {"login": "felipesodre", "id": 11660828, "node_id": "MDQ6VXNlcjExNjYwODI4", "avatar_url": "https://avatars3.githubusercontent.com/u/11660828?v=4", "gravatar_id": "", "url": "https://api.github.com/users/felipesodre", "html_url": "https://github.com/felipesodre", "followers_url": "https://api.github.com/users/felipesodre/followers", "following_url": "https://api.github.com/users/felipesodre/following{/other_user}", "gists_url": "https://api.github.com/users/felipesodre/gists{/gist_id}", "starred_url": "https://api.github.com/users/felipesodre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/felipesodre/subscriptions", "organizations_url": "https://api.github.com/users/felipesodre/orgs", "repos_url": "https://api.github.com/users/felipesodre/repos", "events_url": "https://api.github.com/users/felipesodre/events{/privacy}", "received_events_url": "https://api.github.com/users/felipesodre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-13T17:14:34Z", "updated_at": "2020-04-13T18:52:20Z", "closed_at": "2020-04-13T18:52:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I try to run psycopg2/ getting this error:\r\n\r\n### Error:\r\nfrom psycopg2._psycopg import (         \r\nI**mportError: dlopen(/Users/felipe.sodre/Projects/Scripts/psycopg2/_psycopg.so, 2): no suitable image found.  Did find:\r\n\t/Users/felipe.sodre/Projects/Scripts/psycopg2/_psycopg.so: unknown file type, first eight bytes: 0x7F 0x45 0x4C 0x46 0x02 0x01 0x01 0x00\r\n\t/Users/felipe.sodre/Projects/Scripts/psycopg2/_psycopg.so: unknown file type, first eight bytes: 0x7F 0x45 0x4C 0x46 0x02 0x01 0x01 0x00_**\r\n\r\nGetting the error on this spot in the _init_.py\r\n\r\n`from psycopg2._psycopg import (                    \r\n    BINARY, NUMBER, STRING, DATETIME, ROWID,\r\n    Binary, Date, Time, Timestamp,\r\n    DateFromTicks, TimeFromTicks, TimestampFromTicks,\r\n    Error, Warning, DataError, DatabaseError, ProgrammingError, IntegrityError,\r\n    InterfaceError, InternalError, NotSupportedError, OperationalError,\r\n    _connect, apilevel, threadsafety, paramstyle,\r\n    __version__, __libpq_version__,\r\n)`\r\n\r\n\r\nMACOS Catalina 10.15.4\r\n\r\n\r\n**Local Module psycopg2**\r\n![image](https://user-images.githubusercontent.com/11660828/79141368-3ec5be80-7d94-11ea-8623-5024a852704a.png)\r\n\r\nit seems the file _psycopg.so is misinterpreted,\r\n\r\nDoes anybody have a clue on how to solve this issue?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1082", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1082/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1082/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1082/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1082", "id": 598813818, "node_id": "MDU6SXNzdWU1OTg4MTM4MTg=", "number": 1082, "title": "Test if connection is open before getconn():", "user": {"login": "hivemall", "id": 30777961, "node_id": "MDQ6VXNlcjMwNzc3OTYx", "avatar_url": "https://avatars3.githubusercontent.com/u/30777961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hivemall", "html_url": "https://github.com/hivemall", "followers_url": "https://api.github.com/users/hivemall/followers", "following_url": "https://api.github.com/users/hivemall/following{/other_user}", "gists_url": "https://api.github.com/users/hivemall/gists{/gist_id}", "starred_url": "https://api.github.com/users/hivemall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hivemall/subscriptions", "organizations_url": "https://api.github.com/users/hivemall/orgs", "repos_url": "https://api.github.com/users/hivemall/repos", "events_url": "https://api.github.com/users/hivemall/events{/privacy}", "received_events_url": "https://api.github.com/users/hivemall/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-13T10:36:59Z", "updated_at": "2020-04-14T11:05:43Z", "closed_at": "2020-04-14T11:05:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Overnight database connections can timeout. Coming back one gets InterfaceErrors if not checking `closed` == 1. Can the pool please only hand out open connections, currently there is no check on `closed`. Meaning using it eg with pool.getconn() might raise. I see no point in a pool handing out broken connections, or me missed sth.?\r\n\r\nhttps://github.com/psycopg/psycopg2/blob/cb3353be1f10590cdc2a894ada42c3b4c171feb7/lib/pool.py#L86", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1081", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1081/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1081/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1081/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1081", "id": 598186140, "node_id": "MDU6SXNzdWU1OTgxODYxNDA=", "number": 1081, "title": "Cannot connect to the server?", "user": {"login": "memoriesus", "id": 57557632, "node_id": "MDQ6VXNlcjU3NTU3NjMy", "avatar_url": "https://avatars1.githubusercontent.com/u/57557632?v=4", "gravatar_id": "", "url": "https://api.github.com/users/memoriesus", "html_url": "https://github.com/memoriesus", "followers_url": "https://api.github.com/users/memoriesus/followers", "following_url": "https://api.github.com/users/memoriesus/following{/other_user}", "gists_url": "https://api.github.com/users/memoriesus/gists{/gist_id}", "starred_url": "https://api.github.com/users/memoriesus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/memoriesus/subscriptions", "organizations_url": "https://api.github.com/users/memoriesus/orgs", "repos_url": "https://api.github.com/users/memoriesus/repos", "events_url": "https://api.github.com/users/memoriesus/events{/privacy}", "received_events_url": "https://api.github.com/users/memoriesus/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-11T04:13:33Z", "updated_at": "2020-04-11T04:45:50Z", "closed_at": "2020-04-11T04:40:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Django uses SQLite as the default database, but I want to use the PostgreSQL  and then change the settings as the documents, but when I did the command:\r\n`python3 manage.py makemigrations`\r\nIt failed to connect to the server, I ensure the PostgreSQL started\r\nThe error as below:\r\n        Connection refused\r\n\tIs the server running on host \"127.0.0.1\" and accepting\r\n\tTCP/IP connections on port 8000?\r\n\r\n\r\nThe error is from the method in __init.py file:\r\n`conn = _connect(dsn, connection_factory=connection_factory, **kwasync)`\r\n\r\npsycopg2.OperationalError:\r\n\r\n\r\n@dvarrazzo ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1080", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1080/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1080/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1080/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1080", "id": 596413600, "node_id": "MDU6SXNzdWU1OTY0MTM2MDA=", "number": 1080, "title": "Writing pandas dataframe to redshift", "user": {"login": "ajay-aku", "id": 59968438, "node_id": "MDQ6VXNlcjU5OTY4NDM4", "avatar_url": "https://avatars0.githubusercontent.com/u/59968438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajay-aku", "html_url": "https://github.com/ajay-aku", "followers_url": "https://api.github.com/users/ajay-aku/followers", "following_url": "https://api.github.com/users/ajay-aku/following{/other_user}", "gists_url": "https://api.github.com/users/ajay-aku/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajay-aku/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajay-aku/subscriptions", "organizations_url": "https://api.github.com/users/ajay-aku/orgs", "repos_url": "https://api.github.com/users/ajay-aku/repos", "events_url": "https://api.github.com/users/ajay-aku/events{/privacy}", "received_events_url": "https://api.github.com/users/ajay-aku/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-08T08:47:31Z", "updated_at": "2020-04-08T13:35:52Z", "closed_at": "2020-04-08T13:35:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "Can you please let me know if we can write the pandas dataframe into a redshift table using psycopg2?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1079", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1079/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1079/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1079/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1079", "id": 596389240, "node_id": "MDU6SXNzdWU1OTYzODkyNDA=", "number": 1079, "title": "\"server closed the connection unexpectedly\" in psycopg2/__init__.py", "user": {"login": "robert-kisteleki", "id": 7619606, "node_id": "MDQ6VXNlcjc2MTk2MDY=", "avatar_url": "https://avatars1.githubusercontent.com/u/7619606?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robert-kisteleki", "html_url": "https://github.com/robert-kisteleki", "followers_url": "https://api.github.com/users/robert-kisteleki/followers", "following_url": "https://api.github.com/users/robert-kisteleki/following{/other_user}", "gists_url": "https://api.github.com/users/robert-kisteleki/gists{/gist_id}", "starred_url": "https://api.github.com/users/robert-kisteleki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robert-kisteleki/subscriptions", "organizations_url": "https://api.github.com/users/robert-kisteleki/orgs", "repos_url": "https://api.github.com/users/robert-kisteleki/repos", "events_url": "https://api.github.com/users/robert-kisteleki/events{/privacy}", "received_events_url": "https://api.github.com/users/robert-kisteleki/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-04-08T08:07:02Z", "updated_at": "2020-05-04T14:03:28Z", "closed_at": "2020-05-04T12:32:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\n(We've seen this issue while using 2.7.3.2, and #829 gave hope that it's fixed. Unfortunately we're still seeing this with 2.8.5 hence this new issue)\r\n\r\nWhile using python 3.6.8 and psycopg2-binary 2.8.5, in a multi-threaded app, we occasionally see:\r\n\r\n> server closed the connection unexpectedly\r\n>\tThis probably means the server terminated abnormally\r\n>\tbefore or while processing the request.\r\n\r\nin `python36/lib64/python3.6/site-packages/psycopg2/__init__.py in connect, line 127`\r\n\r\nThat line is:\r\n```\r\nconn = _connect(dsn, connection_factory=connection_factory, **kwasync)\r\n```\r\n\r\nThis seems to happen under more-than-usual (but not particularly high) load. There's nothing related visible in the server side logs. The connections are using TLS.\r\n\r\nPerhaps it's worth mentioning that this is under django (2.2) with a non-zero CONN_MAX_AGE setting, meaning connections are reused where possible. The error is seemingly when making new connections so this is unlikely to be related.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1078", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1078/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1078/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1078/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1078", "id": 596181969, "node_id": "MDU6SXNzdWU1OTYxODE5Njk=", "number": 1078, "title": "psycopg2.OperationalError: server closed the connection unexpectedly on password authentication failure", "user": {"login": "swjain23", "id": 36710109, "node_id": "MDQ6VXNlcjM2NzEwMTA5", "avatar_url": "https://avatars0.githubusercontent.com/u/36710109?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swjain23", "html_url": "https://github.com/swjain23", "followers_url": "https://api.github.com/users/swjain23/followers", "following_url": "https://api.github.com/users/swjain23/following{/other_user}", "gists_url": "https://api.github.com/users/swjain23/gists{/gist_id}", "starred_url": "https://api.github.com/users/swjain23/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swjain23/subscriptions", "organizations_url": "https://api.github.com/users/swjain23/orgs", "repos_url": "https://api.github.com/users/swjain23/repos", "events_url": "https://api.github.com/users/swjain23/events{/privacy}", "received_events_url": "https://api.github.com/users/swjain23/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-07T22:11:11Z", "updated_at": "2020-04-14T18:08:36Z", "closed_at": "2020-04-14T18:08:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nWe are using psycopg2 version 2.8.5 and trying to connect to a PostgreSQL server version 10. I am able to connect using the right credentials, but when I enter a wrong password I get this error: \"server closed the connection unexpectedly. This probably means the server terminated abnormally before or while processing the request.\" instead of the error returned by the server. I looked at my server logs and it logs this error:\r\n\r\n```\r\n2020-04-07 21:30:57 UTC-5e8cf110.8f6b8-FATAL:  password authentication failed for user \"postgres\"\r\n2020-04-07 21:30:57 UTC-5e8cf110.8f6b8-DETAIL:  Password does not match for user \"postgres\".\r\n```\r\nAlso, when I provide a wrong password to my PostgreSQL server version 9.6 I get a proper error from psycopg2: \"FATAL: password authentication failed for user \"postgres\"\".\r\n\r\nThis is an excerpt from my code:\r\n\r\n```python\r\n# Connect using psycopg2\r\n        try:\r\n            # Pass connection parameters as keyword arguments to psycopg2.connect by unpacking the connection_options dict\r\n            connection = psycopg2.connect(**connection_options)\r\n        except Exception as err:\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1077", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1077/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1077/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1077/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1077", "id": 595968259, "node_id": "MDU6SXNzdWU1OTU5NjgyNTk=", "number": 1077, "title": "Remove dependency on pg_config", "user": {"login": "JuergenSimon", "id": 377783, "node_id": "MDQ6VXNlcjM3Nzc4Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/377783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JuergenSimon", "html_url": "https://github.com/JuergenSimon", "followers_url": "https://api.github.com/users/JuergenSimon/followers", "following_url": "https://api.github.com/users/JuergenSimon/following{/other_user}", "gists_url": "https://api.github.com/users/JuergenSimon/gists{/gist_id}", "starred_url": "https://api.github.com/users/JuergenSimon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JuergenSimon/subscriptions", "organizations_url": "https://api.github.com/users/JuergenSimon/orgs", "repos_url": "https://api.github.com/users/JuergenSimon/repos", "events_url": "https://api.github.com/users/JuergenSimon/events{/privacy}", "received_events_url": "https://api.github.com/users/JuergenSimon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-04-07T15:45:53Z", "updated_at": "2020-04-09T22:49:29Z", "closed_at": "2020-04-08T15:01:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "The dependency on pg_config in the installation process has too heavyweight dependencies. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1076", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1076/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1076/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1076/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1076", "id": 595714456, "node_id": "MDU6SXNzdWU1OTU3MTQ0NTY=", "number": 1076, "title": "No new tag under releases", "user": {"login": "0xFF1E071F", "id": 55749371, "node_id": "MDQ6VXNlcjU1NzQ5Mzcx", "avatar_url": "https://avatars1.githubusercontent.com/u/55749371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0xFF1E071F", "html_url": "https://github.com/0xFF1E071F", "followers_url": "https://api.github.com/users/0xFF1E071F/followers", "following_url": "https://api.github.com/users/0xFF1E071F/following{/other_user}", "gists_url": "https://api.github.com/users/0xFF1E071F/gists{/gist_id}", "starred_url": "https://api.github.com/users/0xFF1E071F/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0xFF1E071F/subscriptions", "organizations_url": "https://api.github.com/users/0xFF1E071F/orgs", "repos_url": "https://api.github.com/users/0xFF1E071F/repos", "events_url": "https://api.github.com/users/0xFF1E071F/events{/privacy}", "received_events_url": "https://api.github.com/users/0xFF1E071F/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-07T09:09:34Z", "updated_at": "2020-04-07T22:10:07Z", "closed_at": "2020-04-07T10:57:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello ppl =)\r\ncan you please update tags under releases? I am developing packages for pisilinux and i need to download latest version from github. Latest psycopg2 is 2.8.5 under pypi.org but 2.8.4 here on github.\r\nThank you very much", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1075", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1075/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1075/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1075/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1075", "id": 594994967, "node_id": "MDU6SXNzdWU1OTQ5OTQ5Njc=", "number": 1075, "title": "Installation of `psycopg2-binary` (2.8.5) fails with Python 3.4", "user": {"login": "crazyscientist", "id": 1128117, "node_id": "MDQ6VXNlcjExMjgxMTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1128117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crazyscientist", "html_url": "https://github.com/crazyscientist", "followers_url": "https://api.github.com/users/crazyscientist/followers", "following_url": "https://api.github.com/users/crazyscientist/following{/other_user}", "gists_url": "https://api.github.com/users/crazyscientist/gists{/gist_id}", "starred_url": "https://api.github.com/users/crazyscientist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crazyscientist/subscriptions", "organizations_url": "https://api.github.com/users/crazyscientist/orgs", "repos_url": "https://api.github.com/users/crazyscientist/repos", "events_url": "https://api.github.com/users/crazyscientist/events{/privacy}", "received_events_url": "https://api.github.com/users/crazyscientist/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 869665275, "node_id": "MDU6TGFiZWw4Njk2NjUyNzU=", "url": "https://api.github.com/repos/psycopg/psycopg2/labels/wheel", "name": "wheel", "color": "0052cc", "default": false, "description": "Bugs related to the wheel distribution, not happening installing from source"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-04-06T10:29:09Z", "updated_at": "2020-04-06T11:38:08Z", "closed_at": "2020-04-06T11:24:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "This seems to be a similar problem as in #765, but this started to happen with the latest release of `psycopg2-binary` (version 2.8.5) in our SLE12SP2 based Gitlab CI pipeline:\r\n\r\n```shell\r\n32e5bb9d9c9a:/ # pip3 install psycopg2-binary   \r\nCollecting psycopg2-binary\r\n  Using cached https://files.pythonhosted.org/packages/97/00/ed4c82364741031d745867f83820d4f373aa891098a5785841850491c9ba/psycopg2-binary-2.8.5.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    running egg_info\r\n    creating pip-egg-info/psycopg2_binary.egg-info\r\n    writing top-level names to pip-egg-info/psycopg2_binary.egg-info/top_level.txt\r\n    writing dependency_links to pip-egg-info/psycopg2_binary.egg-info/dependency_links.txt\r\n    writing pip-egg-info/psycopg2_binary.egg-info/PKG-INFO\r\n    writing manifest file 'pip-egg-info/psycopg2_binary.egg-info/SOURCES.txt'\r\n    \r\n    Error: pg_config executable not found.\r\n    \r\n    pg_config is required to build psycopg2 from source.  Please add the directory\r\n    containing pg_config to the $PATH or specify the full executable path with the\r\n    option:\r\n    \r\n        python setup.py build_ext --pg-config /path/to/pg_config build ...\r\n    \r\n    or with the pg_config option in 'setup.cfg'.\r\n    \r\n    If you prefer to avoid building psycopg2 from source, please install the PyPI\r\n    'psycopg2-binary' package instead.\r\n    \r\n    For further information please check the 'doc/src/install.rst' file (also at\r\n    <https://www.psycopg.org/docs/install.html>).\r\n    \r\n    \r\n    ----------------------------------------\r\n```\r\nUsing version 2.8.5 with Python2.7 is no problem, version 2.8.4 is working with Python 3.4 however.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1073", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1073/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1073/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1073/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1073", "id": 593440896, "node_id": "MDU6SXNzdWU1OTM0NDA4OTY=", "number": 1073, "title": "copy.copy and copy.deepcopy duplicates the number of columns returned by DictCursor", "user": {"login": "jeff4747", "id": 5138718, "node_id": "MDQ6VXNlcjUxMzg3MTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/5138718?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeff4747", "html_url": "https://github.com/jeff4747", "followers_url": "https://api.github.com/users/jeff4747/followers", "following_url": "https://api.github.com/users/jeff4747/following{/other_user}", "gists_url": "https://api.github.com/users/jeff4747/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeff4747/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeff4747/subscriptions", "organizations_url": "https://api.github.com/users/jeff4747/orgs", "repos_url": "https://api.github.com/users/jeff4747/repos", "events_url": "https://api.github.com/users/jeff4747/events{/privacy}", "received_events_url": "https://api.github.com/users/jeff4747/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-03T14:54:49Z", "updated_at": "2020-04-06T04:35:44Z", "closed_at": "2020-04-06T04:35:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "When copying the row object returned by DictCursor, the resulting copy has twice as many columns as the original object.\r\n\r\nLet's say the query is supposed to return 8 columns:\r\n\r\n```\r\nsaved_data = []\r\nwith psycopg2.connect(cursor_factory=psycopg2.extras.DictCursor,\r\n                          **connection_info) as connection:\r\n with connection.cursor() as cursor:\r\n  cursor.execute(some_sql)\r\n  for row in cursor:\r\n   saved_data.append(row)\r\n\r\n# later in the program (cursor no longer in scope, in case that matters)\r\nlen(saved_data[0])  # returns 8\r\nrow_copy = copy.copy(saved_data[0])\r\nlen(row_copy)  # returns 16\r\nrow_deep_copy = copy.deepcopy(saved_data[0])\r\nlen(row_deep_copy) # returns 16\r\n```\r\n\r\nAlso, copy_row[8] and higher exist and have a value (should cause IndexError since there should be only 8 columns)\r\n\r\ncopy_row[0] and copy_row[8] are equal.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1071", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1071/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1071/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1071/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1071", "id": 592131251, "node_id": "MDU6SXNzdWU1OTIxMzEyNTE=", "number": 1071, "title": "Python error: Segmentation fault", "user": {"login": "clintmod", "id": 188043, "node_id": "MDQ6VXNlcjE4ODA0Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/188043?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clintmod", "html_url": "https://github.com/clintmod", "followers_url": "https://api.github.com/users/clintmod/followers", "following_url": "https://api.github.com/users/clintmod/following{/other_user}", "gists_url": "https://api.github.com/users/clintmod/gists{/gist_id}", "starred_url": "https://api.github.com/users/clintmod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clintmod/subscriptions", "organizations_url": "https://api.github.com/users/clintmod/orgs", "repos_url": "https://api.github.com/users/clintmod/repos", "events_url": "https://api.github.com/users/clintmod/events{/privacy}", "received_events_url": "https://api.github.com/users/clintmod/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-01T18:52:28Z", "updated_at": "2020-04-08T13:38:07Z", "closed_at": "2020-04-08T13:38:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting an error when I simply import psycopg2 on Centos7.\r\n\r\nThis runs fine on my mac running Mojave\r\n\r\npython version 3.7.5\r\npsycopg version 2.8.2\r\nOS version Centos 7.7.1908\r\npg_config output:\r\n```\r\nBINDIR = /usr/pgsql-12/bin\r\nDOCDIR = /usr/pgsql-12/doc\r\nHTMLDIR = /usr/pgsql-12/doc/html\r\nINCLUDEDIR = /usr/pgsql-12/include\r\nPKGINCLUDEDIR = /usr/pgsql-12/include\r\nINCLUDEDIR-SERVER = /usr/pgsql-12/include/server\r\nLIBDIR = /usr/pgsql-12/lib\r\nPKGLIBDIR = /usr/pgsql-12/lib\r\nLOCALEDIR = /usr/pgsql-12/share/locale\r\nMANDIR = /usr/pgsql-12/share/man\r\nSHAREDIR = /usr/pgsql-12/share\r\nSYSCONFDIR = /etc/sysconfig/pgsql\r\nPGXS = /usr/pgsql-12/lib/pgxs/src/makefiles/pgxs.mk\r\nCONFIGURE = '--enable-rpath' '--prefix=/usr/pgsql-12' '--includedir=/usr/pgsql-12/include' '--libdir=/usr/pgsql-12/lib' '--mandir=/usr/pgsql-12/share/man' '--datadir=/usr/pgsql-12/share' '--with-icu' 'CLANG=/opt/rh/llvm-toolset-7/root/usr/bin/clang' 'LLVM_CONFIG=/usr/lib64/llvm5.0/bin/llvm-config' '--with-llvm' '--with-perl' '--with-python' '--with-tcl' '--with-tclconfig=/usr/lib64' '--with-openssl' '--with-pam' '--with-gssapi' '--with-includes=/usr/include' '--with-libraries=/usr/lib64' '--enable-nls' '--enable-dtrace' '--with-uuid=e2fs' '--with-libxml' '--with-libxslt' '--with-ldap' '--with-selinux' '--with-systemd' '--with-system-tzdata=/usr/share/zoneinfo' '--sysconfdir=/etc/sysconfig/pgsql' '--docdir=/usr/pgsql-12/doc' '--htmldir=/usr/pgsql-12/doc/html' 'CFLAGS=-O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic' 'LDFLAGS=-Wl,--as-needed' 'PKG_CONFIG_PATH=:/usr/lib64/pkgconfig:/usr/share/pkgconfig' 'PYTHON=/usr/bin/python2'\r\nCC = gcc -std=gnu99\r\nCPPFLAGS = -D_GNU_SOURCE -I/usr/include/libxml2 -I/usr/include\r\nCFLAGS = -Wall -Wmissing-prototypes -Wpointer-arith -Wdeclaration-after-statement -Werror=vla -Wendif-labels -Wmissing-format-attribute -Wformat-security -fno-strict-aliasing -fwrapv -fexcess-precision=standard -O2 -g -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -m64 -mtune=generic\r\nCFLAGS_SL = -fPIC\r\nLDFLAGS = -Wl,--as-needed -L/usr/lib64/llvm5.0/lib -L/usr/lib64 -Wl,--as-needed -Wl,-rpath,'/usr/pgsql-12/lib',--enable-new-dtags\r\nLDFLAGS_EX = \r\nLDFLAGS_SL = \r\nLIBS = -lpgcommon -lpgport -lpthread -lselinux -lxslt -lxml2 -lpam -lssl -lcrypto -lgssapi_krb5 -lz -lreadline -lrt -lcrypt -ldl -lm \r\nVERSION = PostgreSQL 12.2\r\n```\r\n\r\nThe error I'm seeing is this:\r\n\r\n```\r\nPython error: Segmentation fault\r\n\r\nCurrent thread 0x00007fa38e840740 (most recent call first):\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 1043 in create_module\r\n  File \"<frozen importlib._bootstrap>\", line 583 in module_from_spec\r\n  File \"<frozen importlib._bootstrap>\", line 670 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/psycopg2/__init__.py\", line 50 in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 728 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/src/flowcast-tools/src/flowcast_tools/testing/testhelper.py\", line 5 in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 728 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/src/flowcast-tools/src/flowcast_tools/testing/__init__.py\", line 3 in <module>\r\n  File \"<frozen importlib._bootstrap>\", line 219 in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap_external>\", line 728 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/tests/test_api.py\", line 3 in <module>\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/assertion/rewrite.py\", line 152 in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 677 in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 967 in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 983 in _find_and_load\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/py/_path/local.py\", line 701 in pyimport\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/python.py\", line 513 in _importtestmodule\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/python.py\", line 445 in _getobj\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/python.py\", line 263 in obj\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/python.py\", line 461 in _inject_setup_module_fixture\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/python.py\", line 448 in collect\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/runner.py\", line 264 in <lambda>\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/runner.py\", line 244 in from_call\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/runner.py\", line 264 in pytest_make_collect_report\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/callers.py\", line 187 in _multicall\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/manager.py\", line 87 in <lambda>\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/manager.py\", line 93 in _hookexec\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/hooks.py\", line 286 in __call__\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/runner.py\", line 382 in collect_one_node\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/main.py\", line 681 in genitems\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/main.py\", line 684 in genitems\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/main.py\", line 490 in _perform_collect\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/main.py\", line 452 in perform_collect\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/main.py\", line 257 in pytest_collection\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/callers.py\", line 187 in _multicall\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/manager.py\", line 87 in <lambda>\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/manager.py\", line 93 in _hookexec\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/hooks.py\", line 286 in __call__\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/main.py\", line 246 in _main\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/main.py\", line 191 in wrap_session\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/main.py\", line 240 in pytest_cmdline_main\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/callers.py\", line 187 in _multicall\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/manager.py\", line 87 in <lambda>\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/manager.py\", line 93 in _hookexec\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/pluggy/hooks.py\", line 286 in __call__\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/lib/python3.7/site-packages/_pytest/config/__init__.py\", line 125 in main\r\n  File \"/var/lib/jenkins/workspace/flowcast_till-backend_develop/.venv/bin/pytest\", line 10 in <module>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1070", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1070/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1070/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1070/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1070", "id": 591953359, "node_id": "MDU6SXNzdWU1OTE5NTMzNTk=", "number": 1070, "title": "Django Postgres memory leak", "user": {"login": "pinkynrg", "id": 1474127, "node_id": "MDQ6VXNlcjE0NzQxMjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1474127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pinkynrg", "html_url": "https://github.com/pinkynrg", "followers_url": "https://api.github.com/users/pinkynrg/followers", "following_url": "https://api.github.com/users/pinkynrg/following{/other_user}", "gists_url": "https://api.github.com/users/pinkynrg/gists{/gist_id}", "starred_url": "https://api.github.com/users/pinkynrg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pinkynrg/subscriptions", "organizations_url": "https://api.github.com/users/pinkynrg/orgs", "repos_url": "https://api.github.com/users/pinkynrg/repos", "events_url": "https://api.github.com/users/pinkynrg/events{/privacy}", "received_events_url": "https://api.github.com/users/pinkynrg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-01T14:19:06Z", "updated_at": "2020-04-14T15:44:52Z", "closed_at": "2020-04-01T14:48:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a custom Django command to start background job executers in a multi-threaded fashion which seems to give me memory leak issues. \r\n\r\nThe command can be started like so:\r\n```\r\n./manage.py start_job_executer --thread=1\r\n```\r\n\r\nEach thread has a while True loop that picks up jobs from a PostgreSQL table. \r\n\r\nIn order to pick up the job and change the status atomically I used transactions:\r\n\r\n```python\r\n# atomic transaction to temporary lock the db access and to\r\n# get the most recent job from db with column status = pending\r\nwith transaction.atomic():\r\n    job = Job.objects.select_for_update() \\\r\n        .filter(status=Job.STATUS['pending']) \\\r\n        .order_by('created_at').first()\r\n    if job:\r\n        job.status = Job.STATUS['executing']\r\n        job.save()\r\n```\r\n\r\nIl looks like the allocated memory by this Django custom command keeps growing. \r\n\r\nUsing tracemalloc I tried to find what is causing the memory leak by creating a background thread that checks the memory allocation:\r\n\r\n```python\r\ndef check_memory(self):\r\n        while True:\r\n            s1 = tracemalloc.take_snapshot()\r\n            sleep(10)\r\n            s2 = tracemalloc.take_snapshot()\r\n            for alog in s2.compare_to(s1, 'lineno')[:10]:\r\n                log.info(alog)\r\n```\r\n\r\nFinding out the following log:\r\n\r\n```bash\r\n01.04.20 13:50:06   operations.py:222: size=23.7 KiB (+23.7 KiB), count=66 (+66), average=367 B\r\n01.04.20 13:50:36   operations.py:222: size=127 KiB (+43.7 KiB), count=353 (+122), average=367 B\r\n01.04.20 13:51:04   operations.py:222: size=251 KiB (+66.7 KiB), count=699 (+186), average=367 B\r\n01.04.20 13:51:31   operations.py:222: size=379 KiB (+68.9 KiB), count=1056 (+192), average=367 B\r\n01.04.20 13:51:57   operations.py:222: size=495 KiB (+60.3 KiB), count=1380 (+168), average=367 B\r\n```\r\n\r\nLooks like /usr/local/lib/python3.5/dist-packages/django/db/backends/postgresql/operations.py:222 does not release memory\r\n\r\nThe leakage is slow for 1 thread but if I use 8 threads the memory leak is worse:\r\n\r\n```bash\r\n01.04.20 13:07:51   operations.py:222: size=68.3 KiB (+68.3 KiB), count=191 (+191), average=366 B\r\n01.04.20 13:08:56   operations.py:222: size=770 KiB (+140 KiB), count=2151 (+390), average=367 B\r\n01.04.20 13:10:07   operations.py:222: size=1476 KiB (+138 KiB), count=4122 (+386), average=367 B\r\n\r\n01.04.20 13:36:22   operations.py:222: size=17.3 MiB (+138 KiB), count=49506 (+385), average=367 B\r\n\r\n01.04.20 13:48:16   operations.py:222: size=24.5 MiB (+136 KiB), count=69993 (+379), average=367 B\r\n```\r\n\r\nThis is the code at line 222 in /usr/local/lib/python3.5/dist-packages/django/db/backends/postgresql/operations.py:222:\r\n\r\n```python\r\ndef last_executed_query(self, cursor, sql, params):\r\n        # http://initd.org/psycopg/docs/cursor.html#cursor.query\r\n        # The query attribute is a Psycopg extension to the DB API 2.0.\r\n        if cursor.query is not None:\r\n            return cursor.query.decode() # this is line 222!\r\n        return None\r\n```\r\n\r\nI have no clue how to attack this problem. Any ideas at all?\r\n\r\nI tried to post issue on GitHub but Django doesn't allow the public to write issues.\r\n\r\nI was thinking to maybe fork a new process for every job that needs to be executed, and once finished, the memory would be deallocated with the process itself dying. This would probably work but it seems a little overkill.\r\n\r\nThanks in advance", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1069", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1069/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1069/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1069/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1069", "id": 591939508, "node_id": "MDU6SXNzdWU1OTE5Mzk1MDg=", "number": 1069, "title": "Connect with SSL Certs as strings", "user": {"login": "rorynscott", "id": 4888120, "node_id": "MDQ6VXNlcjQ4ODgxMjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/4888120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rorynscott", "html_url": "https://github.com/rorynscott", "followers_url": "https://api.github.com/users/rorynscott/followers", "following_url": "https://api.github.com/users/rorynscott/following{/other_user}", "gists_url": "https://api.github.com/users/rorynscott/gists{/gist_id}", "starred_url": "https://api.github.com/users/rorynscott/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rorynscott/subscriptions", "organizations_url": "https://api.github.com/users/rorynscott/orgs", "repos_url": "https://api.github.com/users/rorynscott/repos", "events_url": "https://api.github.com/users/rorynscott/events{/privacy}", "received_events_url": "https://api.github.com/users/rorynscott/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-01T13:59:45Z", "updated_at": "2020-04-01T14:44:08Z", "closed_at": "2020-04-01T14:44:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nI am wondering if it's possible, and if so, how, to pass the client cert and private key as strings to the connection object? Our applications typically try to follow the 12-factor recommendations and any secrets or certs are piped in via the environment. I tried creating a file-like object from the strings and passing that in, but that didn't work either. Any helpful hints or tips on how we should approach this if we're not writing or reading certs from the filesystem?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1068", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1068/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1068/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1068/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1068", "id": 589935313, "node_id": "MDU6SXNzdWU1ODk5MzUzMTM=", "number": 1068, "title": "Clean Docker image: Centos, installing psycopg2 fails.", "user": {"login": "fallenreaper", "id": 315367, "node_id": "MDQ6VXNlcjMxNTM2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/315367?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fallenreaper", "html_url": "https://github.com/fallenreaper", "followers_url": "https://api.github.com/users/fallenreaper/followers", "following_url": "https://api.github.com/users/fallenreaper/following{/other_user}", "gists_url": "https://api.github.com/users/fallenreaper/gists{/gist_id}", "starred_url": "https://api.github.com/users/fallenreaper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fallenreaper/subscriptions", "organizations_url": "https://api.github.com/users/fallenreaper/orgs", "repos_url": "https://api.github.com/users/fallenreaper/repos", "events_url": "https://api.github.com/users/fallenreaper/events{/privacy}", "received_events_url": "https://api.github.com/users/fallenreaper/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-30T01:31:33Z", "updated_at": "2020-03-30T02:14:44Z", "closed_at": "2020-03-30T02:14:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "At the time of writing this is pulling Centos8\r\n```\r\nFROM centos:latest\r\nRUN yum update -y\r\nRUN yum install -y python3\r\nRUN pip3 install psycopg2\r\n```\r\n\r\ndocker build -t flaskexample:latest .\r\ndocker run -it flaskexample:latest\r\n\r\nThis will return:\r\n\r\n> Collecting psycopg2\r\n>   Downloading https://files.pythonhosted.org/packages/84/d7/6a93c99b5ba4d4d22daa3928b983cec66df4536ca50b22ce5dcac65e4e71/psycopg2-2.8.4.tar.gz (377kB)\r\n>     100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 378kB 1.3MB/s \r\n>     Complete output from command python setup.py egg_info:\r\n>     running egg_info\r\n>     creating pip-egg-info/psycopg2.egg-info\r\n>     writing pip-egg-info/psycopg2.egg-info/PKG-INFO\r\n>     writing dependency_links to pip-egg-info/psycopg2.egg-info/dependency_links.txt\r\n>     writing top-level names to pip-egg-info/psycopg2.egg-info/top_level.txt\r\n>     writing manifest file 'pip-egg-info/psycopg2.egg-info/SOURCES.txt'\r\n>     \r\n>     Error: pg_config executable not found.\r\n>     \r\n>     pg_config is required to build psycopg2 from source.  Please add the directory\r\n>     containing pg_config to the $PATH or specify the full executable path with the\r\n>     option:\r\n>     \r\n>         python setup.py build_ext --pg-config /path/to/pg_config build ...\r\n>     \r\n>     or with the pg_config option in 'setup.cfg'.\r\n>     \r\n>     If you prefer to avoid building psycopg2 from source, please install the PyPI\r\n>     'psycopg2-binary' package instead.\r\n>     \r\n>     For further information please check the 'doc/src/install.rst' file (also at\r\n>     <http://initd.org/psycopg/docs/install.html>).\r\n>     \r\n>     \r\n>     ----------------------------------------\r\n\r\nIm not sure what is going on here, but but this seems to have issues with running on Centos with Python3.\r\n\r\nIs this an issue with Centos8, or is there something else I am missing?  I was thinking that this this file would have been correctly installed.  I guess I need to see fi i can find pg_config or install it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1067", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1067/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1067/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1067/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1067", "id": 589826541, "node_id": "MDU6SXNzdWU1ODk4MjY1NDE=", "number": 1067, "title": "Receiving dictionary or json type when querying a rated tsvector column", "user": {"login": "hebelsan", "id": 17873127, "node_id": "MDQ6VXNlcjE3ODczMTI3", "avatar_url": "https://avatars1.githubusercontent.com/u/17873127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hebelsan", "html_url": "https://github.com/hebelsan", "followers_url": "https://api.github.com/users/hebelsan/followers", "following_url": "https://api.github.com/users/hebelsan/following{/other_user}", "gists_url": "https://api.github.com/users/hebelsan/gists{/gist_id}", "starred_url": "https://api.github.com/users/hebelsan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hebelsan/subscriptions", "organizations_url": "https://api.github.com/users/hebelsan/orgs", "repos_url": "https://api.github.com/users/hebelsan/repos", "events_url": "https://api.github.com/users/hebelsan/events{/privacy}", "received_events_url": "https://api.github.com/users/hebelsan/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 25579046, "node_id": "MDU6TGFiZWwyNTU3OTA0Ng==", "url": "https://api.github.com/repos/psycopg/psycopg2/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-29T16:13:13Z", "updated_at": "2020-04-01T10:09:54Z", "closed_at": "2020-04-01T10:09:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm currently working with the rated tsvector type in postgres.\r\nIf in python i query this type with e.g.:\r\nSELECT\r\n     rated_tsv\r\nFROM\r\n    docs\r\nWHERE\r\n    id = 1\r\ni receive the following string.\r\n\"'page':2A 'second':1A 'test':3A 'titl':4A 'virus':6A\"\r\n\r\nMy current solution is to have a type_cast_function which transforms this string to a dicitonary.\r\nBut this is not very convenient.\r\nIt would be nice if the returning object would be of type json or dictionary right away.\r\n\r\nbest regards,\r\nalex", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1066", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1066/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1066/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1066/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1066", "id": 589811892, "node_id": "MDU6SXNzdWU1ODk4MTE4OTI=", "number": 1066, "title": "Server Closed the connection unexpectedly", "user": {"login": "robdickens", "id": 21127314, "node_id": "MDQ6VXNlcjIxMTI3MzE0", "avatar_url": "https://avatars2.githubusercontent.com/u/21127314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robdickens", "html_url": "https://github.com/robdickens", "followers_url": "https://api.github.com/users/robdickens/followers", "following_url": "https://api.github.com/users/robdickens/following{/other_user}", "gists_url": "https://api.github.com/users/robdickens/gists{/gist_id}", "starred_url": "https://api.github.com/users/robdickens/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robdickens/subscriptions", "organizations_url": "https://api.github.com/users/robdickens/orgs", "repos_url": "https://api.github.com/users/robdickens/repos", "events_url": "https://api.github.com/users/robdickens/events{/privacy}", "received_events_url": "https://api.github.com/users/robdickens/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-03-29T15:03:36Z", "updated_at": "2020-03-30T07:19:19Z", "closed_at": "2020-03-29T16:19:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nAppreciate there have been a few issues raised in error on this, so I've gone through to make sure I'm not making any obvious mistakes, but it could still be me!\r\n\r\nI'm using the following code to raise a connection\r\n\r\n`conn_string = \"host={0} user={1} dbname={2} password={3} sslmode={4} port={5}\".format(host, user, dbname, password, sslmode, port)`\r\n`conn = psycopg2.connect(conn_string)`\r\n\r\nwhere sslmode is \"disable\" and my DB on Azure does not enforce SSL.\r\nEvery time I try to connect, I'm getting \"server closed the connection unexpectedly\".\r\nLooking at the server logs - is see the following:\r\n\r\n```\r\n2020-03-29 14:07:25 UTC-5e80ab9d.20624-LOG:  connection received: host=[hostname] port=8706 pid=132644\r\n2020-03-29 14:07:25 UTC-5e80ab9d.20624-LOG:  connection authorized: user=[username] database=[database] SSL enabled (protocol=TLSv1.2, cipher=[cipher], compression=off)\r\n```\r\n\r\nThere are a couple of things that stand out which I don't understand whether I've configured something wrong or it is an actual bug.\r\n\r\n- with sslmode=disable, the server log still appears to list ssl enabled\r\n- the port number is not what I'm expecting (5432 is what I passed into the connection)\r\n\r\nIs there something obvious I'm missing? Any help would be appreciated.\r\n\r\nVersions:\r\npsycopg=2.8.4\r\npython=3.7\r\nAzure Database for PostgreSQL server=9.6", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1065", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1065/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1065/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1065/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1065", "id": 589747779, "node_id": "MDU6SXNzdWU1ODk3NDc3Nzk=", "number": 1065, "title": "DLL load failed while importing aggregations", "user": {"login": "hangockhanh", "id": 62347321, "node_id": "MDQ6VXNlcjYyMzQ3MzIx", "avatar_url": "https://avatars1.githubusercontent.com/u/62347321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hangockhanh", "html_url": "https://github.com/hangockhanh", "followers_url": "https://api.github.com/users/hangockhanh/followers", "following_url": "https://api.github.com/users/hangockhanh/following{/other_user}", "gists_url": "https://api.github.com/users/hangockhanh/gists{/gist_id}", "starred_url": "https://api.github.com/users/hangockhanh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hangockhanh/subscriptions", "organizations_url": "https://api.github.com/users/hangockhanh/orgs", "repos_url": "https://api.github.com/users/hangockhanh/repos", "events_url": "https://api.github.com/users/hangockhanh/events{/privacy}", "received_events_url": "https://api.github.com/users/hangockhanh/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 25579045, "node_id": "MDU6TGFiZWwyNTU3OTA0NQ==", "url": "https://api.github.com/repos/psycopg/psycopg2/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-29T08:50:50Z", "updated_at": "2020-03-29T12:27:40Z", "closed_at": "2020-03-29T09:38:30Z", "author_association": "NONE", "active_lock_reason": "off-topic", "body": "Hello everyone, when I import module pandas then appear this mistake. I don't know how to fix :(\r\n![image](https://user-images.githubusercontent.com/62347321/77844958-0b503500-71d5-11ea-8ed0-c3126274d9dd.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1064", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1064/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1064/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1064/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1064", "id": 585767422, "node_id": "MDU6SXNzdWU1ODU3Njc0MjI=", "number": 1064, "title": "cursor problem", "user": {"login": "GooDeeJaY", "id": 26520665, "node_id": "MDQ6VXNlcjI2NTIwNjY1", "avatar_url": "https://avatars1.githubusercontent.com/u/26520665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GooDeeJaY", "html_url": "https://github.com/GooDeeJaY", "followers_url": "https://api.github.com/users/GooDeeJaY/followers", "following_url": "https://api.github.com/users/GooDeeJaY/following{/other_user}", "gists_url": "https://api.github.com/users/GooDeeJaY/gists{/gist_id}", "starred_url": "https://api.github.com/users/GooDeeJaY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GooDeeJaY/subscriptions", "organizations_url": "https://api.github.com/users/GooDeeJaY/orgs", "repos_url": "https://api.github.com/users/GooDeeJaY/repos", "events_url": "https://api.github.com/users/GooDeeJaY/events{/privacy}", "received_events_url": "https://api.github.com/users/GooDeeJaY/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-22T17:15:13Z", "updated_at": "2020-03-22T17:29:07Z", "closed_at": "2020-03-22T17:29:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Example code:\r\n```\r\nimport psycopg2\r\ndb = psycopg2.connect(\"data\")\r\n\r\nclass Test:\r\n    def __init__():\r\n        self.cur = db.cursor()\r\n    \r\n    def update():\r\n        self.cur.execute(\"some query\")\r\n        self.cur.execute(\"another query\")\r\n        db.commit()\r\n\r\ndef func():\r\n    t = Test()\r\n    t.update()\r\n\r\nfunc()\r\n```\r\nWill the cursor `cur` created inside `Test` class be closed automatically when `func()` finishes its execution?\r\nOr, I should `.close()` it manually?\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1063", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1063/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1063/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1063/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1063", "id": 584172801, "node_id": "MDU6SXNzdWU1ODQxNzI4MDE=", "number": 1063, "title": "got issue, running from init.py", "user": {"login": "fforius", "id": 60130637, "node_id": "MDQ6VXNlcjYwMTMwNjM3", "avatar_url": "https://avatars3.githubusercontent.com/u/60130637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fforius", "html_url": "https://github.com/fforius", "followers_url": "https://api.github.com/users/fforius/followers", "following_url": "https://api.github.com/users/fforius/following{/other_user}", "gists_url": "https://api.github.com/users/fforius/gists{/gist_id}", "starred_url": "https://api.github.com/users/fforius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fforius/subscriptions", "organizations_url": "https://api.github.com/users/fforius/orgs", "repos_url": "https://api.github.com/users/fforius/repos", "events_url": "https://api.github.com/users/fforius/events{/privacy}", "received_events_url": "https://api.github.com/users/fforius/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-19T05:30:17Z", "updated_at": "2020-03-19T06:15:06Z", "closed_at": "2020-03-19T06:15:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "   psycopg2                    2.6.1\r\n   psycopg2-binary             2.8.4\r\n\r\ntrying to run __init__.py\r\n\r\n    from sqlalchemy import create_engine\r\n    from sqlalchemy.ext.declarative import declarative_base\r\n    from sqlalchemy.orm import sessionmaker, scoped_session\r\n    from userbot import DB_URI\r\n \r\n    BASE = declarative_base()\r\n\r\n    def start() -> scoped_session:\r\n\r\n    engine = create_engine(DB_URI)\r\n    BASE.metadata.bind = engine\r\n    BASE.metadata.create_all(engine)\r\n    return scoped_session(sessionmaker(bind=engine, autoflush=False))\r\n   \r\n    SESSION = start()\r\n\r\nbut i got this\r\n\r\n    SESSION = start()\r\n    File \"/root/OpenUserBot/userbot/modules/sql_helper/__init__.py\", line 10, in start\r\n    engine = create_engine(DB_URI)\r\n    File \"/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/__init__.py\", line 479, in create_engine\r\n    return strategy.create(*args, **kwargs)\r\n    File \"/usr/local/lib/python3.8/dist-packages/sqlalchemy/engine/strategies.py\", line 87, in create\r\n    dbapi = dialect_cls.dbapi(**dbapi_args)\r\n    File \"/usr/local/lib/python3.8/dist-packages/sqlalchemy/dialects/postgresql/psycopg2.py\", line 737, in dbapi\r\n    import psycopg2\r\n    File \"/usr/lib/python3/dist-packages/psycopg2/__init__.py\", line 104\r\n    connection_factory=None, cursor_factory=None, async=False, **kwargs):\r\n                                                  ^\r\n    SyntaxError: invalid syntax\r\n\r\nthen when i try to update psycopg2\r\n\r\n\r\n    Using cached psycopg2-2.8.4.tar.gz (377 kB)\r\n    Building wheels for collected packages: psycopg2\r\n    Building wheel for psycopg2 (setup.py) ... done\r\n    Created wheel for psycopg2: filename=psycopg2-2.8.4-cp38-cp38-linux_x86_64.whl size=383839 \r\n    sha256=1d51773b9023b706731ae2f2d0fe60bc1bb93ee29e1da484c5dfc5585194ea1e\r\n    Stored in directory: \r\n    /root/.cache/pip/wheels/ac/07/3e/87adc95a2be1ee727bc54f487ce874bd6765ec9f206effb0df\r\n    Successfully built psycopg2\r\n    Installing collected packages: psycopg2\r\n    Attempting uninstall: psycopg2\r\n    Found existing installation: psycopg2 2.6.1\r\n\r\n\r\n    ERROR: Cannot uninstall 'psycopg2'. It is a distutils installed project and thus we cannot accurately determine which files belong to it which would lead to only a partial uninstall.\r\n\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1062", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1062/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1062/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1062/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1062", "id": 582923360, "node_id": "MDU6SXNzdWU1ODI5MjMzNjA=", "number": 1062, "title": "ImportError: DLL load failed while importing _psycopg: The specified module could not be found.", "user": {"login": "HTG-YT", "id": 39023054, "node_id": "MDQ6VXNlcjM5MDIzMDU0", "avatar_url": "https://avatars3.githubusercontent.com/u/39023054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HTG-YT", "html_url": "https://github.com/HTG-YT", "followers_url": "https://api.github.com/users/HTG-YT/followers", "following_url": "https://api.github.com/users/HTG-YT/following{/other_user}", "gists_url": "https://api.github.com/users/HTG-YT/gists{/gist_id}", "starred_url": "https://api.github.com/users/HTG-YT/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HTG-YT/subscriptions", "organizations_url": "https://api.github.com/users/HTG-YT/orgs", "repos_url": "https://api.github.com/users/HTG-YT/repos", "events_url": "https://api.github.com/users/HTG-YT/events{/privacy}", "received_events_url": "https://api.github.com/users/HTG-YT/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-03-17T10:50:01Z", "updated_at": "2020-08-11T10:59:13Z", "closed_at": "2020-03-17T18:46:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "**Operating System:** Windows 10 Home\r\n**IDE:** PyCharm Professional\r\n**Python version:** 3.8.2\r\n**pip version:** 19.0.3\r\n\r\nI installed `psycopg2` with the command `pip install psycopg2==2.8.4`.\r\n\r\nWhen I did `import psycopg2` inside my Python script, the error(in the title) occurred and following the error I have the problem right here:\r\n```python\r\nfrom psycopg2._psycopg import (                     # noqa\r\n    BINARY, NUMBER, STRING, DATETIME, ROWID,\r\n\r\n    Binary, Date, Time, Timestamp,\r\n    DateFromTicks, TimeFromTicks, TimestampFromTicks,\r\n\r\n    Error, Warning, DataError, DatabaseError, ProgrammingError, IntegrityError,\r\n    InterfaceError, InternalError, NotSupportedError, OperationalError,\r\n\r\n    _connect, apilevel, threadsafety, paramstyle,\r\n    __version__, __libpq_version__,\r\n)\r\n```\r\nSo what happened here?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1059", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1059/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1059/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1059/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1059", "id": 578975643, "node_id": "MDU6SXNzdWU1Nzg5NzU2NDM=", "number": 1059, "title": "Database binding hanging at _connect", "user": {"login": "slyduda", "id": 47706935, "node_id": "MDQ6VXNlcjQ3NzA2OTM1", "avatar_url": "https://avatars3.githubusercontent.com/u/47706935?v=4", "gravatar_id": "", "url": "https://api.github.com/users/slyduda", "html_url": "https://github.com/slyduda", "followers_url": "https://api.github.com/users/slyduda/followers", "following_url": "https://api.github.com/users/slyduda/following{/other_user}", "gists_url": "https://api.github.com/users/slyduda/gists{/gist_id}", "starred_url": "https://api.github.com/users/slyduda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/slyduda/subscriptions", "organizations_url": "https://api.github.com/users/slyduda/orgs", "repos_url": "https://api.github.com/users/slyduda/repos", "events_url": "https://api.github.com/users/slyduda/events{/privacy}", "received_events_url": "https://api.github.com/users/slyduda/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-11T02:55:27Z", "updated_at": "2020-03-11T09:10:05Z", "closed_at": "2020-03-11T09:10:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I am using a simple async web server and creating a connection to my database with sshtunnel. Unfortunately, my connection hangs on the following line of code within the init file despite the information being supplied correctly:\r\n\r\n```python\r\n#found at pycopg2.__init__.py on line 126\r\n\r\n    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)\r\n```\r\n\r\nI am unable to debug this because it seems that the _connect function stems from psycopg2._psycopg which is compiled. Please let me know if this is a common issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1056", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1056/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1056/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1056/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1056", "id": 576962751, "node_id": "MDU6SXNzdWU1NzY5NjI3NTE=", "number": 1056, "title": "No way to change error verbosity?", "user": {"login": "alicederyn", "id": 979369, "node_id": "MDQ6VXNlcjk3OTM2OQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/979369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alicederyn", "html_url": "https://github.com/alicederyn", "followers_url": "https://api.github.com/users/alicederyn/followers", "following_url": "https://api.github.com/users/alicederyn/following{/other_user}", "gists_url": "https://api.github.com/users/alicederyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/alicederyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alicederyn/subscriptions", "organizations_url": "https://api.github.com/users/alicederyn/orgs", "repos_url": "https://api.github.com/users/alicederyn/repos", "events_url": "https://api.github.com/users/alicederyn/events{/privacy}", "received_events_url": "https://api.github.com/users/alicederyn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2020-03-06T14:21:02Z", "updated_at": "2020-04-22T12:58:05Z", "closed_at": "2020-04-06T04:56:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I would like to change the error verbosity to TERSE so potentially sensitive data is not leaked via exceptions. This seems to be done by calling [PQsetErrorVerbosity](https://www.postgresql.org/docs/9.6/libpq-control.html#LIBPQ-PQSETERRORVERBOSITY) which I can't see a call to in this codebase \u2014 am I right that this means there's no way to do this without a code change to psycopg2?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1055", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1055/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1055/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1055/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1055", "id": 575140149, "node_id": "MDU6SXNzdWU1NzUxNDAxNDk=", "number": 1055, "title": "Build fails on AIX due to missing timeradd/timersub/timercmp functions", "user": {"login": "kadler", "id": 7004340, "node_id": "MDQ6VXNlcjcwMDQzNDA=", "avatar_url": "https://avatars1.githubusercontent.com/u/7004340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kadler", "html_url": "https://github.com/kadler", "followers_url": "https://api.github.com/users/kadler/followers", "following_url": "https://api.github.com/users/kadler/following{/other_user}", "gists_url": "https://api.github.com/users/kadler/gists{/gist_id}", "starred_url": "https://api.github.com/users/kadler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kadler/subscriptions", "organizations_url": "https://api.github.com/users/kadler/orgs", "repos_url": "https://api.github.com/users/kadler/repos", "events_url": "https://api.github.com/users/kadler/events{/privacy}", "received_events_url": "https://api.github.com/users/kadler/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-03-04T05:05:55Z", "updated_at": "2020-04-06T04:56:22Z", "closed_at": "2020-04-06T04:56:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "When attempting to build psycopg2 we get the following errors during the link step:\r\n\r\n```\r\nld: 0711-317 ERROR: Undefined symbol: .timeradd\r\nld: 0711-317 ERROR: Undefined symbol: .timersub\r\n```\r\n\r\nAIX does not supply these BSD functions. It seems that there are already definitions for them in [solaris_support.c](https://github.com/psycopg/psycopg2/blob/master/psycopg/solaris_support.c), but that only gets built on Solaris-derived systems. Likewise there are functions defined in [win32_support.c](https://github.com/psycopg/psycopg2/blob/master/psycopg/win32_support.c#L65). \r\n\r\nConsidering the code is the same for Solaris and AIX except for precompiler definitions, would it make sense to reuse solaris_support.{c.h} for AIX (maybe with a file rename) or would it be better to copy the code to new files aix_support.{c,h}?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1054", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1054/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1054/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1054/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1054", "id": 573405421, "node_id": "MDU6SXNzdWU1NzM0MDU0MjE=", "number": 1054, "title": " get the following error when trying to install psycopg2==2.8.4", "user": {"login": "abhijeet201998", "id": 30272683, "node_id": "MDQ6VXNlcjMwMjcyNjgz", "avatar_url": "https://avatars2.githubusercontent.com/u/30272683?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhijeet201998", "html_url": "https://github.com/abhijeet201998", "followers_url": "https://api.github.com/users/abhijeet201998/followers", "following_url": "https://api.github.com/users/abhijeet201998/following{/other_user}", "gists_url": "https://api.github.com/users/abhijeet201998/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhijeet201998/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhijeet201998/subscriptions", "organizations_url": "https://api.github.com/users/abhijeet201998/orgs", "repos_url": "https://api.github.com/users/abhijeet201998/repos", "events_url": "https://api.github.com/users/abhijeet201998/events{/privacy}", "received_events_url": "https://api.github.com/users/abhijeet201998/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-29T20:26:45Z", "updated_at": "2020-02-29T21:04:38Z", "closed_at": "2020-02-29T21:04:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Collecting psycopg2==2.8.4\r\n  Using cached psycopg2-2.8.4.tar.gz (377 kB)\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /Users/abhijeet/.pyenv/versions/3.7.3/bin/python3.7 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/vq/_rpvmgzx4517hkm98dq9c29c0000gn/T/pip-install-gbhh33k1/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/vq/_rpvmgzx4517hkm98dq9c29c0000gn/T/pip-install-gbhh33k1/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /private/var/folders/vq/_rpvmgzx4517hkm98dq9c29c0000gn/T/pip-install-gbhh33k1/psycopg2/pip-egg-info\r\n         cwd: /private/var/folders/vq/_rpvmgzx4517hkm98dq9c29c0000gn/T/pip-install-gbhh33k1/psycopg2/\r\n    Complete output (23 lines):\r\n    running egg_info\r\n    creating /private/var/folders/vq/_rpvmgzx4517hkm98dq9c29c0000gn/T/pip-install-gbhh33k1/psycopg2/pip-egg-info/psycopg2.egg-info\r\n    writing /private/var/folders/vq/_rpvmgzx4517hkm98dq9c29c0000gn/T/pip-install-gbhh33k1/psycopg2/pip-egg-info/psycopg2.egg-info/PKG-INFO\r\n    writing dependency_links to /private/var/folders/vq/_rpvmgzx4517hkm98dq9c29c0000gn/T/pip-install-gbhh33k1/psycopg2/pip-egg-info/psycopg2.egg-info/dependency_links.txt\r\n    writing top-level names to /private/var/folders/vq/_rpvmgzx4517hkm98dq9c29c0000gn/T/pip-install-gbhh33k1/psycopg2/pip-egg-info/psycopg2.egg-info/top_level.txt\r\n    writing manifest file '/private/var/folders/vq/_rpvmgzx4517hkm98dq9c29c0000gn/T/pip-install-gbhh33k1/psycopg2/pip-egg-info/psycopg2.egg-info/SOURCES.txt'\r\n    \r\n    Error: pg_config executable not found.\r\n    \r\n    pg_config is required to build psycopg2 from source.  Please add the directory\r\n    containing pg_config to the $PATH or specify the full executable path with the\r\n    option:\r\n    \r\n        python setup.py build_ext --pg-config /path/to/pg_config build ...\r\n    \r\n    or with the pg_config option in 'setup.cfg'.\r\n    \r\n    If you prefer to avoid building psycopg2 from source, please install the PyPI\r\n    'psycopg2-binary' package instead.\r\n    \r\n    For further information please check the 'doc/src/install.rst' file (also at\r\n    <http://initd.org/psycopg/docs/install.html>).\r\n    \r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1053", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1053/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1053/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1053/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1053", "id": 573280722, "node_id": "MDU6SXNzdWU1NzMyODA3MjI=", "number": 1053, "title": "Does this package follow semantic versioning?", "user": {"login": "alvassin", "id": 1497444, "node_id": "MDQ6VXNlcjE0OTc0NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1497444?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alvassin", "html_url": "https://github.com/alvassin", "followers_url": "https://api.github.com/users/alvassin/followers", "following_url": "https://api.github.com/users/alvassin/following{/other_user}", "gists_url": "https://api.github.com/users/alvassin/gists{/gist_id}", "starred_url": "https://api.github.com/users/alvassin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alvassin/subscriptions", "organizations_url": "https://api.github.com/users/alvassin/orgs", "repos_url": "https://api.github.com/users/alvassin/repos", "events_url": "https://api.github.com/users/alvassin/events{/privacy}", "received_events_url": "https://api.github.com/users/alvassin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-29T11:51:34Z", "updated_at": "2020-02-29T17:21:42Z", "closed_at": "2020-02-29T17:21:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does this package follow [semantic versioning](https://semver.org) ([PEP 440](https://www.python.org/dev/peps/pep-0440/#semantic-versioning))? \r\nIs it safe to use ~= requirement operator?\r\n```\r\npsycopg2-binary~=2.8.4\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1051", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1051/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1051/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1051/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1051", "id": 570110438, "node_id": "MDU6SXNzdWU1NzAxMTA0Mzg=", "number": 1051, "title": "Allow page_size to use scientific notation", "user": {"login": "amarvin", "id": 10762127, "node_id": "MDQ6VXNlcjEwNzYyMTI3", "avatar_url": "https://avatars2.githubusercontent.com/u/10762127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amarvin", "html_url": "https://github.com/amarvin", "followers_url": "https://api.github.com/users/amarvin/followers", "following_url": "https://api.github.com/users/amarvin/following{/other_user}", "gists_url": "https://api.github.com/users/amarvin/gists{/gist_id}", "starred_url": "https://api.github.com/users/amarvin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amarvin/subscriptions", "organizations_url": "https://api.github.com/users/amarvin/orgs", "repos_url": "https://api.github.com/users/amarvin/repos", "events_url": "https://api.github.com/users/amarvin/events{/privacy}", "received_events_url": "https://api.github.com/users/amarvin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-24T20:02:55Z", "updated_at": "2020-03-08T11:11:41Z", "closed_at": "2020-03-08T11:11:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "`psycopg2.extras._paginate()`  argument `page_size` must be an integer, so scientific notation cannot be used as they produce a float. This impacts `psycopg2.extras.execute_batch()` and `psycopg2.extras.execute_values()`.\r\n\r\n```python\r\nimport psycopg2\r\nfrom psycopg2.extras import execute_batch, execute_values\r\n\r\n#... connect with cursor \"cur\"\r\n\r\n# These work, as page_size is an integer\r\nexecute_values(cur,\r\n    \"insert into testfast (id, val) values %s\",\r\n    ((i, i * 10) for i in range(25)),\r\n    page_size=10)\r\nexecute_values(cur,\r\n    \"insert into testfast (id, val) values %s\",\r\n    ((i, i * 10) for i in range(25)),\r\n    page_size=10)\r\n\r\n# These fail, as page_size isn't an integer\r\nexecute_values(cur,\r\n    \"insert into testfast (id, val) values %s\",\r\n    ((i, i * 10) for i in range(25)),\r\n    page_size=1e1)\r\nexecute_values(cur,\r\n    \"insert into testfast (id, val) values %s\",\r\n    ((i, i * 10) for i in range(25)),\r\n    page_size=1e1)\r\n```\r\n\r\nWhen page_size is a large integer, it's more convenient to use scientific notation than write out the whole integer. Would be great if psycopg2 just converted the input to integer.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1050", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1050/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1050/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1050/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1050", "id": 569538703, "node_id": "MDU6SXNzdWU1Njk1Mzg3MDM=", "number": 1050, "title": "fail to pip install psycopg2", "user": {"login": "abuakram", "id": 9851450, "node_id": "MDQ6VXNlcjk4NTE0NTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/9851450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abuakram", "html_url": "https://github.com/abuakram", "followers_url": "https://api.github.com/users/abuakram/followers", "following_url": "https://api.github.com/users/abuakram/following{/other_user}", "gists_url": "https://api.github.com/users/abuakram/gists{/gist_id}", "starred_url": "https://api.github.com/users/abuakram/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abuakram/subscriptions", "organizations_url": "https://api.github.com/users/abuakram/orgs", "repos_url": "https://api.github.com/users/abuakram/repos", "events_url": "https://api.github.com/users/abuakram/events{/privacy}", "received_events_url": "https://api.github.com/users/abuakram/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-23T18:41:03Z", "updated_at": "2020-02-23T22:46:08Z", "closed_at": "2020-02-23T20:10:18Z", "author_association": "NONE", "active_lock_reason": "spam", "body": "ubuntu 19.10\r\nError: b'You need to install postgresql-server-dev-NN for building a server-side extension or libpq-dev for building a client-side application.\r\n\r\nI tried to install libpq-dev but I get following response:\r\nUnable to locate package libpg-dev\r\nI downloaded the libpg-dev binary file and installed it, but no success\r\n\r\nHow can I fix this?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1049", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1049/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1049/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1049/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1049", "id": 567795866, "node_id": "MDU6SXNzdWU1Njc3OTU4NjY=", "number": 1049, "title": "psycopg2 is slow to connect to postgresql12 server without gssencmode=disable", "user": {"login": "akrherz", "id": 210858, "node_id": "MDQ6VXNlcjIxMDg1OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/210858?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akrherz", "html_url": "https://github.com/akrherz", "followers_url": "https://api.github.com/users/akrherz/followers", "following_url": "https://api.github.com/users/akrherz/following{/other_user}", "gists_url": "https://api.github.com/users/akrherz/gists{/gist_id}", "starred_url": "https://api.github.com/users/akrherz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akrherz/subscriptions", "organizations_url": "https://api.github.com/users/akrherz/orgs", "repos_url": "https://api.github.com/users/akrherz/repos", "events_url": "https://api.github.com/users/akrherz/events{/privacy}", "received_events_url": "https://api.github.com/users/akrherz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-02-19T19:33:50Z", "updated_at": "2020-03-08T11:38:27Z", "closed_at": "2020-03-08T11:38:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've been banging my head trying to figure out why my python=3.8 psycopg2=2.8.4 install on linux64 is so slow to connect to a postgresql12 server.  For example, using `psql` for illustrative purposes...\r\n\r\n```\r\ntime for i in `seq 1 100`; do psql -h 192.168.1.245 mesosite -c \"select 1\" > /dev/null; done\r\nreal\t0m12.907s\r\nuser\t0m0.447s\r\nsys\t0m0.634s\r\n```\r\n\r\nAfter some thrashing about, I discovered the `gssencmode=disable` setting and wa-la:\r\n\r\n```\r\ntime for i in `seq 1 100`; do psql -h 192.168.1.245 \"dbname=mesosite gssencmode=disable\" -c \"select 1\" > /dev/null; done\r\nreal\t0m0.787s\r\nuser\t0m0.238s\r\nsys\t0m0.291s\r\n```\r\n\r\nOf course, the above is with psql and not psyscopg2, but the same performance difference holds true there too.\r\n\r\n```\r\n$ python -m timeit -n 100 -r 1 'import psycopg2; psycopg2.connect(\"dbname=mesosite host=192.168.1.245\").cursor().execute(\"SELECT 1\")'\r\n100 loops, best of 1: 111 msec per loop\r\n$ python -m timeit -n 100 -r 1 'import psycopg2; psycopg2.connect(\"dbname=mesosite host=192.168.1.245 gssencmode=disable\").cursor().execute(\"SELECT 1\")'\r\n100 loops, best of 1: 3.24 msec per loop\r\n```\r\n\r\nI figured I would put this issue here for others to perhaps find or perhaps devs here have more commentary on this situation.  Feel free to angrily close as well :)  Thanks for this excellent library!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1048", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1048/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1048/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1048/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1048", "id": 566936228, "node_id": "MDU6SXNzdWU1NjY5MzYyMjg=", "number": 1048, "title": "Can not insert valid Postgres Values from a pandas frame", "user": {"login": "crauterb", "id": 3244614, "node_id": "MDQ6VXNlcjMyNDQ2MTQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/3244614?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crauterb", "html_url": "https://github.com/crauterb", "followers_url": "https://api.github.com/users/crauterb/followers", "following_url": "https://api.github.com/users/crauterb/following{/other_user}", "gists_url": "https://api.github.com/users/crauterb/gists{/gist_id}", "starred_url": "https://api.github.com/users/crauterb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crauterb/subscriptions", "organizations_url": "https://api.github.com/users/crauterb/orgs", "repos_url": "https://api.github.com/users/crauterb/repos", "events_url": "https://api.github.com/users/crauterb/events{/privacy}", "received_events_url": "https://api.github.com/users/crauterb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-18T14:38:02Z", "updated_at": "2020-02-18T14:47:45Z", "closed_at": "2020-02-18T14:47:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Heyho.\r\n\r\nI am currenlty facing the problem that I can not insert valid values from a Pandas DataFrame into my Postgres using Psycopg2 and would love to get some feedback on the issue.\r\n\r\n**Scenario**\r\nI have created a Pandas DataFrame rows composed of multiple rows. For that purpose, I am using `copy_from` and `StringIO`, \r\n\r\n**Expected behaviour**\r\nI am inserting valid values, therefore it should work fine.\r\n\r\n**Actual behaviour**\r\nI do get the following error:\r\n```\r\npsycopg2.errors.InvalidTextRepresentation: invalid input syntax for type numeric: \"\"\r\nCONTEXT:  COPY processed, line 9877, column messwert: \"\"\r\n```\r\n**Additional Information**\r\n\r\n`pip list` yields: `psycopg2          2.8.4`\r\n\r\nThe according frame is created as a numeric type:\r\n```\r\ndf['messwert'] = df['messwert'].apply(pd.to_numeric)\r\n```\r\n\r\nHere is my snippet for writing the data to Postgres:\r\n```\r\ns_io = StringIO()\r\ns_io.write(df.to_csv(index=None, header=None, sep=\";\", encoding=\"utf-8, quoting=csv.QUOTE_NONE))\r\ns_io.seek(0)\r\nself.cursor.copy_from(file=s_io, table=f\"{self.schema}.{table}\", columns=df.columns, sep=\";\")\r\nself.dbconn.commit()\r\n```\r\nMy according table looks (simplified) like this\r\n```\r\nCREATE TABLE my_table (\r\n\tid bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY,\r\n\tmesswert numeric NULL,\r\n\tCONSTRAINT my_table_pkey PRIMARY KEY (id)\r\n);\r\n```\r\nusing PostgreSQL directly (e.g. `psql`), I can insert into the table using empty values or NULL, e.g. \r\n```\r\ns_io = StringIO()\r\ns_io.write(df.to_csv(index=None, header=None, sep=\";\", encoding=\"utf-8, quoting=csv.QUOTE_NONE, na_rep=\"NULL\"))\r\ns_io.seek(0)\r\nself.cursor.copy_from(file=s_io, table=f\"{self.schema}.{table}\", columns=df.columns, sep=\";\")\r\nself.dbconn.commit()\r\n```\r\nyields the same error ...\r\n\r\nThis seem weird to me, as I should be able to pass on values that PostgreSQL would allow me to write - or am I overseeing something? \r\nCould someone please point me into the right direction if so? :-)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1047", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1047/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1047/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1047/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1047", "id": 565839757, "node_id": "MDU6SXNzdWU1NjU4Mzk3NTc=", "number": 1047, "title": "psycopg2 is that support python 3.8?", "user": {"login": "AliYmn", "id": 18416653, "node_id": "MDQ6VXNlcjE4NDE2NjUz", "avatar_url": "https://avatars1.githubusercontent.com/u/18416653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AliYmn", "html_url": "https://github.com/AliYmn", "followers_url": "https://api.github.com/users/AliYmn/followers", "following_url": "https://api.github.com/users/AliYmn/following{/other_user}", "gists_url": "https://api.github.com/users/AliYmn/gists{/gist_id}", "starred_url": "https://api.github.com/users/AliYmn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AliYmn/subscriptions", "organizations_url": "https://api.github.com/users/AliYmn/orgs", "repos_url": "https://api.github.com/users/AliYmn/repos", "events_url": "https://api.github.com/users/AliYmn/events{/privacy}", "received_events_url": "https://api.github.com/users/AliYmn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-16T02:27:27Z", "updated_at": "2020-02-16T10:01:21Z", "closed_at": "2020-02-16T10:01:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, i when tried install psycopg2, i got some error.\r\n\r\n    pip3.8 install psycopg2\r\n\r\nOUTPUT:\r\n\r\n        ERROR: Command errored out with exit status 1:\r\n        command: /home/aliymn44/env/bin/python3.8 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-27jfqv73/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-27jfqv73/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-install-27jfqv73/psycopg2/pip-egg-info\r\n            cwd: /tmp/pip-install-27jfqv73/psycopg2/\r\n        Complete output (7 lines):\r\n        running egg_info\r\n        creating /tmp/pip-install-27jfqv73/psycopg2/pip-egg-info/psycopg2.egg-info\r\n        writing /tmp/pip-install-27jfqv73/psycopg2/pip-egg-info/psycopg2.egg-info/PKG-INFO\r\n        writing dependency_links to /tmp/pip-install-27jfqv73/psycopg2/pip-egg-info/psycopg2.egg-info/dependency_links.txt\r\n        writing top-level names to /tmp/pip-install-27jfqv73/psycopg2/pip-egg-info/psycopg2.egg-info/top_level.txt\r\n        writing manifest file '/tmp/pip-install-27jfqv73/psycopg2/pip-egg-info/psycopg2.egg-info/SOURCES.txt'\r\n        Error: b'You need to install postgresql-server-dev-NN for building a server-side extension or libpq-dev for building a client-side application.\\n'\r\n        ----------------------------------------\r\n    ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n\r\nSystem Informations;\r\n- Ubuntu", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1045", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1045/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1045/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1045/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1045", "id": 561731579, "node_id": "MDU6SXNzdWU1NjE3MzE1Nzk=", "number": 1045, "title": "error in installation", "user": {"login": "vishal7732", "id": 58137166, "node_id": "MDQ6VXNlcjU4MTM3MTY2", "avatar_url": "https://avatars2.githubusercontent.com/u/58137166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vishal7732", "html_url": "https://github.com/vishal7732", "followers_url": "https://api.github.com/users/vishal7732/followers", "following_url": "https://api.github.com/users/vishal7732/following{/other_user}", "gists_url": "https://api.github.com/users/vishal7732/gists{/gist_id}", "starred_url": "https://api.github.com/users/vishal7732/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vishal7732/subscriptions", "organizations_url": "https://api.github.com/users/vishal7732/orgs", "repos_url": "https://api.github.com/users/vishal7732/repos", "events_url": "https://api.github.com/users/vishal7732/events{/privacy}", "received_events_url": "https://api.github.com/users/vishal7732/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-07T16:09:51Z", "updated_at": "2020-02-07T17:56:43Z", "closed_at": "2020-02-07T17:56:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am a beginner and I am facing issue in psycopg2 installation in my pycharm (venv) on my windows.  How to solve it...\r\n\r\n**error**\r\n\r\n(venv) C:\\Users\\Vishal\\PycharmProjects\\website>pip install psycopg2\r\nCollecting psycopg2\r\n  Using cached https://files.pythonhosted.org/packages/84/d7/6a93c99b5ba4d4d22daa3928b983cec66df4536ca50b22ce5dcac65e4e71/psycopg2-2.8.4.tar.gz\r\n    Complete output from command python setup.py egg_info:\r\n    running egg_info\r\n    creating pip-egg-info\\psycopg2.egg-info\r\n    writing pip-egg-info\\psycopg2.egg-info\\PKG-INFO\r\n    writing dependency_links to pip-egg-info\\psycopg2.egg-info\\dependency_links.txt\r\n    writing top-level names to pip-egg-info\\psycopg2.egg-info\\top_level.txt\r\n    writing manifest file 'pip-egg-info\\psycopg2.egg-info\\SOURCES.txt'\r\n\r\n    Error: pg_config executable not found.\r\n\r\n    pg_config is required to build psycopg2 from source.  Please add the directory\r\n    containing pg_config to the $PATH or specify the full executable path with the\r\n    option:\r\n\r\n        python setup.py build_ext --pg-config /path/to/pg_config build ...\r\n\r\n    or with the pg_config option in 'setup.cfg'.\r\n\r\n    If you prefer to avoid building psycopg2 from source, please install the PyPI\r\n    'psycopg2-binary' package instead.\r\n\r\n    For further information please check the 'doc/src/install.rst' file (also at\r\n    <http://initd.org/psycopg/docs/install.html>).\r\n\r\n\r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in C:\\Users\\Vishal\\AppData\\Local\\Temp\\pip-install-yhws7zqc\\psycopg2\\\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1044", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1044/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1044/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1044/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1044", "id": 561376685, "node_id": "MDU6SXNzdWU1NjEzNzY2ODU=", "number": 1044, "title": "Possible documentation change: Connections not closed when exception is thrown inside of with context", "user": {"login": "chris-allnutt", "id": 565544, "node_id": "MDQ6VXNlcjU2NTU0NA==", "avatar_url": "https://avatars0.githubusercontent.com/u/565544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chris-allnutt", "html_url": "https://github.com/chris-allnutt", "followers_url": "https://api.github.com/users/chris-allnutt/followers", "following_url": "https://api.github.com/users/chris-allnutt/following{/other_user}", "gists_url": "https://api.github.com/users/chris-allnutt/gists{/gist_id}", "starred_url": "https://api.github.com/users/chris-allnutt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chris-allnutt/subscriptions", "organizations_url": "https://api.github.com/users/chris-allnutt/orgs", "repos_url": "https://api.github.com/users/chris-allnutt/repos", "events_url": "https://api.github.com/users/chris-allnutt/events{/privacy}", "received_events_url": "https://api.github.com/users/chris-allnutt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-07T02:05:34Z", "updated_at": "2020-02-07T17:47:31Z", "closed_at": "2020-02-07T16:28:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Python Version: 3.7\r\n\r\nCurrent Documentation:\r\nhttps://www.psycopg.org/docs/usage.html?highlight=gunpoint#with-statement  Later in the documentation it states connections aren't closed, but in my testing they appear to be, or at least they're released fairly quickly if there are no exceptions within the block.\r\n\r\nIf an exception is thrown inside a with context the connection is not closed, instead it times out eventually (about 10 seconds).\r\n\r\nExample:\r\n```\r\nwhile True:\r\n    try:\r\n        with psycopg2.connect(DSN) as conn:\r\n            with conn.cursor() as curs:\r\n                curs.execute(SQL)\r\n                raise SomeRandomException\r\n    except Exceptions as _ex:\r\n        pass\r\n\r\n    time.sleep(1)\r\n```\r\n\r\nWatching database connections count the connections will continue to increase till timing out.  If you add exception handling within the with cursor context the connections are immediately closed, or are closed fast enough that i they don't continue to increase the active connection count.\r\n\r\nExample:\r\n```\r\nwhile True:\r\n    with psycopg2.connect(DSN) as conn:\r\n        with conn.cursor() as curs:\r\n            try:\r\n                curs.execute(SQL)\r\n                raise SomeRandomException\r\n            except Exceptions as _ex:\r\n                pass\r\n    time.sleep(1)\r\n```\r\n\r\nIt would be less confusing to make the with conn work as expected like file descriptors and the like or drop the first example and just provide the second example which has connection management as per normal psycopg2 usage to reduce confusion.  I will be changing my usage to the following for all code where I'm currently using psycopg2.  It is still nicely pythonic to have the automatic cursor rollback commit but with for connections doesn't work as I would intuitively expect.\r\n\r\n```\r\nconn = psycopg2.connect(DSN)\r\ntry:\r\n    with conn:\r\n        with conn.cursor() as curs:\r\n            curs.execute(SQL1)\r\n\r\n    with conn:\r\n        with conn.cursor() as curs:\r\n            curs.execute(SQL2)\r\nexcept Exception as _ex:\r\n  logging.error(str(_ex))\r\nfinally:\r\n    conn.close()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1043", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1043/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1043/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1043/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1043", "id": 560483862, "node_id": "MDU6SXNzdWU1NjA0ODM4NjI=", "number": 1043, "title": "[psycopg2-binary] Bundling 3rd party dependencies is a security risk", "user": {"login": "spstarr", "id": 2081708, "node_id": "MDQ6VXNlcjIwODE3MDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/2081708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spstarr", "html_url": "https://github.com/spstarr", "followers_url": "https://api.github.com/users/spstarr/followers", "following_url": "https://api.github.com/users/spstarr/following{/other_user}", "gists_url": "https://api.github.com/users/spstarr/gists{/gist_id}", "starred_url": "https://api.github.com/users/spstarr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spstarr/subscriptions", "organizations_url": "https://api.github.com/users/spstarr/orgs", "repos_url": "https://api.github.com/users/spstarr/repos", "events_url": "https://api.github.com/users/spstarr/events{/privacy}", "received_events_url": "https://api.github.com/users/spstarr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-05T16:25:37Z", "updated_at": "2020-02-05T17:53:45Z", "closed_at": "2020-02-05T16:56:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be preferred if we did not bundle DSOs/shared libraries with the pip module altogether, due to the high risk of security vulnerabilities with any of the bundled libraries shipped with psycopg2-binary.\r\n\r\nI don't know if psycopg2 would need to be more modular to support different PostgreSQL versions (seems we ship 5.10, while 9.x, 10.x exist etc).\r\n\r\nI consider this a security risk.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1042", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1042/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1042/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1042/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1042", "id": 560482273, "node_id": "MDU6SXNzdWU1NjA0ODIyNzM=", "number": 1042, "title": "Reinstalling psycopg2-binary results in different shared libraried and broken?", "user": {"login": "spstarr", "id": 2081708, "node_id": "MDQ6VXNlcjIwODE3MDg=", "avatar_url": "https://avatars3.githubusercontent.com/u/2081708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spstarr", "html_url": "https://github.com/spstarr", "followers_url": "https://api.github.com/users/spstarr/followers", "following_url": "https://api.github.com/users/spstarr/following{/other_user}", "gists_url": "https://api.github.com/users/spstarr/gists{/gist_id}", "starred_url": "https://api.github.com/users/spstarr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spstarr/subscriptions", "organizations_url": "https://api.github.com/users/spstarr/orgs", "repos_url": "https://api.github.com/users/spstarr/repos", "events_url": "https://api.github.com/users/spstarr/events{/privacy}", "received_events_url": "https://api.github.com/users/spstarr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-05T16:23:04Z", "updated_at": "2020-02-05T18:37:12Z", "closed_at": "2020-02-05T18:37:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Inside a virtualenv with python 3.6.9 from CentOS 7 rh-python36 runtime:\r\n\r\n```\r\n -rwxr-xr-x.  1 root root 328744 Jan 27 22:00 libpq-389351b6.so.5.10\r\n-rwxr-xr-x.  1 root root 301968 Jan 27 22:00 libpq-389351b6.so.5.10.broken\r\n```\r\nI don't know how this happens but if you first install psycogp2-binary then reinstall the binary module with same version, the DSO (shared libraries) are fixed.\r\n\r\nThe first time you install the pip module the DSOs are corrupt/invalid, \r\n\r\nWorking with 2nd install:\r\n\r\n```\r\n psycopg2]# ldd _psycopg.cpython-36m-x86_64-linux-gnu.so \r\n        linux-vdso.so.1 =>  (0x00007ffef89a4000)\r\n        libpq-389351b6.so.5.10 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/libpq-389351b6.so.5.10 (0x00007f5c43a1b000)\r\n        libpthread.so.0 => /lib64/libpthread.so.0 (0x00007f5c437ff000)\r\n        libc.so.6 => /lib64/libc.so.6 (0x00007f5c43431000)\r\n        libssl-3309e9a3.so.1.0.2n => /opt/XXX//global/lib/python3.6/site-packages/psycopg2/./.libs/./libssl-3309e9a3.so.1.0.2n (0x00007f5c43196000)\r\n        libcrypto-1e9dee74.so.1.0.2n => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/./libcrypto-1e9dee74.so.1.0.2n (0x00007f5c42d16000)\r\n        libgssapi_krb5-174f8956.so.2.2 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/./libgssapi_krb5-174f8956.so.2.2 (0x00007f5c42adb000)\r\n        libldap_r-2-41a2533b.4.so.2.10.7 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/./libldap_r-2-41a2533b.4.so.2.10.7 (0x00007f5c42873000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x00007f5c43ea6000)\r\n        libkrb5-fb0d2caa.so.3.3 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/libkrb5-fb0d2caa.so.3.3 (0x00007f5c425bf000)\r\n        libcom_err-beb60336.so.2.1 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/libcom_err-beb60336.so.2.1 (0x00007f5c423bc000)\r\n        libk5crypto-622ef25b.so.3.1 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/libk5crypto-622ef25b.so.3.1 (0x00007f5c42193000)\r\n        libresolv.so.2 => /lib64/libresolv.so.2 (0x00007f5c41f7a000)\r\n        libdl.so.2 => /lib64/libdl.so.2 (0x00007f5c41d76000)\r\n        libz-a147dcb0.so.1.2.3 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/libz-a147dcb0.so.1.2.3 (0x00007f5c41b61000)\r\n        libkrb5support-d7ce89d4.so.0.1 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/libkrb5support-d7ce89d4.so.0.1 (0x00007f5c41956000)\r\n        libkeyutils-1-ff31573b.2.so => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/libkeyutils-1-ff31573b.2.so (0x00007f5c41753000)\r\n        liblber-2-d7edd0dc.4.so.2.10.7 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/././liblber-2-d7edd0dc.4.so.2.10.7 (0x00007f5c41544000)\r\n        libsasl2-e96a0dbf.so.2.0.22 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/././libsasl2-e96a0dbf.so.2.0.22 (0x00007f5c41329000)\r\n        libselinux-cf8f9094.so.1 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/libselinux-cf8f9094.so.1 (0x00007f5c4110d000)\r\n        libcrypt.so.1 => /lib64/libcrypt.so.1 (0x00007f5c40ed6000)\r\n        libsepol-b4f5b513.so.1 => /opt/XXX/global/lib/python3.6/site-packages/psycopg2/./.libs/libsepol-b4f5b513.so.1 (0x00007f5c40c8e000)\r\n        libfreebl3.so => /lib64/libfreebl3.so (0x00007f5c40a8b000)\r\n```\r\n\r\n```\r\npsycopg2.broken]# ldd _psycopg.cpython-36m-x86_64-linux-gnu.so \r\n./_psycopg.cpython-36m-x86_64-linux-gnu.so: error while loading shared libraries: libpq-389351b6.so.5.10: ELF load command address/offset not properly aligned\r\n```\r\n\r\nNow, I don't understand how libpq-389351b6.so.5.10 itself is differently sized in the first installation of the psycopg2-binary module.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1041", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1041/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1041/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1041/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1041", "id": 560251728, "node_id": "MDU6SXNzdWU1NjAyNTE3Mjg=", "number": 1041, "title": "Cannot figure out syntaxerror", "user": {"login": "tsoernes", "id": 6782404, "node_id": "MDQ6VXNlcjY3ODI0MDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/6782404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsoernes", "html_url": "https://github.com/tsoernes", "followers_url": "https://api.github.com/users/tsoernes/followers", "following_url": "https://api.github.com/users/tsoernes/following{/other_user}", "gists_url": "https://api.github.com/users/tsoernes/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsoernes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsoernes/subscriptions", "organizations_url": "https://api.github.com/users/tsoernes/orgs", "repos_url": "https://api.github.com/users/tsoernes/repos", "events_url": "https://api.github.com/users/tsoernes/events{/privacy}", "received_events_url": "https://api.github.com/users/tsoernes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-05T09:43:22Z", "updated_at": "2020-02-05T10:52:25Z", "closed_at": "2020-02-05T10:52:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nstatement = \"\"\"\r\nINSERT INTO images\r\n(id, width, height, order, imageable_type, imageable_id, created_at, updated_at, file_file_name, file_content_type, file_file_size, file_updated_at)\r\nVALUES\r\n(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s), (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)\r\n\"\"\"\r\n```\r\nYields me:\r\n```\r\nSyntaxError: syntax error at or near \"order\"\r\nLINE 3:         (id, width, height, order, imageable_type, imageable...\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1038", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1038/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1038/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1038/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1038", "id": 558878612, "node_id": "MDU6SXNzdWU1NTg4Nzg2MTI=", "number": 1038, "title": "How to create citext from executing command.", "user": {"login": "rjsnh1522", "id": 7428293, "node_id": "MDQ6VXNlcjc0MjgyOTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/7428293?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rjsnh1522", "html_url": "https://github.com/rjsnh1522", "followers_url": "https://api.github.com/users/rjsnh1522/followers", "following_url": "https://api.github.com/users/rjsnh1522/following{/other_user}", "gists_url": "https://api.github.com/users/rjsnh1522/gists{/gist_id}", "starred_url": "https://api.github.com/users/rjsnh1522/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rjsnh1522/subscriptions", "organizations_url": "https://api.github.com/users/rjsnh1522/orgs", "repos_url": "https://api.github.com/users/rjsnh1522/repos", "events_url": "https://api.github.com/users/rjsnh1522/events{/privacy}", "received_events_url": "https://api.github.com/users/rjsnh1522/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-03T06:46:29Z", "updated_at": "2020-02-03T10:28:33Z", "closed_at": "2020-02-03T10:28:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI am trying to create citext in db; but my command its not working. I cant go inside psql to create citext\r\nI am using the following code but its not working. basically i want to create citext for specific database.\r\nI am creating database from script and want to set citext also.\r\n\r\n ```\r\n citext_query = \"SELECT typarray FROM pg_type where typname = 'citext'\"\r\n\r\n            try:\r\n                cursor.execute(citext_query)\r\n                citext_array_oid = cursor.fetchone()\r\n                if citext_array_oid:\r\n                    psycopg2.extensions.register_type(\r\n                        psycopg2.extensions.new_array_type(\r\n                            (citext_array_oid[0],), 'CITEXT[]', psycopg2.STRING))\r\n            except Exception as e:\r\n                print(\"# citext is not available on the database.\")\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1037", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1037/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1037/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1037/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1037", "id": 557077559, "node_id": "MDU6SXNzdWU1NTcwNzc1NTk=", "number": 1037, "title": "ImportError: /usr/pgsql-11/lib/libpq.so.5: symbol X509_get_signature_nid, version libcrypto.so.10 not defined in file libcrypto.so.10 with link time reference", "user": {"login": "rupert97", "id": 60447029, "node_id": "MDQ6VXNlcjYwNDQ3MDI5", "avatar_url": "https://avatars1.githubusercontent.com/u/60447029?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rupert97", "html_url": "https://github.com/rupert97", "followers_url": "https://api.github.com/users/rupert97/followers", "following_url": "https://api.github.com/users/rupert97/following{/other_user}", "gists_url": "https://api.github.com/users/rupert97/gists{/gist_id}", "starred_url": "https://api.github.com/users/rupert97/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rupert97/subscriptions", "organizations_url": "https://api.github.com/users/rupert97/orgs", "repos_url": "https://api.github.com/users/rupert97/repos", "events_url": "https://api.github.com/users/rupert97/events{/privacy}", "received_events_url": "https://api.github.com/users/rupert97/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-29T19:47:07Z", "updated_at": "2020-01-29T21:19:44Z", "closed_at": "2020-01-29T21:19:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, Any idea how to solve this problem?\r\npython 2.7.5\r\nPostgreSQL 11\r\npsycopg2 2.8.4\r\n\r\nError message ImportError: /usr/pgsql-11/lib/libpq.so.5: symbol X509_get_signature_nid, version libcrypto.so.10 not defined in file libcrypto.so.10 with link time reference\r\n \r\nI tried to upgrade OpenSSL but doesn't work\r\n OpenSSL version OpenSSL 1.0.2u  20 Dec 2019\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1036", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1036/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1036/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1036/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1036", "id": 556812429, "node_id": "MDU6SXNzdWU1NTY4MTI0Mjk=", "number": 1036, "title": "UniqueViolation on parallel CREATE TABLE IF NOT EXISTS", "user": {"login": "mskoenz", "id": 1257706, "node_id": "MDQ6VXNlcjEyNTc3MDY=", "avatar_url": "https://avatars2.githubusercontent.com/u/1257706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mskoenz", "html_url": "https://github.com/mskoenz", "followers_url": "https://api.github.com/users/mskoenz/followers", "following_url": "https://api.github.com/users/mskoenz/following{/other_user}", "gists_url": "https://api.github.com/users/mskoenz/gists{/gist_id}", "starred_url": "https://api.github.com/users/mskoenz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mskoenz/subscriptions", "organizations_url": "https://api.github.com/users/mskoenz/orgs", "repos_url": "https://api.github.com/users/mskoenz/repos", "events_url": "https://api.github.com/users/mskoenz/events{/privacy}", "received_events_url": "https://api.github.com/users/mskoenz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-01-29T11:51:04Z", "updated_at": "2020-01-30T09:31:33Z", "closed_at": "2020-01-29T12:55:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nFirst of, thx for the great module!!\r\n\r\nI'm not sure if this is a bug or my lack of understanding, I'm not a postgres expert, but have extensive experience with sqlite.\r\n\r\n\r\n\r\n### Task\r\nI hammer a database in parallel with multiple `CREATE TABLE IF NOT EXISTS` statements. \r\n\r\npostgres is running and has a database demodb.\r\n```bash\r\nmkdir demopg && initdb -D demopg && postgres -D demopg\r\n(second terminal): psql postgres -c 'CREATE DATABASE \"demodb\";'\r\n```\r\nThen I run:\r\n```python\r\ndef module_exe(statement):\r\n    conn = psycopg2.connect(database=\"demodb\")\r\n    # various isolation_level tried\r\n    cur = conn.cursor()\r\n    cur.execute(statement)\r\n    conn.commit()\r\n    cur.close()\r\n    conn.close()\r\n\r\nmk_table_cmd = \"CREATE TABLE IF NOT EXISTS mytab (nr INT);\"\r\nrm_table_cmd = \"DROP TABLE IF EXISTS mytab;\"\r\n\r\n# serial is fine\r\nmodule_exe(mk_table_cmd)\r\nmodule_exe(mk_table_cmd)\r\n\r\n# I just remove the table again, you can also run a fresh database, same issue.\r\nmodule_exe(rm_table_cmd)\r\n\r\n# parallel is not\r\nfrom multiprocessing import Pool\r\nwith Pool(5) as pool:\r\n    pool.map(module_exe, [mk_table_cmd]*5)\r\n```\r\n### Expected Behavior\r\nI would assume due to server-side locking, that one client creates the table and the others are silent due to the `IF NOT EXISTS` part...\r\n\r\n### Observed Behavior\r\n...but I get a UniqueViolation. I tried various isolation_level.\r\n<details><summary>Click for full error</summary>\r\n<p>\r\n\r\n```\r\nmultiprocessing.pool.RemoteTraceback:\r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/Users/mskoenz/.pyenv/versions/3.7.6/lib/python3.7/multiprocessing/pool.py\", line 121, in worker\r\n    result = (True, func(*args, **kwds))\r\n\r\n  File \"/Users/mskoenz/.pyenv/versions/3.7.6/lib/python3.7/multiprocessing/pool.py\", line 44, in mapstar\r\n    return list(map(*args))\r\n  File \"./demo_fail.py\", line 12, in module_exe\r\n    cur.execute(statement)\r\npsycopg2.errors.UniqueViolation: duplicate key value violates unique constraint \"pg_type_typname_nsp_index\"\r\nDETAIL:  Key (typname, typnamespace)=(mytab, 2200) already exists.\r\n\r\n\"\"\"\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"./demo_fail.py\", line 29, in <module>\r\n    pool.map(module_exe, [mk_table]*5)\r\n  File \"/Users/mskoenz/.pyenv/versions/3.7.6/lib/python3.7/multiprocessing/pool.py\", line 268, in map\r\n    return self._map_async(func, iterable, mapstar, chunksize).get()\r\n  File \"/Users/mskoenz/.pyenv/versions/3.7.6/lib/python3.7/multiprocessing/pool.py\", line 657, in get\r\n    raise self._value\r\npsycopg2.errors.UniqueViolation: duplicate key value violates unique constraint \"pg_type_typname_nsp_index\"\r\nDETAIL:  Key (typname, typnamespace)=(mytab, 2200) already exists.\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n### Same \"behavior\" with `psql`\r\n\r\nIn order to figure out, whether this is a `psycopg`issue, I tried directly with the cli-interface `psql` with identical results. This leads me to belief, that I didnt understand something fully, I still post this here in case other encounter this as well.\r\n\r\n```python\r\n...\r\n# but it also is happens with  psql\r\nimport subprocess\r\ndef psql_exe(statement):\r\n    subprocess.run([\"psql\", \"demodb\", \"-c\", statement], check=True)\r\n\r\npsql_exe(rm_table_cmd)  # remove table\r\n# serial is fine\r\npsql_exe(mk_table_cmd)\r\npsql_exe(mk_table_cmd)\r\n\r\npsql_exe(rm_table_cmd) # remove table, there is no error if it alredy exists\r\n# parallel is not\r\nwith Pool(5) as pool:\r\n    pool.map(psql_exe, [mk_table_cmd]*5)\r\n```\r\n<details><summary>Click for full output and error</summary>\r\n<p>\r\n\r\n```\r\nDROP TABLE\r\nCREATE TABLE\r\nNOTICE:  relation \"mytab\" already exists, skipping\r\nCREATE TABLE\r\nDROP TABLE\r\nCREATE TABLE\r\n\r\nERROR:  duplicate key value violates unique constraint \"pg_type_typname_nsp_index\"\r\nDETAIL:  Key (typname, typnamespace)=(mytab, 2200) already exists.\r\nERROR:  duplicate key value violates unique constraint \"pg_type_typname_nsp_index\"\r\nDETAIL:  Key (typname, typnamespace)=(mytab, 2200) already exists.\r\nERROR:  duplicate key value violates unique constraint \"pg_type_typname_nsp_index\"\r\nDETAIL:  Key (typname, typnamespace)=(mytab, 2200) already exists.\r\nERROR:  duplicate key value violates unique constraint \"pg_type_typname_nsp_index\"\r\nDETAIL:  Key (typname, typnamespace)=(mytab, 2200) already exists.\r\nmultiprocessing.pool.RemoteTraceback:\r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"/Users/mskoenz/.pyenv/versions/3.7.6/lib/python3.7/multiprocessing/pool.py\", line 121, in worker\r\n    result = (True, func(*args, **kwds))\r\n  File \"/Users/mskoenz/.pyenv/versions/3.7.6/lib/python3.7/multiprocessing/pool.py\", line 44, in mapstar\r\n    return list(map(*args))\r\n  File \"./demo_fail.py\", line 39, in psql_exe\r\n    subprocess.run([\"psql\", \"demodb\", \"-c\", statement], check=True)\r\n  File \"/Users/mskoenz/.pyenv/versions/3.7.6/lib/python3.7/subprocess.py\", line 512, in run\r\n    output=stdout, stderr=stderr)\r\nsubprocess.CalledProcessError: Command '['psql', 'demodb', '-c', 'CREATE TABLE IF NOT EXISTS mytab (nr INT);']' returned non-zero exit status 1.\r\n\"\"\"\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"./demo_fail.py\", line 49, in <module>\r\n    pool.map(psql_exe, [mk_table_cmd]*5)\r\n  File \"/Users/mskoenz/.pyenv/versions/3.7.6/lib/python3.7/multiprocessing/pool.py\", line 268, in map\r\n    return self._map_async(func, iterable, mapstar, chunksize).get()\r\n  File \"/Users/mskoenz/.pyenv/versions/3.7.6/lib/python3.7/multiprocessing/pool.py\", line 657, in get\r\n    raise self._value\r\nsubprocess.CalledProcessError: Command '['psql', 'demodb', '-c', 'CREATE TABLE IF NOT EXISTS mytab (nr INT);']' returned non-zero exit status 1.\r\n```\r\n\r\n</p>\r\n</details>\r\n\r\n\r\n### My setup\r\nOSX 10.15.2\r\nPython 3.7.6\r\npsycopg2==2.8.4\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1035", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1035/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1035/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1035/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1035", "id": 556094052, "node_id": "MDU6SXNzdWU1NTYwOTQwNTI=", "number": 1035, "title": "ImportError: /usr/local/lib/python2.7/site-packages/psycopg2/_psycopg.so: Undefined symbol \"PQencryptPasswordConn\"", "user": {"login": "poojatr", "id": 26548908, "node_id": "MDQ6VXNlcjI2NTQ4OTA4", "avatar_url": "https://avatars3.githubusercontent.com/u/26548908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/poojatr", "html_url": "https://github.com/poojatr", "followers_url": "https://api.github.com/users/poojatr/followers", "following_url": "https://api.github.com/users/poojatr/following{/other_user}", "gists_url": "https://api.github.com/users/poojatr/gists{/gist_id}", "starred_url": "https://api.github.com/users/poojatr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/poojatr/subscriptions", "organizations_url": "https://api.github.com/users/poojatr/orgs", "repos_url": "https://api.github.com/users/poojatr/repos", "events_url": "https://api.github.com/users/poojatr/events{/privacy}", "received_events_url": "https://api.github.com/users/poojatr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-28T09:50:09Z", "updated_at": "2020-01-29T21:24:57Z", "closed_at": "2020-01-29T21:24:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nAny way to solve this problem with\r\npython - 2.7\r\npostgres- 9.6.5\r\nand\r\npsycopg2 - 2.8.4\r\n\r\nError message is : ImportError: /usr/local/lib/python2.7/site-packages/psycopg2/_psycopg.so: Undefined symbol \"PQencryptPasswordConn\"\r\n\r\nIs there any way to use this without upgrading postgres, since I have a major dependancy of postgres with 9.6.5", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1034", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1034/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1034/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1034/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1034", "id": 555447788, "node_id": "MDU6SXNzdWU1NTU0NDc3ODg=", "number": 1034, "title": "Restore compatibility of Column with tuple-like behaviour", "user": {"login": "pakal", "id": 330629, "node_id": "MDQ6VXNlcjMzMDYyOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/330629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pakal", "html_url": "https://github.com/pakal", "followers_url": "https://api.github.com/users/pakal/followers", "following_url": "https://api.github.com/users/pakal/following{/other_user}", "gists_url": "https://api.github.com/users/pakal/gists{/gist_id}", "starred_url": "https://api.github.com/users/pakal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pakal/subscriptions", "organizations_url": "https://api.github.com/users/pakal/orgs", "repos_url": "https://api.github.com/users/pakal/repos", "events_url": "https://api.github.com/users/pakal/events{/privacy}", "received_events_url": "https://api.github.com/users/pakal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-27T09:21:23Z", "updated_at": "2020-03-12T11:24:11Z", "closed_at": "2020-03-12T11:18:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Utilities like Django's \"get_table_description(self, cursor, table_name)\" seem to still rely on the (named)tuple-like behaviour of Columns, and they broke with v2.8 when columns became custom class instances.\r\n\r\nEg. a line like \r\n\r\n`return [FieldInfo(*line[0:6], *field_map[line.name]) for line in cursor.description]`\r\n\r\nraises \r\n\r\n`TypeError: sequence index must be integer, not 'slice'`\r\n\r\nWould it be feasible to enhance Column so that it still supports slicing ?\r\n\r\n(I assume the behavioral change was not wanted since it doesn't appear in https://www.psycopg.org/docs/news.html#what-s-new-in-psycopg-2-8)\r\n\r\nPsycopg2: version 2.8.4", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1033", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1033/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1033/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1033/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1033", "id": 555076301, "node_id": "MDU6SXNzdWU1NTUwNzYzMDE=", "number": 1033, "title": "Python3.7: DLL load failed on nanoserver", "user": {"login": "tgckpg", "id": 5273654, "node_id": "MDQ6VXNlcjUyNzM2NTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/5273654?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgckpg", "html_url": "https://github.com/tgckpg", "followers_url": "https://api.github.com/users/tgckpg/followers", "following_url": "https://api.github.com/users/tgckpg/following{/other_user}", "gists_url": "https://api.github.com/users/tgckpg/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgckpg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgckpg/subscriptions", "organizations_url": "https://api.github.com/users/tgckpg/orgs", "repos_url": "https://api.github.com/users/tgckpg/repos", "events_url": "https://api.github.com/users/tgckpg/events{/privacy}", "received_events_url": "https://api.github.com/users/tgckpg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-25T11:50:41Z", "updated_at": "2020-01-25T17:06:03Z", "closed_at": "2020-01-25T16:26:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Running into this issue when trying to make a custom docker image.\r\n( using the `psycopg2-binary` package )\r\n```\r\nMicrosoft Windows [Version 10.0.18362.535]\r\n(c) 2019 Microsoft Corporation. All rights reserved.\r\n\r\nC:\\>set path\r\nPath=C:\\PostgreSQL\\bin;C:\\Windows\\system32;C:\\Windows;;C:\\Program Files\\PowerShell;C:\\Python;C:\\Python\\Scripts;\r\nPATHEXT=.COM;.EXE;.BAT;.CMD\r\n\r\nC:\\>python\r\nPython 3.7.6 (tags/v3.7.6:43364a7ae0, Dec 19 2019, 00:42:30) [MSC v.1916 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import psycopg2\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Python\\lib\\site-packages\\psycopg2\\__init__.py\", line 50, in <module>\r\n    from psycopg2._psycopg import (                     # noqa\r\nImportError: DLL load failed: The specified module could not be found.\r\n>>> import ctypes\r\n>>> ctypes.WinDLL('libpq')\r\n<WinDLL 'libpq', handle 180000000 at 0x1a0a1fca4c8>\r\n>>>\r\n```\r\n\r\nNote that the `libpq` seems to be there. I can run `psql` just fine. After some googling I also tried to distribute the vcredist\r\n```\r\nC:\\Windows\\System32>dir msvc*.dll\r\n Volume in drive C has no label.\r\n Volume Serial Number is 32B2-31F3\r\n\r\n Directory of C:\\Windows\\System32\r\n\r\n11/28/2019  06:47 PM           560,376 msvcp110_win.dll\r\n11/28/2019  06:47 PM           660,032 msvcp120.dll\r\n01/25/2020  07:22 PM           618,264 msvcp140.dll\r\n01/25/2020  07:25 PM           611,840 msvcp60.dll\r\n11/28/2019  06:47 PM           639,632 msvcp_win.dll\r\n01/25/2020  07:26 PM           829,264 msvcr100.dll\r\n11/28/2019  06:47 PM           946,712 msvcr120.dll\r\n11/28/2019  06:47 PM           637,864 msvcrt.dll\r\n               8 File(s)      5,503,984 bytes\r\n               0 Dir(s)  21,276,901,376 bytes free\r\n\r\n```\r\n\r\nBut still got the same error. What am I missing?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1031", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1031/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1031/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1031/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1031", "id": 554663676, "node_id": "MDU6SXNzdWU1NTQ2NjM2NzY=", "number": 1031, "title": "pip install psycopg2 Broken??", "user": {"login": "michealjroberts", "id": 23339706, "node_id": "MDQ6VXNlcjIzMzM5NzA2", "avatar_url": "https://avatars1.githubusercontent.com/u/23339706?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michealjroberts", "html_url": "https://github.com/michealjroberts", "followers_url": "https://api.github.com/users/michealjroberts/followers", "following_url": "https://api.github.com/users/michealjroberts/following{/other_user}", "gists_url": "https://api.github.com/users/michealjroberts/gists{/gist_id}", "starred_url": "https://api.github.com/users/michealjroberts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michealjroberts/subscriptions", "organizations_url": "https://api.github.com/users/michealjroberts/orgs", "repos_url": "https://api.github.com/users/michealjroberts/repos", "events_url": "https://api.github.com/users/michealjroberts/events{/privacy}", "received_events_url": "https://api.github.com/users/michealjroberts/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-24T10:44:25Z", "updated_at": "2020-02-23T19:23:47Z", "closed_at": "2020-01-24T10:49:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running `pip install psycopg2` from terminal, I receive a build error.\r\n\r\nAll I can say is this:\r\n\r\n```\r\nCollecting psycopg2\r\n  Using cached psycopg2-2.8.4.tar.gz (377 kB)\r\nInstalling collected packages: psycopg2\r\n    Running setup.py install for psycopg2 ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/6z/6jb7yxhs6db3t8xzmhw5gdq40000gn/T/pip-install-i2d9oa04/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/6z/6jb7yxhs6db3t8xzmhw5gdq40000gn/T/pip-install-i2d9oa04/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /private/var/folders/6z/6jb7yxhs6db3t8xzmhw5gdq40000gn/T/pip-record-5h3jlnfb/install-record.txt --single-version-externally-managed --compile --install-headers /Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include/site/python3.7/psycopg2\r\n         cwd: /private/var/folders/6z/6jb7yxhs6db3t8xzmhw5gdq40000gn/T/pip-install-i2d9oa04/psycopg2/\r\n    Complete output (144 lines):\r\n    running install\r\n    running build\r\n    running build_py\r\n    creating build\r\n    creating build/lib.macosx-10.9-x86_64-3.7\r\n    creating build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/_json.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/extras.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/compat.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/errorcodes.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/tz.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/_range.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/_ipaddress.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/_lru_cache.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/__init__.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/extensions.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/errors.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/sql.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    copying lib/pool.py -> build/lib.macosx-10.9-x86_64-3.7/psycopg2\r\n    running build_ext\r\n    building 'psycopg2._psycopg' extension\r\n    creating build/temp.macosx-10.9-x86_64-3.7\r\n    creating build/temp.macosx-10.9-x86_64-3.7/psycopg\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/psycopgmodule.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/psycopgmodule.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/green.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/green.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/pqpath.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/pqpath.o\r\n    psycopg/pqpath.c:135:17: warning: implicit conversion from enumeration type 'ConnStatusType' to different enumeration type 'ExecStatusType' [-Wenum-conversion]\r\n                    PQstatus(conn->pgconn) : PQresultStatus(*pgres)));\r\n                    ^~~~~~~~~~~~~~~~~~~~~~\r\n    psycopg/pqpath.c:1714:11: warning: code will never be executed [-Wunreachable-code]\r\n        ret = 1;\r\n              ^\r\n    psycopg/pqpath.c:1819:17: warning: implicit conversion from enumeration type 'ConnStatusType' to different enumeration type 'ExecStatusType' [-Wenum-conversion]\r\n                    PQstatus(curs->conn->pgconn) : PQresultStatus(curs->pgres)));\r\n                    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n    3 warnings generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/utils.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/utils.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/bytes_format.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/bytes_format.o\r\n    In file included from psycopg/bytes_format.c:81:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/libpq_support.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/libpq_support.o\r\n    In file included from psycopg/libpq_support.c:29:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/win32_support.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/win32_support.o\r\n    In file included from psycopg/win32_support.c:27:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/solaris_support.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/solaris_support.o\r\n    In file included from psycopg/solaris_support.c:28:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/connection_int.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/connection_int.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/connection_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/connection_type.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/cursor_int.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/cursor_int.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/cursor_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/cursor_type.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/column_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/column_type.o\r\n    In file included from psycopg/column_type.c:27:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/replication_connection_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/replication_connection_type.o\r\n    In file included from psycopg/replication_connection_type.c:27:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/replication_cursor_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/replication_cursor_type.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/replication_message_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/replication_message_type.o\r\n    In file included from psycopg/replication_message_type.c:27:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/diagnostics_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/diagnostics_type.o\r\n    In file included from psycopg/diagnostics_type.c:27:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/error_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/error_type.o\r\n    In file included from psycopg/error_type.c:27:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/conninfo_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/conninfo_type.o\r\n    In file included from psycopg/conninfo_type.c:27:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/lobject_int.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/lobject_int.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/lobject_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/lobject_type.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/notify_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/notify_type.o\r\n    In file included from psycopg/notify_type.c:27:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/xid_type.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/xid_type.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/adapter_asis.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_asis.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/adapter_binary.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_binary.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/adapter_datetime.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_datetime.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/adapter_list.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_list.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/adapter_pboolean.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pboolean.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/adapter_pdecimal.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pdecimal.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/adapter_pint.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pint.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/adapter_pfloat.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pfloat.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/adapter_qstring.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_qstring.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/microprotocols.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/microprotocols.o\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/microprotocols_proto.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/microprotocols_proto.o\r\n    In file included from psycopg/microprotocols_proto.c:27:\r\n    In file included from ./psycopg/psycopg.h:37:\r\n    ./psycopg/config.h:81:13: warning: unused function 'Dprintf' [-Wunused-function]\r\n    static void Dprintf(const char *fmt, ...) {}\r\n                ^\r\n    1 warning generated.\r\n    gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.4 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110005 -DHAVE_LO64=1 -I/Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.5_1/include -I/usr/local/Cellar/postgresql/11.5_1/include/server -c psycopg/typecast.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/typecast.o\r\n    gcc -bundle -undefined dynamic_lookup -arch x86_64 -g build/temp.macosx-10.9-x86_64-3.7/psycopg/psycopgmodule.o build/temp.macosx-10.9-x86_64-3.7/psycopg/green.o build/temp.macosx-10.9-x86_64-3.7/psycopg/pqpath.o build/temp.macosx-10.9-x86_64-3.7/psycopg/utils.o build/temp.macosx-10.9-x86_64-3.7/psycopg/bytes_format.o build/temp.macosx-10.9-x86_64-3.7/psycopg/libpq_support.o build/temp.macosx-10.9-x86_64-3.7/psycopg/win32_support.o build/temp.macosx-10.9-x86_64-3.7/psycopg/solaris_support.o build/temp.macosx-10.9-x86_64-3.7/psycopg/connection_int.o build/temp.macosx-10.9-x86_64-3.7/psycopg/connection_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/cursor_int.o build/temp.macosx-10.9-x86_64-3.7/psycopg/cursor_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/column_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/replication_connection_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/replication_cursor_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/replication_message_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/diagnostics_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/error_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/conninfo_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/lobject_int.o build/temp.macosx-10.9-x86_64-3.7/psycopg/lobject_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/notify_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/xid_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_asis.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_binary.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_datetime.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_list.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pboolean.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pdecimal.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pint.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pfloat.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_qstring.o build/temp.macosx-10.9-x86_64-3.7/psycopg/microprotocols.o build/temp.macosx-10.9-x86_64-3.7/psycopg/microprotocols_proto.o build/temp.macosx-10.9-x86_64-3.7/psycopg/typecast.o -L/usr/local/lib -lpq -lssl -lcrypto -o build/lib.macosx-10.9-x86_64-3.7/psycopg2/_psycopg.cpython-37m-darwin.so\r\n    ld: library not found for -lssl\r\n    clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n    error: command 'gcc' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/bin/python3 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/6z/6jb7yxhs6db3t8xzmhw5gdq40000gn/T/pip-install-i2d9oa04/psycopg2/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/6z/6jb7yxhs6db3t8xzmhw5gdq40000gn/T/pip-install-i2d9oa04/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /private/var/folders/6z/6jb7yxhs6db3t8xzmhw5gdq40000gn/T/pip-record-5h3jlnfb/install-record.txt --single-version-externally-managed --compile --install-headers /Users/michaelroberts/Developer/wave/Wave/WaveAPI/django/env/include/site/python3.7/psycopg2 Check the logs for full command output.\r\n```\r\n\r\nI think the key lines are:\r\n\r\n```\r\n ld: library not found for -lssl\r\n    clang: error: linker command failed with exit code 1 (use -v to see invocation)\r\n    error: command 'gcc' failed with exit status 1\r\n```\r\n\r\nGood luck!?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1030", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1030/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1030/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1030/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1030", "id": 547309178, "node_id": "MDU6SXNzdWU1NDczMDkxNzg=", "number": 1030, "title": "problem about psycopg2 rely on openssl", "user": {"login": "pickutechnology", "id": 40266132, "node_id": "MDQ6VXNlcjQwMjY2MTMy", "avatar_url": "https://avatars1.githubusercontent.com/u/40266132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pickutechnology", "html_url": "https://github.com/pickutechnology", "followers_url": "https://api.github.com/users/pickutechnology/followers", "following_url": "https://api.github.com/users/pickutechnology/following{/other_user}", "gists_url": "https://api.github.com/users/pickutechnology/gists{/gist_id}", "starred_url": "https://api.github.com/users/pickutechnology/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pickutechnology/subscriptions", "organizations_url": "https://api.github.com/users/pickutechnology/orgs", "repos_url": "https://api.github.com/users/pickutechnology/repos", "events_url": "https://api.github.com/users/pickutechnology/events{/privacy}", "received_events_url": "https://api.github.com/users/pickutechnology/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-01-09T07:50:50Z", "updated_at": "2020-04-02T21:40:00Z", "closed_at": "2020-01-09T11:11:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Recently I upgraded my MAC system , due to the environment on mac has some change.  \r\nbefore upgraded , the openssl version is 1.0.x .  But now , it 's 1.1.1.\r\nMeanwhile my task has some error with psycopy2(local version 2.8.4) \uff0c the error msg is \uff1a \r\n\"ImportError: dlopen(/Users/tangchen/anaconda3/lib/python3.6/site-packages/psycopg2/_psycopg.cpython-36m-darwin.so, 2): Library not loaded: @rpath/libssl.1.0.0.dylib \" .\r\ni think the error reason is the psycopg2 rely on openssl version is 1.0.0 .  In openssl 1.1.1 is incompatible\u3002\r\nAbout my idea is true?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1029", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1029/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1029/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1029/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1029", "id": 546894104, "node_id": "MDU6SXNzdWU1NDY4OTQxMDQ=", "number": 1029, "title": "clear up the wheel situation", "user": {"login": "minusf", "id": 3632883, "node_id": "MDQ6VXNlcjM2MzI4ODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3632883?v=4", "gravatar_id": "", "url": "https://api.github.com/users/minusf", "html_url": "https://github.com/minusf", "followers_url": "https://api.github.com/users/minusf/followers", "following_url": "https://api.github.com/users/minusf/following{/other_user}", "gists_url": "https://api.github.com/users/minusf/gists{/gist_id}", "starred_url": "https://api.github.com/users/minusf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/minusf/subscriptions", "organizations_url": "https://api.github.com/users/minusf/orgs", "repos_url": "https://api.github.com/users/minusf/repos", "events_url": "https://api.github.com/users/minusf/events{/privacy}", "received_events_url": "https://api.github.com/users/minusf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-08T14:28:10Z", "updated_at": "2020-01-08T14:40:14Z", "closed_at": "2020-01-08T14:40:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "The project is still referring to wheel packages in many places, e.g.:\r\n<http://initd.org/psycopg/docs/install.html#binary-install-from-pypi>:\r\n\r\n> \"psycopg2 is also available on PyPI in the form of wheel packages for the most common platform (Linux, OSX, Windows)\r\n\r\nwhen this does not seem to be true:\r\n\r\n```\r\ncentos7$ pip install psycopg2-binary\r\n...\r\nError: pg_config executable not found.\r\n...\r\nIf you prefer to avoid building psycopg2 from source, please install the PyPI\r\n'psycopg2-binary' package instead.\r\n```\r\n\r\nThe only wheel packages provided i see are for [windows](https://pypi.org/project/psycopg2/#files).  All the rest needs to build their own wheel package which then in turn can be deployed as a wheel, but not from the cheeseshop.\r\n\r\nSome distributions have some kind of `psycopg2-binary`, e.g. centos:\r\n\r\n```\r\nName        : python-psycopg2\r\nVersion     : 2.5.1\r\nRelease     : 4.el7\r\n```\r\n\r\nbut ironically i cannot install this into a `venv`...\r\n\r\nPlease update the documentation and the building instructions to reflect reality.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1028", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1028/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1028/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1028/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1028", "id": 546346150, "node_id": "MDU6SXNzdWU1NDYzNDYxNTA=", "number": 1028, "title": "Datetime infered as string when having precision in seconds in execute_values", "user": {"login": "PMLP-novo", "id": 54025656, "node_id": "MDQ6VXNlcjU0MDI1NjU2", "avatar_url": "https://avatars1.githubusercontent.com/u/54025656?v=4", "gravatar_id": "", "url": "https://api.github.com/users/PMLP-novo", "html_url": "https://github.com/PMLP-novo", "followers_url": "https://api.github.com/users/PMLP-novo/followers", "following_url": "https://api.github.com/users/PMLP-novo/following{/other_user}", "gists_url": "https://api.github.com/users/PMLP-novo/gists{/gist_id}", "starred_url": "https://api.github.com/users/PMLP-novo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/PMLP-novo/subscriptions", "organizations_url": "https://api.github.com/users/PMLP-novo/orgs", "repos_url": "https://api.github.com/users/PMLP-novo/repos", "events_url": "https://api.github.com/users/PMLP-novo/events{/privacy}", "received_events_url": "https://api.github.com/users/PMLP-novo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-07T15:27:09Z", "updated_at": "2020-01-07T20:12:44Z", "closed_at": "2020-01-07T20:09:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "When i use execute values to generate a subtable if I use datetimes with precision in seconds the subtable column type is infered to be string. \r\n```\r\n\r\ncol_names_concat = \",\".join(table_columns)\r\nset_string = \",\".join( \"{0} = tmp.{0}\".format(col_name) for col_name in table_columns if col_name != \"id\")\r\nupdate_query=f\"\"\"\r\n       UPDATE table SET {set_string}\r\n        FROM (VALUES %s) AS tmp({col_names_concat})\r\n        WHERE tmp.id = lims_raw.id\"\"\"\r\nextra.execute_values(cur, update_query, patch_data))\r\n\r\n>> psycopg2.errors.DatatypeMismatch: column \"reviewed_datetime\" is of type timestamp without time zone but expression is of type text\r\n\r\n```\r\nWhen I added a dummy column \r\n```\r\ndummy_sample = tuple(None  if col_name not in time_columns else datetime.datetime.now())\r\nextra.execute_values(cur, update_query, patch_data+ [dummy_sample ]))\r\n```\r\nit worked when there were only None instances but I got the same error when there was a datetime with seconds precision. So I moved the dummy sample to become the first sample\r\n```\r\ndummy_sample = tuple(None  if col_name not in time_columns else datetime.datetime.now())\r\nextra.execute_values(cur, update_query, [dummy_sample ]+patch_data))\r\n```\r\nAnd now it worked. So to me it looks like the psycopg in this case has an ambiques way of translating datetimes with exactly presion in seconds. Such that it translates it to string if no extra info is given.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1026", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1026/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1026/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1026/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1026", "id": 546286599, "node_id": "MDU6SXNzdWU1NDYyODY1OTk=", "number": 1026, "title": "support LoggerAdapter", "user": {"login": "jesusch", "id": 2362798, "node_id": "MDQ6VXNlcjIzNjI3OTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/2362798?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jesusch", "html_url": "https://github.com/jesusch", "followers_url": "https://api.github.com/users/jesusch/followers", "following_url": "https://api.github.com/users/jesusch/following{/other_user}", "gists_url": "https://api.github.com/users/jesusch/gists{/gist_id}", "starred_url": "https://api.github.com/users/jesusch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jesusch/subscriptions", "organizations_url": "https://api.github.com/users/jesusch/orgs", "repos_url": "https://api.github.com/users/jesusch/repos", "events_url": "https://api.github.com/users/jesusch/events{/privacy}", "received_events_url": "https://api.github.com/users/jesusch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-01-07T13:35:28Z", "updated_at": "2020-03-08T11:24:17Z", "closed_at": "2020-03-08T11:24:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "while setting up a Logger with context information `LoggingConnection` does not handle this as a Logger. This results in an exception as it tries to use the Logger.write() method\r\nsee: https://docs.python.org/3/library/logging.html#loggeradapter-objects \r\n\r\nhttps://github.com/psycopg/psycopg2/blob/master/lib/extras.py#L412\r\nshould check if that object isinstance of either logging.Logger or logging. LoggerAdapter", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1025", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1025/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1025/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1025/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1025", "id": 541419020, "node_id": "MDU6SXNzdWU1NDE0MTkwMjA=", "number": 1025, "title": "INSERT SELECT", "user": {"login": "FerdinaKusumah", "id": 19812460, "node_id": "MDQ6VXNlcjE5ODEyNDYw", "avatar_url": "https://avatars2.githubusercontent.com/u/19812460?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FerdinaKusumah", "html_url": "https://github.com/FerdinaKusumah", "followers_url": "https://api.github.com/users/FerdinaKusumah/followers", "following_url": "https://api.github.com/users/FerdinaKusumah/following{/other_user}", "gists_url": "https://api.github.com/users/FerdinaKusumah/gists{/gist_id}", "starred_url": "https://api.github.com/users/FerdinaKusumah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FerdinaKusumah/subscriptions", "organizations_url": "https://api.github.com/users/FerdinaKusumah/orgs", "repos_url": "https://api.github.com/users/FerdinaKusumah/repos", "events_url": "https://api.github.com/users/FerdinaKusumah/events{/privacy}", "received_events_url": "https://api.github.com/users/FerdinaKusumah/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-22T07:35:44Z", "updated_at": "2019-12-22T15:59:31Z", "closed_at": "2019-12-22T15:59:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Pleas Help how to insert with select values.\r\n\r\n```\r\nINSERT INTO example_table values (id, name, address_id) (%s, %s, (select address_id from table_address))\r\n```\r\n\r\nHow to execute this query ??\r\nCan someone give example for execute this query", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1024", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1024/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1024/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1024/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1024", "id": 541307676, "node_id": "MDU6SXNzdWU1NDEzMDc2NzY=", "number": 1024, "title": "Error: could not determine PostgreSQL version from '='", "user": {"login": "HarmlessEvil", "id": 23358195, "node_id": "MDQ6VXNlcjIzMzU4MTk1", "avatar_url": "https://avatars3.githubusercontent.com/u/23358195?v=4", "gravatar_id": "", "url": "https://api.github.com/users/HarmlessEvil", "html_url": "https://github.com/HarmlessEvil", "followers_url": "https://api.github.com/users/HarmlessEvil/followers", "following_url": "https://api.github.com/users/HarmlessEvil/following{/other_user}", "gists_url": "https://api.github.com/users/HarmlessEvil/gists{/gist_id}", "starred_url": "https://api.github.com/users/HarmlessEvil/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/HarmlessEvil/subscriptions", "organizations_url": "https://api.github.com/users/HarmlessEvil/orgs", "repos_url": "https://api.github.com/users/HarmlessEvil/repos", "events_url": "https://api.github.com/users/HarmlessEvil/events{/privacy}", "received_events_url": "https://api.github.com/users/HarmlessEvil/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-21T09:46:31Z", "updated_at": "2019-12-21T12:29:47Z", "closed_at": "2019-12-21T12:29:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have my PostgreSQL database in docker container. When I install `psycopg2`, it asked me for `pg_config` executable in `$PATH`. I created `pg_config` executable in `/usr/local/bin` with the following contents:\r\n\r\n```bash\r\n#!/usr/bin/env sh\r\n\r\ndocker exec postgresql_container pg_config\r\n```\r\n\r\nIt works. But, I get the following error as in the title of issue: `Error: could not determine PostgreSQL version from '='`.\r\n\r\nThe output of the command is:\r\n```\r\nBINDIR = /usr/lib/postgresql/12/bin\r\nDOCDIR = /usr/share/doc/postgresql-doc-12\r\nHTMLDIR = /usr/share/doc/postgresql-doc-12\r\nINCLUDEDIR = /usr/include/postgresql\r\nPKGINCLUDEDIR = /usr/include/postgresql\r\nINCLUDEDIR-SERVER = /usr/include/postgresql/12/server\r\nLIBDIR = /usr/lib/x86_64-linux-gnu\r\nPKGLIBDIR = /usr/lib/postgresql/12/lib\r\nLOCALEDIR = /usr/share/locale\r\nMANDIR = /usr/share/postgresql/12/man\r\nSHAREDIR = /usr/share/postgresql/12\r\nSYSCONFDIR = /etc/postgresql-common\r\nPGXS = /usr/lib/postgresql/12/lib/pgxs/src/makefiles/pgxs.mk\r\nCONFIGURE = '--build=x86_64-linux-gnu' '--prefix=/usr' '--includedir=/usr/include' '--mandir=/usr/share/man' '--infodir=/usr/share/info' '--sysconfdir=/etc' '--localstatedir=/var' '--disable-silent-rules' '--libdir=/usr/lib/x86_64-linux-gnu' '--libexecdir=/usr/lib/x86_64-linux-gnu' '--disable-maintainer-mode' '--disable-dependency-tracking' '--with-icu' '--with-tcl' '--with-perl' '--with-python' '--with-pam' '--with-openssl' '--with-libxml' '--with-libxslt' 'PYTHON=/usr/bin/python3' '--mandir=/usr/share/postgresql/12/man' '--docdir=/usr/share/doc/postgresql-doc-12' '--sysconfdir=/etc/postgresql-common' '--datarootdir=/usr/share/' '--datadir=/usr/share/postgresql/12' '--bindir=/usr/lib/postgresql/12/bin' '--libdir=/usr/lib/x86_64-linux-gnu/' '--libexecdir=/usr/lib/postgresql/' '--includedir=/usr/include/postgresql/' '--with-extra-version= (Debian 12.1-1.pgdg100+1)' '--enable-nls' '--enable-integer-datetimes' '--enable-thread-safety' '--enable-tap-tests' '--enable-debug' '--enable-dtrace' '--disable-rpath' '--with-uuid=e2fs' '--with-gnu-ld' '--with-pgport=5432' '--with-system-tzdata=/usr/share/zoneinfo' '--with-llvm' 'LLVM_CONFIG=/usr/bin/llvm-config-7' 'CLANG=/usr/bin/clang-7' '--with-systemd' '--with-selinux' 'MKDIR_P=/bin/mkdir -p' 'TAR=/bin/tar' 'CFLAGS=-g -O2 -fstack-protector-strong -Wformat -Werror=format-security -fno-omit-frame-pointer' 'LDFLAGS=-Wl,-z,relro -Wl,-z,now' '--with-gssapi' '--with-ldap' '--with-includes=/usr/include/mit-krb5' '--with-libs=/usr/lib/mit-krb5' '--with-libs=/usr/lib/x86_64-linux-gnu/mit-krb5' 'build_alias=x86_64-linux-gnu' 'CPPFLAGS=-Wdate-time -D_FORTIFY_SOURCE=2' 'CXXFLAGS=-g -O2 -fstack-protector-strong -Wformat -Werror=format-security'\r\nCC = gcc\r\nCPPFLAGS = -Wdate-time -D_FORTIFY_SOURCE=2 -D_GNU_SOURCE -I/usr/include/libxml2 -I/usr/include/mit-krb5\r\nCFLAGS = -Wall -Wmissing-prototypes -Wpointer-arith -Wdeclaration-after-statement -Werror=vla -Wendif-labels -Wmissing-format-attribute -Wformat-security -fno-strict-aliasing -fwrapv -fexcess-precision=standard -Wno-format-truncation -Wno-stringop-truncation -g -g -O2 -fstack-protector-strong -Wformat -Werror=format-security -fno-omit-frame-pointer\r\nCFLAGS_SL = -fPIC\r\nLDFLAGS = -Wl,-z,relro -Wl,-z,now -L/usr/lib/llvm-7/lib -L/usr/lib/x86_64-linux-gnu/mit-krb5 -Wl,--as-needed\r\nLDFLAGS_EX = \r\nLDFLAGS_SL = \r\nLIBS = -lpgcommon -lpgport -lpthread -lselinux -lxslt -lxml2 -lpam -lssl -lcrypto -lgssapi_krb5 -lz -ledit -lrt -lcrypt -ldl -lm \r\nVERSION = PostgreSQL 12.1 (Debian 12.1-1.pgdg100+1)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1023", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1023/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1023/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1023/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1023", "id": 540892408, "node_id": "MDU6SXNzdWU1NDA4OTI0MDg=", "number": 1023, "title": "Doesn't support PostgreSQL server version 8.2", "user": {"login": "oushu1liyuan1", "id": 56806057, "node_id": "MDQ6VXNlcjU2ODA2MDU3", "avatar_url": "https://avatars3.githubusercontent.com/u/56806057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oushu1liyuan1", "html_url": "https://github.com/oushu1liyuan1", "followers_url": "https://api.github.com/users/oushu1liyuan1/followers", "following_url": "https://api.github.com/users/oushu1liyuan1/following{/other_user}", "gists_url": "https://api.github.com/users/oushu1liyuan1/gists{/gist_id}", "starred_url": "https://api.github.com/users/oushu1liyuan1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oushu1liyuan1/subscriptions", "organizations_url": "https://api.github.com/users/oushu1liyuan1/orgs", "repos_url": "https://api.github.com/users/oushu1liyuan1/repos", "events_url": "https://api.github.com/users/oushu1liyuan1/events{/privacy}", "received_events_url": "https://api.github.com/users/oushu1liyuan1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-20T09:37:13Z", "updated_at": "2019-12-20T11:05:19Z", "closed_at": "2019-12-20T11:05:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "The Python version I'm using is 3.8. Under this version, psycopg2 cannot connect to Postgres 8.2.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1021", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1021/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1021/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1021/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1021", "id": 535278511, "node_id": "MDU6SXNzdWU1MzUyNzg1MTE=", "number": 1021, "title": "Documentation: Link to this issue tracker", "user": {"login": "pyropeter", "id": 96421, "node_id": "MDQ6VXNlcjk2NDIx", "avatar_url": "https://avatars2.githubusercontent.com/u/96421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pyropeter", "html_url": "https://github.com/pyropeter", "followers_url": "https://api.github.com/users/pyropeter/followers", "following_url": "https://api.github.com/users/pyropeter/following{/other_user}", "gists_url": "https://api.github.com/users/pyropeter/gists{/gist_id}", "starred_url": "https://api.github.com/users/pyropeter/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pyropeter/subscriptions", "organizations_url": "https://api.github.com/users/pyropeter/orgs", "repos_url": "https://api.github.com/users/pyropeter/repos", "events_url": "https://api.github.com/users/pyropeter/events{/privacy}", "received_events_url": "https://api.github.com/users/pyropeter/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-09T20:31:13Z", "updated_at": "2019-12-10T11:16:05Z", "closed_at": "2019-12-10T11:16:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I only found this issue tracker thanks to the nice people in `#postgresql`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1020", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1020/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1020/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1020/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1020", "id": 534894454, "node_id": "MDU6SXNzdWU1MzQ4OTQ0NTQ=", "number": 1020, "title": "Does async and simpleconnection pooling work together in psycopg2?", "user": {"login": "AnandDev8", "id": 34468289, "node_id": "MDQ6VXNlcjM0NDY4Mjg5", "avatar_url": "https://avatars2.githubusercontent.com/u/34468289?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AnandDev8", "html_url": "https://github.com/AnandDev8", "followers_url": "https://api.github.com/users/AnandDev8/followers", "following_url": "https://api.github.com/users/AnandDev8/following{/other_user}", "gists_url": "https://api.github.com/users/AnandDev8/gists{/gist_id}", "starred_url": "https://api.github.com/users/AnandDev8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AnandDev8/subscriptions", "organizations_url": "https://api.github.com/users/AnandDev8/orgs", "repos_url": "https://api.github.com/users/AnandDev8/repos", "events_url": "https://api.github.com/users/AnandDev8/events{/privacy}", "received_events_url": "https://api.github.com/users/AnandDev8/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-09T12:21:11Z", "updated_at": "2019-12-10T12:07:12Z", "closed_at": "2019-12-09T12:46:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does asynchronous communication and connection pooling can be used together in  psyscopg2. Is this valid ?\r\nI would like to know if async is supported in connection pooling?\r\n```\r\nclass Connnect:\r\n    def __init__(self): \r\n        #Setting asychronous connection\r\n        self.connectionpool = SimpleConnectionPool(1, 10, user=user,password=pass,host=host,port=5678,dbname=abc,async_=1)\r\n        logging.info('Connection Pool : {}'.format(self.connectionpool))\r\n    @contextmanager\r\n    def getConnection(self):\r\n       logger.info('getting connection')\r\n       con = self.connectionpool.getconn()\r\n       try:\r\n          yield con\r\n       except Exception as ex:\r\n           logging.error('Error while Connecting with Database')\r\n           logging.error(ex)\r\n       finally:\r\n          if con:\r\n             logging.info(\"Connection available\")\r\n             self.connectionpool.putconn(con)\r\n          else:\r\n             logging.info(\"No connection\")\r\n             self.getConnection()\r\n```\r\nIt is kind of working for me but sometimes it would give the following error\r\n\r\n```\r\nERROR:root:Error while Connecting with Database\r\nERROR:root:server closed the connection unexpectedly\r\n\tThis probably means the server terminated abnormally\r\n\tbefore or while processing the request.\r\n```\r\nHow to fix this ?\r\nHow can i get another connection if my current connection fails ??", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1019", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1019/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1019/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1019/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1019", "id": 533905908, "node_id": "MDU6SXNzdWU1MzM5MDU5MDg=", "number": 1019, "title": "connect() ignores cursor_factory if connection_factory is also specified", "user": {"login": "dandanlen", "id": 3168260, "node_id": "MDQ6VXNlcjMxNjgyNjA=", "avatar_url": "https://avatars3.githubusercontent.com/u/3168260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dandanlen", "html_url": "https://github.com/dandanlen", "followers_url": "https://api.github.com/users/dandanlen/followers", "following_url": "https://api.github.com/users/dandanlen/following{/other_user}", "gists_url": "https://api.github.com/users/dandanlen/gists{/gist_id}", "starred_url": "https://api.github.com/users/dandanlen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dandanlen/subscriptions", "organizations_url": "https://api.github.com/users/dandanlen/orgs", "repos_url": "https://api.github.com/users/dandanlen/repos", "events_url": "https://api.github.com/users/dandanlen/events{/privacy}", "received_events_url": "https://api.github.com/users/dandanlen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-06T11:24:33Z", "updated_at": "2019-12-10T11:10:33Z", "closed_at": "2019-12-10T11:09:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there, \r\n\r\nI tried setting the `connection_factory` and `cursor_factory` args through the `psycopg2.connect` method, but it looks like the cursor factory isn't being used. As a result, rows are returned as tuples instead of dicts. \r\n\r\nWhen you use the `cursor_factory` in isolation it works fine: \r\n```python\r\nwith psycopg2.connect(dsn,\r\n                      cursor_factory=DictCursor) as conn:\r\n    with conn.cursor() as cur:\r\n        print(cur.row_factory)\r\n        # prints: <class 'psycopg2.extras.DictRow'>\r\n```\r\n\r\nHowever if you also set a `connection_factory` (Am I using this wrong? \ud83e\udd37\u200d\u2642 ):\r\n```python\r\nwith psycopg2.connect(dsn,\r\n                      connection_factory=LoggingConnection,\r\n                      cursor_factory=DictCursor) as conn:\r\n    conn.initialize(logging.Logger('test'))\r\n    with conn.cursor() as cur:\r\n        print(cur.row_factory)\r\n        # prints: None\r\n```\r\n\r\n\r\nI can work around it by specifying the `cursor_factory` when I create the cursor. \r\n```python\r\nwith psycopg2.connect(dsn, connection_factory=LoggingConnection) as conn:\r\n    conn.initialize(logging.Logger('test'))\r\n    with conn.cursor(cursor_factory=DictCursor) as cur:\r\n        print(cur.row_factory)\r\n        # prints: <class 'psycopg2.extras.DictRow'>\r\n```\r\n\r\nI'm using version  2.8.4, Python 3.7.4 on mac. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1018", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1018/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1018/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1018/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1018", "id": 529852295, "node_id": "MDU6SXNzdWU1Mjk4NTIyOTU=", "number": 1018, "title": "ImportError: undefined symbol: PQencryptPasswordConn", "user": {"login": "alexjpm", "id": 48906688, "node_id": "MDQ6VXNlcjQ4OTA2Njg4", "avatar_url": "https://avatars1.githubusercontent.com/u/48906688?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexjpm", "html_url": "https://github.com/alexjpm", "followers_url": "https://api.github.com/users/alexjpm/followers", "following_url": "https://api.github.com/users/alexjpm/following{/other_user}", "gists_url": "https://api.github.com/users/alexjpm/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexjpm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexjpm/subscriptions", "organizations_url": "https://api.github.com/users/alexjpm/orgs", "repos_url": "https://api.github.com/users/alexjpm/repos", "events_url": "https://api.github.com/users/alexjpm/events{/privacy}", "received_events_url": "https://api.github.com/users/alexjpm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-28T11:20:21Z", "updated_at": "2020-04-06T10:01:44Z", "closed_at": "2019-11-28T12:01:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone,\r\n\r\nI'm running PostgreSQL 9.6.13 on a raspberry pi 3B+.  I'd been running psycopg2 version 2.8.3 with python 2.7.13 fine, but (finally!) have gotten round to upgrading to python 3.7.3.  I created a new venv, pip installed psycopg2, and ran into this error:\r\n\r\nImportError: /usr/src/prt37/lib/python3.7/site-packages/psycopg2/_psycopg.cpython-37m-arm-linux-gnueabihf.so: undefined symbol: PQencryptPasswordConn\r\n\r\nI've check pg_config and the libpq dependencies as suggested on the FAQ, and they're both using:\r\n/usr/lib/arm-linux-gnueabihf/libpq.so.5\r\n\r\nHas anyone got any ideas how to solve this and what is causing it?  My python 2.7 venv is still running fine.\r\n\r\nThanks,\r\n\r\nAlex\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1017", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1017/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1017/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1017/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1017", "id": 529219368, "node_id": "MDU6SXNzdWU1MjkyMTkzNjg=", "number": 1017, "title": "statement_timeout option not helping with hardware fault", "user": {"login": "stefanknechtDBE", "id": 41771637, "node_id": "MDQ6VXNlcjQxNzcxNjM3", "avatar_url": "https://avatars1.githubusercontent.com/u/41771637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stefanknechtDBE", "html_url": "https://github.com/stefanknechtDBE", "followers_url": "https://api.github.com/users/stefanknechtDBE/followers", "following_url": "https://api.github.com/users/stefanknechtDBE/following{/other_user}", "gists_url": "https://api.github.com/users/stefanknechtDBE/gists{/gist_id}", "starred_url": "https://api.github.com/users/stefanknechtDBE/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stefanknechtDBE/subscriptions", "organizations_url": "https://api.github.com/users/stefanknechtDBE/orgs", "repos_url": "https://api.github.com/users/stefanknechtDBE/repos", "events_url": "https://api.github.com/users/stefanknechtDBE/events{/privacy}", "received_events_url": "https://api.github.com/users/stefanknechtDBE/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-27T09:24:37Z", "updated_at": "2019-11-27T18:54:38Z", "closed_at": "2019-11-27T18:54:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\nWe run the following very simple routine:\r\n`    # Main thread loop\r\n\r\n    try:\r\n      while True:\r\n        try:\r\n          x = self.pg.query(\"select current_user;\")\r\n          self.instanceState = \"OK\"\r\n        except:\r\n          logger.slack(\"Failed to query database {0}: {1}\".format(self.instanceName, str(sys.exc_info()[1]).rstrip()))\r\n          logger.flushSlack()\r\n\r\n          self.instanceState = \"BAD\"\r\n          self.threadReconnect()\r\n\r\n        logger.info(\"Connection check for {} succeeded. Sleeping.. \".format(self.instanceName))\r\n        time.sleep(self.checkDelay + random.random())\r\n    except:\r\n      logger.warning(\"Thread {0} failed: {1}\".format(self.instanceName, str(sys.exc_info())))\r\n      raise`\r\n\r\nquery() is basically just a wrapper around cursor.execute() with a bit of logging around it.\r\n\r\nOur connection string looks like this:\r\n\r\nconnect(userName = \"x\", databaseName = \"y\", instanceName = self.instanceName, options='-c statement_timeout=5000')\r\n\r\nThis works fine for most cases, incl RDS postgres instance shutdowns, reboots, etc.\r\n\r\nBut, if there is a hardware failure, and the server is pulled off the network, and AWS triggers a failover, we see a hang of 8 minutes in the execute() call, despite the statement_timeout being 5 seconds.\r\n\r\nThis is what we see in the log if there is an RDS instance fault and failover:\r\n\r\n`2019-11-12 19:10:20,807 - INFO - Thread-38 Connection check for abcd succeeded. Sleeping.. \r\n2019-11-12 19:10:51,005 - INFO - Thread-38 Connection check for abcd succeeded. Sleeping.. \r\n2019-11-12 19:18:51,151 - SLACK - Thread-38 Failed to query database abcd: server closed the connection unexpectedly\r\n2019-11-12 19:18:51,153 - DEBUG - Thread-38 Buffering message Failed to query database abcd: server closed the connection unexpectedly\r\n2019-11-12 19:18:51,328 - DEBUG - Thread-38 Connected to database postgres at abcd.xyz.us-west-1.rds.amazonaws.com after 0.0058s\r\n2019-11-12 19:18:51,329 - INFO - Thread-38 Connection check for abcd succeeded. Sleeping.. \r\n`\r\n\r\nThe documentation isn't really clear to me, but it appears that options statement_timeout is a server setting? And thus only in effect on the database itself?\r\n\r\nThis would mean that if there is a hardware failure, the client will keep waiting, regardless of this timeout.\r\n\r\nIs there no support for a call-level timeout in psycopg2?\r\n\r\nStefan\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1016", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1016/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1016/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1016/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1016", "id": 528826910, "node_id": "MDU6SXNzdWU1Mjg4MjY5MTA=", "number": 1016, "title": "transaction autocommits after rollback is executed in cursor", "user": {"login": "alanformstone", "id": 4520036, "node_id": "MDQ6VXNlcjQ1MjAwMzY=", "avatar_url": "https://avatars1.githubusercontent.com/u/4520036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alanformstone", "html_url": "https://github.com/alanformstone", "followers_url": "https://api.github.com/users/alanformstone/followers", "following_url": "https://api.github.com/users/alanformstone/following{/other_user}", "gists_url": "https://api.github.com/users/alanformstone/gists{/gist_id}", "starred_url": "https://api.github.com/users/alanformstone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alanformstone/subscriptions", "organizations_url": "https://api.github.com/users/alanformstone/orgs", "repos_url": "https://api.github.com/users/alanformstone/repos", "events_url": "https://api.github.com/users/alanformstone/events{/privacy}", "received_events_url": "https://api.github.com/users/alanformstone/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-26T16:12:23Z", "updated_at": "2019-11-28T14:45:08Z", "closed_at": "2019-11-27T18:46:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nimport psycopg2\r\n\r\ntry:\r\n    conn = psycopg2.connect(service='SCFDEV', user='postgres', password='postypots')\r\nexcept:\r\n    raise\r\n\r\ncursor=conn.cursor()\r\n\r\ncursor.execute(\"insert into scfadm.atest values (1)\")\r\n\r\n#conn.rollback()\r\ncursor.execute('rollback')\r\n\r\n\r\ncursor.execute(\"insert into scfadm.atest values (2)\")\r\n\r\n\r\ncursor.close()\r\n\r\nprint('Exit')\r\n```\r\n\r\nThe above results in the second insert being committed automatically.  If the connection is rolled back with  conn.rollback()) everything works fine. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1015", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1015/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1015/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1015/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1015", "id": 526850895, "node_id": "MDU6SXNzdWU1MjY4NTA4OTU=", "number": 1015, "title": "Disable triggers in copy_from", "user": {"login": "GammaGames", "id": 7832163, "node_id": "MDQ6VXNlcjc4MzIxNjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/7832163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GammaGames", "html_url": "https://github.com/GammaGames", "followers_url": "https://api.github.com/users/GammaGames/followers", "following_url": "https://api.github.com/users/GammaGames/following{/other_user}", "gists_url": "https://api.github.com/users/GammaGames/gists{/gist_id}", "starred_url": "https://api.github.com/users/GammaGames/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GammaGames/subscriptions", "organizations_url": "https://api.github.com/users/GammaGames/orgs", "repos_url": "https://api.github.com/users/GammaGames/repos", "events_url": "https://api.github.com/users/GammaGames/events{/privacy}", "received_events_url": "https://api.github.com/users/GammaGames/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-11-21T21:27:25Z", "updated_at": "2019-11-22T20:15:22Z", "closed_at": "2019-11-22T13:44:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using the `copy_from` and `copy_to` commands with an `StringIO` class to mimic the `pg_dump` command to copy a table from one database to another. Other than manually running `ALTER TABLE table_name DISABLE TRIGGER trigger_name` and `ALTER TABLE table_name ENABLE TRIGGER trigger_name` before the copy for each trigger on the table, is there a way to disable triggers on a table while mass-inserting data? Both `pg_dump` and `pg_restore` have the `--disable-triggers` flag as an option, and I think it would be useful to have a similar option in psycopg2.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1014", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1014/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1014/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1014/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1014", "id": 524434492, "node_id": "MDU6SXNzdWU1MjQ0MzQ0OTI=", "number": 1014, "title": "Python 3.8: ImportError: DLL load failed while importing _psycopg: The specified module could not be found.", "user": {"login": "BrendanMartin", "id": 8090350, "node_id": "MDQ6VXNlcjgwOTAzNTA=", "avatar_url": "https://avatars3.githubusercontent.com/u/8090350?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BrendanMartin", "html_url": "https://github.com/BrendanMartin", "followers_url": "https://api.github.com/users/BrendanMartin/followers", "following_url": "https://api.github.com/users/BrendanMartin/following{/other_user}", "gists_url": "https://api.github.com/users/BrendanMartin/gists{/gist_id}", "starred_url": "https://api.github.com/users/BrendanMartin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BrendanMartin/subscriptions", "organizations_url": "https://api.github.com/users/BrendanMartin/orgs", "repos_url": "https://api.github.com/users/BrendanMartin/repos", "events_url": "https://api.github.com/users/BrendanMartin/events{/privacy}", "received_events_url": "https://api.github.com/users/BrendanMartin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-11-18T15:19:31Z", "updated_at": "2020-06-10T08:40:10Z", "closed_at": "2019-11-18T17:29:14Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "```Traceback (most recent call last):\r\n  File \"C:\\...\\db.py\", line 1, in <module>\r\n    import psycopg2\r\n  File \"C:\\...\\venv\\lib\\site-packages\\psycopg2\\__init__.py\", line 50, in <module>\r\n    from psycopg2._psycopg import (                     # noqa\r\nImportError: DLL load failed while importing _psycopg: The specified module could not be found.\r\n```\r\n\r\nJust installed Python 3.8 64-bit and was able to successfully install psycopg2 with `pip install psycopg2`. I received this ImportError when trying to run my project.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1013", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1013/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1013/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1013/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1013", "id": 521000240, "node_id": "MDU6SXNzdWU1MjEwMDAyNDA=", "number": 1013, "title": "CherryPy server talking to PostgresSQL (9.2.7)", "user": {"login": "igor-rodrigues1", "id": 28815742, "node_id": "MDQ6VXNlcjI4ODE1NzQy", "avatar_url": "https://avatars1.githubusercontent.com/u/28815742?v=4", "gravatar_id": "", "url": "https://api.github.com/users/igor-rodrigues1", "html_url": "https://github.com/igor-rodrigues1", "followers_url": "https://api.github.com/users/igor-rodrigues1/followers", "following_url": "https://api.github.com/users/igor-rodrigues1/following{/other_user}", "gists_url": "https://api.github.com/users/igor-rodrigues1/gists{/gist_id}", "starred_url": "https://api.github.com/users/igor-rodrigues1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/igor-rodrigues1/subscriptions", "organizations_url": "https://api.github.com/users/igor-rodrigues1/orgs", "repos_url": "https://api.github.com/users/igor-rodrigues1/repos", "events_url": "https://api.github.com/users/igor-rodrigues1/events{/privacy}", "received_events_url": "https://api.github.com/users/igor-rodrigues1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-11T14:38:37Z", "updated_at": "2019-11-11T15:00:28Z", "closed_at": "2019-11-11T15:00:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "CherryPy server talking to PostgresSQL (9.2.7)\r\n- Always on a particular url\r\n- Same line every time `cursor.execute(sale_records_sql, (sales_ids,))`\r\n- Vanishes after the server is restarted\r\n- Emerges again after a indefinite time\r\n  \r\n  ```\r\n    File \"/home/ec2-user/venv/lib/python3.4/site-packages/psycopg2/extras.py\", line 288, in execute\r\n      return super(NamedTupleCursor, self).execute(query, vars)\r\n  psycopg2.DatabaseError: error with no message from the libpq\r\n  ```\r\n\r\n_Originally posted by @ajoyoommen in https://github.com/psycopg/psycopg2/issues/281#issuecomment-133637769_\r\n\r\n\r\n\r\nI am using Linux Mint 19.1 Tessa and installed libghc-postgresql-libpq-dev. That solved the problem.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1011", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1011/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1011/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1011/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1011", "id": 519958224, "node_id": "MDU6SXNzdWU1MTk5NTgyMjQ=", "number": 1011, "title": "[GUIDANCE] import psycopg2 failing on AWS Lambda with '[ERROR] Runtime.ImportModuleError: Unable to import module 'ueba': libpq.so.5: cannot open shared object file: No such file or directory'", "user": {"login": "nitishsaboo", "id": 37169361, "node_id": "MDQ6VXNlcjM3MTY5MzYx", "avatar_url": "https://avatars0.githubusercontent.com/u/37169361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nitishsaboo", "html_url": "https://github.com/nitishsaboo", "followers_url": "https://api.github.com/users/nitishsaboo/followers", "following_url": "https://api.github.com/users/nitishsaboo/following{/other_user}", "gists_url": "https://api.github.com/users/nitishsaboo/gists{/gist_id}", "starred_url": "https://api.github.com/users/nitishsaboo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nitishsaboo/subscriptions", "organizations_url": "https://api.github.com/users/nitishsaboo/orgs", "repos_url": "https://api.github.com/users/nitishsaboo/repos", "events_url": "https://api.github.com/users/nitishsaboo/events{/privacy}", "received_events_url": "https://api.github.com/users/nitishsaboo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-08T11:16:13Z", "updated_at": "2019-11-08T16:12:41Z", "closed_at": "2019-11-08T16:12:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nApologies for opening a new ticket but I had few queries which went unanswered.\r\nThis issue is in continuation with the issue https://github.com/psycopg/psycopg2/issues/1010\r\nSince that issue was closed , I had to open this.\r\n\r\nI get the following error while importing psycopg2 library on my AWS lambda service:\r\n\r\n[ERROR] Runtime.ImportModuleError: Unable to import module 'ueba': libpq.so.5: cannot open shared object file: No such file or directory\r\n\r\n1)I understand the error is pretty explicit.But my question is how can we solve this library issue when running pscopg2 on AWS Lambda? Do I have to link this library statically in my packaging zip rather than linking it dynamically ?\r\n\r\n2)I fixed the problem by installing psycopg2-binary instead of psycopg2.\r\nIs installing psycopg2-binary the right approach for solving this problem ?Just need your small guidance on that. Please correct me if I am wrong.\r\nI referred to the following posts\r\n#892\r\nand\r\nhttps://forums.aws.amazon.com/profile.jspa?userID=494804.\r\n\r\n3)I have gone through the following articles and I am not using multithreading program using ssh.\r\nI have to just connect to postgres and dump some data and later read that data.Can I use psycopg2-binary for that purpose ?\r\n\r\nhttps://github.com/psycopg/psycopg2/issues/674\r\nhttps://www.postgresql.org/message-id/CA%2Bmi_8bd6kJHLTGkuyHSnqcgDrJ1uHgQWvXCKQFD3tPQBUa2Bw%40mail.gmail.com\r\nhttp://initd.org/psycopg/articles/2018/02/08/psycopg-274-released/\r\n\r\nThanks,\r\nNitish", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1010", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1010/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1010/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1010/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1010", "id": 519065840, "node_id": "MDU6SXNzdWU1MTkwNjU4NDA=", "number": 1010, "title": "[ERROR] Runtime.ImportModuleError: Unable to import module 'ueba': libpq.so.5: cannot open shared object file: No such file or directory", "user": {"login": "nitishsaboo", "id": 37169361, "node_id": "MDQ6VXNlcjM3MTY5MzYx", "avatar_url": "https://avatars0.githubusercontent.com/u/37169361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nitishsaboo", "html_url": "https://github.com/nitishsaboo", "followers_url": "https://api.github.com/users/nitishsaboo/followers", "following_url": "https://api.github.com/users/nitishsaboo/following{/other_user}", "gists_url": "https://api.github.com/users/nitishsaboo/gists{/gist_id}", "starred_url": "https://api.github.com/users/nitishsaboo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nitishsaboo/subscriptions", "organizations_url": "https://api.github.com/users/nitishsaboo/orgs", "repos_url": "https://api.github.com/users/nitishsaboo/repos", "events_url": "https://api.github.com/users/nitishsaboo/events{/privacy}", "received_events_url": "https://api.github.com/users/nitishsaboo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-11-07T06:20:06Z", "updated_at": "2019-11-08T05:20:15Z", "closed_at": "2019-11-07T10:19:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am trying to use PostgreSQL in my AWS Lambda service.As part of that I have a build script that installs postgres using pip and sets LD_LIBRARY_PATH\r\n\r\nrequirements.txt\r\n=============\r\nboto3==1.10.5\r\nbotocore==1.13.5\r\npsycopg2==2.8.4\r\n\r\n******************************************\r\nbuild.sh\r\n=======\r\n\r\n#!/bin/sh\r\nexport PYTHONUNBUFFERED=1\r\n\r\nif [ ! -d \"venv\" ]; then\r\n    virtualenv venv\r\nfi\r\n\r\nif [ -z \"$VIRTUAL_ENV\" ]; then\r\n    source venv/bin/activate\r\nfi\r\n\r\nif [ -n \"$VIRTUAL_ENV\" ]; then\r\n    venv/bin/pip install -U pip\r\n    venv/bin/pip install -U -r ./asset_db/requirements/requirements.txt\r\n    venv/bin/pip freeze --local\r\nfi\r\nexport LD_LIBRARY_PATH=\"/usr/lib64/:$LD_LIBRARY_PATH\"\r\n**************************************\r\n\r\nI have a python file called ueba.py that has invocation function for lambda service.\r\n\r\n***********************************\r\nueba.py\r\n====== \r\nimport  psycopg2\r\n\r\ndef database():\r\n      psycopg2.connect(user=<username>,\r\n                                password=<password>,\r\n                                host=<host>,\r\n                                port=<port>,\r\n                                database=<database>)\r\n\r\ndef lambda_handler(event, context):\r\n\tprint(\"Lambda started\")\r\n\tprint(event)\r\n        database()\r\n        print(\"Lambda Completed\")\r\n*************************************\r\n\r\nAs part of build process I am creating a zip of the lambda service and  uploading it on AWS and testing the lambda function.But when the Lambda function gets triggered I get the following error:\r\n\r\n[ERROR] Runtime.ImportModuleError: Unable to import module 'ueba': libpq.so.5: cannot open shared object file: No such file or directory\r\n\r\nI understand it is a shared object that is needed at runtime.Since I am installing the psycopg2 using pip where will I find this shared object file and how to set the path to locate it.\r\n\r\nThanks,\r\nNitish", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1009", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1009/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1009/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1009/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1009", "id": 518205502, "node_id": "MDU6SXNzdWU1MTgyMDU1MDI=", "number": 1009, "title": "psycopg2.ProgrammingError: syntax error at or near \"\\\"", "user": {"login": "liyingxiao94", "id": 22187621, "node_id": "MDQ6VXNlcjIyMTg3NjIx", "avatar_url": "https://avatars0.githubusercontent.com/u/22187621?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liyingxiao94", "html_url": "https://github.com/liyingxiao94", "followers_url": "https://api.github.com/users/liyingxiao94/followers", "following_url": "https://api.github.com/users/liyingxiao94/following{/other_user}", "gists_url": "https://api.github.com/users/liyingxiao94/gists{/gist_id}", "starred_url": "https://api.github.com/users/liyingxiao94/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liyingxiao94/subscriptions", "organizations_url": "https://api.github.com/users/liyingxiao94/orgs", "repos_url": "https://api.github.com/users/liyingxiao94/repos", "events_url": "https://api.github.com/users/liyingxiao94/events{/privacy}", "received_events_url": "https://api.github.com/users/liyingxiao94/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-06T02:59:50Z", "updated_at": "2019-11-06T13:05:47Z", "closed_at": "2019-11-06T13:05:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nError reporting when using psycopg2 to connect to the database to switch databases\uff0cplease check.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1008", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1008/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1008/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1008/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1008", "id": 515135072, "node_id": "MDU6SXNzdWU1MTUxMzUwNzI=", "number": 1008, "title": "ERROR: Command errored out with exit status 1", "user": {"login": "imengchaoemcc", "id": 4518648, "node_id": "MDQ6VXNlcjQ1MTg2NDg=", "avatar_url": "https://avatars2.githubusercontent.com/u/4518648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/imengchaoemcc", "html_url": "https://github.com/imengchaoemcc", "followers_url": "https://api.github.com/users/imengchaoemcc/followers", "following_url": "https://api.github.com/users/imengchaoemcc/following{/other_user}", "gists_url": "https://api.github.com/users/imengchaoemcc/gists{/gist_id}", "starred_url": "https://api.github.com/users/imengchaoemcc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/imengchaoemcc/subscriptions", "organizations_url": "https://api.github.com/users/imengchaoemcc/orgs", "repos_url": "https://api.github.com/users/imengchaoemcc/repos", "events_url": "https://api.github.com/users/imengchaoemcc/events{/privacy}", "received_events_url": "https://api.github.com/users/imengchaoemcc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 25579045, "node_id": "MDU6TGFiZWwyNTU3OTA0NQ==", "url": "https://api.github.com/repos/psycopg/psycopg2/labels/invalid", "name": "invalid", "color": "e6e6e6", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-31T03:31:17Z", "updated_at": "2019-10-31T22:56:42Z", "closed_at": "2019-10-31T22:55:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I typed, pip install scipy, the error comes as below. Does anyone know how to resolve it? \r\n\r\nPreparing wheel metadata ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: 'c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\python.exe' 'c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py' prepare_metadata_for_build_wheel 'C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\tmpi3ihkvef'\r\n         cwd: C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\pip-install-h8iifgxe\\scipy\r\n    Complete output (192 lines):\r\n    lapack_opt_info:\r\n    lapack_mkl_info:\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries mkl_rt not found in ['c:\\\\users\\\\uqcmeng1\\\\appdata\\\\local\\\\programs\\\\python\\\\python38-32\\\\lib', 'C:\\\\', 'c:\\\\users\\\\uqcmeng1\\\\appdata\\\\local\\\\programs\\\\python\\\\python38-32\\\\libs']\r\n      NOT AVAILABLE\r\n\r\n    openblas_lapack_info:\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries openblas not found in ['c:\\\\users\\\\uqcmeng1\\\\appdata\\\\local\\\\programs\\\\python\\\\python38-32\\\\lib', 'C:\\\\', 'c:\\\\users\\\\uqcmeng1\\\\appdata\\\\local\\\\programs\\\\python\\\\python38-32\\\\libs']\r\n    get_default_fcompiler: matching types: '['gnu', 'intelv', 'absoft', 'compaqv', 'intelev', 'gnu95', 'g95', 'intelvem', 'intelem', 'flang']'\r\n    customize GnuFCompiler\r\n    Could not locate executable g77\r\n    Could not locate executable f77\r\n    customize IntelVisualFCompiler\r\n    Could not locate executable ifort\r\n    Could not locate executable ifl\r\n    customize AbsoftFCompiler\r\n    Could not locate executable f90\r\n    customize CompaqVisualFCompiler\r\n    Could not locate executable DF\r\n    customize IntelItaniumVisualFCompiler\r\n    Could not locate executable efl\r\n    customize Gnu95FCompiler\r\n    Could not locate executable gfortran\r\n    Could not locate executable f95\r\n    customize G95FCompiler\r\n    Could not locate executable g95\r\n    customize IntelEM64VisualFCompiler\r\n    customize IntelEM64TFCompiler\r\n    Could not locate executable efort\r\n    Could not locate executable efc\r\n    customize PGroupFlangCompiler\r\n    Could not locate executable flang\r\n    don't know how to compile Fortran code on platform 'nt'\r\n      NOT AVAILABLE\r\n\r\n    openblas_clapack_info:\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries openblas,lapack not found in ['c:\\\\users\\\\uqcmeng1\\\\appdata\\\\local\\\\programs\\\\python\\\\python38-32\\\\lib', 'C:\\\\', 'c:\\\\users\\\\uqcmeng1\\\\appdata\\\\local\\\\programs\\\\python\\\\python38-32\\\\libs']\r\n      NOT AVAILABLE\r\n\r\n    atlas_3_10_threads_info:\r\n    Setting PTATLAS=ATLAS\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries tatlas,tatlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries tatlas,tatlas not found in C:\\\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in C:\\\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries tatlas,tatlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\libs\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\libs\r\n    <class 'numpy.distutils.system_info.atlas_3_10_threads_info'>\r\n      NOT AVAILABLE\r\n\r\n    atlas_3_10_info:\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries satlas,satlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries satlas,satlas not found in C:\\\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in C:\\\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries satlas,satlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\libs\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\libs\r\n    <class 'numpy.distutils.system_info.atlas_3_10_info'>\r\n      NOT AVAILABLE\r\n\r\n    atlas_threads_info:\r\n    Setting PTATLAS=ATLAS\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries ptf77blas,ptcblas,atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries ptf77blas,ptcblas,atlas not found in C:\\\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in C:\\\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries ptf77blas,ptcblas,atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\libs\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\libs\r\n    <class 'numpy.distutils.system_info.atlas_threads_info'>\r\n      NOT AVAILABLE\r\n\r\n    atlas_info:\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries f77blas,cblas,atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries f77blas,cblas,atlas not found in C:\\\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in C:\\\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries f77blas,cblas,atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\libs\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack_atlas not found in c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\libs\r\n    <class 'numpy.distutils.system_info.atlas_info'>\r\n      NOT AVAILABLE\r\n\r\n    lapack_info:\r\n    No module named 'numpy.distutils._msvccompiler' in numpy.distutils; trying from distutils\r\n    customize MSVCCompiler\r\n      libraries lapack not found in ['c:\\\\users\\\\uqcmeng1\\\\appdata\\\\local\\\\programs\\\\python\\\\python38-32\\\\lib', 'C:\\\\', 'c:\\\\users\\\\uqcmeng1\\\\appdata\\\\local\\\\programs\\\\python\\\\python38-32\\\\libs']\r\n      NOT AVAILABLE\r\n\r\n    lapack_src_info:\r\n      NOT AVAILABLE\r\n\r\n      NOT AVAILABLE\r\n\r\n    setup.py:386: UserWarning: Unrecognized setuptools command ('dist_info --egg-base C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\pip-modern-metadata-d698xl9v'), proceeding with generating Cython sources and expanding templates\r\n      warnings.warn(\"Unrecognized setuptools command ('{}'), proceeding with \"\r\n    Running from scipy source directory.\r\n    C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\pip-build-env-y2jstmd5\\overlay\\Lib\\site-packages\\numpy\\distutils\\system_info.py:624: UserWarning:\r\n        Atlas (http://math-atlas.sourceforge.net/) libraries not found.\r\n        Directories to search for the libraries can be specified in the\r\n        numpy/distutils/site.cfg file (section [atlas]) or by setting\r\n        the ATLAS environment variable.\r\n      self.calc_info()\r\n    C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\pip-build-env-y2jstmd5\\overlay\\Lib\\site-packages\\numpy\\distutils\\system_info.py:624: UserWarning:\r\n        Lapack (http://www.netlib.org/lapack/) libraries not found.\r\n        Directories to search for the libraries can be specified in the\r\n        numpy/distutils/site.cfg file (section [lapack]) or by setting\r\n        the LAPACK environment variable.\r\n      self.calc_info()\r\n    C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\pip-build-env-y2jstmd5\\overlay\\Lib\\site-packages\\numpy\\distutils\\system_info.py:624: UserWarning:\r\n        Lapack (http://www.netlib.org/lapack/) sources not found.\r\n        Directories to search for the sources can be specified in the\r\n        numpy/distutils/site.cfg file (section [lapack_src]) or by setting\r\n        the LAPACK_SRC environment variable.\r\n      self.calc_info()\r\n    Traceback (most recent call last):\r\n      File \"c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 257, in <module>\r\n        main()\r\n      File \"c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 240, in main\r\n        json_out['return_val'] = hook(**hook_input['kwargs'])\r\n      File \"c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 110, in prepare_metadata_for_build_wheel\r\n        return hook(metadata_directory, config_settings)\r\n      File \"C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\pip-build-env-y2jstmd5\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 156, in prepare_metadata_for_build_wheel\r\n        self.run_setup()\r\n      File \"C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\pip-build-env-y2jstmd5\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 236, in run_setup\r\n        super(_BuildMetaLegacyBackend,\r\n      File \"C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\pip-build-env-y2jstmd5\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 142, in run_setup\r\n        exec(compile(code, __file__, 'exec'), locals())\r\n      File \"setup.py\", line 505, in <module>\r\n        setup_package()\r\n      File \"setup.py\", line 501, in setup_package\r\n        setup(**metadata)\r\n      File \"C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\pip-build-env-y2jstmd5\\overlay\\Lib\\site-packages\\numpy\\distutils\\core.py\", line 135, in setup\r\n        config = configuration()\r\n      File \"setup.py\", line 403, in configuration\r\n        raise NotFoundError(msg)\r\n    numpy.distutils.system_info.NotFoundError: No lapack/blas resources found.\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: 'c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\python.exe' 'c:\\users\\uqcmeng1\\appdata\\local\\programs\\python\\python38-32\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py' prepare_metadata_for_build_wheel 'C:\\Users\\uqcmeng1\\AppData\\Local\\Temp\\tmpi3ihkvef' Check the logs for full command output.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1007", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1007/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1007/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1007/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1007", "id": 514833676, "node_id": "MDU6SXNzdWU1MTQ4MzM2NzY=", "number": 1007, "title": "execute_batch and RETURNING only returns 1 value", "user": {"login": "tsoernes", "id": 6782404, "node_id": "MDQ6VXNlcjY3ODI0MDQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/6782404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tsoernes", "html_url": "https://github.com/tsoernes", "followers_url": "https://api.github.com/users/tsoernes/followers", "following_url": "https://api.github.com/users/tsoernes/following{/other_user}", "gists_url": "https://api.github.com/users/tsoernes/gists{/gist_id}", "starred_url": "https://api.github.com/users/tsoernes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tsoernes/subscriptions", "organizations_url": "https://api.github.com/users/tsoernes/orgs", "repos_url": "https://api.github.com/users/tsoernes/repos", "events_url": "https://api.github.com/users/tsoernes/events{/privacy}", "received_events_url": "https://api.github.com/users/tsoernes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-30T17:01:20Z", "updated_at": "2019-10-30T17:34:55Z", "closed_at": "2019-10-30T17:34:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I only get back 1 return value after inserting 2 rows.\r\n```\r\n\r\nIn [997]: execute_batch(db2.cursor, \"INSERT INTO companieshouse_filings (name, date, link) VALUES (%(name)s, %(date)s, %(link)s) RETURNING id\", ({'name':'name1', 'date':'date1', 'link':'link1'},{'name':'name2', 'date':'date2', 'link':'link2'}))\r\n\r\nIn [998]: db2.cursor.fetchall()\r\nOut[998]: [(1280,)]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1006", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1006/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1006/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1006/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1006", "id": 514057790, "node_id": "MDU6SXNzdWU1MTQwNTc3OTA=", "number": 1006, "title": "Python 3.8: ImportError: DLL load failed while importing _psycopg: The specified module could not be found.", "user": {"login": "samvdkris", "id": 22723225, "node_id": "MDQ6VXNlcjIyNzIzMjI1", "avatar_url": "https://avatars0.githubusercontent.com/u/22723225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/samvdkris", "html_url": "https://github.com/samvdkris", "followers_url": "https://api.github.com/users/samvdkris/followers", "following_url": "https://api.github.com/users/samvdkris/following{/other_user}", "gists_url": "https://api.github.com/users/samvdkris/gists{/gist_id}", "starred_url": "https://api.github.com/users/samvdkris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/samvdkris/subscriptions", "organizations_url": "https://api.github.com/users/samvdkris/orgs", "repos_url": "https://api.github.com/users/samvdkris/repos", "events_url": "https://api.github.com/users/samvdkris/events{/privacy}", "received_events_url": "https://api.github.com/users/samvdkris/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2019-10-29T16:33:12Z", "updated_at": "2020-03-20T08:28:03Z", "closed_at": "2019-10-29T16:55:19Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "TL; DR: update pip. See [this comment](https://github.com/psycopg/psycopg2/issues/1006#issuecomment-599127025)\r\n\r\nI get this error when trying to import psycopg2 in Python 3.8 on Windows 10. I already tried reinstalling (both psycopg2 and psycopg2-binary) and even reinstalling Postgres. Seems to work fine on Python 3.7.\r\n\r\n\t>>> import psycopg2\r\n\tTraceback (most recent call last):\r\n\t  File \"<stdin>\", line 1, in <module>\r\n\t  File \"D:\\Documents\\Programming\\blokken\\.venv\\lib\\site-packages\\psycopg2\\__init__.py\", line 50, in <module>\r\n\t    from psycopg2._psycopg import (                     # noqa\r\n\tImportError: DLL load failed while importing _psycopg: The specified module could not be found.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1005", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1005/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1005/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1005/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1005", "id": 513353289, "node_id": "MDU6SXNzdWU1MTMzNTMyODk=", "number": 1005, "title": "cursor.description does not return all info", "user": {"login": "mikaelene", "id": 13303653, "node_id": "MDQ6VXNlcjEzMzAzNjUz", "avatar_url": "https://avatars3.githubusercontent.com/u/13303653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikaelene", "html_url": "https://github.com/mikaelene", "followers_url": "https://api.github.com/users/mikaelene/followers", "following_url": "https://api.github.com/users/mikaelene/following{/other_user}", "gists_url": "https://api.github.com/users/mikaelene/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikaelene/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikaelene/subscriptions", "organizations_url": "https://api.github.com/users/mikaelene/orgs", "repos_url": "https://api.github.com/users/mikaelene/repos", "events_url": "https://api.github.com/users/mikaelene/events{/privacy}", "received_events_url": "https://api.github.com/users/mikaelene/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-28T14:49:28Z", "updated_at": "2019-10-28T17:00:26Z", "closed_at": "2019-10-28T16:44:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "As per [docs](http://initd.org/psycopg/docs/cursor.html), cursor.description should return column instances with 7 items. For me it only returns the first 2 items. I am on: `psycopg2==2.8.4`\r\n\r\n```\r\nimport psycopg2\r\n\r\ndb = psycopg2.connect(\"host=localhost dbname= postgres\")\r\ncur = db.cursor()\r\n\r\ncur.execute('SELECT table_schema, column_name, ordinal_position FROM information_schema.\"columns\" fetch first 10 rows only')\r\nprint(cur.description)\r\n```\r\n\r\nyields:\r\n\r\n```(Column(name='table_schema', type_code=1043), Column(name='column_name', type_code=1043), Column(name='ordinal_position', type_code=23))```\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/psycopg/psycopg2/issues/1004", "repository_url": "https://api.github.com/repos/psycopg/psycopg2", "labels_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1004/labels{/name}", "comments_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1004/comments", "events_url": "https://api.github.com/repos/psycopg/psycopg2/issues/1004/events", "html_url": "https://github.com/psycopg/psycopg2/issues/1004", "id": 513304066, "node_id": "MDU6SXNzdWU1MTMzMDQwNjY=", "number": 1004, "title": "Still doesn't work using python 3.8", "user": {"login": "AndysonDK", "id": 28491857, "node_id": "MDQ6VXNlcjI4NDkxODU3", "avatar_url": "https://avatars1.githubusercontent.com/u/28491857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndysonDK", "html_url": "https://github.com/AndysonDK", "followers_url": "https://api.github.com/users/AndysonDK/followers", "following_url": "https://api.github.com/users/AndysonDK/following{/other_user}", "gists_url": "https://api.github.com/users/AndysonDK/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndysonDK/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndysonDK/subscriptions", "organizations_url": "https://api.github.com/users/AndysonDK/orgs", "repos_url": "https://api.github.com/users/AndysonDK/repos", "events_url": "https://api.github.com/users/AndysonDK/events{/privacy}", "received_events_url": "https://api.github.com/users/AndysonDK/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-28T13:29:52Z", "updated_at": "2019-10-28T16:43:04Z", "closed_at": "2019-10-28T16:43:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running this following command on windows 64bit using python 3.8:\r\n`python -m pip install --upgrade psycopg2`\r\n\r\nI'm getting this following error:\r\n\r\npsycopgmodule.obj : error LNK2001: unresolved external symbol _PQfreemem\r\n    psycopgmodule.obj : error LNK2001: unresolved external symbol _PQencryptPasswordConn\r\n    psycopgmodule.obj : error LNK2001: unresolved external symbol _PQencryptPassword\r\n    psycopgmodule.obj : error LNK2001: unresolved external symbol _PQinitOpenSSL\r\n    psycopgmodule.obj : error LNK2001: unresolved external symbol _PQconninfoParse\r\n    psycopgmodule.obj : error LNK2001: unresolved external symbol _PQerrorMessage\r\n    psycopgmodule.obj : error LNK2001: unresolved external symbol _PQlibVersion\r\n    psycopgmodule.obj : error LNK2001: unresolved external symbol _PQconninfoFree\r\n    green.obj : error LNK2001: unresolved external symbol _PQclear\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQbinaryTuples\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQsetnonblocking\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQgetvalue\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQresultStatus\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQoidValue\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQcmdStatus\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQsocket\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQftablecol\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQputCopyData\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQstatus\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQisBusy\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQconsumeInput\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQresultErrorField\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQfsize\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQfname\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQsendQuery\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQgetCopyData\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQftable\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQflush\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQftype\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQnfields\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQresultErrorMessage\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQexec\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQfmod\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQcmdTuples\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQntuples\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQresStatus\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQputCopyEnd\r\n    pqpath.obj : error LNK2001: unresolved external symbol _PQgetResult\r\n    utils.obj : error LNK2001: unresolved external symbol _PQescapeString\r\n    utils.obj : error LNK2001: unresolved external symbol _PQescapeStringConn\r\n    utils.obj : error LNK2001: unresolved external symbol _PQescapeIdentifier\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQconnectPoll\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQserverVersion\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQnotifies\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQsetNoticeProcessor\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQgetCancel\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQfinish\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQprotocolVersion\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQfreeCancel\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQconnectdb\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQconnectStart\r\n    connection_int.obj : error LNK2001: unresolved external symbol _PQparameterStatus\r\n    connection_type.obj : error LNK2001: unresolved external symbol _PQcancel\r\n    connection_type.obj : error LNK2001: unresolved external symbol _PQtransactionStatus\r\n    connection_type.obj : error LNK2001: unresolved external symbol _PQbackendPID\r\n    connection_type.obj : error LNK2001: unresolved external symbol _PQconninfo\r\n    cursor_type.obj : error LNK2001: unresolved external symbol _PQgetisnull\r\n    cursor_type.obj : error LNK2001: unresolved external symbol _PQgetlength\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQsslInUse\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQconnectionNeedsPassword\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQpass\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQdb\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQsslAttribute\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQport\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQoptions\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQconnectionUsedPassword\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQsslAttributeNames\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQuser\r\n    conninfo_type.obj : error LNK2001: unresolved external symbol _PQhost\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_truncate\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_write\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_export\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_import\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_creat\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_read\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_tell\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_create\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_lseek\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_unlink\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_open\r\n    lobject_int.obj : error LNK2001: unresolved external symbol _lo_close\r\n    adapter_binary.obj : error LNK2001: unresolved external symbol _PQescapeByteaConn\r\n    adapter_binary.obj : error LNK2001: unresolved external symbol _PQescapeBytea\r\n    build\\lib.win32-3.8\\psycopg2\\_psycopg.cp38-win32.pyd : fatal error LNK1120: 83 unresolved externals\r\n    error: command 'C:\\\\Program Files (x86)\\\\Microsoft Visual Studio\\\\2019\\\\Community\\\\VC\\\\Tools\\\\MSVC\\\\14.22.27905\\\\bin\\\\HostX86\\\\x86\\\\link.exe' failed with exit status 1120\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: 'C:\\Users\\Anders\\AppData\\Local\\Programs\\Python\\Python38-32\\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\Anders\\\\AppData\\\\Local\\\\Temp\\\\pip-install-h5aum2_7\\\\psycopg2\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\Anders\\\\AppData\\\\Local\\\\Temp\\\\pip-install-h5aum2_7\\\\psycopg2\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record 'C:\\Users\\Anders\\AppData\\Local\\Temp\\pip-record-feiu7iyx\\install-record.txt' --single-version-externally-managed --compile Check the logs for full command output.", "performed_via_github_app": null, "score": 1.0}]}