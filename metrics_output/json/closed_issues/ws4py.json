{"total_count": 104, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/264", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/264/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/264/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/264/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/264", "id": 638632178, "node_id": "MDU6SXNzdWU2Mzg2MzIxNzg=", "number": 264, "title": "How to stop connections to zombie clients? ", "user": {"login": "AlexisTM", "id": 6976744, "node_id": "MDQ6VXNlcjY5NzY3NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/6976744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlexisTM", "html_url": "https://github.com/AlexisTM", "followers_url": "https://api.github.com/users/AlexisTM/followers", "following_url": "https://api.github.com/users/AlexisTM/following{/other_user}", "gists_url": "https://api.github.com/users/AlexisTM/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlexisTM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlexisTM/subscriptions", "organizations_url": "https://api.github.com/users/AlexisTM/orgs", "repos_url": "https://api.github.com/users/AlexisTM/repos", "events_url": "https://api.github.com/users/AlexisTM/events{/privacy}", "received_events_url": "https://api.github.com/users/AlexisTM/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-15T08:01:43Z", "updated_at": "2020-06-30T11:40:51Z", "closed_at": "2020-06-30T11:40:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using cherrypy. I and would like to stop the server-side connection of unreachable clients.\r\n\r\nI did not get how to set the frequency `heartbeat_freq` for all the clients thus tried to set up one Heartbeat for each client on connection without success. \r\n\r\n```python\r\n    def opened(self):\r\n        self.hb = websocket.Heartbeat(self, 2.0)\r\n```\r\n\r\nTo reproduce zombies:\r\n* Start a phone connected to the WebSocket server\r\n* Disable WiFi from the phone\r\n* The client is disconnected but the backend never fails and `self.client_terminated` is never set to True\r\n\r\nThe only way to terminate the zombie is to restart WiFi, reopen a Websocket connection thus the other connection can finally fail (reachable again).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/257", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/257/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/257/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/257/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/257", "id": 423146083, "node_id": "MDU6SXNzdWU0MjMxNDYwODM=", "number": 257, "title": "Have class be normally accesable from other modules.", "user": {"login": "Directory", "id": 26686708, "node_id": "MDQ6VXNlcjI2Njg2NzA4", "avatar_url": "https://avatars3.githubusercontent.com/u/26686708?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Directory", "html_url": "https://github.com/Directory", "followers_url": "https://api.github.com/users/Directory/followers", "following_url": "https://api.github.com/users/Directory/following{/other_user}", "gists_url": "https://api.github.com/users/Directory/gists{/gist_id}", "starred_url": "https://api.github.com/users/Directory/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Directory/subscriptions", "organizations_url": "https://api.github.com/users/Directory/orgs", "repos_url": "https://api.github.com/users/Directory/repos", "events_url": "https://api.github.com/users/Directory/events{/privacy}", "received_events_url": "https://api.github.com/users/Directory/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-03-20T09:23:23Z", "updated_at": "2020-04-24T22:27:45Z", "closed_at": "2020-04-24T22:27:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to use this like a library. The subclass is stupidly restrictive because the only thing it can do is websocket unless you move an entire project inside of it making this a pointless websocket library. I should be able to send messages with this library from another module normally. i should be able to recieve messages with a simple function from other modules. Make this an actual normal library. Cause else this is useless.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/235", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/235/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/235/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/235", "id": 276406744, "node_id": "MDU6SXNzdWUyNzY0MDY3NDQ=", "number": 235, "title": "ws4py broken using cherrypy>=11.1.0", "user": {"login": "matt-hammond-bbc", "id": 697281, "node_id": "MDQ6VXNlcjY5NzI4MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/697281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matt-hammond-bbc", "html_url": "https://github.com/matt-hammond-bbc", "followers_url": "https://api.github.com/users/matt-hammond-bbc/followers", "following_url": "https://api.github.com/users/matt-hammond-bbc/following{/other_user}", "gists_url": "https://api.github.com/users/matt-hammond-bbc/gists{/gist_id}", "starred_url": "https://api.github.com/users/matt-hammond-bbc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matt-hammond-bbc/subscriptions", "organizations_url": "https://api.github.com/users/matt-hammond-bbc/orgs", "repos_url": "https://api.github.com/users/matt-hammond-bbc/repos", "events_url": "https://api.github.com/users/matt-hammond-bbc/events{/privacy}", "received_events_url": "https://api.github.com/users/matt-hammond-bbc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-11-23T15:10:18Z", "updated_at": "2017-12-19T11:58:29Z", "closed_at": "2017-12-19T11:58:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "ws4py appears to be broken when using latest ws4py and cherrypy>=11.1.0 (installed via pip). Specifically I'm using python 2.7 and I've got these package versions installed:\r\n\r\n- ws4py==0.4.2\r\n- cheroot==5.9.1\r\n\r\nI've tested with CherryPy==\r\n- Works: 10.2.1 | 10.2.2 | 11.0.0\r\n- Broken: 11.1.0 | 11.2.0 | 12.0.0 | 12.0.1\r\n\r\nWhen running the [simple server example](http://ws4py.readthedocs.io/en/latest/sources/servertutorial/#cherrypy) I get the following error when I make a websocket connection to this server:\r\n```\r\n127.0.0.1 - - [23/Nov/2017:14:58:23] \"GET /ws HTTP/1.1\" 101 - \"\" \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:49.0) Gecko/20100101 Firefox/49.0\"\r\n[23/Nov/2017:14:58:23] ENGINE AttributeError(\"'NoneType' object has no attribute 'recv'\",)\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python2.7/dist-packages/cheroot/server.py\", line 1112, in communicate\r\n    req.parse_request()\r\n  File \"/usr/local/lib/python2.7/dist-packages/cheroot/server.py\", line 638, in parse_request\r\n    success = self.read_request_line()\r\n  File \"/usr/local/lib/python2.7/dist-packages/cheroot/server.py\", line 676, in read_request_line\r\n    request_line = self.rfile.readline()\r\n  File \"/usr/local/lib/python2.7/dist-packages/cheroot/server.py\", line 233, in readline\r\n    data = self.rfile.readline(256)\r\n  File \"/usr/local/lib/python2.7/dist-packages/cheroot/makefile.py\", line 233, in readline\r\n    data = self.recv(self._rbufsize)\r\n  File \"/usr/local/lib/python2.7/dist-packages/cheroot/makefile.py\", line 87, in recv\r\n    data = self._sock.recv(size)\r\nAttributeError: 'NoneType' object has no attribute 'recv'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/216", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/216/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/216/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/216", "id": 228482348, "node_id": "MDU6SXNzdWUyMjg0ODIzNDg=", "number": 216, "title": "Include option to have no Origin header", "user": {"login": "klattimer", "id": 68342, "node_id": "MDQ6VXNlcjY4MzQy", "avatar_url": "https://avatars2.githubusercontent.com/u/68342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klattimer", "html_url": "https://github.com/klattimer", "followers_url": "https://api.github.com/users/klattimer/followers", "following_url": "https://api.github.com/users/klattimer/following{/other_user}", "gists_url": "https://api.github.com/users/klattimer/gists{/gist_id}", "starred_url": "https://api.github.com/users/klattimer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klattimer/subscriptions", "organizations_url": "https://api.github.com/users/klattimer/orgs", "repos_url": "https://api.github.com/users/klattimer/repos", "events_url": "https://api.github.com/users/klattimer/events{/privacy}", "received_events_url": "https://api.github.com/users/klattimer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-05-13T16:00:28Z", "updated_at": "2017-05-18T11:05:45Z", "closed_at": "2017-05-18T11:05:45Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm working with a websocket client for an LGTV and if I try to use your client I get an invalid origin error when I'm not including an origin. \r\n\r\nby editing handshake_headers to remove the origin header entirely I was able to handshake with the TV.\r\n\r\nI'm preparing a patch in a fork for submission.\r\n ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/209", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/209/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/209/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/209", "id": 213010326, "node_id": "MDU6SXNzdWUyMTMwMTAzMjY=", "number": 209, "title": "PyPI latest release 0.3.5 does not include #205 and therefore breaks with cherrypy", "user": {"login": "matt-hammond-bbc", "id": 697281, "node_id": "MDQ6VXNlcjY5NzI4MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/697281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matt-hammond-bbc", "html_url": "https://github.com/matt-hammond-bbc", "followers_url": "https://api.github.com/users/matt-hammond-bbc/followers", "following_url": "https://api.github.com/users/matt-hammond-bbc/following{/other_user}", "gists_url": "https://api.github.com/users/matt-hammond-bbc/gists{/gist_id}", "starred_url": "https://api.github.com/users/matt-hammond-bbc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matt-hammond-bbc/subscriptions", "organizations_url": "https://api.github.com/users/matt-hammond-bbc/orgs", "repos_url": "https://api.github.com/users/matt-hammond-bbc/repos", "events_url": "https://api.github.com/users/matt-hammond-bbc/events{/privacy}", "received_events_url": "https://api.github.com/users/matt-hammond-bbc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-09T11:32:14Z", "updated_at": "2017-03-23T22:08:08Z", "closed_at": "2017-03-23T22:08:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello!\r\n\r\nPlease can I request that a new release be pushed to PyPI?\r\n\r\nbbc/pydvbcss#13 is blocked because the fix #205 is not yet published to PyPI. Our project depends on ws4py and we currently recommend ws4py is installed via pip. The latest published package (0.3.5) does not yet include #205.\r\n\r\n Many thanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/208", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/208/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/208/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/208/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/208", "id": 212476842, "node_id": "MDU6SXNzdWUyMTI0NzY4NDI=", "number": 208, "title": "client/__init__ protocols join fails line 326", "user": {"login": "isaacsanders", "id": 651597, "node_id": "MDQ6VXNlcjY1MTU5Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/651597?v=4", "gravatar_id": "", "url": "https://api.github.com/users/isaacsanders", "html_url": "https://github.com/isaacsanders", "followers_url": "https://api.github.com/users/isaacsanders/followers", "following_url": "https://api.github.com/users/isaacsanders/following{/other_user}", "gists_url": "https://api.github.com/users/isaacsanders/gists{/gist_id}", "starred_url": "https://api.github.com/users/isaacsanders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/isaacsanders/subscriptions", "organizations_url": "https://api.github.com/users/isaacsanders/orgs", "repos_url": "https://api.github.com/users/isaacsanders/repos", "events_url": "https://api.github.com/users/isaacsanders/events{/privacy}", "received_events_url": "https://api.github.com/users/isaacsanders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 568122916, "node_id": "MDU6TGFiZWw1NjgxMjI5MTY=", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/invalid", "name": "invalid", "color": "fef2c0", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-07T16:02:24Z", "updated_at": "2017-03-24T15:52:40Z", "closed_at": "2017-03-24T15:52:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "From a coworker without a Github:\r\n\r\n> I am trying to use the ws4py library with protocols and having issues. Line 326 in `client/__init__.py` is returning a TypeError related to the join statement. The value is a `b'string'` is an int and join is expecting a str. I was able to make this work by changing the line from `','.join(value)` to `','.join(str(value))`. I am fairly new to python and I am not sure this change will not have unintended consequences.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/207", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/207/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/207/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/207/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/207", "id": 203324035, "node_id": "MDU6SXNzdWUyMDMzMjQwMzU=", "number": 207, "title": "Unable to reconnect", "user": {"login": "motoom", "id": 272540, "node_id": "MDQ6VXNlcjI3MjU0MA==", "avatar_url": "https://avatars3.githubusercontent.com/u/272540?v=4", "gravatar_id": "", "url": "https://api.github.com/users/motoom", "html_url": "https://github.com/motoom", "followers_url": "https://api.github.com/users/motoom/followers", "following_url": "https://api.github.com/users/motoom/following{/other_user}", "gists_url": "https://api.github.com/users/motoom/gists{/gist_id}", "starred_url": "https://api.github.com/users/motoom/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/motoom/subscriptions", "organizations_url": "https://api.github.com/users/motoom/orgs", "repos_url": "https://api.github.com/users/motoom/repos", "events_url": "https://api.github.com/users/motoom/events{/privacy}", "received_events_url": "https://api.github.com/users/motoom/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-01-26T09:21:00Z", "updated_at": "2017-03-24T13:55:45Z", "closed_at": "2017-03-24T13:55:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "I run a chat service with CherryPy and ws4py. The client runs in a webbrowser and is very similar to the chat example from ws4py. When the client notices that the connection has been disconnected (this can happen easily, for example, due to an unstable Wifi connection), I try to re-establish the connection to the server. This somehow doesn't work. Am I trying to do something that is unsupported, or should it indeed be possible to reconnect a closed-down websocket? In the first case, I must find an alternative to ws4py, in the second case, I can prepare a minimal code example which demonstrates the behaviour.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/205", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/205/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/205/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/205", "id": 202588860, "node_id": "MDU6SXNzdWUyMDI1ODg4NjA=", "number": 205, "title": "CherryPy does not use its own wsgiserver anymore, which ws4py depended on", "user": {"login": "JoeStaines", "id": 1666390, "node_id": "MDQ6VXNlcjE2NjYzOTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1666390?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JoeStaines", "html_url": "https://github.com/JoeStaines", "followers_url": "https://api.github.com/users/JoeStaines/followers", "following_url": "https://api.github.com/users/JoeStaines/following{/other_user}", "gists_url": "https://api.github.com/users/JoeStaines/gists{/gist_id}", "starred_url": "https://api.github.com/users/JoeStaines/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JoeStaines/subscriptions", "organizations_url": "https://api.github.com/users/JoeStaines/orgs", "repos_url": "https://api.github.com/users/JoeStaines/repos", "events_url": "https://api.github.com/users/JoeStaines/events{/privacy}", "received_events_url": "https://api.github.com/users/JoeStaines/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-01-23T16:51:28Z", "updated_at": "2017-02-24T15:15:15Z", "closed_at": "2017-02-24T15:15:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "From 9.0.0 onwards, cherrypy removed its wsgiserver module and is now using cheroot instead. Since ws4py tries to import from cherrypy.wsgiserver this causes everything to break.\r\n\r\nHaven't looked into how big the change will need to be because of this, but at the very least i think there hsould be something indicating that ws4py doesn't support CherryPy from 9.0.0+", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/202", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/202/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/202/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/202", "id": 195880116, "node_id": "MDU6SXNzdWUxOTU4ODAxMTY=", "number": 202, "title": "py2exe / python2.7 / syntax error in \"yield from\" lines", "user": {"login": "erazor83", "id": 1254327, "node_id": "MDQ6VXNlcjEyNTQzMjc=", "avatar_url": "https://avatars1.githubusercontent.com/u/1254327?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erazor83", "html_url": "https://github.com/erazor83", "followers_url": "https://api.github.com/users/erazor83/followers", "following_url": "https://api.github.com/users/erazor83/following{/other_user}", "gists_url": "https://api.github.com/users/erazor83/gists{/gist_id}", "starred_url": "https://api.github.com/users/erazor83/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erazor83/subscriptions", "organizations_url": "https://api.github.com/users/erazor83/orgs", "repos_url": "https://api.github.com/users/erazor83/repos", "events_url": "https://api.github.com/users/erazor83/events{/privacy}", "received_events_url": "https://api.github.com/users/erazor83/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-12-15T18:30:38Z", "updated_at": "2017-03-24T15:58:05Z", "closed_at": "2017-03-24T15:58:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\n\r\nI'm a bit confused about my py2exe output right now.\r\nUsing ws4py on my webapp works nicely with python2 under windows and linux.\r\n\r\nNow I tried to use py2exe which complains about \"yield from\" statements in ws4py code.\r\n\r\nI'm wondering why python2 doesn't complain but py2exe does? Is there some kind of compatibility stuff I'm missing? Because \"yield from\" is not supported in python2.7 afaik.\r\n\r\nThanks for your response.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/192", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/192/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/192/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/192/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/192", "id": 169815433, "node_id": "MDU6SXNzdWUxNjk4MTU0MzM=", "number": 192, "title": "Missing 0.3.5 changelog and tag", "user": {"login": "jodal", "id": 43726, "node_id": "MDQ6VXNlcjQzNzI2", "avatar_url": "https://avatars0.githubusercontent.com/u/43726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jodal", "html_url": "https://github.com/jodal", "followers_url": "https://api.github.com/users/jodal/followers", "following_url": "https://api.github.com/users/jodal/following{/other_user}", "gists_url": "https://api.github.com/users/jodal/gists{/gist_id}", "starred_url": "https://api.github.com/users/jodal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jodal/subscriptions", "organizations_url": "https://api.github.com/users/jodal/orgs", "repos_url": "https://api.github.com/users/jodal/repos", "events_url": "https://api.github.com/users/jodal/events{/privacy}", "received_events_url": "https://api.github.com/users/jodal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-08-07T20:47:22Z", "updated_at": "2017-03-23T22:25:39Z", "closed_at": "2017-03-23T22:25:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "ws4py 0.3.5 was released to PyPI 2016-06-05. However, the git repo doesn't have a tag for the commit that was released nor an updated changelog. Both would be useful when reviewing the changes before updating the Debian package. Thanks!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/191", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/191/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/191/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/191", "id": 158978474, "node_id": "MDU6SXNzdWUxNTg5Nzg0NzQ=", "number": 191, "title": "ws4py 0.3.5 doesn't receive all messages over wss", "user": {"login": "mpetazzoni", "id": 879507, "node_id": "MDQ6VXNlcjg3OTUwNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/879507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpetazzoni", "html_url": "https://github.com/mpetazzoni", "followers_url": "https://api.github.com/users/mpetazzoni/followers", "following_url": "https://api.github.com/users/mpetazzoni/following{/other_user}", "gists_url": "https://api.github.com/users/mpetazzoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpetazzoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpetazzoni/subscriptions", "organizations_url": "https://api.github.com/users/mpetazzoni/orgs", "repos_url": "https://api.github.com/users/mpetazzoni/repos", "events_url": "https://api.github.com/users/mpetazzoni/events{/privacy}", "received_events_url": "https://api.github.com/users/mpetazzoni/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-06-07T17:22:40Z", "updated_at": "2017-03-26T21:34:04Z", "closed_at": "2017-03-24T16:05:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "It appears the latest released version of ws4py (0.3.5) does not correctly received all messages sent by the server when communicating over an SSL WebSocket (`wss://`).\n\nI've confirmed that all messages are correctly received with 0.3.4 regardless of whether I use SSL or not, but when switching to 0.3.5, I only get all messages when using a insecure connection. As soon as I try to use a secured WebSocket with 0.3.5, the client seems to not be received a vast majority of the messages sent by the server.\n\nFor now the only workaround seems to be to stick with 0.3.4.\n\nLet me know if you need more details or if you're unable to reproduce the problem on your side.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/183", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/183/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/183/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/183/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/183", "id": 128997097, "node_id": "MDU6SXNzdWUxMjg5OTcwOTc=", "number": 183, "title": "SSL: received_message not getting called", "user": {"login": "ronin8600", "id": 8991467, "node_id": "MDQ6VXNlcjg5OTE0Njc=", "avatar_url": "https://avatars3.githubusercontent.com/u/8991467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ronin8600", "html_url": "https://github.com/ronin8600", "followers_url": "https://api.github.com/users/ronin8600/followers", "following_url": "https://api.github.com/users/ronin8600/following{/other_user}", "gists_url": "https://api.github.com/users/ronin8600/gists{/gist_id}", "starred_url": "https://api.github.com/users/ronin8600/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ronin8600/subscriptions", "organizations_url": "https://api.github.com/users/ronin8600/orgs", "repos_url": "https://api.github.com/users/ronin8600/repos", "events_url": "https://api.github.com/users/ronin8600/events{/privacy}", "received_events_url": "https://api.github.com/users/ronin8600/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-27T01:26:14Z", "updated_at": "2016-01-27T01:37:46Z", "closed_at": "2016-01-27T01:37:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using Ws4Py 0.3.4 with CherryPy 4.0.0 (builtin SSL adapter) and I'm having issues with websockets when using SSL.  \n\nWhen I try and send a message from my JavaScript client to the WebSocket server my handler function \"received_message\" is never called.  The same code works fine when not using SSL.  I also don't see any exceptions, errors or warning on the client or server.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/182", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/182/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/182/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/182", "id": 126639544, "node_id": "MDU6SXNzdWUxMjY2Mzk1NDQ=", "number": 182, "title": "Python 2.6 support", "user": {"login": "jcubic", "id": 280241, "node_id": "MDQ6VXNlcjI4MDI0MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/280241?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jcubic", "html_url": "https://github.com/jcubic", "followers_url": "https://api.github.com/users/jcubic/followers", "following_url": "https://api.github.com/users/jcubic/following{/other_user}", "gists_url": "https://api.github.com/users/jcubic/gists{/gist_id}", "starred_url": "https://api.github.com/users/jcubic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jcubic/subscriptions", "organizations_url": "https://api.github.com/users/jcubic/orgs", "repos_url": "https://api.github.com/users/jcubic/repos", "events_url": "https://api.github.com/users/jcubic/events{/privacy}", "received_events_url": "https://api.github.com/users/jcubic/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-01-14T11:54:24Z", "updated_at": "2016-01-30T09:12:54Z", "closed_at": "2016-01-21T10:02:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Any chance of support this version of python? I have python 2.6.6 on my shared hosting.\n\nWhat features of Python 2.7 this library use so I can modify it to make it work for my case?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/179", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/179/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/179/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/179", "id": 121018120, "node_id": "MDU6SXNzdWUxMjEwMTgxMjA=", "number": 179, "title": "Upgrading from 0.3.4 to 0.3.5 broke \"protocols\"", "user": {"login": "mpf82", "id": 10152404, "node_id": "MDQ6VXNlcjEwMTUyNDA0", "avatar_url": "https://avatars0.githubusercontent.com/u/10152404?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mpf82", "html_url": "https://github.com/mpf82", "followers_url": "https://api.github.com/users/mpf82/followers", "following_url": "https://api.github.com/users/mpf82/following{/other_user}", "gists_url": "https://api.github.com/users/mpf82/gists{/gist_id}", "starred_url": "https://api.github.com/users/mpf82/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mpf82/subscriptions", "organizations_url": "https://api.github.com/users/mpf82/orgs", "repos_url": "https://api.github.com/users/mpf82/repos", "events_url": "https://api.github.com/users/mpf82/events{/privacy}", "received_events_url": "https://api.github.com/users/mpf82/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-12-08T14:29:21Z", "updated_at": "2018-02-28T16:21:26Z", "closed_at": "2018-02-28T16:21:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nI have a demo application (basically a slightly modified version of the echo demo) that uses protocols, however after upgrading to 0.3.5 yesterday, I get an error in process_handshake_header() whenever I set matching protocols for server and client (Interestingly: omitting the protocols on either server or client, or giving server and client non-matching protocols works!)\n\n``` python\n  File \"..\\ws4py-0.3.5-py3.4.egg\\ws4py\\client\\__init__.py\", line 233, in connect\n    self.protocols, self.extensions = self.process_handshake_header(headers)\n  File \"..\\ws4py-0.3.5-py3.4.egg\\ws4py\\client\\__init__.py\", line 326, in process_handshake_header\n    protocols = ','.join(value)\nTypeError: sequence item 0: expected str instance, int found\n```\n\nEnvironment: Python 3.4 64 bit, cherrypy\n\n``` python\n    class EchoWebSocketHandler(WebSocket):\n        # nothing special here, just echo the message\n\n    cherrypy.quickstart(Root(args.host, args.port, args.ssl), '', config={\n        '/ws_echo': {\n            'tools.websocket.on': True,\n            'tools.websocket.handler_cls': EchoWebSocketHandler,\n            'tools.websocket.protocols': ['ws4py-echo', 'ws4py-test'], # omitting this line works\n            },\n        }\n    )\n```\n\n``` python\n            ws = EchoClient(ws_url, protocols=['ws4py-test', 'ws4py-echo']) # -> error\n            #ws = EchoClient(ws_url, protocols=[]) # this works\n            ws.connect()\n```\n\nSuggested fix in client/**init**.py:\n\n``` python\n            elif header == b'sec-websocket-protocol':\n#                 protocols = ','.join(value) # original line\n                protocols = [x.strip() for x in value.split(b',')] # replacement\n```\n\nI'm not even sure how the original code ever worked in the first place. Isn't value always a (byte)string? not sure how joining the (byte)string can result in an array.\n\nIf this really fixes the problem, you should consider to do the same for extensions.\n\nCheers, Mike\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/178", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/178/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/178/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/178", "id": 116751780, "node_id": "MDU6SXNzdWUxMTY3NTE3ODA=", "number": 178, "title": "Overridden close() not called under windows", "user": {"login": "nicklasb", "id": 8634663, "node_id": "MDQ6VXNlcjg2MzQ2NjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/8634663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklasb", "html_url": "https://github.com/nicklasb", "followers_url": "https://api.github.com/users/nicklasb/followers", "following_url": "https://api.github.com/users/nicklasb/following{/other_user}", "gists_url": "https://api.github.com/users/nicklasb/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklasb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklasb/subscriptions", "organizations_url": "https://api.github.com/users/nicklasb/orgs", "repos_url": "https://api.github.com/users/nicklasb/repos", "events_url": "https://api.github.com/users/nicklasb/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklasb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-11-13T11:35:54Z", "updated_at": "2015-11-15T17:31:03Z", "closed_at": "2015-11-15T17:31:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \nI have encountered a difference between Windows and Linux.\n\nIn Linux, if I close the connection from the server, the close()-function is called, and reason and other stuff are nicely presented to the client.\n\nIn Windows, only the closed(self, code, reason=None)-function is called, and not the close()-function.\nI rather get the \"ConnectionResetError: [WinError 10054] An existing connection was forcibly closed by the remote host\".\n\nThe above error _may_ be because the first close doesn't happen property and it is because the server is shutting down. But if so, the same thing would happen under Linux. It is kind of hard to say, as it is multiprocessing and so forth, so the order of logs differ depending on how quickly stuff happens on each platform.\n\nIt is completely possible that I am missing something, of course, but still..\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/177", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/177/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/177/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/177/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/177", "id": 113900716, "node_id": "MDU6SXNzdWUxMTM5MDA3MTY=", "number": 177, "title": "Enabling cpstats causes ws4py to crash", "user": {"login": "ibrewster", "id": 1500095, "node_id": "MDQ6VXNlcjE1MDAwOTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1500095?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibrewster", "html_url": "https://github.com/ibrewster", "followers_url": "https://api.github.com/users/ibrewster/followers", "following_url": "https://api.github.com/users/ibrewster/following{/other_user}", "gists_url": "https://api.github.com/users/ibrewster/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibrewster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibrewster/subscriptions", "organizations_url": "https://api.github.com/users/ibrewster/orgs", "repos_url": "https://api.github.com/users/ibrewster/repos", "events_url": "https://api.github.com/users/ibrewster/events{/privacy}", "received_events_url": "https://api.github.com/users/ibrewster/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-10-28T19:11:41Z", "updated_at": "2015-11-21T13:05:02Z", "closed_at": "2015-11-21T13:05:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using ws4py with a CherryPy application, enabling the tools.cpstats option of the CherryPy app causes a traceback whenever an attempt to create a websocket is made.\n\n> [28/Oct/2015:08:18:48]  \n> Traceback (most recent call last):\n>   File \"/Library/Python/2.7/site-packages/CherryPy-3.8.0-py2.7.egg/cherrypy/_cprequest.py\", line 104, in run\n>     hook()\n>   File \"/Library/Python/2.7/site-packages/CherryPy-3.8.0-py2.7.egg/cherrypy/_cprequest.py\", line 63, in __call__\n>     return self.callback(**self.kwargs)\n>   File \"build/bdist.macosx-10.10-intel/egg/ws4py/server/cherrypyserver.py\", line 200, in upgrade\n>     ws_conn = get_connection(request.rfile.rfile)\n>   File \"build/bdist.macosx-10.10-intel/egg/ws4py/compat.py\", line 43, in get_connection\n>     return fileobj._sock\n> AttributeError: 'KnownLengthRFile' object has no attribute '_sock'\n> [28/Oct/2015:08:18:48] HTTP \n> Request Headers:\n>   PRAGMA: no-cache\n>   COOKIE: autoTabEnabled=true; fleetStatusFilterCompany=7H; fleetStatusFilterLocation=ALL; fleetStatusRefreshInterval=5; inputNumLegs=5; session_id=5c8303896aff419c175c79dfadbfdc9d75e6c45a\n>   UPGRADE: websocket\n>   HOST: flbubble.ravnalaska.net:8088\n>   ORIGIN: http://flbubble.ravnalaska.net\n>   CONNECTION: Upgrade\n>   CACHE-CONTROL: no-cache\n>   SEC-WEBSOCKET-VERSION: 13\n>   SEC-WEBSOCKET-EXTENSIONS: x-webkit-deflate-frame\n>   USER-AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_1) AppleWebKit/601.2.7 (KHTML, like Gecko) Version/9.0.1 Safari/601.2.7\n>   SEC-WEBSOCKET-KEY: Szh6Uoe+WzqKR1DgW8JcXA==\n>   Remote-Addr: 10.9.1.59\n> [28/Oct/2015:08:18:48] HTTP \n> Traceback (most recent call last):\n>   File \"/Library/Python/2.7/site-packages/CherryPy-3.8.0-py2.7.egg/cherrypy/_cprequest.py\", line 661, in respond\n>     self.hooks.run('before_request_body')\n>   File \"/Library/Python/2.7/site-packages/CherryPy-3.8.0-py2.7.egg/cherrypy/_cprequest.py\", line 114, in run\n>     raise exc\n> AttributeError: 'KnownLengthRFile' object has no attribute '_sock'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/175", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/175/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/175/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/175/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/175", "id": 106780990, "node_id": "MDU6SXNzdWUxMDY3ODA5OTA=", "number": 175, "title": "Only support Python 3.0+ ?", "user": {"login": "zhangwei900808", "id": 4385154, "node_id": "MDQ6VXNlcjQzODUxNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/4385154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhangwei900808", "html_url": "https://github.com/zhangwei900808", "followers_url": "https://api.github.com/users/zhangwei900808/followers", "following_url": "https://api.github.com/users/zhangwei900808/following{/other_user}", "gists_url": "https://api.github.com/users/zhangwei900808/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhangwei900808/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhangwei900808/subscriptions", "organizations_url": "https://api.github.com/users/zhangwei900808/orgs", "repos_url": "https://api.github.com/users/zhangwei900808/repos", "events_url": "https://api.github.com/users/zhangwei900808/events{/privacy}", "received_events_url": "https://api.github.com/users/zhangwei900808/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-16T14:06:39Z", "updated_at": "2015-11-21T13:06:40Z", "closed_at": "2015-11-21T13:06:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/Lawouach/WebSocket-for-Python/tree/master/example/basic\nthis example only support python 3.0+?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/172", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/172/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/172/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/172/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/172", "id": 100988933, "node_id": "MDU6SXNzdWUxMDA5ODg5MzM=", "number": 172, "title": "IOError(interrupted system call) on dropping privilages", "user": {"login": "EternityForest", "id": 758047, "node_id": "MDQ6VXNlcjc1ODA0Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/758047?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EternityForest", "html_url": "https://github.com/EternityForest", "followers_url": "https://api.github.com/users/EternityForest/followers", "following_url": "https://api.github.com/users/EternityForest/following{/other_user}", "gists_url": "https://api.github.com/users/EternityForest/gists{/gist_id}", "starred_url": "https://api.github.com/users/EternityForest/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EternityForest/subscriptions", "organizations_url": "https://api.github.com/users/EternityForest/orgs", "repos_url": "https://api.github.com/users/EternityForest/repos", "events_url": "https://api.github.com/users/EternityForest/events{/privacy}", "received_events_url": "https://api.github.com/users/EternityForest/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-14T10:56:03Z", "updated_at": "2017-03-24T15:59:57Z", "closed_at": "2017-03-24T15:59:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is the same issue referenced here, I believe.\nhttps://github.com/mopidy/mopidy/issues/718\n\nThe errors are IOErrors coming from the line\n                events = self.poller.poll(timeout=self.timeout)\nof the EPollPoller in manager.py\n\nThe errors appear on resume from suspend and when my process drops root(I am using Linux mint on a macbook)\n\nMy current workaround is to wrap that line in a try block, and treat IOErrors as if poll() had returned [ ].\nI assume since the code does not specify edge polling, that any missed events will just be caught on the next poll.\n\nI briefly tested the latest master but the issue appeared to still be present, my apologies if It's my fault and it's already been fixed.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/171", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/171/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/171/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/171", "id": 100477197, "node_id": "MDU6SXNzdWUxMDA0NzcxOTc=", "number": 171, "title": "error: configure_logger(stdout=False, filepath=\"ws4py.log\")", "user": {"login": "zhizhongzhiwai", "id": 6985180, "node_id": "MDQ6VXNlcjY5ODUxODA=", "avatar_url": "https://avatars3.githubusercontent.com/u/6985180?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zhizhongzhiwai", "html_url": "https://github.com/zhizhongzhiwai", "followers_url": "https://api.github.com/users/zhizhongzhiwai/followers", "following_url": "https://api.github.com/users/zhizhongzhiwai/following{/other_user}", "gists_url": "https://api.github.com/users/zhizhongzhiwai/gists{/gist_id}", "starred_url": "https://api.github.com/users/zhizhongzhiwai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zhizhongzhiwai/subscriptions", "organizations_url": "https://api.github.com/users/zhizhongzhiwai/orgs", "repos_url": "https://api.github.com/users/zhizhongzhiwai/repos", "events_url": "https://api.github.com/users/zhizhongzhiwai/events{/privacy}", "received_events_url": "https://api.github.com/users/zhizhongzhiwai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-08-12T06:35:17Z", "updated_at": "2015-11-21T13:07:04Z", "closed_at": "2015-11-21T13:07:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "NameError: global name 'handlers' is not defined\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/170", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/170/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/170/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/170", "id": 100325086, "node_id": "MDU6SXNzdWUxMDAzMjUwODY=", "number": 170, "title": "Python 3.4 and gevent 1.1", "user": {"login": "koliyo", "id": 770348, "node_id": "MDQ6VXNlcjc3MDM0OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/770348?v=4", "gravatar_id": "", "url": "https://api.github.com/users/koliyo", "html_url": "https://github.com/koliyo", "followers_url": "https://api.github.com/users/koliyo/followers", "following_url": "https://api.github.com/users/koliyo/following{/other_user}", "gists_url": "https://api.github.com/users/koliyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/koliyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/koliyo/subscriptions", "organizations_url": "https://api.github.com/users/koliyo/orgs", "repos_url": "https://api.github.com/users/koliyo/repos", "events_url": "https://api.github.com/users/koliyo/events{/privacy}", "received_events_url": "https://api.github.com/users/koliyo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-08-11T14:27:51Z", "updated_at": "2017-03-24T15:58:49Z", "closed_at": "2017-03-24T15:58:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm testing the new gevent 1.1b2 which now support Python3. But the included gevent example https://ws4py.readthedocs.org/en/latest/sources/servertutorial/#gevent\n\ngives crash on Mac OS X 10.10\n\n```\nFailed to receive data\nTraceback (most recent call last):\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/ws4py/websocket.py\", line 300, in once\n    b = self.sock.recv(self.reading_buffer_size)\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.4/lib/python3.4/site-packages/gevent/_socket3.py\", line 280, in recv\n    return _socket.socket.recv(self._sock, *args)\nOSError: [Errno 9] Bad file descriptor\n```\n\nNot sure if this is a problem with ws4py or gevent\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/169", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/169/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/169/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/169", "id": 95995171, "node_id": "MDU6SXNzdWU5NTk5NTE3MQ==", "number": 169, "title": "Is it possible to extract headers from WebSocketProtocol using asyncio", "user": {"login": "a904guy", "id": 404081, "node_id": "MDQ6VXNlcjQwNDA4MQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/404081?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a904guy", "html_url": "https://github.com/a904guy", "followers_url": "https://api.github.com/users/a904guy/followers", "following_url": "https://api.github.com/users/a904guy/following{/other_user}", "gists_url": "https://api.github.com/users/a904guy/gists{/gist_id}", "starred_url": "https://api.github.com/users/a904guy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a904guy/subscriptions", "organizations_url": "https://api.github.com/users/a904guy/orgs", "repos_url": "https://api.github.com/users/a904guy/repos", "events_url": "https://api.github.com/users/a904guy/events{/privacy}", "received_events_url": "https://api.github.com/users/a904guy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-07-20T06:17:03Z", "updated_at": "2015-07-20T15:03:16Z", "closed_at": "2015-07-20T15:03:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've jumped down into the self.proto of the extended WebSocket class, but can't seem to find a way to get header information out from the yield considering it is just reading them and discarding them. Unless I'm overlooking something (It is late...)\n\nI'd love to be able to get the Cookies out during the opened method if possible. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/167", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/167/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/167/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/167/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/167", "id": 86480427, "node_id": "MDU6SXNzdWU4NjQ4MDQyNw==", "number": 167, "title": "Last send never happens", "user": {"login": "nicklasb", "id": 8634663, "node_id": "MDQ6VXNlcjg2MzQ2NjM=", "avatar_url": "https://avatars1.githubusercontent.com/u/8634663?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicklasb", "html_url": "https://github.com/nicklasb", "followers_url": "https://api.github.com/users/nicklasb/followers", "following_url": "https://api.github.com/users/nicklasb/following{/other_user}", "gists_url": "https://api.github.com/users/nicklasb/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicklasb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicklasb/subscriptions", "organizations_url": "https://api.github.com/users/nicklasb/orgs", "repos_url": "https://api.github.com/users/nicklasb/repos", "events_url": "https://api.github.com/users/nicklasb/events{/privacy}", "received_events_url": "https://api.github.com/users/nicklasb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33637074, "node_id": "MDU6TGFiZWwzMzYzNzA3NA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 49, "created_at": "2015-06-09T06:54:11Z", "updated_at": "2016-01-27T02:10:55Z", "closed_at": "2015-09-14T20:40:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\nI have this strange problem. I always have to trail a message with another one (I'll just send an empty one) to make server-side web socket react. \nThe result of this is 1,2,3:  \n\n```\n    self.send(bytes(str(\"1\"), encoding=\"UTF-8\"))\n    self.send(bytes(str(\"2\"), encoding=\"UTF-8\"))\n    self.send(bytes(str(\"3\"), encoding=\"UTF-8\"))\n    self.send(bytes(str(\"\"), encoding=\"UTF-8\"))\n```\n\nAnd the result of this is 1,2:\n\n```\n    self.send(bytes(str(\"1\"), encoding=\"UTF-8\"))\n    self.send(bytes(str(\"2\"), encoding=\"UTF-8\"))\n    self.send(bytes(str(\"3\"), encoding=\"UTF-8\"))\n```\n\nIs this expected behaviour? If so, yeah, It is quite easy to work around, but as I understand it, the protocol shouldn't require it?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/162", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/162/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/162/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/162/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/162", "id": 66645366, "node_id": "MDU6SXNzdWU2NjY0NTM2Ng==", "number": 162, "title": "server, opened() is called each time a message is send", "user": {"login": "heppg", "id": 5240331, "node_id": "MDQ6VXNlcjUyNDAzMzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/5240331?v=4", "gravatar_id": "", "url": "https://api.github.com/users/heppg", "html_url": "https://github.com/heppg", "followers_url": "https://api.github.com/users/heppg/followers", "following_url": "https://api.github.com/users/heppg/following{/other_user}", "gists_url": "https://api.github.com/users/heppg/gists{/gist_id}", "starred_url": "https://api.github.com/users/heppg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/heppg/subscriptions", "organizations_url": "https://api.github.com/users/heppg/orgs", "repos_url": "https://api.github.com/users/heppg/repos", "events_url": "https://api.github.com/users/heppg/events{/privacy}", "received_events_url": "https://api.github.com/users/heppg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2015-04-06T16:33:22Z", "updated_at": "2015-04-07T18:35:39Z", "closed_at": "2015-04-07T18:35:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Using websocket with cherrypy.\nWhenever I pass a message from client to server, the server's opened-method is called.\nI assume that this method should be called only once per successful connection.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/160", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/160/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/160/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/160/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/160", "id": 62114517, "node_id": "MDU6SXNzdWU2MjExNDUxNw==", "number": 160, "title": "tlm", "user": {"login": "ogmasoul3d", "id": 136207, "node_id": "MDQ6VXNlcjEzNjIwNw==", "avatar_url": "https://avatars2.githubusercontent.com/u/136207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ogmasoul3d", "html_url": "https://github.com/ogmasoul3d", "followers_url": "https://api.github.com/users/ogmasoul3d/followers", "following_url": "https://api.github.com/users/ogmasoul3d/following{/other_user}", "gists_url": "https://api.github.com/users/ogmasoul3d/gists{/gist_id}", "starred_url": "https://api.github.com/users/ogmasoul3d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ogmasoul3d/subscriptions", "organizations_url": "https://api.github.com/users/ogmasoul3d/orgs", "repos_url": "https://api.github.com/users/ogmasoul3d/repos", "events_url": "https://api.github.com/users/ogmasoul3d/events{/privacy}", "received_events_url": "https://api.github.com/users/ogmasoul3d/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-16T15:25:27Z", "updated_at": "2015-04-28T18:41:35Z", "closed_at": "2015-04-28T18:41:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/159", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/159/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/159/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/159/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/159", "id": 58600093, "node_id": "MDU6SXNzdWU1ODYwMDA5Mw==", "number": 159, "title": "In opened(), closing connection would crash the server", "user": {"login": "millerf", "id": 790558, "node_id": "MDQ6VXNlcjc5MDU1OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/790558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/millerf", "html_url": "https://github.com/millerf", "followers_url": "https://api.github.com/users/millerf/followers", "following_url": "https://api.github.com/users/millerf/following{/other_user}", "gists_url": "https://api.github.com/users/millerf/gists{/gist_id}", "starred_url": "https://api.github.com/users/millerf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/millerf/subscriptions", "organizations_url": "https://api.github.com/users/millerf/orgs", "repos_url": "https://api.github.com/users/millerf/repos", "events_url": "https://api.github.com/users/millerf/events{/privacy}", "received_events_url": "https://api.github.com/users/millerf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-02-23T15:20:27Z", "updated_at": "2015-05-11T07:44:48Z", "closed_at": "2015-05-11T07:44:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "I think the title sums it up.\n\nI need to kick out clients when IP address is duplicated (cannot connect twice with the same IP)\n\nThis is a pat of the dump\n\nFile \"/Users/millerf/Documents/www/Python/mzk_local/mzk_local/mozaikserver/websocketendpoint.py\", line 44, in opened\n    self.close(error.code,error.message)\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/ws4py/websocket.py\", line 176, in close\n    self._write(self.stream.close(code=code, reason=reason).single(mask=self.stream.always_mask))\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/ws4py/streaming.py\", line 141, in close\n    return CloseControlMessage(code=code, reason=reason)\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/ws4py/messaging.py\", line 145, in __init__\n    data += struct.pack(\"!H\", code)\nerror: integer out of range for 'H' format code \n\nDoes it make any sense?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/146", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/146/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/146/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/146/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/146", "id": 43340635, "node_id": "MDU6SXNzdWU0MzM0MDYzNQ==", "number": 146, "title": "Client connection hangs when using Cherrypy", "user": {"login": "airqnetworks", "id": 3397915, "node_id": "MDQ6VXNlcjMzOTc5MTU=", "avatar_url": "https://avatars1.githubusercontent.com/u/3397915?v=4", "gravatar_id": "", "url": "https://api.github.com/users/airqnetworks", "html_url": "https://github.com/airqnetworks", "followers_url": "https://api.github.com/users/airqnetworks/followers", "following_url": "https://api.github.com/users/airqnetworks/following{/other_user}", "gists_url": "https://api.github.com/users/airqnetworks/gists{/gist_id}", "starred_url": "https://api.github.com/users/airqnetworks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/airqnetworks/subscriptions", "organizations_url": "https://api.github.com/users/airqnetworks/orgs", "repos_url": "https://api.github.com/users/airqnetworks/repos", "events_url": "https://api.github.com/users/airqnetworks/events{/privacy}", "received_events_url": "https://api.github.com/users/airqnetworks/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-09-21T17:40:18Z", "updated_at": "2017-03-24T16:08:14Z", "closed_at": "2017-03-24T16:08:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\nI'm adding support to ws4py in an existing cherrpy application. I'm following the example in the documentation. \nI'm experiencing this problem. Sometime, client connection hangs and the server generates this exception:\n\n``` python\nTraceback (most recent call last):\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 810, in __bootstrap_inner\n    self.run()\n  File \"build/bdist.macosx-10.9-intel/egg/ws4py/manager.py\", line 298, in run\n    polled = self.poller.poll()\n  File \"build/bdist.macosx-10.9-intel/egg/ws4py/manager.py\", line 96, in poll\n    r, w, x = select.select(self._fds, [], [], self.timeout)\nerror: (9, 'Bad file descriptor')\n```\n\nThis happens on MacOS X 10.9, Python 2.7 and CherryPy 3.6\n\nCarmine\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/145", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/145/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/145/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/145/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/145", "id": 42823242, "node_id": "MDU6SXNzdWU0MjgyMzI0Mg==", "number": 145, "title": "low priority: wsgiref example doesn't work", "user": {"login": "Seanny123", "id": 1918825, "node_id": "MDQ6VXNlcjE5MTg4MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1918825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Seanny123", "html_url": "https://github.com/Seanny123", "followers_url": "https://api.github.com/users/Seanny123/followers", "following_url": "https://api.github.com/users/Seanny123/following{/other_user}", "gists_url": "https://api.github.com/users/Seanny123/gists{/gist_id}", "starred_url": "https://api.github.com/users/Seanny123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Seanny123/subscriptions", "organizations_url": "https://api.github.com/users/Seanny123/orgs", "repos_url": "https://api.github.com/users/Seanny123/repos", "events_url": "https://api.github.com/users/Seanny123/events{/privacy}", "received_events_url": "https://api.github.com/users/Seanny123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-09-15T21:53:18Z", "updated_at": "2015-07-22T11:40:12Z", "closed_at": "2015-07-22T11:40:12Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "From the documentation I extracted this example:\n\n```\nfrom wsgiref.simple_server import make_server\nfrom ws4py.websocket import EchoWebSocket\nfrom ws4py.server.wsgirefserver import WSGIServer, WebSocketWSGIRequestHandler\nfrom ws4py.server.wsgiutils import WebSocketWSGIApplication\n\nserver = make_server('', 9000, server_class=WSGIServer,\n                     handler_class=WebSocketWSGIRequestHandler,\n                     app=WebSocketWSGIApplication(handler_cls=EchoWebSocket))\nserver.initialize_websockets_manager()\nserver.serve_forever()\n```\n\nHowever, when I run it, I get the following error:\n\n```\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/wsgiref/handlers.py\", line 85, in run\n    self.result = application(self.environ, self.start_response)\n  File \"/usr/local/lib/python2.7/dist-packages/ws4py/server/wsgiutils.py\", line 101, in __call__\n    raise HandshakeError('Header %s is not defined' % key)\nHandshakeError: Header HTTP_UPGRADE is not defined\n```\n\nThis seems to be some weird header stuff that's a bit beyond my knowledge level and might not even be the fault of ws4py. Additionally, this isn't really that big of a deal, since the built-in CherryPy example works great, so I'm going to go with that for now. Just thought I would mention it for future reference.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/143", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/143/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/143/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/143/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/143", "id": 42816873, "node_id": "MDU6SXNzdWU0MjgxNjg3Mw==", "number": 143, "title": "Why is wsgiref not recommended for production?", "user": {"login": "Seanny123", "id": 1918825, "node_id": "MDQ6VXNlcjE5MTg4MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1918825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Seanny123", "html_url": "https://github.com/Seanny123", "followers_url": "https://api.github.com/users/Seanny123/followers", "following_url": "https://api.github.com/users/Seanny123/following{/other_user}", "gists_url": "https://api.github.com/users/Seanny123/gists{/gist_id}", "starred_url": "https://api.github.com/users/Seanny123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Seanny123/subscriptions", "organizations_url": "https://api.github.com/users/Seanny123/orgs", "repos_url": "https://api.github.com/users/Seanny123/repos", "events_url": "https://api.github.com/users/Seanny123/events{/privacy}", "received_events_url": "https://api.github.com/users/Seanny123/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636712, "node_id": "MDU6TGFiZWwzMzYzNjcxMg==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/enhancement", "name": "enhancement", "color": "e102d8", "default": true, "description": null}, {"id": 33636614, "node_id": "MDU6TGFiZWwzMzYzNjYxNA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/question", "name": "question", "color": "d7e102", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-09-15T20:44:56Z", "updated_at": "2014-09-15T21:14:42Z", "closed_at": "2014-09-15T21:08:41Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In the wonderful documentation it says:\n\n> wsgiref is a built-in WSGI package that provides various classes and helpers to develop against WSGI. Mostly it provides a basic WSGI server that can be usedfor testing or simple demos. ws4py provides support for websocket on wsgiref for testing purpose as well. **It\u2019s not meant to be used in production.**\n\nWhy isn't it recommended to be used in production? I was hoping to use `ws4py` in an application since it has such a delightfully minimal set of requirements, which is really important for me since my application (although it uses a web browser) needs to be able to be installed offline. Consequently, the fewer the requirements and the easier it is to install, the better.\n\nUpdate: Just noticed that CherryPy is also basically requirement free and works with a wide range of Pythons. However, it might be helpful to note in the documentation the reasoning behind this warning. I'm going to compare the two and will make a pull request once I've figured out why.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/140", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/140/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/140/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/140/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/140", "id": 38837758, "node_id": "MDU6SXNzdWUzODgzNzc1OA==", "number": 140, "title": "CherryPy: simple example of an echo server", "user": {"login": "JacquesBopp", "id": 8281086, "node_id": "MDQ6VXNlcjgyODEwODY=", "avatar_url": "https://avatars0.githubusercontent.com/u/8281086?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JacquesBopp", "html_url": "https://github.com/JacquesBopp", "followers_url": "https://api.github.com/users/JacquesBopp/followers", "following_url": "https://api.github.com/users/JacquesBopp/following{/other_user}", "gists_url": "https://api.github.com/users/JacquesBopp/gists{/gist_id}", "starred_url": "https://api.github.com/users/JacquesBopp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JacquesBopp/subscriptions", "organizations_url": "https://api.github.com/users/JacquesBopp/orgs", "repos_url": "https://api.github.com/users/JacquesBopp/repos", "events_url": "https://api.github.com/users/JacquesBopp/events{/privacy}", "received_events_url": "https://api.github.com/users/JacquesBopp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-07-27T12:09:53Z", "updated_at": "2017-03-24T16:07:15Z", "closed_at": "2017-03-24T16:07:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I tried your \"simple example of an echo server\" for CherryPy but I always get Errno 10060. I used exactly the same code as in the example. My CherryPy (version 3.5.0) server runs on a Webfaction server. Url and port used on the client side are 'ws://services.newsdetector.net:10510/ws'. If I run the client locally in a Putty session using 'localhost' and port 10510 everything works fine. I opened the port in the server firewall, so the firewall should not be the problem. Do you have any ideas what's going wrong?\nThank's for your response,\nJacques Bopp\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/137", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/137/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/137/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/137/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/137", "id": 37272667, "node_id": "MDU6SXNzdWUzNzI3MjY2Nw==", "number": 137, "title": "WebSocketClient.closed() always returns code 1006 if reason string empty.", "user": {"login": "SamiAhola", "id": 8090944, "node_id": "MDQ6VXNlcjgwOTA5NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/8090944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SamiAhola", "html_url": "https://github.com/SamiAhola", "followers_url": "https://api.github.com/users/SamiAhola/followers", "following_url": "https://api.github.com/users/SamiAhola/following{/other_user}", "gists_url": "https://api.github.com/users/SamiAhola/gists{/gist_id}", "starred_url": "https://api.github.com/users/SamiAhola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SamiAhola/subscriptions", "organizations_url": "https://api.github.com/users/SamiAhola/orgs", "repos_url": "https://api.github.com/users/SamiAhola/repos", "events_url": "https://api.github.com/users/SamiAhola/events{/privacy}", "received_events_url": "https://api.github.com/users/SamiAhola/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-07-07T14:19:18Z", "updated_at": "2017-03-24T15:59:38Z", "closed_at": "2017-03-24T15:59:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "In websocket.py WebSocket.terminate(), the attribute \"s.closing\" gets tested for existence with:\n\n---\n\n```\n    try:\n        if not s.closing:\n            self.closed(1006, \"Going away\")\n        else:\n```\n\n---\n\nThis does not produce the desired result since \"s.closing\" is iterable.\n\nAs a fix I used the following code:\n\n---\n\n```\n    try:\n        if s.closing == None:\n            self.closed(1006, \"Going away\")\n        else:\n```\n\n---\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/134", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/134/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/134/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/134/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/134", "id": 34404129, "node_id": "MDU6SXNzdWUzNDQwNDEyOQ==", "number": 134, "title": "Server Side Connection Drops Immediately", "user": {"login": "pass-by-value", "id": 5684871, "node_id": "MDQ6VXNlcjU2ODQ4NzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/5684871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pass-by-value", "html_url": "https://github.com/pass-by-value", "followers_url": "https://api.github.com/users/pass-by-value/followers", "following_url": "https://api.github.com/users/pass-by-value/following{/other_user}", "gists_url": "https://api.github.com/users/pass-by-value/gists{/gist_id}", "starred_url": "https://api.github.com/users/pass-by-value/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pass-by-value/subscriptions", "organizations_url": "https://api.github.com/users/pass-by-value/orgs", "repos_url": "https://api.github.com/users/pass-by-value/repos", "events_url": "https://api.github.com/users/pass-by-value/events{/privacy}", "received_events_url": "https://api.github.com/users/pass-by-value/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2014-05-27T19:22:33Z", "updated_at": "2017-03-24T16:09:04Z", "closed_at": "2017-03-24T16:09:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI'm facing an issue trying to establish a secure websocket connection. It looks like the server side websocket connection gets dropped immediately.\n\nFollowing logger output shows up when I make a connection using Firefox.\n\n```\n[INFO    ] Managing websocket [Local => 127.0.0.1:8000 | Remote => 127.0.0.1:57153]\n[INFO    ] Terminating websocket [Local => 127.0.0.1:8000 | Remote => 127.0.0.1:57153]\n```\n\nI used the following code to establish the websocket connection. (I have SSL enabled on my server)\n\n``` javascript\nvar ws = new WebSocket('wss://localhost:8000/all_events/89e9c2ae3f1db4d9952b2a1a6c84bc2b2acf6e2a')\n```\n\nWhen I connect using Google Chrome the \"Managing websocket\" message shows up but there is no \"Terminating\" message. But, when the server side websocket tries to send data to the client I see the following error.\n\n```\nTraceback (most recent call last):\n  File \"/Users/adi/Envs/salt-work/lib/python2.7/site-packages/ws4py/websocket.py\", line 300, in once\n    b = self.sock.recv(self.reading_buffer_size)\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ssl.py\", line 241, in recv\n    return self.read(buflen)\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ssl.py\", line 160, in read\n    return self._sslobj.read(len)\nSSLError: [Errno 1] _ssl.c:1426: error:140943FC:SSL routines:SSL3_READ_BYTES:sslv3 alert bad record mac\n\n[INFO    ] Terminating websocket [Local => 127.0.0.1:8000 | Remote => 127.0.0.1:57031]\nProcess Process-1:2:\nTraceback (most recent call last):\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/multiprocessing/process.py\", line 258, in _bootstrap\n    self.run()\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/multiprocessing/process.py\", line 114, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/Users/adi/salt-api/saltapi/netapi/rest_cherrypy/app.py\", line 1677, in event_stream\n    handler.send('data: {0}\\n\\n'.format(json.dumps(data)), False)\n  File \"/Users/adi/Envs/salt-work/lib/python2.7/site-packages/ws4py/websocket.py\", line 261, in send\n    self._write(m)\n  File \"/Users/adi/Envs/salt-work/lib/python2.7/site-packages/ws4py/websocket.py\", line 243, in _write\n    self.sock.sendall(b)\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ssl.py\", line 229, in sendall\n    v = self.send(data[count:])\n  File \"/usr/local/Cellar/python/2.7.6/Frameworks/Python.framework/Versions/2.7/lib/python2.7/ssl.py\", line 198, in send\n    v = self._sslobj.write(data)\nerror: [Errno 32] Broken pipe\n```\n\nSome more information about my workspace\n- Server: CherryPy 3.2.3\n- Self Signed SSL Certificate\n- ws4py version 0.3.4\n- Edit: Python version 2.7.6\n\nNote: There are no issues with `ws://`, hopefully this is the right place to report my issue.\n\nThanks for creating and maintaining such an awesome project btw!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/131", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/131/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/131/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/131/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/131", "id": 32034187, "node_id": "MDU6SXNzdWUzMjAzNDE4Nw==", "number": 131, "title": "Calling WebSocketClient.terminate() results in AttributeError", "user": {"login": "inactivist", "id": 1195074, "node_id": "MDQ6VXNlcjExOTUwNzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1195074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/inactivist", "html_url": "https://github.com/inactivist", "followers_url": "https://api.github.com/users/inactivist/followers", "following_url": "https://api.github.com/users/inactivist/following{/other_user}", "gists_url": "https://api.github.com/users/inactivist/gists{/gist_id}", "starred_url": "https://api.github.com/users/inactivist/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/inactivist/subscriptions", "organizations_url": "https://api.github.com/users/inactivist/orgs", "repos_url": "https://api.github.com/users/inactivist/repos", "events_url": "https://api.github.com/users/inactivist/events{/privacy}", "received_events_url": "https://api.github.com/users/inactivist/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-04-23T05:43:25Z", "updated_at": "2016-04-05T22:34:54Z", "closed_at": "2015-07-23T20:20:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried this on the master branch on github as well, same issue.\n\nTrying to force close a websocket from the client side, and .terminate() seemed to be just what I'm looking for.\n\npython 2.7.3; Ubuntu 12.04 AMD64\n\n```\nException in thread WebSocketClient:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 551, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 504, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/home/someuser/.virtualenvs/myenv/local/lib/python2.7/site-packages/ws4py/websocket.py\", line 430, in run\n    self.terminate()\n  File \"/home/someuser/.virtualenvs/myenv/local/lib/python2.7/site-packages/ws4py/websocket.py\", line 334, in terminate\n    s._cleanup()\nAttributeError: 'NoneType' object has no attribute '_cleanup'\n\n$ pip freeze\nargparse==1.2.1\nws4py==0.3.4\nwsgiref==0.1.2\n```\n\nThis may well be due to the structure of my program, I'm still investigating.   But it appears that ws4py  is calling terminate() internally during cleanup even though I've already terminated the connection.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/130", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/130/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/130/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/130/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/130", "id": 31443715, "node_id": "MDU6SXNzdWUzMTQ0MzcxNQ==", "number": 130, "title": "ConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it", "user": {"login": "zaazbb", "id": 5773083, "node_id": "MDQ6VXNlcjU3NzMwODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/5773083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaazbb", "html_url": "https://github.com/zaazbb", "followers_url": "https://api.github.com/users/zaazbb/followers", "following_url": "https://api.github.com/users/zaazbb/following{/other_user}", "gists_url": "https://api.github.com/users/zaazbb/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaazbb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaazbb/subscriptions", "organizations_url": "https://api.github.com/users/zaazbb/orgs", "repos_url": "https://api.github.com/users/zaazbb/repos", "events_url": "https://api.github.com/users/zaazbb/events{/privacy}", "received_events_url": "https://api.github.com/users/zaazbb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 29, "created_at": "2014-04-14T08:49:22Z", "updated_at": "2020-05-01T12:33:06Z", "closed_at": "2014-04-15T06:13:42Z", "author_association": "NONE", "active_lock_reason": "off-topic", "body": "when running WebSocketManager example met a error:\n\n``` text\nTraceback (most recent call last):\n  File \"D:\\test\\python\\websockets-master\\example\\Copy of ws4py_server.py\", line 24, in <module>\n    client.connect()\n  File \"C:\\Python34\\lib\\site-packages\\ws4py\\client\\__init__.py\", line 209, in connect\n    self.sock.connect(self.bind_addr)\nConnectionRefusedError: [WinError 10061] No connection could be made because the target machine actively refused it\n```\n\nthe client example on https://ws4py.readthedocs.org/en/latest/sources/managertutorial/\nos: windows xp sp3,  python3.4\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/129", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/129/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/129/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/129/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/129", "id": 31442699, "node_id": "MDU6SXNzdWUzMTQ0MjY5OQ==", "number": 129, "title": "AttributeError: 'NoneType' object has no attribute 'fileno'", "user": {"login": "zaazbb", "id": 5773083, "node_id": "MDQ6VXNlcjU3NzMwODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/5773083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaazbb", "html_url": "https://github.com/zaazbb", "followers_url": "https://api.github.com/users/zaazbb/followers", "following_url": "https://api.github.com/users/zaazbb/following{/other_user}", "gists_url": "https://api.github.com/users/zaazbb/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaazbb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaazbb/subscriptions", "organizations_url": "https://api.github.com/users/zaazbb/orgs", "repos_url": "https://api.github.com/users/zaazbb/repos", "events_url": "https://api.github.com/users/zaazbb/events{/privacy}", "received_events_url": "https://api.github.com/users/zaazbb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2014-04-14T08:32:05Z", "updated_at": "2014-04-14T09:35:26Z", "closed_at": "2014-04-14T09:35:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "when i using WebSocketManager, i met a error:AttributeError: 'NoneType' object has no attribute 'fileno'.\nfull error message as below:\n\n``` text\nException in callback <bound method myWebSocketProtocol.connection_made of <__main__.myWebSocketProtocol object at 0x019EAF30>>(<asyncio.selector_events._SelectorSocketTransport object at 0x01A01330>,)\nhandle: Handle(<bound method myWebSocketProtocol.connection_made of <__main__.myWebSocketProtocol object at 0x019EAF30>>, (<asyncio.selector_events._SelectorSocketTransport object at 0x01A01330>,))\nTraceback (most recent call last):\n  File \"C:\\Python34\\lib\\asyncio\\events.py\", line 39, in _run\n    self._callback(*self._args)\n  File \"D:\\test\\python\\websockets-master\\example\\ws4py_server.py\", line 21, in connection_made\n    m.add(self.ws)\n  File \"C:\\Python34\\lib\\site-packages\\ws4py\\manager.py\", line 240, in add\n    if websocket in self:\n  File \"C:\\Python34\\lib\\site-packages\\ws4py\\manager.py\", line 226, in __contains__\n    fd = ws.sock.fileno()\nAttributeError: 'NoneType' object has no attribute 'fileno'\n```\n\nmy python server code:\n\n``` python\nimport asyncio\nfrom ws4py.async_websocket import WebSocket\nfrom ws4py.server.tulipserver import WebSocketProtocol\nfrom ws4py.manager import WebSocketManager\n\nloop = asyncio.get_event_loop()\n##clients = set()\nm = WebSocketManager()\n\nclass EchoWebSocket(WebSocket):   \n    def received_message(self, message):\n##        for client in clients:\n##            client.send(message.data, message.is_binary)\n        print(message)\n        m.broadcast(message)\n\nclass myWebSocketProtocol(WebSocketProtocol):\n    def connection_made(self, transport):\n        super().connection_made(transport);\n##        clients.add(self.ws)\n        m.add(self.ws)\n\ndef start_server():\n    m.start()\n    proto_factory = lambda: myWebSocketProtocol(EchoWebSocket)\n    return loop.create_server(proto_factory, 'localhost', 4545)\n\ns = loop.run_until_complete(start_server())\nprint('serving on', s.sockets[0].getsockname())\nloop.run_forever()\n```\n\nmy client code:\n\n``` html\n<!DOCTYPE html>\n<html>\n  <head>\n        <title>Websocket Demo</title>\n        <style>\n            #messages {\n                border: dotted 1px #444444;\n                font: 12px arial,sans-serif;\n            }\n\n            #messages > p {\n                padding: 0px;\n                margin: 0px;\n            }\n        </style>\n\n        <script>\n            var messages;\n            var form;\n            var inputBox;\n\n            function log_msg(msg) {\n                var p = document.createElement(\"p\");\n                p.innerHTML = msg;\n                messages.appendChild(p);\n            }\n\n            function doInit() {\n                inputBox = document.getElementById(\"message\");\n                messages = document.getElementById(\"messages\");\n                form = document.getElementById(\"form\");\n                var s;\n                try {\n                    var host = \"ws://localhost:4545/\";\n                    if(window.location.hostname) {\n                        host = \"ws://\" + window.location.hostname + \":4545/\";\n                    }\n\n                    s = new WebSocket(host);\n\n                    s.onopen = function (e) { log_msg(\"connected...\"); };\n                    s.onclose = function (e) { log_msg(\"connection closed.\"); };\n                    s.onerror = function (e) { log_msg(\"connection error.\"); };\n                    s.onmessage = function (e) { log_msg(\"message: \" + e.data); };\n                } catch (ex) {\n                    log_msg(\"connection exception:\" + ex);\n                }\n\n                form.addEventListener(\"submit\", function (e) {\n                    e.preventDefault();\n                    s.send(inputBox.value);\n                    inputBox.value = \"\";\n                }, false);\n            }\n        </script>       \n    </head>\n<body onload=\"doInit()\">\n    <form id=\"form\">\n        <input type=\"text\" id=\"message\">\n        <button type=\"submit\">Send</button>\n    </form>\n    <br/>\n    <div id=\"messages\"></div> \n</body>\n</html>\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/128", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/128/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/128/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/128/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/128", "id": 31359713, "node_id": "MDU6SXNzdWUzMTM1OTcxMw==", "number": 128, "title": "wss is always one message behind", "user": {"login": "zackgalbreath", "id": 224720, "node_id": "MDQ6VXNlcjIyNDcyMA==", "avatar_url": "https://avatars3.githubusercontent.com/u/224720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zackgalbreath", "html_url": "https://github.com/zackgalbreath", "followers_url": "https://api.github.com/users/zackgalbreath/followers", "following_url": "https://api.github.com/users/zackgalbreath/following{/other_user}", "gists_url": "https://api.github.com/users/zackgalbreath/gists{/gist_id}", "starred_url": "https://api.github.com/users/zackgalbreath/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zackgalbreath/subscriptions", "organizations_url": "https://api.github.com/users/zackgalbreath/orgs", "repos_url": "https://api.github.com/users/zackgalbreath/repos", "events_url": "https://api.github.com/users/zackgalbreath/events{/privacy}", "received_events_url": "https://api.github.com/users/zackgalbreath/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2014-04-11T20:33:40Z", "updated_at": "2017-03-23T23:02:26Z", "closed_at": "2017-03-23T23:02:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Messages sent over wss are not received by the server until a subsequent message is sent.  In other words, the server is always one message behind the client.  This only happens over wss, not ws.\n\nHere are the steps to reproduce this issue:\n1. python echo_cherrypy_server.py --ssl\n2. navigate to https://127.0.0.1:9000 in a web browser\n3. notice that no message (\"Userxx entered the room\") appears in the chat room.\n4. type anything into the input box and click Send.  Your new message won't appear, but you will now see the previous one informing you that you entered the room.\n\nI used Firefox and Chrome on Mac & Ubuntu to test this issue.  This behavior did not vary.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/125", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/125/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/125/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/125/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/125", "id": 30482064, "node_id": "MDU6SXNzdWUzMDQ4MjA2NA==", "number": 125, "title": "Asyncio Issues", "user": {"login": "Azareal", "id": 5985165, "node_id": "MDQ6VXNlcjU5ODUxNjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/5985165?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Azareal", "html_url": "https://github.com/Azareal", "followers_url": "https://api.github.com/users/Azareal/followers", "following_url": "https://api.github.com/users/Azareal/following{/other_user}", "gists_url": "https://api.github.com/users/Azareal/gists{/gist_id}", "starred_url": "https://api.github.com/users/Azareal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Azareal/subscriptions", "organizations_url": "https://api.github.com/users/Azareal/orgs", "repos_url": "https://api.github.com/users/Azareal/repos", "events_url": "https://api.github.com/users/Azareal/events{/privacy}", "received_events_url": "https://api.github.com/users/Azareal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2014-03-31T02:43:18Z", "updated_at": "2017-03-24T16:10:51Z", "closed_at": "2017-03-24T16:10:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nFuture/Task exception was never retrieved\nfuture: Task(<closeit>)<exception=ConnectionResetError('Connection lost',)>\nTraceback (most recent call last):\n  File \"C:\\Python34\\lib\\asyncio\\tasks.py\", line 283, in _step\n    result = next(coro)\n  File \"C:\\(censored)\\ws4py\\async_websocket.py\", line 85, in closeit\n    yield from self.proto.writer.drain()\n  File \"C:\\Python34\\lib\\asyncio\\streams.py\", line 286, in drain\n    raise ConnectionResetError('Connection lost')\nConnectionResetError: Connection lost\n```\n\nWhenever a client attempts to connect, the server just seems to cough up this exception.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/124", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/124/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/124/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/124/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/124", "id": 30455436, "node_id": "MDU6SXNzdWUzMDQ1NTQzNg==", "number": 124, "title": "No longer working on Chome 34.0.1847.76", "user": {"login": "davidgiven", "id": 100638, "node_id": "MDQ6VXNlcjEwMDYzOA==", "avatar_url": "https://avatars0.githubusercontent.com/u/100638?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidgiven", "html_url": "https://github.com/davidgiven", "followers_url": "https://api.github.com/users/davidgiven/followers", "following_url": "https://api.github.com/users/davidgiven/following{/other_user}", "gists_url": "https://api.github.com/users/davidgiven/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidgiven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidgiven/subscriptions", "organizations_url": "https://api.github.com/users/davidgiven/orgs", "repos_url": "https://api.github.com/users/davidgiven/repos", "events_url": "https://api.github.com/users/davidgiven/events{/privacy}", "received_events_url": "https://api.github.com/users/davidgiven/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-03-29T23:45:20Z", "updated_at": "2014-03-30T18:18:37Z", "closed_at": "2014-03-30T18:18:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "After updating my app (which I haven't touched for a while) to work with the new APIs, I now find that while it still works fine on Firefox, trying to connect via Chrome 34 produces a 'Error during WebSocket handshake: Sent non-empty 'Sec-WebSocket-Protocol' header but no response was received' message.\n\nThis is with ws4py 0.3.2-1 from Debian.\n\nI have an instance of my app running --- I'll try to keep it going for a while. When it loads, you'll get a login page if everything's working or a 'Disconnected from server' if it's not.\n\nhttp://cowlark.com/~dg/thickishstring\n\nThe source is browsable here:\n\nhttps://cowlark.com/thickishstring/artifact/80406f2ca2a7c2ecebfd00ead64bf074b8b9c746\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/123", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/123/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/123/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/123/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/123", "id": 30450955, "node_id": "MDU6SXNzdWUzMDQ1MDk1NQ==", "number": 123, "title": "ws4py 0.3.3 installation broken", "user": {"login": "jodal", "id": 43726, "node_id": "MDQ6VXNlcjQzNzI2", "avatar_url": "https://avatars0.githubusercontent.com/u/43726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jodal", "html_url": "https://github.com/jodal", "followers_url": "https://api.github.com/users/jodal/followers", "following_url": "https://api.github.com/users/jodal/following{/other_user}", "gists_url": "https://api.github.com/users/jodal/gists{/gist_id}", "starred_url": "https://api.github.com/users/jodal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jodal/subscriptions", "organizations_url": "https://api.github.com/users/jodal/orgs", "repos_url": "https://api.github.com/users/jodal/repos", "events_url": "https://api.github.com/users/jodal/events{/privacy}", "received_events_url": "https://api.github.com/users/jodal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33637074, "node_id": "MDU6TGFiZWwzMzYzNzA3NA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-29T19:38:13Z", "updated_at": "2014-03-30T10:24:08Z", "closed_at": "2014-03-30T10:24:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I commented on commit 57bc35f8cd137386a1d2f9c9ef054e51be96843d, but I guess this deserves its own issue.\n\nws4py 0.3.3 seems to not be installable, ref. the discussion at https://groups.google.com/forum/#!topic/mopidy/35fnKejXeos.\n\nInstall of ws4py 0.3.3 in a clean virtualenv:\n\n```\njodal@kih ~ $ mktmpenv \nNew python executable in tmp-f11e95c161773c08/bin/python \nInstalling setuptools, pip...done. \nThis is a temporary environment. It will be deleted when you run 'deactivate'. \n(tmp-f11e95c161773c08)jodal@kih ~/dev/virtualenvs/tmp-f11e95c161773c08 $ pip install ws4py \nDownloading/unpacking ws4py \n  Downloading ws4py-0.3.3.tar.gz \n  Running setup.py \n(path:/home/jodal/dev/virtualenvs/tmp-f11e95c161773c08/build/ws4py/setup.py) \negg_info for package ws4py \n\n    file ws4py.py (for module ws4py) not found \n    file ws4py/client.py (for module ws4py.client) not found \n    file ws4py/server.py (for module ws4py.server) not found \nInstalling collected packages: ws4py \n  Running setup.py install for ws4py \n    file ws4py.py (for module ws4py) not found \n    file ws4py/client.py (for module ws4py.client) not found \n    file ws4py/server.py (for module ws4py.server) not found \n    file ws4py.py (for module ws4py) not found \n    file ws4py/client.py (for module ws4py.client) not found \n    file ws4py/server.py (for module ws4py.server) not found \n\n    file ws4py.py (for module ws4py) not found \n    file ws4py/client.py (for module ws4py.client) not found \n    file ws4py/server.py (for module ws4py.server) not found \n    file ws4py.py (for module ws4py) not found \n    file ws4py/client.py (for module ws4py.client) not found \n    file ws4py/server.py (for module ws4py.server) not found \nSuccessfully installed ws4py \nCleaning up... \n```\n\nThe install completes, but with a number of errors and the install is incomplete:\n\n``` python\n>>> import ws4py.messaging \nTraceback (most recent call last): \n  File \"<stdin>\", line 1, in <module> \nImportError: No module named messaging \n>>> \n```\n\nLooking in the site-packages dir we only find the `__init__.py` file:\n\n```\n(tmp-f11e95c161773c08)jodal@kih ~/dev/virtualenvs/tmp-f11e95c161773c08 $ cdsitepackages \n(tmp-f11e95c161773c08)jodal@kih ~/dev/virtualenvs/tmp-f11e95c161773c08/lib/python2.7/site-packages $ ls ws4py \n__init__.py  __init__.pyc \n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/122", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/122/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/122/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/122/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/122", "id": 29101381, "node_id": "MDU6SXNzdWUyOTEwMTM4MQ==", "number": 122, "title": "Exception in thread WebSocketClient during unit testing", "user": {"login": "31z4", "id": 3657959, "node_id": "MDQ6VXNlcjM2NTc5NTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/3657959?v=4", "gravatar_id": "", "url": "https://api.github.com/users/31z4", "html_url": "https://github.com/31z4", "followers_url": "https://api.github.com/users/31z4/followers", "following_url": "https://api.github.com/users/31z4/following{/other_user}", "gists_url": "https://api.github.com/users/31z4/gists{/gist_id}", "starred_url": "https://api.github.com/users/31z4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/31z4/subscriptions", "organizations_url": "https://api.github.com/users/31z4/orgs", "repos_url": "https://api.github.com/users/31z4/repos", "events_url": "https://api.github.com/users/31z4/events{/privacy}", "received_events_url": "https://api.github.com/users/31z4/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-03-10T14:57:25Z", "updated_at": "2014-03-29T11:42:26Z", "closed_at": "2014-03-29T11:42:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi! I'm doing some tests for my websocket server using ws4py client and sometimes get this error:\n\n```\nException in thread WebSocketClient:\nTraceback (most recent call last):\n  File \"C:\\Python27\\lib\\threading.py\", line 810, in __bootstrap_inner\n    self.run()\n  File \"C:\\Python27\\lib\\threading.py\", line 763, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"C:\\Python27\\lib\\site-packages\\ws4py\\websocket.py\", line 427, in run\n    if not self.once():\n  File \"C:\\Python27\\lib\\site-packages\\ws4py\\websocket.py\", line 305, in once\n    if not self.process(b):\n  File \"C:\\Python27\\lib\\site-packages\\ws4py\\websocket.py\", line 362, in process\n    self.close(s.closing.code, s.closing.reason)\n  File \"C:\\Python27\\lib\\site-packages\\ws4py\\client\\__init__.py\", line 198, in close\n    self._write(self.stream.close(code=code, reason=reason).single(mask=True))\n  File \"C:\\Python27\\lib\\site-packages\\ws4py\\websocket.py\", line 243, in _write\n    self.sock.sendall(b)\n  File \"C:\\Python27\\lib\\socket.py\", line 224, in meth\n    return getattr(self._sock,name)(*args)\nerror: [Errno 10053] \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd-\n```\n\nHere is test code:\n\n``` python\nfrom httplib import HTTPConnection\nfrom sys import maxint\nfrom unittest import TestCase\n\nfrom ws4py.client.threadedclient import WebSocketClient\n\nimport config\n\nfrom protocol.test_pb2 import Empty\nfrom protocol.packets_pb2 import Client\nfrom protocol.client_pb2 import Login\n\nclass TestClient(WebSocketClient):\n    def __init__(self, path, data):\n        super(TestClient, self).__init__('ws://%s:%u%s' % (config.LISTEN_IP, config.LISTEN_PORT, path))\n\n        self.__connected = None\n        self.__message = None\n\n        self.connect()\n        self.send(data, True)\n        self.run_forever()\n\n    @property\n    def connected(self):\n        return self.__connected\n\n    @property\n    def message(self):\n        return self.__message\n\n    def opened(self):\n        self.__connected = True\n\n    def closed(self, code, reason = None):\n        self.__connected = False\n\n    def received_message(self, message):\n        self.__message = message\n\nclass TestProtocol(TestCase):\n    def __test(self, data, path = '/'):\n        socket = TestClient(path, data)\n        self.assertEqual(socket.connected, False)\n        self.assertIs(socket.message, None)\n\n    def test_incorrect_path(self):\n        packet = Client()\n        packet.type = Client.LOGIN\n        packet.login.id = 0\n        packet.login.type = Login.TEST\n        packet.login.version = 1\n        self.__test(packet.SerializeToString(), '/test')\n\n    def test_empty_packet(self):\n        packet = Empty()\n        self.__test(packet.SerializeToString())\n\n    def test_incorrect_packet(self):\n        self.__test('This is not Protocol Buffers message!')\n\n    def test_unhandled_packet(self):\n        packet = Client()\n        packet.type = maxint\n        self.__test(packet.SerializeToString())\n```\n\nI tried to use gevent based client and got the same error, but less often.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/121", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/121/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/121/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/121/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/121", "id": 29023061, "node_id": "MDU6SXNzdWUyOTAyMzA2MQ==", "number": 121, "title": "TypeError: __str__ returned non-string (type bytes)", "user": {"login": "zaazbb", "id": 5773083, "node_id": "MDQ6VXNlcjU3NzMwODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/5773083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaazbb", "html_url": "https://github.com/zaazbb", "followers_url": "https://api.github.com/users/zaazbb/followers", "following_url": "https://api.github.com/users/zaazbb/following{/other_user}", "gists_url": "https://api.github.com/users/zaazbb/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaazbb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaazbb/subscriptions", "organizations_url": "https://api.github.com/users/zaazbb/orgs", "repos_url": "https://api.github.com/users/zaazbb/repos", "events_url": "https://api.github.com/users/zaazbb/events{/privacy}", "received_events_url": "https://api.github.com/users/zaazbb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-03-08T15:01:53Z", "updated_at": "2014-03-09T11:54:27Z", "closed_at": "2014-03-09T11:54:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "a error occured when running client buildin example(server use wsigref example). error message as below:\n\n``` python\nPython 3.3.4 (v3.3.4:7ff62415e426, Feb 10 2014, 18:12:08) [MSC v.1600 32 bit (Intel)] on win32\nType \"copyright\", \"credits\" or \"license()\" for more information.\n>>> ================================ RESTART ================================\n>>> \n>>> 0\n25\n50\n75\n100\n125\n150\n175\n('Closed down', 1006, 'Going away')\nException in thread WebSocketClient:\nTraceback (most recent call last):\n  File \"C:\\Python33\\lib\\threading.py\", line 901, in _bootstrap_inner\n    self.run()\n  File \"C:\\Python33\\lib\\threading.py\", line 858, in run\n    self._target(*self._args, **self._kwargs)\n  File \"C:\\Python33\\lib\\site-packages\\ws4py\\websocket.py\", line 427, in run\n    if not self.once():\n  File \"C:\\Python33\\lib\\site-packages\\ws4py\\websocket.py\", line 305, in once\n    if not self.process(b):\n  File \"C:\\Python33\\lib\\site-packages\\ws4py\\websocket.py\", line 377, in process\n    self.received_message(s.message)\n  File \"D:\\test\\python\\ws4py\\client_buildin.py\", line 20, in received_message\n    print(\"=> %d %s\" % (len(m), str(m)))\nTypeError: __str__ returned non-string (type bytes)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/120", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/120/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/120/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/120/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/120", "id": 27317682, "node_id": "MDU6SXNzdWUyNzMxNzY4Mg==", "number": 120, "title": "While using the Gevent WebSocket client an os error, OSError: [Errno 24] Too many open files, occurs", "user": {"login": "osiloke", "id": 223890, "node_id": "MDQ6VXNlcjIyMzg5MA==", "avatar_url": "https://avatars0.githubusercontent.com/u/223890?v=4", "gravatar_id": "", "url": "https://api.github.com/users/osiloke", "html_url": "https://github.com/osiloke", "followers_url": "https://api.github.com/users/osiloke/followers", "following_url": "https://api.github.com/users/osiloke/following{/other_user}", "gists_url": "https://api.github.com/users/osiloke/gists{/gist_id}", "starred_url": "https://api.github.com/users/osiloke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/osiloke/subscriptions", "organizations_url": "https://api.github.com/users/osiloke/orgs", "repos_url": "https://api.github.com/users/osiloke/repos", "events_url": "https://api.github.com/users/osiloke/events{/privacy}", "received_events_url": "https://api.github.com/users/osiloke/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-02-11T01:00:02Z", "updated_at": "2014-02-12T07:45:48Z", "closed_at": "2014-02-12T07:39:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a service which forwards messages from a local zeromq based network of services to a remote websocket server via the ws4py gevent websocket class. \nIt seems to be caused by the call to os.urandom in ws4py/messaging.py and the fact that the default rlimit on macosx is 256.\n\nOn high load, the os.urandom fails which brings me to my next question. Is websockets or ws4py gevent client bad for streaming continuous data or should os.random be replaced with something that works under high load. I assumed that gevent would make accesses to /dev/urandom concurrent.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/119", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/119/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/119/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/119/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/119", "id": 27159733, "node_id": "MDU6SXNzdWUyNzE1OTczMw==", "number": 119, "title": "AttributeError: 'MyClient' object has no attribute '_cleanup'", "user": {"login": "stodge", "id": 95512, "node_id": "MDQ6VXNlcjk1NTEy", "avatar_url": "https://avatars3.githubusercontent.com/u/95512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stodge", "html_url": "https://github.com/stodge", "followers_url": "https://api.github.com/users/stodge/followers", "following_url": "https://api.github.com/users/stodge/following{/other_user}", "gists_url": "https://api.github.com/users/stodge/gists{/gist_id}", "starred_url": "https://api.github.com/users/stodge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stodge/subscriptions", "organizations_url": "https://api.github.com/users/stodge/orgs", "repos_url": "https://api.github.com/users/stodge/repos", "events_url": "https://api.github.com/users/stodge/events{/privacy}", "received_events_url": "https://api.github.com/users/stodge/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-02-07T18:26:08Z", "updated_at": "2014-03-29T12:25:00Z", "closed_at": "2014-03-29T12:25:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm getting an exception in tornadoclient when the server closes the websocket:\n\n```\nAttributeError: 'MyClient' object has no attribute '_cleanup'\nERROR:tornado.application:Exception in callback <functools.partial object at 0xe64c00>\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/tornado/ioloop.py\", line 477, in _run_callback\n    callback()\n  File \"/usr/lib64/python2.7/site-packages/tornado/stack_context.py\", line 331, in wrapped\n    raise_exc_info(exc)\n  File \"/usr/lib64/python2.7/site-packages/tornado/stack_context.py\", line 302, in wrapped\n    ret = fn(*args, **kwargs)\n  File \"/usr/lib64/python2.7/site-packages/tornado/iostream.py\", line 354, in wrapper\n    callback(*args)\n  File \"/usr/lib64/python2.7/site-packages/tornado/stack_context.py\", line 331, in wrapped\n    raise_exc_info(exc)\n  File \"/usr/lib64/python2.7/site-packages/tornado/stack_context.py\", line 302, in wrapped\n    ret = fn(*args, **kwargs)\n  File \"/home/mike/Development/test/tornadoclient.py\", line 123, in __stream_closed\n    self._cleanup()\nAttributeError: 'MyClient' object has no attribute '_cleanup'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/117", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/117/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/117/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/117/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/117", "id": 25887074, "node_id": "MDU6SXNzdWUyNTg4NzA3NA==", "number": 117, "title": "Message string representation does not work in Python 3", "user": {"login": "kislyuk", "id": 862013, "node_id": "MDQ6VXNlcjg2MjAxMw==", "avatar_url": "https://avatars1.githubusercontent.com/u/862013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kislyuk", "html_url": "https://github.com/kislyuk", "followers_url": "https://api.github.com/users/kislyuk/followers", "following_url": "https://api.github.com/users/kislyuk/following{/other_user}", "gists_url": "https://api.github.com/users/kislyuk/gists{/gist_id}", "starred_url": "https://api.github.com/users/kislyuk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kislyuk/subscriptions", "organizations_url": "https://api.github.com/users/kislyuk/orgs", "repos_url": "https://api.github.com/users/kislyuk/repos", "events_url": "https://api.github.com/users/kislyuk/events{/privacy}", "received_events_url": "https://api.github.com/users/kislyuk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-19T20:04:15Z", "updated_at": "2014-03-08T16:23:42Z", "closed_at": "2014-01-19T20:10:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Things that result in calling `ws4py.messaging.Message.__str__()` (e.g. `str(message)` don't work in Python 3:\n\n```\n__str__ returned non-string (type bytes)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/115", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/115/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/115/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/115/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/115", "id": 25289245, "node_id": "MDU6SXNzdWUyNTI4OTI0NQ==", "number": 115, "title": "Not able to install a specific version of an unsecure package", "user": {"login": "frgomes", "id": 1257822, "node_id": "MDQ6VXNlcjEyNTc4MjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/1257822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frgomes", "html_url": "https://github.com/frgomes", "followers_url": "https://api.github.com/users/frgomes/followers", "following_url": "https://api.github.com/users/frgomes/following{/other_user}", "gists_url": "https://api.github.com/users/frgomes/gists{/gist_id}", "starred_url": "https://api.github.com/users/frgomes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frgomes/subscriptions", "organizations_url": "https://api.github.com/users/frgomes/orgs", "repos_url": "https://api.github.com/users/frgomes/repos", "events_url": "https://api.github.com/users/frgomes/events{/privacy}", "received_events_url": "https://api.github.com/users/frgomes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-01-09T03:02:58Z", "updated_at": "2014-01-11T09:10:04Z", "closed_at": "2014-01-11T09:10:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "$ pip --version\npip 1.5 from /home/rgomes/.virtualenvs/py276/lib/python2.7/site-packages (python 2.7)\n$ pip list | fgrep setuptools\nsetuptools (2.1)\nsetuptools-bzr (2.2)\nsetuptools-git (1.0)\nsetuptools-hg (0.4)\n\nWhilst this command below succeeds\n\n$ pip install --allow-all-external --allow-unverified fanstatic fanstatic\n\n... unfortunately, the installation fails if a specific package version is desired:\n\n$ pip install --allow-all-external --allow-unverified fanstatic==1.0a4 fanstatic==1.0a4\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/113", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/113/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/113/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/113/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/113", "id": 24874513, "node_id": "MDU6SXNzdWUyNDg3NDUxMw==", "number": 113, "title": "Catch MemoryError when uploading a music file(size: 16M)", "user": {"login": "sinchb", "id": 1590268, "node_id": "MDQ6VXNlcjE1OTAyNjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/1590268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sinchb", "html_url": "https://github.com/sinchb", "followers_url": "https://api.github.com/users/sinchb/followers", "following_url": "https://api.github.com/users/sinchb/following{/other_user}", "gists_url": "https://api.github.com/users/sinchb/gists{/gist_id}", "starred_url": "https://api.github.com/users/sinchb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sinchb/subscriptions", "organizations_url": "https://api.github.com/users/sinchb/orgs", "repos_url": "https://api.github.com/users/sinchb/repos", "events_url": "https://api.github.com/users/sinchb/events{/privacy}", "received_events_url": "https://api.github.com/users/sinchb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33637074, "node_id": "MDU6TGFiZWwzMzYzNzA3NA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-12-30T05:57:12Z", "updated_at": "2014-03-29T14:54:50Z", "closed_at": "2014-03-29T14:54:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I made a wsgirefserver(on openwrt) to receive files uploaded from html page.When the file uploaded is too large (more than 12M), it will throw the MemoryError.In addition, the system memory usage will become abnormally high (99%), and will not come down.\nHowever, after modifing the code to \"for in in xrange(len(data))\", it works perfectly.\nIs ws4py not suitable for transfer large files?\n\n```\nException in thread Thread-3:\nTraceback (most recent call last):\nFile \"/mnt/storage/usr/lib/python2.7/threading.py\", line 551, in __bootstrap_inner\nself.run() \nFile \"/mnt/storage/python_packages/ws4py-0.3.3-py2.7.egg/ws4py/manager.py\", line 310, in run\nif not ws.once():\nFile \"/mnt/storage/python_packages/ws4py-0.3.3-py2.7.egg/ws4py/websocket.py\", line 312, in once\nif not self.process(b):\nFile \"/mnt/storage/python_packages/ws4py-0.3.3-py2.7.egg/ws4py/websocket.py\", line 364, in process\nself.reading_buffer_size = s.parser.send(bytes) or DEFAULT_READING_SIZE\nFile \"/mnt/storage/python_packages/ws4py-0.3.3-py2.7.egg/ws4py/streaming.py\", line 196, in receiver\nsome_bytes = frame.unmask(some_bytes)\nFile \"/mnt/storage/python_packages/ws4py-0.3.3-py2.7.egg/ws4py/framing.py\", line 270, in mask\nfor i in range(len(data)):\nMemoryError\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/111", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/111/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/111/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/111/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/111", "id": 23851569, "node_id": "MDU6SXNzdWUyMzg1MTU2OQ==", "number": 111, "title": "How to use WebSocketManager with server?", "user": {"login": "euclides-jr", "id": 3186071, "node_id": "MDQ6VXNlcjMxODYwNzE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3186071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/euclides-jr", "html_url": "https://github.com/euclides-jr", "followers_url": "https://api.github.com/users/euclides-jr/followers", "following_url": "https://api.github.com/users/euclides-jr/following{/other_user}", "gists_url": "https://api.github.com/users/euclides-jr/gists{/gist_id}", "starred_url": "https://api.github.com/users/euclides-jr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/euclides-jr/subscriptions", "organizations_url": "https://api.github.com/users/euclides-jr/orgs", "repos_url": "https://api.github.com/users/euclides-jr/repos", "events_url": "https://api.github.com/users/euclides-jr/events{/privacy}", "received_events_url": "https://api.github.com/users/euclides-jr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-12-06T11:29:00Z", "updated_at": "2013-12-06T15:26:19Z", "closed_at": "2013-12-06T13:00:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "is there anyway to add connected clients to WSM?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/109", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/109/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/109/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/109/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/109", "id": 22522539, "node_id": "MDU6SXNzdWUyMjUyMjUzOQ==", "number": 109, "title": "client: KeyboardInterrupt silently catched", "user": {"login": "guettli", "id": 414336, "node_id": "MDQ6VXNlcjQxNDMzNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/414336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guettli", "html_url": "https://github.com/guettli", "followers_url": "https://api.github.com/users/guettli/followers", "following_url": "https://api.github.com/users/guettli/following{/other_user}", "gists_url": "https://api.github.com/users/guettli/gists{/gist_id}", "starred_url": "https://api.github.com/users/guettli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guettli/subscriptions", "organizations_url": "https://api.github.com/users/guettli/orgs", "repos_url": "https://api.github.com/users/guettli/repos", "events_url": "https://api.github.com/users/guettli/events{/privacy}", "received_events_url": "https://api.github.com/users/guettli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-11-12T14:37:18Z", "updated_at": "2014-09-07T18:31:24Z", "closed_at": "2013-11-13T19:26:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seams that an old bug is there again:\n\nhttps://github.com/Lawouach/WebSocket-for-Python/issues/30\n\nI use the simple WebSocketClient example and ctrl-c does nothing. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/108", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/108/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/108/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/108/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/108", "id": 20766066, "node_id": "MDU6SXNzdWUyMDc2NjA2Ng==", "number": 108, "title": "ws4py 0.2.2 no longer working on Chrome version 30", "user": {"login": "robdennis", "id": 379970, "node_id": "MDQ6VXNlcjM3OTk3MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/379970?v=4", "gravatar_id": "", "url": "https://api.github.com/users/robdennis", "html_url": "https://github.com/robdennis", "followers_url": "https://api.github.com/users/robdennis/followers", "following_url": "https://api.github.com/users/robdennis/following{/other_user}", "gists_url": "https://api.github.com/users/robdennis/gists{/gist_id}", "starred_url": "https://api.github.com/users/robdennis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/robdennis/subscriptions", "organizations_url": "https://api.github.com/users/robdennis/orgs", "repos_url": "https://api.github.com/users/robdennis/repos", "events_url": "https://api.github.com/users/robdennis/events{/privacy}", "received_events_url": "https://api.github.com/users/robdennis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33637074, "node_id": "MDU6TGFiZWwzMzYzNzA3NA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 15, "created_at": "2013-10-09T19:52:31Z", "updated_at": "2014-03-30T09:25:41Z", "closed_at": "2013-12-02T21:27:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "We're using version 0.2.2 of ws4py (which I'm aware is not the latest version), and following a recent update to chrome version 30, we're no longer able to make a websocket connection (though Firefox is fine).\n\nedited chrome console:\n\n```\nWebSocket connection to 'ws://<url>/ws' failed: Error during WebSocket handshake: Sec-WebSocket-Protocol mismatch\n```\n\nI believe this is due to this changeset that changes the Chrome implementation to be more stringent against the spec:\nhttps://code.google.com/p/chromium/issues/detail?id=259666\n\nIt's possible this is handled in the most recent version of ws4py, but since Chrome 30 was a relatively recent release, I assumed that a more timely though less updated bug report was the preference.\n\nedit: grammar/spelling\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/106", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/106/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/106/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/106/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/106", "id": 20211429, "node_id": "MDU6SXNzdWUyMDIxMTQyOQ==", "number": 106, "title": "unittests2 shouldn't be needed with python >= 2.7 and >= 3.2", "user": {"login": "pacho2", "id": 923400, "node_id": "MDQ6VXNlcjkyMzQwMA==", "avatar_url": "https://avatars3.githubusercontent.com/u/923400?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pacho2", "html_url": "https://github.com/pacho2", "followers_url": "https://api.github.com/users/pacho2/followers", "following_url": "https://api.github.com/users/pacho2/following{/other_user}", "gists_url": "https://api.github.com/users/pacho2/gists{/gist_id}", "starred_url": "https://api.github.com/users/pacho2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pacho2/subscriptions", "organizations_url": "https://api.github.com/users/pacho2/orgs", "repos_url": "https://api.github.com/users/pacho2/repos", "events_url": "https://api.github.com/users/pacho2/events{/privacy}", "received_events_url": "https://api.github.com/users/pacho2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-09-28T12:22:21Z", "updated_at": "2013-10-12T18:32:23Z", "closed_at": "2013-10-12T18:30:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "But setup.py check for it in any case:\n$ grep -r unittest *\nsetup.py:      tests_require=['unittest2', 'gevent', 'cherrypy'],\nsetup.py:      test_suite='unittest2.collector',\ntest/test_cherrypy.py:import unittest\ntest/test_cherrypy.py:class CherryPyTest(unittest.TestCase):\ntest/test_cherrypy.py:    suite = unittest.TestSuite()\ntest/test_cherrypy.py:    loader = unittest.TestLoader()\ntest/test_cherrypy.py:    unittest.TextTestRunner(verbosity=2).run(suite)\ntest/test_frame.py:import unittest\ntest/test_frame.py:class WSFrameBuilderTest(unittest.TestCase):\ntest/test_frame.py:class WSFrameParserTest(unittest.TestCase):\ntest/test_frame.py:    suite = unittest.TestSuite()\ntest/test_frame.py:    loader = unittest.TestLoader()\ntest/test_frame.py:    unittest.TextTestRunner(verbosity=2).run(suite)\ntest/test_stream.py:import unittest\ntest/test_stream.py:class WSStreamTest(unittest.TestCase):\ntest/test_stream.py:    suite = unittest.TestSuite()\ntest/test_stream.py:    loader = unittest.TestLoader()\ntest/test_stream.py:    unittest.TextTestRunner(verbosity=2).run(suite)\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/105", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/105/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/105/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/105/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/105", "id": 19404740, "node_id": "MDU6SXNzdWUxOTQwNDc0MA==", "number": 105, "title": "Add and maintain a changelog", "user": {"login": "jodal", "id": 43726, "node_id": "MDQ6VXNlcjQzNzI2", "avatar_url": "https://avatars0.githubusercontent.com/u/43726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jodal", "html_url": "https://github.com/jodal", "followers_url": "https://api.github.com/users/jodal/followers", "following_url": "https://api.github.com/users/jodal/following{/other_user}", "gists_url": "https://api.github.com/users/jodal/gists{/gist_id}", "starred_url": "https://api.github.com/users/jodal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jodal/subscriptions", "organizations_url": "https://api.github.com/users/jodal/orgs", "repos_url": "https://api.github.com/users/jodal/repos", "events_url": "https://api.github.com/users/jodal/events{/privacy}", "received_events_url": "https://api.github.com/users/jodal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636712, "node_id": "MDU6TGFiZWwzMzYzNjcxMg==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/enhancement", "name": "enhancement", "color": "e102d8", "default": true, "description": null}, {"id": 33636614, "node_id": "MDU6TGFiZWwzMzYzNjYxNA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/question", "name": "question", "color": "d7e102", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-09-12T18:19:39Z", "updated_at": "2013-09-12T18:51:25Z", "closed_at": "2013-09-12T18:43:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm looking around trying to figure out what's new in 0.3 and if there's something I have to consider when upgrading, but I can't find a changelog. Could you please add one?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/103", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/103/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/103/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/103/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/103", "id": 19217502, "node_id": "MDU6SXNzdWUxOTIxNzUwMg==", "number": 103, "title": "AssertionError: Header values must be strings", "user": {"login": "Lawouach", "id": 769982, "node_id": "MDQ6VXNlcjc2OTk4Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/769982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lawouach", "html_url": "https://github.com/Lawouach", "followers_url": "https://api.github.com/users/Lawouach/followers", "following_url": "https://api.github.com/users/Lawouach/following{/other_user}", "gists_url": "https://api.github.com/users/Lawouach/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lawouach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lawouach/subscriptions", "organizations_url": "https://api.github.com/users/Lawouach/orgs", "repos_url": "https://api.github.com/users/Lawouach/repos", "events_url": "https://api.github.com/users/Lawouach/events{/privacy}", "received_events_url": "https://api.github.com/users/Lawouach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33637074, "node_id": "MDU6TGFiZWwzMzYzNzA3NA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-09-09T19:28:00Z", "updated_at": "2013-09-09T19:28:27Z", "closed_at": "2013-09-09T19:28:27Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Using the wsgirefserver, one gets the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/wsgiref/handlers.py\", line 85, in run\n    self.result = application(self.environ, self.start_response)\n  File \"/home/plg/documents/websocks/ws4py/server/wsgiutils.py\", line 153, in **call**\n    start_response(\"101 Switching Protocols\", upgrade_headers)\n  File \"/usr/lib/python2.7/wsgiref/handlers.py\", line 178, in start_response\n    assert type(val) is StringType,\"Header values must be strings\"\nAssertionError: Header values must be strings\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/102", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/102/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/102/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/102/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/102", "id": 18960635, "node_id": "MDU6SXNzdWUxODk2MDYzNQ==", "number": 102, "title": "NameError: global name 'dec' is not defined (in Python 2.7.5)", "user": {"login": "liminspace", "id": 5173158, "node_id": "MDQ6VXNlcjUxNzMxNTg=", "avatar_url": "https://avatars3.githubusercontent.com/u/5173158?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liminspace", "html_url": "https://github.com/liminspace", "followers_url": "https://api.github.com/users/liminspace/followers", "following_url": "https://api.github.com/users/liminspace/following{/other_user}", "gists_url": "https://api.github.com/users/liminspace/gists{/gist_id}", "starred_url": "https://api.github.com/users/liminspace/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liminspace/subscriptions", "organizations_url": "https://api.github.com/users/liminspace/orgs", "repos_url": "https://api.github.com/users/liminspace/repos", "events_url": "https://api.github.com/users/liminspace/events{/privacy}", "received_events_url": "https://api.github.com/users/liminspace/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-09-04T09:07:48Z", "updated_at": "2013-09-04T10:04:19Z", "closed_at": "2013-09-04T10:04:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "File \"lib/site-packages/ws4py/client/**init**.py\", line 246, in handshake_headers\n    ('Sec-WebSocket-Key', dec(self.key)),\nNameError: global name 'dec' is not defined\n\nWhat is the function dec()? What it should do?\nThis error only me? :)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/100", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/100/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/100/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/100/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/100", "id": 17819991, "node_id": "MDU6SXNzdWUxNzgxOTk5MQ==", "number": 100, "title": "Move back to unicode and byte litterals", "user": {"login": "Lawouach", "id": 769982, "node_id": "MDQ6VXNlcjc2OTk4Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/769982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lawouach", "html_url": "https://github.com/Lawouach", "followers_url": "https://api.github.com/users/Lawouach/followers", "following_url": "https://api.github.com/users/Lawouach/following{/other_user}", "gists_url": "https://api.github.com/users/Lawouach/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lawouach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lawouach/subscriptions", "organizations_url": "https://api.github.com/users/Lawouach/orgs", "repos_url": "https://api.github.com/users/Lawouach/repos", "events_url": "https://api.github.com/users/Lawouach/events{/privacy}", "received_events_url": "https://api.github.com/users/Lawouach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636712, "node_id": "MDU6TGFiZWwzMzYzNjcxMg==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/enhancement", "name": "enhancement", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-08-08T17:45:17Z", "updated_at": "2013-09-08T11:22:11Z", "closed_at": "2013-08-11T17:47:25Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Since I'm not planning to carry on with Python < 2.7 nor < 3.3, I believe we can move back to using unicode and bytes litteral. They'll make the code much cleaner.\n\nhttp://docs.python.org/2.7/reference/lexical_analysis.html#literals\nhttp://docs.python.org/3.3/reference/lexical_analysis.html#literals\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/99", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/99/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/99/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/99/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/99", "id": 17638267, "node_id": "MDU6SXNzdWUxNzYzODI2Nw==", "number": 99, "title": "Upload releases to PyPI for compatibility with new pip versions", "user": {"login": "jodal", "id": 43726, "node_id": "MDQ6VXNlcjQzNzI2", "avatar_url": "https://avatars0.githubusercontent.com/u/43726?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jodal", "html_url": "https://github.com/jodal", "followers_url": "https://api.github.com/users/jodal/followers", "following_url": "https://api.github.com/users/jodal/following{/other_user}", "gists_url": "https://api.github.com/users/jodal/gists{/gist_id}", "starred_url": "https://api.github.com/users/jodal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jodal/subscriptions", "organizations_url": "https://api.github.com/users/jodal/orgs", "repos_url": "https://api.github.com/users/jodal/repos", "events_url": "https://api.github.com/users/jodal/events{/privacy}", "received_events_url": "https://api.github.com/users/jodal/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636712, "node_id": "MDU6TGFiZWwzMzYzNjcxMg==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/enhancement", "name": "enhancement", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-08-05T14:44:24Z", "updated_at": "2014-02-10T22:13:41Z", "closed_at": "2013-09-12T18:09:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As of pip 1.4, the installer prints warnings when installing ws4py since it is downloaded from another server than PyPI:\n\n```\n$ pip --version\npip 1.4 from .../lib/python2.7/site-packages (python 2.7)\n$ pip install ws4py\nDownloading/unpacking ws4py\n  You are installing a potentially insecure and unverifiable file. Future versions of pip will default to disallowing insecure files.\n  Downloading ws4py-0.2.4.tar.gz\n  Storing download in cache at /tmp/pip-cache/http%3A%2F%2Fwww.defuze.org%2Foss%2Fws4py%2Fws4py-0.2.4.tar.gz\n  Running setup.py egg_info for package ws4py\n\nInstalling collected packages: ws4py\n  Running setup.py install for ws4py\n\nSuccessfully installed ws4py\nCleaning up...\n```\n\nIn pip 1.5 installation of packages not hosted on PyPI will be prevented by default, forcing the user to add the `--allow-external ws4py` flag to the `pip` command. Simulating pip 1.5 behavior with flags to pip 1.4:\n\n```\n$ pip install --no-allow-external --no-allow-insecure ws4py\nDownloading/unpacking ws4py\n  Could not find any downloads that satisfy the requirement ws4py\n  Some externally hosted files were ignored (use --allow-external ws4py to allow).\nCleaning up...\nNo distributions at all found for ws4py\nStoring complete log in .../.pip/pip.log\n```\n\nQuoting the changelog for pip 1.4:\n\n> pip will now warn when installing a file that is either hosted externally to the index or cannot be verified with a hash. In the future pip will default to not installing them and will require the flags \u2013allow-external NAME, and \u2013allow-insecure NAME respectively. (Pull #985)\n\nIMHO, the best way to solve this is to upload all ws4py releases to the PyPI servers.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/95", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/95/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/95/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/95/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/95", "id": 16172155, "node_id": "MDU6SXNzdWUxNjE3MjE1NQ==", "number": 95, "title": "Allow cherrypy users to pass in a custom poller to the manager", "user": {"login": "adamcik", "id": 82534, "node_id": "MDQ6VXNlcjgyNTM0", "avatar_url": "https://avatars2.githubusercontent.com/u/82534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamcik", "html_url": "https://github.com/adamcik", "followers_url": "https://api.github.com/users/adamcik/followers", "following_url": "https://api.github.com/users/adamcik/following{/other_user}", "gists_url": "https://api.github.com/users/adamcik/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamcik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamcik/subscriptions", "organizations_url": "https://api.github.com/users/adamcik/orgs", "repos_url": "https://api.github.com/users/adamcik/repos", "events_url": "https://api.github.com/users/adamcik/events{/privacy}", "received_events_url": "https://api.github.com/users/adamcik/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-06-29T07:41:12Z", "updated_at": "2013-09-10T18:29:12Z", "closed_at": "2013-09-10T18:29:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "While digging into https://github.com/mopidy/mopidy/issues/445 I found that the manager class allows for custom pollers, a feature we would like to use to integrate ws4py with our main gobject event loop used by the rest of our server.\n\nHowever, ws4py/server/cherrypyserver.py doesn't allow for passing it in short of monkeypatching or sub-classing the `WebSocketPlugin` to do my own manager initialization. Please consider making this easier to achieve :-)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/93", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/93/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/93/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/93/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/93", "id": 14936864, "node_id": "MDU6SXNzdWUxNDkzNjg2NA==", "number": 93, "title": "Move away from the class-based design", "user": {"login": "Lawouach", "id": 769982, "node_id": "MDQ6VXNlcjc2OTk4Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/769982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lawouach", "html_url": "https://github.com/Lawouach", "followers_url": "https://api.github.com/users/Lawouach/followers", "following_url": "https://api.github.com/users/Lawouach/following{/other_user}", "gists_url": "https://api.github.com/users/Lawouach/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lawouach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lawouach/subscriptions", "organizations_url": "https://api.github.com/users/Lawouach/orgs", "repos_url": "https://api.github.com/users/Lawouach/repos", "events_url": "https://api.github.com/users/Lawouach/events{/privacy}", "received_events_url": "https://api.github.com/users/Lawouach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636712, "node_id": "MDU6TGFiZWwzMzYzNjcxMg==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/enhancement", "name": "enhancement", "color": "e102d8", "default": true, "description": null}, {"id": 33636523, "node_id": "MDU6TGFiZWwzMzYzNjUyMw==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/feature", "name": "feature", "color": "02d7e1", "default": false, "description": null}, {"id": 33636614, "node_id": "MDU6TGFiZWwzMzYzNjYxNA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/question", "name": "question", "color": "d7e102", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2013-05-30T11:58:47Z", "updated_at": "2017-03-24T16:03:18Z", "closed_at": "2017-03-24T16:03:18Z", "author_association": "OWNER", "active_lock_reason": null, "body": "It seems to me that the class-based design I've setup in ws4py is not really ideal. I don't see what precisely inheriting from WebSocket means at all. Perhaps something based around a simple registry of functions such as it's common to find in web framework dispatching? I've used something similar in my XMPP library.\n\nhttps://github.com/Lawouach/headstock/blob/master/example/basic.py\n\nI believe this would make ws4py act more like a library than a small framework.\n\nThoughts?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/91", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/91/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/91/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/91/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/91", "id": 14590566, "node_id": "MDU6SXNzdWUxNDU5MDU2Ng==", "number": 91, "title": "Gradually drop support for Python <2.7 and <3.3.2", "user": {"login": "Lawouach", "id": 769982, "node_id": "MDQ6VXNlcjc2OTk4Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/769982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lawouach", "html_url": "https://github.com/Lawouach", "followers_url": "https://api.github.com/users/Lawouach/followers", "following_url": "https://api.github.com/users/Lawouach/following{/other_user}", "gists_url": "https://api.github.com/users/Lawouach/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lawouach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lawouach/subscriptions", "organizations_url": "https://api.github.com/users/Lawouach/orgs", "repos_url": "https://api.github.com/users/Lawouach/repos", "events_url": "https://api.github.com/users/Lawouach/events{/privacy}", "received_events_url": "https://api.github.com/users/Lawouach/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636712, "node_id": "MDU6TGFiZWwzMzYzNjcxMg==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/enhancement", "name": "enhancement", "color": "e102d8", "default": true, "description": null}, {"id": 33636523, "node_id": "MDU6TGFiZWwzMzYzNjUyMw==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/feature", "name": "feature", "color": "02d7e1", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-05-21T20:53:25Z", "updated_at": "2014-01-14T22:00:27Z", "closed_at": "2014-01-14T22:00:27Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Following [Armin's comment](http://lucumr.pocoo.org/2013/5/21/porting-to-python-3-redux/), I'm tempted to drop anything but 2.7 and 3.3.2. Mostly, it would simplify tremendously the string/bytes handling across the board as we could use unicode/bytes litterals. I'd be surprised if it wouldn't improve performances a little as well.\n\nIt would happen after 0.3.0 release, so that people still using other versions can benefit from the latest fixes. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/90", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/90/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/90/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/90/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/90", "id": 14284527, "node_id": "MDU6SXNzdWUxNDI4NDUyNw==", "number": 90, "title": "remove implicit gevent monkey patching in the gevent client", "user": {"login": "tarekziade", "id": 250019, "node_id": "MDQ6VXNlcjI1MDAxOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/250019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tarekziade", "html_url": "https://github.com/tarekziade", "followers_url": "https://api.github.com/users/tarekziade/followers", "following_url": "https://api.github.com/users/tarekziade/following{/other_user}", "gists_url": "https://api.github.com/users/tarekziade/gists{/gist_id}", "starred_url": "https://api.github.com/users/tarekziade/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tarekziade/subscriptions", "organizations_url": "https://api.github.com/users/tarekziade/orgs", "repos_url": "https://api.github.com/users/tarekziade/repos", "events_url": "https://api.github.com/users/tarekziade/events{/privacy}", "received_events_url": "https://api.github.com/users/tarekziade/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33637074, "node_id": "MDU6TGFiZWwzMzYzNzA3NA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": null}, {"id": 33636712, "node_id": "MDU6TGFiZWwzMzYzNjcxMg==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/enhancement", "name": "enhancement", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-05-13T22:09:22Z", "updated_at": "2013-05-14T17:43:35Z", "closed_at": "2013-05-14T17:43:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "By implicitly calling monkey.patch_all() in the gevent client, you are making the assumption that the code that uses your library wants the stdlib to be completely patched.\n\nThis may lead to locking issues & conflicts depending on the execution environment. \n\nI would suggest removing that call and let the library users decide what they want to do\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/88", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/88/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/88/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/88/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/88", "id": 13458349, "node_id": "MDU6SXNzdWUxMzQ1ODM0OQ==", "number": 88, "title": "ws4py.server.wsgiutils.py got some error in python 3.3", "user": {"login": "visig9", "id": 1289913, "node_id": "MDQ6VXNlcjEyODk5MTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1289913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/visig9", "html_url": "https://github.com/visig9", "followers_url": "https://api.github.com/users/visig9/followers", "following_url": "https://api.github.com/users/visig9/following{/other_user}", "gists_url": "https://api.github.com/users/visig9/gists{/gist_id}", "starred_url": "https://api.github.com/users/visig9/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/visig9/subscriptions", "organizations_url": "https://api.github.com/users/visig9/orgs", "repos_url": "https://api.github.com/users/visig9/repos", "events_url": "https://api.github.com/users/visig9/events{/privacy}", "received_events_url": "https://api.github.com/users/visig9/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33637074, "node_id": "MDU6TGFiZWwzMzYzNzA3NA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-04-21T22:59:14Z", "updated_at": "2013-09-10T19:09:17Z", "closed_at": "2013-09-10T19:09:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "## Test Code\n\nI tring to use [bottlepy](http://bottlepy.org/docs/dev/index.html) with ws4py in python 3.3 like this:\n\n``` python3\n# ws4py -> wsapp\nfrom ws4py.server.wsgiutils import WebSocketWSGIApplication\nfrom ws4py.websocket import EchoWebSocket\nwsapp = WebSocketWSGIApplication(handler_cls = EchoWebSocket)\n\n# Bottlepy -> app\nfrom bottle import Bottle, run\napp = Bottle(catchall = True)\n\n# mount wsapp on app (use bottle API)\napp.mount('/ws', wsapp) # mount websocket at \"/127.0.0.1:8080/ws\"\n\nrun(app = app, host = '127.0.0.1', port = '8080',\n    debug = True, quiet = False)\n```\n\nAnd I test WebSocket Function with [WebSocket Echo Page](http://www.websocket.org/echo.html) (using `ws://127.0.0.1:8080/ws` as location), browser is firefox 20.0 .\n## Error\n\nBut I got some error:\n\n[Line 146](https://github.com/Lawouach/WebSocket-for-Python/blob/master/ws4py/server/wsgiutils.py#L146)\n\n```\n    ('Sec-WebSocket-Accept', base64.b64encode(sha1(key + WS_KEY).digest())),\nTypeError: Can't convert 'bytes' object to str implicitly\n```\n\nI try to use `bytes(key, 'utf8')` to workaround (not sure it really ok or not...), but another error appear...\n\n[Line 155](https://github.com/Lawouach/WebSocket-for-Python/blob/master/ws4py/server/wsgiutils.py#L155)\n\n```\n    self.make_websocket(environ['ws4py.socket'],\nKeyError: 'ws4py.socket'\n```\n\nPlease give me a hand... thanks!\n## platform info\n- ws4py -> [recent git clone version](https://github.com/Lawouach/WebSocket-for-Python/tree/b105a6802b2dbd219332ba5aa5981ff432570054)\n- bottlepy -> 0.11 stable\n- python 3.3.0\n- client: firefox 20.0 (and [WebSocket Echo Page](http://www.websocket.org/echo.html))\n- system: fedora 18 (Linux x86_64)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/87", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/87/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/87/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/87/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/87", "id": 12948068, "node_id": "MDU6SXNzdWUxMjk0ODA2OA==", "number": 87, "title": "Busy loop in SelectPoller that is consuming a lot of CPU", "user": {"login": "sk89q", "id": 38949, "node_id": "MDQ6VXNlcjM4OTQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/38949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sk89q", "html_url": "https://github.com/sk89q", "followers_url": "https://api.github.com/users/sk89q/followers", "following_url": "https://api.github.com/users/sk89q/following{/other_user}", "gists_url": "https://api.github.com/users/sk89q/gists{/gist_id}", "starred_url": "https://api.github.com/users/sk89q/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sk89q/subscriptions", "organizations_url": "https://api.github.com/users/sk89q/orgs", "repos_url": "https://api.github.com/users/sk89q/repos", "events_url": "https://api.github.com/users/sk89q/events{/privacy}", "received_events_url": "https://api.github.com/users/sk89q/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33637074, "node_id": "MDU6TGFiZWwzMzYzNzA3NA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": null}, {"id": 33636712, "node_id": "MDU6TGFiZWwzMzYzNjcxMg==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/enhancement", "name": "enhancement", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-04-08T22:40:13Z", "updated_at": "2013-05-13T18:54:43Z", "closed_at": "2013-05-13T18:53:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "The change in #83 changes SelectPoller.poll() to return an empty list, but it makes a busy loop that uses a lot of CPU as it continually loops over new empty arrays.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/86", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/86/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/86/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/86/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/86", "id": 12179463, "node_id": "MDU6SXNzdWUxMjE3OTQ2Mw==", "number": 86, "title": "IPv6 sockets not supported", "user": {"login": "Carst-Tankink", "id": 3909851, "node_id": "MDQ6VXNlcjM5MDk4NTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3909851?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Carst-Tankink", "html_url": "https://github.com/Carst-Tankink", "followers_url": "https://api.github.com/users/Carst-Tankink/followers", "following_url": "https://api.github.com/users/Carst-Tankink/following{/other_user}", "gists_url": "https://api.github.com/users/Carst-Tankink/gists{/gist_id}", "starred_url": "https://api.github.com/users/Carst-Tankink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Carst-Tankink/subscriptions", "organizations_url": "https://api.github.com/users/Carst-Tankink/orgs", "repos_url": "https://api.github.com/users/Carst-Tankink/repos", "events_url": "https://api.github.com/users/Carst-Tankink/events{/privacy}", "received_events_url": "https://api.github.com/users/Carst-Tankink/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636523, "node_id": "MDU6TGFiZWwzMzYzNjUyMw==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/feature", "name": "feature", "color": "02d7e1", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-03-19T13:19:10Z", "updated_at": "2013-05-13T20:02:15Z", "closed_at": "2013-05-13T20:01:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "When a WebSocket is created using an underlying IPv6 socket, its local_address (and, I assume, the peer address) returns a 4-tuple instead of a 2-tuple. \n\nThis means that automatic unpacking of the address into hostname, port throws a ValueError.\n\nMinimal example (using the cherrypy tools)\n\n``` python\nimport cherrypy\nfrom ws4py.server.cherrypyserver import WebSocketPlugin, WebSocketTool\nfrom ws4py.websocket import EchoWebSocket\n\ncherrypy.config.update({'server.socket_port': 9000})\ncherrypy.config.update({'server.socket_host': \"::1\"})\nWebSocketPlugin(cherrypy.engine).subscribe()\ncherrypy.tools.websocket = WebSocketTool()\n\nclass Root(object):\n    @cherrypy.expose\n    def index(self):\n        return \"\"\"<script type=\"text/javascript\">\n      var sock = new WebSocket(\"ws://localhost:9000/ws\");</script>\"\"\"\n\n    @cherrypy.expose\n    def ws(self):\n      pass\n\ncherrypy.quickstart(Root(), '/', config={'/ws': {'tools.websocket.on': True,\n                                                 'tools.websocket.handler_cls': EchoWebSocket}})\n```\n\nThis throws a ValueError when navigating to localhost:9000\n\nThe obvious workaround is not using IPv6 addresses in the server deployment. \n\nA fix would be to have WebSocket.local_address and WebSocket.peer_address return the first two elements of the underlying socket's name.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/84", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/84/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/84/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/84", "id": 11758725, "node_id": "MDU6SXNzdWUxMTc1ODcyNQ==", "number": 84, "title": "Using ws4py with standard SocketServer/BaseRequestHandler", "user": {"login": "astrand", "id": 1397417, "node_id": "MDQ6VXNlcjEzOTc0MTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1397417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/astrand", "html_url": "https://github.com/astrand", "followers_url": "https://api.github.com/users/astrand/followers", "following_url": "https://api.github.com/users/astrand/following{/other_user}", "gists_url": "https://api.github.com/users/astrand/gists{/gist_id}", "starred_url": "https://api.github.com/users/astrand/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/astrand/subscriptions", "organizations_url": "https://api.github.com/users/astrand/orgs", "repos_url": "https://api.github.com/users/astrand/repos", "events_url": "https://api.github.com/users/astrand/events{/privacy}", "received_events_url": "https://api.github.com/users/astrand/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636614, "node_id": "MDU6TGFiZWwzMzYzNjYxNA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/question", "name": "question", "color": "d7e102", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-03-07T13:13:04Z", "updated_at": "2013-05-14T18:11:38Z", "closed_at": "2013-05-14T18:11:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possibly/easy to use ws4py with the Python standard modules SocketServer/BaseRequestHandler? If we are able to create such an example and/or server submodule, are there any interest in including that in the ws4py project? \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/82", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/82/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/82/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/82", "id": 11518774, "node_id": "MDU6SXNzdWUxMTUxODc3NA==", "number": 82, "title": "WSGI variables, cookies and transparent websocket authentication.", "user": {"login": "saidimu", "id": 468077, "node_id": "MDQ6VXNlcjQ2ODA3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/468077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saidimu", "html_url": "https://github.com/saidimu", "followers_url": "https://api.github.com/users/saidimu/followers", "following_url": "https://api.github.com/users/saidimu/following{/other_user}", "gists_url": "https://api.github.com/users/saidimu/gists{/gist_id}", "starred_url": "https://api.github.com/users/saidimu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saidimu/subscriptions", "organizations_url": "https://api.github.com/users/saidimu/orgs", "repos_url": "https://api.github.com/users/saidimu/repos", "events_url": "https://api.github.com/users/saidimu/events{/privacy}", "received_events_url": "https://api.github.com/users/saidimu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636614, "node_id": "MDU6TGFiZWwzMzYzNjYxNA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/question", "name": "question", "color": "d7e102", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-02-28T20:52:58Z", "updated_at": "2013-09-11T19:47:39Z", "closed_at": "2013-09-11T19:47:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "The websocket appears to have some `wsgi` variables set. Is it correct that `websocket.path == environ.PATH_INFO`?\n\nIs that the only `wsgi environ` set on the websocket? Checking the websocket for `CONTENT_TYPE, HTTP_USER_AGENT`, variables set on `wsgi environment`, shows they aren't set on the websocket.\n\nStrangely enough, `HTTP_COOKIE` isn't set on the `wsgi environment` available on the `wsgi app handler` if the client is a Javascript websocket client on the Chrome browser. I haven't tested a python client (or other browser clients) to check whether Chrome is transmitting host cookies on the websocket connection.\n\nI'm attempting to use client cookies to authenticate the websocket connection instead of performing additional explicit websocket authentication on the first websocket message.\n\nAny thoughts?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/78", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/78/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/78/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/78/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/78", "id": 11101200, "node_id": "MDU6SXNzdWUxMTEwMTIwMA==", "number": 78, "title": "Threaded WebSocket client always exits randomly", "user": {"login": "muellermartin", "id": 343302, "node_id": "MDQ6VXNlcjM0MzMwMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/343302?v=4", "gravatar_id": "", "url": "https://api.github.com/users/muellermartin", "html_url": "https://github.com/muellermartin", "followers_url": "https://api.github.com/users/muellermartin/followers", "following_url": "https://api.github.com/users/muellermartin/following{/other_user}", "gists_url": "https://api.github.com/users/muellermartin/gists{/gist_id}", "starred_url": "https://api.github.com/users/muellermartin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/muellermartin/subscriptions", "organizations_url": "https://api.github.com/users/muellermartin/orgs", "repos_url": "https://api.github.com/users/muellermartin/repos", "events_url": "https://api.github.com/users/muellermartin/events{/privacy}", "received_events_url": "https://api.github.com/users/muellermartin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2013-02-18T02:09:44Z", "updated_at": "2013-02-19T19:22:24Z", "closed_at": "2013-02-19T19:22:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried to implement a simple WebSocket client for a CherryPy server which should work like the droid_sensor.py and its server under \"example\", but if I try to run the client it always stops randomly in the send loop and exits with a random WebSocket error code (one of 1002, 1006 and 1007).\n\nThis is the server log from the CherryPy server:\n\n```\n127.0.0.1 - - [18/Feb/2013:02:49:54] \"GET /ws HTTP/1.1\" 101 - \"\" \"\"\n[18/Feb/2013:02:49:54]  Managing WebSocket connection from 127.0.0.1:55280\n[18/Feb/2013:02:49:54]  Managing WebSocket connection from 127.0.0.1:55280\nException in thread WebSocket client at 127.0.0.1:55280:\nTraceback (most recent call last):\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 552, in __bootstrap_inner\n    self.run()\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/threading.py\", line 505, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/Users/martin/Desktop/test/ENV/lib/python2.7/site-packages/ws4py/websocket.py\", line 246, in run\n    self._cleanup()\n  File \"/Users/martin/Desktop/test/ENV/lib/python2.7/site-packages/ws4py/websocket.py\", line 197, in _cleanup\n    self.stream._cleanup()\nAttributeError: 'NoneType' object has no attribute '_cleanup'\n\n[18/Feb/2013:02:49:55]  Removing WebSocket connection 127.0.0.1:55280\n[18/Feb/2013:02:49:55]  Removing WebSocket connection 127.0.0.1:55280\n```\n\nThis is my client (very similar to [example/droid_sensor.py](https://github.com/Lawouach/WebSocket-for-Python/blob/master/example/droid_sensor.py)):\nhttps://gist.github.com/muellermartin/4974648\n\nand this is the server:\nhttps://gist.github.com/muellermartin/4974657\n\nP.S.: The host in line https://github.com/Lawouach/WebSocket-for-Python/blob/master/example/droid_sensor.py#L98 seems to be wrong (script crashes with `ValueError: Invalid scheme: http`) - shouldn't this be \"ws://127.0.0.1:9000/ws\"?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/76", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/76/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/76/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/76/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/76", "id": 10870382, "node_id": "MDU6SXNzdWUxMDg3MDM4Mg==", "number": 76, "title": "Support `ws+unix` scheme", "user": {"login": "Swatinem", "id": 580492, "node_id": "MDQ6VXNlcjU4MDQ5Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/580492?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Swatinem", "html_url": "https://github.com/Swatinem", "followers_url": "https://api.github.com/users/Swatinem/followers", "following_url": "https://api.github.com/users/Swatinem/following{/other_user}", "gists_url": "https://api.github.com/users/Swatinem/gists{/gist_id}", "starred_url": "https://api.github.com/users/Swatinem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Swatinem/subscriptions", "organizations_url": "https://api.github.com/users/Swatinem/orgs", "repos_url": "https://api.github.com/users/Swatinem/repos", "events_url": "https://api.github.com/users/Swatinem/events{/privacy}", "received_events_url": "https://api.github.com/users/Swatinem/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636523, "node_id": "MDU6TGFiZWwzMzYzNjUyMw==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/feature", "name": "feature", "color": "02d7e1", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2013-02-11T15:42:17Z", "updated_at": "2013-08-07T19:16:02Z", "closed_at": "2013-08-07T19:16:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I know, it\u2019s not part of the official spec, but you can run websockets over local unix sockets just fine.\nThe node.js `ws` module supports servers and clients that bind to local unix sockets. I have a node.js server which acts as WS server and I want to consume it via python.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/73", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/73/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/73/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/73/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/73", "id": 10238532, "node_id": "MDU6SXNzdWUxMDIzODUzMg==", "number": 73, "title": "Strange traceback with WebSocket.send", "user": {"login": "vincent-lg", "id": 2088354, "node_id": "MDQ6VXNlcjIwODgzNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/2088354?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vincent-lg", "html_url": "https://github.com/vincent-lg", "followers_url": "https://api.github.com/users/vincent-lg/followers", "following_url": "https://api.github.com/users/vincent-lg/following{/other_user}", "gists_url": "https://api.github.com/users/vincent-lg/gists{/gist_id}", "starred_url": "https://api.github.com/users/vincent-lg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vincent-lg/subscriptions", "organizations_url": "https://api.github.com/users/vincent-lg/orgs", "repos_url": "https://api.github.com/users/vincent-lg/repos", "events_url": "https://api.github.com/users/vincent-lg/events{/privacy}", "received_events_url": "https://api.github.com/users/vincent-lg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2013-01-23T16:27:57Z", "updated_at": "2013-05-21T19:12:23Z", "closed_at": "2013-05-21T19:12:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use ws4py with Cherrypy (the plugin and the tool provided).\n\nIt works just fine most of the time, but sometimes I have in my log a traceback like that.  I didn't remove any line from it, more explanations are given below:\n\nException in thread WebSocket client at **_.**_.**_.**_:56741:\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.3/threading.py\", line 639, in _bootstrap_inner\n    self.run()\n  File \"/usr/local/lib/python3.3/threading.py\", line 596, in run\n    self._target(_self._args, *_self._kwargs)\n  File \"/usr/local/lib/python3.3/site-packages/ws4py-0.2.5-py3.3.egg/ws4py/websocket.py\", line 291, in run\n    if not process(bytes):\n  File \"/usr/local/lib/python3.3/site-packages/ws4py-0.2.5-py3.3.egg/ws4py/websocket.py\", line 343, in process\n    self.received_message(s.message)\n  File \"/home/vlegoff/pa-poc2/scripts/../plugins/websocket/handler.py\", line 86, in received_message\n    function(**args)\n  File \"/home/vlegoff/pa-poc2/scripts/../bundles/chat/websockets/chat.py\", line 32, in handle_setpseudo\n    self.send_to_connected(welcome, self)\n  File \"/home/vlegoff/pa-poc2/scripts/../bundles/chat/websockets/chat.py\", line 58, in send_to_connected\n    ws_handler.send_message(message, escape=escape)\n  File \"/home/vlegoff/pa-poc2/scripts/../bundles/chat/websockets/chat.py\", line 69, in send_message\n    self.send_JSON(\"message\", message=message)\n  File \"/home/vlegoff/pa-poc2/scripts/../plugins/websocket/handler.py\", line 110, in send_JSON\n    self.send_text(text)\n  File \"/home/vlegoff/pa-poc2/scripts/../plugins/websocket/handler.py\", line 101, in send_text\n    self.send(msg)\n  File \"/usr/local/lib/python3.3/site-packages/ws4py-0.2.5-py3.3.egg/ws4py/websocket.py\", line 219, in send\n    message_sender = self.stream.binary_message if binary else self.stream.text_message\nAttributeError: 'NoneType' object has no attribute 'text_message'\n\nThe almost last lines are part of my application:  I have a WebSocketHandler (the Chat class inherited from WebSocket defined in ws4py).  The goal is to send a message to one of the connected client and it finally crashes on the WebSocket.send method.\n\nDo you know why this happens and how to fix it?  Is it a ws4py bug or a wrong usage in my application?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/72", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/72/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/72/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/72", "id": 9806498, "node_id": "MDU6SXNzdWU5ODA2NDk4", "number": 72, "title": "test_cherrypy.py fails with py3", "user": {"login": "idella", "id": 1655078, "node_id": "MDQ6VXNlcjE2NTUwNzg=", "avatar_url": "https://avatars2.githubusercontent.com/u/1655078?v=4", "gravatar_id": "", "url": "https://api.github.com/users/idella", "html_url": "https://github.com/idella", "followers_url": "https://api.github.com/users/idella/followers", "following_url": "https://api.github.com/users/idella/following{/other_user}", "gists_url": "https://api.github.com/users/idella/gists{/gist_id}", "starred_url": "https://api.github.com/users/idella/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/idella/subscriptions", "organizations_url": "https://api.github.com/users/idella/orgs", "repos_url": "https://api.github.com/users/idella/repos", "events_url": "https://api.github.com/users/idella/events{/privacy}", "received_events_url": "https://api.github.com/users/idella/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-01-09T14:38:30Z", "updated_at": "2013-01-11T14:31:41Z", "closed_at": "2013-01-10T20:37:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "This appears to have been in place for some time. I only picked it up in the process of preparing a version bump, to 0.2.4, requested by another, gentoo\n\nplatform linux2 -- Python 3.2.3 -- pytest-2.2.4\ncollected 22 items \n\ntest/test_cherrypy.py F\ntest/test_frame.py ............\ntest/test_stream.py .........\n\n=================================== FAILURES ===================================\n___________________________ CherryPyTest.test_plugin ___________________________\n\nself = <test.test_cherrypy.CherryPyTest testMethod=test_plugin>\n\n```\ndef test_plugin(self):\n    self.assertEquals(len(cherrypy.engine.websocket.pool), 0)\n\n    s = FakeSocket()\n    h = EchoWebSocket(s, [], [])\n    cherrypy.engine.publish('handle-websocket', h, ('127.0.0.1', 0))\n    self.assertEquals(len(cherrypy.engine.websocket.pool), 1)\n```\n\n> ```\n>   k = cherrypy.engine.websocket.pool.keys()[0]\n> ```\n> \n> E       TypeError: 'dict_keys' object does not support indexing\n\ntest/test_cherrypy.py:68: TypeError\n===================== 1 failed, 21 passed in 0.67 seconds ======================\n- ERROR: dev-python/ws4py-0.2.3 failed (test phase):\n\nYou can tell me if this is coming from ws4py here of from cherrypy itself.  Holds true for \ncherrypy-3.2.0 - 3.2.2\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/71", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/71/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/71/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/71/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/71", "id": 9799157, "node_id": "MDU6SXNzdWU5Nzk5MTU3", "number": 71, "title": "tornado expects bytes but TornadoWebSocketClient gives strings", "user": {"login": "pedrudehuere", "id": 3224512, "node_id": "MDQ6VXNlcjMyMjQ1MTI=", "avatar_url": "https://avatars1.githubusercontent.com/u/3224512?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pedrudehuere", "html_url": "https://github.com/pedrudehuere", "followers_url": "https://api.github.com/users/pedrudehuere/followers", "following_url": "https://api.github.com/users/pedrudehuere/following{/other_user}", "gists_url": "https://api.github.com/users/pedrudehuere/gists{/gist_id}", "starred_url": "https://api.github.com/users/pedrudehuere/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pedrudehuere/subscriptions", "organizations_url": "https://api.github.com/users/pedrudehuere/orgs", "repos_url": "https://api.github.com/users/pedrudehuere/repos", "events_url": "https://api.github.com/users/pedrudehuere/events{/privacy}", "received_events_url": "https://api.github.com/users/pedrudehuere/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636712, "node_id": "MDU6TGFiZWwzMzYzNjcxMg==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/enhancement", "name": "enhancement", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-01-09T10:12:35Z", "updated_at": "2013-09-11T19:09:22Z", "closed_at": "2013-09-11T19:09:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "had this on python 3.2\nFile: ws4py/client/tornadoclient.py\nline 40: b\"\\r\\n\\r\\n\" in stead of \"\\r\\n\\r\\n\"\nline 45: b'\\r\\n' instead of '\\r\\n'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/70", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/70/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/70/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/70", "id": 9303412, "node_id": "MDU6SXNzdWU5MzAzNDEy", "number": 70, "title": "exception not catch in websocket.py always", "user": {"login": "lovemyliwu", "id": 2248369, "node_id": "MDQ6VXNlcjIyNDgzNjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2248369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lovemyliwu", "html_url": "https://github.com/lovemyliwu", "followers_url": "https://api.github.com/users/lovemyliwu/followers", "following_url": "https://api.github.com/users/lovemyliwu/following{/other_user}", "gists_url": "https://api.github.com/users/lovemyliwu/gists{/gist_id}", "starred_url": "https://api.github.com/users/lovemyliwu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lovemyliwu/subscriptions", "organizations_url": "https://api.github.com/users/lovemyliwu/orgs", "repos_url": "https://api.github.com/users/lovemyliwu/repos", "events_url": "https://api.github.com/users/lovemyliwu/events{/privacy}", "received_events_url": "https://api.github.com/users/lovemyliwu/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636712, "node_id": "MDU6TGFiZWwzMzYzNjcxMg==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/enhancement", "name": "enhancement", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-12-15T03:18:13Z", "updated_at": "2017-03-24T16:00:36Z", "closed_at": "2017-03-24T16:00:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "  File \"build/bdist.linux-i686/egg/ws4py/websocket.py\", line 232, in run\n    bytes = sock.recv(self.reading_buffer_size)\nerror: [Errno 110] Connection timed out\n\n---\n\ni think can except this exception then call closed func like this:\n\n```\n    try:\n        self.opened()\n        sock = self.sock\n        fileno = sock.fileno()\n        process = self.process\n\n        while not self.terminated:\n            bytes = sock.recv(self.reading_buffer_size)\n            if not process(bytes):\n                break\n    except:\n        self.closed(110, \"Connection timed out\")\n\n    finally:\n        self.client_terminated = self.server_terminated = True\n\n        try:\n            if not s.closing:\n                self.closed(1006, \"Going away\")\n            else:\n                self.closed(s.closing.code, s.closing.reason)\n        finally:\n            s = sock = fileno = process = None\n            self.close_connection()\n            self._cleanup()\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/69", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/69/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/69/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/69/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/69", "id": 9174619, "node_id": "MDU6SXNzdWU5MTc0NjE5", "number": 69, "title": "Socket not properly closed in Win7", "user": {"login": "sander76", "id": 1688712, "node_id": "MDQ6VXNlcjE2ODg3MTI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1688712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sander76", "html_url": "https://github.com/sander76", "followers_url": "https://api.github.com/users/sander76/followers", "following_url": "https://api.github.com/users/sander76/following{/other_user}", "gists_url": "https://api.github.com/users/sander76/gists{/gist_id}", "starred_url": "https://api.github.com/users/sander76/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sander76/subscriptions", "organizations_url": "https://api.github.com/users/sander76/orgs", "repos_url": "https://api.github.com/users/sander76/repos", "events_url": "https://api.github.com/users/sander76/events{/privacy}", "received_events_url": "https://api.github.com/users/sander76/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33637074, "node_id": "MDU6TGFiZWwzMzYzNzA3NA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/bug", "name": "bug", "color": "e10c02", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-12-11T10:11:58Z", "updated_at": "2013-09-12T14:43:54Z", "closed_at": "2013-09-12T14:43:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "Working with python3.2, a closed socket is not properly removed from the 'pool' (?) of sockets to send a message through.\n\nWhen the browser is closing its connection the server receives it, processes it (cleans all up, making the WebSocket members all None types), but somehow it stays there. Resulting in a persisting attribute error :\n\n'NoneType' object has no attribute 'text_message'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/66", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/66/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/66/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/66", "id": 8935048, "node_id": "MDU6SXNzdWU4OTM1MDQ4", "number": 66, "title": "A simpler gevent server example?", "user": {"login": "saidimu", "id": 468077, "node_id": "MDQ6VXNlcjQ2ODA3Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/468077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saidimu", "html_url": "https://github.com/saidimu", "followers_url": "https://api.github.com/users/saidimu/followers", "following_url": "https://api.github.com/users/saidimu/following{/other_user}", "gists_url": "https://api.github.com/users/saidimu/gists{/gist_id}", "starred_url": "https://api.github.com/users/saidimu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saidimu/subscriptions", "organizations_url": "https://api.github.com/users/saidimu/orgs", "repos_url": "https://api.github.com/users/saidimu/repos", "events_url": "https://api.github.com/users/saidimu/events{/privacy}", "received_events_url": "https://api.github.com/users/saidimu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-12-03T02:57:41Z", "updated_at": "2013-02-28T20:42:53Z", "closed_at": "2013-02-08T23:14:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to write a gunicorn worker class for the gevent-server (along the lines of the one offered by the [`gevent-websocket library`](https://bitbucket.org/Jeffrey/gevent-websocket/src/9139ecc0de0d/geventwebsocket/gunicorn/workers.py?at=default). I find the flow of the gevent-server example difficult to follow.\n\nFor instance, what is the purpose of this line https://github.com/Lawouach/WebSocket-for-Python/blob/master/example/echo_gevent_server.py#L47 when the `handler_class` has already been set to `UpgradableWSGIHandler`?\n\nAlso, what is the difference between `UpgradableWSGIHandler` and `WebSocketUpgradeMiddleware`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/62", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/62/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/62/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/62", "id": 7993749, "node_id": "MDU6SXNzdWU3OTkzNzQ5", "number": 62, "title": "echo_cherrypy_server with Python 3.2 fails on client connection", "user": {"login": "v-legoff", "id": 2317535, "node_id": "MDQ6VXNlcjIzMTc1MzU=", "avatar_url": "https://avatars2.githubusercontent.com/u/2317535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/v-legoff", "html_url": "https://github.com/v-legoff", "followers_url": "https://api.github.com/users/v-legoff/followers", "following_url": "https://api.github.com/users/v-legoff/following{/other_user}", "gists_url": "https://api.github.com/users/v-legoff/gists{/gist_id}", "starred_url": "https://api.github.com/users/v-legoff/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/v-legoff/subscriptions", "organizations_url": "https://api.github.com/users/v-legoff/orgs", "repos_url": "https://api.github.com/users/v-legoff/repos", "events_url": "https://api.github.com/users/v-legoff/events{/privacy}", "received_events_url": "https://api.github.com/users/v-legoff/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-10-31T09:47:53Z", "updated_at": "2012-10-31T11:53:44Z", "closed_at": "2012-10-31T11:53:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "When launching the 'echo_cherrypy_server.py' example, the CherryPy server starts, but the client connection fails with a TypeError.\n\nTo reproduce:\n1. Launch the 'echo_cherrypy_server.py' example with Python 3.2 [1]\n2. Open a compatible browser (Mozilla Firefox 16 in my case) and go to the URL: http://localhost:9000\n3. On the server-side (Python console), the following error occurs:\n\n[31/Oct/2012:10:40:14] HTTP\n  Request Headers:\n  PRAGMA: no-cache\n  UPGRADE: websocket\n  HOST: 127.0.0.1:9000\n  ORIGIN: http://localhost:9000\n  CONNECTION: keep-alive, Upgrade\n  CACHE-CONTROL: no-cache\n  SEC-WEBSOCKET-VERSION: 13\n  ACCEPT: text/html,application/xhtml+xml,application/xml;q=0.9,_/_;q=0.8\n  USER-AGENT: Mozilla/5.0 (Windows NT 6.1; rv:16.0) Gecko/20100101 Firefox/16.0\n  ACCEPT-LANGUAGE: fr,fr-fr;q=0.8,en-us;q=0.5,en;q=0.3\n  SEC-WEBSOCKET-KEY: 6mxn50NE+8xKZ15w2/NQRw==\n  Remote-Addr: 127.0.0.1\n  ACCEPT-ENCODING: gzip, deflate\n[31/Oct/2012:10:40:14] HTTP Traceback (most recent call last):\n  File \"C:\\python32\\lib\\site-packages\\cherrypy-3.2.2-py3.2.egg\\cherrypy_cprequest.py\", line 647, in respond\n    self.hooks.run('before_request_body')\n  File \"C:\\python32\\lib\\site-packages\\cherrypy-3.2.2-py3.2.egg\\cherrypy_cprequest.py\", line 112, in run\n    raise exc\n  File \"C:\\python32\\lib\\site-packages\\cherrypy-3.2.2-py3.2.egg\\cherrypy_cprequest.py\", line 102, in run\n    hook()\n  File \"C:\\python32\\lib\\site-packages\\cherrypy-3.2.2-py3.2.egg\\cherrypy_cprequest.py\", line 62, in **call**\n    return self.callback(**self.kwargs)\n  File \"C:\\python32\\lib\\site-packages\\ws4py-0.2.3-py3.2.egg\\ws4py\\server\\cherrypyserver.py\", line 149, in upgrade\n    ws_key = base64.b64decode(key)\n  File \"C:\\python32\\lib\\base64.py\", line 83, in b64decode\n    raise TypeError(\"expected bytes, not %s\" % s.**class**.**name**)\nTypeError: expected bytes, not str\n\n127.0.0.1 - - [31/Oct/2012:10:40:14] \"GET /ws HTTP/1.1\" 500 1686 \"\" \"Mozilla/5.0 (Windows NT 6.1; rv:16.0) Gecko/20100101 Firefox/16.0\" \n\n[1] Windows 7, Python 3.2.3, CherryPy 3.2.2.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/59", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/59/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/59/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/59", "id": 7128756, "node_id": "MDU6SXNzdWU3MTI4NzU2", "number": 59, "title": "urlsplit in Python 2.6.1 and earlier doesn't parse ws or wss properly.", "user": {"login": "dsully", "id": 22371, "node_id": "MDQ6VXNlcjIyMzcx", "avatar_url": "https://avatars0.githubusercontent.com/u/22371?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dsully", "html_url": "https://github.com/dsully", "followers_url": "https://api.github.com/users/dsully/followers", "following_url": "https://api.github.com/users/dsully/following{/other_user}", "gists_url": "https://api.github.com/users/dsully/gists{/gist_id}", "starred_url": "https://api.github.com/users/dsully/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dsully/subscriptions", "organizations_url": "https://api.github.com/users/dsully/orgs", "repos_url": "https://api.github.com/users/dsully/repos", "events_url": "https://api.github.com/users/dsully/events{/privacy}", "received_events_url": "https://api.github.com/users/dsully/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-09-25T17:43:49Z", "updated_at": "2012-09-25T19:00:34Z", "closed_at": "2012-09-25T19:00:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "``` python\n>>> urlsplit('ws://localhost:8080/some-path')\nSplitResult(scheme='ws', netloc='', path='//localhost:8080/some-path', query='', fragment='')\n```\n\nThis results in 'host' being None, and an obtuse 'Connection Refused' message passed to close(), but without enough information to debug.\n\nI see that 'websocket-client' has it's own _parse_url method that works around this bug:\n\nhttps://github.com/liris/websocket-client/blob/master/websocket.py#L105\n\nI'll try and work up a patch, if a solution like the above is reasonable?\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/58", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/58/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/58/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/58", "id": 6883857, "node_id": "MDU6SXNzdWU2ODgzODU3", "number": 58, "title": "Inconsistent tabs/spaces", "user": {"login": "Queatz", "id": 540620, "node_id": "MDQ6VXNlcjU0MDYyMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/540620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Queatz", "html_url": "https://github.com/Queatz", "followers_url": "https://api.github.com/users/Queatz/followers", "following_url": "https://api.github.com/users/Queatz/following{/other_user}", "gists_url": "https://api.github.com/users/Queatz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Queatz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Queatz/subscriptions", "organizations_url": "https://api.github.com/users/Queatz/orgs", "repos_url": "https://api.github.com/users/Queatz/repos", "events_url": "https://api.github.com/users/Queatz/events{/privacy}", "received_events_url": "https://api.github.com/users/Queatz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-09-14T18:43:51Z", "updated_at": "2012-10-09T19:20:34Z", "closed_at": "2012-10-09T19:20:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "The file ws4py/server/cherrypyserver.py contains a few tabs that should be replaced by 8 spaces each.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/55", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/55/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/55/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/55/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/55", "id": 6249844, "node_id": "MDU6SXNzdWU2MjQ5ODQ0", "number": 55, "title": "Bug in documentation", "user": {"login": "vkuznet", "id": 125138, "node_id": "MDQ6VXNlcjEyNTEzOA==", "avatar_url": "https://avatars0.githubusercontent.com/u/125138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vkuznet", "html_url": "https://github.com/vkuznet", "followers_url": "https://api.github.com/users/vkuznet/followers", "following_url": "https://api.github.com/users/vkuznet/following{/other_user}", "gists_url": "https://api.github.com/users/vkuznet/gists{/gist_id}", "starred_url": "https://api.github.com/users/vkuznet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vkuznet/subscriptions", "organizations_url": "https://api.github.com/users/vkuznet/orgs", "repos_url": "https://api.github.com/users/vkuznet/repos", "events_url": "https://api.github.com/users/vkuznet/events{/privacy}", "received_events_url": "https://api.github.com/users/vkuznet/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-08-15T20:18:24Z", "updated_at": "2012-10-09T19:59:19Z", "closed_at": "2012-10-09T19:59:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "sphinx-build -b html -d _build/doctrees   . _build/html\nMaking output directory...\nRunning Sphinx v1.1.3\nloading pickled environment... not yet created\nbuilding [html]: targets for 10 source files that are out of date\nupdating environment: 10 added, 0 changed, 0 removed\nreading sources... [ 70%] ws4py  \nSphinx error:\n'utf8' codec can't decode byte 0xbe in position 146: invalid start byte\nmake: **\\* [html] Error 1\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/52", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/52/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/52/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/52/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/52", "id": 5842244, "node_id": "MDU6SXNzdWU1ODQyMjQ0", "number": 52, "title": "Sending Messages To Individual Clients", "user": {"login": "rhema", "id": 325536, "node_id": "MDQ6VXNlcjMyNTUzNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/325536?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rhema", "html_url": "https://github.com/rhema", "followers_url": "https://api.github.com/users/rhema/followers", "following_url": "https://api.github.com/users/rhema/following{/other_user}", "gists_url": "https://api.github.com/users/rhema/gists{/gist_id}", "starred_url": "https://api.github.com/users/rhema/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rhema/subscriptions", "organizations_url": "https://api.github.com/users/rhema/orgs", "repos_url": "https://api.github.com/users/rhema/repos", "events_url": "https://api.github.com/users/rhema/events{/privacy}", "received_events_url": "https://api.github.com/users/rhema/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 33636614, "node_id": "MDU6TGFiZWwzMzYzNjYxNA==", "url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/labels/question", "name": "question", "color": "d7e102", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2012-07-25T22:31:40Z", "updated_at": "2015-12-17T20:45:56Z", "closed_at": "2015-12-17T20:45:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is there a way to send messages to individual clients using client IDs?  It would be awesome if you could include that in the chat example or let me know if you plan to implement it.  This would be useful, for example, in a chat server that supports private messages.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/51", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/51/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/51/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/51", "id": 5112244, "node_id": "MDU6SXNzdWU1MTEyMjQ0", "number": 51, "title": "memory leak in streaming.Stream", "user": {"login": "omere2", "id": 993096, "node_id": "MDQ6VXNlcjk5MzA5Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/993096?v=4", "gravatar_id": "", "url": "https://api.github.com/users/omere2", "html_url": "https://github.com/omere2", "followers_url": "https://api.github.com/users/omere2/followers", "following_url": "https://api.github.com/users/omere2/following{/other_user}", "gists_url": "https://api.github.com/users/omere2/gists{/gist_id}", "starred_url": "https://api.github.com/users/omere2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/omere2/subscriptions", "organizations_url": "https://api.github.com/users/omere2/orgs", "repos_url": "https://api.github.com/users/omere2/repos", "events_url": "https://api.github.com/users/omere2/events{/privacy}", "received_events_url": "https://api.github.com/users/omere2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2012-06-17T14:09:43Z", "updated_at": "2012-06-21T19:36:42Z", "closed_at": "2012-06-21T19:36:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "This crashes after consuming all system memory within seconds.\n\nwhile True:\n    streaming.Stream()\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/50", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/50/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/50/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/50", "id": 5086750, "node_id": "MDU6SXNzdWU1MDg2NzUw", "number": 50, "title": "ws4py shouldn't send a masked message to the client", "user": {"login": "commandodev", "id": 87764, "node_id": "MDQ6VXNlcjg3NzY0", "avatar_url": "https://avatars0.githubusercontent.com/u/87764?v=4", "gravatar_id": "", "url": "https://api.github.com/users/commandodev", "html_url": "https://github.com/commandodev", "followers_url": "https://api.github.com/users/commandodev/followers", "following_url": "https://api.github.com/users/commandodev/following{/other_user}", "gists_url": "https://api.github.com/users/commandodev/gists{/gist_id}", "starred_url": "https://api.github.com/users/commandodev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/commandodev/subscriptions", "organizations_url": "https://api.github.com/users/commandodev/orgs", "repos_url": "https://api.github.com/users/commandodev/repos", "events_url": "https://api.github.com/users/commandodev/events{/privacy}", "received_events_url": "https://api.github.com/users/commandodev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2012-06-15T05:58:38Z", "updated_at": "2012-06-15T07:08:55Z", "closed_at": "2012-06-15T07:08:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "The latest version of chrome has started to fail for me with a message about the server sending a masked message. I found this commit: 19cfdb191ce13519a19651fb70c01586f1ef027c which seems seems to be addressing the issue.\n\nIf I install version 0.1.3 my websockets communication works again.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/46", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/46/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/46/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/46/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/46", "id": 4182703, "node_id": "MDU6SXNzdWU0MTgyNzAz", "number": 46, "title": "In client/__init__.py: remaining 'body' bytes ignored", "user": {"login": "jsalz", "id": 1657248, "node_id": "MDQ6VXNlcjE2NTcyNDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1657248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsalz", "html_url": "https://github.com/jsalz", "followers_url": "https://api.github.com/users/jsalz/followers", "following_url": "https://api.github.com/users/jsalz/following{/other_user}", "gists_url": "https://api.github.com/users/jsalz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsalz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsalz/subscriptions", "organizations_url": "https://api.github.com/users/jsalz/orgs", "repos_url": "https://api.github.com/users/jsalz/repos", "events_url": "https://api.github.com/users/jsalz/events{/privacy}", "received_events_url": "https://api.github.com/users/jsalz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-04-18T22:47:29Z", "updated_at": "2012-06-21T19:36:42Z", "closed_at": "2012-06-21T19:36:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "client/**init**.py has:\n\n  self.__buffer = body\n\nIt looks like self.__buffer is never used, which means that if any bytes (e.g., the first data packet) are received along with the headers, those bytes will be ignored and the connection will probably get into a bad state.\n\nAdding this after handshake_ok() fixes things in this case:\n\n  if body != '':\n    process(body)\n\nDoes that seem like a reasonable fix?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/44", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/44/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/44/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/44/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/44", "id": 3980650, "node_id": "MDU6SXNzdWUzOTgwNjUw", "number": 44, "title": "ws4py.client.threadedclient is not compatible with ws4py.server.cherrypyserver", "user": {"login": "EliAndrewC", "id": 651592, "node_id": "MDQ6VXNlcjY1MTU5Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/651592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EliAndrewC", "html_url": "https://github.com/EliAndrewC", "followers_url": "https://api.github.com/users/EliAndrewC/followers", "following_url": "https://api.github.com/users/EliAndrewC/following{/other_user}", "gists_url": "https://api.github.com/users/EliAndrewC/gists{/gist_id}", "starred_url": "https://api.github.com/users/EliAndrewC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EliAndrewC/subscriptions", "organizations_url": "https://api.github.com/users/EliAndrewC/orgs", "repos_url": "https://api.github.com/users/EliAndrewC/repos", "events_url": "https://api.github.com/users/EliAndrewC/events{/privacy}", "received_events_url": "https://api.github.com/users/EliAndrewC/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-04-04T23:29:53Z", "updated_at": "2012-04-09T17:51:27Z", "closed_at": "2012-04-09T17:51:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We've been unable to run a CherryPy websocket server and then connect to it with the ws4py.client.threadedclient library without seeing unexpected connection closes and exceptions.  This even happens with the example CherryPy echo client / server code.  To reproduce, you can enter the following commands in a console:\n\n```\npython2.7 -m virtualenv --no-site-packages env\nsource env/bin/activate\npip install http://www.defuze.org/oss/ws4py/ws4py-0.2.1.tar.gz\npip install http://download.cherrypy.org/cherrypy/3.2.2/CherryPy-3.2.2.tar.gz\ngit clone https://github.com/Lawouach/WebSocket-for-Python.git\npython WebSocket-for-Python/example/echo_cherrypy_server.py\n```\n\nand then in another console in the same directory type:\n\n```\nsource env/bin/activate\npython WebSocket-for-Python/example/echo_client.py\n```\n\nand you'll see the following output\n\n```\n0\n25\n50\n75\n100\n125\n150\n175\n=> 708 ####################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################\n=> 0 \n=> 25 *************************\n=> 50 **************************************************\n=> 75 ***************************************************************************\n=> 100 ****************************************************************************************************\n=> 125 *****************************************************************************************************************************\n=> 150 ******************************************************************************************************************************************************\n=> 175 *******************************************************************************************************************************************************************************\nClosed down 1006 Going away\nException in thread WebSocketClient:\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/threading.py\", line 552, in __bootstrap_inner\n    self.run()\n  File \"/usr/local/lib/python2.7/threading.py\", line 505, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/home/eli/temp/ws4py/env/lib/python2.7/site-packages/ws4py/websocket.py\", line 230, in run\n    if not process(bytes):\n  File \"/home/eli/temp/ws4py/env/lib/python2.7/site-packages/ws4py/websocket.py\", line 265, in process\n    self.reading_buffer_size = s.parser.send(bytes) or DEFAULT_READING_SIZE\n  File \"/home/eli/temp/ws4py/env/lib/python2.7/site-packages/ws4py/streaming.py\", line 258, in receiver\n    is_valid, end_on_code_point, _, _ = utf8validator.validate(reason)\n  File \"/home/eli/temp/ws4py/env/lib/python2.7/site-packages/ws4py/utf8validator.py\", line 108, in validate\n    self.state = Utf8Validator.UTF8VALIDATOR_DFA[256 + (self.state << 4) + Utf8Validator.UTF8VALIDATOR_DFA[ba[i]]]\nTypeError: list indices must be integers, not str\n```\n\nSo it looks like the data transfer works for awhile, but then shuts down before all of the data can be sent back and forth.  This did not happen in previous versions; we're still using ws4py 0.1.3 for our development because this doesn't seem to happen with that release.\n\nWe have reproduced this issue on both Python 2.6 and 2.7, and it occurs on both OSX and Ubuntu.  Please let me know if there's anything else I can do to help.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/41", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/41/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/41/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/41", "id": 3781075, "node_id": "MDU6SXNzdWUzNzgxMDc1", "number": 41, "title": "wsgi.input _sock not working", "user": {"login": "gnocetti", "id": 1568449, "node_id": "MDQ6VXNlcjE1Njg0NDk=", "avatar_url": "https://avatars0.githubusercontent.com/u/1568449?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gnocetti", "html_url": "https://github.com/gnocetti", "followers_url": "https://api.github.com/users/gnocetti/followers", "following_url": "https://api.github.com/users/gnocetti/following{/other_user}", "gists_url": "https://api.github.com/users/gnocetti/gists{/gist_id}", "starred_url": "https://api.github.com/users/gnocetti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gnocetti/subscriptions", "organizations_url": "https://api.github.com/users/gnocetti/orgs", "repos_url": "https://api.github.com/users/gnocetti/repos", "events_url": "https://api.github.com/users/gnocetti/events{/privacy}", "received_events_url": "https://api.github.com/users/gnocetti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2012-03-23T14:56:19Z", "updated_at": "2012-04-30T11:15:15Z", "closed_at": "2012-03-27T11:58:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am having followin issue:\n\n  File \"/usr/local/lib/python2.6/dist-packages/ws4py/server/wsgi/middleware.py\", line 117, in **call**\n    environ.get('wsgi.input')._sock),\nAttributeError: 'Input' object has no attribute '_sock'\n\nI search Input class of pywsgi getevent and did not found _sock function.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/40", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/40/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/40/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/40", "id": 3774828, "node_id": "MDU6SXNzdWUzNzc0ODI4", "number": 40, "title": "wss server support", "user": {"login": "gmixo", "id": 1563156, "node_id": "MDQ6VXNlcjE1NjMxNTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1563156?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gmixo", "html_url": "https://github.com/gmixo", "followers_url": "https://api.github.com/users/gmixo/followers", "following_url": "https://api.github.com/users/gmixo/following{/other_user}", "gists_url": "https://api.github.com/users/gmixo/gists{/gist_id}", "starred_url": "https://api.github.com/users/gmixo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gmixo/subscriptions", "organizations_url": "https://api.github.com/users/gmixo/orgs", "repos_url": "https://api.github.com/users/gmixo/repos", "events_url": "https://api.github.com/users/gmixo/events{/privacy}", "received_events_url": "https://api.github.com/users/gmixo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-03-23T03:25:26Z", "updated_at": "2012-09-24T08:50:53Z", "closed_at": "2012-08-05T08:09:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "i have realized wss server using ws4py and cherrypy for python 2.6 but it looks very strange\nI understand ssl.SSLSocket send\\recv works only with string not bytearray and\nfor sending string 'abcd' it must looks like '\\x82\\x06abcd\\r'\nit''ll be cool to have ability to work with bytearray by wss\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/39", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/39/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/39/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/39/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/39", "id": 3755287, "node_id": "MDU6SXNzdWUzNzU1Mjg3", "number": 39, "title": "ImportError: No module named gevent", "user": {"login": "caoimghgin", "id": 701989, "node_id": "MDQ6VXNlcjcwMTk4OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/701989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caoimghgin", "html_url": "https://github.com/caoimghgin", "followers_url": "https://api.github.com/users/caoimghgin/followers", "following_url": "https://api.github.com/users/caoimghgin/following{/other_user}", "gists_url": "https://api.github.com/users/caoimghgin/gists{/gist_id}", "starred_url": "https://api.github.com/users/caoimghgin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caoimghgin/subscriptions", "organizations_url": "https://api.github.com/users/caoimghgin/orgs", "repos_url": "https://api.github.com/users/caoimghgin/repos", "events_url": "https://api.github.com/users/caoimghgin/events{/privacy}", "received_events_url": "https://api.github.com/users/caoimghgin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-03-21T23:08:17Z", "updated_at": "2012-03-22T20:48:14Z", "closed_at": "2012-03-22T20:48:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Happily installed ws4py and all the other goodies and was thrilled to launch 'echo_cherrypy_server.py' and see it working flawlessly in Chrome. However, seems other python programs in examples directory are not working at all. For instance...\n\n$ python autobahn_test_servers.py\n\npython echo_client.py\nTraceback (most recent call last):\n  File \"echo_client.py\", line 27, in <module>\n    ws.connect()\n  File \"/Library/Python/2.7/site-packages/ws4py/client/**init**.py\", line 58, in connect\n    self.process_response_line(response_line)\n  File \"/Library/Python/2.7/site-packages/ws4py/client/**init**.py\", line 102, in process_response_line\n    raise HandshakeError(\"Invalid response status: %s %s\" % (code, status))\nws4py.exc.HandshakeError: Invalid response status: 404 Not Found\n\nI'm running OSX Lion 10.7.3, Python 2.7.1 (r271:86832, Jun 16 2011, 16:59:05) \n[GCC 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)] on darwin\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/36", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/36/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/36/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/36", "id": 3666398, "node_id": "MDU6SXNzdWUzNjY2Mzk4", "number": 36, "title": "HandshakeError: WebSocket version required", "user": {"login": "andrasf", "id": 288001, "node_id": "MDQ6VXNlcjI4ODAwMQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/288001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrasf", "html_url": "https://github.com/andrasf", "followers_url": "https://api.github.com/users/andrasf/followers", "following_url": "https://api.github.com/users/andrasf/following{/other_user}", "gists_url": "https://api.github.com/users/andrasf/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrasf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrasf/subscriptions", "organizations_url": "https://api.github.com/users/andrasf/orgs", "repos_url": "https://api.github.com/users/andrasf/repos", "events_url": "https://api.github.com/users/andrasf/events{/privacy}", "received_events_url": "https://api.github.com/users/andrasf/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-03-15T14:16:18Z", "updated_at": "2012-03-15T14:36:24Z", "closed_at": "2012-03-15T14:36:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Apple devices do not work with ws4py, they produce `HandshakeError: WebSocket version required` error. They only work with `allow_draft76` with Tornado, but I would like to use cherrypy. Is this a limitation in ws4py or cherrypy? Is there a reason not to enable these devices? If no, is there a simple solution or a workaround to use them?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/34", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/34/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/34/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/34/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/34", "id": 3655282, "node_id": "MDU6SXNzdWUzNjU1Mjgy", "number": 34, "title": "tools.websocket.version should allow more than one version", "user": {"login": "EliAndrewC", "id": 651592, "node_id": "MDQ6VXNlcjY1MTU5Mg==", "avatar_url": "https://avatars2.githubusercontent.com/u/651592?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EliAndrewC", "html_url": "https://github.com/EliAndrewC", "followers_url": "https://api.github.com/users/EliAndrewC/followers", "following_url": "https://api.github.com/users/EliAndrewC/following{/other_user}", "gists_url": "https://api.github.com/users/EliAndrewC/gists{/gist_id}", "starred_url": "https://api.github.com/users/EliAndrewC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EliAndrewC/subscriptions", "organizations_url": "https://api.github.com/users/EliAndrewC/orgs", "repos_url": "https://api.github.com/users/EliAndrewC/repos", "events_url": "https://api.github.com/users/EliAndrewC/events{/privacy}", "received_events_url": "https://api.github.com/users/EliAndrewC/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-03-14T20:01:12Z", "updated_at": "2012-03-22T20:43:32Z", "closed_at": "2012-03-22T20:43:32Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The latest Firefox and the latest Google Chrome set the value of the \"Sec-WebSocket-Version\" header to 8 and 13, respectively.  I can set the version that CherryPy expects with the \"tools.websocket.version\" config option, but this setting is used in a basic equality check (https://github.com/Lawouach/WebSocket-for-Python/blob/master/ws4py/server/cherrypyserver.py#L133).  So currently I can deploy a site which is compatible with the latest Firefox or the latest Chrome, but not both.\n\nI propose that \"tools.websocket.version\" accept either a number or a range.  So I could say either\n\ntools.websocket.version = 8\n\nor\n\ntools.websocket.version = 8-13\n\nI will submit a patch via a Github pull request sometime this week which adds this functionality.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/32", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/32/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/32/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/32", "id": 3641555, "node_id": "MDU6SXNzdWUzNjQxNTU1", "number": 32, "title": "TornadoWebSocketClient doesn't support SSL", "user": {"login": "patrickod", "id": 84262, "node_id": "MDQ6VXNlcjg0MjYy", "avatar_url": "https://avatars0.githubusercontent.com/u/84262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/patrickod", "html_url": "https://github.com/patrickod", "followers_url": "https://api.github.com/users/patrickod/followers", "following_url": "https://api.github.com/users/patrickod/following{/other_user}", "gists_url": "https://api.github.com/users/patrickod/gists{/gist_id}", "starred_url": "https://api.github.com/users/patrickod/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/patrickod/subscriptions", "organizations_url": "https://api.github.com/users/patrickod/orgs", "repos_url": "https://api.github.com/users/patrickod/repos", "events_url": "https://api.github.com/users/patrickod/events{/privacy}", "received_events_url": "https://api.github.com/users/patrickod/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-03-14T01:17:32Z", "updated_at": "2012-03-22T20:44:55Z", "closed_at": "2012-03-22T20:44:55Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "When creating WebSockets with a WSS:// URL the TornadoWebSocketClient class fails to connect. The following is the code snippet that I'm using to test the functionality. \n\n```\nfrom ws4py.client.tornadoclient import TornadoWebSocketClient\nimport tornado.ioloop\nc = TornadoWebSocketClient(\"wss://127.0.0.1:8888/\")\nc.connect()\ntornado.ioloop.IOLoop.instance().start()\n```\n\nThe server is a simple demo Tornado Server with SSL enabled. The error on the server side is the following\n\n```\nWARNING:root:SSL Error on 8: [Errno 1] _ssl.c:490: error:1407609C:SSL routines:SSL23_GET_CLIENT_HELLO:http request\n```\n\nThe error on the client side is the following\n\n```\nWARNING:root:Read error on 3: [Errno 104] Connection reset by peer\nERROR:root:Uncaught exception, closing connection.\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.6/dist-packages/tornado/iostream.py\", line 304, in wrapper\n    callback(*args)\n  File \"/usr/local/lib/python2.6/dist-packages/ws4py-0.2.0-py2.6.egg/ws4py/client/tornadoclient.py\", line 34, in __handshake_sent\n    self.io.read_until(\"\\r\\n\\r\\n\", self.__handshake_completed)\n  File \"/usr/local/lib/python2.6/dist-packages/tornado/iostream.py\", line 160, in read_until\n    self._check_closed()\n  File \"/usr/local/lib/python2.6/dist-packages/tornado/iostream.py\", line 535, in _check_closed\n    raise IOError(\"Stream is closed\")\nIOError: Stream is closed\nERROR:root:Exception in callback <tornado.stack_context._StackContextWrapper object at 0x99e89dc>\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.6/dist-packages/tornado/ioloop.py\", line 399, in _run_callback\n    callback()\n  File \"/usr/local/lib/python2.6/dist-packages/tornado/iostream.py\", line 304, in wrapper\n    callback(*args)\n  File \"/usr/local/lib/python2.6/dist-packages/ws4py-0.2.0-py2.6.egg/ws4py/client/tornadoclient.py\", line 34, in __handshake_sent\n    self.io.read_until(\"\\r\\n\\r\\n\", self.__handshake_completed)\n  File \"/usr/local/lib/python2.6/dist-packages/tornado/iostream.py\", line 160, in read_until\n    self._check_closed()\n  File \"/usr/local/lib/python2.6/dist-packages/tornado/iostream.py\", line 535, in _check_closed\n    raise IOError(\"Stream is closed\")\nIOError: Stream is closed\n^CTraceback (most recent call last):\n  File \"test.py\", line 5, in <module>\n    tornado.ioloop.IOLoop.instance().start()\n  File \"/usr/local/lib/python2.6/dist-packages/tornado/ioloop.py\", line 282, in start\n    event_pairs = self._impl.poll(poll_timeout)\nKeyboardInterrupt\n```\n\nThe problem is limited solely to the TornadoWebSocketClient class. Both of the other clients work with the server and SSL enabled. I think the problem is due to not using a tornado.iostream.SSLIOStream object in place of a tornado.iostream.IOStream object. I'll try and confirm my suspicions and post a fix if I can. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/31", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/31/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/31/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/31", "id": 3600299, "node_id": "MDU6SXNzdWUzNjAwMjk5", "number": 31, "title": "Problem creating a websocket", "user": {"login": "WasserX", "id": 762229, "node_id": "MDQ6VXNlcjc2MjIyOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/762229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WasserX", "html_url": "https://github.com/WasserX", "followers_url": "https://api.github.com/users/WasserX/followers", "following_url": "https://api.github.com/users/WasserX/following{/other_user}", "gists_url": "https://api.github.com/users/WasserX/gists{/gist_id}", "starred_url": "https://api.github.com/users/WasserX/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WasserX/subscriptions", "organizations_url": "https://api.github.com/users/WasserX/orgs", "repos_url": "https://api.github.com/users/WasserX/repos", "events_url": "https://api.github.com/users/WasserX/events{/privacy}", "received_events_url": "https://api.github.com/users/WasserX/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 13, "created_at": "2012-03-11T10:22:33Z", "updated_at": "2012-03-28T18:47:25Z", "closed_at": "2012-03-28T18:47:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to execute _any_ example code and everytime the socket is created, python throws an exception like this:\n\n```\n127.0.0.1 - - [11/Mar/2012:11:10:45] \"GET /js/jquery-1.6.2.min.js HTTP/1.1\" 304 - \"http://localhost:9000/\" \"Mozilla/5.0 (X11; Linux i686) AppleWebKit/535.11 (KHTML, like Gecko) Ubuntu/11.10 Chromium/17.0.963.78 Chrome/17.0.963.78 Safari/535.11\"\n[11/Mar/2012:11:10:45]  Handler created: <__main__.ChatWebSocketHandler object at 0x94d402c>\n127.0.0.1 - - [11/Mar/2012:11:10:45] \"GET /ws HTTP/1.1\" 101 - \"\" \"\"\n[11/Mar/2012:11:10:45]  Managing WebSocket connection from 127.0.0.1:54256\n[11/Mar/2012:11:10:46]  Traceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/ws4py/server/cherrypyserver.py\", line 339, in broadcast\n    ws_handler.send(message, message.is_binary)\n  File \"/usr/local/lib/python2.7/dist-packages/ws4py/websocket.py\", line 172, in send\n    self.sender(payload.single(mask=self.stream.always_mask))\n  File \"/usr/lib/python2.7/socket.py\", line 224, in meth\n    return getattr(self._sock,name)(*args)\n  File \"/usr/lib/python2.7/socket.py\", line 170, in _dummy\n    raise error(EBADF, 'Bad file descriptor')\nerror: [Errno 9] Bad file descriptor\n```\n\nI'm not really sure what I'm doing wrong, but using another ws4py version doesn't seem to solve it...\n\nSteps to reproduce(?):\n1. git clone https://github.com/Lawouach/WebSocket-for-Python.git\n2. cd WebSocket-for-Python/\n3. sudo python setup.py install\n4. python example/echo_cherrypy_server.py\n5. Open chromium. Go to address: localhost:9000\n\nResult:\n- Chat site appears. There is one message in the chat window: Connection closed by server: 1006 \"\"\n- Stack trace that appears in the server console above.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/30", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/30/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/30/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/30", "id": 3534745, "node_id": "MDU6SXNzdWUzNTM0NzQ1", "number": 30, "title": "KeyboardInterrupt ignored in WebSocketClient", "user": {"login": "adamflorin", "id": 15598, "node_id": "MDQ6VXNlcjE1NTk4", "avatar_url": "https://avatars3.githubusercontent.com/u/15598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamflorin", "html_url": "https://github.com/adamflorin", "followers_url": "https://api.github.com/users/adamflorin/followers", "following_url": "https://api.github.com/users/adamflorin/following{/other_user}", "gists_url": "https://api.github.com/users/adamflorin/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamflorin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamflorin/subscriptions", "organizations_url": "https://api.github.com/users/adamflorin/orgs", "repos_url": "https://api.github.com/users/adamflorin/repos", "events_url": "https://api.github.com/users/adamflorin/events{/privacy}", "received_events_url": "https://api.github.com/users/adamflorin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-03-06T23:14:27Z", "updated_at": "2013-11-12T14:37:18Z", "closed_at": "2012-03-24T11:08:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm using ws4py to build a simple command-line WS client. However, once it gets going, there's no way to bring it down without `kill`ing it. I see that `WebSocketClient` is using the `threading` package; how can I get it to close the connection on `KeyboardInterrupt` (or something similar)?\n\nThe code (set WEBSOCKET_SERVER_URL to a real WS server):\n\n```\nfrom ws4py.client.threadedclient import WebSocketClient\n\nWEBSOCKET_SERVER_URL = \"INSERT_VALID_URL_HERE\"\n\nclass CantInterruptClient(WebSocketClient):\n    def opened(self):\n        print \"Opened.\"\n\n    def closed(self, code):\n        print \"Closed.\"\n\ntry:\n    print \"Creating client...\"\n    cant_interrupt_client = CantInterruptClient(WEBSOCKET_SERVER_URL)\n    cant_interrupt_client.connect()\nexcept KeyboardInterrupt:\n    print \"Attempting to quit...\"\n    cant_interrupt_client.close()\n```\n\nTypical command line output:\n\n```\n$ python ws4py-interrupt.py\nCreating client...\nOpened.\n^C^C^C^C^C^C^C^C\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/29", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/29/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/29/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/29", "id": 3408940, "node_id": "MDU6SXNzdWUzNDA4OTQw", "number": 29, "title": "Port to Python 3", "user": {"login": "Lawouach", "id": 769982, "node_id": "MDQ6VXNlcjc2OTk4Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/769982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lawouach", "html_url": "https://github.com/Lawouach", "followers_url": "https://api.github.com/users/Lawouach/followers", "following_url": "https://api.github.com/users/Lawouach/following{/other_user}", "gists_url": "https://api.github.com/users/Lawouach/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lawouach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lawouach/subscriptions", "organizations_url": "https://api.github.com/users/Lawouach/orgs", "repos_url": "https://api.github.com/users/Lawouach/repos", "events_url": "https://api.github.com/users/Lawouach/events{/privacy}", "received_events_url": "https://api.github.com/users/Lawouach/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "Lawouach", "id": 769982, "node_id": "MDQ6VXNlcjc2OTk4Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/769982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lawouach", "html_url": "https://github.com/Lawouach", "followers_url": "https://api.github.com/users/Lawouach/followers", "following_url": "https://api.github.com/users/Lawouach/following{/other_user}", "gists_url": "https://api.github.com/users/Lawouach/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lawouach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lawouach/subscriptions", "organizations_url": "https://api.github.com/users/Lawouach/orgs", "repos_url": "https://api.github.com/users/Lawouach/repos", "events_url": "https://api.github.com/users/Lawouach/events{/privacy}", "received_events_url": "https://api.github.com/users/Lawouach/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "Lawouach", "id": 769982, "node_id": "MDQ6VXNlcjc2OTk4Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/769982?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lawouach", "html_url": "https://github.com/Lawouach", "followers_url": "https://api.github.com/users/Lawouach/followers", "following_url": "https://api.github.com/users/Lawouach/following{/other_user}", "gists_url": "https://api.github.com/users/Lawouach/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lawouach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lawouach/subscriptions", "organizations_url": "https://api.github.com/users/Lawouach/orgs", "repos_url": "https://api.github.com/users/Lawouach/repos", "events_url": "https://api.github.com/users/Lawouach/events{/privacy}", "received_events_url": "https://api.github.com/users/Lawouach/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 4, "created_at": "2012-02-27T21:40:57Z", "updated_at": "2012-10-27T12:45:17Z", "closed_at": "2012-10-27T12:45:17Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Find the best approach to port to py3k, probably at a compat module like CherryPy uses.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/25", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/25/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/25/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/25/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/25", "id": 3261819, "node_id": "MDU6SXNzdWUzMjYxODE5", "number": 25, "title": "Incorrect args in TornadoWebSocketClient constructor", "user": {"login": "gentimouton", "id": 896030, "node_id": "MDQ6VXNlcjg5NjAzMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/896030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gentimouton", "html_url": "https://github.com/gentimouton", "followers_url": "https://api.github.com/users/gentimouton/followers", "following_url": "https://api.github.com/users/gentimouton/following{/other_user}", "gists_url": "https://api.github.com/users/gentimouton/gists{/gist_id}", "starred_url": "https://api.github.com/users/gentimouton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gentimouton/subscriptions", "organizations_url": "https://api.github.com/users/gentimouton/orgs", "repos_url": "https://api.github.com/users/gentimouton/repos", "events_url": "https://api.github.com/users/gentimouton/events{/privacy}", "received_events_url": "https://api.github.com/users/gentimouton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-02-17T01:29:37Z", "updated_at": "2012-02-18T11:27:34Z", "closed_at": "2012-02-18T11:27:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "The constructor of `TornadoWebSocketClient` calls the constructor of `WebSocketBaseClient` with `version=...`, but `WebSocketBaseClient.__init__` only supports `extensions` as an extra arg, and not `version`.\n\nhttps://github.com/Lawouach/WebSocket-for-Python/blob/master/ws4py/client/tornadoclient.py#L14\n\nhttps://github.com/Lawouach/WebSocket-for-Python/blob/master/ws4py/client/\\_\\_init\\_\\_.py#L18\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/24", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/24/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/24/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/24", "id": 3261381, "node_id": "MDU6SXNzdWUzMjYxMzgx", "number": 24, "title": "Typo in echo_client example", "user": {"login": "gentimouton", "id": 896030, "node_id": "MDQ6VXNlcjg5NjAzMA==", "avatar_url": "https://avatars1.githubusercontent.com/u/896030?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gentimouton", "html_url": "https://github.com/gentimouton", "followers_url": "https://api.github.com/users/gentimouton/followers", "following_url": "https://api.github.com/users/gentimouton/following{/other_user}", "gists_url": "https://api.github.com/users/gentimouton/gists{/gist_id}", "starred_url": "https://api.github.com/users/gentimouton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gentimouton/subscriptions", "organizations_url": "https://api.github.com/users/gentimouton/orgs", "repos_url": "https://api.github.com/users/gentimouton/repos", "events_url": "https://api.github.com/users/gentimouton/events{/privacy}", "received_events_url": "https://api.github.com/users/gentimouton/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2012-02-17T00:42:40Z", "updated_at": "2012-02-18T11:28:53Z", "closed_at": "2012-02-18T11:28:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm just starting to use your lib, but so far it's been quite useful, thanks a lot :-) \n\nI just spotted what I think is an error at https://github.com/Lawouach/WebSocket-for-Python/blob/master/example/echo_client.py#L5\n\n```\n    def opened(self, protocols, extensions):\n```\n\nShould be instead:\n\n```\n    def opened(self):\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/23", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/23/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/23/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/23", "id": 3209397, "node_id": "MDU6SXNzdWUzMjA5Mzk3", "number": 23, "title": "infinite loop in threadedclient.py when server closes websocket", "user": {"login": "tweber", "id": 1341015, "node_id": "MDQ6VXNlcjEzNDEwMTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1341015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tweber", "html_url": "https://github.com/tweber", "followers_url": "https://api.github.com/users/tweber/followers", "following_url": "https://api.github.com/users/tweber/following{/other_user}", "gists_url": "https://api.github.com/users/tweber/gists{/gist_id}", "starred_url": "https://api.github.com/users/tweber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tweber/subscriptions", "organizations_url": "https://api.github.com/users/tweber/orgs", "repos_url": "https://api.github.com/users/tweber/repos", "events_url": "https://api.github.com/users/tweber/events{/privacy}", "received_events_url": "https://api.github.com/users/tweber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-02-13T21:21:28Z", "updated_at": "2012-04-09T17:41:10Z", "closed_at": "2012-04-09T17:41:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using geventclient.py which subclasses WebSocketClient in threadedclient.py.  The client connects and waits for a message.  If the server sends a message and immediately closes the websocket, the client goes into an infinite loop.  It happens in threadedclient.py in the _receive() method.  Basically, there is a socket recv() command which returns \"\" indicating that the server has closed.  But the _receive() method does not close, and calls socket recv() again.  Here is the first part of the function with my patch, which fixes the problem in my limited tests.\n\n```\ndef _receive(self):\n    next_size = 2\n    try:\n        self.sock.setblocking(1)\n        while self.running:\n            if self.__buffer:\n                bytes, self.__buffer = self.__buffer[:next_size], self.__buffer[next_size:]\n            else:\n                bytes = self.read_from_connection(next_size)\n\n            ######### patch start\n            if bytes is None or len(bytes) == 0:\n                self.server_terminated = True\n                self.running = False\n                break\n            ######### patch end\n\n            with self._lock:\n                s = self.stream\n                next_size = s.parser.send(bytes)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/22", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/22/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/22/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/22", "id": 3194670, "node_id": "MDU6SXNzdWUzMTk0Njcw", "number": 22, "title": "Typos following recent code changes...", "user": {"login": "dbrnz", "id": 239220, "node_id": "MDQ6VXNlcjIzOTIyMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/239220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbrnz", "html_url": "https://github.com/dbrnz", "followers_url": "https://api.github.com/users/dbrnz/followers", "following_url": "https://api.github.com/users/dbrnz/following{/other_user}", "gists_url": "https://api.github.com/users/dbrnz/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbrnz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbrnz/subscriptions", "organizations_url": "https://api.github.com/users/dbrnz/orgs", "repos_url": "https://api.github.com/users/dbrnz/repos", "events_url": "https://api.github.com/users/dbrnz/events{/privacy}", "received_events_url": "https://api.github.com/users/dbrnz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-02-13T01:01:43Z", "updated_at": "2012-02-18T11:29:25Z", "closed_at": "2012-02-18T11:29:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\ndiff --git a/example/echo_client.py b/example/echo_client.py\nindex 94b1f04..9b6698e 100644\n--- a/example/echo_client.py\n+++ b/example/echo_client.py\n@@ -13,7 +13,7 @@ class EchoClient(WebSocketClient):\n             print i\n             self.send(\"*\" * i)\n\n-    def closed(self, code, reason):\n+    def closed(self, code, reason=None):\n         print \"Closed down\", code, reason\n\n     def received_message(self, m):\ndiff --git a/ws4py/exc.py b/ws4py/exc.py\nindex 5a87f36..5a22ee2 100644\n--- a/ws4py/exc.py\n+++ b/ws4py/exc.py\n@@ -1,7 +1,7 @@\n # -*- coding: utf-8 -*-\n\n __all__ = ['WebSocketException', 'FrameTooLargeException', 'ProtocolException',\n-           'FUnsupportedFrameTypeException', 'TextFrameEncodingException',\n+           'UnsupportedFrameTypeException', 'TextFrameEncodingException',\n            'StreamClosed', 'HandshakeError', 'InvalidBytesError']\n\n class WebSocketException(Exception): pass\ndiff --git a/ws4py/websocket.py b/ws4py/websocket.py\nindex bbff576..cf78b8a 100644\n--- a/ws4py/websocket.py\n+++ b/ws4py/websocket.py\n@@ -135,7 +135,7 @@ class WebSocket(object):\n             bytes = payload.next()\n             first = True\n             for chunk in payload:\n-                write(message_sender(bytes).fragment(first=first))\n+                self.sender(message_sender(bytes).fragment(first=first))\n                 bytes = chunk\n                 first = False\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/21", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/21/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/21/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/21", "id": 3193213, "node_id": "MDU6SXNzdWUzMTkzMjEz", "number": 21, "title": "ThreadedHandler still referenced", "user": {"login": "dbrnz", "id": 239220, "node_id": "MDQ6VXNlcjIzOTIyMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/239220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dbrnz", "html_url": "https://github.com/dbrnz", "followers_url": "https://api.github.com/users/dbrnz/followers", "following_url": "https://api.github.com/users/dbrnz/following{/other_user}", "gists_url": "https://api.github.com/users/dbrnz/gists{/gist_id}", "starred_url": "https://api.github.com/users/dbrnz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dbrnz/subscriptions", "organizations_url": "https://api.github.com/users/dbrnz/orgs", "repos_url": "https://api.github.com/users/dbrnz/repos", "events_url": "https://api.github.com/users/dbrnz/events{/privacy}", "received_events_url": "https://api.github.com/users/dbrnz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-02-12T21:17:41Z", "updated_at": "2012-02-18T11:29:45Z", "closed_at": "2012-02-18T11:29:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "It is imported in:\n-  ws4py/websocket.py\n-  ws4py/server/cherrypyserver.py\n-  test/test_cherrypy.py\n-  example/droid_sensor_cherrypy_server.py\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/20", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/20/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/20/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/20/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/20", "id": 3160267, "node_id": "MDU6SXNzdWUzMTYwMjY3", "number": 20, "title": "memory leak", "user": {"login": "tweber", "id": 1341015, "node_id": "MDQ6VXNlcjEzNDEwMTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1341015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tweber", "html_url": "https://github.com/tweber", "followers_url": "https://api.github.com/users/tweber/followers", "following_url": "https://api.github.com/users/tweber/following{/other_user}", "gists_url": "https://api.github.com/users/tweber/gists{/gist_id}", "starred_url": "https://api.github.com/users/tweber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tweber/subscriptions", "organizations_url": "https://api.github.com/users/tweber/orgs", "repos_url": "https://api.github.com/users/tweber/repos", "events_url": "https://api.github.com/users/tweber/events{/privacy}", "received_events_url": "https://api.github.com/users/tweber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2012-02-09T17:22:57Z", "updated_at": "2012-10-24T11:12:44Z", "closed_at": "2012-02-23T18:04:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "The server has a memory leak.  I found it because my server ran out of memory after several thousand clients connected and disconnected.  I verified the leak using Python objgraph pypi.python.org/pypi/objgraph .  It appears that for every websocket connection, two generators, one Stream, and one Frame are leaked.  Even after the connection is closed, these objects remain in memory.  Even after garbage collection.  To verify it, add the following two lines to the sample echo server.\n\n```\n    for x in ['generator', 'Stream', 'Frame', 'TextMessage']:\n        print x, len(objgraph.by_type(x))\n```\n\nNow connect and disconnect several clients.  You will see the number of instances of these objects climb, even after all clients are disconnected, even after garbage collection.\n\nI use geventserver.  I have not tried with the other servers.  But there is no leakage of Greenlets, so I suspect the issue is not related to gevent.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/19", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/19/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/19/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/19/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/19", "id": 2919411, "node_id": "MDU6SXNzdWUyOTE5NDEx", "number": 19, "title": "Please store the close code and reason in WebSocketBaseClient", "user": {"login": "tweber", "id": 1341015, "node_id": "MDQ6VXNlcjEzNDEwMTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1341015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tweber", "html_url": "https://github.com/tweber", "followers_url": "https://api.github.com/users/tweber/followers", "following_url": "https://api.github.com/users/tweber/following{/other_user}", "gists_url": "https://api.github.com/users/tweber/gists{/gist_id}", "starred_url": "https://api.github.com/users/tweber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tweber/subscriptions", "organizations_url": "https://api.github.com/users/tweber/orgs", "repos_url": "https://api.github.com/users/tweber/repos", "events_url": "https://api.github.com/users/tweber/events{/privacy}", "received_events_url": "https://api.github.com/users/tweber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2012-01-21T02:21:14Z", "updated_at": "2012-02-23T18:05:14Z", "closed_at": "2012-02-23T18:05:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "When the websocket closes, there is a code and a reason.  I can subclass it and override closed() to get these.  But I cannot get them if I am handed a stock websocket object, for example when I use WSGI server (with gevent).  Therefore, could you please store the code and reason in the websocket?  For example,\n\nws4py/client/**init**.py line 106\n\n```\ndef close(self, reason='', code=1000):\n    if not self.client_terminated:\n        self.client_terminated = True\n        self.close_code = code  ### added ###\n        self.close_reason = reason ### added ###\n        self.write_to_connection(self.stream.close(code=code, reason=reason).single(mask=True))\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/18", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/18/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/18/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/18", "id": 2876048, "node_id": "MDU6SXNzdWUyODc2MDQ4", "number": 18, "title": "Exception when running with gevent 1.0", "user": {"login": "tweber", "id": 1341015, "node_id": "MDQ6VXNlcjEzNDEwMTU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1341015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tweber", "html_url": "https://github.com/tweber", "followers_url": "https://api.github.com/users/tweber/followers", "following_url": "https://api.github.com/users/tweber/following{/other_user}", "gists_url": "https://api.github.com/users/tweber/gists{/gist_id}", "starred_url": "https://api.github.com/users/tweber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tweber/subscriptions", "organizations_url": "https://api.github.com/users/tweber/orgs", "repos_url": "https://api.github.com/users/tweber/repos", "events_url": "https://api.github.com/users/tweber/events{/privacy}", "received_events_url": "https://api.github.com/users/tweber/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2012-01-17T22:49:13Z", "updated_at": "2012-02-04T15:33:45Z", "closed_at": "2012-02-04T15:32:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "When running geventserver with gevent 1.0, exception occurs\n\nTraceback (most recent call last):\n  File \"build/bdist.macosx-10.7-intel/egg/gevent/pywsgi.py\", line 449, in handle_one_response\n    self.run_application()\n  File \"ws4py/server/geventserver.py\", line 64, in run_application\n    self.result = self.application(self.environ, start_response_for_upgrade)\n  File \"ws4py/server/wsgi/middleware.py\", line 127, in **call**\n    start_response(\"101 Web Socket Hybi Handshake\", headers)\n  File \"ws4py/server/geventserver.py\", line 54, in start_response_for_upgrade\n    self.wfile.writelines(towrite)\nAttributeError: 'UpgradableWSGIHandler' object has no attribute 'wfile'\n\ngevent.pywsgi.WSGIHandler no longer uses attribute wfile.\nHere is my fix:\n\ngeventserver.py, line 54\n\n  # self.wfile.writelines(towrite)\n  # self.response_length += sum(len(x) for x in towrite)\n  self.headers_sent = True  # otherwise, write() will send its own headers\n  for data in towrite:\n      write(data)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/17", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/17/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/17/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/17", "id": 2612839, "node_id": "MDU6SXNzdWUyNjEyODM5", "number": 17, "title": "Version 0.1.5 is not installable", "user": {"login": "protoss-player", "id": 1048644, "node_id": "MDQ6VXNlcjEwNDg2NDQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1048644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/protoss-player", "html_url": "https://github.com/protoss-player", "followers_url": "https://api.github.com/users/protoss-player/followers", "following_url": "https://api.github.com/users/protoss-player/following{/other_user}", "gists_url": "https://api.github.com/users/protoss-player/gists{/gist_id}", "starred_url": "https://api.github.com/users/protoss-player/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/protoss-player/subscriptions", "organizations_url": "https://api.github.com/users/protoss-player/orgs", "repos_url": "https://api.github.com/users/protoss-player/repos", "events_url": "https://api.github.com/users/protoss-player/events{/privacy}", "received_events_url": "https://api.github.com/users/protoss-player/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2011-12-20T13:44:41Z", "updated_at": "2011-12-20T13:47:47Z", "closed_at": "2011-12-20T13:47:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "The latest version (0.1.5) is not downloadable from http://www.defuze.org/oss/ws4py/ws4py-0.1.5.tar.gz (says 403 Forbidden). So ws4py is not installable through pypi.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/16", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/16/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/16/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/16", "id": 2612136, "node_id": "MDU6SXNzdWUyNjEyMTM2", "number": 16, "title": "TypeError: list indices must be integers, not str", "user": {"login": "majek", "id": 63387, "node_id": "MDQ6VXNlcjYzMzg3", "avatar_url": "https://avatars3.githubusercontent.com/u/63387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/majek", "html_url": "https://github.com/majek", "followers_url": "https://api.github.com/users/majek/followers", "following_url": "https://api.github.com/users/majek/following{/other_user}", "gists_url": "https://api.github.com/users/majek/gists{/gist_id}", "starred_url": "https://api.github.com/users/majek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/majek/subscriptions", "organizations_url": "https://api.github.com/users/majek/orgs", "repos_url": "https://api.github.com/users/majek/repos", "events_url": "https://api.github.com/users/majek/events{/privacy}", "received_events_url": "https://api.github.com/users/majek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2011-12-20T12:02:46Z", "updated_at": "2012-01-03T22:16:38Z", "closed_at": "2012-01-03T22:16:38Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I receive this error:\n\n```\nTraceback (most recent call last):\n  File \"venv/lib/python2.6/site-packages/ws4py/client/threadedclient.py\", line 93, in _receive\n    next_size = s.parser.send(bytes)\n  File \"venv/lib/python2.6/site-packages/ws4py/streaming.py\", line 181, in receiver\n    is_valid, _, _, _ = utf8validator.validate(bytes)\n  File \"venv/lib/python2.6/site-packages/ws4py/utf8validator.py\", line 108, in validate\n    self.state = Utf8Validator.UTF8VALIDATOR_DFA[256 + (self.state << 4) + Utf8Validator.UTF8VALIDATOR_DFA[ba[i]]]\nTypeError: list indices must be integers, not str\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/15", "repository_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python", "labels_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/15/comments", "events_url": "https://api.github.com/repos/Lawouach/WebSocket-for-Python/issues/15/events", "html_url": "https://github.com/Lawouach/WebSocket-for-Python/issues/15", "id": 2588134, "node_id": "MDU6SXNzdWUyNTg4MTM0", "number": 15, "title": "All frames from the client should be masked", "user": {"login": "jamestyrrell", "id": 645938, "node_id": "MDQ6VXNlcjY0NTkzOA==", "avatar_url": "https://avatars0.githubusercontent.com/u/645938?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamestyrrell", "html_url": "https://github.com/jamestyrrell", "followers_url": "https://api.github.com/users/jamestyrrell/followers", "following_url": "https://api.github.com/users/jamestyrrell/following{/other_user}", "gists_url": "https://api.github.com/users/jamestyrrell/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamestyrrell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamestyrrell/subscriptions", "organizations_url": "https://api.github.com/users/jamestyrrell/orgs", "repos_url": "https://api.github.com/users/jamestyrrell/repos", "events_url": "https://api.github.com/users/jamestyrrell/events{/privacy}", "received_events_url": "https://api.github.com/users/jamestyrrell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2011-12-17T08:42:04Z", "updated_at": "2012-01-12T07:33:25Z", "closed_at": "2012-01-03T21:39:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "As per the final spec (http://tools.ietf.org/html/rfc6455) all frames from the client must be masked. Currently control frames aren't being masked.\n", "performed_via_github_app": null, "score": 1.0}]}