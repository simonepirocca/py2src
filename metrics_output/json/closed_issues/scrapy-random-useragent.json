{"total_count": 1, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/cnu/scrapy-random-useragent/issues/2", "repository_url": "https://api.github.com/repos/cnu/scrapy-random-useragent", "labels_url": "https://api.github.com/repos/cnu/scrapy-random-useragent/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/cnu/scrapy-random-useragent/issues/2/comments", "events_url": "https://api.github.com/repos/cnu/scrapy-random-useragent/issues/2/events", "html_url": "https://github.com/cnu/scrapy-random-useragent/issues/2", "id": 64124588, "node_id": "MDU6SXNzdWU2NDEyNDU4OA==", "number": 2, "title": "setup.py should not import the project, as this breaks installs via pip.", "user": {"login": "djm", "id": 88744, "node_id": "MDQ6VXNlcjg4NzQ0", "avatar_url": "https://avatars3.githubusercontent.com/u/88744?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djm", "html_url": "https://github.com/djm", "followers_url": "https://api.github.com/users/djm/followers", "following_url": "https://api.github.com/users/djm/following{/other_user}", "gists_url": "https://api.github.com/users/djm/gists{/gist_id}", "starred_url": "https://api.github.com/users/djm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djm/subscriptions", "organizations_url": "https://api.github.com/users/djm/orgs", "repos_url": "https://api.github.com/users/djm/repos", "events_url": "https://api.github.com/users/djm/events{/privacy}", "received_events_url": "https://api.github.com/users/djm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-03-24T23:15:18Z", "updated_at": "2016-03-17T11:46:51Z", "closed_at": "2016-03-17T11:46:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Given a requirements file, `requirements.txt`:\n\n```\nscrapy\nscrapy-random-useragent\n```\n\nand the command:\n\n```\npip install -r requirements.txt\n```\n\nresults in the error:\n\n```\nImportError: No module named scrapy\n```\n\nThe installation of the requirements fails, as `scrapy-random-useragent` is relying on `scrapy` at a point where it has not been installed yet. This is because the `setup.py` gets read by pip, which in turn imports the project (`import random_useragent`) which in turn tries to import modules from `scrapy`, which is not yet installed, hence the `ImportError`.\n\nThis needs to be solved by removing [the import in setup.py](https://github.com/cnu/scrapy-random-useragent/blob/master/setup.py#L7) and any reliance on the data it imports.\n\nA lot of projects just copy and paste the data, and bump both version numbers on doing a new release. However, [reading this thread](ImportError: No module named scrapy) seems like another way to handle the situation and keep things DRY.\n\nIf you wish, I can submit a PR which follows the path you wish to take the fix this - I'd just like your OK before I invest the time to do so.\n\nThanks,\nDarian\n", "performed_via_github_app": null, "score": 1.0}]}