{"total_count": 264, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/lyst/lightfm/issues/547", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/547/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/547/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/547/events", "html_url": "https://github.com/lyst/lightfm/issues/547", "id": 654150113, "node_id": "MDU6SXNzdWU2NTQxNTAxMTM=", "number": 547, "title": "documentation page is down", "user": {"login": "alimirferdos", "id": 21968181, "node_id": "MDQ6VXNlcjIxOTY4MTgx", "avatar_url": "https://avatars3.githubusercontent.com/u/21968181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alimirferdos", "html_url": "https://github.com/alimirferdos", "followers_url": "https://api.github.com/users/alimirferdos/followers", "following_url": "https://api.github.com/users/alimirferdos/following{/other_user}", "gists_url": "https://api.github.com/users/alimirferdos/gists{/gist_id}", "starred_url": "https://api.github.com/users/alimirferdos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alimirferdos/subscriptions", "organizations_url": "https://api.github.com/users/alimirferdos/orgs", "repos_url": "https://api.github.com/users/alimirferdos/repos", "events_url": "https://api.github.com/users/alimirferdos/events{/privacy}", "received_events_url": "https://api.github.com/users/alimirferdos/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-09T15:25:49Z", "updated_at": "2020-07-14T10:36:57Z", "closed_at": "2020-07-14T10:36:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "It seems like the provided documentation on [Lyst's website](https://making.lyst.com/lightfm/docs/home.html) is not available. How can it be accessed again?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/540", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/540/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/540/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/540/events", "html_url": "https://github.com/lyst/lightfm/issues/540", "id": 632679921, "node_id": "MDU6SXNzdWU2MzI2Nzk5MjE=", "number": 540, "title": "how can we give recommendations for new user if we only have user and item interaction data for new user", "user": {"login": "namansahore", "id": 30320729, "node_id": "MDQ6VXNlcjMwMzIwNzI5", "avatar_url": "https://avatars1.githubusercontent.com/u/30320729?v=4", "gravatar_id": "", "url": "https://api.github.com/users/namansahore", "html_url": "https://github.com/namansahore", "followers_url": "https://api.github.com/users/namansahore/followers", "following_url": "https://api.github.com/users/namansahore/following{/other_user}", "gists_url": "https://api.github.com/users/namansahore/gists{/gist_id}", "starred_url": "https://api.github.com/users/namansahore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/namansahore/subscriptions", "organizations_url": "https://api.github.com/users/namansahore/orgs", "repos_url": "https://api.github.com/users/namansahore/repos", "events_url": "https://api.github.com/users/namansahore/events{/privacy}", "received_events_url": "https://api.github.com/users/namansahore/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-06T19:31:48Z", "updated_at": "2020-06-06T19:43:28Z", "closed_at": "2020-06-06T19:43:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello team, \r\n\r\nI have a data-set like user movie matrix, in such a way suppose every row and column has unique user and movie respectively. \r\nNow let we don't have the ratings but we have whether the user watched the movie or not. \r\n\r\nLet, if we have a new user N, with information that what movies he/she already watched from our existing data set. So now how can we give recommendations of new movies using LiftFM model.\r\n\r\nRegards,\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/537", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/537/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/537/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/537/events", "html_url": "https://github.com/lyst/lightfm/issues/537", "id": 629173145, "node_id": "MDU6SXNzdWU2MjkxNzMxNDU=", "number": 537, "title": "Can take dot product because user and item are in the same latent space?", "user": {"login": "SantiDu", "id": 37691563, "node_id": "MDQ6VXNlcjM3NjkxNTYz", "avatar_url": "https://avatars3.githubusercontent.com/u/37691563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SantiDu", "html_url": "https://github.com/SantiDu", "followers_url": "https://api.github.com/users/SantiDu/followers", "following_url": "https://api.github.com/users/SantiDu/following{/other_user}", "gists_url": "https://api.github.com/users/SantiDu/gists{/gist_id}", "starred_url": "https://api.github.com/users/SantiDu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SantiDu/subscriptions", "organizations_url": "https://api.github.com/users/SantiDu/orgs", "repos_url": "https://api.github.com/users/SantiDu/repos", "events_url": "https://api.github.com/users/SantiDu/events{/privacy}", "received_events_url": "https://api.github.com/users/SantiDu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-02T12:44:20Z", "updated_at": "2020-06-11T02:51:21Z", "closed_at": "2020-06-08T08:30:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Why use cosine similarity for item-item similarity and dot product for recommendation? If we use dot product aka, euclidean distance as similarity, perhaps we can put users and items in the same latent space? If so how can we take into account item/user biases?\r\n\r\nI ask this because I want to cluster the users and items, I'm thinking\r\n1. putting them in the same space and use euclidean distance to cluster without differentiating users and items or use precomputed recommendation scores to do clustering,\r\n2. cluster users and items using cosine similarity separately.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/536", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/536/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/536/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/536/events", "html_url": "https://github.com/lyst/lightfm/issues/536", "id": 627761760, "node_id": "MDU6SXNzdWU2Mjc3NjE3NjA=", "number": 536, "title": "How to normalize numerical features when combining numerical and categorical features?", "user": {"login": "SantiDu", "id": 37691563, "node_id": "MDQ6VXNlcjM3NjkxNTYz", "avatar_url": "https://avatars3.githubusercontent.com/u/37691563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SantiDu", "html_url": "https://github.com/SantiDu", "followers_url": "https://api.github.com/users/SantiDu/followers", "following_url": "https://api.github.com/users/SantiDu/following{/other_user}", "gists_url": "https://api.github.com/users/SantiDu/gists{/gist_id}", "starred_url": "https://api.github.com/users/SantiDu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SantiDu/subscriptions", "organizations_url": "https://api.github.com/users/SantiDu/orgs", "repos_url": "https://api.github.com/users/SantiDu/repos", "events_url": "https://api.github.com/users/SantiDu/events{/privacy}", "received_events_url": "https://api.github.com/users/SantiDu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-30T15:55:32Z", "updated_at": "2020-06-04T06:22:46Z", "closed_at": "2020-05-31T05:20:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've read https://github.com/lyst/lightfm/issues/433#issuecomment-472888625, if I have ('user', {'gender:male': 1, 'age': 23}), after L1 normalization, age weight will be much larger than gender weight, so I want to understand the purpose of this l1 normalization, and to avoid numerical values getting to large, should I normalize these numerical features first and how (MaxMin maybe)? Thanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/534", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/534/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/534/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/534/events", "html_url": "https://github.com/lyst/lightfm/issues/534", "id": 626170193, "node_id": "MDU6SXNzdWU2MjYxNzAxOTM=", "number": 534, "title": "Normalize explicit ratings for weights? Train more models with different types of interactions?", "user": {"login": "SantiDu", "id": 37691563, "node_id": "MDQ6VXNlcjM3NjkxNTYz", "avatar_url": "https://avatars3.githubusercontent.com/u/37691563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SantiDu", "html_url": "https://github.com/SantiDu", "followers_url": "https://api.github.com/users/SantiDu/followers", "following_url": "https://api.github.com/users/SantiDu/following{/other_user}", "gists_url": "https://api.github.com/users/SantiDu/gists{/gist_id}", "starred_url": "https://api.github.com/users/SantiDu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SantiDu/subscriptions", "organizations_url": "https://api.github.com/users/SantiDu/orgs", "repos_url": "https://api.github.com/users/SantiDu/repos", "events_url": "https://api.github.com/users/SantiDu/events{/privacy}", "received_events_url": "https://api.github.com/users/SantiDu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-28T02:44:55Z", "updated_at": "2020-06-04T06:36:19Z", "closed_at": "2020-05-30T17:19:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "1. I want to use explicit data (number of clicks / ratings) as weights, with warp loss, is it better to normalize the ratings by subtracting the user bias and item bias? or is it not necessary? What is the difference between this bias and the bias in lightfm?\r\n\r\n2. I have seen [this post](https://stackoverflow.com/a/48361592), my question is:   \r\nIf I have two or more kinds of interactions with different weights for the same user-item pair:\r\ncan I call `build_interactions` with `[(user1, item1, interaction_weight1), (user1, item1, interaction_weight2)]` to one model, instead of training two separate models?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/532", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/532/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/532/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/532/events", "html_url": "https://github.com/lyst/lightfm/issues/532", "id": 615316996, "node_id": "MDU6SXNzdWU2MTUzMTY5OTY=", "number": 532, "title": "Predicting using a pandas Series tries to allocate gigantic array", "user": {"login": "charlesoblack", "id": 18634426, "node_id": "MDQ6VXNlcjE4NjM0NDI2", "avatar_url": "https://avatars2.githubusercontent.com/u/18634426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/charlesoblack", "html_url": "https://github.com/charlesoblack", "followers_url": "https://api.github.com/users/charlesoblack/followers", "following_url": "https://api.github.com/users/charlesoblack/following{/other_user}", "gists_url": "https://api.github.com/users/charlesoblack/gists{/gist_id}", "starred_url": "https://api.github.com/users/charlesoblack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/charlesoblack/subscriptions", "organizations_url": "https://api.github.com/users/charlesoblack/orgs", "repos_url": "https://api.github.com/users/charlesoblack/repos", "events_url": "https://api.github.com/users/charlesoblack/events{/privacy}", "received_events_url": "https://api.github.com/users/charlesoblack/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-10T04:55:20Z", "updated_at": "2020-06-06T03:18:44Z", "closed_at": "2020-06-06T03:18:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "After training a model:\r\n\r\n```python\r\n# test is a pandas.DataFrame\r\npredictions = model.predict(test['user_id_cat'], test['book_id_cat'])\r\n```\r\n\r\ngives the error:\r\n\r\n```\r\nMemoryError                               Traceback (most recent call last)\r\n<ipython-input-125-cd704768907b> in <module>()\r\n      1 # test since we don't really care about hyperparams here\r\n----> 2 predictions = model.predict(test['user_id_cat'], test['book_id_cat'])\r\n\r\nc:\\python37\\lib\\site-packages\\lightfm\\lightfm.py in predict(self, user_ids, item_ids, item_features, user_features, num_threads)\r\n    693 \r\n    694         if not isinstance(user_ids, np.ndarray):\r\n--> 695             user_ids = np.repeat(np.int32(user_ids), len(item_ids))\r\n    696 \r\n    697         if isinstance(item_ids, (list, tuple)):\r\n\r\n<__array_function__ internals> in repeat(*args, **kwargs)\r\n\r\nc:\\python37\\lib\\site-packages\\numpy\\core\\fromnumeric.py in repeat(a, repeats, axis)\r\n    480 \r\n    481     \"\"\"\r\n--> 482     return _wrapfunc(a, 'repeat', repeats, axis=axis)\r\n    483 \r\n    484 \r\n\r\nc:\\python37\\lib\\site-packages\\numpy\\core\\fromnumeric.py in _wrapfunc(obj, method, *args, **kwds)\r\n     59 \r\n     60     try:\r\n---> 61         return bound(*args, **kwds)\r\n     62     except TypeError:\r\n     63         # A TypeError occurs if the object does have such a method in its\r\n\r\nMemoryError: Unable to allocate 191. GiB for an array with shape (51391076416,) and data type int32\r\n```\r\n\r\nIt seems that the assumption is that if the thing passed in is not a numpy array, it'll be an integer. This should probably be fixed so that it's at least verified that the input is an integer (if not made compatible with ndarray subclasses such as pandas Series).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/530", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/530/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/530/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/530/events", "html_url": "https://github.com/lyst/lightfm/issues/530", "id": 605954619, "node_id": "MDU6SXNzdWU2MDU5NTQ2MTk=", "number": 530, "title": "Interpreting negative scores from lightfm.LightFM.predict()", "user": {"login": "freytheviking", "id": 16825648, "node_id": "MDQ6VXNlcjE2ODI1NjQ4", "avatar_url": "https://avatars3.githubusercontent.com/u/16825648?v=4", "gravatar_id": "", "url": "https://api.github.com/users/freytheviking", "html_url": "https://github.com/freytheviking", "followers_url": "https://api.github.com/users/freytheviking/followers", "following_url": "https://api.github.com/users/freytheviking/following{/other_user}", "gists_url": "https://api.github.com/users/freytheviking/gists{/gist_id}", "starred_url": "https://api.github.com/users/freytheviking/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/freytheviking/subscriptions", "organizations_url": "https://api.github.com/users/freytheviking/orgs", "repos_url": "https://api.github.com/users/freytheviking/repos", "events_url": "https://api.github.com/users/freytheviking/events{/privacy}", "received_events_url": "https://api.github.com/users/freytheviking/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-04-24T00:23:14Z", "updated_at": "2020-06-11T02:53:07Z", "closed_at": "2020-04-24T16:11:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "I saw some explanation from [here](https://github.com/lyst/lightfm/issues/155) regarding interpreting negative scores from the `model.predict()` method but I wanted to clarify a few points with the experts just for everyone to see as well.\r\n\r\nI understand that the predicted scores don't really mean anything but only used as a means to rank. Let's say I have called `lightfm.LightFM.predict()` like this:\r\n\r\n```\r\npredictions = model.predict(\r\n    user_ids=np.array([0, 0, 0, 0, 0]),\r\n    item_ids=np.array([0, 1, 2, 5, 100]),\r\n    item_features=feature_matrix\r\n)\r\n\r\n```\r\n\r\nThis means that I am predicting the `score` for user 0 on 5 items, namely 0, 1, 2, 5, 100. Let's say that my result is:\r\n\r\n```\r\narray([ 2.79359961,  2.76859665, -6.60331917, -0.56102526,  1.27920794])\r\n```\r\n\r\nDoes this mean that for user 0, we would predict item 3 (-6.60331917) to be the top recommendation , followed by item 4 (-0.56102526)... and item 1 (2.79359961) to be the lowest recommendation?\r\n\r\nThanks in advance!\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/526", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/526/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/526/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/526/events", "html_url": "https://github.com/lyst/lightfm/issues/526", "id": 593039732, "node_id": "MDU6SXNzdWU1OTMwMzk3MzI=", "number": 526, "title": "Illegal Instruction (core dumped)", "user": {"login": "bradfox2", "id": 1189056, "node_id": "MDQ6VXNlcjExODkwNTY=", "avatar_url": "https://avatars1.githubusercontent.com/u/1189056?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bradfox2", "html_url": "https://github.com/bradfox2", "followers_url": "https://api.github.com/users/bradfox2/followers", "following_url": "https://api.github.com/users/bradfox2/following{/other_user}", "gists_url": "https://api.github.com/users/bradfox2/gists{/gist_id}", "starred_url": "https://api.github.com/users/bradfox2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bradfox2/subscriptions", "organizations_url": "https://api.github.com/users/bradfox2/orgs", "repos_url": "https://api.github.com/users/bradfox2/repos", "events_url": "https://api.github.com/users/bradfox2/events{/privacy}", "received_events_url": "https://api.github.com/users/bradfox2/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-03T02:50:55Z", "updated_at": "2020-05-12T05:21:28Z", "closed_at": "2020-05-12T05:21:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @maciejkula\r\nThe code from github readme, below, (and my model code) dumps.\r\n\r\nRunning in Docker Ubuntu 16.04, on a RedHat 7 server.  My model is trained on a Windows 10 machine, if it matters. \r\n\r\nnumpy  1.18.2\r\nscipy 1.4.1\r\n\r\nRecompiling the package whilst in a container deployed to my Redhat server does allow the following code to run.  Building the whl, and rebuilding my container environment with that whl does not seem to help though.  **Edit**: Rebuilding the whl in a deployed container does appear to work. \r\n\r\nI'm going to take an uneducated guess and suggest that its some sort of CPU instruction set that is being passed through when the container image is build on a more modern CPU, and then fails when deployed on potentially on an older CPU in our datacenter. \r\n\r\nfrom lightfm import LightFM\r\nfrom lightfm.datasets import fetch_movielens\r\nfrom lightfm.evaluation import precision_at_k\r\n\r\n Load the MovieLens 100k dataset. Only five\r\n star ratings are treated as positive.\r\ndata = fetch_movielens(min_rating=5.0)\r\n\r\n Instantiate and train the model\r\nmodel = LightFM(loss='warp')\r\nmodel.fit(data['train'], epochs=30, num_threads=2)\r\n\r\n Evaluate the trained model\r\ntest_precision = precision_at_k(model, data['test'], k=5).mean()", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/518", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/518/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/518/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/518/events", "html_url": "https://github.com/lyst/lightfm/issues/518", "id": 573908144, "node_id": "MDU6SXNzdWU1NzM5MDgxNDQ=", "number": 518, "title": "User - Item interaction weights optimisations", "user": {"login": "Gaurav470", "id": 28822679, "node_id": "MDQ6VXNlcjI4ODIyNjc5", "avatar_url": "https://avatars2.githubusercontent.com/u/28822679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gaurav470", "html_url": "https://github.com/Gaurav470", "followers_url": "https://api.github.com/users/Gaurav470/followers", "following_url": "https://api.github.com/users/Gaurav470/following{/other_user}", "gists_url": "https://api.github.com/users/Gaurav470/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gaurav470/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gaurav470/subscriptions", "organizations_url": "https://api.github.com/users/Gaurav470/orgs", "repos_url": "https://api.github.com/users/Gaurav470/repos", "events_url": "https://api.github.com/users/Gaurav470/events{/privacy}", "received_events_url": "https://api.github.com/users/Gaurav470/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-03-02T11:24:09Z", "updated_at": "2020-03-11T06:58:21Z", "closed_at": "2020-03-11T06:58:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nMy data consists of user and item interactions with ratings to be set with a custom  function. But initially I tried setting ratings manually to the interactions between the users and items, firstly some high positive ratings with large variations (eg - 10, 20 ,100 etc) and then simply setting the rating as one (1) for all interactions.\r\nThen i trained the model for both separately and called for model.predict function which showed  the predicted ratings to be almost same for both the methods.\r\nCan anyone please help out to suggest what can be done to give the predicted rating a much higher value for those whose rating initially has been set high.\r\n@maciejkula if you can look into this, it will be really helpful.\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/517", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/517/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/517/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/517/events", "html_url": "https://github.com/lyst/lightfm/issues/517", "id": 571788707, "node_id": "MDU6SXNzdWU1NzE3ODg3MDc=", "number": 517, "title": "Pre-processing support", "user": {"login": "zkid18", "id": 8243154, "node_id": "MDQ6VXNlcjgyNDMxNTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/8243154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zkid18", "html_url": "https://github.com/zkid18", "followers_url": "https://api.github.com/users/zkid18/followers", "following_url": "https://api.github.com/users/zkid18/following{/other_user}", "gists_url": "https://api.github.com/users/zkid18/gists{/gist_id}", "starred_url": "https://api.github.com/users/zkid18/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zkid18/subscriptions", "organizations_url": "https://api.github.com/users/zkid18/orgs", "repos_url": "https://api.github.com/users/zkid18/repos", "events_url": "https://api.github.com/users/zkid18/events{/privacy}", "received_events_url": "https://api.github.com/users/zkid18/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-27T03:01:37Z", "updated_at": "2020-03-09T05:04:04Z", "closed_at": "2020-03-09T05:04:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, Maciej Kula, thanks for building such a great tool. I wonder if you plan support of pre-processing (eg. normalization) in the LightFM's roadmap? For example [Surprise](https://github.com/NicolasHug/Surprise) offer tools for handling data pre-processing. \r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/516", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/516/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/516/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/516/events", "html_url": "https://github.com/lyst/lightfm/issues/516", "id": 570598213, "node_id": "MDU6SXNzdWU1NzA1OTgyMTM=", "number": 516, "title": "Predictions using only item features and no user features", "user": {"login": "chakra1166", "id": 41887620, "node_id": "MDQ6VXNlcjQxODg3NjIw", "avatar_url": "https://avatars3.githubusercontent.com/u/41887620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chakra1166", "html_url": "https://github.com/chakra1166", "followers_url": "https://api.github.com/users/chakra1166/followers", "following_url": "https://api.github.com/users/chakra1166/following{/other_user}", "gists_url": "https://api.github.com/users/chakra1166/gists{/gist_id}", "starred_url": "https://api.github.com/users/chakra1166/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chakra1166/subscriptions", "organizations_url": "https://api.github.com/users/chakra1166/orgs", "repos_url": "https://api.github.com/users/chakra1166/repos", "events_url": "https://api.github.com/users/chakra1166/events{/privacy}", "received_events_url": "https://api.github.com/users/chakra1166/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-25T14:11:46Z", "updated_at": "2020-02-28T05:27:22Z", "closed_at": "2020-02-28T05:27:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am trying to understand if the lightfm can make predictions if it is trained only with item features and no user features. Basically we are using word embeddings for item features and would like to predict for a new item in production. We will re training this model regularly so it is fine if we can't predict for new users\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/515", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/515/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/515/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/515/events", "html_url": "https://github.com/lyst/lightfm/issues/515", "id": 566700582, "node_id": "MDU6SXNzdWU1NjY3MDA1ODI=", "number": 515, "title": "The expected workflow for mapping the external id's while doing predict", "user": {"login": "zkid18", "id": 8243154, "node_id": "MDQ6VXNlcjgyNDMxNTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/8243154?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zkid18", "html_url": "https://github.com/zkid18", "followers_url": "https://api.github.com/users/zkid18/followers", "following_url": "https://api.github.com/users/zkid18/following{/other_user}", "gists_url": "https://api.github.com/users/zkid18/gists{/gist_id}", "starred_url": "https://api.github.com/users/zkid18/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zkid18/subscriptions", "organizations_url": "https://api.github.com/users/zkid18/orgs", "repos_url": "https://api.github.com/users/zkid18/repos", "events_url": "https://api.github.com/users/zkid18/events{/privacy}", "received_events_url": "https://api.github.com/users/zkid18/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-18T07:32:40Z", "updated_at": "2020-03-10T10:02:41Z", "closed_at": "2020-03-10T10:02:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "According to the source [code](https://github.com/lyst/lightfm/blob/9ffeacbdc4688e9b58c6e5edfdeb52b037608a6b/lightfm/lightfm.py#L744) the expected inout format for predict function is following:\r\n```\r\nArguments\r\n        ---------\r\n        user_ids: integer or np.int32 array of shape [n_pairs,]\r\n             single user id or an array containing the user ids for the\r\n             user-item pairs for which a prediction is to be computed. Note\r\n             that these are LightFM's internal id's, i.e. the index of the\r\n             user in the interaction matrix used for fitting the model.\r\n        item_ids: np.int32 array of shape [n_pairs,]\r\n             an array containing the item ids for the user-item pairs for which\r\n             a prediction is to be computed. Note that these are LightFM's\r\n             internal id's, i.e. the index of the item in the interaction\r\n             matrix used for fitting the model.\r\n```\r\n\r\nWhat is the expected way for mapping external and internal id's on the inference stage? \r\nFor now I managed to use the private variable `dataset._user_id_mapping` which I don't consider the proper way to solve this case\r\n\r\n```\r\n#external id\r\nclient_id = 14092\r\n#internal LightFM id\r\ndataset._user_id_mapping[client_id]\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/513", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/513/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/513/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/513/events", "html_url": "https://github.com/lyst/lightfm/issues/513", "id": 564603341, "node_id": "MDU6SXNzdWU1NjQ2MDMzNDE=", "number": 513, "title": "How to predict", "user": {"login": "AjiNugroho", "id": 11657122, "node_id": "MDQ6VXNlcjExNjU3MTIy", "avatar_url": "https://avatars1.githubusercontent.com/u/11657122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AjiNugroho", "html_url": "https://github.com/AjiNugroho", "followers_url": "https://api.github.com/users/AjiNugroho/followers", "following_url": "https://api.github.com/users/AjiNugroho/following{/other_user}", "gists_url": "https://api.github.com/users/AjiNugroho/gists{/gist_id}", "starred_url": "https://api.github.com/users/AjiNugroho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AjiNugroho/subscriptions", "organizations_url": "https://api.github.com/users/AjiNugroho/orgs", "repos_url": "https://api.github.com/users/AjiNugroho/repos", "events_url": "https://api.github.com/users/AjiNugroho/events{/privacy}", "received_events_url": "https://api.github.com/users/AjiNugroho/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-13T11:00:56Z", "updated_at": "2020-02-18T11:36:12Z", "closed_at": "2020-02-18T11:36:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi, i have trained my model with this\r\n``` \r\nmodel.fit(interactions,         #this is my interaction csr format (uids,iids,rate)}\r\n          user_features,          #format csr (uids,[feature1,feature2,..])\r\n          item_features,          #format csr (iids,[feature1,feature2,..])\r\n          weights,epochs=5,num_threads=2, \r\n          verbose=True)\r\n```\r\nand got auc 0.97 that's great.\r\n\r\nthen i tried to make predictions at a specific user id that appear during training with \r\n```\r\nscores = model.predict(\r\n            uid,         #single user_id\r\n            item_id, \r\n            item_features=item_features,\r\n            user_features=user_features)\r\n```\r\nbut got error\r\n`Number of user feature rows does not equal the number of users`\r\n\r\nwhat's wrong with my code ? were we need to predict all user_ids ?\r\n\r\nthanks in advance", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/511", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/511/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/511/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/511/events", "html_url": "https://github.com/lyst/lightfm/issues/511", "id": 560957802, "node_id": "MDU6SXNzdWU1NjA5NTc4MDI=", "number": 511, "title": "How do i get specific recommendations for a user based on his categories selected?", "user": {"login": "Gaurav470", "id": 28822679, "node_id": "MDQ6VXNlcjI4ODIyNjc5", "avatar_url": "https://avatars2.githubusercontent.com/u/28822679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gaurav470", "html_url": "https://github.com/Gaurav470", "followers_url": "https://api.github.com/users/Gaurav470/followers", "following_url": "https://api.github.com/users/Gaurav470/following{/other_user}", "gists_url": "https://api.github.com/users/Gaurav470/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gaurav470/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gaurav470/subscriptions", "organizations_url": "https://api.github.com/users/Gaurav470/orgs", "repos_url": "https://api.github.com/users/Gaurav470/repos", "events_url": "https://api.github.com/users/Gaurav470/events{/privacy}", "received_events_url": "https://api.github.com/users/Gaurav470/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-02-06T11:41:35Z", "updated_at": "2020-02-24T06:13:02Z", "closed_at": "2020-02-24T06:10:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nMy data consists of user and video interactions with video meta-data consisting of a number of features including the category of the video.\r\nAn existing user hits my API with the user id as well as his categories he want to watch the videos of.\r\nWhere should i put a filter to the recommended list so that only videos of those particular categories received through the API of the user gets recommended to him only.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/509", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/509/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/509/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/509/events", "html_url": "https://github.com/lyst/lightfm/issues/509", "id": 556213874, "node_id": "MDU6SXNzdWU1NTYyMTM4NzQ=", "number": 509, "title": "How to partial train an existing model for a new user interactions to items?", "user": {"login": "Gaurav470", "id": 28822679, "node_id": "MDQ6VXNlcjI4ODIyNjc5", "avatar_url": "https://avatars2.githubusercontent.com/u/28822679?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gaurav470", "html_url": "https://github.com/Gaurav470", "followers_url": "https://api.github.com/users/Gaurav470/followers", "following_url": "https://api.github.com/users/Gaurav470/following{/other_user}", "gists_url": "https://api.github.com/users/Gaurav470/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gaurav470/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gaurav470/subscriptions", "organizations_url": "https://api.github.com/users/Gaurav470/orgs", "repos_url": "https://api.github.com/users/Gaurav470/repos", "events_url": "https://api.github.com/users/Gaurav470/events{/privacy}", "received_events_url": "https://api.github.com/users/Gaurav470/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-28T13:35:48Z", "updated_at": "2020-03-02T11:26:08Z", "closed_at": "2020-01-30T06:10:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI have a dataset which contains user-item interactions with item features available. (no user features are present) \r\nNew users will be added to the dataset which are not previously present i.e. the New User - Item interaction is not present.\r\nSo will i have to re-train my whole model for every New User addition in the dataset every time a new user is introduced.\r\nA suggestion/solution will be really helpful.\r\nThanks in advance.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/507", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/507/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/507/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/507/events", "html_url": "https://github.com/lyst/lightfm/issues/507", "id": 555530205, "node_id": "MDU6SXNzdWU1NTU1MzAyMDU=", "number": 507, "title": "Fix simple typo: shoul -> should", "user": {"login": "timgates42", "id": 47873678, "node_id": "MDQ6VXNlcjQ3ODczNjc4", "avatar_url": "https://avatars1.githubusercontent.com/u/47873678?v=4", "gravatar_id": "", "url": "https://api.github.com/users/timgates42", "html_url": "https://github.com/timgates42", "followers_url": "https://api.github.com/users/timgates42/followers", "following_url": "https://api.github.com/users/timgates42/following{/other_user}", "gists_url": "https://api.github.com/users/timgates42/gists{/gist_id}", "starred_url": "https://api.github.com/users/timgates42/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/timgates42/subscriptions", "organizations_url": "https://api.github.com/users/timgates42/orgs", "repos_url": "https://api.github.com/users/timgates42/repos", "events_url": "https://api.github.com/users/timgates42/events{/privacy}", "received_events_url": "https://api.github.com/users/timgates42/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-01-27T12:03:30Z", "updated_at": "2020-01-29T04:52:50Z", "closed_at": "2020-01-29T04:52:50Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There is a small typo in tests/test_movielens.py.\nShould read `should` rather than `shoul`.\n\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/506", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/506/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/506/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/506/events", "html_url": "https://github.com/lyst/lightfm/issues/506", "id": 551465013, "node_id": "MDU6SXNzdWU1NTE0NjUwMTM=", "number": 506, "title": "adding delta rating data of users and items", "user": {"login": "eveTu", "id": 14997823, "node_id": "MDQ6VXNlcjE0OTk3ODIz", "avatar_url": "https://avatars1.githubusercontent.com/u/14997823?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eveTu", "html_url": "https://github.com/eveTu", "followers_url": "https://api.github.com/users/eveTu/followers", "following_url": "https://api.github.com/users/eveTu/following{/other_user}", "gists_url": "https://api.github.com/users/eveTu/gists{/gist_id}", "starred_url": "https://api.github.com/users/eveTu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eveTu/subscriptions", "organizations_url": "https://api.github.com/users/eveTu/orgs", "repos_url": "https://api.github.com/users/eveTu/repos", "events_url": "https://api.github.com/users/eveTu/events{/privacy}", "received_events_url": "https://api.github.com/users/eveTu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-17T15:03:09Z", "updated_at": "2020-01-20T07:37:07Z", "closed_at": "2020-01-20T07:37:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,  \r\nI am trying to build a hybrid recommendation model and I need a bit of help to understand the fitting in the real-world process.\r\n\r\nThe `fit` function initializes the model prediction with the current data that exists.\r\nand the `fit_partial` supposed to add a delta data of user-item interactions without training all the data again.\r\nfor example: if I have 100 rows interaction in the first init - and I add now 40 interaction - the new model will be learned with 140 interaction rows.\r\n\r\n**BUT** \r\n\r\nwhat about new user/product features? should the `fit_partial` **item_features** include all the existing items plus the new ones?  and the user_features include all the existing users include the exist and the new ones? \r\nfor example, if added 4 new users to the rating area, and the previous unique users were 10, now the nunique user_features will be  14 users or only the delta?  \r\n\r\n**Thanks a lot for the help and the detailed documentation** ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/505", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/505/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/505/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/505/events", "html_url": "https://github.com/lyst/lightfm/issues/505", "id": 550221594, "node_id": "MDU6SXNzdWU1NTAyMjE1OTQ=", "number": 505, "title": "Interpretation of prediction Score(Combination of positive and negative)", "user": {"login": "yashkan27", "id": 37548248, "node_id": "MDQ6VXNlcjM3NTQ4MjQ4", "avatar_url": "https://avatars0.githubusercontent.com/u/37548248?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yashkan27", "html_url": "https://github.com/yashkan27", "followers_url": "https://api.github.com/users/yashkan27/followers", "following_url": "https://api.github.com/users/yashkan27/following{/other_user}", "gists_url": "https://api.github.com/users/yashkan27/gists{/gist_id}", "starred_url": "https://api.github.com/users/yashkan27/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yashkan27/subscriptions", "organizations_url": "https://api.github.com/users/yashkan27/orgs", "repos_url": "https://api.github.com/users/yashkan27/repos", "events_url": "https://api.github.com/users/yashkan27/events{/privacy}", "received_events_url": "https://api.github.com/users/yashkan27/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-15T14:31:12Z", "updated_at": "2020-01-20T10:41:41Z", "closed_at": "2020-01-20T10:41:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI am calculating the scores through predict function after providing only the interactions sparse matrix.\r\nI am using the \"warp\" loss so all my positive interactions are 1 and negative interactions are 0.\r\nWhen getting the resulted scores I sorted the scores in Descending order. But what should I do when dealing with negative scores? (Should I get the absolute value of the scores). Also, we can use events such as clicking, added to cart and buying?\r\nThanks\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/496", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/496/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/496/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/496/events", "html_url": "https://github.com/lyst/lightfm/issues/496", "id": 514751390, "node_id": "MDU6SXNzdWU1MTQ3NTEzOTA=", "number": 496, "title": "installation problem", "user": {"login": "shashank2123", "id": 44959680, "node_id": "MDQ6VXNlcjQ0OTU5Njgw", "avatar_url": "https://avatars0.githubusercontent.com/u/44959680?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shashank2123", "html_url": "https://github.com/shashank2123", "followers_url": "https://api.github.com/users/shashank2123/followers", "following_url": "https://api.github.com/users/shashank2123/following{/other_user}", "gists_url": "https://api.github.com/users/shashank2123/gists{/gist_id}", "starred_url": "https://api.github.com/users/shashank2123/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shashank2123/subscriptions", "organizations_url": "https://api.github.com/users/shashank2123/orgs", "repos_url": "https://api.github.com/users/shashank2123/repos", "events_url": "https://api.github.com/users/shashank2123/events{/privacy}", "received_events_url": "https://api.github.com/users/shashank2123/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-10-30T15:12:23Z", "updated_at": "2020-04-11T18:08:13Z", "closed_at": "2020-04-11T18:08:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "base) C:\\Users\\shash>pip install lightfm\r\nCollecting lightfm\r\n  Using cached https://files.pythonhosted.org/packages/e9/8e/5485ac5a8616abe1c673d1e033e2f232b4319ab95424b42499fabff2257f/lightfm-1.15.tar.gz\r\nRequirement already satisfied: numpy in c:\\programdata\\anaconda3\\lib\\site-packages (from lightfm) (1.16.5)\r\nRequirement already satisfied: scipy>=0.17.0 in c:\\programdata\\anaconda3\\lib\\site-packages (from lightfm) (1.3.1)\r\nRequirement already satisfied: requests in c:\\programdata\\anaconda3\\lib\\site-packages (from lightfm) (2.22.0)\r\nRequirement already satisfied: certifi>=2017.4.17 in c:\\programdata\\anaconda3\\lib\\site-packages (from requests->lightfm) (2019.9.11)\r\nRequirement already satisfied: idna<2.9,>=2.5 in c:\\programdata\\anaconda3\\lib\\site-packages (from requests->lightfm) (2.8)\r\nRequirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in c:\\programdata\\anaconda3\\lib\\site-packages (from requests->lightfm) (1.24.2)\r\nRequirement already satisfied: chardet<3.1.0,>=3.0.2 in c:\\programdata\\anaconda3\\lib\\site-packages (from requests->lightfm) (3.0.4)\r\nBuilding wheels for collected packages: lightfm\r\n  Building wheel for lightfm (setup.py) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: 'C:\\ProgramData\\Anaconda3\\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\shash\\\\AppData\\\\Local\\\\Temp\\\\pip-install-h7huaehr\\\\lightfm\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\shash\\\\AppData\\\\Local\\\\Temp\\\\pip-install-h7huaehr\\\\lightfm\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d 'C:\\Users\\shash\\AppData\\Local\\Temp\\pip-wheel-imqk6zf5' --python-tag cp37\r\n       cwd: C:\\Users\\shash\\AppData\\Local\\Temp\\pip-install-h7huaehr\\lightfm\\\r\n  Complete output (23 lines):\r\n  Compiling without OpenMP support.\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build\\lib.win-amd64-3.7\r\n  creating build\\lib.win-amd64-3.7\\lightfm\r\n  copying lightfm\\cross_validation.py -> build\\lib.win-amd64-3.7\\lightfm\r\n  copying lightfm\\data.py -> build\\lib.win-amd64-3.7\\lightfm\r\n  copying lightfm\\evaluation.py -> build\\lib.win-amd64-3.7\\lightfm\r\n  copying lightfm\\lightfm.py -> build\\lib.win-amd64-3.7\\lightfm\r\n  copying lightfm\\_lightfm_fast.py -> build\\lib.win-amd64-3.7\\lightfm\r\n  copying lightfm\\__init__.py -> build\\lib.win-amd64-3.7\\lightfm\r\n  creating build\\lib.win-amd64-3.7\\lightfm\\datasets\r\n  copying lightfm\\datasets\\movielens.py -> build\\lib.win-amd64-3.7\\lightfm\\datasets\r\n  copying lightfm\\datasets\\stackexchange.py -> build\\lib.win-amd64-3.7\\lightfm\\datasets\r\n  copying lightfm\\datasets\\_common.py -> build\\lib.win-amd64-3.7\\lightfm\\datasets\r\n  copying lightfm\\datasets\\__init__.py -> build\\lib.win-amd64-3.7\\lightfm\\datasets\r\n  copying lightfm\\_lightfm_fast_no_openmp.c -> build\\lib.win-amd64-3.7\\lightfm\r\n  copying lightfm\\_lightfm_fast_openmp.c -> build\\lib.win-amd64-3.7\\lightfm\r\n  running build_ext\r\n  building 'lightfm._lightfm_fast_no_openmp' extension\r\n  error: Microsoft Visual C++ 14.0 is required. Get it with \"Microsoft Visual C++ Build Tools\": https://visualstudio.microsoft.com/downloads/\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for lightfm\r\n  Running setup.py clean for lightfm\r\n  ERROR: Command errored out with exit status 1:\r\n   command: 'C:\\ProgramData\\Anaconda3\\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\shash\\\\AppData\\\\Local\\\\Temp\\\\pip-install-h7huaehr\\\\lightfm\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\shash\\\\AppData\\\\Local\\\\Temp\\\\pip-install-h7huaehr\\\\lightfm\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' clean --all\r\n       cwd: C:\\Users\\shash\\AppData\\Local\\Temp\\pip-install-h7huaehr\\lightfm\r\n  Complete output (3 lines):\r\n  Compiling without OpenMP support.\r\n  running clean\r\n  error: [WinError 2] The system cannot find the file specified\r\n  ----------------------------------------\r\n  ERROR: Failed cleaning build dir for lightfm\r\nFailed to build lightfm\r\nInstalling collected packages: lightfm\r\n  Running setup.py install for lightfm ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: 'C:\\ProgramData\\Anaconda3\\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\shash\\\\AppData\\\\Local\\\\Temp\\\\pip-install-h7huaehr\\\\lightfm\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\shash\\\\AppData\\\\Local\\\\Temp\\\\pip-install-h7huaehr\\\\lightfm\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record 'C:\\Users\\shash\\AppData\\Local\\Temp\\pip-record-c2doi7dd\\install-record.txt' --single-version-externally-managed --compile\r\n         cwd: C:\\Users\\shash\\AppData\\Local\\Temp\\pip-install-h7huaehr\\lightfm\\\r\n    Complete output (7 lines):\r\n    Compiling without OpenMP support.\r\n    running install\r\n    running build\r\n    running build_py\r\n    running build_ext\r\n    building 'lightfm._lightfm_fast_no_openmp' extension\r\n    error: Microsoft Visual C++ 14.0 is required. Get it with \"Microsoft Visual C++ Build Tools\": https://visualstudio.microsoft.com/downloads/\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: 'C:\\ProgramData\\Anaconda3\\python.exe' -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\shash\\\\AppData\\\\Local\\\\Temp\\\\pip-install-h7huaehr\\\\lightfm\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\shash\\\\AppData\\\\Local\\\\Temp\\\\pip-install-h7huaehr\\\\lightfm\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record 'C:\\Users\\shash\\AppData\\Local\\Temp\\pip-record-c2doi7dd\\install-record.txt' --single-version-externally-managed --compile Check the logs for full command output.\r\n\r\n\r\n\r\n\r\nplease help me with this issue i don't know what to do?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/494", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/494/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/494/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/494/events", "html_url": "https://github.com/lyst/lightfm/issues/494", "id": 508681347, "node_id": "MDU6SXNzdWU1MDg2ODEzNDc=", "number": 494, "title": "What is the right way (format) to input user features to the build_user_features function?", "user": {"login": "clementechiu", "id": 56698373, "node_id": "MDQ6VXNlcjU2Njk4Mzcz", "avatar_url": "https://avatars3.githubusercontent.com/u/56698373?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clementechiu", "html_url": "https://github.com/clementechiu", "followers_url": "https://api.github.com/users/clementechiu/followers", "following_url": "https://api.github.com/users/clementechiu/following{/other_user}", "gists_url": "https://api.github.com/users/clementechiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/clementechiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clementechiu/subscriptions", "organizations_url": "https://api.github.com/users/clementechiu/orgs", "repos_url": "https://api.github.com/users/clementechiu/repos", "events_url": "https://api.github.com/users/clementechiu/events{/privacy}", "received_events_url": "https://api.github.com/users/clementechiu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-10-17T19:40:58Z", "updated_at": "2019-10-22T20:32:17Z", "closed_at": "2019-10-22T20:32:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been struggling for a while now trying to input my user features into lightfm to try to include them in my recommendation model. I have read many other issues refering to similar problems, but I still can't manage to work solve my problem. \r\n\r\nI have my data in a pandas dataframe. My user IDs are strings like `\"AHS-1\"`, and I'm trying to include one user feature to start. For what I've read, the format in input user features into the build_user_features function is:\r\n\r\n[user_id1, [user_feature1, user_feature2],\r\n[user_id2, [user_feature1, user_feature2] ...] \r\n\r\nI've tried many options to create this, the latest being creating a dataframe with the user IDs and the feature, then converting this into a tuple, but I get the error \"TypeError: 'int' object is not iterable\" since my feature is an int. \r\n\r\nHere's my code:\r\n\r\n```\r\nuser_features_pd=pd.concat([user_data['mber_id'],user_data.iloc[:,5].astype(int)], axis=1) \r\ntuples = [tuple(x) for x in user_features_pd.values]\r\nuser_features = dataset.build_user_features((tuples))\r\n```\r\n\r\n\r\nI would appreciate very much any help!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/490", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/490/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/490/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/490/events", "html_url": "https://github.com/lyst/lightfm/issues/490", "id": 497608050, "node_id": "MDU6SXNzdWU0OTc2MDgwNTA=", "number": 490, "title": "Regarding server requirements", "user": {"login": "elieobeid7", "id": 660142, "node_id": "MDQ6VXNlcjY2MDE0Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/660142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elieobeid7", "html_url": "https://github.com/elieobeid7", "followers_url": "https://api.github.com/users/elieobeid7/followers", "following_url": "https://api.github.com/users/elieobeid7/following{/other_user}", "gists_url": "https://api.github.com/users/elieobeid7/gists{/gist_id}", "starred_url": "https://api.github.com/users/elieobeid7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elieobeid7/subscriptions", "organizations_url": "https://api.github.com/users/elieobeid7/orgs", "repos_url": "https://api.github.com/users/elieobeid7/repos", "events_url": "https://api.github.com/users/elieobeid7/events{/privacy}", "received_events_url": "https://api.github.com/users/elieobeid7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-24T10:45:24Z", "updated_at": "2019-10-19T20:41:05Z", "closed_at": "2019-10-19T12:11:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "I know this isn't the best place to ask about it, but what is the recommended ec2 instance to do product recommendations in production?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/489", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/489/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/489/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/489/events", "html_url": "https://github.com/lyst/lightfm/issues/489", "id": 494504436, "node_id": "MDU6SXNzdWU0OTQ1MDQ0MzY=", "number": 489, "title": "Constructing dataset", "user": {"login": "andrewng88", "id": 44232530, "node_id": "MDQ6VXNlcjQ0MjMyNTMw", "avatar_url": "https://avatars1.githubusercontent.com/u/44232530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewng88", "html_url": "https://github.com/andrewng88", "followers_url": "https://api.github.com/users/andrewng88/followers", "following_url": "https://api.github.com/users/andrewng88/following{/other_user}", "gists_url": "https://api.github.com/users/andrewng88/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewng88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewng88/subscriptions", "organizations_url": "https://api.github.com/users/andrewng88/orgs", "repos_url": "https://api.github.com/users/andrewng88/repos", "events_url": "https://api.github.com/users/andrewng88/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewng88/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-09-17T09:21:33Z", "updated_at": "2019-10-01T08:56:53Z", "closed_at": "2019-10-01T08:56:42Z", "author_association": "NONE", "active_lock_reason": null, "body": ".", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/484", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/484/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/484/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/484/events", "html_url": "https://github.com/lyst/lightfm/issues/484", "id": 479518830, "node_id": "MDU6SXNzdWU0Nzk1MTg4MzA=", "number": 484, "title": "Any plan to implement GAUC evaluation metrics\uff1f", "user": {"login": "treper", "id": 699239, "node_id": "MDQ6VXNlcjY5OTIzOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/699239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/treper", "html_url": "https://github.com/treper", "followers_url": "https://api.github.com/users/treper/followers", "following_url": "https://api.github.com/users/treper/following{/other_user}", "gists_url": "https://api.github.com/users/treper/gists{/gist_id}", "starred_url": "https://api.github.com/users/treper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/treper/subscriptions", "organizations_url": "https://api.github.com/users/treper/orgs", "repos_url": "https://api.github.com/users/treper/repos", "events_url": "https://api.github.com/users/treper/events{/privacy}", "received_events_url": "https://api.github.com/users/treper/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-08-12T08:16:28Z", "updated_at": "2019-08-13T13:14:22Z", "closed_at": "2019-08-13T13:14:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "GAUC is a weighted average of AUC over all users. In some cases GAUC is more proper for evaluation. Any Plan to implement it ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/483", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/483/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/483/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/483/events", "html_url": "https://github.com/lyst/lightfm/issues/483", "id": 479260215, "node_id": "MDU6SXNzdWU0NzkyNjAyMTU=", "number": 483, "title": "Does parameter `epoch` mean max iteration?", "user": {"login": "BruceChen2017", "id": 30070562, "node_id": "MDQ6VXNlcjMwMDcwNTYy", "avatar_url": "https://avatars3.githubusercontent.com/u/30070562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BruceChen2017", "html_url": "https://github.com/BruceChen2017", "followers_url": "https://api.github.com/users/BruceChen2017/followers", "following_url": "https://api.github.com/users/BruceChen2017/following{/other_user}", "gists_url": "https://api.github.com/users/BruceChen2017/gists{/gist_id}", "starred_url": "https://api.github.com/users/BruceChen2017/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BruceChen2017/subscriptions", "organizations_url": "https://api.github.com/users/BruceChen2017/orgs", "repos_url": "https://api.github.com/users/BruceChen2017/repos", "events_url": "https://api.github.com/users/BruceChen2017/events{/privacy}", "received_events_url": "https://api.github.com/users/BruceChen2017/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-10T12:02:19Z", "updated_at": "2020-03-22T22:12:19Z", "closed_at": "2020-03-22T22:12:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/480", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/480/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/480/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/480/events", "html_url": "https://github.com/lyst/lightfm/issues/480", "id": 476134569, "node_id": "MDU6SXNzdWU0NzYxMzQ1Njk=", "number": 480, "title": "Different Embeddings for each run", "user": {"login": "DenizEngin1987", "id": 37111871, "node_id": "MDQ6VXNlcjM3MTExODcx", "avatar_url": "https://avatars3.githubusercontent.com/u/37111871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DenizEngin1987", "html_url": "https://github.com/DenizEngin1987", "followers_url": "https://api.github.com/users/DenizEngin1987/followers", "following_url": "https://api.github.com/users/DenizEngin1987/following{/other_user}", "gists_url": "https://api.github.com/users/DenizEngin1987/gists{/gist_id}", "starred_url": "https://api.github.com/users/DenizEngin1987/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DenizEngin1987/subscriptions", "organizations_url": "https://api.github.com/users/DenizEngin1987/orgs", "repos_url": "https://api.github.com/users/DenizEngin1987/repos", "events_url": "https://api.github.com/users/DenizEngin1987/events{/privacy}", "received_events_url": "https://api.github.com/users/DenizEngin1987/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-02T11:30:47Z", "updated_at": "2019-08-02T13:58:15Z", "closed_at": "2019-08-02T13:58:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello there,\r\n\r\nI have constructed a minimal code example presenting my Issue:\r\n`from lightfm import LightFM`\r\n`from scipy.sparse import coo_matrix`\r\n\r\n`interactions_dense = [[1.0, 1.0, 1.0, 1.0, 1.0],[1.0, 1.0, 1.0, 1.0, 1.0],[1.0, 1.0, 1.0, 1.0, 1.0],[1.0, 1.0, 1.0, 1.0, 1.0],[1.0, 1.0, 1.0, 1.0, 1.0]]`\r\n`weights_dense = [[5.0, 2.0, 3.0, 4.0, 1.0], [5.0, 4.0, 2.0, 1.0, 2.0],[5.0, 1.0, 1.0, 1.0, 1.0],[5.0, 2.0, 1.0, 1.0, 3.0],[1.0, 1.0, 2.0, 3.0, 1.0]]`\r\n\r\n`interactions = coo_matrix (interactions_dense)`\r\n`weights = coo_matrix (weights_dense)`\r\n\r\n`model = LightFM(loss='warp', no_components=1)`\r\n`model.fit(interactions, sample_weight=weights, epochs=1)`\r\n\r\n`print('user_embeddings: ' + str(model.user_embeddings))`\r\n`print('item_embeddings: ' + `str(model.item_embeddings))`\r\n\r\nAs one can see, I first create an interaction and a weight matrix and then I train the model with this data. In the end the user-/item-embeddings are printed out.\r\n\r\nIf I run the code multiple times, I get different embeddings for each run. Is that correct and if so, why is it. \r\n\r\nThx in advance\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/479", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/479/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/479/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/479/events", "html_url": "https://github.com/lyst/lightfm/issues/479", "id": 475121309, "node_id": "MDU6SXNzdWU0NzUxMjEzMDk=", "number": 479, "title": "Regularization ", "user": {"login": "ando-khachatryan", "id": 4376090, "node_id": "MDQ6VXNlcjQzNzYwOTA=", "avatar_url": "https://avatars0.githubusercontent.com/u/4376090?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ando-khachatryan", "html_url": "https://github.com/ando-khachatryan", "followers_url": "https://api.github.com/users/ando-khachatryan/followers", "following_url": "https://api.github.com/users/ando-khachatryan/following{/other_user}", "gists_url": "https://api.github.com/users/ando-khachatryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/ando-khachatryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ando-khachatryan/subscriptions", "organizations_url": "https://api.github.com/users/ando-khachatryan/orgs", "repos_url": "https://api.github.com/users/ando-khachatryan/repos", "events_url": "https://api.github.com/users/ando-khachatryan/events{/privacy}", "received_events_url": "https://api.github.com/users/ando-khachatryan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-31T12:41:01Z", "updated_at": "2019-09-04T19:16:44Z", "closed_at": "2019-09-04T19:16:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "Edit: never mind.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/477", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/477/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/477/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/477/events", "html_url": "https://github.com/lyst/lightfm/issues/477", "id": 473318125, "node_id": "MDU6SXNzdWU0NzMzMTgxMjU=", "number": 477, "title": "Illegal instruction (core dumped)", "user": {"login": "AlistairLR112", "id": 36593376, "node_id": "MDQ6VXNlcjM2NTkzMzc2", "avatar_url": "https://avatars2.githubusercontent.com/u/36593376?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlistairLR112", "html_url": "https://github.com/AlistairLR112", "followers_url": "https://api.github.com/users/AlistairLR112/followers", "following_url": "https://api.github.com/users/AlistairLR112/following{/other_user}", "gists_url": "https://api.github.com/users/AlistairLR112/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlistairLR112/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlistairLR112/subscriptions", "organizations_url": "https://api.github.com/users/AlistairLR112/orgs", "repos_url": "https://api.github.com/users/AlistairLR112/repos", "events_url": "https://api.github.com/users/AlistairLR112/events{/privacy}", "received_events_url": "https://api.github.com/users/AlistairLR112/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-26T11:43:12Z", "updated_at": "2020-02-07T16:33:57Z", "closed_at": "2019-07-27T14:14:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "(base) alistair@ip-xx-xx-x-xx:~$ python\r\nPython 3.7.3 (default, Mar 27 2019, 22:11:17)\r\n[GCC 7.3.0] :: Anaconda custom (64-bit) on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import lightfm\r\nIllegal instruction (core dumped)\r\n\r\n(base) alistair@ip-xx-xx-x-xx:~$ pip freeze | grep lightfm\r\nlightfm==1.15\r\n\r\nDoes anyone know why I might be getting this error? I haven't changed anything on my server", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/476", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/476/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/476/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/476/events", "html_url": "https://github.com/lyst/lightfm/issues/476", "id": 473261744, "node_id": "MDU6SXNzdWU0NzMyNjE3NDQ=", "number": 476, "title": "Predicting item-user scores", "user": {"login": "singhksandeep25", "id": 14184381, "node_id": "MDQ6VXNlcjE0MTg0Mzgx", "avatar_url": "https://avatars1.githubusercontent.com/u/14184381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/singhksandeep25", "html_url": "https://github.com/singhksandeep25", "followers_url": "https://api.github.com/users/singhksandeep25/followers", "following_url": "https://api.github.com/users/singhksandeep25/following{/other_user}", "gists_url": "https://api.github.com/users/singhksandeep25/gists{/gist_id}", "starred_url": "https://api.github.com/users/singhksandeep25/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/singhksandeep25/subscriptions", "organizations_url": "https://api.github.com/users/singhksandeep25/orgs", "repos_url": "https://api.github.com/users/singhksandeep25/repos", "events_url": "https://api.github.com/users/singhksandeep25/events{/privacy}", "received_events_url": "https://api.github.com/users/singhksandeep25/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-26T09:19:51Z", "updated_at": "2019-07-30T19:45:03Z", "closed_at": "2019-07-30T19:45:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I know that `model.predict(user_ids, item_ids, item_features=None, user_features=None, num_threads=1)` gives us **recommendation score for user-item pairs**\r\n\r\nI would like to know how could we get the recommendation score for item-user pairs, that is given an item, the recommendation score for the given list of user_ids.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/475", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/475/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/475/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/475/events", "html_url": "https://github.com/lyst/lightfm/issues/475", "id": 470809779, "node_id": "MDU6SXNzdWU0NzA4MDk3Nzk=", "number": 475, "title": "Temporal effects cause items released on same day to be similar", "user": {"login": "EralpB", "id": 2274357, "node_id": "MDQ6VXNlcjIyNzQzNTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/2274357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EralpB", "html_url": "https://github.com/EralpB", "followers_url": "https://api.github.com/users/EralpB/followers", "following_url": "https://api.github.com/users/EralpB/following{/other_user}", "gists_url": "https://api.github.com/users/EralpB/gists{/gist_id}", "starred_url": "https://api.github.com/users/EralpB/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EralpB/subscriptions", "organizations_url": "https://api.github.com/users/EralpB/orgs", "repos_url": "https://api.github.com/users/EralpB/repos", "events_url": "https://api.github.com/users/EralpB/events{/privacy}", "received_events_url": "https://api.github.com/users/EralpB/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-21T18:23:17Z", "updated_at": "2019-07-26T13:07:40Z", "closed_at": "2019-07-26T13:07:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello, I'm trying to create a recommender for producthunt, which basically features N products every day. We can model it as a news website.\r\n\r\nAfter my initial investigation I feel like that the items released on the same day tend to be similar because if user is around that day he very likely will upvote top #1 and #2 products and system thinks they are similar since there are many common upvoters.\r\n\r\nHave you observed this phenomenon, what's the term for this? I'm lacking the domain knowledge to search research papers about this. Any guidance?\r\n\r\nI'm thinking of incorporating negative feedback but I don't want to make this more complex than necessary. So if user comes on day 5 and upvotes a set of products, this means he has seen the others released on day 5 but disliked them. so I can assume negative implicit feedback for this. Even though there will be common upvoters due to the fact that users see the same featured products, this -1 will give a little bit of insight how dissimilar some products are. What do you think of this idea would it improve?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/474", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/474/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/474/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/474/events", "html_url": "https://github.com/lyst/lightfm/issues/474", "id": 469861556, "node_id": "MDU6SXNzdWU0Njk4NjE1NTY=", "number": 474, "title": "Getting different recommendations using \"Predict\" and \"dot product of user and item\"", "user": {"login": "kshitijyad", "id": 10682297, "node_id": "MDQ6VXNlcjEwNjgyMjk3", "avatar_url": "https://avatars0.githubusercontent.com/u/10682297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kshitijyad", "html_url": "https://github.com/kshitijyad", "followers_url": "https://api.github.com/users/kshitijyad/followers", "following_url": "https://api.github.com/users/kshitijyad/following{/other_user}", "gists_url": "https://api.github.com/users/kshitijyad/gists{/gist_id}", "starred_url": "https://api.github.com/users/kshitijyad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kshitijyad/subscriptions", "organizations_url": "https://api.github.com/users/kshitijyad/orgs", "repos_url": "https://api.github.com/users/kshitijyad/repos", "events_url": "https://api.github.com/users/kshitijyad/events{/privacy}", "received_events_url": "https://api.github.com/users/kshitijyad/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-18T16:13:10Z", "updated_at": "2019-07-22T20:04:48Z", "closed_at": "2019-07-22T20:04:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for opening an issue!\r\n\r\nPlease include as much detail as possible: what does your dataset look like, what hyperparameters you are using (and have you tried other ones?).\r\n\r\nWhen including code snippets, make sure you use appropriate code formatting using backtics. Have a look at the markdown reference for details: https://guides.github.com/features/mastering-markdown/.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/470", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/470/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/470/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/470/events", "html_url": "https://github.com/lyst/lightfm/issues/470", "id": 461994978, "node_id": "MDU6SXNzdWU0NjE5OTQ5Nzg=", "number": 470, "title": "User interacted with item 1 but it's not even recommended (5x5 matrix small example)", "user": {"login": "EralpB", "id": 2274357, "node_id": "MDQ6VXNlcjIyNzQzNTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/2274357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EralpB", "html_url": "https://github.com/EralpB", "followers_url": "https://api.github.com/users/EralpB/followers", "following_url": "https://api.github.com/users/EralpB/following{/other_user}", "gists_url": "https://api.github.com/users/EralpB/gists{/gist_id}", "starred_url": "https://api.github.com/users/EralpB/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EralpB/subscriptions", "organizations_url": "https://api.github.com/users/EralpB/orgs", "repos_url": "https://api.github.com/users/EralpB/repos", "events_url": "https://api.github.com/users/EralpB/events{/privacy}", "received_events_url": "https://api.github.com/users/EralpB/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-28T11:43:39Z", "updated_at": "2019-07-21T06:53:08Z", "closed_at": "2019-07-21T06:53:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm trying to do a very basic (5 items, 5 users, 7 interactions) test run to see if I'm doing it correctly before applying this code to my 10 million interactions set. (otherwise you will get lost in the data!)\r\n\r\n```\r\nuserids: ['0', '1', '2', '3', '4']\r\n\r\npostids: ['0', '1', '2', '3', '4']\r\n\r\ninteractions: [['0', '0'], ['0', '1'], ['1', '0'], ['1', '1'], ['2', '0'], ['2', '1'], ['3', '0']]\r\n\r\nNum users: 5, num_items 5.\r\n5\r\n<5x5 sparse matrix of type '<class 'numpy.int32'>'\r\n\twith 7 stored elements in COOrdinate format>\r\n  (0, 0)\t1.0\r\n  (0, 1)\t1.0\r\n  (1, 0)\t1.0\r\n  (1, 1)\t1.0\r\n  (2, 0)\t1.0\r\n  (2, 1)\t1.0\r\n  (3, 0)\t1.0\r\n0: [-0.23415979743003845, -0.35001271963119507, -0.2967625856399536, -0.3016465902328491, -0.3002907931804657]\r\n1: [-0.23515498638153076, -0.34988391399383545, -0.29571399092674255, -0.297800749540329, -0.30564388632774353]\r\n2: [-0.2366883009672165, -0.35717567801475525, -0.2978198230266571, -0.29558348655700684, -0.30082815885543823]\r\n3: [-0.10631059110164642, -0.23028022050857544, -0.17414350807666779, -0.16964246332645416, -0.17131923139095306]\r\n4: [0.05692320317029953, -0.05244579538702965, 0.0007637285743840039, 0.0015843427972868085, -0.008091891184449196]\r\n```\r\n\r\nso you can see even though user 0 interacted with both 0 and 1, they aren't really recommended to him, if you sort the item ID 1 is not even in the top 2.. I would expect ID 0 + ID 1 + random ordering.\r\n\r\nmy code is as following, can anyone spot what's wrong or is this expected?\r\n\r\n```\r\nfrom lightfm import LightFM\r\nfrom lightfm.datasets import fetch_movielens\r\nfrom lightfm.evaluation import precision_at_k\r\nfrom lightfm.data import Dataset\r\n\r\nimport numpy as np\r\n\r\nwith open('userids.csv') as f:\r\n    user_ids = f.read().split(',')\r\n    user_ids = [user_id.strip() for user_id in user_ids]\r\nwith open('postids.csv') as f:\r\n    post_ids = f.read().split(',')\r\n    post_ids = [post_id.strip() for post_id in post_ids]\r\nwith open('interactions.csv') as f:\r\n    lines = f.read().splitlines()\r\n    interactions_list = [line.split(',') for line in lines]\r\nprint('userids: {}\\n'.format(user_ids))\r\nprint('postids: {}\\n'.format(post_ids))\r\nprint('interactions: {}\\n'.format(interactions_list))\r\ndataset = Dataset()\r\n\r\ndataset.fit(user_ids, post_ids)\r\n\r\nnum_users, num_items = dataset.interactions_shape()\r\nprint('Num users: {}, num_items {}.'.format(num_users, num_items))\r\n\r\n(interactions, weights) = dataset.build_interactions(interactions_list)\r\n\r\nprint(repr(interactions))\r\nprint(weights)\r\n\r\nmodel = LightFM(loss='bpr')\r\nmodel.fit(interactions, epochs=10)\r\n\r\nfor i in range(5):\r\n    scores = model.predict(i, list(range(0, len(post_ids))))\r\n    print('{}: {}'.format(i, list(scores)))\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/467", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/467/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/467/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/467/events", "html_url": "https://github.com/lyst/lightfm/issues/467", "id": 456595526, "node_id": "MDU6SXNzdWU0NTY1OTU1MjY=", "number": 467, "title": "Ignore", "user": {"login": "himat", "id": 1156974, "node_id": "MDQ6VXNlcjExNTY5NzQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1156974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/himat", "html_url": "https://github.com/himat", "followers_url": "https://api.github.com/users/himat/followers", "following_url": "https://api.github.com/users/himat/following{/other_user}", "gists_url": "https://api.github.com/users/himat/gists{/gist_id}", "starred_url": "https://api.github.com/users/himat/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/himat/subscriptions", "organizations_url": "https://api.github.com/users/himat/orgs", "repos_url": "https://api.github.com/users/himat/repos", "events_url": "https://api.github.com/users/himat/events{/privacy}", "received_events_url": "https://api.github.com/users/himat/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-06-16T02:53:03Z", "updated_at": "2019-06-16T05:29:17Z", "closed_at": "2019-06-16T05:29:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "Ignore.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/466", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/466/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/466/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/466/events", "html_url": "https://github.com/lyst/lightfm/issues/466", "id": 455763139, "node_id": "MDU6SXNzdWU0NTU3NjMxMzk=", "number": 466, "title": "scikit-learn dependency should be required", "user": {"login": "davidesarra", "id": 19291594, "node_id": "MDQ6VXNlcjE5MjkxNTk0", "avatar_url": "https://avatars1.githubusercontent.com/u/19291594?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidesarra", "html_url": "https://github.com/davidesarra", "followers_url": "https://api.github.com/users/davidesarra/followers", "following_url": "https://api.github.com/users/davidesarra/following{/other_user}", "gists_url": "https://api.github.com/users/davidesarra/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidesarra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidesarra/subscriptions", "organizations_url": "https://api.github.com/users/davidesarra/orgs", "repos_url": "https://api.github.com/users/davidesarra/repos", "events_url": "https://api.github.com/users/davidesarra/events{/privacy}", "received_events_url": "https://api.github.com/users/davidesarra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-13T14:06:53Z", "updated_at": "2019-06-14T15:09:39Z", "closed_at": "2019-06-14T15:09:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`scikit-learn` isn't required for the installation, however the module `lightfm.data` depends on it.\r\n\r\nTests are passing because `scikit-learn` is required (and used elsewhere) in the test suite.\r\n\r\nHowever, importing the `data` module leads to importing `sklearn.preprocessing`, which in turn raises a `ModuleNotFoundError`.\r\n\r\nThe workaround is to explictly add `scikit-learn` to one's project requirements, but this is not ideal.\r\n\r\nPR #464 aims to fix this issue by amending the installation requirements. Additional details are provided in the PR itself.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/463", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/463/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/463/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/463/events", "html_url": "https://github.com/lyst/lightfm/issues/463", "id": 451954096, "node_id": "MDU6SXNzdWU0NTE5NTQwOTY=", "number": 463, "title": "Running in docker did not use all CPUs sufficiently", "user": {"login": "TangChangcheng", "id": 21055189, "node_id": "MDQ6VXNlcjIxMDU1MTg5", "avatar_url": "https://avatars0.githubusercontent.com/u/21055189?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TangChangcheng", "html_url": "https://github.com/TangChangcheng", "followers_url": "https://api.github.com/users/TangChangcheng/followers", "following_url": "https://api.github.com/users/TangChangcheng/following{/other_user}", "gists_url": "https://api.github.com/users/TangChangcheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/TangChangcheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TangChangcheng/subscriptions", "organizations_url": "https://api.github.com/users/TangChangcheng/orgs", "repos_url": "https://api.github.com/users/TangChangcheng/repos", "events_url": "https://api.github.com/users/TangChangcheng/events{/privacy}", "received_events_url": "https://api.github.com/users/TangChangcheng/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-06-04T11:57:03Z", "updated_at": "2019-06-05T02:12:48Z", "closed_at": "2019-06-05T02:12:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "My computer system is OS X which cannot compile with OpenMP, so I installed docker and ran it with num_thread = 6. My computer has 6 physical cores and a process can reach 1200% usage with HTT, however, the process in docker used less than 350%. \r\n\r\n![image](https://user-images.githubusercontent.com/21055189/58877270-dc774880-8702-11e9-8060-090f74a014d9.png)\r\n\r\n![image](https://user-images.githubusercontent.com/21055189/58877295-e9943780-8702-11e9-8872-b74086eb95d4.png)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/460", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/460/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/460/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/460/events", "html_url": "https://github.com/lyst/lightfm/issues/460", "id": 449552425, "node_id": "MDU6SXNzdWU0NDk1NTI0MjU=", "number": 460, "title": "add a 0 to the user embedding end got same result, why use this trick?", "user": {"login": "jt120", "id": 4684188, "node_id": "MDQ6VXNlcjQ2ODQxODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/4684188?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jt120", "html_url": "https://github.com/jt120", "followers_url": "https://api.github.com/users/jt120/followers", "following_url": "https://api.github.com/users/jt120/following{/other_user}", "gists_url": "https://api.github.com/users/jt120/gists{/gist_id}", "starred_url": "https://api.github.com/users/jt120/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jt120/subscriptions", "organizations_url": "https://api.github.com/users/jt120/orgs", "repos_url": "https://api.github.com/users/jt120/repos", "events_url": "https://api.github.com/users/jt120/events{/privacy}", "received_events_url": "https://api.github.com/users/jt120/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-29T01:09:55Z", "updated_at": "2019-06-12T03:26:53Z", "closed_at": "2019-06-12T03:26:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "for offical demo: annoy_nsmlib_example.ipynb\r\n\r\nI found this description: \"Basically we add a nomalizing factor to each item vector - making their distances equal with each other. Then when we query with a user vector, we add a 0 to the end, and the result is proportional to the inner producct of the user and item vectors. This is a sneaky way to do an aproximate maximum inner product search.\"\r\n\r\n# question:\r\nI use different method to calculate dot product, and got same result, so why not append 0 to vector and norm item vector?\r\n\r\n# method 1:\r\n```\r\nuser_id=3\r\nr = item_embeddings.dot(user_embeddings[user_id])\r\nindex = np.argsort(-r)[:3]\r\n[movielens['item_labels'][i] for i in index]\r\n```\r\n\r\n# method 2:\r\n```\r\nuser_id = 3\r\n\r\nnorms = np.linalg.norm(item_embeddings, axis=1)\r\nmax_norm = norms.max()\r\nextra_dimension = np.sqrt(max_norm ** 2 - norms ** 2)\r\nnorm_data = np.append(item_embeddings, extra_dimension.reshape(norms.shape[0], 1), axis=1)\r\n\r\nu = np.append(user_embeddings[user_id], 0)\r\nr = norm_data.dot(u)\r\nindex = np.argsort(-r)[:3]\r\n[movielens['item_labels'][i] for i in index]\r\n``` ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/458", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/458/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/458/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/458/events", "html_url": "https://github.com/lyst/lightfm/issues/458", "id": 446375514, "node_id": "MDU6SXNzdWU0NDYzNzU1MTQ=", "number": 458, "title": "Application crashes during training ", "user": {"login": "clappis", "id": 6784627, "node_id": "MDQ6VXNlcjY3ODQ2Mjc=", "avatar_url": "https://avatars2.githubusercontent.com/u/6784627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/clappis", "html_url": "https://github.com/clappis", "followers_url": "https://api.github.com/users/clappis/followers", "following_url": "https://api.github.com/users/clappis/following{/other_user}", "gists_url": "https://api.github.com/users/clappis/gists{/gist_id}", "starred_url": "https://api.github.com/users/clappis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/clappis/subscriptions", "organizations_url": "https://api.github.com/users/clappis/orgs", "repos_url": "https://api.github.com/users/clappis/repos", "events_url": "https://api.github.com/users/clappis/events{/privacy}", "received_events_url": "https://api.github.com/users/clappis/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-05-21T01:26:50Z", "updated_at": "2019-05-21T14:16:32Z", "closed_at": "2019-05-21T14:16:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everyone,\r\n\r\nI need to run a lightfm application inside a docker container.\r\nThis is my Dockerfile:\r\n\r\n```javascript\r\nFROM python:3.6.8-slim\r\n\r\nWORKDIR /usr/src/app\r\n\r\nRUN apt-get update \\\r\n        && apt-get install -y curl apt-transport-https gnupg2 build-essential libxml2 libxslt-dev gcc \\\r\n        && curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add - \\\r\n        && curl https://packages.microsoft.com/config/debian/9/prod.list > /etc/apt/sources.list.d/mssql-release.list \\\r\n        && apt-get update \\\r\n        && ACCEPT_EULA=Y apt-get install -y msodbcsql17\r\n\r\nRUN apt-get install -y unixodbc-dev\r\n\r\nCOPY requirements.txt ./\r\nRUN pip install --no-cache-dir -v -r requirements.txt > install.log\r\n\r\nENV TZ=America/Sao_Paulo\r\nRUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone\r\n\r\nCOPY . .\r\n\r\nCMD [\"python\",\"-u\",\"main.py\"]\r\n```\r\n\r\nWhen my container is running, then error below is throwed:\r\n[9496254.935906] traps: python[45650] trap invalid opcode ip:7f3bf6731489 sp:7ffd515191e0 error:0 in _lightfm_fast_openmp.cpython-36m-x86_64-linux-gnu.so[7f3bf670b000+49000]\r\n\r\nThis happens when I call method .fit()\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/453", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/453/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/453/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/453/events", "html_url": "https://github.com/lyst/lightfm/issues/453", "id": 439791347, "node_id": "MDU6SXNzdWU0Mzk3OTEzNDc=", "number": 453, "title": "Precision/recall graph", "user": {"login": "adiIspas", "id": 15428252, "node_id": "MDQ6VXNlcjE1NDI4MjUy", "avatar_url": "https://avatars2.githubusercontent.com/u/15428252?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adiIspas", "html_url": "https://github.com/adiIspas", "followers_url": "https://api.github.com/users/adiIspas/followers", "following_url": "https://api.github.com/users/adiIspas/following{/other_user}", "gists_url": "https://api.github.com/users/adiIspas/gists{/gist_id}", "starred_url": "https://api.github.com/users/adiIspas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adiIspas/subscriptions", "organizations_url": "https://api.github.com/users/adiIspas/orgs", "repos_url": "https://api.github.com/users/adiIspas/repos", "events_url": "https://api.github.com/users/adiIspas/events{/privacy}", "received_events_url": "https://api.github.com/users/adiIspas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-02T21:13:46Z", "updated_at": "2019-05-11T13:47:54Z", "closed_at": "2019-05-11T13:47:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "It's possible to get a precision/recall graph like [this](https://imgur.com/a/k2t59OY)?\r\nI tried but I got just [this](https://imgur.com/2lIZMu4). And the auc is too different (+/- 0.1%) from run to run.\r\n\r\nMy code is:\r\n```\r\nimport numpy as np\r\nimport matplotlib.pyplot as plt\r\nfrom sklearn.metrics import auc\r\n\r\ntest_recall = recall_at_k(model, test, item_features=item_features, k=k, num_threads=threads)\r\ntest_precision = precision_at_k(model, test, item_features=item_features, k=k, num_threads=threads)\r\n\r\nsorted_idx = test_recall.argsort()\r\ntest_recall = test_recall[sorted_idx]\r\n\r\ntest_precision = test_precision[sorted_idx]\r\nauc = np.round(auc(test_recall, test_precision), decimals=2)\r\n\r\nplt.title('AUC: ' + str(auc) + '%')\r\nplt.xlabel('Recall')\r\nplt.ylabel('Precision')\r\nplt.plot(test_recall, test_precision)\r\nplt.show()\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/451", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/451/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/451/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/451/events", "html_url": "https://github.com/lyst/lightfm/issues/451", "id": 439048758, "node_id": "MDU6SXNzdWU0MzkwNDg3NTg=", "number": 451, "title": "Predicting more users than items leads to failed assert statement", "user": {"login": "ljmartin", "id": 8262765, "node_id": "MDQ6VXNlcjgyNjI3NjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/8262765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ljmartin", "html_url": "https://github.com/ljmartin", "followers_url": "https://api.github.com/users/ljmartin/followers", "following_url": "https://api.github.com/users/ljmartin/following{/other_user}", "gists_url": "https://api.github.com/users/ljmartin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ljmartin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ljmartin/subscriptions", "organizations_url": "https://api.github.com/users/ljmartin/orgs", "repos_url": "https://api.github.com/users/ljmartin/repos", "events_url": "https://api.github.com/users/ljmartin/events{/privacy}", "received_events_url": "https://api.github.com/users/ljmartin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-01T02:27:05Z", "updated_at": "2019-05-01T02:45:40Z", "closed_at": "2019-05-01T02:45:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\nI'm trying to predict all the users for a given item. With a single user, in `predict` the `user_ids` iterable gets increased in size to be equal to `len(item_ids)` by this line:\r\n```\r\n        if not isinstance(user_ids, np.ndarray):\r\n            user_ids = np.repeat(np.int32(user_ids), len(item_ids))\r\n```\r\nHowever, if `user_ids` includes multiple users, then this results in being larger than `len(item_ids)`, leading to a failed assert statement:\r\n\r\n```\r\nassert len(user_ids) == len(item_ids)\r\n```\r\n\r\n\r\nThis results in:\r\n```\r\nmodel.predict(user_ids=[0,1], item_ids=[0], user_features=None, item_features=None)\r\n```\r\noutput:\r\n```\r\n---------------------------------------------------------------------------\r\nAssertionError                            Traceback (most recent call last)\r\n<ipython-input-109-f2aac59675c9> in <module>()\r\n----> 1 model.predict(user_ids=[0,1], item_ids=[0], user_features=None, item_features=None)\r\n\r\n~/miniconda3/lib/python3.6/site-packages/lightfm/lightfm.py in predict(self, user_ids, item_ids, item_features, user_features, num_threads)\r\n    698             item_ids = np.array(item_ids, dtype=np.int32)\r\n    699 \r\n--> 700         assert len(user_ids) == len(item_ids)\r\n    701 \r\n    702         if user_ids.dtype != np.int32:\r\n\r\nAssertionError: \r\n```\r\n\r\nNot sure if removing the assert statement might propagate errors down the line", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/450", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/450/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/450/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/450/events", "html_url": "https://github.com/lyst/lightfm/issues/450", "id": 438624158, "node_id": "MDU6SXNzdWU0Mzg2MjQxNTg=", "number": 450, "title": "What is the expected format of a dataset - binary, [-1,1], (1-5), (1-10)?", "user": {"login": "ljmartin", "id": 8262765, "node_id": "MDQ6VXNlcjgyNjI3NjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/8262765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ljmartin", "html_url": "https://github.com/ljmartin", "followers_url": "https://api.github.com/users/ljmartin/followers", "following_url": "https://api.github.com/users/ljmartin/following{/other_user}", "gists_url": "https://api.github.com/users/ljmartin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ljmartin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ljmartin/subscriptions", "organizations_url": "https://api.github.com/users/ljmartin/orgs", "repos_url": "https://api.github.com/users/ljmartin/repos", "events_url": "https://api.github.com/users/ljmartin/events{/privacy}", "received_events_url": "https://api.github.com/users/ljmartin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-04-30T06:40:47Z", "updated_at": "2019-05-01T02:28:42Z", "closed_at": "2019-05-01T02:28:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\r\nThanks for lightfm. \r\n\r\nWhat is the expected format of a dataset: binary, [-1,1], (1-5), (1-10)? I note that downloading the movielens dataset allows to set a 'minimum rating' which indicates to me a binary input, i.e. YES vs NO, but the actual values in the sparse matrix aren't [0,1], they're all 5. \r\n\r\nI've fit (using warp, which I realise now zeroes out negative values) on my dataset and despite the input being [-1,1] it was predicting results greater than 1. So i tried fitting on values in the range (0,10) and then the max predicted was around 6. \r\nThanks!\r\n\r\nI tried to make some minimal code. While this doesn't show values greater than the input, it does show values below the input which is nearly the same the same 'problem'. \r\n\r\n```\r\nsparse_mat = scipy.sparse.coo_matrix(([0,0,0,1,1], ([0,0,0,1,1], [0,1,2,0,1])))\r\nmodel = lfm.LightFM(no_components=5, loss='warp')\r\nmodel.fit(sparse_mat, epochs=5, num_threads=1)\r\nmodel.predict(user_ids=[0], item_ids=[0,1,2], user_features=None, item_features=None)\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/447", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/447/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/447/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/447/events", "html_url": "https://github.com/lyst/lightfm/issues/447", "id": 433213866, "node_id": "MDU6SXNzdWU0MzMyMTM4NjY=", "number": 447, "title": "Precision/Recall returning 0.0 on test sets", "user": {"login": "ajhepburn", "id": 16597333, "node_id": "MDQ6VXNlcjE2NTk3MzMz", "avatar_url": "https://avatars1.githubusercontent.com/u/16597333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajhepburn", "html_url": "https://github.com/ajhepburn", "followers_url": "https://api.github.com/users/ajhepburn/followers", "following_url": "https://api.github.com/users/ajhepburn/following{/other_user}", "gists_url": "https://api.github.com/users/ajhepburn/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajhepburn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajhepburn/subscriptions", "organizations_url": "https://api.github.com/users/ajhepburn/orgs", "repos_url": "https://api.github.com/users/ajhepburn/repos", "events_url": "https://api.github.com/users/ajhepburn/events{/privacy}", "received_events_url": "https://api.github.com/users/ajhepburn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-15T10:45:12Z", "updated_at": "2019-04-15T14:47:39Z", "closed_at": "2019-04-15T14:47:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n2019-04-15 10:54:15,013 [MainThread  ] [INFO ]  Training LightFM CF model, Loss: WARP\r\n2019-04-15 10:54:20,840 [MainThread  ] [INFO ]  The dataset has 277 users and 401334 items with 80267 interactions in the test and 321067 interactions in the training set.\r\n2019-04-15 10:54:20,840 [MainThread  ] [INFO ]  Begin fitting collaborative filtering model @ Epochs: 10\r\n2019-04-15 10:55:05,267 [MainThread  ] [INFO ]  Collaborative Filtering training set Precision@10: 0.9563178\r\n2019-04-15 10:55:33,781 [MainThread  ] [INFO ]  Collaborative Filtering test set Precision@10: 0.0\r\n2019-04-15 10:56:10,558 [MainThread  ] [INFO ]  Collaborative Filtering training set Recall@10: 0.01632127124542665\r\n2019-04-15 10:56:39,756 [MainThread  ] [INFO ]  Collaborative Filtering test set Recall@10: 0.0\r\n```\r\n\r\nI've tried setting k to 3 in the hopes it would maybe return something but unfortunately this hasn't really worked. Is there any particular reason both precision and recall would be returning 0 on test but not training sets?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/445", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/445/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/445/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/445/events", "html_url": "https://github.com/lyst/lightfm/issues/445", "id": 433181138, "node_id": "MDU6SXNzdWU0MzMxODExMzg=", "number": 445, "title": "BPR outperforming WARP (AUC)", "user": {"login": "ajhepburn", "id": 16597333, "node_id": "MDQ6VXNlcjE2NTk3MzMz", "avatar_url": "https://avatars1.githubusercontent.com/u/16597333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ajhepburn", "html_url": "https://github.com/ajhepburn", "followers_url": "https://api.github.com/users/ajhepburn/followers", "following_url": "https://api.github.com/users/ajhepburn/following{/other_user}", "gists_url": "https://api.github.com/users/ajhepburn/gists{/gist_id}", "starred_url": "https://api.github.com/users/ajhepburn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ajhepburn/subscriptions", "organizations_url": "https://api.github.com/users/ajhepburn/orgs", "repos_url": "https://api.github.com/users/ajhepburn/repos", "events_url": "https://api.github.com/users/ajhepburn/events{/privacy}", "received_events_url": "https://api.github.com/users/ajhepburn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-15T09:26:35Z", "updated_at": "2019-04-15T14:48:19Z", "closed_at": "2019-04-15T14:48:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm running a basic CF model with \r\n\r\n> 277 users and 401334 items with 80267 interactions in the test and 321067 interactions in the training set.\r\n\r\nand the following hyperparams: \r\n\r\n> NUM_THREADS, NUM_COMPONENTS, NUM_EPOCHS, ITEM_ALPHA = (4,30,10,1e-16)\r\n\r\nI followed the Learning-To-Rank tutorial which stated that WARP tends to overfit after 10 epochs so I limited it.\r\n\r\nI setup the model with\r\n\r\n```\r\nmodel = LightFM(loss=self.loss,\r\n                    item_alpha=ITEM_ALPHA,\r\n                    no_components=NUM_COMPONENTS)\r\n```\r\n\r\nand fit with\r\n\r\n`model = model.fit(train, epochs=NUM_EPOCHS, num_threads=NUM_THREADS)`\r\n\r\nI achieve roughly \r\n\r\n> BPR, Train AUC: 0.552, Test AUC: 0.471\r\n> WARP, Train AUC: 0.999, Test AUC: 0.350\r\n> k-OS WARP, Train AUC: 0.847, Test AUC: 0.387\r\n\r\nWhile k-OS WARP outperforms WARP as expected, I'm trying to understand why BPR could possibly outperform WARP (and does so every time with my data).\r\n\r\nHappy to supply any more information, thanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/443", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/443/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/443/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/443/events", "html_url": "https://github.com/lyst/lightfm/issues/443", "id": 431426511, "node_id": "MDU6SXNzdWU0MzE0MjY1MTE=", "number": 443, "title": "Usage with k-means?", "user": {"login": "Tjorriemorrie", "id": 1099093, "node_id": "MDQ6VXNlcjEwOTkwOTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/1099093?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tjorriemorrie", "html_url": "https://github.com/Tjorriemorrie", "followers_url": "https://api.github.com/users/Tjorriemorrie/followers", "following_url": "https://api.github.com/users/Tjorriemorrie/following{/other_user}", "gists_url": "https://api.github.com/users/Tjorriemorrie/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tjorriemorrie/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tjorriemorrie/subscriptions", "organizations_url": "https://api.github.com/users/Tjorriemorrie/orgs", "repos_url": "https://api.github.com/users/Tjorriemorrie/repos", "events_url": "https://api.github.com/users/Tjorriemorrie/events{/privacy}", "received_events_url": "https://api.github.com/users/Tjorriemorrie/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-10T10:30:28Z", "updated_at": "2019-05-11T04:27:29Z", "closed_at": "2019-05-11T04:27:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "As a nescient beginner, I was wondering if it is possible to use knn clustering with the `get_user_representations`? I wish to cluster the users, and maybe the questions as well. Is it possible (i.e. do you have an example) or would you have a better solution?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/437", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/437/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/437/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/437/events", "html_url": "https://github.com/lyst/lightfm/issues/437", "id": 423571615, "node_id": "MDU6SXNzdWU0MjM1NzE2MTU=", "number": 437, "title": "Does Warp also work for negative interaction?", "user": {"login": "Ivanclj", "id": 33612133, "node_id": "MDQ6VXNlcjMzNjEyMTMz", "avatar_url": "https://avatars2.githubusercontent.com/u/33612133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ivanclj", "html_url": "https://github.com/Ivanclj", "followers_url": "https://api.github.com/users/Ivanclj/followers", "following_url": "https://api.github.com/users/Ivanclj/following{/other_user}", "gists_url": "https://api.github.com/users/Ivanclj/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ivanclj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ivanclj/subscriptions", "organizations_url": "https://api.github.com/users/Ivanclj/orgs", "repos_url": "https://api.github.com/users/Ivanclj/repos", "events_url": "https://api.github.com/users/Ivanclj/events{/privacy}", "received_events_url": "https://api.github.com/users/Ivanclj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-21T04:50:49Z", "updated_at": "2019-03-22T05:23:04Z", "closed_at": "2019-03-22T05:23:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am currently training a rec sys using the Yelp dataset. It contains user rating of each restaurant on a scale of 0-5. I centered the rating by subtract each user's average rating and any rating > 0 I change them to 1 and any below 0 to -1. So  i have an interaction matrix contain 1 (user likes), 0 (user did not interact with), -1 (user dislikes). \r\n\r\nOriginally, I was training using logistic loss according to the document. However, I found out that logistic is not giving me good result, so i switch to WARP just to see what it gives me. Surprisingly, WARP gave me a much higher AUC score and MRR. So I was wondering how does WARP train the model in the presence of negative interaction?  Does it take -1 as the negative sample or does it treat -1 and 0 both as negative samples? Is the way i am using WARP ok or do I need to change all -1 to 0 in order to make the interaction matrix only contains 1 and 0? But I also want to distinguish between user has not interacted with (0s) and user explicitly dislike (-1s), so I was hesitating changing all -1 to 0. \r\n\r\nAny advice would be greatly appreciated! ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/436", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/436/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/436/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/436/events", "html_url": "https://github.com/lyst/lightfm/issues/436", "id": 423398816, "node_id": "MDU6SXNzdWU0MjMzOTg4MTY=", "number": 436, "title": "BPR loss have lower AUC than WARP", "user": {"login": "Ivanclj", "id": 33612133, "node_id": "MDQ6VXNlcjMzNjEyMTMz", "avatar_url": "https://avatars2.githubusercontent.com/u/33612133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ivanclj", "html_url": "https://github.com/Ivanclj", "followers_url": "https://api.github.com/users/Ivanclj/followers", "following_url": "https://api.github.com/users/Ivanclj/following{/other_user}", "gists_url": "https://api.github.com/users/Ivanclj/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ivanclj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ivanclj/subscriptions", "organizations_url": "https://api.github.com/users/Ivanclj/orgs", "repos_url": "https://api.github.com/users/Ivanclj/repos", "events_url": "https://api.github.com/users/Ivanclj/events{/privacy}", "received_events_url": "https://api.github.com/users/Ivanclj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-20T18:06:14Z", "updated_at": "2019-03-21T04:39:45Z", "closed_at": "2019-03-21T04:39:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI am building a recommendation engine for a side project right now and I tried both BPR and WARP loss in the model building phase. Since in the document it states that BPR is used to optimize AUC and WARP is used to optimize Precision@k. But after training and hyper parameter tuning for both loss, I found out that BPR generally have much lower AUC values compared to WARP. Am i doing something wrong or WARP is just a better loss function?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/433", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/433/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/433/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/433/events", "html_url": "https://github.com/lyst/lightfm/issues/433", "id": 420310588, "node_id": "MDU6SXNzdWU0MjAzMTA1ODg=", "number": 433, "title": "How does item features build for numerical values", "user": {"login": "Ivanclj", "id": 33612133, "node_id": "MDQ6VXNlcjMzNjEyMTMz", "avatar_url": "https://avatars2.githubusercontent.com/u/33612133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ivanclj", "html_url": "https://github.com/Ivanclj", "followers_url": "https://api.github.com/users/Ivanclj/followers", "following_url": "https://api.github.com/users/Ivanclj/following{/other_user}", "gists_url": "https://api.github.com/users/Ivanclj/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ivanclj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ivanclj/subscriptions", "organizations_url": "https://api.github.com/users/Ivanclj/orgs", "repos_url": "https://api.github.com/users/Ivanclj/repos", "events_url": "https://api.github.com/users/Ivanclj/events{/privacy}", "received_events_url": "https://api.github.com/users/Ivanclj/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-03-13T04:21:32Z", "updated_at": "2020-04-13T06:02:15Z", "closed_at": "2019-03-18T17:41:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI m using lightfm to do a recommendation project right now and my dataset involves longitude and latitude of cities. I wanted to pass those in as item features but when I am done building it, the item features dimension increased from (10000,10000) to (10000,23000). I checked that the longitude and latitude combined have 13000 unique values so it must takes each unique value and made a feature for it. Is this right that for numerical values you still take each unique value and make a feature for it? And do lightfm try to do one-hot encoding for these numerical values in this case? \r\n\r\nAny help would be greatly appreciated!! ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/421", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/421/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/421/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/421/events", "html_url": "https://github.com/lyst/lightfm/issues/421", "id": 413159712, "node_id": "MDU6SXNzdWU0MTMxNTk3MTI=", "number": 421, "title": "Item cold-start example results in error", "user": {"login": "mattflo", "id": 35749, "node_id": "MDQ6VXNlcjM1NzQ5", "avatar_url": "https://avatars2.githubusercontent.com/u/35749?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattflo", "html_url": "https://github.com/mattflo", "followers_url": "https://api.github.com/users/mattflo/followers", "following_url": "https://api.github.com/users/mattflo/following{/other_user}", "gists_url": "https://api.github.com/users/mattflo/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattflo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattflo/subscriptions", "organizations_url": "https://api.github.com/users/mattflo/orgs", "repos_url": "https://api.github.com/users/mattflo/repos", "events_url": "https://api.github.com/users/mattflo/events{/privacy}", "received_events_url": "https://api.github.com/users/mattflo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-02-21T22:45:47Z", "updated_at": "2020-08-10T01:15:50Z", "closed_at": "2019-03-03T16:14:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[lightfm_hello_world.html.gz](https://github.com/lyst/lightfm/files/2891571/lightfm_hello_world.html.gz)\r\n[duplicate_coordinates.html.gz](https://github.com/lyst/lightfm/files/2891592/duplicate_coordinates.html.gz)\r\n\r\nAttached is a notebook `lightfm_hello_world.html.gz` following the code examples at http://lyst.github.io/lightfm/docs/examples/hybrid_crossvalidated.html\r\n\r\nIt fails with the error:\r\n\r\n```\r\nValueError: Test interactions matrix and train interactions matrix share 5 interactions. This will cause incorrect evaluation, check your data split.\r\n```\r\n\r\nIt appears there are duplicate coordinates in the `stackexchange_crossvalidated.npz` file at https://github.com/maciejkula/lightfm_datasets/releases. See the attached notebook `duplicate_coordinates.html.gz`\r\n\r\nOne quick solution would be to add `tocsr().tocoo()` to the matrix initialized here https://github.com/lyst/lightfm/blob/master/lightfm/datasets/stackexchange.py#L103\r\n\r\nI haven't checked the other npz dataset files.\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/420", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/420/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/420/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/420/events", "html_url": "https://github.com/lyst/lightfm/issues/420", "id": 412919162, "node_id": "MDU6SXNzdWU0MTI5MTkxNjI=", "number": 420, "title": "Question about the evaluation of recall and precision @ k ", "user": {"login": "jeydn", "id": 32169999, "node_id": "MDQ6VXNlcjMyMTY5OTk5", "avatar_url": "https://avatars0.githubusercontent.com/u/32169999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeydn", "html_url": "https://github.com/jeydn", "followers_url": "https://api.github.com/users/jeydn/followers", "following_url": "https://api.github.com/users/jeydn/following{/other_user}", "gists_url": "https://api.github.com/users/jeydn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeydn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeydn/subscriptions", "organizations_url": "https://api.github.com/users/jeydn/orgs", "repos_url": "https://api.github.com/users/jeydn/repos", "events_url": "https://api.github.com/users/jeydn/events{/privacy}", "received_events_url": "https://api.github.com/users/jeydn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-21T13:16:21Z", "updated_at": "2019-03-05T10:38:28Z", "closed_at": "2019-03-05T10:38:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm building my recommendation model in two different ways.\r\n When I use it with user_features my precision, recall and F1 are quite low but the train and test values are similar.\r\n\r\n```\r\nPrecision @ 4: train 0.13, test 0.10\r\nRecall @ 4: train 0.28, test 0.29\r\nF1 @ 4: train 0.17, test 0.15\r\n```\r\n\r\nIn contrary when I build my recommendation without user_features my precision, recall and F1 for the train is high but the value for test is low. \r\n\r\n```\r\nPrecision @ 4: train 0.38, test 0.08\r\nRecall @ 4: train 0.90, test 0.21\r\nF1 @ 4: train 0.54, test 0.11\r\n```\r\nWhat could be the cause of it? \r\n\r\nSome information about my dataset: \r\n\r\n- On average 3.7 interactions per user \r\n- Users are fairly similar: 62 % share the same user_feature (Could this be the issue?) \r\n\r\nI have another question regarding precision and recall: Does it always test for a cold-start scenario, as the model gets fitted on the train set? Would it be correct to assume if I want to predict recommendations for users that I already now to fit the model on all interactions? (I hope that makes any sense ) \r\n\r\nThanks for the help and great framework!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/418", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/418/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/418/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/418/events", "html_url": "https://github.com/lyst/lightfm/issues/418", "id": 411422977, "node_id": "MDU6SXNzdWU0MTE0MjI5Nzc=", "number": 418, "title": "ModuleNotFoundError: No module named 'lightfm.dataset'", "user": {"login": "SethiPawandeep", "id": 9217168, "node_id": "MDQ6VXNlcjkyMTcxNjg=", "avatar_url": "https://avatars1.githubusercontent.com/u/9217168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SethiPawandeep", "html_url": "https://github.com/SethiPawandeep", "followers_url": "https://api.github.com/users/SethiPawandeep/followers", "following_url": "https://api.github.com/users/SethiPawandeep/following{/other_user}", "gists_url": "https://api.github.com/users/SethiPawandeep/gists{/gist_id}", "starred_url": "https://api.github.com/users/SethiPawandeep/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SethiPawandeep/subscriptions", "organizations_url": "https://api.github.com/users/SethiPawandeep/orgs", "repos_url": "https://api.github.com/users/SethiPawandeep/repos", "events_url": "https://api.github.com/users/SethiPawandeep/events{/privacy}", "received_events_url": "https://api.github.com/users/SethiPawandeep/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-02-18T11:09:10Z", "updated_at": "2019-10-27T23:23:22Z", "closed_at": "2019-02-18T11:29:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\nI had installed lightfm using `pip install lightfm` \r\n\r\nThe following is the code:\r\n```python\r\nfrom lightfm.dataset import fetch_movielens\r\nfrom lightfm import LightFM\r\n```\r\nThe error I am receiving is \r\n![image](https://user-images.githubusercontent.com/9217168/52947045-a2747780-339b-11e9-9e16-8a1cbea54e54.png)\r\n\r\nGoogled it already but couldn't find anything that could help, so opening an issue here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/417", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/417/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/417/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/417/events", "html_url": "https://github.com/lyst/lightfm/issues/417", "id": 410828877, "node_id": "MDU6SXNzdWU0MTA4Mjg4Nzc=", "number": 417, "title": "Individual item ranks vs global averaged item ranks", "user": {"login": "FrancescoI", "id": 7374537, "node_id": "MDQ6VXNlcjczNzQ1Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7374537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrancescoI", "html_url": "https://github.com/FrancescoI", "followers_url": "https://api.github.com/users/FrancescoI/followers", "following_url": "https://api.github.com/users/FrancescoI/following{/other_user}", "gists_url": "https://api.github.com/users/FrancescoI/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrancescoI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrancescoI/subscriptions", "organizations_url": "https://api.github.com/users/FrancescoI/orgs", "repos_url": "https://api.github.com/users/FrancescoI/repos", "events_url": "https://api.github.com/users/FrancescoI/events{/privacy}", "received_events_url": "https://api.github.com/users/FrancescoI/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-15T15:48:53Z", "updated_at": "2019-03-04T16:16:00Z", "closed_at": "2019-03-04T16:16:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "My question isn't really about any issues on implementation side but more about interpreting and correctly treating final predictions.\r\n\r\nI had been asked to provide top10 recommended items for our users, which was fine and really straightforward using this package.\r\n\r\nI had also been asked to output a sorted list of \"most preferred\" items among all my customers. \r\nIt sounded to me like \"most popular\" items so I extracted them directly from my DB. Easy peasy.\r\n\r\nBut here I decided to test another approach and I took the average rank of my items among every users' predictions (using LightFM for the predictions).\r\n\r\nI found out that averaged \"global\" item ranks resemble most popular ones and I was wondering if it has something to do with some maths/statistical properties of CF systems or something.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/416", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/416/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/416/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/416/events", "html_url": "https://github.com/lyst/lightfm/issues/416", "id": 410261031, "node_id": "MDU6SXNzdWU0MTAyNjEwMzE=", "number": 416, "title": "Best way to encode missing features", "user": {"login": "mikkelam", "id": 4174131, "node_id": "MDQ6VXNlcjQxNzQxMzE=", "avatar_url": "https://avatars2.githubusercontent.com/u/4174131?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikkelam", "html_url": "https://github.com/mikkelam", "followers_url": "https://api.github.com/users/mikkelam/followers", "following_url": "https://api.github.com/users/mikkelam/following{/other_user}", "gists_url": "https://api.github.com/users/mikkelam/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikkelam/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikkelam/subscriptions", "organizations_url": "https://api.github.com/users/mikkelam/orgs", "repos_url": "https://api.github.com/users/mikkelam/repos", "events_url": "https://api.github.com/users/mikkelam/events{/privacy}", "received_events_url": "https://api.github.com/users/mikkelam/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-14T11:45:21Z", "updated_at": "2019-02-19T07:39:37Z", "closed_at": "2019-02-19T07:39:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\r\n\r\nI'm wondering what's the best way to encode missing features? \r\n\r\nFor example say i have three items\r\n```\r\nitem A: antique=True\r\nitem B: antique=False\r\nitem C: antique=np.nan\r\n```\r\nWhere np.nan in this scenario means it is unknown whether or not Item C is unique.\r\nSay I'm onehot encoding this scenario, I'd like to avoid having B and C both be 0, as I suspect this would create problems. Is there any way to avoid this scenario? The algorithm would not work with np.nan entries right?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/415", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/415/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/415/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/415/events", "html_url": "https://github.com/lyst/lightfm/issues/415", "id": 408612320, "node_id": "MDU6SXNzdWU0MDg2MTIzMjA=", "number": 415, "title": "Huge model size when save to pickle", "user": {"login": "nazmiasri95", "id": 5549467, "node_id": "MDQ6VXNlcjU1NDk0Njc=", "avatar_url": "https://avatars0.githubusercontent.com/u/5549467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nazmiasri95", "html_url": "https://github.com/nazmiasri95", "followers_url": "https://api.github.com/users/nazmiasri95/followers", "following_url": "https://api.github.com/users/nazmiasri95/following{/other_user}", "gists_url": "https://api.github.com/users/nazmiasri95/gists{/gist_id}", "starred_url": "https://api.github.com/users/nazmiasri95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nazmiasri95/subscriptions", "organizations_url": "https://api.github.com/users/nazmiasri95/orgs", "repos_url": "https://api.github.com/users/nazmiasri95/repos", "events_url": "https://api.github.com/users/nazmiasri95/events{/privacy}", "received_events_url": "https://api.github.com/users/nazmiasri95/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-11T02:03:07Z", "updated_at": "2019-02-15T07:16:45Z", "closed_at": "2019-02-15T07:16:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I did follow the following code to store the model into pickle file but the model size is too huge for me to use it in production (Google App Engine env):\r\n\r\n```\r\nimport pickle\r\n\r\nmodel = LightFM()\r\nmodel.fit(data)\r\n\r\nwith open('savefile.pickle', 'wb') as fle:\r\n    pickle.dump(model, fle, protocol=pickle.HIGHEST_PROTOCOL)\r\n```\r\n\r\nWhen I save it to pickle, it gave me a file with 200++MB size. It would be trouble some to get the pickle and predict every time user is hitting the endpoint (the size too huge to be store in GAE cache, unless I'm using external memcache, it might works). Is there any other way to store the trained model into smaller size ? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/412", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/412/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/412/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/412/events", "html_url": "https://github.com/lyst/lightfm/issues/412", "id": 404667675, "node_id": "MDU6SXNzdWU0MDQ2Njc2NzU=", "number": 412, "title": "random_train_test_split for weights as well as interactions", "user": {"login": "tomjwalker", "id": 37417736, "node_id": "MDQ6VXNlcjM3NDE3NzM2", "avatar_url": "https://avatars3.githubusercontent.com/u/37417736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tomjwalker", "html_url": "https://github.com/tomjwalker", "followers_url": "https://api.github.com/users/tomjwalker/followers", "following_url": "https://api.github.com/users/tomjwalker/following{/other_user}", "gists_url": "https://api.github.com/users/tomjwalker/gists{/gist_id}", "starred_url": "https://api.github.com/users/tomjwalker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tomjwalker/subscriptions", "organizations_url": "https://api.github.com/users/tomjwalker/orgs", "repos_url": "https://api.github.com/users/tomjwalker/repos", "events_url": "https://api.github.com/users/tomjwalker/events{/privacy}", "received_events_url": "https://api.github.com/users/tomjwalker/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-30T09:04:09Z", "updated_at": "2019-02-01T08:36:50Z", "closed_at": "2019-01-31T15:35:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "Does `random_train_test_split` support splitting the sparse `weight` array as well as the `interaction` array? \r\n\r\nIf not, is there a way to split both arrays in the same way, so that the model can be fitted to training arrays of both `interaction` and `weight`?\r\n\r\nThis is a great library - thank you for putting it together!\r\n\r\nTom\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/411", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/411/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/411/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/411/events", "html_url": "https://github.com/lyst/lightfm/issues/411", "id": 404190590, "node_id": "MDU6SXNzdWU0MDQxOTA1OTA=", "number": 411, "title": "Can we pass pre-trained user or item embedding to model?", "user": {"login": "rahmanidashti", "id": 13264201, "node_id": "MDQ6VXNlcjEzMjY0MjAx", "avatar_url": "https://avatars2.githubusercontent.com/u/13264201?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rahmanidashti", "html_url": "https://github.com/rahmanidashti", "followers_url": "https://api.github.com/users/rahmanidashti/followers", "following_url": "https://api.github.com/users/rahmanidashti/following{/other_user}", "gists_url": "https://api.github.com/users/rahmanidashti/gists{/gist_id}", "starred_url": "https://api.github.com/users/rahmanidashti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rahmanidashti/subscriptions", "organizations_url": "https://api.github.com/users/rahmanidashti/orgs", "repos_url": "https://api.github.com/users/rahmanidashti/repos", "events_url": "https://api.github.com/users/rahmanidashti/events{/privacy}", "received_events_url": "https://api.github.com/users/rahmanidashti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-01-29T09:15:21Z", "updated_at": "2019-02-21T15:11:50Z", "closed_at": "2019-02-14T09:03:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nCan we pass pre-trained user or item embedding to model? For example, when I learn an item embedding with word2vec, can I pass it as initialization instead of random values?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/410", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/410/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/410/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/410/events", "html_url": "https://github.com/lyst/lightfm/issues/410", "id": 402616671, "node_id": "MDU6SXNzdWU0MDI2MTY2NzE=", "number": 410, "title": "Not working  with python2.7 (ImportError: No module named _lightfm_fast_no_openmp)", "user": {"login": "2mrdaya", "id": 14895891, "node_id": "MDQ6VXNlcjE0ODk1ODkx", "avatar_url": "https://avatars1.githubusercontent.com/u/14895891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/2mrdaya", "html_url": "https://github.com/2mrdaya", "followers_url": "https://api.github.com/users/2mrdaya/followers", "following_url": "https://api.github.com/users/2mrdaya/following{/other_user}", "gists_url": "https://api.github.com/users/2mrdaya/gists{/gist_id}", "starred_url": "https://api.github.com/users/2mrdaya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/2mrdaya/subscriptions", "organizations_url": "https://api.github.com/users/2mrdaya/orgs", "repos_url": "https://api.github.com/users/2mrdaya/repos", "events_url": "https://api.github.com/users/2mrdaya/events{/privacy}", "received_events_url": "https://api.github.com/users/2mrdaya/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-24T09:33:54Z", "updated_at": "2019-01-24T09:36:25Z", "closed_at": "2019-01-24T09:35:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "/home/daya/.local/lib/python2.7/site-packages/lightfm/_lightfm_fast.py:9: UserWarning: LightFM was compiled without OpenMP support. Only a single thread will be used.\r\nwarnings.warn('LightFM was compiled without OpenMP support. '\r\nTraceback (most recent call last):\r\nFile \"recommend_catalogue.py\", line 16, in \r\nfrom lightfm import LightFM\r\nFile \"/home/daya/.local/lib/python2.7/site-packages/lightfm/init.py\", line 4, in \r\nfrom .lightfm import LightFM\r\nFile \"/home/daya/.local/lib/python2.7/site-packages/lightfm/lightfm.py\", line 8, in \r\nfrom ._lightfm_fast import (CSRMatrix, FastLightFM,\r\nFile \"/home/daya/.local/lib/python2.7/site-packages/lightfm/_lightfm_fast.py\", line 12, in \r\nfrom ._lightfm_fast_no_openmp import * # NOQA\r\nImportError: No module named _lightfm_fast_no_openmp", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/409", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/409/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/409/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/409/events", "html_url": "https://github.com/lyst/lightfm/issues/409", "id": 402598574, "node_id": "MDU6SXNzdWU0MDI1OTg1NzQ=", "number": 409, "title": "Very huge data in production ", "user": {"login": "nazmiasri95", "id": 5549467, "node_id": "MDQ6VXNlcjU1NDk0Njc=", "avatar_url": "https://avatars0.githubusercontent.com/u/5549467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nazmiasri95", "html_url": "https://github.com/nazmiasri95", "followers_url": "https://api.github.com/users/nazmiasri95/followers", "following_url": "https://api.github.com/users/nazmiasri95/following{/other_user}", "gists_url": "https://api.github.com/users/nazmiasri95/gists{/gist_id}", "starred_url": "https://api.github.com/users/nazmiasri95/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nazmiasri95/subscriptions", "organizations_url": "https://api.github.com/users/nazmiasri95/orgs", "repos_url": "https://api.github.com/users/nazmiasri95/repos", "events_url": "https://api.github.com/users/nazmiasri95/events{/privacy}", "received_events_url": "https://api.github.com/users/nazmiasri95/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-24T08:45:17Z", "updated_at": "2019-01-25T07:56:46Z", "closed_at": "2019-01-25T07:06:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I'm having problem when I want to make the recommender system in production.\r\nSince the data size is so huge (the dataframe info as below), I will might having problem when I want to serve it using Flask API.\r\n\r\n```\r\n<class 'pandas.core.frame.DataFrame'>\r\nInt64Index: 557065 entries, xxx to xxx\r\nColumns: 4932 entries, xx to xxxxxx\r\ndtypes: float64(4932)\r\nmemory usage: 20.5 GB\r\n```\r\n\r\nIn production, I'm planning to retrieve the model, user dictionary and item dictionary. Even if I store interactions matrix in a file, it gonna be very huge file. \r\n\r\n Is there any better solution or suggestion to create the interactions matrix, to be serve in production ? \r\n\r\nP/S : I already limiting the number of data, and planning to use 600k x 30k matrix later", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/408", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/408/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/408/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/408/events", "html_url": "https://github.com/lyst/lightfm/issues/408", "id": 401439135, "node_id": "MDU6SXNzdWU0MDE0MzkxMzU=", "number": 408, "title": "random_train_test_split doesn't split", "user": {"login": "jeydn", "id": 32169999, "node_id": "MDQ6VXNlcjMyMTY5OTk5", "avatar_url": "https://avatars0.githubusercontent.com/u/32169999?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jeydn", "html_url": "https://github.com/jeydn", "followers_url": "https://api.github.com/users/jeydn/followers", "following_url": "https://api.github.com/users/jeydn/following{/other_user}", "gists_url": "https://api.github.com/users/jeydn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jeydn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jeydn/subscriptions", "organizations_url": "https://api.github.com/users/jeydn/orgs", "repos_url": "https://api.github.com/users/jeydn/repos", "events_url": "https://api.github.com/users/jeydn/events{/privacy}", "received_events_url": "https://api.github.com/users/jeydn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-01-21T16:57:49Z", "updated_at": "2019-01-22T10:28:48Z", "closed_at": "2019-01-22T10:28:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, \r\nI have a question regarding the random_train_test_split function. I'm trying to split the interactions into a train and test set, but it does not split it at all. This is my code: \r\n\r\n```\r\n(train, test) = random_train_test_split(interactions, random_state=random_state, test_percentage=test_percentage)`\r\n\r\nprint('Shape: train %s, test %s.' % (train.shape, test.shape))\r\n\r\nmodel = LightFM(loss='bpr', learning_rate=0.05) # learning_rate\r\nmodel.fit(train, epochs=10) # item_features, epochs\r\n\r\ntrain_auc = auc_score(model, train).mean()\r\ntest_auc = auc_score(model, test).mean()\r\n\r\nprint('AUC: train %.2f, test %.2f.' % (train_auc, test_auc))\r\n\r\n```\r\nIn these are my console print statements: \r\n```\r\nNum users: 610, num_items 9742.\r\n<610x9742 sparse matrix of type '<class 'numpy.int32'>'\r\n\twith 100836 stored elements in COOrdinate format>\r\nShape: train (610, 9742), test (610, 9742).\r\nAUC: train 0.90, test 0.86.\r\n```\r\n\r\nThe interactions matrix has the shape of 610x9742. So, the same as train and test. \r\nCould maybe someone help me where I went wrong? \r\n\r\nThanks a lot. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/407", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/407/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/407/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/407/events", "html_url": "https://github.com/lyst/lightfm/issues/407", "id": 401297285, "node_id": "MDU6SXNzdWU0MDEyOTcyODU=", "number": 407, "title": "item_feature unexpectedly presented in my model", "user": {"login": "lampda", "id": 5571922, "node_id": "MDQ6VXNlcjU1NzE5MjI=", "avatar_url": "https://avatars2.githubusercontent.com/u/5571922?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lampda", "html_url": "https://github.com/lampda", "followers_url": "https://api.github.com/users/lampda/followers", "following_url": "https://api.github.com/users/lampda/following{/other_user}", "gists_url": "https://api.github.com/users/lampda/gists{/gist_id}", "starred_url": "https://api.github.com/users/lampda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lampda/subscriptions", "organizations_url": "https://api.github.com/users/lampda/orgs", "repos_url": "https://api.github.com/users/lampda/repos", "events_url": "https://api.github.com/users/lampda/events{/privacy}", "received_events_url": "https://api.github.com/users/lampda/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-01-21T10:54:25Z", "updated_at": "2019-01-23T20:14:03Z", "closed_at": "2019-01-23T20:14:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi there,\r\nMy code is like these below:\r\n\r\n<pre>\r\ndf = pd.DataFrame([[uid_1,iid_x,1],[uid_2,iid_y,3],....])\r\nr_df = df.pivot(index='uid',columns='iid',values='score')\r\n\r\ninteracts = sparse.csr_matrix(r_df.values)\r\ntrain_df, test_df = random_train_test_split(interacts, test_percentage=0.2)\r\n\r\nmodel = LightFM(loss='warp')\r\nmodel.fit(train_df, item_features=None, user_features=None)\r\n\r\nuid=0\r\nitem_ids = np.array([iid_x, iid_y, ....])\r\nmodel.predict(uid, item_ids)\r\n</pre>\r\n\r\nHowever, I got ValueError,\r\n\r\n<pre>\r\nValueError: the item features matrix specifies more features than there are estimated feature embeddings: 733 vs 2884\r\n</pre>\r\n\r\nBut are there any bug? Since I trained and specified No item_features, No user_features?\r\nWhat was I doing wrong?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/406", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/406/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/406/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/406/events", "html_url": "https://github.com/lyst/lightfm/issues/406", "id": 397387717, "node_id": "MDU6SXNzdWUzOTczODc3MTc=", "number": 406, "title": "What is mean FM\uff1f", "user": {"login": "FankLi", "id": 12723803, "node_id": "MDQ6VXNlcjEyNzIzODAz", "avatar_url": "https://avatars1.githubusercontent.com/u/12723803?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FankLi", "html_url": "https://github.com/FankLi", "followers_url": "https://api.github.com/users/FankLi/followers", "following_url": "https://api.github.com/users/FankLi/following{/other_user}", "gists_url": "https://api.github.com/users/FankLi/gists{/gist_id}", "starred_url": "https://api.github.com/users/FankLi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FankLi/subscriptions", "organizations_url": "https://api.github.com/users/FankLi/orgs", "repos_url": "https://api.github.com/users/FankLi/repos", "events_url": "https://api.github.com/users/FankLi/events{/privacy}", "received_events_url": "https://api.github.com/users/FankLi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-01-09T14:10:00Z", "updated_at": "2019-01-09T14:35:40Z", "closed_at": "2019-01-09T14:35:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for opening an issue!\r\n\r\nPlease include as much detail as possible: what does your dataset look like, what hyperparameters you are using (and have you tried other ones?).\r\n\r\nWhen including code snippets, make sure you use appropriate code formatting using backtics. Have a look at the markdown reference for details: https://guides.github.com/features/mastering-markdown/.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/405", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/405/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/405/events", "html_url": "https://github.com/lyst/lightfm/issues/405", "id": 397101417, "node_id": "MDU6SXNzdWUzOTcxMDE0MTc=", "number": 405, "title": "Updating model with new interactions for same user", "user": {"login": "amw5g", "id": 7786682, "node_id": "MDQ6VXNlcjc3ODY2ODI=", "avatar_url": "https://avatars1.githubusercontent.com/u/7786682?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amw5g", "html_url": "https://github.com/amw5g", "followers_url": "https://api.github.com/users/amw5g/followers", "following_url": "https://api.github.com/users/amw5g/following{/other_user}", "gists_url": "https://api.github.com/users/amw5g/gists{/gist_id}", "starred_url": "https://api.github.com/users/amw5g/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amw5g/subscriptions", "organizations_url": "https://api.github.com/users/amw5g/orgs", "repos_url": "https://api.github.com/users/amw5g/repos", "events_url": "https://api.github.com/users/amw5g/events{/privacy}", "received_events_url": "https://api.github.com/users/amw5g/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-08T21:50:58Z", "updated_at": "2019-02-05T06:49:38Z", "closed_at": "2019-02-05T06:49:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "When serving a LightFM model in production, what is the suggested way for handling a new user-item interaction for an existing user?  \r\n\r\nThat is, a model is built off of user A's positive interaction with items 1, 2, and 4.  User A subsequently interacts with existing item 3 (maybe as a result of a recommendation for item 3! ;)).  User A's latent representation is now updated.  And Item 3's latent representation is also now likely updated.  \r\n\r\nDoes the interaction matrix need to be updated and the entire model re-fit?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/404", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/404/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/404/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/404/events", "html_url": "https://github.com/lyst/lightfm/issues/404", "id": 394953295, "node_id": "MDU6SXNzdWUzOTQ5NTMyOTU=", "number": 404, "title": "Question :  ValueError: buffer source array is read-only", "user": {"login": "SanjiAp", "id": 22998616, "node_id": "MDQ6VXNlcjIyOTk4NjE2", "avatar_url": "https://avatars1.githubusercontent.com/u/22998616?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SanjiAp", "html_url": "https://github.com/SanjiAp", "followers_url": "https://api.github.com/users/SanjiAp/followers", "following_url": "https://api.github.com/users/SanjiAp/following{/other_user}", "gists_url": "https://api.github.com/users/SanjiAp/gists{/gist_id}", "starred_url": "https://api.github.com/users/SanjiAp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SanjiAp/subscriptions", "organizations_url": "https://api.github.com/users/SanjiAp/orgs", "repos_url": "https://api.github.com/users/SanjiAp/repos", "events_url": "https://api.github.com/users/SanjiAp/events{/privacy}", "received_events_url": "https://api.github.com/users/SanjiAp/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-12-31T09:36:22Z", "updated_at": "2019-12-06T13:10:04Z", "closed_at": "2019-02-05T06:50:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI am able to run the same thing on different machine and on another machine, I am getting the following error:\r\n\r\n**Traceback (most recent call last):\r\n  File \"lightfmTest.py\", line 188, in <module>\r\n    model.fit(trainCOO, epochs=300, num_threads=30)\r\n  File \"/usr/local/lib/python3.4/site-packages/lightfm-1.15-py3.4-linux-x86_64.egg/lightfm/lightfm.py\", line 479, in fit\r\n    verbose=verbose)\r\n  File \"/usr/local/lib/python3.4/site-packages/lightfm-1.15-py3.4-linux-x86_64.egg/lightfm/lightfm.py\", line 576, in fit_partial\r\n    self.loss)\r\n  File \"/usr/local/lib/python3.4/site-packages/lightfm-1.15-py3.4-linux-x86_64.egg/lightfm/lightfm.py\", line 615, in _run_epoch\r\n    self.random_state)\r\n  File \"lightfm/_lightfm_fast_openmp.pyx\", line 793, in lightfm._lightfm_fast_openmp.fit_warp\r\n  File \"stringsource\", line 646, in View.MemoryView.memoryview_cwrapper\r\n  File \"stringsource\", line 347, in View.MemoryView.memoryview.__cinit__\r\nValueError: buffer source array is read-only**\r\n\r\nParameters and info : \r\nnumber of users : 727429\r\nnumber of movies : 54000\r\n\r\nloss function : warp\r\nLR : 0.05\r\n\r\nThis is how I am building trainCOO\r\n\r\ntrainCOO = coo_matrix((train['ratingIndex'].astype(float), \r\n                   (train['uidIndex'].cat.codes, \r\n                    train['movieIndex'].cat.codes)),shape=(uidShape,movie_idShape))", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/403", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/403/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/403/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/403/events", "html_url": "https://github.com/lyst/lightfm/issues/403", "id": 391030861, "node_id": "MDU6SXNzdWUzOTEwMzA4NjE=", "number": 403, "title": "Model Evaluation with embedded user and/or item features", "user": {"login": "Jayp496", "id": 45871224, "node_id": "MDQ6VXNlcjQ1ODcxMjI0", "avatar_url": "https://avatars0.githubusercontent.com/u/45871224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jayp496", "html_url": "https://github.com/Jayp496", "followers_url": "https://api.github.com/users/Jayp496/followers", "following_url": "https://api.github.com/users/Jayp496/following{/other_user}", "gists_url": "https://api.github.com/users/Jayp496/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jayp496/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jayp496/subscriptions", "organizations_url": "https://api.github.com/users/Jayp496/orgs", "repos_url": "https://api.github.com/users/Jayp496/repos", "events_url": "https://api.github.com/users/Jayp496/events{/privacy}", "received_events_url": "https://api.github.com/users/Jayp496/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-12-14T09:27:36Z", "updated_at": "2019-01-25T07:12:32Z", "closed_at": "2019-01-25T07:12:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everyone,\r\n\r\nI have created a LightFM built-in dataset with an interactions matrix containing 474430 users and 8938 items in total. In addition, I have built item and user features out of iterables of the form:\r\n\r\n`[\r\n('id',\r\n  {'Feature1': 'a',\r\n   'Feature2': 'b',\r\n   'Feature3': 'c',\r\n   'Feature4': 'd',\r\n   'Feature5': 'e'}),\r\n ...]`\r\n\r\nFor the items, all features are categorical. For the users, there are numerical as well as categorical features. It works to create both user and item features:\r\n\r\n`print(repr(item_features))\r\n<17876x17881 sparse matrix of type '<class 'numpy.float32'>'\r\n        with 17876 stored elements in Compressed Sparse Row format>`\r\n\r\n`print(repr(user_features))\r\n<474430x474437 sparse matrix of type '<class 'numpy.float32'>'\r\n        with 474430 stored elements in Compressed Sparse Row format>`\r\n\r\nWhen the model is built, I am also able to predict recommendation scores for given users. However, when I want to evaluate the model with any of the provided evaluation scores, I receive an error message:\r\n\"ValueError: Incorrect number of features in item_features\". When I build the model only with user features, I receive the same error with \"incorrect numer of features in user_features\".\r\nI am training the model with an interactions matrix containing 80% of my transactions data and provide a test interactions matrix containing the other 20% of the data for the evaluation functions.\r\n\r\nCould anyone help me out please? If something is unclear to do so, please let me know and I will clarify.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/400", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/400/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/400/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/400/events", "html_url": "https://github.com/lyst/lightfm/issues/400", "id": 384182215, "node_id": "MDU6SXNzdWUzODQxODIyMTU=", "number": 400, "title": "Update/Change user_feature values", "user": {"login": "kj-lai", "id": 34180949, "node_id": "MDQ6VXNlcjM0MTgwOTQ5", "avatar_url": "https://avatars0.githubusercontent.com/u/34180949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kj-lai", "html_url": "https://github.com/kj-lai", "followers_url": "https://api.github.com/users/kj-lai/followers", "following_url": "https://api.github.com/users/kj-lai/following{/other_user}", "gists_url": "https://api.github.com/users/kj-lai/gists{/gist_id}", "starred_url": "https://api.github.com/users/kj-lai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kj-lai/subscriptions", "organizations_url": "https://api.github.com/users/kj-lai/orgs", "repos_url": "https://api.github.com/users/kj-lai/repos", "events_url": "https://api.github.com/users/kj-lai/events{/privacy}", "received_events_url": "https://api.github.com/users/kj-lai/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-11-26T05:43:55Z", "updated_at": "2018-12-03T03:02:25Z", "closed_at": "2018-12-03T03:02:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Assuming I have trained a model with the current user_feature,\r\n```\r\nid   A   B   C   D\r\n10   0   1   0   1\r\n```\r\nand after sometime, i wanted to update/change the values in the user_feature matrix using `fit_partial()` function,\r\n``` \r\nid   A   B   C   D\r\n10   1   1   0   0\r\n```\r\n1. in this case will the user_feature values be overwritten or there will be two of them?\r\n2. if there are two of them, which one will be considered by the model during prediction?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/398", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/398/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/398/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/398/events", "html_url": "https://github.com/lyst/lightfm/issues/398", "id": 381355320, "node_id": "MDU6SXNzdWUzODEzNTUzMjA=", "number": 398, "title": "too many indices for array", "user": {"login": "AlouiAmine", "id": 44101448, "node_id": "MDQ6VXNlcjQ0MTAxNDQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/44101448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlouiAmine", "html_url": "https://github.com/AlouiAmine", "followers_url": "https://api.github.com/users/AlouiAmine/followers", "following_url": "https://api.github.com/users/AlouiAmine/following{/other_user}", "gists_url": "https://api.github.com/users/AlouiAmine/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlouiAmine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlouiAmine/subscriptions", "organizations_url": "https://api.github.com/users/AlouiAmine/orgs", "repos_url": "https://api.github.com/users/AlouiAmine/repos", "events_url": "https://api.github.com/users/AlouiAmine/events{/privacy}", "received_events_url": "https://api.github.com/users/AlouiAmine/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-15T21:53:27Z", "updated_at": "2018-11-30T05:54:08Z", "closed_at": "2018-11-30T05:54:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Thanks for opening an issue!\r\n\r\nPlease include as much detail as possible: what does your dataset look like, what hyperparameters you are using (and have you tried other ones?).\r\n\r\nWhen including code snippets, make sure you use appropriate code formatting using backtics. Have a look at the markdown reference for details: https://guides.github.com/features/mastering-markdown/.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/397", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/397/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/397/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/397/events", "html_url": "https://github.com/lyst/lightfm/issues/397", "id": 381331535, "node_id": "MDU6SXNzdWUzODEzMzE1MzU=", "number": 397, "title": "batch_predict() problem", "user": {"login": "AlouiAmine", "id": 44101448, "node_id": "MDQ6VXNlcjQ0MTAxNDQ4", "avatar_url": "https://avatars1.githubusercontent.com/u/44101448?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlouiAmine", "html_url": "https://github.com/AlouiAmine", "followers_url": "https://api.github.com/users/AlouiAmine/followers", "following_url": "https://api.github.com/users/AlouiAmine/following{/other_user}", "gists_url": "https://api.github.com/users/AlouiAmine/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlouiAmine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlouiAmine/subscriptions", "organizations_url": "https://api.github.com/users/AlouiAmine/orgs", "repos_url": "https://api.github.com/users/AlouiAmine/repos", "events_url": "https://api.github.com/users/AlouiAmine/events{/privacy}", "received_events_url": "https://api.github.com/users/AlouiAmine/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-15T20:44:02Z", "updated_at": "2018-11-30T06:07:36Z", "closed_at": "2018-11-30T06:07:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "hello,\r\ni'm trying to use model.batch_predict() method but i get this error \ud83d\udc4d \r\n---------------------------------------------------------------------------------------\r\nRemoteTraceback                           Traceback (most recent call last)\r\nRemoteTraceback: \r\n\"\"\"\r\nTraceback (most recent call last):\r\n  File \"c:\\program files\\python35\\lib\\multiprocessing\\pool.py\", line 119, in worker\r\n    result = (True, func(*args, **kwds))\r\n  File \"c:\\program files\\python35\\lib\\multiprocessing\\pool.py\", line 47, in starmapstar\r\n    return list(itertools.starmap(args[0], args[1]))\r\n  File \"c:\\program files\\python35\\lib\\site-packages\\lightfm\\inference.py\", line 115, in _batch_predict_for_user\r\n    user_repr = _user_repr[user_id, :]\r\nIndexError: too many indices for array\r\n\"\"\"\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nIndexError                                Traceback (most recent call last)\r\n<ipython-input-23-8d9b52a175d5> in <module>\r\n     10         n_process=50,\r\n     11     )\r\n---> 12     res = model.batch_predict(chunk_id=0, user_ids=val1_pids, top_k=600)\r\n     13     model.batch_cleanup()\r\n     14 \r\n\r\nc:\\program files\\python35\\lib\\site-packages\\lightfm\\model.py in batch_predict(self, chunk_id, user_ids, top_k)\r\n    784             recs_list = _pool.starmap(\r\n    785                 _batch_predict_for_user,\r\n--> 786                 zip(user_ids, itertools.repeat(top_k), itertools.repeat(chunk_id)),\r\n    787             )\r\n    788             recommendations = dict(zip(user_ids, recs_list))\r\n\r\nc:\\program files\\python35\\lib\\multiprocessing\\pool.py in starmap(self, func, iterable, chunksize)\r\n    266         `func` and (a, b) becomes func(a, b).\r\n    267         '''\r\n--> 268         return self._map_async(func, iterable, starmapstar, chunksize).get()\r\n    269 \r\n    270     def starmap_async(self, func, iterable, chunksize=None, callback=None,\r\n\r\nc:\\program files\\python35\\lib\\multiprocessing\\pool.py in get(self, timeout)\r\n    606             return self._value\r\n    607         else:\r\n--> 608             raise self._value\r\n    609 \r\n    610     def _set(self, i, obj):\r\n\r\nIndexError: too many indices for array\r\n\r\n------------------------------------------------------------------------------------------\r\ncan anyone help to fix this problem \r\nfor the val1_pids is an array.\r\nthanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/396", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/396/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/396/events", "html_url": "https://github.com/lyst/lightfm/issues/396", "id": 381209084, "node_id": "MDU6SXNzdWUzODEyMDkwODQ=", "number": 396, "title": "Fitting with 0 threads crashes", "user": {"login": "EdwardJB", "id": 30390944, "node_id": "MDQ6VXNlcjMwMzkwOTQ0", "avatar_url": "https://avatars1.githubusercontent.com/u/30390944?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EdwardJB", "html_url": "https://github.com/EdwardJB", "followers_url": "https://api.github.com/users/EdwardJB/followers", "following_url": "https://api.github.com/users/EdwardJB/following{/other_user}", "gists_url": "https://api.github.com/users/EdwardJB/gists{/gist_id}", "starred_url": "https://api.github.com/users/EdwardJB/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EdwardJB/subscriptions", "organizations_url": "https://api.github.com/users/EdwardJB/orgs", "repos_url": "https://api.github.com/users/EdwardJB/repos", "events_url": "https://api.github.com/users/EdwardJB/events{/privacy}", "received_events_url": "https://api.github.com/users/EdwardJB/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-15T15:21:18Z", "updated_at": "2018-11-30T05:54:29Z", "closed_at": "2018-11-30T05:54:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "When fewer than one thread is specified during fitting:\r\n\r\n```python\r\nLightFM().fit(data, num_threads=0)\r\n```\r\nThe result is:\r\n\r\n```console\r\nfree(): invalid next size (fast)\r\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n```\r\n\r\nObviously that's a silly thread parameter, but I was using a function to choose threads, which was returning 0 unexpectedly on a particular config. Would be good if the value was sanity checked by LightFM, rather than just crashing.\r\n\r\n```console\r\n$ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID:\tUbuntu\r\nDescription:\tPop!_OS 18.04 LTS\r\nRelease:\t18.04\r\nCodename:\tbionic\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/392", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/392/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/392/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/392/events", "html_url": "https://github.com/lyst/lightfm/issues/392", "id": 377229253, "node_id": "MDU6SXNzdWUzNzcyMjkyNTM=", "number": 392, "title": "User Features / Item Features input format", "user": {"login": "AlbertSugi", "id": 39811627, "node_id": "MDQ6VXNlcjM5ODExNjI3", "avatar_url": "https://avatars1.githubusercontent.com/u/39811627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlbertSugi", "html_url": "https://github.com/AlbertSugi", "followers_url": "https://api.github.com/users/AlbertSugi/followers", "following_url": "https://api.github.com/users/AlbertSugi/following{/other_user}", "gists_url": "https://api.github.com/users/AlbertSugi/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlbertSugi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlbertSugi/subscriptions", "organizations_url": "https://api.github.com/users/AlbertSugi/orgs", "repos_url": "https://api.github.com/users/AlbertSugi/repos", "events_url": "https://api.github.com/users/AlbertSugi/events{/privacy}", "received_events_url": "https://api.github.com/users/AlbertSugi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-05T02:34:32Z", "updated_at": "2018-11-06T20:29:00Z", "closed_at": "2018-11-06T20:29:00Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi ,\r\n\r\nI have a question regarding the input format of the build_user_features function in Dataset. Is the input format something like this:\r\n zzfVQv1VsnRs1qz0isv7EIm2GDH3 {'age': 0.25, 'Value.profile.isWoman': 1.0, 'Value.profile.lookingForDogless': 0.0, 'Value.profile.lookingForWoman': 1.0, 'Value.profile.sizePreferenceMedium': 1.0, 'Value.profile.isNonBinary': 0.0, 'Value.profile.lookingForNonBinary': 1.0, 'Value.profile.sizePreferenceSmall': 1.0, 'Value.profile.alertMessages': 1.0, 'Value.profile.alertNewPeople': 1.0, 'Value.profile.alertMatches': 1.0, 'Value.profile.lookingForMan': 1.0, 'Value.profile.hideFromFriends': 0.0, 'Value.profile.sizePreferenceLarge': 1.0, 'Value.profile.lookingForOwner': 1.0, 'Value.profile.isDogless': 1.0, 'Value.profile.isMan': 0.0, 'dogsize': 0.0}\r\n\r\n\r\n\r\n\r\nWhere user =  zzfVQv1VsnRs1qz0isv7EIm2GDH3 and the features are = {'age': 0.25, 'Value.profile.isWoman': 1.0, 'Value.profile.lookingForDogless': 0.0, 'Value.profile.lookingForWoman': 1.0, 'Value.profile.sizePreferenceMedium': 1.0, 'Value.profile.isNonBinary': 0.0, 'Value.profile.lookingForNonBinary': 1.0, 'Value.profile.sizePreferenceSmall': 1.0, 'Value.profile.alertMessages': 1.0, 'Value.profile.alertNewPeople': 1.0, 'Value.profile.alertMatches': 1.0, 'Value.profile.lookingForMan': 1.0, 'Value.profile.hideFromFriends': 0.0, 'Value.profile.sizePreferenceLarge': 1.0, 'Value.profile.lookingForOwner': 1.0, 'Value.profile.isDogless': 1.0, 'Value.profile.isMan': 0.0, 'dogsize': 0.0}\r\n\r\nHere is the output:\r\n\r\n(0, 0)        0.0952381\r\n  (0, 8097)     0.04761905\r\n  (0, 8098)     0.0\r\n  (0, 8099)     0.0952381\r\n  (0, 8100)     0.0952381\r\n  (0, 8101)     0.0952381\r\n  (0, 8102)     0.0\r\n  (0, 8103)     0.0\r\n  (0, 8104)     0.0\r\n  (0, 8105)     0.0952381\r\n  (0, 8106)     0.0952381\r\n  (0, 8107)     0.0952381\r\n  (0, 8108)     0.0\r\n  (0, 8109)     0.0\r\n  (0, 8110)     0.0952381\r\n  (0, 8111)     0.0952381\r\n  (0, 8112)     0.0\r\n  (0, 8113)     0.0952381\r\n  (0, 8114)     0.0\r\n  (1, 1)        0.08\r\n  (1, 8097)     0.04\r\n  (1, 8098)     0.08\r\n  (1, 8099)     0.08\r\n  (1, 8100)     0.0\r\n  (1, 8101)     0.08\r\n  :     :\r\n  (8095, 8109)  0.0\r\n  (8095, 8110)  0.08888889\r\n  (8095, 8111)  0.08888889\r\n  (8095, 8112)  0.0\r\n  (8095, 8113)  0.0\r\n  (8095, 8114)  0.0\r\n  (8096, 8096)  0.09756097\r\n  (8096, 8097)  0.024390243\r\n  (8096, 8098)  0.09756097\r\n  (8096, 8099)  0.0\r\n  (8096, 8100)  0.0\r\n  (8096, 8101)  0.09756097\r\n  (8096, 8102)  0.0\r\n  (8096, 8103)  0.0\r\n  (8096, 8104)  0.09756097\r\n  (8096, 8105)  0.09756097\r\n  (8096, 8106)  0.09756097\r\n  (8096, 8107)  0.09756097\r\n  (8096, 8108)  0.09756097\r\n  (8096, 8109)  0.0\r\n  (8096, 8110)  0.09756097\r\n  (8096, 8111)  0.09756097\r\n  (8096, 8112)  0.0\r\n  (8096, 8113)  0.0\r\n  (8096, 8114)  0.0\r\nWhen I input my user features in this format, it creates a matrix with 8114 features for every user. I am not really understanding where that number comes from. Is there something that I might have done incorrectly? Secondly, my features are currently boolean, is there a big impact on adding features similar to this? Thank you for your time and for a great library you have created! \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/390", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/390/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/390/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/390/events", "html_url": "https://github.com/lyst/lightfm/issues/390", "id": 376356471, "node_id": "MDU6SXNzdWUzNzYzNTY0NzE=", "number": 390, "title": "Tests fail after scikit-learn update", "user": {"login": "petrus-jvrensburg", "id": 3660183, "node_id": "MDQ6VXNlcjM2NjAxODM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3660183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrus-jvrensburg", "html_url": "https://github.com/petrus-jvrensburg", "followers_url": "https://api.github.com/users/petrus-jvrensburg/followers", "following_url": "https://api.github.com/users/petrus-jvrensburg/following{/other_user}", "gists_url": "https://api.github.com/users/petrus-jvrensburg/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrus-jvrensburg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrus-jvrensburg/subscriptions", "organizations_url": "https://api.github.com/users/petrus-jvrensburg/orgs", "repos_url": "https://api.github.com/users/petrus-jvrensburg/repos", "events_url": "https://api.github.com/users/petrus-jvrensburg/events{/privacy}", "received_events_url": "https://api.github.com/users/petrus-jvrensburg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-11-01T11:34:52Z", "updated_at": "2018-11-04T00:44:47Z", "closed_at": "2018-11-04T00:44:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With the latest scikit-learn release on PyPi (0.20.0), the tests in `test_movielens.py` fails due to import errors, and changes to paramater names.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/388", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/388/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/388/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/388/events", "html_url": "https://github.com/lyst/lightfm/issues/388", "id": 374911393, "node_id": "MDU6SXNzdWUzNzQ5MTEzOTM=", "number": 388, "title": "Scores returned by predict() with & without user/item features", "user": {"login": "kj-lai", "id": 34180949, "node_id": "MDQ6VXNlcjM0MTgwOTQ5", "avatar_url": "https://avatars0.githubusercontent.com/u/34180949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kj-lai", "html_url": "https://github.com/kj-lai", "followers_url": "https://api.github.com/users/kj-lai/followers", "following_url": "https://api.github.com/users/kj-lai/following{/other_user}", "gists_url": "https://api.github.com/users/kj-lai/gists{/gist_id}", "starred_url": "https://api.github.com/users/kj-lai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kj-lai/subscriptions", "organizations_url": "https://api.github.com/users/kj-lai/orgs", "repos_url": "https://api.github.com/users/kj-lai/repos", "events_url": "https://api.github.com/users/kj-lai/events{/privacy}", "received_events_url": "https://api.github.com/users/kj-lai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-29T08:48:02Z", "updated_at": "2020-06-01T12:29:07Z", "closed_at": "2018-10-30T03:18:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @maciejkula, \r\n\r\nI have encountered another issue during prediction. I have trained a hybrid recommender model with the dataset built by `Dataset()` . There are two ways I had used in getting the predicted score:\r\n\r\nMethod #1:\r\n\r\n`model.user_embeddings[0,:].dot(model.item_embeddings[0:3].T) + model.user_bias[0] + model.item_bias[0:3]`\r\nthis will return the ranking scores of 3 items for the first user\r\n`array([-1.9818221, -1.5506961, -1.3330014], dtype=float32)`\r\n\r\nMethod #2:\r\n`model.predict(0,[0,1,2])`\r\nreturns\r\n`array([-1.98182154, -1.5506959 , -1.33300209])`\r\n\r\nThe results for both looks fine. But, when user and item features are inputted into Method 2,\r\n`model.predict(0,[0,1,2],user_features=USER_F[0],item_features=ITEM_F[:3])`\r\nreturns\r\n`array([-226.33410645, -226.36463928, -226.31826782])`\r\n\r\n`USER_F` and `ITEM_F` are csr matrices from `dataset.build_user_features()` and `dataset.build_item_features()`\r\n\r\nBy inputting user and item feature matrices, I get a whole new different scores, the ranking also changes.  Should I just ignore the feature matrices? It would be a great help if you could advise me on this problem. Thanks in advance.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/387", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/387/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/387/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/387/events", "html_url": "https://github.com/lyst/lightfm/issues/387", "id": 374217296, "node_id": "MDU6SXNzdWUzNzQyMTcyOTY=", "number": 387, "title": "Building Dataset with multiple cores", "user": {"login": "kj-lai", "id": 34180949, "node_id": "MDQ6VXNlcjM0MTgwOTQ5", "avatar_url": "https://avatars0.githubusercontent.com/u/34180949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kj-lai", "html_url": "https://github.com/kj-lai", "followers_url": "https://api.github.com/users/kj-lai/followers", "following_url": "https://api.github.com/users/kj-lai/following{/other_user}", "gists_url": "https://api.github.com/users/kj-lai/gists{/gist_id}", "starred_url": "https://api.github.com/users/kj-lai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kj-lai/subscriptions", "organizations_url": "https://api.github.com/users/kj-lai/orgs", "repos_url": "https://api.github.com/users/kj-lai/repos", "events_url": "https://api.github.com/users/kj-lai/events{/privacy}", "received_events_url": "https://api.github.com/users/kj-lai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-26T03:55:59Z", "updated_at": "2018-11-07T07:34:49Z", "closed_at": "2018-11-07T07:34:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is not an issue but a question.\r\n\r\nIs there an option or a method to utilize all the CPU cores for building interactions and user/item features in `Dataset()`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/386", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/386/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/386/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/386/events", "html_url": "https://github.com/lyst/lightfm/issues/386", "id": 371196302, "node_id": "MDU6SXNzdWUzNzExOTYzMDI=", "number": 386, "title": "fit, evaluate model with Goodbooks", "user": {"login": "yemiajayi", "id": 32433137, "node_id": "MDQ6VXNlcjMyNDMzMTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/32433137?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yemiajayi", "html_url": "https://github.com/yemiajayi", "followers_url": "https://api.github.com/users/yemiajayi/followers", "following_url": "https://api.github.com/users/yemiajayi/following{/other_user}", "gists_url": "https://api.github.com/users/yemiajayi/gists{/gist_id}", "starred_url": "https://api.github.com/users/yemiajayi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yemiajayi/subscriptions", "organizations_url": "https://api.github.com/users/yemiajayi/orgs", "repos_url": "https://api.github.com/users/yemiajayi/repos", "events_url": "https://api.github.com/users/yemiajayi/events{/privacy}", "received_events_url": "https://api.github.com/users/yemiajayi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-17T17:52:22Z", "updated_at": "2018-11-04T00:50:49Z", "closed_at": "2018-11-04T00:50:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Beginner and using the [Quickstart](https://lyst.github.io/lightfm/docs/quickstart.html) to familiarize myself with the *lightfm*  project. I tried using the [Building datasets](https://github.com/lyst/lightfm/tree/master/examples/dataset) example to fit and evaluate the LightFM model. Wasn't sure how to create a training and test set as in the *Quickstart* example so I tried cross-validating as below. It sure wasn't right because of the output from Precision@k. Can someone please put me through?\r\n\r\n**Building interaction matrix**\r\n```...```\r\n\r\n```python\r\nfrom lightfm.cross_validation import random_train_test_split\r\n\r\ntrain, test = random_train_test_split(interactions, test_percentage=0.3, \r\n                                      random_state=np.random.RandomState(43))\r\n\r\ntrain_features, test_features = random_train_test_split(item_features, test_percentage=0.3, \r\n                                      random_state=np.random.RandomState(43))\r\n```\r\n\r\n```python\r\nfrom lightfm import LightFM\r\n\r\nmodel = LightFM(loss='warp')\r\nmodel.fit(train, item_features=train_features, epochs=30, num_threads=4, verbose=False)\r\n```\r\n```\r\n<lightfm.lightfm.LightFM at 0x248528c89e8>\r\n```\r\n```python\r\nfrom lightfm.evaluation import precision_at_k\r\n\r\nprint(\"Train precision: %.2f\" % precision_at_k(model, train, k=5, item_features=train_features).mean())\r\nprint(\"Test precision: %.2f\" % precision_at_k(model, test, k=5, item_features=test_features).mean())\r\n```\r\n```\r\nTrain precision: 0.01\r\nTest precision: 0.01\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/385", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/385/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/385/events", "html_url": "https://github.com/lyst/lightfm/issues/385", "id": 368429460, "node_id": "MDU6SXNzdWUzNjg0Mjk0NjA=", "number": 385, "title": "Train model without user features", "user": {"login": "hugos0910", "id": 17488894, "node_id": "MDQ6VXNlcjE3NDg4ODk0", "avatar_url": "https://avatars0.githubusercontent.com/u/17488894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hugos0910", "html_url": "https://github.com/hugos0910", "followers_url": "https://api.github.com/users/hugos0910/followers", "following_url": "https://api.github.com/users/hugos0910/following{/other_user}", "gists_url": "https://api.github.com/users/hugos0910/gists{/gist_id}", "starred_url": "https://api.github.com/users/hugos0910/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hugos0910/subscriptions", "organizations_url": "https://api.github.com/users/hugos0910/orgs", "repos_url": "https://api.github.com/users/hugos0910/repos", "events_url": "https://api.github.com/users/hugos0910/events{/privacy}", "received_events_url": "https://api.github.com/users/hugos0910/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-09T22:53:01Z", "updated_at": "2018-11-04T00:50:58Z", "closed_at": "2018-11-04T00:50:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "I a bit confused on how LightFM make predictions if we do not supply user features at training.  From my understanding, only the user features and item features are needed at prediction.  If we do not supply user features, how does the model know what to recommend for the user even though the user we are predicting has interactions in the training data?\r\n\r\nLooking at the sample code provided below:\r\n```python\r\ndef sample_recommendation(model, data, user_ids):\r\n\r\n\r\n    n_users, n_items = data['train'].shape\r\n\r\n    for user_id in user_ids:\r\n        known_positives = data['item_labels'][data['train'].tocsr()[user_id].indices]\r\n\r\n        scores = model.predict(user_id, np.arange(n_items))\r\n        top_items = data['item_labels'][np.argsort(-scores)]\r\n\r\nsample_recommendation(model, data, [3, 25, 450])\r\n```\r\nHow does the model differentiate user 3, 25, and 450, since user id is suppose to point to the user feature matrix, not the interaction matrix?\r\n\r\nA follow up question: if we supply the same user features for two users, will we get the same recommendations?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/384", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/384/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/384/events", "html_url": "https://github.com/lyst/lightfm/issues/384", "id": 367831340, "node_id": "MDU6SXNzdWUzNjc4MzEzNDA=", "number": 384, "title": "How to evaluate online conversion rates or Open-Source Project?", "user": {"login": "letotefrank", "id": 41034380, "node_id": "MDQ6VXNlcjQxMDM0Mzgw", "avatar_url": "https://avatars0.githubusercontent.com/u/41034380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/letotefrank", "html_url": "https://github.com/letotefrank", "followers_url": "https://api.github.com/users/letotefrank/followers", "following_url": "https://api.github.com/users/letotefrank/following{/other_user}", "gists_url": "https://api.github.com/users/letotefrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/letotefrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/letotefrank/subscriptions", "organizations_url": "https://api.github.com/users/letotefrank/orgs", "repos_url": "https://api.github.com/users/letotefrank/repos", "events_url": "https://api.github.com/users/letotefrank/events{/privacy}", "received_events_url": "https://api.github.com/users/letotefrank/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-10-08T15:00:26Z", "updated_at": "2018-10-23T04:13:58Z", "closed_at": "2018-10-23T04:13:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "My WeChat:lcy20101129\r\nWelcome to exchange\uff01", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/383", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/383/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/383/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/383/events", "html_url": "https://github.com/lyst/lightfm/issues/383", "id": 367632801, "node_id": "MDU6SXNzdWUzNjc2MzI4MDE=", "number": 383, "title": "about source code", "user": {"login": "blancyin", "id": 27343220, "node_id": "MDQ6VXNlcjI3MzQzMjIw", "avatar_url": "https://avatars2.githubusercontent.com/u/27343220?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blancyin", "html_url": "https://github.com/blancyin", "followers_url": "https://api.github.com/users/blancyin/followers", "following_url": "https://api.github.com/users/blancyin/following{/other_user}", "gists_url": "https://api.github.com/users/blancyin/gists{/gist_id}", "starred_url": "https://api.github.com/users/blancyin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blancyin/subscriptions", "organizations_url": "https://api.github.com/users/blancyin/orgs", "repos_url": "https://api.github.com/users/blancyin/repos", "events_url": "https://api.github.com/users/blancyin/events{/privacy}", "received_events_url": "https://api.github.com/users/blancyin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-08T04:04:38Z", "updated_at": "2018-10-23T04:14:36Z", "closed_at": "2018-10-23T04:14:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\uff0cgreat work. \r\nI have some problems about lightfm:\r\nI want to read the source code of warp loss, is it in _lightfm_fast.pyx.template?\r\nIf i fix the code _lightfm_fast.pyx.template,  how it works ?\r\nI think the file \"_lightfm_fast_openmp.c\" is generated by _lightfm_fast_openmp.pyx, where i can read the code?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/382", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/382/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/382/events", "html_url": "https://github.com/lyst/lightfm/issues/382", "id": 367051078, "node_id": "MDU6SXNzdWUzNjcwNTEwNzg=", "number": 382, "title": "Calculating max value of Precision & Recall ", "user": {"login": "kj-lai", "id": 34180949, "node_id": "MDQ6VXNlcjM0MTgwOTQ5", "avatar_url": "https://avatars0.githubusercontent.com/u/34180949?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kj-lai", "html_url": "https://github.com/kj-lai", "followers_url": "https://api.github.com/users/kj-lai/followers", "following_url": "https://api.github.com/users/kj-lai/following{/other_user}", "gists_url": "https://api.github.com/users/kj-lai/gists{/gist_id}", "starred_url": "https://api.github.com/users/kj-lai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kj-lai/subscriptions", "organizations_url": "https://api.github.com/users/kj-lai/orgs", "repos_url": "https://api.github.com/users/kj-lai/repos", "events_url": "https://api.github.com/users/kj-lai/events{/privacy}", "received_events_url": "https://api.github.com/users/kj-lai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-05T03:58:00Z", "updated_at": "2018-10-26T03:57:25Z", "closed_at": "2018-10-26T03:57:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi @maciejkula \r\n\r\nI need guidance on calculating the max value of precision@k and recall@k. Let's say my test set has 100 users and each user has 5 item interactions.\r\n\r\nFor k = 10, \r\nmax precision = (5/10) / 100 users = 0.005\r\nmax recall = (5/5) / 100 users = 0.01\r\n\r\n1. is this correct?\r\n2. is precision a.k.a. mean average precision? (Edited: This question is solved. TQ)\r\n\r\nI have read about this issue #316, but I still don't understand.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/381", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/381/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/381/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/381/events", "html_url": "https://github.com/lyst/lightfm/issues/381", "id": 366462817, "node_id": "MDU6SXNzdWUzNjY0NjI4MTc=", "number": 381, "title": "item_id_mapping and item_feature_mapping is the same, and not able to construct dataset?", "user": {"login": "hugos0910", "id": 17488894, "node_id": "MDQ6VXNlcjE3NDg4ODk0", "avatar_url": "https://avatars0.githubusercontent.com/u/17488894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hugos0910", "html_url": "https://github.com/hugos0910", "followers_url": "https://api.github.com/users/hugos0910/followers", "following_url": "https://api.github.com/users/hugos0910/following{/other_user}", "gists_url": "https://api.github.com/users/hugos0910/gists{/gist_id}", "starred_url": "https://api.github.com/users/hugos0910/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hugos0910/subscriptions", "organizations_url": "https://api.github.com/users/hugos0910/orgs", "repos_url": "https://api.github.com/users/hugos0910/repos", "events_url": "https://api.github.com/users/hugos0910/events{/privacy}", "received_events_url": "https://api.github.com/users/hugos0910/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-03T18:11:37Z", "updated_at": "2018-10-04T16:14:56Z", "closed_at": "2018-10-04T16:14:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've successfully created the interaction matrix and used fit_partial to fit item features, I used the following code:\r\n\r\n```python\r\ndataset=Dataset()\r\ndataset.fit(users=df['user_id'], items=df['item'])\r\ndataset.fit_partial(items=df['item'], item_features=df['item_feature'])\r\n(interactions, weights) = dataset.build_interactions(((x, y) for x, y in zip(df['user_id'], df['item'])))\r\n```\r\nWhen I tried to build the item features with the following code, I get an error\r\n```python\r\ndataset.build_item_features(((x, y) for x, y in zip(df['item'], df['item_feature'])))\r\n```\r\n```Feature v not in eature mapping. Call fit first.```\r\n\r\nI also encountered a different issue when I'm trying to get item_feature_mapping.  ```item_id_mapping``` and ```item_feature_mapping``` turned out to be exactly the same.  The code I used is followed:\r\n```python\r\nuser_id_mapping, user_feature_mapping, item_id_mapping, item_feature_mapping = dataset.mapping()\r\n```\r\nNot sure if these two issues are related, but I appreciate anyone who can share some insights on what I'm doing wrong here.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/380", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/380/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/380/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/380/events", "html_url": "https://github.com/lyst/lightfm/issues/380", "id": 365406245, "node_id": "MDU6SXNzdWUzNjU0MDYyNDU=", "number": 380, "title": "Same item recommendations against every item.", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-10-01T10:49:43Z", "updated_at": "2018-10-02T05:10:17Z", "closed_at": "2018-10-02T05:10:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting same recommendations against every item with or without using item_features both the times I am getting same recommendations against every item recommendations only changes when I use different user_id can anybody explain why this is happening??\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/379", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/379/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/379/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/379/events", "html_url": "https://github.com/lyst/lightfm/issues/379", "id": 365185814, "node_id": "MDU6SXNzdWUzNjUxODU4MTQ=", "number": 379, "title": "How to adjust the weight\uff1f", "user": {"login": "letotefrank", "id": 41034380, "node_id": "MDQ6VXNlcjQxMDM0Mzgw", "avatar_url": "https://avatars0.githubusercontent.com/u/41034380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/letotefrank", "html_url": "https://github.com/letotefrank", "followers_url": "https://api.github.com/users/letotefrank/followers", "following_url": "https://api.github.com/users/letotefrank/following{/other_user}", "gists_url": "https://api.github.com/users/letotefrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/letotefrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/letotefrank/subscriptions", "organizations_url": "https://api.github.com/users/letotefrank/orgs", "repos_url": "https://api.github.com/users/letotefrank/repos", "events_url": "https://api.github.com/users/letotefrank/events{/privacy}", "received_events_url": "https://api.github.com/users/letotefrank/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-09-30T02:49:55Z", "updated_at": "2020-04-10T04:22:41Z", "closed_at": "2018-11-04T00:51:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "@maciejkula \r\nHi! How to adjust the weight with user or product?\r\nFor example,The more the user group acts on the same item, the higher the feature weight corresponding to the item.\r\nThank you for your reply!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/378", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/378/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/378/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/378/events", "html_url": "https://github.com/lyst/lightfm/issues/378", "id": 363845254, "node_id": "MDU6SXNzdWUzNjM4NDUyNTQ=", "number": 378, "title": "Error when building item features using dataset construction", "user": {"login": "cyteen", "id": 43594207, "node_id": "MDQ6VXNlcjQzNTk0MjA3", "avatar_url": "https://avatars2.githubusercontent.com/u/43594207?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyteen", "html_url": "https://github.com/cyteen", "followers_url": "https://api.github.com/users/cyteen/followers", "following_url": "https://api.github.com/users/cyteen/following{/other_user}", "gists_url": "https://api.github.com/users/cyteen/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyteen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyteen/subscriptions", "organizations_url": "https://api.github.com/users/cyteen/orgs", "repos_url": "https://api.github.com/users/cyteen/repos", "events_url": "https://api.github.com/users/cyteen/events{/privacy}", "received_events_url": "https://api.github.com/users/cyteen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-09-26T03:34:26Z", "updated_at": "2019-07-10T06:43:35Z", "closed_at": "2018-10-02T06:01:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have mutiple features for item that I'm trying to include in the model.\r\nI followed each steps as shown in the examples and documentation.\r\nHowever, when trying to build item features using the dataset.build_item_features, I get error \r\n'Feature automobile not in feature mapping. Call fit first.'\r\n\r\nSubset of my dataframe ( name: ad):\r\n\r\n ad_id | ad_category |  ad_size  | ad_format\r\n-------|--------------|-----------|----------------\r\n1356  | automobile  | 336x280 | image\r\n3455  | food             | 250x250 | text\r\n2344  | food             | 200x200 | text\r\n\r\nMy codes are shown below. \r\n\r\n#### Create dataset  \r\n    \r\n    dataset = Dataset()\r\n    dataset.fit(users= user['cuuid'].unique(), \r\n                     items= ad['ad_id'].unique(),\r\n                     item_features= [tuple(i) for i in ad.drop(['ad_id'], axis = 1).values])\r\n    #### I created an iterable of my item features in a tuple form. (Question 1)\r\n\r\nThis is a subset on how my item features in tuple form looks like:\r\n[('automobile', '336 x 280', 'image'),\r\n ('food', '250 x 250', 'text'),\r\n ('food', '200 x 200', 'text')]\r\n\r\n#### Building user-item matrix\r\n    # Created (user id, item id, click)\r\n    action= [tuple(i) for i in merged.drop(['click','view','ad_category', 'ad_size', 'ad_format'], axis = \r\n                  1).values]\r\n     interactions, weights = dataset.build_interactions(action)\r\n\r\nA subset on how my action tuple looks like. (userid, itemid, click or not)\r\n[(1, 1356, 1),\r\n (2, 3455, 1),\r\n (3, 2344, 1)]\r\n\r\n#### Building item feature matrix\r\n    ad_subset = ad[[\"ad_category\", 'ad_size','ad_format']] \r\n    ad_list = [list(x) for x in ad_subset.values]\r\n    ad_tuple = tuple(zip(ad['ad_id'], ad_list))\r\n    (Question 2)\r\n\r\nA subset of the ad_tuple\r\n((1356, ['automobile', '336 x 280', 'image']),\r\n (3455, ['food', '250 x 250', 'text']),\r\n (2344, ['food', '200 x 200', 'text']))\r\n\r\n    item_features = dataset.build_item_features(ad_tuple)\r\n\r\n\r\n#### Fit model\r\n    model = LightFM(loss='warp')\r\n    model.fit(interactions, \r\n          item_features= item_features,\r\n          sample_weight= weights,\r\n          epochs=1, \r\n          num_threads=2)\r\n\r\nQuestion 1: Iterating my item features in tuple form. Is this the correct way? \r\nQuestion 2: Is the format of my ad_tuple correct?\r\nQuestion 3: Since my features are categorical, should I one-hot encode it?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/376", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/376/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/376/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/376/events", "html_url": "https://github.com/lyst/lightfm/issues/376", "id": 361696723, "node_id": "MDU6SXNzdWUzNjE2OTY3MjM=", "number": 376, "title": "How to include per-user (per-item) features (that is, an identity matrix) as part of the feature matrix you supply???", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2018-09-19T11:10:54Z", "updated_at": "2019-01-24T15:37:42Z", "closed_at": "2018-10-01T06:55:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Reading your documentation how exactly can I perform this task? Right now I am passing user and item like this \r\n\r\n> item_features = [item1,[feat1,feat2,feat3,feat4]]\r\n> user_features = [user1,[feat1,feat2,feat3,feat4]]\r\n\r\nWhat do I need to add in these matrices to perform the below task?\r\n\r\n> Note: when supplying feature matrices, an implicit identity feature matrix will no longer be used. This may result in a less expressive model: because no per-user features are estimated, the model may under fit. To combat this, include per-user (per-item) features (that is, an identity matrix) as part of the feature matrix you supply.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/375", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/375/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/375/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/375/events", "html_url": "https://github.com/lyst/lightfm/issues/375", "id": 361657672, "node_id": "MDU6SXNzdWUzNjE2NTc2NzI=", "number": 375, "title": "Getting same recommendations on every item for every user ???", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-09-19T09:27:17Z", "updated_at": "2018-10-01T10:54:35Z", "closed_at": "2018-10-01T10:54:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\nI am getting same recommendations on every item for every user dont know how to resolve it?? I am using both item and user features my interaction shape\r\n\r\n>  is user:100308 item:12234\r\nmodel params are:\r\n\r\n> export EPOCHS=100\r\nexport NUM_THREADS=5\r\nexport RANDOM_STATE=2018\r\nexport LOSS='warp'\r\nexport NO_COMPONENTS=120\r\nexport LEARNING_RATE=0.004 \r\nexport ALPHA=0.005  \r\nKindly help!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/374", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/374/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/374/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/374/events", "html_url": "https://github.com/lyst/lightfm/issues/374", "id": 361624752, "node_id": "MDU6SXNzdWUzNjE2MjQ3NTI=", "number": 374, "title": "Find similar items in combination with item features.", "user": {"login": "DPGrev", "id": 5618470, "node_id": "MDQ6VXNlcjU2MTg0NzA=", "avatar_url": "https://avatars3.githubusercontent.com/u/5618470?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DPGrev", "html_url": "https://github.com/DPGrev", "followers_url": "https://api.github.com/users/DPGrev/followers", "following_url": "https://api.github.com/users/DPGrev/following{/other_user}", "gists_url": "https://api.github.com/users/DPGrev/gists{/gist_id}", "starred_url": "https://api.github.com/users/DPGrev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DPGrev/subscriptions", "organizations_url": "https://api.github.com/users/DPGrev/orgs", "repos_url": "https://api.github.com/users/DPGrev/repos", "events_url": "https://api.github.com/users/DPGrev/events{/privacy}", "received_events_url": "https://api.github.com/users/DPGrev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-19T07:58:20Z", "updated_at": "2018-09-20T09:33:26Z", "closed_at": "2018-09-20T09:33:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "First of all, thank you for creating this library it works very well.\r\n\r\nI am trying to find similar items within the model for which I used the following function:\r\n\r\n```python\r\ndef similar_items(internal_idx, item_feats_mtx, model, N=10):\r\n    item_representations = model.get_item_representations()[1]\r\n\r\n    # Cosine similarity\r\n    scores = item_representations.dot(item_representations[internal_idx, :])\r\n    item_norms = np.linalg.norm(item_representations, axis=1)\r\n    scores /= item_norms\r\n\r\n    best = np.argpartition(scores, -N)[-N:]\r\n    return sorted(zip(best, scores[best] / item_norms[internal_idx]),\r\n                  key=lambda x: -x[1])\r\n```\r\nHowever if I add item features to the model and train it the size of the `item_representations` changes and the new item features are added to the item representations. \r\n\r\nWould I still be able to calculate similar item by using:\r\n\r\n```item_representations = model.get_item_representations()[1][0:N_items]```\r\n\r\nWhere num_items is the number of items?\r\n\r\nWith other words, do the first N item embeddings still represent the N items when item features are added?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/373", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/373/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/373/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/373/events", "html_url": "https://github.com/lyst/lightfm/issues/373", "id": 360317861, "node_id": "MDU6SXNzdWUzNjAzMTc4NjE=", "number": 373, "title": "Content based component in lightFM does not seem to work?", "user": {"login": "moggeandersson", "id": 17515361, "node_id": "MDQ6VXNlcjE3NTE1MzYx", "avatar_url": "https://avatars3.githubusercontent.com/u/17515361?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moggeandersson", "html_url": "https://github.com/moggeandersson", "followers_url": "https://api.github.com/users/moggeandersson/followers", "following_url": "https://api.github.com/users/moggeandersson/following{/other_user}", "gists_url": "https://api.github.com/users/moggeandersson/gists{/gist_id}", "starred_url": "https://api.github.com/users/moggeandersson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moggeandersson/subscriptions", "organizations_url": "https://api.github.com/users/moggeandersson/orgs", "repos_url": "https://api.github.com/users/moggeandersson/repos", "events_url": "https://api.github.com/users/moggeandersson/events{/privacy}", "received_events_url": "https://api.github.com/users/moggeandersson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-09-14T14:02:27Z", "updated_at": "2018-11-04T00:51:16Z", "closed_at": "2018-11-04T00:51:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello and thanks! Is there a way to use this algorithm as a pure tag suggestion algorithm? I have tried to train the model with only a rich item-feature matrix and an interaction matrix in form of the identity matrix, which should imply that there are no users with similar preference for any item, that means the algorithm leans towards content-based recommendations? But when I use the get similar tags for example, the result does not really feel relevant at all. \r\n\r\nFor example, for the tag \"airplanes\", I first get the tag \"airplanes\" which indicates that everything is alright, it should be most similar to itself, however the next tag is \"dancing\" and other random tags which does not make sense. There is a lot of items with tags similar to Airplanes, like aircraft, planes etc.  Do I misunderstand the fundamentals with your algorithm or is my model simply wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/368", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/368/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/368/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/368/events", "html_url": "https://github.com/lyst/lightfm/issues/368", "id": 356311719, "node_id": "MDU6SXNzdWUzNTYzMTE3MTk=", "number": 368, "title": "Precision@K is very low why??", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-09-02T20:29:55Z", "updated_at": "2018-09-13T05:19:21Z", "closed_at": "2018-09-13T05:19:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\nmodel = LightFM(\r\n    loss=\"warp\",\r\n    no_components=135,\r\n    random_state=2018,\r\n    item_alpha=1.725383669581387e-06,\r\n    user_alpha=1.725383669581387e-06,\r\n    learning_rate=0.05)\r\n\r\nmodel.fit(\r\n    interactions,\r\n    item_features=item_features,\r\n    epochs=20,\r\n    num_threads=5,\r\n)\r\n\r\n```\r\n\r\n> train_precision: 0.1986967\r\n> test_precision: 0.099535316\r\n> train_recall: 0.7230591386002221   \r\n> test_recall: 0.6030741151243609\r\n> train_auc: 0.99870604\r\n> test_auc: 0.99772114\r\n\r\nThese are my evaluation results I want to know why my precision is so low?? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/367", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/367/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/367/events", "html_url": "https://github.com/lyst/lightfm/issues/367", "id": 355517018, "node_id": "MDU6SXNzdWUzNTU1MTcwMTg=", "number": 367, "title": "How to correctly use Dataset module with LightFM.fit() method", "user": {"login": "FrancescoI", "id": 7374537, "node_id": "MDQ6VXNlcjczNzQ1Mzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/7374537?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FrancescoI", "html_url": "https://github.com/FrancescoI", "followers_url": "https://api.github.com/users/FrancescoI/followers", "following_url": "https://api.github.com/users/FrancescoI/following{/other_user}", "gists_url": "https://api.github.com/users/FrancescoI/gists{/gist_id}", "starred_url": "https://api.github.com/users/FrancescoI/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FrancescoI/subscriptions", "organizations_url": "https://api.github.com/users/FrancescoI/orgs", "repos_url": "https://api.github.com/users/FrancescoI/repos", "events_url": "https://api.github.com/users/FrancescoI/events{/privacy}", "received_events_url": "https://api.github.com/users/FrancescoI/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-30T10:11:08Z", "updated_at": "2018-09-13T09:13:53Z", "closed_at": "2018-09-13T09:13:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI'm dealing with a DB with a shape of:\r\n\r\nUserId | ProductId | CountOfInteractions\r\n------------ | ------------- | -------------\r\nUserABC | ProductABD | 2\r\nUserABC  | ProductZZZ | 12\r\n... | ... |\r\n\r\nI was playing around with the **Dataset** module for speeding it up the interactions and weights matrices building process, but I'm not sure if I'm getting it right. \r\n\r\nIts `.build_interactions()` function creates two matrices: \r\n\r\n- a binary one with userId-productId tuples set to 1 (if any interaction has occured in the training set) or 0 otherwise\r\n\r\n- a weights matrix with userId-productId tuples set to the number of interactions between every tuple in the training set (\"CountOfInteractions\" field, in my example)\r\n\r\nNow, if I'm getting right, I need to feed them into the `LightFM.fit()` method, as interactions and sample_weight arguments respectively.\r\n\r\nMy question is if it's the same thing if I build a sparse matrix of userId and productId count of interactions and feed it directly into the `LightFM.fit()`method as first argument of this function.\r\n\r\nI'm getting very different embedding matrices when comparing the two methods, even if I use the same seed for the fitting process and I was wondering if I'm making some mistakes in one the above flows.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/365", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/365/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/365/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/365/events", "html_url": "https://github.com/lyst/lightfm/issues/365", "id": 353526439, "node_id": "MDU6SXNzdWUzNTM1MjY0Mzk=", "number": 365, "title": "How to perform Hyper Parameter Tuning in Production Enviroment??", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-23T19:45:08Z", "updated_at": "2018-10-01T06:55:35Z", "closed_at": "2018-10-01T06:55:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello can any body tell how they perform hyper params tuning in prodution enviroment I tried using skopt library and also grid search on my local machine but it takes time so how to use it efficiently in production environment??", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/363", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/363/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/363/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/363/events", "html_url": "https://github.com/lyst/lightfm/issues/363", "id": 352382072, "node_id": "MDU6SXNzdWUzNTIzODIwNzI=", "number": 363, "title": "QUESTION:lightFM,predict()", "user": {"login": "letotefrank", "id": 41034380, "node_id": "MDQ6VXNlcjQxMDM0Mzgw", "avatar_url": "https://avatars0.githubusercontent.com/u/41034380?v=4", "gravatar_id": "", "url": "https://api.github.com/users/letotefrank", "html_url": "https://github.com/letotefrank", "followers_url": "https://api.github.com/users/letotefrank/followers", "following_url": "https://api.github.com/users/letotefrank/following{/other_user}", "gists_url": "https://api.github.com/users/letotefrank/gists{/gist_id}", "starred_url": "https://api.github.com/users/letotefrank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/letotefrank/subscriptions", "organizations_url": "https://api.github.com/users/letotefrank/orgs", "repos_url": "https://api.github.com/users/letotefrank/repos", "events_url": "https://api.github.com/users/letotefrank/events{/privacy}", "received_events_url": "https://api.github.com/users/letotefrank/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2018-08-21T04:32:12Z", "updated_at": "2018-11-22T10:07:35Z", "closed_at": "2018-08-22T02:36:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,Maciej!\r\nI would like to ask how predict() is calculated?\r\nI think it should be like this, like user 1 for item 1:\r\n```\r\nuser_biases = model.get_user_representations()[0]\r\nuser_embeddings = model.get_user_representations()[1]\r\nitem_biases = model.get_item_representations()[0]\r\nitem_embeddings = model.get_item_representations()[1]\r\nuser1 = user_embeddings[0]\r\nitem1 = item_embeddings[0]\r\nscore = u1.dot(i1.T)\r\nub1 = user_biases[0]\r\nib1 = item_biases[0]\r\nresult = score + ub1 + ib1\r\n```\r\nHowever, the calculation result is inconsistent with predict(1,[1]),  please answer the wrong place, thank you for your reply!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/361", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/361/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/361/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/361/events", "html_url": "https://github.com/lyst/lightfm/issues/361", "id": 351313858, "node_id": "MDU6SXNzdWUzNTEzMTM4NTg=", "number": 361, "title": "Any tips for making strong LightFM model??", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-16T18:14:59Z", "updated_at": "2018-09-13T05:20:40Z", "closed_at": "2018-09-13T05:20:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have been getting average want to improve my recommendations any tips from the seniors will be helpful?\r\nGrid Search , More Features of Item or Users, Increase the size of No of Components???? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/359", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/359/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/359/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/359/events", "html_url": "https://github.com/lyst/lightfm/issues/359", "id": 349607164, "node_id": "MDU6SXNzdWUzNDk2MDcxNjQ=", "number": 359, "title": "Similar Items cold-start Using Item Features", "user": {"login": "fischjer4", "id": 20000459, "node_id": "MDQ6VXNlcjIwMDAwNDU5", "avatar_url": "https://avatars2.githubusercontent.com/u/20000459?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fischjer4", "html_url": "https://github.com/fischjer4", "followers_url": "https://api.github.com/users/fischjer4/followers", "following_url": "https://api.github.com/users/fischjer4/following{/other_user}", "gists_url": "https://api.github.com/users/fischjer4/gists{/gist_id}", "starred_url": "https://api.github.com/users/fischjer4/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fischjer4/subscriptions", "organizations_url": "https://api.github.com/users/fischjer4/orgs", "repos_url": "https://api.github.com/users/fischjer4/repos", "events_url": "https://api.github.com/users/fischjer4/events{/privacy}", "received_events_url": "https://api.github.com/users/fischjer4/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-10T18:03:00Z", "updated_at": "2018-08-11T16:37:06Z", "closed_at": "2018-08-10T20:16:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'm wondering if it is possible to retrieve similar items for an item that has NOT been incorporated into the model yet based off of the item's features. I'm aware of how to handle cold-start recommendations for users using user features, but not sure how to for items.\r\n\r\nFor instance, take the MovieLens data. Let's say I train the model with user features and item features and are able to get similar movies using the below `similar_items` function. Now let's say a new movie _test_ is added with the features `['Genres_animation', 'Genres_childrens', 'Genres_comedy']`. Is it in anyway possible to get similar items solely based off of the features?\r\n\r\n```\r\ndef similar_items(internal_idx, item_feat_mtx, model, num_res=10):\r\n    item_representations = model.get_item_representations(features=item_feat_mtx)[1]\r\n\r\n    scores = item_representations.dot(item_representations[internal_idx, :])\r\n\r\n    item_norms = np.linalg.norm(item_representations, axis=1)\r\n    item_vec_norm = np.linalg.norm(item_representations[internal_idx, :])\r\n    # normalize scores\r\n    scores = np.squeeze(scores / item_norms / item_vec_norm)\r\n\r\n    best = np.argsort(-scores)[0 : num_res]\r\n    return sorted(zip(best, scores[best]), key=lambda x: -x[1])\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/358", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/358/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/358/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/358/events", "html_url": "https://github.com/lyst/lightfm/issues/358", "id": 349460506, "node_id": "MDU6SXNzdWUzNDk0NjA1MDY=", "number": 358, "title": "How to filter my recommendations during prediction time ??", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-08-10T10:25:24Z", "updated_at": "2018-08-16T04:44:11Z", "closed_at": "2018-08-16T04:44:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Right now I am dealing with a issue of filtering my recommendations during my prediction. For filtering my items which are around 12k I have to load their data into memory and then filter items_id based on specific city, country and category inputs comes to my api on realtime after that I pass those filter entities to the model.predict method which returns Top N recommendations. Please guide me how to tackle this problem because loading items data into memory causes me alot of memory space. @maciejkula @jongwook @davidszotten @trepca ??", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/357", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/357/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/357/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/357/events", "html_url": "https://github.com/lyst/lightfm/issues/357", "id": 349140777, "node_id": "MDU6SXNzdWUzNDkxNDA3Nzc=", "number": 357, "title": "Exception: Number of item feature rows does not equal the number of items", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-09T14:00:21Z", "updated_at": "2020-02-29T10:42:27Z", "closed_at": "2018-08-11T23:11:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am getting this error I dont know why it is coming help needed", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/355", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/355/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/355/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/355/events", "html_url": "https://github.com/lyst/lightfm/issues/355", "id": 348349239, "node_id": "MDU6SXNzdWUzNDgzNDkyMzk=", "number": 355, "title": "New recommendations each time for same data", "user": {"login": "arundasK", "id": 33275170, "node_id": "MDQ6VXNlcjMzMjc1MTcw", "avatar_url": "https://avatars1.githubusercontent.com/u/33275170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arundasK", "html_url": "https://github.com/arundasK", "followers_url": "https://api.github.com/users/arundasK/followers", "following_url": "https://api.github.com/users/arundasK/following{/other_user}", "gists_url": "https://api.github.com/users/arundasK/gists{/gist_id}", "starred_url": "https://api.github.com/users/arundasK/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arundasK/subscriptions", "organizations_url": "https://api.github.com/users/arundasK/orgs", "repos_url": "https://api.github.com/users/arundasK/repos", "events_url": "https://api.github.com/users/arundasK/events{/privacy}", "received_events_url": "https://api.github.com/users/arundasK/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-08-07T14:34:23Z", "updated_at": "2018-08-08T14:28:03Z", "closed_at": "2018-08-08T14:28:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\nHi, I am relatively new to recommendation systems and lightfm, library. I tried a tutorial program for music recommendation using implicit library. But every time I train model, I am getting different recommendations for same training data and user id. Please help me to understand what causes this issue. Thanks in advance.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/354", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/354/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/354/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/354/events", "html_url": "https://github.com/lyst/lightfm/issues/354", "id": 348246318, "node_id": "MDU6SXNzdWUzNDgyNDYzMTg=", "number": 354, "title": "Memory issues during prediction.", "user": {"login": "RothNRK", "id": 4377837, "node_id": "MDQ6VXNlcjQzNzc4Mzc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4377837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RothNRK", "html_url": "https://github.com/RothNRK", "followers_url": "https://api.github.com/users/RothNRK/followers", "following_url": "https://api.github.com/users/RothNRK/following{/other_user}", "gists_url": "https://api.github.com/users/RothNRK/gists{/gist_id}", "starred_url": "https://api.github.com/users/RothNRK/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RothNRK/subscriptions", "organizations_url": "https://api.github.com/users/RothNRK/orgs", "repos_url": "https://api.github.com/users/RothNRK/repos", "events_url": "https://api.github.com/users/RothNRK/events{/privacy}", "received_events_url": "https://api.github.com/users/RothNRK/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-08-07T09:45:48Z", "updated_at": "2018-09-03T09:48:29Z", "closed_at": "2018-09-03T09:48:29Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hello.\r\n\r\nI need to make predictions for 150k users and 30k items. While I appreciate this will create a large array (~36 gigs), it requires much more (crashes a 64 gig machine). Since I only need the top 10 item recommendations I tried to solve this by calling the predict method in batches of 10k users for 30k items, and save the indices of the top n item recommendations. This works much worse and required machines with ~488 GB of ram to make all of the predictions.\r\n\r\nI would appreciate any suggestions you have.\r\nThank you.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/352", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/352/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/352/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/352/events", "html_url": "https://github.com/lyst/lightfm/issues/352", "id": 345477349, "node_id": "MDU6SXNzdWUzNDU0NzczNDk=", "number": 352, "title": "How to use lighfm in production??", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285640, "node_id": "MDU6TGFiZWwyNDIyODU2NDA=", "url": "https://api.github.com/repos/lyst/lightfm/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}, {"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-28T20:40:35Z", "updated_at": "2018-08-09T07:53:14Z", "closed_at": "2018-08-09T07:53:14Z", "author_association": "NONE", "active_lock_reason": null, "body": " I was reading your paper and read this \r\n\r\n> We store model state, including feature embeddings and\r\naccumulated squared gradient information in a database.\r\nWhen new data on user interaction arrives, we restore the\r\nmodel state and resume training, folding in any newly observed\r\nfeatures. Since our implementation uses per-parameter\r\ndiminishing learning rates (Adagrad), any updates of established\r\nfeatures will be incremental as the model adapts to\r\nnew data\r\nCan you explain how do perform this task of resuming the training of my lightfm model  in production.\r\nPlease guide me the steps to take and how train my model continuously in production if any new user or entity comes or any new interaction happens? ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/351", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/351/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/351/events", "html_url": "https://github.com/lyst/lightfm/issues/351", "id": 345477304, "node_id": "MDU6SXNzdWUzNDU0NzczMDQ=", "number": 351, "title": "How to use lightfm for recommending brands to the user??", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285640, "node_id": "MDU6TGFiZWwyNDIyODU2NDA=", "url": "https://api.github.com/repos/lyst/lightfm/labels/help%20wanted", "name": "help wanted", "color": "159818", "default": true, "description": null}, {"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-28T20:39:47Z", "updated_at": "2018-09-13T05:21:12Z", "closed_at": "2018-09-13T05:21:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "My problem formulation is something like this:  I have users U and entities E which I have to recommend to the user for e.g I have a new user using my app he selected McDonalds to view its details now I want my model to recommend him some entities like burger king, KFC etc.\r\n\r\nI have trained my model using entities tags as item features and forming interaction matrix as if user have wish listed or viewed any entity it will marked as interaction. \r\n\r\nI want to know how to predict recommendation for that specific  user using my model right now what I am doing is filtering out the entity ids on the user country,city,entity_category and entity_tags(80% sim to what user has currently interacted with) and pass those entity ids to my predict function which is I think is a overhead what I want to do is to give entity ID which my user has just interacted with to my predict function and my model should recommend entities against that entity id can I do this ??\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/350", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/350/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/350/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/350/events", "html_url": "https://github.com/lyst/lightfm/issues/350", "id": 344721600, "node_id": "MDU6SXNzdWUzNDQ3MjE2MDA=", "number": 350, "title": "How pass user_features , item_features parameter while making REST API??", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-07-26T07:11:27Z", "updated_at": "2018-07-27T06:55:43Z", "closed_at": "2018-07-27T06:55:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am confused about these two parameters in the predict function how to pass these two params while calling predict function in a rest api? \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/349", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/349/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/349/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/349/events", "html_url": "https://github.com/lyst/lightfm/issues/349", "id": 344627124, "node_id": "MDU6SXNzdWUzNDQ2MjcxMjQ=", "number": 349, "title": "about train/test intersections in model evaluation", "user": {"login": "tianpunchh", "id": 40504262, "node_id": "MDQ6VXNlcjQwNTA0MjYy", "avatar_url": "https://avatars1.githubusercontent.com/u/40504262?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tianpunchh", "html_url": "https://github.com/tianpunchh", "followers_url": "https://api.github.com/users/tianpunchh/followers", "following_url": "https://api.github.com/users/tianpunchh/following{/other_user}", "gists_url": "https://api.github.com/users/tianpunchh/gists{/gist_id}", "starred_url": "https://api.github.com/users/tianpunchh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tianpunchh/subscriptions", "organizations_url": "https://api.github.com/users/tianpunchh/orgs", "repos_url": "https://api.github.com/users/tianpunchh/repos", "events_url": "https://api.github.com/users/tianpunchh/events{/privacy}", "received_events_url": "https://api.github.com/users/tianpunchh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-07-25T22:17:10Z", "updated_at": "2018-08-06T15:59:29Z", "closed_at": "2018-08-06T15:59:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI have a question about the evaluation functions, in the end, it is all about predict_rank() function. From the documentation, I feel that if we provide train_interactions and turn on the check_interactions flag, it will remove the positive interactions seen in the training? \r\n\r\nFor example, if testing_interaction for a user is [0, 1, 0, 1, 0] and training_interaction for this user is [0, 1, 0, 0, 0], then the interaction at index 1 would be removed from the final rank as a true positive point because it has been observed in the training. But I feel that even though it is observed in the training, it does no harm that you recommend it again for most situations. Is there a strong dislike for a recommender to recommend the same thing the user has liked before ? Or maybe I do not understand your implementation correctly ?\r\n\r\nThank you so much", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/348", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/348/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/348/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/348/events", "html_url": "https://github.com/lyst/lightfm/issues/348", "id": 344196417, "node_id": "MDU6SXNzdWUzNDQxOTY0MTc=", "number": 348, "title": "How to inteprete the precision-at-k? Under what criteria then a prediction is relevant?", "user": {"login": "bdqnghi", "id": 11867551, "node_id": "MDQ6VXNlcjExODY3NTUx", "avatar_url": "https://avatars0.githubusercontent.com/u/11867551?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bdqnghi", "html_url": "https://github.com/bdqnghi", "followers_url": "https://api.github.com/users/bdqnghi/followers", "following_url": "https://api.github.com/users/bdqnghi/following{/other_user}", "gists_url": "https://api.github.com/users/bdqnghi/gists{/gist_id}", "starred_url": "https://api.github.com/users/bdqnghi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bdqnghi/subscriptions", "organizations_url": "https://api.github.com/users/bdqnghi/orgs", "repos_url": "https://api.github.com/users/bdqnghi/repos", "events_url": "https://api.github.com/users/bdqnghi/events{/privacy}", "received_events_url": "https://api.github.com/users/bdqnghi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-07-24T20:43:57Z", "updated_at": "2018-07-26T11:10:16Z", "closed_at": "2018-07-26T11:10:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "P@K is the proportion of retrieved documents that are relevant. In this case, what are the criteria of relevance? For example, the scale of my rating score is from 0-5, and I want to define if a prediction is > 3.5, then it would be relevant, otherwise, it's not. Another case is from 0-1 and I want to define if a prediction is > 0.7 then it would be relevant, something like that according to my understanding. \r\n\r\nBut in this case, I don't understand how lightFM measures the P@K when I just put any kind of rating into the precision_at_k function? I'm not saying that lightFM should follow my example, just want to understand this. Thanks :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/343", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/343/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/343/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/343/events", "html_url": "https://github.com/lyst/lightfm/issues/343", "id": 343609200, "node_id": "MDU6SXNzdWUzNDM2MDkyMDA=", "number": 343, "title": "How to do contextual/filtered recommendations using lightfm??", "user": {"login": "hammadkhann", "id": 22725956, "node_id": "MDQ6VXNlcjIyNzI1OTU2", "avatar_url": "https://avatars1.githubusercontent.com/u/22725956?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hammadkhann", "html_url": "https://github.com/hammadkhann", "followers_url": "https://api.github.com/users/hammadkhann/followers", "following_url": "https://api.github.com/users/hammadkhann/following{/other_user}", "gists_url": "https://api.github.com/users/hammadkhann/gists{/gist_id}", "starred_url": "https://api.github.com/users/hammadkhann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hammadkhann/subscriptions", "organizations_url": "https://api.github.com/users/hammadkhann/orgs", "repos_url": "https://api.github.com/users/hammadkhann/repos", "events_url": "https://api.github.com/users/hammadkhann/events{/privacy}", "received_events_url": "https://api.github.com/users/hammadkhann/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-07-23T12:18:58Z", "updated_at": "2018-10-01T09:26:22Z", "closed_at": "2018-10-01T09:26:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to make items recommendation specific to the user's country,city and in which category he is browsing at the moment and only recommend those items which are valid after these filters so what do i have to do for that? Should I filter them after getting scores against all items or I use country,city and category feature against each item? TIA.\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/342", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/342/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/342/events", "html_url": "https://github.com/lyst/lightfm/issues/342", "id": 343081115, "node_id": "MDU6SXNzdWUzNDMwODExMTU=", "number": 342, "title": "Serving Big LightFM Model", "user": {"login": "ahayamb", "id": 4668525, "node_id": "MDQ6VXNlcjQ2Njg1MjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/4668525?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahayamb", "html_url": "https://github.com/ahayamb", "followers_url": "https://api.github.com/users/ahayamb/followers", "following_url": "https://api.github.com/users/ahayamb/following{/other_user}", "gists_url": "https://api.github.com/users/ahayamb/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahayamb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahayamb/subscriptions", "organizations_url": "https://api.github.com/users/ahayamb/orgs", "repos_url": "https://api.github.com/users/ahayamb/repos", "events_url": "https://api.github.com/users/ahayamb/events{/privacy}", "received_events_url": "https://api.github.com/users/ahayamb/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-07-20T11:59:15Z", "updated_at": "2018-07-27T02:00:54Z", "closed_at": "2018-07-27T02:00:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've watched your [talk](https://youtu.be/EgE0DUrYmo8?t=1730) and it sounds interesting to serve the model via postgres. If it's permissible to know, what are your use cases? How fast the prediction can be done? I've tried apache madlib to do array operation in postgres and want to see whether I did something wrong\r\nPlease close this if you found it irrelevant, thank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/lyst/lightfm/issues/341", "repository_url": "https://api.github.com/repos/lyst/lightfm", "labels_url": "https://api.github.com/repos/lyst/lightfm/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/lyst/lightfm/issues/341/comments", "events_url": "https://api.github.com/repos/lyst/lightfm/issues/341/events", "html_url": "https://github.com/lyst/lightfm/issues/341", "id": 343033472, "node_id": "MDU6SXNzdWUzNDMwMzM0NzI=", "number": 341, "title": "Create Dataset", "user": {"login": "0x5eba", "id": 15160790, "node_id": "MDQ6VXNlcjE1MTYwNzkw", "avatar_url": "https://avatars3.githubusercontent.com/u/15160790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/0x5eba", "html_url": "https://github.com/0x5eba", "followers_url": "https://api.github.com/users/0x5eba/followers", "following_url": "https://api.github.com/users/0x5eba/following{/other_user}", "gists_url": "https://api.github.com/users/0x5eba/gists{/gist_id}", "starred_url": "https://api.github.com/users/0x5eba/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/0x5eba/subscriptions", "organizations_url": "https://api.github.com/users/0x5eba/orgs", "repos_url": "https://api.github.com/users/0x5eba/repos", "events_url": "https://api.github.com/users/0x5eba/events{/privacy}", "received_events_url": "https://api.github.com/users/0x5eba/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 242285642, "node_id": "MDU6TGFiZWwyNDIyODU2NDI=", "url": "https://api.github.com/repos/lyst/lightfm/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2018-07-20T09:18:50Z", "updated_at": "2018-11-15T17:11:16Z", "closed_at": "2018-07-20T11:04:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI am trying to feed multiple user features to my dataset, but I don't know how to do it in the right way.\r\n\r\nFor 1 feature:\r\n```python\r\nusers = pd.read_csv('./ml-1m/users.dat', sep='::', engine='python', \r\n                        names=['userid', 'gender', 'age', 'occupation', 'zip'])\r\nratings = pd.read_csv('./ml-1m/ratings.dat', engine='python', \r\n                          sep='::', names=['userid', 'movieid', 'rating', 'timestamp'])\r\nmovies = pd.read_csv('./ml-1m/movies.dat', engine='python',\r\n                         sep='::', names=['movieid', 'title', 'genre'])\r\n\r\ndataset = Dataset()\r\ndataset.fit(ratings['userid'], ratings['movieid'], user_features=set(users['age']), item_features=set(movies['genre']))\r\n\r\nuser_features = dataset.build_user_features( ((i[0], [users['age'][i[0]-1]]) for i in ratings.values) )\r\n```\r\n\r\nBut what should I do to add `users['gender']` and `users['age']` in user_features ?", "performed_via_github_app": null, "score": 1.0}]}