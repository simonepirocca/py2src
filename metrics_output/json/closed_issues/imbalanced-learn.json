{"total_count": 376, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/746", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/746/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/746/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/746/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/746", "id": 680218070, "node_id": "MDU6SXNzdWU2ODAyMTgwNzA=", "number": 746, "title": "[BUG] Test fails with newer scikit-learn", "user": {"login": "ckastner", "id": 15859947, "node_id": "MDQ6VXNlcjE1ODU5OTQ3", "avatar_url": "https://avatars0.githubusercontent.com/u/15859947?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ckastner", "html_url": "https://github.com/ckastner", "followers_url": "https://api.github.com/users/ckastner/followers", "following_url": "https://api.github.com/users/ckastner/following{/other_user}", "gists_url": "https://api.github.com/users/ckastner/gists{/gist_id}", "starred_url": "https://api.github.com/users/ckastner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ckastner/subscriptions", "organizations_url": "https://api.github.com/users/ckastner/orgs", "repos_url": "https://api.github.com/users/ckastner/repos", "events_url": "https://api.github.com/users/ckastner/events{/privacy}", "received_events_url": "https://api.github.com/users/ckastner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-08-17T13:01:22Z", "updated_at": "2020-08-17T18:03:54Z", "closed_at": "2020-08-17T18:03:54Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Test `test_classification_report_imbalanced_multiclass_with_unicode_label` fails with `scikit-learn >= 0.23.2` because the installed NumPy version representation has changed, see [MNT define a parse_version function in sklearn.utils.fixes](https://github.com/scikit-learn/scikit-learn/commit/c29092d6994a43ea19a82e91c0331e8b7d6e7d36#diff-329170b5852c0662b9d3e1a950663801).\r\n\r\n```python\r\n=================================== FAILURES ===================================\r\n_____ test_classification_report_imbalanced_multiclass_with_unicode_label ______\r\n\r\n    def test_classification_report_imbalanced_multiclass_with_unicode_label():\r\n        y_true, y_pred, _ = make_prediction(binary=False)\r\n    \r\n        labels = np.array([\"blue\\xa2\", \"green\\xa2\", \"red\\xa2\"])\r\n        y_true = labels[y_true]\r\n        y_pred = labels[y_pred]\r\n    \r\n        expected_report = (\r\n            \"pre rec spe f1 geo iba sup blue\u00a2 0.83 0.79 0.92 0.81 \"\r\n            \"0.85 0.72 24 green\u00a2 0.33 0.10 0.86 0.15 0.29 0.08 31 \"\r\n            \"red\u00a2 0.42 0.90 0.55 0.57 0.70 0.51 20 avg / total \"\r\n            \"0.51 0.53 0.80 0.47 0.58 0.40 75\"\r\n        )\r\n>       if np_version[:3] < (1, 7, 0):\r\nE       TypeError: 'Version' object is not subscriptable\r\n```\r\n\r\nI will submit a PR with a proposed change of bumping the dependency to 0.23.2, and updating the comparison.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/744", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/744/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/744/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/744/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/744", "id": 678958180, "node_id": "MDU6SXNzdWU2Nzg5NTgxODA=", "number": 744, "title": "AttributeError: 'SMOTE' object has no attribute '_validate_data'", "user": {"login": "tvkpz", "id": 8055298, "node_id": "MDQ6VXNlcjgwNTUyOTg=", "avatar_url": "https://avatars1.githubusercontent.com/u/8055298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tvkpz", "html_url": "https://github.com/tvkpz", "followers_url": "https://api.github.com/users/tvkpz/followers", "following_url": "https://api.github.com/users/tvkpz/following{/other_user}", "gists_url": "https://api.github.com/users/tvkpz/gists{/gist_id}", "starred_url": "https://api.github.com/users/tvkpz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tvkpz/subscriptions", "organizations_url": "https://api.github.com/users/tvkpz/orgs", "repos_url": "https://api.github.com/users/tvkpz/repos", "events_url": "https://api.github.com/users/tvkpz/events{/privacy}", "received_events_url": "https://api.github.com/users/tvkpz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-08-14T07:22:38Z", "updated_at": "2020-08-15T03:16:41Z", "closed_at": "2020-08-15T03:16:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get the following error for this piece of code:\r\n\r\n```\r\nfrom imblearn.over_sampling import SMOTE\r\noversample = SMOTE()\r\nX_resampled, y_resampled = oversample.fit_resample(X, y)\r\n\r\nAttributeError: 'SMOTE' object has no attribute '_validate_data'\r\n```\r\n\r\nThis could be an issue with the library versions as this code is run Ok with the same data before. Here is the list of libraries:\r\n\r\n```\r\n!import platform; print(platform.platform())\r\n!import sys; print(\"Python\", sys.version)\r\n!import numpy; print(\"NumPy\", numpy.__version__)\r\n!import scipy; print(\"SciPy\", scipy.__version__)\r\n!import sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\n!import imblearn; print(\"Imblearn\", imblearn.__version__)\r\n\r\nLinux-4.14.186-110.268.amzn1.x86_64-x86_64-with-glibc2.9\r\nPython 3.6.10 |Anaconda, Inc.| (default, Mar 25 2020, 23:51:54) \r\n[GCC 7.3.0]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nScikit-Learn 0.22.1\r\nImblearn 0.7.0\r\n```\r\n\r\nAny advice what might have gone wrong?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/740", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/740/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/740/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/740/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/740", "id": 676043283, "node_id": "MDU6SXNzdWU2NzYwNDMyODM=", "number": 740, "title": "Import imblearn.keras to use BalancedBatchGenerator issue", "user": {"login": "GingerPhysicist6", "id": 55626027, "node_id": "MDQ6VXNlcjU1NjI2MDI3", "avatar_url": "https://avatars3.githubusercontent.com/u/55626027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GingerPhysicist6", "html_url": "https://github.com/GingerPhysicist6", "followers_url": "https://api.github.com/users/GingerPhysicist6/followers", "following_url": "https://api.github.com/users/GingerPhysicist6/following{/other_user}", "gists_url": "https://api.github.com/users/GingerPhysicist6/gists{/gist_id}", "starred_url": "https://api.github.com/users/GingerPhysicist6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GingerPhysicist6/subscriptions", "organizations_url": "https://api.github.com/users/GingerPhysicist6/orgs", "repos_url": "https://api.github.com/users/GingerPhysicist6/repos", "events_url": "https://api.github.com/users/GingerPhysicist6/events{/privacy}", "received_events_url": "https://api.github.com/users/GingerPhysicist6/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-08-10T10:48:39Z", "updated_at": "2020-08-11T12:31:08Z", "closed_at": "2020-08-11T12:31:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to import imblearn.keras to use BalancedBatchGenerator. When it is imported and my model is run I get the error \"TypeError: duplicate base class Sequence\" caused by this import. I am using the up to date versions. Can anyone help with what I need to do to fix this issue? \r\n\r\nOther imports used include:\r\n- from keras.models import Sequential\r\n- from keras import layers\r\n- from keras.activations import relu, sigmoid\r\n- from keras.preprocessing.image import ImageDataGenerator", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/737", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/737/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/737/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/737/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/737", "id": 666833836, "node_id": "MDU6SXNzdWU2NjY4MzM4MzY=", "number": 737, "title": "TypeError: duplicate base class Sequence", "user": {"login": "hanzigs", "id": 30790120, "node_id": "MDQ6VXNlcjMwNzkwMTIw", "avatar_url": "https://avatars1.githubusercontent.com/u/30790120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hanzigs", "html_url": "https://github.com/hanzigs", "followers_url": "https://api.github.com/users/hanzigs/followers", "following_url": "https://api.github.com/users/hanzigs/following{/other_user}", "gists_url": "https://api.github.com/users/hanzigs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hanzigs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hanzigs/subscriptions", "organizations_url": "https://api.github.com/users/hanzigs/orgs", "repos_url": "https://api.github.com/users/hanzigs/repos", "events_url": "https://api.github.com/users/hanzigs/events{/privacy}", "received_events_url": "https://api.github.com/users/hanzigs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-28T07:26:26Z", "updated_at": "2020-07-29T08:28:03Z", "closed_at": "2020-07-28T07:30:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nUsing TensorFlow 2.3.0\r\nAfter importing tensorflow if I import \r\n```\r\nfrom imblearn.combine import SMOTEENN, SMOTETomek\r\n```\r\nI am getting\r\n```\r\nfrom imblearn.combine import SMOTEENN, SMOTETomek\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-8-6cc89e29ce89>\", line 1, in <module>\r\n    from imblearn.combine import SMOTEENN, SMOTETomek\r\n\r\n  File \"C:\\Users\\PG\\Anaconda3\\lib\\site-packages\\imblearn\\__init__.py\", line 37, in <module>\r\n    from . import keras\r\n\r\n  File \"C:\\Users\\PG\\Anaconda3\\lib\\site-packages\\imblearn\\keras\\__init__.py\", line 4, in <module>\r\n    from ._generator import BalancedBatchGenerator\r\n\r\n  File \"C:\\Users\\PG\\Anaconda3\\lib\\site-packages\\imblearn\\keras\\_generator.py\", line 59, in <module>\r\n    class BalancedBatchGenerator(*ParentClass):\r\n\r\nTypeError: duplicate base class Sequence\r\n```\r\nMay I know how to fix this please\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/736", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/736/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/736/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/736/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/736", "id": 665181830, "node_id": "MDU6SXNzdWU2NjUxODE4MzA=", "number": 736, "title": "how can the tool be used with \"larger than memory\" data scenario", "user": {"login": "yairdata", "id": 47001255, "node_id": "MDQ6VXNlcjQ3MDAxMjU1", "avatar_url": "https://avatars0.githubusercontent.com/u/47001255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yairdata", "html_url": "https://github.com/yairdata", "followers_url": "https://api.github.com/users/yairdata/followers", "following_url": "https://api.github.com/users/yairdata/following{/other_user}", "gists_url": "https://api.github.com/users/yairdata/gists{/gist_id}", "starred_url": "https://api.github.com/users/yairdata/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yairdata/subscriptions", "organizations_url": "https://api.github.com/users/yairdata/orgs", "repos_url": "https://api.github.com/users/yairdata/repos", "events_url": "https://api.github.com/users/yairdata/events{/privacy}", "received_events_url": "https://api.github.com/users/yairdata/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-24T13:49:03Z", "updated_at": "2020-08-11T12:50:58Z", "closed_at": "2020-08-11T12:50:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "i found the library very useful for scenario up to 1 million records , when i can read from a file on the disk and do under and over sampling.\r\nbut when i have data of several millions of records i can't transform it to from spark dataframe to Pandas , and i can't read the whole pandas dataframe from disk and do the under-sampling on it.\r\nis there a way to integrate it to big data tools like spark, or alternatively do the under-sampling incrementally so i can read the pandas data frame in chunks.\r\nthe alternative that i was left with is just do random undersampling before feeding it to the imblearn under-smapling, which take the stink out of the whole purpose of do intelligent under-sampling....\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/735", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/735/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/735/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/735/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/735", "id": 653554134, "node_id": "MDU6SXNzdWU2NTM1NTQxMzQ=", "number": 735, "title": "[DOC] Missing \"What's New\" for 0.7.0 and 0.6.0", "user": {"login": "swanderz", "id": 8158673, "node_id": "MDQ6VXNlcjgxNTg2NzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/8158673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/swanderz", "html_url": "https://github.com/swanderz", "followers_url": "https://api.github.com/users/swanderz/followers", "following_url": "https://api.github.com/users/swanderz/following{/other_user}", "gists_url": "https://api.github.com/users/swanderz/gists{/gist_id}", "starred_url": "https://api.github.com/users/swanderz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/swanderz/subscriptions", "organizations_url": "https://api.github.com/users/swanderz/orgs", "repos_url": "https://api.github.com/users/swanderz/repos", "events_url": "https://api.github.com/users/swanderz/events{/privacy}", "received_events_url": "https://api.github.com/users/swanderz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 728052805, "node_id": "MDU6TGFiZWw3MjgwNTI4MDU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/good%20first%20issue", "name": "good first issue", "color": "1acc9c", "default": true, "description": "Indicates a good issue for first-time contributors"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-08T19:52:02Z", "updated_at": "2020-07-28T04:52:08Z", "closed_at": "2020-07-28T04:52:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the issue linked to the documentation\r\n\r\nprobably a rookie mistake, but I saw in the description for Release 0.7.0\r\n> A release to bump the minimum version of scikit-learn to 0.23 with a couple of bug fixes.\r\nCheck the what's new for more information.\r\n\r\nWhen I go to the [\"whats_new\" page](https://imbalanced-learn.readthedocs.io/en/stable/whats_new.html), I don't see anything new since `0.5.0`.\r\n\r\nI _do_ [see it in the repo](https://github.com/scikit-learn-contrib/imbalanced-learn/blob/0.7.0/doc/whats_new/v0.7.rst) though...\r\n#### Suggest a potential alternative/fix\r\n\r\nDoes [https://imbalanced-learn.readthedocs.io](https://imbalanced-learn.readthedocs.io) have to be refreshed?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/734", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/734/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/734/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/734/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/734", "id": 651670573, "node_id": "MDU6SXNzdWU2NTE2NzA1NzM=", "number": 734, "title": "[BUG] SMOTE returns numpy array when resampling Pandas DataFrame", "user": {"login": "jimbudarz", "id": 692898, "node_id": "MDQ6VXNlcjY5Mjg5OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/692898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimbudarz", "html_url": "https://github.com/jimbudarz", "followers_url": "https://api.github.com/users/jimbudarz/followers", "following_url": "https://api.github.com/users/jimbudarz/following{/other_user}", "gists_url": "https://api.github.com/users/jimbudarz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimbudarz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimbudarz/subscriptions", "organizations_url": "https://api.github.com/users/jimbudarz/orgs", "repos_url": "https://api.github.com/users/jimbudarz/repos", "events_url": "https://api.github.com/users/jimbudarz/events{/privacy}", "received_events_url": "https://api.github.com/users/jimbudarz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-07-06T16:31:38Z", "updated_at": "2020-07-08T20:27:29Z", "closed_at": "2020-07-08T07:12:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nWhen a SMOTE object resampling a Pandas DataFrame, the returned object from the .fit_resample() method should also be a Pandas DataFrame. Instead it is returned as a numpy array.\r\n\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```python\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n```\r\nfrom imblearn.over_sampling import SMOTE\r\nsm = SMOTE(random_state=42)\r\nX_resampled, y_resampled = sm.fit_resample(X_train, y_train)\r\n```\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\nOutput would be `X_resampled, y_resampled` in the form of _Pandas DataFrame, Pandas Series_\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\nOutput is `X_resampled, y_resampled` in the form of _numpy array, numpy array_\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nFor scikit-learn >= 0.20:\r\nimport sklearn; sklearn.show_versions()\r\nFor scikit-learn < 0.20:\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\nUnfortunately I cannot give details about the playform, but the following are the important packages:\r\nPython 3.5.3\r\nNumPy 1.15.2\r\nSciPy 1.1.0\r\nScikit-Learn 0.20.0\r\nImbalanced-Learn 0.4.3\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/733", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/733/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/733/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/733/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/733", "id": 646026685, "node_id": "MDU6SXNzdWU2NDYwMjY2ODU=", "number": 733, "title": "installation", "user": {"login": "Venkat-Suresh", "id": 40165031, "node_id": "MDQ6VXNlcjQwMTY1MDMx", "avatar_url": "https://avatars1.githubusercontent.com/u/40165031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Venkat-Suresh", "html_url": "https://github.com/Venkat-Suresh", "followers_url": "https://api.github.com/users/Venkat-Suresh/followers", "following_url": "https://api.github.com/users/Venkat-Suresh/following{/other_user}", "gists_url": "https://api.github.com/users/Venkat-Suresh/gists{/gist_id}", "starred_url": "https://api.github.com/users/Venkat-Suresh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Venkat-Suresh/subscriptions", "organizations_url": "https://api.github.com/users/Venkat-Suresh/orgs", "repos_url": "https://api.github.com/users/Venkat-Suresh/repos", "events_url": "https://api.github.com/users/Venkat-Suresh/events{/privacy}", "received_events_url": "https://api.github.com/users/Venkat-Suresh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-26T05:52:58Z", "updated_at": "2020-06-29T06:57:53Z", "closed_at": "2020-06-29T06:57:43Z", "author_association": "NONE", "active_lock_reason": "off-topic", "body": "\r\nhow to download  **model_weights/weights.environment.h5** for Handwritten character recognition.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/732", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/732/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/732/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/732/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/732", "id": 644561120, "node_id": "MDU6SXNzdWU2NDQ1NjExMjA=", "number": 732, "title": "[BUG]", "user": {"login": "InextYou", "id": 46422673, "node_id": "MDQ6VXNlcjQ2NDIyNjcz", "avatar_url": "https://avatars3.githubusercontent.com/u/46422673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/InextYou", "html_url": "https://github.com/InextYou", "followers_url": "https://api.github.com/users/InextYou/followers", "following_url": "https://api.github.com/users/InextYou/following{/other_user}", "gists_url": "https://api.github.com/users/InextYou/gists{/gist_id}", "starred_url": "https://api.github.com/users/InextYou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/InextYou/subscriptions", "organizations_url": "https://api.github.com/users/InextYou/orgs", "repos_url": "https://api.github.com/users/InextYou/repos", "events_url": "https://api.github.com/users/InextYou/events{/privacy}", "received_events_url": "https://api.github.com/users/InextYou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-06-24T12:04:21Z", "updated_at": "2020-06-29T06:58:35Z", "closed_at": "2020-06-29T06:58:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nNot sure if a bug, but I can't find a solution to this one. \r\nWhen trying to call make_imbalance, i get an Error: AttributeError: 'RandomUnderSampler' object has no attribute '_validate_data'\r\nI was unable to find any fixes for this one. Seems like the make_imbalance method tries to make calls to outdated methods?\r\n\r\n#### Steps/Code to Reproduce\r\n```\r\nfrom sklearn.datasets import load_iris\r\ndata = load_iris()\r\nX, y = data.data, data.target\r\nprint('Distribution before imbalancing: afasdf')\r\n\r\nX_res, y_res = make_imbalance(X, y,\r\n                              sampling_strategy={0: 10, 1: 20, 2: 30},\r\n                              random_state=42)\r\nprint('Distribution after imbalancing: {}'.format(Counter(y_res)))\r\n\r\n```\r\nIm Running version 0.7. \r\n\r\nAny suggestions?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/731", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/731/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/731/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/731/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/731", "id": 644391642, "node_id": "MDU6SXNzdWU2NDQzOTE2NDI=", "number": 731, "title": "SyntaxError: invalid character in identifier", "user": {"login": "Venkat-Suresh", "id": 40165031, "node_id": "MDQ6VXNlcjQwMTY1MDMx", "avatar_url": "https://avatars1.githubusercontent.com/u/40165031?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Venkat-Suresh", "html_url": "https://github.com/Venkat-Suresh", "followers_url": "https://api.github.com/users/Venkat-Suresh/followers", "following_url": "https://api.github.com/users/Venkat-Suresh/following{/other_user}", "gists_url": "https://api.github.com/users/Venkat-Suresh/gists{/gist_id}", "starred_url": "https://api.github.com/users/Venkat-Suresh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Venkat-Suresh/subscriptions", "organizations_url": "https://api.github.com/users/Venkat-Suresh/orgs", "repos_url": "https://api.github.com/users/Venkat-Suresh/repos", "events_url": "https://api.github.com/users/Venkat-Suresh/events{/privacy}", "received_events_url": "https://api.github.com/users/Venkat-Suresh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-06-24T07:37:34Z", "updated_at": "2020-07-24T08:58:20Z", "closed_at": "2020-07-24T08:58:07Z", "author_association": "NONE", "active_lock_reason": null, "body": "**\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n**\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/729", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/729/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/729/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/729/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/729", "id": 642339511, "node_id": "MDU6SXNzdWU2NDIzMzk1MTE=", "number": 729, "title": "Is there any technique for regression problem here?", "user": {"login": "off99555", "id": 15215732, "node_id": "MDQ6VXNlcjE1MjE1NzMy", "avatar_url": "https://avatars3.githubusercontent.com/u/15215732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/off99555", "html_url": "https://github.com/off99555", "followers_url": "https://api.github.com/users/off99555/followers", "following_url": "https://api.github.com/users/off99555/following{/other_user}", "gists_url": "https://api.github.com/users/off99555/gists{/gist_id}", "starred_url": "https://api.github.com/users/off99555/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/off99555/subscriptions", "organizations_url": "https://api.github.com/users/off99555/orgs", "repos_url": "https://api.github.com/users/off99555/repos", "events_url": "https://api.github.com/users/off99555/events{/privacy}", "received_events_url": "https://api.github.com/users/off99555/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-20T08:58:15Z", "updated_at": "2020-06-22T07:38:23Z", "closed_at": "2020-06-22T07:38:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I saw a lot of techniques for classification. But my problem is a regression one. I have 10 regression outputs. E.g. eye blink vs eye not blink, mouth open vs mouth not open.\r\nMost of the time the person is not blinking the eyes and not opening the mouth, so it's an imbalance problem.\r\n\r\n**Does this repo have a regression technique?\r\nIf not, can you point me to a repo that can be used with `tf.keras.Model`?**\r\n\r\n\r\n===\r\nFollowing is the alternative to a complicated technique.\r\nMaybe I just need a simple solution like class weighting.\r\n\r\nIn classification, suppose you have 1 image labeled as cancer and 99 labeled as not cancer, you can just divide the loss weight of \"not cancer\" by 99.\r\nBut in regression, it's not trivial what number I need to use to divide. Suppose you regress the probability of cancer from 0 to 1 instead of classifying it, and someone has collected the dataset with probabilities. The dataset has cancer around 0.1 about 99% of the time and you have cancer around 0.9 about 1% of the time. But the dataset also have labels like 0.26, 0.3634, 0.753, 0.5, etc.\r\nIt's not clear what loss weight you need to use for cancer=0.26 or any other cancer probability.\r\n**Is there any formula to figure out the divisor for regression loss weight?**", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/728", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/728/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/728/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/728/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/728", "id": 639917368, "node_id": "MDU6SXNzdWU2Mzk5MTczNjg=", "number": 728, "title": "object has no attribute '_validte_data'", "user": {"login": "victorlifan", "id": 59151024, "node_id": "MDQ6VXNlcjU5MTUxMDI0", "avatar_url": "https://avatars1.githubusercontent.com/u/59151024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/victorlifan", "html_url": "https://github.com/victorlifan", "followers_url": "https://api.github.com/users/victorlifan/followers", "following_url": "https://api.github.com/users/victorlifan/following{/other_user}", "gists_url": "https://api.github.com/users/victorlifan/gists{/gist_id}", "starred_url": "https://api.github.com/users/victorlifan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/victorlifan/subscriptions", "organizations_url": "https://api.github.com/users/victorlifan/orgs", "repos_url": "https://api.github.com/users/victorlifan/repos", "events_url": "https://api.github.com/users/victorlifan/events{/privacy}", "received_events_url": "https://api.github.com/users/victorlifan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-16T19:25:02Z", "updated_at": "2020-06-16T19:38:31Z", "closed_at": "2020-06-16T19:37:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "first time using imbalanced learn, i apologize ahead if it is a silly question\r\nI keep getting error \"XXX object has no attribute '_validte_data'\", even though i try the exact same sample code I copy from the website i still get this error. so i went to check the resource code, I didn't find _validate_data attribute in fit function. What am i missing?\r\nI am using imblearn 0.7.0 \r\nsklearn 0.22.1\r\n![ba6c40dd-2024-4b3a-9072-bb864cb48968-original](https://user-images.githubusercontent.com/59151024/84818835-c3bf9500-afdc-11ea-8fc6-f8e85529d130.png)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/726", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/726/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/726/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/726/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/726", "id": 638772723, "node_id": "MDU6SXNzdWU2Mzg3NzI3MjM=", "number": 726, "title": "[BUG] 'RandomUnderSampler' object has no attribute '_validate_data'", "user": {"login": "daraghmatthews", "id": 11298316, "node_id": "MDQ6VXNlcjExMjk4MzE2", "avatar_url": "https://avatars0.githubusercontent.com/u/11298316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daraghmatthews", "html_url": "https://github.com/daraghmatthews", "followers_url": "https://api.github.com/users/daraghmatthews/followers", "following_url": "https://api.github.com/users/daraghmatthews/following{/other_user}", "gists_url": "https://api.github.com/users/daraghmatthews/gists{/gist_id}", "starred_url": "https://api.github.com/users/daraghmatthews/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daraghmatthews/subscriptions", "organizations_url": "https://api.github.com/users/daraghmatthews/orgs", "repos_url": "https://api.github.com/users/daraghmatthews/repos", "events_url": "https://api.github.com/users/daraghmatthews/events{/privacy}", "received_events_url": "https://api.github.com/users/daraghmatthews/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2020-06-15T11:24:14Z", "updated_at": "2020-07-17T09:06:42Z", "closed_at": "2020-06-15T13:57:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Describe the bug\r\nI am getting \"AttributeError: 'RandomUnderSampler' object has no attribute '_validate_data'\" when trying to run a simple RandomUnderSampler as described in the Imbalanced Learn usage example.\r\n\r\nVery similar to this bug: https://github.com/scikit-learn-contrib/imbalanced-learn/issues/528\r\nwhere the issue was deemed to be version incompatibility. However, I have checked and upgraded all appropraite versions and the problem persists.\r\n\r\n#### Steps/Code to Reproduce\r\nfrom collections import Counter\r\nfrom sklearn.datasets import make_classification\r\nfrom imblearn.under_sampling import RandomUnderSampler # doctest: +NORMALIZE_WHITESPACE\r\nX, y = make_classification(n_classes=2, class_sep=2,\r\n weights=[0.1, 0.9], n_informative=3, n_redundant=1, flip_y=0,\r\nn_features=20, n_clusters_per_class=1, n_samples=1000, random_state=10)\r\nprint('Original dataset shape %s' % Counter(y))\r\n\r\nrus = RandomUnderSampler(random_state=42)\r\nX_res, y_res = rus.fit_resample(X, y)\r\nprint('Resampled dataset shape %s' % Counter(y_res))\r\n\r\n\r\n#### Expected Results\r\nOriginal dataset shape Counter({1: 900, 0: 100})\r\nResampled dataset shape Counter({1: 100, 0: 100})\r\n\r\n#### Actual Results\r\n\r\nOriginal dataset shape Counter({1: 900, 0: 100})\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-29-f5fd4126216c> in <module>\r\n      8 \r\n      9 rus = RandomUnderSampler(random_state=42)\r\n---> 10 X_res, y_res = rus.fit_resample(X, y)\r\n     11 print('Resampled dataset shape %s' % Counter(y_res))\r\n\r\n/anaconda/envs/py37_tensorflow/lib/python3.7/site-packages/imblearn/base.py in fit_resample(self, X, y)\r\n     75         check_classification_targets(y)\r\n     76         arrays_transformer = ArraysTransformer(X, y)\r\n---> 77         X, y, binarize_y = self._check_X_y(X, y)\r\n     78 \r\n     79         self.sampling_strategy_ = check_sampling_strategy(\r\n\r\n/anaconda/envs/py37_tensorflow/lib/python3.7/site-packages/imblearn/under_sampling/_prototype_selection/_random_under_sampler.py in _check_X_y(self, X, y)\r\n     83     def _check_X_y(self, X, y):\r\n     84         y, binarize_y = check_target_type(y, indicate_one_vs_all=True)\r\n---> 85         X, y = self._validate_data(\r\n     86             X, y, reset=True, accept_sparse=[\"csr\", \"csc\"], dtype=None,\r\n     87             force_all_finite=False,\r\n\r\nAttributeError: 'RandomUnderSampler' object has no attribute '_validate_data'\r\n\r\n#### Versions\r\nLinux-5.3.0-1028-azure-x86_64-with-debian-buster-sid\r\nPython 3.7.6 (default, Jan  8 2020, 19:59:22) \r\n[GCC 7.3.0]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nScikit-Learn 0.22.1\r\nImbalanced Learn 0.7.0\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/725", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/725/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/725/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/725/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/725", "id": 638315571, "node_id": "MDU6SXNzdWU2MzgzMTU1NzE=", "number": 725, "title": "AttributeError: 'RandomOverSampler' object has no attribute '_validate_data'", "user": {"login": "ashu-vyas", "id": 33647837, "node_id": "MDQ6VXNlcjMzNjQ3ODM3", "avatar_url": "https://avatars2.githubusercontent.com/u/33647837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashu-vyas", "html_url": "https://github.com/ashu-vyas", "followers_url": "https://api.github.com/users/ashu-vyas/followers", "following_url": "https://api.github.com/users/ashu-vyas/following{/other_user}", "gists_url": "https://api.github.com/users/ashu-vyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashu-vyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashu-vyas/subscriptions", "organizations_url": "https://api.github.com/users/ashu-vyas/orgs", "repos_url": "https://api.github.com/users/ashu-vyas/repos", "events_url": "https://api.github.com/users/ashu-vyas/events{/privacy}", "received_events_url": "https://api.github.com/users/ashu-vyas/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-14T09:20:10Z", "updated_at": "2020-06-14T22:53:44Z", "closed_at": "2020-06-14T14:42:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI received the attribute error when using the BorderlineSMOTE or RandomOverSampler classes. Here I have just mentioned about the random sampler. Though my main dataset is different, just to test the working, I have used the example as mentioned on the respective class API page and still getting the same error.\r\n\r\nAs a trial, I had tried to uninstall and then reinstall the imbalanced-learn package in my conda environment using, `conda remove imbalanced-learn` as well as `conda remove --force imbalanced-learn` Both of which did reinstall the imbalanced-learn 0.7.0, but the error still popped up when running the example code.\r\n\r\nIn addition to this, I had cloned the base/root environment of Anaconda, left untouched since installation as I work in a different environment, but still received the same error on fresh installation of imblearn.\r\n\r\n#### Steps/Code to Reproduce\r\nExample code from the API documentation\r\n```\r\nfrom collections import Counter\r\nfrom sklearn.datasets import make_classification\r\nfrom imblearn.over_sampling import RandomOverSampler # doctest: +NORMALIZE_WHITESPACE\r\n\r\nX, y = make_classification(n_classes=2, class_sep=2, weights=[0.1, 0.9], \r\nn_informative=3, n_redundant=1, flip_y=0, n_features=20, \r\nn_clusters_per_class=1, n_samples=1000, random_state=10)\r\n\r\nprint('Original dataset shape %s' % Counter(y))\r\n\r\nros = RandomOverSampler(random_state=42)\r\nX_res, y_res = ros.fit_resample(X, y)\r\nprint('Resampled dataset shape %s' % Counter(y_res))\r\n```\r\n\r\n#### Expected Results\r\n`Original dataset shape Counter({1: 900, 0: 100})`\r\n`Resampled dataset shape Counter({0: 900, 1: 900})`\r\n\r\n#### Actual Results\r\n```\r\nTraceback (most recent call last):\r\n\r\n  File \"/media/ashutosh/Predictive_Maintenance/gibberish.py\", line 418, in <module>\r\n    X_res, y_res = ros.fit_resample(X, y)\r\n\r\n  File \"/home/ashutosh/anaconda3/envs/py37env/lib/python3.7/site-packages/imblearn/base.py\", line 77, in fit_resample\r\n    X, y, binarize_y = self._check_X_y(X, y)\r\n\r\n  File \"/home/ashutosh/anaconda3/envs/py37env/lib/python3.7/site-packages/imblearn/over_sampling/_random_over_sampler.py\", line 79, in _check_X_y\r\n    X, y = self._validate_data(\r\n\r\nAttributeError: 'RandomOverSampler' object has no attribute '_validate_data'\r\n```\r\n\r\n#### Versions\r\nExcept the standard Anaconda installation, other packages I have installed are XGBoost, LightGBM and Tensorflow with Keras, which are running fine.\r\n```\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n\r\nLinux-5.4.0-37-generic-x86_64-with-debian-bullseye-sid\r\nPython 3.7.7 (default, Mar 26 2020, 15:48:22) \r\n[GCC 7.3.0]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nScikit-Learn 0.22.1\r\nImbalanced-Learn 0.7.0\r\n```\r\n\r\nPlease let me know what could I be doing wrong here.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/723", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/723/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/723/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/723/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/723", "id": 636987653, "node_id": "MDU6SXNzdWU2MzY5ODc2NTM=", "number": 723, "title": "RandomUnderSampler' object has no attribute '_validate_data", "user": {"login": "Abonia1", "id": 22887323, "node_id": "MDQ6VXNlcjIyODg3MzIz", "avatar_url": "https://avatars1.githubusercontent.com/u/22887323?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Abonia1", "html_url": "https://github.com/Abonia1", "followers_url": "https://api.github.com/users/Abonia1/followers", "following_url": "https://api.github.com/users/Abonia1/following{/other_user}", "gists_url": "https://api.github.com/users/Abonia1/gists{/gist_id}", "starred_url": "https://api.github.com/users/Abonia1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Abonia1/subscriptions", "organizations_url": "https://api.github.com/users/Abonia1/orgs", "repos_url": "https://api.github.com/users/Abonia1/repos", "events_url": "https://api.github.com/users/Abonia1/events{/privacy}", "received_events_url": "https://api.github.com/users/Abonia1/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-06-11T12:51:32Z", "updated_at": "2020-07-29T23:37:35Z", "closed_at": "2020-06-11T14:18:32Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### 'RandomUnderSampler' object has no attribute '_validate_data'\r\nI get this error while i try to use RandomUnderSampler in my code.I have added the screenshot with this bug report.\r\n\r\nINSTALLED VERSION:\r\n\r\n imbalanced-learn   conda-forge/noarch::imbalanced-learn-0.7.0-py_0\r\n\r\n#### Steps/Code to Reproduce\r\n\r\n#Random Oversampling: Randomly duplicate examples in the minority class.\r\n#Random Undersampling: Randomly delete examples in the majority class.\r\n\r\nsampler = RandomUnderSampler(random_state=42,replacement=True)\r\nX_rs, y_rs = sampler.fit_resample(train_features, train_labels)\r\n\r\nsmote = SMOTE(ratio='not majority')\r\nX_train_smote, y_train_smote = smote.fit_sample(train_features,train_labels)\r\n\r\ntl = TomekLinks(return_indices=True, ratio='majority')\r\nX_tomek, y_tomek, id_tomek = tl.fit_sample(train_features, train_labels)\r\n\r\n#TOMEK AND SMOTE\r\n#X_train_tomek, y_train_tomek, id_tomek = tl.fit_sample(X_train_smote, y_train_smote)\r\n\r\n![image](https://user-images.githubusercontent.com/22887323/84387206-ecb5e380-abf2-11ea-982a-a21e87e7b94b.png)\r\n\r\nIf anyone have already cme across this bug please let me know.\r\nThank you :)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/717", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/717/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/717/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/717/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/717", "id": 634847881, "node_id": "MDU6SXNzdWU2MzQ4NDc4ODE=", "number": 717, "title": "Force to use keyword only argument", "user": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-06-08T18:45:41Z", "updated_at": "2020-06-09T10:13:53Z", "closed_at": "2020-06-09T10:13:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "scikit-learn moved toward using keyword only argument with a deprecation cycle. I think this would be the right time to impose something similar.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/714", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/714/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/714/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/714/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/714", "id": 627909184, "node_id": "MDU6SXNzdWU2Mjc5MDkxODQ=", "number": 714, "title": "ImportError: cannot import name 'six'", "user": {"login": "souravs17031999", "id": 33771969, "node_id": "MDQ6VXNlcjMzNzcxOTY5", "avatar_url": "https://avatars0.githubusercontent.com/u/33771969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/souravs17031999", "html_url": "https://github.com/souravs17031999", "followers_url": "https://api.github.com/users/souravs17031999/followers", "following_url": "https://api.github.com/users/souravs17031999/following{/other_user}", "gists_url": "https://api.github.com/users/souravs17031999/gists{/gist_id}", "starred_url": "https://api.github.com/users/souravs17031999/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/souravs17031999/subscriptions", "organizations_url": "https://api.github.com/users/souravs17031999/orgs", "repos_url": "https://api.github.com/users/souravs17031999/repos", "events_url": "https://api.github.com/users/souravs17031999/events{/privacy}", "received_events_url": "https://api.github.com/users/souravs17031999/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-31T07:17:37Z", "updated_at": "2020-05-31T07:27:53Z", "closed_at": "2020-05-31T07:27:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nIn the latest version of scikit-learn, importing imblearn gives the following error :\r\n```\r\nImportError: cannot import name 'six'\r\n```\r\nNote : I am running the code on google colab.\r\n\r\n#### Steps/Code to Reproduce\r\n```\r\nfrom imblearn.over_sampling import ADASYN, SMOTE, RandomOverSampler\r\n```\r\n#### Expected Results\r\nIt should have imported smoothly without giving any errors.\r\nI tried running this on last versions and the latest it ran was with scikit-learn version : 0.22.2.post1 also , giving warnings:\r\n```\r\nFutureWarning: The module is deprecated in version 0.21 and will be removed in version 0.23 since we've dropped support for Python 2.7. Please rely on the official version of six (https://pypi.org/project/six/).\r\n  \"(https://pypi.org/project/six/).\", FutureWarning)\r\n```\r\n#### Actual Results\r\n![importerrir](https://user-images.githubusercontent.com/33771969/83346659-2d347800-a33c-11ea-9c40-35f607aa8b1d.JPG)\r\n\r\n#### Versions\r\nLinux-4.19.104+-x86_64-with-Ubuntu-18.04-bionic\r\nPython 3.6.9 (default, Apr 18 2020, 01:56:04) \r\n[GCC 8.4.0]\r\nNumPy 1.18.4\r\nSciPy 1.4.1\r\nScikit-Learn 0.23.1\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/713", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/713/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/713/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/713/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/713", "id": 626074553, "node_id": "MDU6SXNzdWU2MjYwNzQ1NTM=", "number": 713, "title": "balanced_batch_generator for tensorflow doesn't work", "user": {"login": "sayeg84", "id": 20233700, "node_id": "MDQ6VXNlcjIwMjMzNzAw", "avatar_url": "https://avatars2.githubusercontent.com/u/20233700?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sayeg84", "html_url": "https://github.com/sayeg84", "followers_url": "https://api.github.com/users/sayeg84/followers", "following_url": "https://api.github.com/users/sayeg84/following{/other_user}", "gists_url": "https://api.github.com/users/sayeg84/gists{/gist_id}", "starred_url": "https://api.github.com/users/sayeg84/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sayeg84/subscriptions", "organizations_url": "https://api.github.com/users/sayeg84/orgs", "repos_url": "https://api.github.com/users/sayeg84/repos", "events_url": "https://api.github.com/users/sayeg84/events{/privacy}", "received_events_url": "https://api.github.com/users/sayeg84/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2020-05-27T22:22:52Z", "updated_at": "2020-06-10T18:44:21Z", "closed_at": "2020-06-09T08:17:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "\r\n#### Description\r\n\r\nAs far as I can concern, the objectice of `balanced_batch_generator(X,y)` is to generate a keras generator such that each batch taken from it is balanced regarding the proportions of classes in `y`, along with the necesary number of steps per epoch.\r\n\r\nHowever, I don't seem to be able to get that neither the balanced batches nor the the correct steps per epoch when trying with the MNIST data set.\r\n\r\n#### Steps/Code to Reproduce\r\n```python\r\n\r\nimport numpy as np\r\nimport tensorflow as tf\r\nfrom imblearn.tensorflow import balanced_batch_generator\r\n(X_train,y_train),(X_test,y_test) = tf.keras.datasets.mnist.load_data()\r\nX_train = X_train.reshape(X_train.shape[0],X_train.shape[1]**2)\r\nX_test = X_test.reshape(X_test.shape[0],X_test.shape[1]**2)\r\nproportions = np.histogram(y_train,bins=10)[0]\r\nproportions = 1/sum(proportions)*proportions\r\nprint(\"Original proportion of classes:\")\r\nprint(proportions)\r\ngenerator = balanced_batch_generator(X_train,y_train,batch_size=128)\r\n# Error 1: batchsize * steps_per_epoch doesnt match the number of observations\r\nprint(\"Number of observations: \", end=\"\")\r\nprint(X_train.shape[0])\r\nprint(\"batches*steps_per_epoch: \",end=\"\")\r\nprint(generator[1]*128)\r\n# Error 2: data taken from the generator is not balanced\r\ni = 0\r\nfor data in generator[0]:\r\n    i = i +1\r\n    classes = data[1]\r\n    print(\"Batch length: \",end=\"\")\r\n    print(len(classes))\r\n    prop = np.histogram(classes,bins=10)\r\n    print(\"Batch class proportions:\")\r\n    print(prop[0]/sum(prop[0]))\r\n    if i == 5:\r\n        break\r\n\r\n```\r\n#### Expected Results\r\n\r\nOriginal proportion of classes:\r\n[0.09871667 0.11236667 0.0993     0.10218333 0.09736667 0.09035 0.09863333 0.10441667 0.09751667 0.09915   ]\r\nNumber of observations: 60000\r\nbatches*steps_per_epoch: 59904\r\nBatch class proportions:\r\n[0.09871667 0.11236667 0.0993     0.10218333 0.09736667 0.09035 0.09863333 0.10441667 0.09751667 0.09915   ]\r\nBatch length: 128\r\nBatch class proportions:\r\n[0.09871667 0.11236667 0.0993     0.10218333 0.09736667 0.09035 0.09863333 0.10441667 0.09751667 0.09915   ]\r\nBatch length: 128\r\nBatch class proportions:\r\n[0.09871667 0.11236667 0.0993     0.10218333 0.09736667 0.09035 0.09863333 0.10441667 0.09751667 0.09915   ]\r\nBatch length: 128\r\nBatch class proportions:\r\n[0.09871667 0.11236667 0.0993     0.10218333 0.09736667 0.09035 0.09863333 0.10441667 0.09751667 0.09915   ]\r\nBatch length: 128\r\nBatch class proportions:\r\n[0.09871667 0.11236667 0.0993     0.10218333 0.09736667 0.09035 0.09863333 0.10441667 0.09751667 0.09915   ]\r\n\r\n#### Actual Results\r\n\r\nOriginal proportion of classes:\r\n[0.09871667 0.11236667 0.0993     0.10218333 0.09736667 0.09035 0.09863333 0.10441667 0.09751667 0.09915   ]\r\nNumber of observations: 60000\r\nbatches*steps_per_epoch: 54144\r\nBatch class proportions:\r\n[0.0703125 0.125     0.1015625 0.09375   0.171875  0.078125  0.078125 0.078125  0.1015625 0.1015625]\r\nBatch length: 128\r\nBatch class proportions:\r\n[0.109375  0.1171875 0.0859375 0.125     0.1015625 0.0625    0.078125 0.1328125 0.109375  0.078125 ]\r\nBatch length: 128\r\nBatch class proportions:\r\n[0.1015625 0.1953125 0.0546875 0.0859375 0.078125  0.0546875 0.109375 0.125     0.0859375 0.109375 ]\r\nBatch length: 128\r\nBatch class proportions:\r\n[0.125     0.046875  0.1015625 0.0625    0.0625    0.0703125 0.1328125 0.0703125 0.1640625 0.1640625]\r\nBatch length: 128\r\nBatch class proportions:\r\n[0.046875  0.1171875 0.109375  0.078125  0.09375   0.09375   0.0859375 0.09375   0.15625   0.125    ]\r\n\r\n\r\n#### Versions\r\n\r\nLinux-4.15.0-101-generic-x86_64-with-Ubuntu-18.04-bionic\r\nPython 3.6.9 (default, Apr 18 2020, 01:56:04) \r\n[GCC 8.4.0]\r\nNumPy 1.18.4\r\nSciPy 1.4.1\r\nScikit-Learn 0.22.2.post1\r\nImbalanced-Learn 0.6.2\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/712", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/712/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/712/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/712/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/712", "id": 624833374, "node_id": "MDU6SXNzdWU2MjQ4MzMzNzQ=", "number": 712, "title": "How to get sample_indices_ from SMOTE", "user": {"login": "yonashub", "id": 18483226, "node_id": "MDQ6VXNlcjE4NDgzMjI2", "avatar_url": "https://avatars1.githubusercontent.com/u/18483226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yonashub", "html_url": "https://github.com/yonashub", "followers_url": "https://api.github.com/users/yonashub/followers", "following_url": "https://api.github.com/users/yonashub/following{/other_user}", "gists_url": "https://api.github.com/users/yonashub/gists{/gist_id}", "starred_url": "https://api.github.com/users/yonashub/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yonashub/subscriptions", "organizations_url": "https://api.github.com/users/yonashub/orgs", "repos_url": "https://api.github.com/users/yonashub/repos", "events_url": "https://api.github.com/users/yonashub/events{/privacy}", "received_events_url": "https://api.github.com/users/yonashub/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-26T12:08:05Z", "updated_at": "2020-06-08T18:14:14Z", "closed_at": "2020-06-08T18:14:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n\r\nWhen trying to perform SMOTE upsampling with keras i found error ValueError: 'sampler' needs to have an attribute 'sample_indices_' . However the dafault keras undersampling example has this attribute, which SMOTE doesn't. How it be fixed?\r\n#### Steps/Code to Reproduce\r\n\r\nExample:\r\n```\r\nfrom imblearn.over_sampling import SMOTE, RandomOverSampler\r\ntraining_generator, steps_per_epoch = balanced_batch_generator(    X, y, sampler=SMOTE(), batch_size=10, random_state=42)\r\ncallback_history = model.fit_generator(generator=training_generator,\r\n...                                        steps_per_epoch=steps_per_epoch,\r\n...                                        epochs=10, verbose=0)\r\n```\r\n\r\n\r\n#### Expected Results\r\nExample: No error is thrown. Please paste or describe the expected results. \r\n\r\n#### Actual Results\r\n\r\nValueError: 'sampler' needs to have an attribute 'sample_indices_'.\r\n\r\n\r\n#### Versions\r\n\r\nPlease run the following snippet and paste the output below.\r\nPython 3.6.5 (default, Jun 17 2018, 12:13:06) \r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nScikit-Learn 0.22.1\r\nImbalanced-Learn 0.6.2\r\n\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n\r\nThe below code is the part that handles this issue:\r\n\r\n```\r\n\r\nrandom_state = check_random_state(random_state)\r\nif sampler is None:\r\n    sampler_ = RandomUnderSampler(random_state=random_state)\r\nelse:\r\n    sampler_ = clone(sampler)\r\nsampler_.fit_resample(X, y)\r\nif not hasattr(sampler_, \"sample_indices_\"):\r\n    raise ValueError(\r\n        \"'sampler' needs to have an attribute \" \"'sample_indices_'.\"\r\n    )\r\n```\r\n\r\nAs it can be seen in the above code sample_indices_ is required to use SMOTE with imblearn.keras.balanced_batch_generator.html", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/709", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/709/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/709/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/709/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/709", "id": 623527783, "node_id": "MDU6SXNzdWU2MjM1Mjc3ODM=", "number": 709, "title": "Unable to use sampling_strategy weights", "user": {"login": "avishwanath28", "id": 45737928, "node_id": "MDQ6VXNlcjQ1NzM3OTI4", "avatar_url": "https://avatars1.githubusercontent.com/u/45737928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/avishwanath28", "html_url": "https://github.com/avishwanath28", "followers_url": "https://api.github.com/users/avishwanath28/followers", "following_url": "https://api.github.com/users/avishwanath28/following{/other_user}", "gists_url": "https://api.github.com/users/avishwanath28/gists{/gist_id}", "starred_url": "https://api.github.com/users/avishwanath28/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/avishwanath28/subscriptions", "organizations_url": "https://api.github.com/users/avishwanath28/orgs", "repos_url": "https://api.github.com/users/avishwanath28/repos", "events_url": "https://api.github.com/users/avishwanath28/events{/privacy}", "received_events_url": "https://api.github.com/users/avishwanath28/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-23T00:07:06Z", "updated_at": "2020-06-08T23:14:29Z", "closed_at": "2020-06-08T23:14:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to use sampling_strategy with a dict of sample counts, but it fails on me. See example code below:\r\n\r\n```\r\nimport pandas as pd\r\nfrom sklearn.datasets import load_iris\r\nfrom imblearn.ensemble import BalancedRandomForestClassifier\r\nimport numpy as np\r\n\r\niris = load_iris()\r\nprint(iris)\r\n\r\nX = iris.data\r\ny = iris.target\r\nX = X[40:,:]\r\ny = y[40:]\r\n\r\ny = pd.DataFrame(y)\r\ny.replace({0: 'setosa', 1: 'versicolor', 2: 'virginica'}, inplace=True)\r\ny = np.array(y)\r\n\r\nclf = BalancedRandomForestClassifier(sampling_strategy = {\"setosa\": 5, \"versicolor\": 10, \"virginica\": 5})\r\n\r\nclf.fit(X,y)\r\n```\r\n\r\nWhen I do this, I get the following error `ValueError: The {'setosa', 'virginica', 'versicolor'} target class is/are not present in the data.` I saw this issue https://github.com/scikit-learn-contrib/imbalanced-learn/issues/518 and the last reply suggested using onehotencoder to fix the issue. But that still doesn't work (see below for modified code)\r\n\r\n```\r\nonehotencoder = OneHotEncoder(categories='auto')\r\ny = onehotencoder.fit_transform(y.reshape(-1,1))\r\nprint(y)\r\n\r\nclf = BalancedRandomForestClassifier(sampling_strategy = {0: 5, 1: 10, 2: 5})\r\nclf.fit(X,y)\r\n```\r\nThen, I get the following error message: `ValueError: Unknown label type: 'unknown'`\r\n\r\nI'm ideally trying to get the fitted class probabilities from this model. It works fine if I used balanced sampling, but I have target samples I know that I want to hit. Any advice?\r\n\r\nVersions:\r\nDarwin-19.3.0-x86_64-i386-64bit\r\nPython 3.7.2 (v3.7.2:9a3ffc0492, Dec 24 2018, 02:44:43) \r\nNumPy 1.16.4\r\nSciPy 1.4.1\r\nScikit-Learn 0.23.0\r\nImbalanced-Learn 0.6.2", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/708", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/708/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/708/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/708/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/708", "id": 621091028, "node_id": "MDU6SXNzdWU2MjEwOTEwMjg=", "number": 708, "title": "SMOTE is giving array size / ValueError for all-categorical dataset", "user": {"login": "gladmortal", "id": 8189413, "node_id": "MDQ6VXNlcjgxODk0MTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/8189413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gladmortal", "html_url": "https://github.com/gladmortal", "followers_url": "https://api.github.com/users/gladmortal/followers", "following_url": "https://api.github.com/users/gladmortal/following{/other_user}", "gists_url": "https://api.github.com/users/gladmortal/gists{/gist_id}", "starred_url": "https://api.github.com/users/gladmortal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gladmortal/subscriptions", "organizations_url": "https://api.github.com/users/gladmortal/orgs", "repos_url": "https://api.github.com/users/gladmortal/repos", "events_url": "https://api.github.com/users/gladmortal/events{/privacy}", "received_events_url": "https://api.github.com/users/gladmortal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-05-19T15:50:52Z", "updated_at": "2020-06-08T18:54:16Z", "closed_at": "2020-06-08T18:54:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using SMOTE-NC for oversampling my categorical data. I have only 1 feature and 10500 samples.\r\n\r\nWhile running the below code, I am getting the error:\r\n\r\n```\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-151-a261c423a6d8> in <module>()\r\n     16 print(X_new.shape) # (10500, 1)\r\n     17 print(X_new)\r\n---> 18 sm.fit_sample(X_new, Y_new)\r\n\r\n~\\AppData\\Local\\Continuum\\Miniconda3\\envs\\data-science\\lib\\site-packages\\imblearn\\base.py in fit_resample(self, X, y)\r\n     81         )\r\n     82 \r\n---> 83         output = self._fit_resample(X, y)\r\n     84 \r\n     85         y_ = (label_binarize(output[1], np.unique(y))\r\n\r\n~\\AppData\\Local\\Continuum\\Miniconda3\\envs\\data-science\\lib\\site-packages\\imblearn\\over_sampling\\_smote.py in _fit_resample(self, X, y)\r\n    926 \r\n    927         X_continuous = X[:, self.continuous_features_]\r\n--> 928         X_continuous = check_array(X_continuous, accept_sparse=[\"csr\", \"csc\"])\r\n    929         X_minority = _safe_indexing(\r\n    930             X_continuous, np.flatnonzero(y == class_minority)\r\n\r\n~\\AppData\\Local\\Continuum\\Miniconda3\\envs\\data-science\\lib\\site-packages\\sklearn\\utils\\validation.py in check_array(array, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, ensure_min_samples, ensure_min_features, warn_on_dtype, estimator)\r\n    592                              \" a minimum of %d is required%s.\"\r\n    593                              % (n_features, array.shape, ensure_min_features,\r\n--> 594                                 context))\r\n    595 \r\n    596     if warn_on_dtype and dtype_orig is not None and array.dtype != dtype_orig:\r\n\r\nValueError: Found array with 0 feature(s) (shape=(10500, 0)) while a minimum of 1 is required.\r\n\r\n```\r\n\r\nCode:\r\n\r\n```\r\nfrom imblearn.over_sampling import SMOTE\r\nfrom imblearn.over_sampling import SMOTENC\r\n\r\nsm = SMOTENC(random_state=27,categorical_features=[0,])\r\n\r\nX_new = np.array(X_train.values.tolist())\r\nY_new = np.array(y_train.values.tolist())\r\n\r\nprint(X_new.shape) # (10500,)\r\nprint(Y_new.shape) # (10500,)\r\n\r\nX_new = np.reshape(X_new, (-1, 1)) # SMOTE require 2-D Array, Hence changing the shape of X_mew\r\n\r\nprint(X_new.shape) # (10500, 1)\r\nprint(X_new)\r\nsm.fit_sample(X_new, Y_new)\r\n```\r\n\r\nIf i understand correctly, the shape of X_new should be (n_samples, n_features) which is 10500 X 1. I am not sure why in the ValueError it is considering it as shape=(10500,0)\r\n\r\nCan someone please help me here, Can SMOTE-NC work on Single feature ?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/705", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/705/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/705/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/705/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/705", "id": 600792992, "node_id": "MDU6SXNzdWU2MDA3OTI5OTI=", "number": 705, "title": "ValueError: could not convert string to float: 'female'", "user": {"login": "dhwprnjs827", "id": 63773860, "node_id": "MDQ6VXNlcjYzNzczODYw", "avatar_url": "https://avatars0.githubusercontent.com/u/63773860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dhwprnjs827", "html_url": "https://github.com/dhwprnjs827", "followers_url": "https://api.github.com/users/dhwprnjs827/followers", "following_url": "https://api.github.com/users/dhwprnjs827/following{/other_user}", "gists_url": "https://api.github.com/users/dhwprnjs827/gists{/gist_id}", "starred_url": "https://api.github.com/users/dhwprnjs827/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dhwprnjs827/subscriptions", "organizations_url": "https://api.github.com/users/dhwprnjs827/orgs", "repos_url": "https://api.github.com/users/dhwprnjs827/repos", "events_url": "https://api.github.com/users/dhwprnjs827/events{/privacy}", "received_events_url": "https://api.github.com/users/dhwprnjs827/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1989213495, "node_id": "MDU6TGFiZWwxOTg5MjEzNDk1", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Status:%20More%20Info%20Needed", "name": "Status: More Info Needed", "color": "eeeeee", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-04-16T06:54:37Z", "updated_at": "2020-06-08T18:15:41Z", "closed_at": "2020-06-08T18:15:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "X=rm_df.drop(['Name','Ticket','Cabin'],axis=1)\r\ny=rm_df['Sex']\r\n\r\nclass_le=LabelEncoder()\r\nt=class_le.fit_transform(y)\r\n\r\nX_train,X_test,t_train,t_test=\\\r\n    train_test_split(X,t,\r\n    test_size=0.3,\r\n    random_state=1,\r\n    stratify=t)\r\n#\uac80\uc99d\ub370\uc774\ud130 30% random seed\ubc88\ud638=1 strtify:y \uc758 \ube44\uc728\uc5d0\ub530\ub77c \ubcc0\ud658\r\n\r\ntree=DecisionTreeClassifier(criterion='gini',\r\nmax_depth=1,\r\nrandom_state=1)\r\ntree.fit(X_train,t_train)\r\n\r\nim trainning  \r\ni get this problesm\r\nit say to me\r\n\"valueError: could not convert string to float: 'female'\"\r\nt value is\r\n\r\n[1 0 0 0 1 1 1 1 0 0 0 0 1 1 0 0 1 1 0 0 1 1 0 1 0 0 1 1 0 1 1 0 0 1 1 1 1\r\n 1 0 0 0 0 1 0 0 1 1 0 1 0 1 1 0 0 1 1 0 1 0 1 1 0 1 1 1 1 0 1 0 1 1 0 1 1\r\n 1 1 1 1 1 0 1 1 0 1 0 0 1 1 0 1 1 1 1 1 1 1 1 1 0 1 0 1 1 1 1 1 0 1 1 0 1\r\n 0 1 0 0 1 1 1 1 0 1 1 1 0 1 1 1 1 0 1 1 1 0 0 1 1 0 1 1 1 0 0 0 1 1 1 1 0\r\n 1 1 1 0 1 1 1 1 0 1 1 1 1 0 1 1 1 1 0 0 1 1 1 1 0 1 1 1 1 0 1 1 0 1 1 1 0\r\n 1 0 1 1 1 0 1 0 1 0 0 1 1 0 0 1 1 1 1 1 0 1 1 0 1 1 0 1 1 1 0 0 1 0 1 1 1\r\n 1 1 1 1 1 1 1 0 0 1 1 0 1 0 1 0 1 1 0 0 1 1 1 1 0 0 1 1 1 0 1 1 0 0 0 0 0\r\n 0 1 1 1 1 0 1 1 1 0 0 1 1 0 1 0 0 0 1 1 0 1 1 1 1 1 1 1 1 1 0 0 0 1 0 1 1\r\n 1 0 1 0 0 1 1 0 1 1 0 0 1 0 0 0 0 1 1 0 0 1 0 0 1 1 0 0 1 0 1 0 0 0 0 1 1\r\n 1 0 1 1 0 1 1 1 0 1 1 1 0 0 0 1 1 1 1 1 1 1 1 0 0 0 0 1 1 0 1 1 1 0 0 0 0\r\n 1 1 1 1 0 0 0 1 1 1 0 0 1 0 1 1 1 0 1 0 1 1 1 0 0 1 0 1 1 0 1 1 0 1 0 1 1\r\n 1 1 0 1 1 0 1 1 0 0 0 1 0 1 1 1 0 1 1 0 0 1 1 1 0 0 1 1 0 0 0 1 1 0 1 1 0\r\n 1 1 0 1 0 1 1 1 1 1 1 1 1 0 0 1 1 1 1 1 1 1 1 1 1 0 1 1 0 0 0 1 1 1 1 0 1\r\n 1 1 0 1 0 0 1 1 1 1 1 1 1 1 1 0 1 0 1 1 0 0 0 0 1 0 1 1 1 1 1 1 0 1 1 0 1\r\n 0 1 0 1 1 0 1 1 0 1 1 1 0 1 1 0 0 0 1 0 1 0 0 0 0 1 1 1 0 1 1 1 1 1 1 1 0\r\n 1 0 1 0 0 1 1 1 1 0 1 1 0 1 1 1 0 1 0 1 1 0 0 0 1 0 0 1 1 1 0 1 1 1 1 1 0\r\n 1 0 1 1 0 1 1 1 0 1 1 1 1 1 1 1 0 0 0 1 0 1 1 0 1 0 0 1 1 1 1 1 1 1 1 0 1\r\n 1 1 1 1 1 0 0 1 1 0 1 1 0 0 1 0 1 1 1 1 0 1 0 1 0 0 1 1 0 1 1 1 1 1 1 1 1\r\n 1 1 1 0 0 1 1 1 1 1 1 0 0 1 0 1 1 1 1 1 1 1 1 0 1 0 1 1 1 1 1 0 1 1 0 1 0\r\n 1 1 1 0 1 0 1 0 1 1 1 1 1 0 0 1 1 0 1 1 1 1 1 0 0 1 0 0 1 1 1 1 1 0 1 1 1\r\n 1 1 0 1 1 1 1 0 1 1 0 1 1 1 0 1 1 1 1 0 1 1 1 0 1 0 1 0 1 1 1 1 0 1 0 1 1\r\n 0 1 0 0 0 1 1 1 1 0 1 1 1 1 1 0 1 1 1 0 0 1 0 1 0 1 1 1 1 1 0 1 0 1 1 1 0\r\n 1 1 0 1 1 1 0 1 1 0 1 1 1 1 1 0 0 1 1 1 1 0 1 1 1 1 1 1 0 1 1 1 1 1 1 0 1\r\n 1 0 0 0 0 0 1 0 1 1 1 0 0 1 0 0 1 1 1 1 0 1 1 0 0 1 1 1 0 0 1 0 1 1 0 1 0\r\n 0 1 1]\r\nman=1 female=0\r\nhow can fix this problem?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/704", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/704/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/704/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/704/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/704", "id": 600218169, "node_id": "MDU6SXNzdWU2MDAyMTgxNjk=", "number": 704, "title": "Many tensorflow warnings when importing imbalanced-learn", "user": {"login": "zoj613", "id": 44142765, "node_id": "MDQ6VXNlcjQ0MTQyNzY1", "avatar_url": "https://avatars1.githubusercontent.com/u/44142765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoj613", "html_url": "https://github.com/zoj613", "followers_url": "https://api.github.com/users/zoj613/followers", "following_url": "https://api.github.com/users/zoj613/following{/other_user}", "gists_url": "https://api.github.com/users/zoj613/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoj613/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoj613/subscriptions", "organizations_url": "https://api.github.com/users/zoj613/orgs", "repos_url": "https://api.github.com/users/zoj613/repos", "events_url": "https://api.github.com/users/zoj613/events{/privacy}", "received_events_url": "https://api.github.com/users/zoj613/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2020-04-15T11:13:31Z", "updated_at": "2020-06-09T06:57:43Z", "closed_at": "2020-06-09T06:57:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nI get a long list of warnings any time I import imbalanced-learn. They seem to be tensorflow warnings. This can be distracting and confusing especially when this library is used within another imported module.\r\n\r\n#### Steps/Code to Reproduce\r\n```python\r\nfrom imblearn.over_sampling import RandomOverSampler\r\n```\r\n\r\n\r\n#### Expected Results\r\nNothing\r\n\r\n#### Actual Results\r\n```\r\n>>> from imblearn.over_sampling import RandomOverSampler\r\nUsing TensorFlow backend.\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:541: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:542: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:543: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:544: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:545: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/home/.pyenv/versions/metro/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:550: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\n```\r\nThis only happens when importing this library\r\n\r\n#### Versions\r\nPython 3.7.3 (default, Apr  8 2020, 16:07:18) \r\n[GCC 6.5.0 20181026]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nScikit-Learn 0.22\r\nImbalanced-Learn 0.6.2\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/703", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/703/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/703/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/703/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/703", "id": 598436788, "node_id": "MDU6SXNzdWU1OTg0MzY3ODg=", "number": 703, "title": "\"Can't pickle <class '__main__.polynomial_transform'>: it's not found as __main__.polynomial_transform\"", "user": {"login": "BabyCodr", "id": 38265909, "node_id": "MDQ6VXNlcjM4MjY1OTA5", "avatar_url": "https://avatars0.githubusercontent.com/u/38265909?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BabyCodr", "html_url": "https://github.com/BabyCodr", "followers_url": "https://api.github.com/users/BabyCodr/followers", "following_url": "https://api.github.com/users/BabyCodr/following{/other_user}", "gists_url": "https://api.github.com/users/BabyCodr/gists{/gist_id}", "starred_url": "https://api.github.com/users/BabyCodr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BabyCodr/subscriptions", "organizations_url": "https://api.github.com/users/BabyCodr/orgs", "repos_url": "https://api.github.com/users/BabyCodr/repos", "events_url": "https://api.github.com/users/BabyCodr/events{/privacy}", "received_events_url": "https://api.github.com/users/BabyCodr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1989213495, "node_id": "MDU6TGFiZWwxOTg5MjEzNDk1", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Status:%20More%20Info%20Needed", "name": "Status: More Info Needed", "color": "eeeeee", "default": false, "description": ""}, {"id": 566670392, "node_id": "MDU6TGFiZWw1NjY2NzAzOTI=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Type:%20Question", "name": "Type: Question", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-04-12T08:28:52Z", "updated_at": "2020-06-08T18:22:22Z", "closed_at": "2020-06-08T18:22:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am running the following pipeline in sklearn to perform grid search\r\n\r\ndef logistic():\r\n\r\n    sm = SMOTE()\r\n    poly = polynomial_transform()\r\n    stand = StandardScaler()\r\n    pca = PCA()\r\n\r\n    #I need to think about how I am training this...\r\n    logistic = LogisticRegression(max_iter=100, tol=0.01,solver = 'saga')    #what is my binary scorer here\r\n\r\n    pipe = Pipeline(steps=[('smt', sm),('poly', poly),('standardise', stand),('pca', pca), ('logistic', logistic)],memory = mem)\r\n\r\n    # Parameters of pipelines can be set using \u2018__\u2019 separated parameter names:\r\n    param_grid = {\r\n        #'poly__degree': [1,2],\r\n        'pca__n_components':[50,100],\r\n        'logistic__C': [0.0001],\r\n    }\r\n\r\n    scorers = {\r\n        'precision_score': make_scorer(precision_score),\r\n        'recall_score': make_scorer(recall_score),\r\n        'accuracy_score': make_scorer(accuracy_score),\r\n        'f1_score': make_scorer(f1_score),\r\n        'tp': make_scorer(tp),\r\n        'tn': make_scorer(tn),\r\n        'fp': make_scorer(fp),\r\n        'fn': make_scorer(fn),\r\n        'ck': make_scorer(cohen_kappa_score)\r\n    }\r\n\r\n    #performing grid search\r\n    search = GridSearchCV(pipe, param_grid, n_jobs=-1,verbose=2,scoring= scorers,refit='accuracy_score')\r\n    search.fit(X_train.to_numpy(), y_train.to_numpy().ravel())\r\n\r\n    #results of cross validation grid search\r\n    print(\"Best parameter (CV score=%0.3f):\" % search.best_score_)\r\n    print(search.best_params_)\r\n\r\n    return search\r\npolynomial transform is a class I have created myself\r\n\r\nclass polynomial_transform(BaseEstimator):\r\n\r\n    def __init__(self,degree=None):\r\n        self.degree=degree\r\n\r\n    def fit(self,X,y=None):\r\n        return self\r\n\r\n    #Method that describes what we need this transformer to do\r\n    def transform( self, X, y = None ):\r\n\r\n        for i in range(1,self.degree):\r\n            X = np.hstack((X, X**i))\r\n\r\n        return X\r\n\r\n\r\n    def set_params(self, degree):\r\n        self.degree = degree\r\n    def get_params(self,deep=True):\r\n        return {'degree':self.degree}\r\nWhen setting the memory parameter in the pipeline I am getting the following error\r\n\r\nFitFailedWarning: Estimator fit failed. The score on this train-test partition for these parameters will be set to nan. Details: _pickle.PicklingError: (\"Can't pickle : it's not found as main.polynomial_transform\"\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/702", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/702/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/702/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/702/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/702", "id": 594234292, "node_id": "MDU6SXNzdWU1OTQyMzQyOTI=", "number": 702, "title": "BalancedBaggingClassifier.estimators_samples_ seems to be buggy", "user": {"login": "carlosoliveiracacia", "id": 9146888, "node_id": "MDQ6VXNlcjkxNDY4ODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/9146888?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carlosoliveiracacia", "html_url": "https://github.com/carlosoliveiracacia", "followers_url": "https://api.github.com/users/carlosoliveiracacia/followers", "following_url": "https://api.github.com/users/carlosoliveiracacia/following{/other_user}", "gists_url": "https://api.github.com/users/carlosoliveiracacia/gists{/gist_id}", "starred_url": "https://api.github.com/users/carlosoliveiracacia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carlosoliveiracacia/subscriptions", "organizations_url": "https://api.github.com/users/carlosoliveiracacia/orgs", "repos_url": "https://api.github.com/users/carlosoliveiracacia/repos", "events_url": "https://api.github.com/users/carlosoliveiracacia/events{/privacy}", "received_events_url": "https://api.github.com/users/carlosoliveiracacia/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-05T03:32:42Z", "updated_at": "2020-04-06T09:08:38Z", "closed_at": "2020-04-06T09:08:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi everyone, this is my first contribution so please let me know if I don't follow any of the guidelines and I apologize in advance (I tried my best).\r\n\r\nI have a dataset with 157 samples and 12791 features. 47 of the samples have a negative label (`0`) and 110 have a positive label (`1`). I would like to construct a bagging classifier that uses 31 samples from each class in each estimator, so I tried the code below. \r\nWhen I inspect the value of `BalancedBaggingClassifier.estimators_samples_` it seems that all 157 samples were used in all the estimators. I looked in the repo code but I'm not completely sure if this is just a bug in the assigment of `estimators_samples_` property or if the estimators are indeed being trained with all samples. Any help would be appreciated. Thank you!\r\n\r\n```\r\nfrom imblearn.ensemble import BalancedBaggingClassifier\r\nfrom sklearn.linear_model import LogisticRegression\r\nimport numpy as np\r\n\r\nn_minority_class = min((labels==0).sum(), (labels==1).sum())\r\nf = 2/3\r\nbase_classifier = LogisticRegression()\r\nsampling_strategy = {0: int(n_minority_class*f), 1: int(n_minority_class*f)}\r\nbbc = BalancedBaggingClassifier(base_estimator=base_classifier,\r\n                                sampling_strategy=sampling_strategy,\r\n                                replacement=False,\r\n                                random_state=1234)\r\nbbc.fit(df[ftr_cols].values, labels) \r\n\r\nprint(f'Shape of df: {df.shape}')\r\nprint(f'Shape of labels: {labels.shape}')\r\nunique_elements, counts_elements = np.unique(labels, return_counts=True)\r\nprint(\"Frequency of unique values of labels:\")\r\nprint(np.asarray((unique_elements, counts_elements)))\r\nprint(f'sampling_strategy: {sampling_strategy}')\r\nprint('Would expect a total of 62 samples drawn for each estimator but get the following:')\r\nprint([s.shape[0] for s in bbc.estimators_samples_])\r\n\r\noutput: \r\nShape of df: (157, 12791)\r\nShape of labels: (157,)\r\nFrequency of unique values of labels:\r\n[[  0   1]\r\n [ 47 110]]\r\nsampling_strategy: {0: 31, 1: 31}\r\nWould expect a total of 62 samples drawn for each estimator but get the following:\r\n[157, 157, 157, 157, 157, 157, 157, 157, 157, 157]\r\n```\r\n\r\nResult of \r\n```\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n\r\nDarwin-19.3.0-x86_64-i386-64bit\r\nPython 3.7.6 (default, Dec 30 2019, 19:38:26) \r\n[Clang 11.0.0 (clang-1100.0.33.16)]\r\nNumPy 1.18.2\r\nSciPy 1.4.1\r\nScikit-Learn 0.22.2.post1\r\nImbalanced-Learn 0.6.2\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/701", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/701/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/701/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/701/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/701", "id": 589795040, "node_id": "MDU6SXNzdWU1ODk3OTUwNDA=", "number": 701, "title": "using dask_ml with imblearn", "user": {"login": "sephib", "id": 8223335, "node_id": "MDQ6VXNlcjgyMjMzMzU=", "avatar_url": "https://avatars1.githubusercontent.com/u/8223335?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sephib", "html_url": "https://github.com/sephib", "followers_url": "https://api.github.com/users/sephib/followers", "following_url": "https://api.github.com/users/sephib/following{/other_user}", "gists_url": "https://api.github.com/users/sephib/gists{/gist_id}", "starred_url": "https://api.github.com/users/sephib/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sephib/subscriptions", "organizations_url": "https://api.github.com/users/sephib/orgs", "repos_url": "https://api.github.com/users/sephib/repos", "events_url": "https://api.github.com/users/sephib/events{/privacy}", "received_events_url": "https://api.github.com/users/sephib/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566670392, "node_id": "MDU6TGFiZWw1NjY2NzAzOTI=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Type:%20Question", "name": "Type: Question", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-29T13:42:54Z", "updated_at": "2020-06-08T18:20:23Z", "closed_at": "2020-06-08T18:20:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nI want to try and work on implementing `dask_ml` when running `imblearn`.\r\nI've opened an issue on[ dask_ml issue # 317](https://github.com/dask/dask-ml/issues/317) however I thought it would be a good idea to ping this repo.   \r\nI wanted to ask if someone is already working on such implementation, and if not - is there any additional input that can assist while working on the above issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/700", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/700/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/700/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/700/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/700", "id": 588118536, "node_id": "MDU6SXNzdWU1ODgxMTg1MzY=", "number": 700, "title": "DLL Load failed while importing imblearn", "user": {"login": "ashwin4ever", "id": 23445837, "node_id": "MDQ6VXNlcjIzNDQ1ODM3", "avatar_url": "https://avatars1.githubusercontent.com/u/23445837?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ashwin4ever", "html_url": "https://github.com/ashwin4ever", "followers_url": "https://api.github.com/users/ashwin4ever/followers", "following_url": "https://api.github.com/users/ashwin4ever/following{/other_user}", "gists_url": "https://api.github.com/users/ashwin4ever/gists{/gist_id}", "starred_url": "https://api.github.com/users/ashwin4ever/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ashwin4ever/subscriptions", "organizations_url": "https://api.github.com/users/ashwin4ever/orgs", "repos_url": "https://api.github.com/users/ashwin4ever/repos", "events_url": "https://api.github.com/users/ashwin4ever/events{/privacy}", "received_events_url": "https://api.github.com/users/ashwin4ever/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-26T02:59:03Z", "updated_at": "2020-03-30T00:52:02Z", "closed_at": "2020-03-30T00:52:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have python3.7 on a Win 10 machine. I have installed `numpy+mkl, sciply+mkl` and also installed imblearn from the git repository given here [https://imbalanced-learn.readthedocs.io/en/stable/install.html](url). Despite all this I am unable to resolve the `ImportError: DLL load failed: The specified module could not be found.'. I use pip and my entire error traceback\r\n```\r\nTraceback (most recent call last):\r\n  File \"<pyshell#1>\", line 1, in <module>\r\n    import imblearn\r\n  File \"C:\\Users\\ashwi\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\imblearn\\__init__.py\", line 34, in <module>\r\n    from . import combine\r\n  File \"C:\\Users\\ashwi\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\imblearn\\combine\\__init__.py\", line 5, in <module>\r\n    from ._smote_enn import SMOTEENN\r\n  File \"C:\\Users\\ashwi\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\imblearn\\combine\\_smote_enn.py\", line 7, in <module>\r\n    from sklearn.base import clone\r\n  File \"C:\\Users\\ashwi\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\sklearn\\__init__.py\", line 83, in <module>\r\n    from .utils._show_versions import show_versions\r\n  File \"C:\\Users\\ashwi\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\sklearn\\utils\\_show_versions.py\", line 12, in <module>\r\n    from ._openmp_helpers import _openmp_parallelism_enabled\r\nImportError: DLL load failed: The specified module could not be found.\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/699", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/699/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/699/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/699/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/699", "id": 580860790, "node_id": "MDU6SXNzdWU1ODA4NjA3OTA=", "number": 699, "title": "RandomUnderSampler should permit datasets with NaN values", "user": {"login": "jimbudarz", "id": 692898, "node_id": "MDQ6VXNlcjY5Mjg5OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/692898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimbudarz", "html_url": "https://github.com/jimbudarz", "followers_url": "https://api.github.com/users/jimbudarz/followers", "following_url": "https://api.github.com/users/jimbudarz/following{/other_user}", "gists_url": "https://api.github.com/users/jimbudarz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimbudarz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimbudarz/subscriptions", "organizations_url": "https://api.github.com/users/jimbudarz/orgs", "repos_url": "https://api.github.com/users/jimbudarz/repos", "events_url": "https://api.github.com/users/jimbudarz/events{/privacy}", "received_events_url": "https://api.github.com/users/jimbudarz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1989228840, "node_id": "MDU6TGFiZWwxOTg5MjI4ODQw", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Package:%20under_sampling", "name": "Package: under_sampling", "color": "27178c", "default": false, "description": ""}, {"id": 728051678, "node_id": "MDU6TGFiZWw3MjgwNTE2Nzg=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Status:%20Help%20Wanted", "name": "Status: Help Wanted", "color": "5ad32e", "default": false, "description": "Indicates that a maintainer wants help on an issue or pull request"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-13T21:23:57Z", "updated_at": "2020-06-08T18:34:57Z", "closed_at": "2020-06-08T18:34:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n`RandomUnderSampler` should permit undersampling a dataset containing NaNs. I don't see a reason this should be blocked by the def _check_X_y() function.\r\n\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n1. Run `make_imbalance()` with a dataset containing NaN.\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\nFunction should return X and y datasets\r\n#### Actual Results\r\n\r\n```pytb\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-36-c5130ea920d6> in <module>\r\n      7                                             df_y,\r\n      8                                             sampling_strategy={0: num_negs, 1: num_pos},\r\n----> 9                                             random_state=20)\r\n     10 # Convert back to df\r\n     11 X_unbalanced = pd.DataFrame(X_unbalanced, columns=df_X.columns).astype(df_X.dtypes)\r\n\r\n(redacted)/make_imbalance.py in make_imbalance(X, y, sampling_strategy, ratio, random_state, verbose, **kwargs)\r\n    107         replacement=False,\r\n    108         random_state=random_state)\r\n--> 109     X_resampled, y_resampled = rus.fit_resample(X, y)\r\n    110     if verbose:\r\n    111         print('Make the dataset imbalanced: %s', Counter(y_resampled))\r\n\r\n(redacted)/lib/python3.6/site-packages/imblearn/base.py in fit_resample(self, X, y)\r\n     77 \r\n     78         check_classification_targets(y)\r\n---> 79         X, y, binarize_y = self._check_X_y(X, y)\r\n     80 \r\n     81         self.sampling_strategy_ = check_sampling_strategy(\r\n\r\n(redacted)/lib/python3.6/site-packages/imblearn/under_sampling/_prototype_selection/_random_under_sampler.py in _check_X_y(X, y)\r\n     99     def _check_X_y(X, y):\r\n    100         y, binarize_y = check_target_type(y, indicate_one_vs_all=True)\r\n--> 101         X = check_array(X, accept_sparse=['csr', 'csc'], dtype=None)\r\n    102         y = check_array(y, accept_sparse=['csr', 'csc'], dtype=None,\r\n    103                         ensure_2d=False)\r\n\r\n(redacted)/lib/python3.6/site-packages/sklearn/utils/validation.py in check_array(array, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, ensure_min_samples, ensure_min_features, warn_on_dtype, estimator)\r\n    576         if force_all_finite:\r\n    577             _assert_all_finite(array,\r\n--> 578                                allow_nan=force_all_finite == 'allow-nan')\r\n    579 \r\n    580     if ensure_min_samples > 0:\r\n\r\n(redacted)/lib/python3.6/site-packages/sklearn/utils/validation.py in _assert_all_finite(X, allow_nan, msg_dtype)\r\n     63     elif X.dtype == np.dtype('object') and not allow_nan:\r\n     64         if _object_dtype_isnan(X).any():\r\n---> 65             raise ValueError(\"Input contains NaN\")\r\n     66 \r\n     67 \r\n```\r\n\r\nValueError: Input contains NaN\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\nPython 3.6.9 (default, Sep 11 2019, 16:40:19) \r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nScikit-Learn 0.22.2.post1\r\nImbalanced-Learn 0.5.0\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/697", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/697/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/697/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/697/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/697", "id": 579580365, "node_id": "MDU6SXNzdWU1Nzk1ODAzNjU=", "number": 697, "title": "make_imbalance uses sklearn.utils.check_X_y", "user": {"login": "jimbudarz", "id": 692898, "node_id": "MDQ6VXNlcjY5Mjg5OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/692898?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jimbudarz", "html_url": "https://github.com/jimbudarz", "followers_url": "https://api.github.com/users/jimbudarz/followers", "following_url": "https://api.github.com/users/jimbudarz/following{/other_user}", "gists_url": "https://api.github.com/users/jimbudarz/gists{/gist_id}", "starred_url": "https://api.github.com/users/jimbudarz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jimbudarz/subscriptions", "organizations_url": "https://api.github.com/users/jimbudarz/orgs", "repos_url": "https://api.github.com/users/jimbudarz/repos", "events_url": "https://api.github.com/users/jimbudarz/events{/privacy}", "received_events_url": "https://api.github.com/users/jimbudarz/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1989229131, "node_id": "MDU6TGFiZWwxOTg5MjI5MTMx", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Package:%20utils", "name": "Package: utils", "color": "27178c", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-11T22:26:25Z", "updated_at": "2020-06-08T18:41:39Z", "closed_at": "2020-06-08T18:41:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nmake_imbalance fails at the sklearn.utils.check_X_y function when the X dataset contains categorical features. check_X_y may not be necessary in this circumstance, as the rest of the make_imbalance function can successfully deal with categorical columns.\r\n\r\n#### Steps/Code to Reproduce\r\n```\r\nfrom make_imbalance import make_imbalance\r\n\r\n# Define desired number of positive and negative class examples\r\nnum_negs = df['target'].value_counts()[0]\r\nnum_pos = int(num_negs/20)\r\n\r\n# Create imbalanced dataset\r\ndf_X = df.drop('target', axis=1)\r\ndf_y = df['target']\r\nX_undersampled, y_undersampled = make_imbalance(df_X, df_y, \r\n                                                sampling_strategy={0: num_negs, 1: num_pos},\r\n                                                random_state=20)\r\n```\r\n\r\n#### Expected Results\r\nNo error is thrown. X_undersampled and y_undersampled would be returned by make_imbalance function.\r\n\r\n#### Actual Results\r\n```\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-19-2637b979026a> in <module>\r\n     12                                                 df_y,\r\n     13                                                 sampling_strategy={0: num_negs, 1: num_pos},\r\n---> 14                                                 random_state=20)\r\n     15 # Convert back to df\r\n     16 X_undersampled = pd.DataFrame(X_undersampled, columns=df_X.columns)\r\n\r\n<hidden>/lib/python3.6/site-packages/imblearn/datasets/_imbalance.py in make_imbalance(X, y, sampling_strategy, ratio, random_state, verbose, **kwargs)\r\n     98 \r\n     99     \"\"\"\r\n--> 100     X, y = check_X_y(X, y)\r\n    101     target_stats = Counter(y)\r\n    102     # restrict ratio to be a dict or a callable\r\n\r\n<hidden>/lib/python3.6/site-packages/sklearn/utils/validation.py in check_X_y(X, y, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, multi_output, ensure_min_samples, ensure_min_features, y_numeric, warn_on_dtype, estimator)\r\n    753                     ensure_min_features=ensure_min_features,\r\n    754                     warn_on_dtype=warn_on_dtype,\r\n--> 755                     estimator=estimator)\r\n    756     if multi_output:\r\n    757         y = check_array(y, 'csr', force_all_finite=True, ensure_2d=False,\r\n\r\n<hidden>/lib/python3.6/site-packages/sklearn/utils/validation.py in check_array(array, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, ensure_min_samples, ensure_min_features, warn_on_dtype, estimator)\r\n    529                     array = array.astype(dtype, casting=\"unsafe\", copy=False)\r\n    530                 else:\r\n--> 531                     array = np.asarray(array, order=order, dtype=dtype)\r\n    532             except ComplexWarning:\r\n    533                 raise ValueError(\"Complex data not supported\\n\"\r\n\r\n<hidden>/lib/python3.6/site-packages/numpy/core/_asarray.py in asarray(a, dtype, order)\r\n     83 \r\n     84     \"\"\"\r\n---> 85     return array(a, dtype, copy=False, order=order)\r\n     86 \r\n     87 \r\n\r\nValueError: could not convert string to float: 'category1'\r\n```\r\n\r\n#### Versions\r\nPython 3.6.9 (default, Sep 11 2019, 16:40:19) \r\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-16)]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nScikit-Learn 0.22.2.post1\r\nImbalanced-Learn 0.5.0\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/695", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/695/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/695/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/695/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/695", "id": 575890875, "node_id": "MDU6SXNzdWU1NzU4OTA4NzU=", "number": 695, "title": "Improvement when using Sampling?", "user": {"login": "hanzigs", "id": 30790120, "node_id": "MDQ6VXNlcjMwNzkwMTIw", "avatar_url": "https://avatars1.githubusercontent.com/u/30790120?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hanzigs", "html_url": "https://github.com/hanzigs", "followers_url": "https://api.github.com/users/hanzigs/followers", "following_url": "https://api.github.com/users/hanzigs/following{/other_user}", "gists_url": "https://api.github.com/users/hanzigs/gists{/gist_id}", "starred_url": "https://api.github.com/users/hanzigs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hanzigs/subscriptions", "organizations_url": "https://api.github.com/users/hanzigs/orgs", "repos_url": "https://api.github.com/users/hanzigs/repos", "events_url": "https://api.github.com/users/hanzigs/events{/privacy}", "received_events_url": "https://api.github.com/users/hanzigs/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566670392, "node_id": "MDU6TGFiZWw1NjY2NzAzOTI=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Type:%20Question", "name": "Type: Question", "color": "fbca04", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-03-04T23:52:23Z", "updated_at": "2020-03-13T03:21:13Z", "closed_at": "2020-03-06T07:24:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have the imbalanced dataset\r\n```\r\ndata['Class'].value_counts()\r\nOut[22]: \r\n0    137757\r\n1      4905\r\nName: Class, dtype: int64\r\n```\r\n```\r\nX_train, X_valid, y_train, y_valid = train_test_split(input_x, input_y, test_size=0.20, random_state=seed)\r\nprint(sorted(Counter(y_train).items()))\r\n[(0, 110215), (1, 3914)]\r\n```\r\nI tried different imblearn functions\r\n```\r\nsmote_enn = SMOTEENN(random_state=27)\r\nsmote_tomek = SMOTETomek(random_state=27)\r\n\r\nadasyn = ADASYN(random_state=27)\r\nborderline = BorderlineSMOTE(random_state=27)\r\nran_oversample = RandomOverSampler(random_state=27)\r\nsmote = SMOTE(random_state=27)\r\n\r\ncnn = CondensedNearestNeighbour(random_state=27) \r\nenn = EditedNearestNeighbours(random_state=27)\r\nrenn = RepeatedEditedNearestNeighbours(random_state=27)\r\nallknn = AllKNN(random_state=27)\r\niht = InstanceHardnessThreshold(random_state=0)\r\nncr = NeighbourhoodCleaningRule(random_state=27)\r\ntomek = TomekLinks(random_state=27)\r\n```\r\ncreated different trains\r\n```\r\ndef BalancingData(function):\r\n    X_train_resampled, y_train_resampled = function.fit_sample(X_train, y_train)\r\n    print(sorted(Counter(y_train_resampled).items()))\r\n    return X_train_resampled, y_train_resampled\r\n\r\nX_train_smote_enn, y_train_smote_enn = BalancingData(smote_enn)\r\nX_train_smote_tomek, y_train_smote_tomek = BalancingData(smote_tomek)\r\n\r\nX_train_adasyn, y_train_adasyn = BalancingData(adasyn)\r\nX_train_borderline, y_train_borderline = BalancingData(borderline)\r\nX_train_ran_oversample, y_train_ran_oversample = BalancingData(ran_oversample)\r\nX_train_smote, y_train_smote = BalancingData(smote)\r\n\r\nX_train_cnn, y_train_cnn = BalancingData(cnn)\r\nX_train_enn, y_train_enn = BalancingData(enn)\r\nX_train_renn, y_train_renn = BalancingData(renn)\r\nX_train_allknn, y_train_allknn = BalancingData(allknn)\r\nX_train_iht, y_train_iht = BalancingData(iht)\r\nX_train_ncr, y_train_ncr = BalancingData(ncr)\r\nX_train_tomek, y_train_tomek = BalancingData(tomek)\r\n```\r\nThen Built the Keras model\r\n```\r\ndef my_model(X,y):\r\n    Keras_model = Sequential()\r\n    Keras_model.add(Dense(33,activation='sigmoid', kernel_initializer='glorot_uniform', kernel_constraint=maxnorm(12), input_shape=(input_len,))) \r\n    Keras_model.add(Dense(1, activation='sigmoid', kernel_initializer='glorot_uniform')) \r\n    Keras_model.compile(optimizer = 'Adam', loss = 'binary_crossentropy', metrics = ['accuracy'])\r\n    Keras_model.fit(X, y, validation_data=(X_valid,y_valid), batch_size = 1000, epochs = 10, verbose = 0)\r\n    scores_valid = Keras_model.evaluate(X_valid, y_valid, verbose=1)\r\n    scores_train = Keras_model.evaluate(X, y, verbose=1)\r\n    scores_full = Keras_model.evaluate(X_train, y_train, verbose=1)\r\n```\r\ncall with different imb train and valid sets\r\n```\r\nmy_model(X_train, y_train)\r\nmy_model(X_train_smote_enn, y_train_smote_enn)\r\nmy_model(X_train_smote_tomek, y_train_smote_tomek)\r\nand so on\r\n```\r\n\r\nI find very minor improvement in the accuracy in allKNN, this is the initial benchmark, i knew still we can tune the parameters in allKNN and try to improve, my question is why i can't find much improvements, without using the balancing functions the base model itself showing a better accuracy?\r\n![image](https://user-images.githubusercontent.com/30790120/75933765-dfd87400-5ece-11ea-8d0a-f2fb39c32a78.png)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/692", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/692/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/692/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/692/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/692", "id": 573400767, "node_id": "MDU6SXNzdWU1NzM0MDA3Njc=", "number": 692, "title": "Test against scikit-learn master in a periodic manner", "user": {"login": "chkoar", "id": 11897937, "node_id": "MDQ6VXNlcjExODk3OTM3", "avatar_url": "https://avatars0.githubusercontent.com/u/11897937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chkoar", "html_url": "https://github.com/chkoar", "followers_url": "https://api.github.com/users/chkoar/followers", "following_url": "https://api.github.com/users/chkoar/following{/other_user}", "gists_url": "https://api.github.com/users/chkoar/gists{/gist_id}", "starred_url": "https://api.github.com/users/chkoar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chkoar/subscriptions", "organizations_url": "https://api.github.com/users/chkoar/orgs", "repos_url": "https://api.github.com/users/chkoar/repos", "events_url": "https://api.github.com/users/chkoar/events{/privacy}", "received_events_url": "https://api.github.com/users/chkoar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566669940, "node_id": "MDU6TGFiZWw1NjY2Njk5NDA=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Type:%20CI/CD", "name": "Type: CI/CD", "color": "d93f0b", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 0, "created_at": "2020-02-29T19:58:59Z", "updated_at": "2020-06-08T18:41:55Z", "closed_at": "2020-06-08T18:41:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We should test against `scikit-learn` upstream master in a periodic manner (every might for instance) in order to avoid noise of unrelated errors in PRs. So, we should keep testing against the latest release of `scikit-learn` in PRs. We should add a badge of the periodic tests in the README file and probably sent the report with email it is supported.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/689", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/689/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/689/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/689/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/689", "id": 568828281, "node_id": "MDU6SXNzdWU1Njg4MjgyODE=", "number": 689, "title": "from imblearn.over_sampling import SMOTE", "user": {"login": "elizabeth-chetwood", "id": 58847936, "node_id": "MDQ6VXNlcjU4ODQ3OTM2", "avatar_url": "https://avatars1.githubusercontent.com/u/58847936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/elizabeth-chetwood", "html_url": "https://github.com/elizabeth-chetwood", "followers_url": "https://api.github.com/users/elizabeth-chetwood/followers", "following_url": "https://api.github.com/users/elizabeth-chetwood/following{/other_user}", "gists_url": "https://api.github.com/users/elizabeth-chetwood/gists{/gist_id}", "starred_url": "https://api.github.com/users/elizabeth-chetwood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/elizabeth-chetwood/subscriptions", "organizations_url": "https://api.github.com/users/elizabeth-chetwood/orgs", "repos_url": "https://api.github.com/users/elizabeth-chetwood/repos", "events_url": "https://api.github.com/users/elizabeth-chetwood/events{/privacy}", "received_events_url": "https://api.github.com/users/elizabeth-chetwood/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-21T09:13:00Z", "updated_at": "2020-02-21T21:25:44Z", "closed_at": "2020-02-21T21:25:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0--> I have installed all the latest versions of the dependency packages and I have read online that other people have been getting this error  - Error cannot import name 'MultiOutputMixin'. At the minute I need to start a whole new kernel to get the package to work, which is highly impractical. Any suggestions?\r\n\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/688", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/688/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/688/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/688/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/688", "id": 568769909, "node_id": "MDU6SXNzdWU1Njg3Njk5MDk=", "number": 688, "title": "MemoryError SMOTENC", "user": {"login": "aryanc55", "id": 30952255, "node_id": "MDQ6VXNlcjMwOTUyMjU1", "avatar_url": "https://avatars2.githubusercontent.com/u/30952255?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aryanc55", "html_url": "https://github.com/aryanc55", "followers_url": "https://api.github.com/users/aryanc55/followers", "following_url": "https://api.github.com/users/aryanc55/following{/other_user}", "gists_url": "https://api.github.com/users/aryanc55/gists{/gist_id}", "starred_url": "https://api.github.com/users/aryanc55/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aryanc55/subscriptions", "organizations_url": "https://api.github.com/users/aryanc55/orgs", "repos_url": "https://api.github.com/users/aryanc55/repos", "events_url": "https://api.github.com/users/aryanc55/events{/privacy}", "received_events_url": "https://api.github.com/users/aryanc55/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-02-21T06:54:38Z", "updated_at": "2020-02-21T21:28:19Z", "closed_at": "2020-02-21T21:28:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nThanks for this wonderful package to handle class imbalance. I am trying to use SMOTENC but getting stuck in \"memory error\" during \"fit_resample\" method. I have already converted the dtypes and made them as small as possible even though this issue persist. On contrary if i use SMOTE it's working fine on the same data. I've 31 GB RAM and data shape is (98000,48), its around 6.5 MB on disk. I am using python 3.5 and imblearn version is '0.4.2'.  can somebody suggest some hack to deal with issue. Thanks.\r\n\r\n_Originally posted by @atendra12 in https://github.com/scikit-learn-contrib/imbalanced-learn/issues/33#issuecomment-431781272_\r\n\r\n\r\nDid you solved this sir? I am having same issue.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/686", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/686/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/686/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/686/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/686", "id": 567700242, "node_id": "MDU6SXNzdWU1Njc3MDAyNDI=", "number": 686, "title": "Add joblib version in show_versions function", "user": {"login": "chkoar", "id": 11897937, "node_id": "MDQ6VXNlcjExODk3OTM3", "avatar_url": "https://avatars0.githubusercontent.com/u/11897937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chkoar", "html_url": "https://github.com/chkoar", "followers_url": "https://api.github.com/users/chkoar/followers", "following_url": "https://api.github.com/users/chkoar/following{/other_user}", "gists_url": "https://api.github.com/users/chkoar/gists{/gist_id}", "starred_url": "https://api.github.com/users/chkoar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chkoar/subscriptions", "organizations_url": "https://api.github.com/users/chkoar/orgs", "repos_url": "https://api.github.com/users/chkoar/repos", "events_url": "https://api.github.com/users/chkoar/events{/privacy}", "received_events_url": "https://api.github.com/users/chkoar/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 728052805, "node_id": "MDU6TGFiZWw3MjgwNTI4MDU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/good%20first%20issue", "name": "good first issue", "color": "1acc9c", "default": true, "description": "Indicates a good issue for first-time contributors"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2020-02-19T17:00:12Z", "updated_at": "2020-06-08T18:05:26Z", "closed_at": "2020-06-08T18:05:26Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "[`show_versions`](https://github.com/scikit-learn-contrib/imbalanced-learn/blob/b861b3a8e3414c52f40a953f2e0feca5b32e7460/imblearn/utils/_show_versions.py#L54) should report the installed `joblib` version.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/685", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/685/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/685/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/685/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/685", "id": 567491484, "node_id": "MDU6SXNzdWU1Njc0OTE0ODQ=", "number": 685, "title": "[BUG]  Error when using transformer caching with Pipeline object", "user": {"login": "zoj613", "id": 44142765, "node_id": "MDQ6VXNlcjQ0MTQyNzY1", "avatar_url": "https://avatars1.githubusercontent.com/u/44142765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoj613", "html_url": "https://github.com/zoj613", "followers_url": "https://api.github.com/users/zoj613/followers", "following_url": "https://api.github.com/users/zoj613/following{/other_user}", "gists_url": "https://api.github.com/users/zoj613/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoj613/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoj613/subscriptions", "organizations_url": "https://api.github.com/users/zoj613/orgs", "repos_url": "https://api.github.com/users/zoj613/repos", "events_url": "https://api.github.com/users/zoj613/events{/privacy}", "received_events_url": "https://api.github.com/users/zoj613/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566669735, "node_id": "MDU6TGFiZWw1NjY2Njk3MzU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Type:%20Bug", "name": "Type: Bug", "color": "b60205", "default": false, "description": "Indicates an unexpected problem or unintended behavior"}, {"id": 728052805, "node_id": "MDU6TGFiZWw3MjgwNTI4MDU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/good%20first%20issue", "name": "good first issue", "color": "1acc9c", "default": true, "description": "Indicates a good issue for first-time contributors"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2020-02-19T11:07:08Z", "updated_at": "2020-06-08T18:31:01Z", "closed_at": "2020-06-08T18:31:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nCalling fit method of Pipeline object throws an expection: `UnboundLocalError: local variable 'cloned_transformer' referenced before assignment`, when the `memory` argument is passed an argument. Therfore I am unable to cache any transformers (especially during hyperparameter tuning using a Pipeline object.\r\n\r\n#### Steps/Code to Reproduce\r\nExample:\r\n```python\r\nfrom imblearn.pipeline import Pipeline\r\nfrom imblearn.over_sampling import RandomOverSampler\r\nfrom sklearn.preprocessing import StandardScaler\r\nfrom sklearn.linear_model import SGDClassifier\r\n\r\nX, y = make_classification()\r\nsteps = [\r\n    ('scaler', StandardScaler()),\r\n    ('sampler', RandomOverSampler()),\r\n    ('clf', SGDClassifier())\r\n]\r\np = Pipeline(steps, memory='./data/')\r\np.fit(X, y)\r\n```\r\n\r\n#### Expected Results\r\nFor this run successfully\r\n\r\n#### Actual Results\r\n```text\r\n~/.pyenv/versions/3.6.8/envs/train/lib/python3.6/site-packages/imblearn/pipeline.py in fit(self, X, y, **fit_params)\r\n    285 \r\n    286         \"\"\"\r\n--> 287         Xt, yt, fit_params = self._fit(X, y, **fit_params)\r\n    288         with _print_elapsed_time('Pipeline',\r\n    289                                  self._log_message(len(self.steps) - 1)):\r\n\r\n~/.pyenv/versions/3.6.8/envs/train/lib/python3.6/site-packages/imblearn/pipeline.py in _fit(self, X, y, **fit_params)\r\n    233                 cloned_transformer = clone(transformer)\r\n    234             # Fit or load from cache the current transfomer\r\n--> 235             if hasattr(cloned_transformer, \"transform\") or hasattr(\r\n    236                 cloned_transformer, \"fit_transform\"\r\n    237             ):\r\n\r\nUnboundLocalError: local variable 'cloned_transformer' referenced before assignment\r\n```\r\n\r\n#### Versions\r\nLinux-4.15.0-1058-aws-x86_64-with-debian-buster-sid\r\nPython 3.6.8 (default, Nov 18 2019, 13:36:54) \r\n[GCC 6.5.0 20181026]\r\nNumPy 1.18.1\r\nSciPy 1.4.1\r\nScikit-Learn 0.22.1\r\nImbalanced-Learn 0.6.1\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/680", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/680/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/680/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/680/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/680", "id": 558173985, "node_id": "MDU6SXNzdWU1NTgxNzM5ODU=", "number": 680, "title": "normalize parameter names", "user": {"login": "rola93", "id": 25650996, "node_id": "MDQ6VXNlcjI1NjUwOTk2", "avatar_url": "https://avatars2.githubusercontent.com/u/25650996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rola93", "html_url": "https://github.com/rola93", "followers_url": "https://api.github.com/users/rola93/followers", "following_url": "https://api.github.com/users/rola93/following{/other_user}", "gists_url": "https://api.github.com/users/rola93/gists{/gist_id}", "starred_url": "https://api.github.com/users/rola93/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rola93/subscriptions", "organizations_url": "https://api.github.com/users/rola93/orgs", "repos_url": "https://api.github.com/users/rola93/repos", "events_url": "https://api.github.com/users/rola93/events{/privacy}", "received_events_url": "https://api.github.com/users/rola93/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-31T14:44:42Z", "updated_at": "2020-01-31T16:26:15Z", "closed_at": "2020-01-31T16:26:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello\r\n\r\nI'm using imbalanced-learn==0.6.1.\r\n\r\nWhen running the following code throws an error just because some parameters with similar behavior are named differently across different classes:\r\n\r\n```python\r\nfrom imblearn.over_sampling import ADASYN, SMOTE\r\nfrom sklearn.neighbors import KNeighborsClassifier\r\nfrom sklearn.preprocessing import StandardScaler\r\nfrom imblearn.pipeline import Pipeline\r\n\r\nscaler = StandardScaler()\r\nclf = KNeighborsClassifier()\r\nadasyn = ADASYN(sampling_strategy=sampling_strategy, random_state=0)\r\nsmote = SMOTE(sampling_strategy=sampling_strategy, random_state=0)\r\n\r\npipe = Pipeline(steps=[\r\n                       ('under_sampler', sub_sampler),\r\n                       ('scaler', scaler),\r\n                       ('clf', clf)])\r\n\r\nparameters = {\r\n    'clf__n_neighbors':[10,15,20,25,30],\r\n    'clf__p': [1,2],\r\n    'over_sampler': [adasyn, smote, None],\r\n    'over_sampler__n_neighbors': [3,5,10]  # this line causes the problem\r\n}\r\n\r\ngs = GridSearchCV(pipe, parameters, verbose=1, n_jobs=-1, cv=PS, \r\n                      scoring=scoring, refit='balanced_acc')\r\n```\r\n\r\nThe problem is that [ADASYN's](https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.ADASYN.html#imblearn-over-sampling-adasyn) parameter for neigthbours is named `n_neighbors` but [SMOTE's](https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.over_sampling.SMOTE.html#imblearn-over-sampling-smote) parameter is named `k_neighbors`. \r\n\r\nI know this can be workarrounded but it is far better to normalize them. Not sure if this happens with other methods.\r\n\r\nIf you agree, I may write those changes and make the PR, but will need to know the process for this.\r\n\r\nThanks in advance\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/678", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/678/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/678/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/678/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/678", "id": 554397383, "node_id": "MDU6SXNzdWU1NTQzOTczODM=", "number": 678, "title": "ImportError: cannot import name 'MultiOutputMixin' from 'sklearn.base'", "user": {"login": "ionab10", "id": 32436260, "node_id": "MDQ6VXNlcjMyNDM2MjYw", "avatar_url": "https://avatars1.githubusercontent.com/u/32436260?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ionab10", "html_url": "https://github.com/ionab10", "followers_url": "https://api.github.com/users/ionab10/followers", "following_url": "https://api.github.com/users/ionab10/following{/other_user}", "gists_url": "https://api.github.com/users/ionab10/gists{/gist_id}", "starred_url": "https://api.github.com/users/ionab10/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ionab10/subscriptions", "organizations_url": "https://api.github.com/users/ionab10/orgs", "repos_url": "https://api.github.com/users/ionab10/repos", "events_url": "https://api.github.com/users/ionab10/events{/privacy}", "received_events_url": "https://api.github.com/users/ionab10/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-01-23T20:45:58Z", "updated_at": "2020-02-07T06:31:51Z", "closed_at": "2020-02-07T06:31:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "`import SMOTE` not compatible with scikit-learn=0.22.1", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/676", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/676/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/676/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/676/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/676", "id": 550225097, "node_id": "MDU6SXNzdWU1NTAyMjUwOTc=", "number": 676, "title": "Error with under_sampling.CondensedNearestNeighbour", "user": {"login": "WafaMribah", "id": 20195433, "node_id": "MDQ6VXNlcjIwMTk1NDMz", "avatar_url": "https://avatars3.githubusercontent.com/u/20195433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/WafaMribah", "html_url": "https://github.com/WafaMribah", "followers_url": "https://api.github.com/users/WafaMribah/followers", "following_url": "https://api.github.com/users/WafaMribah/following{/other_user}", "gists_url": "https://api.github.com/users/WafaMribah/gists{/gist_id}", "starred_url": "https://api.github.com/users/WafaMribah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/WafaMribah/subscriptions", "organizations_url": "https://api.github.com/users/WafaMribah/orgs", "repos_url": "https://api.github.com/users/WafaMribah/repos", "events_url": "https://api.github.com/users/WafaMribah/events{/privacy}", "received_events_url": "https://api.github.com/users/WafaMribah/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-01-15T14:37:23Z", "updated_at": "2020-02-16T11:01:16Z", "closed_at": "2020-02-16T11:01:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to balance my data by reducing the number of samples of the class 0 but every time I specify the ratio ( via the sampling_strategy parameter, I get the following error :\r\n\r\n#### Code\r\n\r\n```python\r\nimport matplotlib.pyplot as plt\r\nimport numpy as np\r\n\r\nfrom sklearn.decomposition import PCA\r\nfrom imblearn.under_sampling import (CondensedNearestNeighbour,\r\n                                     EditedNearestNeighbours, AllKNN)\r\n\r\nprint(__doc__)\r\n\r\npca = PCA(n_components=2)\r\n\r\nsampling_strategy = {0: 3500, 1:171}\r\ncnn = CondensedNearestNeighbour(sampling_strategy)\r\nX_resampled, y_resampled = cnn.fit_sample(X_train, Y_train)\r\n\r\nValueError: 'sampling_strategy' as a dict for cleaning methods is not supported. Please give a list of the classes to be targeted by the sampling. \r\n```\r\n\r\n#### Remark\r\nIf the sampling strategy parameter is indeed removed as mentioned in the documentation then I would like to know if there is another way to specify the ratio.\r\n\r\n#### Versions\r\n\r\nLinux-4.9.119-44.140.amzn1.x86_64-x86_64-with-glibc2.9\r\nPython 3.6.4 |Anaconda, Inc.| (default, Jan 16 2018, 18:10:19) \r\n[GCC 7.2.0]\r\nNumPy 1.17.0\r\nSciPy 1.3.1\r\nScikit-Learn 0.22.1\r\nImbalanced-Learn 0.6.1\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/671", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/671/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/671/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/671/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/671", "id": 545150847, "node_id": "MDU6SXNzdWU1NDUxNTA4NDc=", "number": 671, "title": "Error with Pipeline and imblearn.over_sampling.RandomOverSampler", "user": {"login": "skatsaounis", "id": 4290399, "node_id": "MDQ6VXNlcjQyOTAzOTk=", "avatar_url": "https://avatars3.githubusercontent.com/u/4290399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/skatsaounis", "html_url": "https://github.com/skatsaounis", "followers_url": "https://api.github.com/users/skatsaounis/followers", "following_url": "https://api.github.com/users/skatsaounis/following{/other_user}", "gists_url": "https://api.github.com/users/skatsaounis/gists{/gist_id}", "starred_url": "https://api.github.com/users/skatsaounis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/skatsaounis/subscriptions", "organizations_url": "https://api.github.com/users/skatsaounis/orgs", "repos_url": "https://api.github.com/users/skatsaounis/repos", "events_url": "https://api.github.com/users/skatsaounis/events{/privacy}", "received_events_url": "https://api.github.com/users/skatsaounis/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566669735, "node_id": "MDU6TGFiZWw1NjY2Njk3MzU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Type:%20Bug", "name": "Type: Bug", "color": "b60205", "default": false, "description": "Indicates an unexpected problem or unintended behavior"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2020-01-03T20:30:49Z", "updated_at": "2020-02-02T20:53:45Z", "closed_at": "2020-02-02T20:53:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nWhen running the method `fit()` on the following Pipeline the code fails with `TypeError`. If I remove the `RandomOverSampler` from the Pipeline then I face no error. Is it a bug or a wrong initialization?\r\n\r\n#### Steps/Code to Reproduce\r\n```python\r\nfrom imblearn.pipeline import Pipeline\r\nfrom sklearn.feature_selection import VarianceThreshold\r\nfrom sklearn.preprocessing import StandardScaler\r\nfrom imblearn.over_sampling import RandomOverSampler\r\nfrom sklearn.decomposition import PCA\r\nfrom sklearn.neighbors import KNeighborsClassifier\r\nfrom sklearn.utils import shuffle\r\nimport numpy as np\r\nimport pandas as pd\r\n\r\nmnist_train = pd.read_csv(\"https://www.python-course.eu/data/mnist/mnist_train.csv\", header=None).values\r\nmnist_test = pd.read_csv(\"https://www.python-course.eu/data/mnist/mnist_test.csv\", header=None).values\r\nmnist = np.concatenate((mnist_train, mnist_test), axis=0)\r\n\r\nxfull = mnist[:, 1:]\r\nyfull = mnist[:, :1]\r\nsdata, starget = shuffle(xfull, yfull, random_state=36)\r\nsamples = 1000\r\nX = sdata[0:samples-1,:]\r\ny = starget[0:samples-1]\r\nX_train, X_test, y_train, y_test = train_test_split(\r\n    X, y, test_size=0.33, random_state=20176)\r\nselector = VarianceThreshold()\r\nscaler = StandardScaler()\r\nros = RandomOverSampler()\r\npca = PCA()\r\nclf = KNeighborsClassifier(n_jobs=-1)\r\npipe = Pipeline(\r\n    steps=[\r\n           ('selector', selector), ('scaler', scaler), ('sampler', ros),\r\n           ('pca', pca), ('kNN', clf)])\r\n# X_train.shape is (669, 784)\r\n# Y_train.shape is (669, 1)\r\npipe.fit(X_train, y_train)\r\n```\r\n\r\n#### Expected Results\r\nNo error is thrown.\r\n\r\n#### Actual Results\r\n```\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-51-da2a32d7cb52> in <module>()\r\n----> pipe.fit(X_train, y_train)\r\n\r\n10 frames\r\n/usr/local/lib/python3.6/dist-packages/sklearn/model_selection/_search.py in fit(self, X, y, groups, **fit_params)\r\n    737             refit_start_time = time.time()\r\n    738             if y is not None:\r\n--> 739                 self.best_estimator_.fit(X, y, **fit_params)\r\n    740             else:\r\n    741                 self.best_estimator_.fit(X, **fit_params)\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/pipeline.py in fit(self, X, y, **fit_params)\r\n    285 \r\n    286         \"\"\"\r\n--> 287         Xt, yt, fit_params = self._fit(X, y, **fit_params)\r\n    288         with _print_elapsed_time('Pipeline',\r\n    289                                  self._log_message(len(self.steps) - 1)):\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/pipeline.py in _fit(self, X, y, **fit_params)\r\n    247                     message_clsname='Pipeline',\r\n    248                     message=self._log_message(step_idx),\r\n--> 249                     **fit_params_steps[name]\r\n    250                 )\r\n    251             # Replace the transformer of the step with the fitted\r\n\r\n/usr/local/lib/python3.6/dist-packages/joblib/memory.py in __call__(self, *args, **kwargs)\r\n    566 \r\n    567     def __call__(self, *args, **kwargs):\r\n--> 568         return self._cached_call(args, kwargs)[0]\r\n    569 \r\n    570     def __getstate__(self):\r\n\r\n/usr/local/lib/python3.6/dist-packages/joblib/memory.py in _cached_call(self, args, kwargs, shelving)\r\n    532 \r\n    533         if must_call:\r\n--> 534             out, metadata = self.call(*args, **kwargs)\r\n    535             if self.mmap_mode is not None:\r\n    536                 # Memmap the output at the first call to be consistent with\r\n\r\n/usr/local/lib/python3.6/dist-packages/joblib/memory.py in call(self, *args, **kwargs)\r\n    732         if self._verbose > 0:\r\n    733             print(format_call(self.func, args, kwargs))\r\n--> 734         output = self.func(*args, **kwargs)\r\n    735         self.store_backend.dump_item(\r\n    736             [func_id, args_id], output, verbose=self._verbose)\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/pipeline.py in _fit_resample_one(sampler, X, y, message_clsname, message, **fit_params)\r\n    412                       **fit_params):\r\n    413     with _print_elapsed_time(message_clsname, message):\r\n--> 414         X_res, y_res = sampler.fit_resample(X, y, **fit_params)\r\n    415 \r\n    416         return X_res, y_res, sampler\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/base.py in fit_resample(self, X, y)\r\n     79         )\r\n     80 \r\n---> 81         output = self._fit_resample(X, y)\r\n     82 \r\n     83         if self._X_columns is not None or self._y_name is not None:\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/over_sampling/_random_over_sampler.py in _fit_resample(self, X, y)\r\n    102     def _fit_resample(self, X, y):\r\n    103         random_state = check_random_state(self.random_state)\r\n--> 104         target_stats = Counter(y)\r\n    105 \r\n    106         sample_indices = range(X.shape[0])\r\n\r\n/usr/lib/python3.6/collections/__init__.py in __init__(*args, **kwds)\r\n    533             raise TypeError('expected at most 1 arguments, got %d' % len(args))\r\n    534         super(Counter, self).__init__()\r\n--> 535         self.update(*args, **kwds)\r\n    536 \r\n    537     def __missing__(self, key):\r\n\r\n/usr/lib/python3.6/collections/__init__.py in update(*args, **kwds)\r\n    620                     super(Counter, self).update(iterable) # fast path when counter is empty\r\n    621             else:\r\n--> 622                 _count_elements(self, iterable)\r\n    623         if kwds:\r\n    624             self.update(kwds)\r\n\r\nTypeError: unhashable type: 'numpy.ndarray'\r\n```\r\n\r\n#### Versions\r\nLinux-4.14.137+-x86_64-with-Ubuntu-18.04-bionic\r\nPython 3.6.9 (default, Nov  7 2019, 10:44:02) \r\n[GCC 8.3.0]\r\nNumPy 1.18.0\r\nSciPy 1.3.3\r\nScikit-Learn 0.22.1\r\nImbalanced-Learn 0.6.1\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/670", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/670/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/670/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/670/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/670", "id": 543125613, "node_id": "MDU6SXNzdWU1NDMxMjU2MTM=", "number": 670, "title": "import error", "user": {"login": "GingerNg", "id": 13898738, "node_id": "MDQ6VXNlcjEzODk4NzM4", "avatar_url": "https://avatars1.githubusercontent.com/u/13898738?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GingerNg", "html_url": "https://github.com/GingerNg", "followers_url": "https://api.github.com/users/GingerNg/followers", "following_url": "https://api.github.com/users/GingerNg/following{/other_user}", "gists_url": "https://api.github.com/users/GingerNg/gists{/gist_id}", "starred_url": "https://api.github.com/users/GingerNg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GingerNg/subscriptions", "organizations_url": "https://api.github.com/users/GingerNg/orgs", "repos_url": "https://api.github.com/users/GingerNg/repos", "events_url": "https://api.github.com/users/GingerNg/events{/privacy}", "received_events_url": "https://api.github.com/users/GingerNg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-28T11:18:41Z", "updated_at": "2019-12-28T11:34:52Z", "closed_at": "2019-12-28T11:34:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\nimport error\r\n/usr/local/lib/python3.6/dist-packages/sklearn/neighbors/_kde.py in <module>\r\n      9 from ..base import BaseEstimator\r\n     10 from ..utils import check_array, check_random_state\r\n---> 11 from ..utils.validation import _check_sample_weight\r\n     12 \r\n     13 from ..utils.extmath import row_norms\r\n\r\nImportError: cannot import name '_check_sample_weight'\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/669", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/669/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/669/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/669/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/669", "id": 543125175, "node_id": "MDU6SXNzdWU1NDMxMjUxNzU=", "number": 669, "title": "impprt error", "user": {"login": "GingerNg", "id": 13898738, "node_id": "MDQ6VXNlcjEzODk4NzM4", "avatar_url": "https://avatars1.githubusercontent.com/u/13898738?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GingerNg", "html_url": "https://github.com/GingerNg", "followers_url": "https://api.github.com/users/GingerNg/followers", "following_url": "https://api.github.com/users/GingerNg/following{/other_user}", "gists_url": "https://api.github.com/users/GingerNg/gists{/gist_id}", "starred_url": "https://api.github.com/users/GingerNg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GingerNg/subscriptions", "organizations_url": "https://api.github.com/users/GingerNg/orgs", "repos_url": "https://api.github.com/users/GingerNg/repos", "events_url": "https://api.github.com/users/GingerNg/events{/privacy}", "received_events_url": "https://api.github.com/users/GingerNg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-28T11:16:59Z", "updated_at": "2020-01-10T20:26:09Z", "closed_at": "2019-12-28T11:17:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-40-b207f60f6035> in <module>\r\n      1 # \u4f7f\u7528imlbearn\u5e93\u4e2d\u4e0a\u91c7\u6837\u65b9\u6cd5\u4e2d\u7684SMOTE\u63a5\u53e3\r\n----> 2 from imblearn.over_sampling import SMOTE\r\n      3 # \u5b9a\u4e49SMOTE\u6a21\u578b\uff0crandom_state\u76f8\u5f53\u4e8e\u968f\u673a\u6570\u79cd\u5b50\u7684\u4f5c\u7528\r\n      4 smo = SMOTE(random_state=42)\r\n      5 X_smo, y_smo = smo.fit_sample(X, y)\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/__init__.py in <module>\r\n     32     Module which allowing to create pipeline with scikit-learn estimators.\r\n     33 \"\"\"\r\n---> 34 from . import combine\r\n     35 from . import ensemble\r\n     36 from . import exceptions\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/combine/__init__.py in <module>\r\n      3 \"\"\"\r\n      4 \r\n----> 5 from ._smote_enn import SMOTEENN\r\n      6 from ._smote_tomek import SMOTETomek\r\n      7 \r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/combine/_smote_enn.py in <module>\r\n      8 from sklearn.utils import check_X_y\r\n      9 \r\n---> 10 from ..base import BaseSampler\r\n     11 from ..over_sampling import SMOTE\r\n     12 from ..over_sampling.base import BaseOverSampler\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/base.py in <module>\r\n     14 from sklearn.utils.multiclass import check_classification_targets\r\n     15 \r\n---> 16 from .utils import check_sampling_strategy, check_target_type\r\n     17 \r\n     18 \r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/utils/__init__.py in <module>\r\n      5 from ._docstring import Substitution\r\n      6 \r\n----> 7 from ._validation import check_neighbors_object\r\n      8 from ._validation import check_target_type\r\n      9 from ._validation import check_sampling_strategy\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/utils/_validation.py in <module>\r\n     12 from sklearn.base import clone\r\n     13 from sklearn.neighbors._base import KNeighborsMixin\r\n---> 14 from sklearn.neighbors import NearestNeighbors\r\n     15 from sklearn.utils.multiclass import type_of_target\r\n     16 \r\n\r\n/usr/local/lib/python3.6/dist-packages/sklearn/neighbors/__init__.py in <module>\r\n     13 from ._regression import KNeighborsRegressor, RadiusNeighborsRegressor\r\n     14 from ._nearest_centroid import NearestCentroid\r\n---> 15 from ._kde import KernelDensity\r\n     16 from ._lof import LocalOutlierFactor\r\n     17 from ._nca import NeighborhoodComponentsAnalysis\r\n\r\n/usr/local/lib/python3.6/dist-packages/sklearn/neighbors/_kde.py in <module>\r\n      9 from ..base import BaseEstimator\r\n     10 from ..utils import check_array, check_random_state\r\n---> 11 from ..utils.validation import _check_sample_weight\r\n     12 \r\n     13 from ..utils.extmath import row_norms\r\n\r\nImportError: cannot import name '_check_sample_weight'\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\nLinux-4.4.0-116-generic-x86_64-with-Ubuntu-18.04-bionic\r\nPython 3.6.5 (default, Apr  1 2018, 05:46:30) \r\n[GCC 7.3.0]\r\nNumPy 1.17.2\r\nSciPy 1.3.1\r\nScikit-Learn 0.21.3\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-48-fda6d6090b32> in <module>\r\n      4 import scipy; print(\"SciPy\", scipy.__version__)\r\n      5 import sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\n----> 6 import imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/__init__.py in <module>\r\n     32     Module which allowing to create pipeline with scikit-learn estimators.\r\n     33 \"\"\"\r\n---> 34 from . import combine\r\n     35 from . import ensemble\r\n     36 from . import exceptions\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/combine/__init__.py in <module>\r\n      3 \"\"\"\r\n      4 \r\n----> 5 from ._smote_enn import SMOTEENN\r\n      6 from ._smote_tomek import SMOTETomek\r\n      7 \r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/combine/_smote_enn.py in <module>\r\n      8 from sklearn.utils import check_X_y\r\n      9 \r\n---> 10 from ..base import BaseSampler\r\n     11 from ..over_sampling import SMOTE\r\n     12 from ..over_sampling.base import BaseOverSampler\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/base.py in <module>\r\n     14 from sklearn.utils.multiclass import check_classification_targets\r\n     15 \r\n---> 16 from .utils import check_sampling_strategy, check_target_type\r\n     17 \r\n     18 \r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/utils/__init__.py in <module>\r\n      5 from ._docstring import Substitution\r\n      6 \r\n----> 7 from ._validation import check_neighbors_object\r\n      8 from ._validation import check_target_type\r\n      9 from ._validation import check_sampling_strategy\r\n\r\n/usr/local/lib/python3.6/dist-packages/imblearn/utils/_validation.py in <module>\r\n     12 from sklearn.base import clone\r\n     13 from sklearn.neighbors._base import KNeighborsMixin\r\n---> 14 from sklearn.neighbors import NearestNeighbors\r\n     15 from sklearn.utils.multiclass import type_of_target\r\n     16 \r\n\r\n/usr/local/lib/python3.6/dist-packages/sklearn/neighbors/__init__.py in <module>\r\n     13 from ._regression import KNeighborsRegressor, RadiusNeighborsRegressor\r\n     14 from ._nearest_centroid import NearestCentroid\r\n---> 15 from ._kde import KernelDensity\r\n     16 from ._lof import LocalOutlierFactor\r\n     17 from ._nca import NeighborhoodComponentsAnalysis\r\n\r\n/usr/local/lib/python3.6/dist-packages/sklearn/neighbors/_kde.py in <module>\r\n      9 from ..base import BaseEstimator\r\n     10 from ..utils import check_array, check_random_state\r\n---> 11 from ..utils.validation import _check_sample_weight\r\n     12 \r\n     13 from ..utils.extmath import row_norms\r\n\r\nImportError: cannot import name '_check_sample_weight'\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/668", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/668/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/668/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/668/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/668", "id": 542750731, "node_id": "MDU6SXNzdWU1NDI3NTA3MzE=", "number": 668, "title": "pipeline and other resampling technique doesnot work with partial_fit method", "user": {"login": "arjunpuri7", "id": 35588369, "node_id": "MDQ6VXNlcjM1NTg4MzY5", "avatar_url": "https://avatars2.githubusercontent.com/u/35588369?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arjunpuri7", "html_url": "https://github.com/arjunpuri7", "followers_url": "https://api.github.com/users/arjunpuri7/followers", "following_url": "https://api.github.com/users/arjunpuri7/following{/other_user}", "gists_url": "https://api.github.com/users/arjunpuri7/gists{/gist_id}", "starred_url": "https://api.github.com/users/arjunpuri7/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arjunpuri7/subscriptions", "organizations_url": "https://api.github.com/users/arjunpuri7/orgs", "repos_url": "https://api.github.com/users/arjunpuri7/repos", "events_url": "https://api.github.com/users/arjunpuri7/events{/privacy}", "received_events_url": "https://api.github.com/users/arjunpuri7/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-12-27T05:31:12Z", "updated_at": "2020-06-08T18:50:02Z", "closed_at": "2020-06-08T18:50:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "dear sir,  \r\n           presently I am working with imbalanced datasets having dimension 20 billion instances and 1450 features. I am using Dask.dataframe  as inputing library beacuse my data does not fit into my ram. and willing to incremental machine learning model. while using make_pipeline from pipeline library, I am getting am error that make_pipeline does not  work with partial_fit function used for big data. please suggest me way out to use imbalance learning algorithms with these datasets.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/667", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/667/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/667/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/667/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/667", "id": 539813440, "node_id": "MDU6SXNzdWU1Mzk4MTM0NDA=", "number": 667, "title": "Benchmark for dataset size before Memory Errors on `SMOTENC` resampled dataset creation", "user": {"login": "00krishna", "id": 2063593, "node_id": "MDQ6VXNlcjIwNjM1OTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/2063593?v=4", "gravatar_id": "", "url": "https://api.github.com/users/00krishna", "html_url": "https://github.com/00krishna", "followers_url": "https://api.github.com/users/00krishna/followers", "following_url": "https://api.github.com/users/00krishna/following{/other_user}", "gists_url": "https://api.github.com/users/00krishna/gists{/gist_id}", "starred_url": "https://api.github.com/users/00krishna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/00krishna/subscriptions", "organizations_url": "https://api.github.com/users/00krishna/orgs", "repos_url": "https://api.github.com/users/00krishna/repos", "events_url": "https://api.github.com/users/00krishna/events{/privacy}", "received_events_url": "https://api.github.com/users/00krishna/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-12-18T17:17:01Z", "updated_at": "2019-12-19T23:58:30Z", "closed_at": "2019-12-19T23:58:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n\r\nI am getting a memory error when using the `SMOTENC` `fit_resample()` method on a large dataset. I have about 8 million rows and about 50,000 positive values. I have 5 categorical columns and 1 numeric column in the dataset. \r\n\r\nI can try and \"thin\" my dataset to reduce it. But I was wondering if any benchmarking has been done to estimate workable dataset sizes? \r\n\r\nI can post the code here, but I think it will be the same as #300 or similar issues. \r\n\r\n\r\n\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\nI can post the code here, but I think it will be the same as #300 or similar issues. \r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\nNo error should be thrown. I should get the resampled dataset as output.\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\n```\r\n---------------------------------------------------------------------------\r\nMemoryError                               Traceback (most recent call last)\r\n<ipython-input-11-9a6295703248> in <module>\r\n----> 1 X_resampled, y_resampled = smote_nc.fit_resample(df_features, df_labels)\r\n\r\n/media/hayagriva/anaconda3/envs/pNumerical/lib/python3.7/site-packages/imblearn/base.py in fit_resample(self, X, y)\r\n     79         )\r\n     80 \r\n---> 81         output = self._fit_resample(X, y)\r\n     82 \r\n     83         if self._X_columns is not None or self._y_name is not None:\r\n\r\n/media/hayagriva/anaconda3/envs/pNumerical/lib/python3.7/site-packages/imblearn/over_sampling/_smote.py in _fit_resample(self, X, y)\r\n    980         X_encoded = sparse.hstack((X_continuous, X_ohe), format=\"csr\")\r\n    981 \r\n--> 982         X_resampled, y_resampled = super()._fit_resample(X_encoded, y)\r\n    983 \r\n    984         # reverse the encoding of the categorical features\r\n\r\n/media/hayagriva/anaconda3/envs/pNumerical/lib/python3.7/site-packages/imblearn/over_sampling/_smote.py in _fit_resample(self, X, y)\r\n    727             nns = self.nn_k_.kneighbors(X_class, return_distance=False)[:, 1:]\r\n    728             X_new, y_new = self._make_samples(\r\n--> 729                 X_class, y.dtype, class_sample, X_class, nns, n_samples, 1.0\r\n    730             )\r\n    731             X_resampled.append(X_new)\r\n\r\n/media/hayagriva/anaconda3/envs/pNumerical/lib/python3.7/site-packages/imblearn/over_sampling/_smote.py in _make_samples(self, X, y_dtype, y_type, nn_data, nn_num, n_samples, step_size)\r\n    107         cols = np.mod(samples_indices, nn_num.shape[1])\r\n    108 \r\n--> 109         X_new = self._generate_samples(X, nn_data, nn_num, rows, cols, steps)\r\n    110         y_new = np.full(n_samples, fill_value=y_type, dtype=y_dtype)\r\n    111         return X_new, y_new\r\n\r\n/media/hayagriva/anaconda3/envs/pNumerical/lib/python3.7/site-packages/imblearn/over_sampling/_smote.py in _generate_samples(self, X, nn_data, nn_num, rows, cols, steps)\r\n   1035         # convert to dense array since scipy.sparse doesn't handle 3D\r\n   1036         nn_data = (nn_data.toarray() if sparse.issparse(nn_data) else nn_data)\r\n-> 1037         all_neighbors = nn_data[nn_num[rows]]\r\n   1038 \r\n   1039         categories_size = [self.continuous_features_.size] + [\r\n\r\nMemoryError: Unable to allocate array with shape (8218042, 5, 19611) and data type float64\r\n```\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\nLinux-4.15.0-72-generic-x86_64-with-debian-buster-sid\r\nPython 3.7.5 (default, Oct 25 2019, 15:51:11) \r\n[GCC 7.3.0]\r\nNumPy 1.17.4\r\nSciPy 1.3.2\r\nScikit-Learn 0.22\r\nImbalanced-Learn 0.6.1\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/666", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/666/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/666/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/666/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/666", "id": 539632407, "node_id": "MDU6SXNzdWU1Mzk2MzI0MDc=", "number": 666, "title": "AttributeError: 'DataFrame' object has no attribute 'name'", "user": {"login": "islrnd", "id": 55795162, "node_id": "MDQ6VXNlcjU1Nzk1MTYy", "avatar_url": "https://avatars1.githubusercontent.com/u/55795162?v=4", "gravatar_id": "", "url": "https://api.github.com/users/islrnd", "html_url": "https://github.com/islrnd", "followers_url": "https://api.github.com/users/islrnd/followers", "following_url": "https://api.github.com/users/islrnd/following{/other_user}", "gists_url": "https://api.github.com/users/islrnd/gists{/gist_id}", "starred_url": "https://api.github.com/users/islrnd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/islrnd/subscriptions", "organizations_url": "https://api.github.com/users/islrnd/orgs", "repos_url": "https://api.github.com/users/islrnd/repos", "events_url": "https://api.github.com/users/islrnd/events{/privacy}", "received_events_url": "https://api.github.com/users/islrnd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 18, "created_at": "2019-12-18T11:48:14Z", "updated_at": "2020-02-16T11:18:58Z", "closed_at": "2020-02-12T15:52:36Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "```pytb\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-32-8d38637b6cc6> in <module>\r\n      6 \r\n      7 oversampler=SMOTE(random_state=42)\r\n----> 8 smote_train, smote_target = oversampler.fit_resample(X,y)\r\n      9 \r\n     10 print(\"Before OverSampling, counts of label '0', '1':\", smote_target['label'].value_counts())\r\n\r\n~\\Anaconda3\\lib\\site-packages\\imblearn\\base.py in fit_resample(self, X, y)\r\n     73         \"\"\"\r\n     74         check_classification_targets(y)\r\n---> 75         X, y, binarize_y = self._check_X_y(X, y)\r\n     76 \r\n     77         self.sampling_strategy_ = check_sampling_strategy(\r\n\r\n~\\Anaconda3\\lib\\site-packages\\imblearn\\base.py in _check_X_y(self, X, y, accept_sparse)\r\n    148         if hasattr(y, \"loc\"):\r\n    149             # store information to build a series\r\n--> 150             self._y_name = y.name\r\n    151             self._y_dtype = y.dtype\r\n    152         else:\r\n\r\n~\\Anaconda3\\lib\\site-packages\\pandas\\core\\generic.py in __getattr__(self, name)\r\n   5065             if self._info_axis._can_hold_identifiers_and_holds_name(name):\r\n   5066                 return self[name]\r\n-> 5067             return object.__getattribute__(self, name)\r\n   5068 \r\n   5069     def __setattr__(self, name, value):\r\n\r\nAttributeError: 'DataFrame' object has no attribute 'name'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/665", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/665/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/665/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/665/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/665", "id": 539517996, "node_id": "MDU6SXNzdWU1Mzk1MTc5OTY=", "number": 665, "title": "make_pipeline does not make use of `verbose` keyword argument.", "user": {"login": "zoj613", "id": 44142765, "node_id": "MDQ6VXNlcjQ0MTQyNzY1", "avatar_url": "https://avatars1.githubusercontent.com/u/44142765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zoj613", "html_url": "https://github.com/zoj613", "followers_url": "https://api.github.com/users/zoj613/followers", "following_url": "https://api.github.com/users/zoj613/following{/other_user}", "gists_url": "https://api.github.com/users/zoj613/gists{/gist_id}", "starred_url": "https://api.github.com/users/zoj613/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zoj613/subscriptions", "organizations_url": "https://api.github.com/users/zoj613/orgs", "repos_url": "https://api.github.com/users/zoj613/repos", "events_url": "https://api.github.com/users/zoj613/events{/privacy}", "received_events_url": "https://api.github.com/users/zoj613/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-18T07:58:47Z", "updated_at": "2019-12-18T11:27:18Z", "closed_at": "2019-12-18T11:27:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\nThe `make_pipeline` function does not support the `verbose` keyword argument. The function is designed to throw an error everytime a keyword argument is passed onto it, even if it is valid.\r\nhttps://github.com/scikit-learn-contrib/imbalanced-learn/blob/12b2e0d2858a30d4687fbf910372b8f416b33998/imblearn/pipeline.py#L587-L634\r\n\r\n#### Steps/Code to Reproduce\r\n```python\r\nfrom imblearn.over_sampling import SMOTE\r\nfrom imblearn.pipeline import make_pipeline\r\nfrom sklearn.datasets import make_classification\r\nfrom sklearn.linear_model import SGDClassifier\r\nfrom sklearn.preprocessing import StandardScaler\r\n\r\n\r\n\r\nX, y = make_classification(n_samples=5000, n_features=2, n_informative=2,\r\n                           n_redundant=0, n_repeated=0, n_classes=2,\r\n                           n_clusters_per_class=1,\r\n                           weights=[0.1, 0.90],\r\n                           class_sep=0.8, random_state=0)\r\n\r\npipe = make_pipeline([StandardScaler(), SMOTE(), SGDClassifier()], verbose=True)\r\npipe.fit(X, y)\r\n```\r\n\r\n#### Expected Results\r\nI expect it to not throw an error and complete creating the pipeline object and fit successfully.\r\n\r\n#### Actual Results\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-11-435d2e6073f3> in <module>\r\n     13                            class_sep=0.8, random_state=0)\r\n     14 \r\n---> 15 pipe = make_pipeline([StandardScaler(), SMOTE(), SGDClassifier()], verbose=True)\r\n\r\n~/.pyenv/versions/3.6.8/envs/absa-py36/lib/python3.6/site-packages/imblearn/pipeline.py in make_pipeline(*steps, **kwargs)\r\n    631     if kwargs:\r\n    632         raise TypeError('Unknown keyword arguments: \"{}\"'\r\n--> 633                         .format(list(kwargs.keys())[0]))\r\n    634     return Pipeline(pipeline._name_estimators(steps), memory=memory)\r\n\r\nTypeError: Unknown keyword arguments: \"verbose\"\r\n```\r\n\r\n#### Versions\r\n```\r\nLinux-5.0.0-32-generic-x86_64-with-debian-buster-sid\r\nPython 3.6.8 (default, Jun 19 2019, 16:55:47) \r\n[GCC 6.5.0 20181026]\r\nNumPy 1.17.4\r\nSciPy 1.4.0\r\nScikit-Learn 0.21.3\r\nImbalanced-Learn 0.5.0\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/664", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/664/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/664/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/664/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/664", "id": 535740905, "node_id": "MDU6SXNzdWU1MzU3NDA5MDU=", "number": 664, "title": "scikit-learn support", "user": {"login": "chkoar", "id": 11897937, "node_id": "MDQ6VXNlcjExODk3OTM3", "avatar_url": "https://avatars0.githubusercontent.com/u/11897937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chkoar", "html_url": "https://github.com/chkoar", "followers_url": "https://api.github.com/users/chkoar/followers", "following_url": "https://api.github.com/users/chkoar/following{/other_user}", "gists_url": "https://api.github.com/users/chkoar/gists{/gist_id}", "starred_url": "https://api.github.com/users/chkoar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chkoar/subscriptions", "organizations_url": "https://api.github.com/users/chkoar/orgs", "repos_url": "https://api.github.com/users/chkoar/repos", "events_url": "https://api.github.com/users/chkoar/events{/privacy}", "received_events_url": "https://api.github.com/users/chkoar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-12-10T13:47:05Z", "updated_at": "2019-12-12T22:06:55Z", "closed_at": "2019-12-10T14:25:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I think that we should support the two latest (the current and the previous one) minor releases of `scikit-learn` otherwise we force users to upgrade. See [here](https://github.com/scikit-learn-contrib/imbalanced-learn/issues/663) for a recent example. Apart from that we [require](https://github.com/scikit-learn-contrib/imbalanced-learn/blob/2b86e7296bf19f6304b5c3cbfb0ee78709a68a9c/requirements.txt#L3) the previous minor release of `scikit-learn` so it does not executed the automatic update via pip. Something that would be bad either way IMHO.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/663", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/663/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/663/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/663/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/663", "id": 535718008, "node_id": "MDU6SXNzdWU1MzU3MTgwMDg=", "number": 663, "title": "ImportError: cannot import name 'LatentDirichletAllocation'", "user": {"login": "emtropyml", "id": 53178223, "node_id": "MDQ6VXNlcjUzMTc4MjIz", "avatar_url": "https://avatars1.githubusercontent.com/u/53178223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emtropyml", "html_url": "https://github.com/emtropyml", "followers_url": "https://api.github.com/users/emtropyml/followers", "following_url": "https://api.github.com/users/emtropyml/following{/other_user}", "gists_url": "https://api.github.com/users/emtropyml/gists{/gist_id}", "starred_url": "https://api.github.com/users/emtropyml/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emtropyml/subscriptions", "organizations_url": "https://api.github.com/users/emtropyml/orgs", "repos_url": "https://api.github.com/users/emtropyml/repos", "events_url": "https://api.github.com/users/emtropyml/events{/privacy}", "received_events_url": "https://api.github.com/users/emtropyml/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2019-12-10T13:06:03Z", "updated_at": "2019-12-17T12:54:19Z", "closed_at": "2019-12-13T18:58:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "```pytb\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-1-78f70fb0706d> in <module>\r\n      1 from skmultilearn.problem_transform import LabelPowerset\r\n----> 2 from imblearn.over_sampling import RandomOverSampler\r\n\r\n~/.local/lib/python3.5/site-packages/imblearn/__init__.py in <module>\r\n     32     Module which allowing to create pipeline with scikit-learn estimators.\r\n     33 \"\"\"\r\n---> 34 from . import combine\r\n     35 from . import ensemble\r\n     36 from . import exceptions\r\n\r\n~/.local/lib/python3.5/site-packages/imblearn/combine/__init__.py in <module>\r\n      3 \"\"\"\r\n      4 \r\n----> 5 from ._smote_enn import SMOTEENN\r\n      6 from ._smote_tomek import SMOTETomek\r\n      7 \r\n\r\n~/.local/lib/python3.5/site-packages/imblearn/combine/_smote_enn.py in <module>\r\n      8 from sklearn.utils import check_X_y\r\n      9 \r\n---> 10 from ..base import BaseSampler\r\n     11 from ..over_sampling import SMOTE\r\n     12 from ..over_sampling.base import BaseOverSampler\r\n\r\n~/.local/lib/python3.5/site-packages/imblearn/base.py in <module>\r\n     14 from sklearn.utils.multiclass import check_classification_targets\r\n     15 \r\n---> 16 from .utils import check_sampling_strategy, check_target_type\r\n     17 \r\n     18 \r\n\r\n~/.local/lib/python3.5/site-packages/imblearn/utils/__init__.py in <module>\r\n      5 from ._docstring import Substitution\r\n      6 \r\n----> 7 from ._validation import check_neighbors_object\r\n      8 from ._validation import check_target_type\r\n      9 from ._validation import check_sampling_strategy\r\n\r\n~/.local/lib/python3.5/site-packages/imblearn/utils/_validation.py in <module>\r\n     11 \r\n     12 from sklearn.base import clone\r\n---> 13 from sklearn.neighbors._base import KNeighborsMixin\r\n     14 from sklearn.neighbors import NearestNeighbors\r\n     15 from sklearn.utils.multiclass import type_of_target\r\n\r\n~/.local/lib/python3.5/site-packages/sklearn/neighbors/__init__.py in <module>\r\n     15 from ._kde import KernelDensity\r\n     16 from ._lof import LocalOutlierFactor\r\n---> 17 from ._nca import NeighborhoodComponentsAnalysis\r\n     18 from ._base import VALID_METRICS, VALID_METRICS_SPARSE\r\n     19 \r\n\r\n~/.local/lib/python3.5/site-packages/sklearn/neighbors/_nca.py in <module>\r\n     20 from ..base import BaseEstimator, TransformerMixin\r\n     21 from ..preprocessing import LabelEncoder\r\n---> 22 from ..decomposition import PCA\r\n     23 from ..utils.multiclass import check_classification_targets\r\n     24 from ..utils.random import check_random_state\r\n\r\n~/.local/lib/python3.5/site-packages/sklearn/decomposition/__init__.py in <module>\r\n     17 from ._factor_analysis import FactorAnalysis\r\n     18 from ..utils.extmath import randomized_svd\r\n---> 19 from ._online_lda import LatentDirichletAllocation\r\n     20 \r\n     21 __all__ = ['DictionaryLearning',\r\n\r\nImportError: cannot import name 'LatentDirichletAllocation'\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/662", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/662/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/662/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/662/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/662", "id": 534583624, "node_id": "MDU6SXNzdWU1MzQ1ODM2MjQ=", "number": 662, "title": "SMOTE-NC: wrong class categories are resampled when self.median_std_ == 0.0", "user": {"login": "gilbenzvi", "id": 48992229, "node_id": "MDQ6VXNlcjQ4OTkyMjI5", "avatar_url": "https://avatars1.githubusercontent.com/u/48992229?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gilbenzvi", "html_url": "https://github.com/gilbenzvi", "followers_url": "https://api.github.com/users/gilbenzvi/followers", "following_url": "https://api.github.com/users/gilbenzvi/following{/other_user}", "gists_url": "https://api.github.com/users/gilbenzvi/gists{/gist_id}", "starred_url": "https://api.github.com/users/gilbenzvi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gilbenzvi/subscriptions", "organizations_url": "https://api.github.com/users/gilbenzvi/orgs", "repos_url": "https://api.github.com/users/gilbenzvi/repos", "events_url": "https://api.github.com/users/gilbenzvi/events{/privacy}", "received_events_url": "https://api.github.com/users/gilbenzvi/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1989228107, "node_id": "MDU6TGFiZWwxOTg5MjI4MTA3", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Package:%20over_sampling", "name": "Package: over_sampling", "color": "27178c", "default": false, "description": ""}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-08T18:52:21Z", "updated_at": "2020-06-09T09:34:38Z", "closed_at": "2020-06-09T09:34:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description:\r\nWhen using `'not majority'` method and when self.median_std_ == 0.0 (based on the minority class standard deviations), the new over-sampled categorical field gets categories which don't belong to the given class, but rather are any of the categories of the WHOLE categorical field, across classes. This is a violation of the main imputation logic in the original paper, where the K nearest neighbours, and their fields distributions, are calculated and taken within the same-class vectors.\r\n\r\nThis issue occurs through the following two code segments:\r\n1. in `_smote.py`, class `SMOTENC`, method `_fit_resample`:\r\n\r\n```\r\ndef _fit_resample(self, X, y):\r\n...\r\n        # we can replace the 1 entries of the categorical features with the\r\n        # median of the standard deviation. It will ensure that whenever\r\n        # distance is computed between 2 samples, the difference will be equal\r\n        # to the median of the standard deviation as in the original paper.\r\n        X_ohe.data = (np.ones_like(X_ohe.data, dtype=X_ohe.dtype) *\r\n                      self.median_std_ / 2)\r\n...\r\n```\r\n The problem occurs when the median std of the minority class is zero (`self.median_std_ == 0.0`): the one-hot vectors are multiplied by 0.0, then we get zero-vectors and all the information of the categories (i.e. which category is represented) is lost.\r\n\r\n2. in `_smote.py`, class `SMOTENC`, method `_generate_sample`:\r\n```\r\ndef _generate_sample(self, X, nn_data, nn_num, row, col, step):\r\n...\r\n        for start_idx, end_idx in zip(np.cumsum(categories_size)[:-1],\r\n                                      np.cumsum(categories_size)[1:]):\r\n            col_max = all_neighbors[:, start_idx:end_idx].sum(axis=0)\r\n            # tie breaking argmax\r\n            col_sel = rng.choice(np.flatnonzero(\r\n                np.isclose(col_max, col_max.max())))\r\n...\r\n```\r\nThen, `col_max` gets the zero-vectors from the previous step and `col_sel` gets a random tie-breaking choice from the WHOLE categories range, including categories which don't belong to the resampled minority class. This happens because no information was kept regarding the categories of the K nearest neighbours and thus there's no maximum value of any category across the vectors to determine the true value.\r\n\r\n### Example: \r\n```\r\n### First three columns are continuous and the fourth is categorical\r\ndata = np.array([[1, 2, 1, 'A'], [2, 1, 2, 'A'], [1, 2, 3, 'B'], [1, 2, 4, 'C'], [1, 2, 5, 'C']])\r\nlabels = np.array(['class_1', 'class_1', 'class_1', 'class_2', 'class_2'])\r\nprint(data)\r\narray([['1', '2', '1', 'A'],\r\n       ['2', '1', '2', 'A'],\r\n       ['1', '2', '3', 'B'],\r\n       ['1', '2', '4', 'C'],\r\n       ['1', '2', '5', 'C']], dtype='<U21')\r\nprint(labels)\r\narray(['class_1', 'class_1', 'class_1', 'class_2', 'class_2'], dtype='<U7')\r\n\r\n```\r\n#### Expected Results:\r\n```\r\nprint(resampled_data)\r\narray([['1', '2', '1', 'A'],\r\n       ['2', '1', '2', 'A'],\r\n       ['1', '2', '3', 'B'],\r\n       ['1', '2', '4', 'C'],\r\n       ['1', '2', '5', 'C'],\r\n       ['1', '2', '4.72', 'C']], dtype='<U21')\r\n\r\nprint(resampled_labels)\r\narray(['class_1', 'class_1', 'class_1', 'class_2', 'class_2', 'class_2'],\r\n      dtype='<U7')\r\n```\r\n#### Actual Results:\r\n```\r\nprint(resampled_data)\r\narray([['1', '2', '1', 'A'],\r\n       ['2', '1', '2', 'A'],\r\n       ['1', '2', '3', 'B'],\r\n       ['1', '2', '4', 'C'],\r\n       ['1', '2', '5', 'C'],\r\n       ['1', '2', '4.72', 'A']], dtype='<U21')\r\n\r\nprint(resampled_labels)\r\narray(['class_1', 'class_1', 'class_1', 'class_2', 'class_2', 'class_2'],\r\n      dtype='<U7')\r\n```\r\n\r\n#### Versions\r\nDarwin-19.0.0-x86_64-i386-64bit\r\nPython 3.5.4 (v3.5.4:3f56838976, Aug  7 2017, 12:56:33) \r\n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]\r\nNumPy 1.16.3\r\nSciPy 1.3.0\r\nScikit-Learn 0.21.2\r\nImbalanced-Learn 0.5.0\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/659", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/659/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/659/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/659/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/659", "id": 533396339, "node_id": "MDU6SXNzdWU1MzMzOTYzMzk=", "number": 659, "title": "Add a CRON job in CI", "user": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-05T14:45:01Z", "updated_at": "2020-02-16T11:17:28Z", "closed_at": "2020-02-16T11:17:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We should add a CRON job to be sure to have tests running weekly.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/655", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/655/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/655/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/655/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/655", "id": 532656140, "node_id": "MDU6SXNzdWU1MzI2NTYxNDA=", "number": 655, "title": "Overestimation of OOB score, probable bug in resampling?", "user": {"login": "SvenWarnke", "id": 44029716, "node_id": "MDQ6VXNlcjQ0MDI5NzE2", "avatar_url": "https://avatars3.githubusercontent.com/u/44029716?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SvenWarnke", "html_url": "https://github.com/SvenWarnke", "followers_url": "https://api.github.com/users/SvenWarnke/followers", "following_url": "https://api.github.com/users/SvenWarnke/following{/other_user}", "gists_url": "https://api.github.com/users/SvenWarnke/gists{/gist_id}", "starred_url": "https://api.github.com/users/SvenWarnke/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SvenWarnke/subscriptions", "organizations_url": "https://api.github.com/users/SvenWarnke/orgs", "repos_url": "https://api.github.com/users/SvenWarnke/repos", "events_url": "https://api.github.com/users/SvenWarnke/events{/privacy}", "received_events_url": "https://api.github.com/users/SvenWarnke/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566669735, "node_id": "MDU6TGFiZWw1NjY2Njk3MzU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Type:%20Bug", "name": "Type: Bug", "color": "b60205", "default": false, "description": "Indicates an unexpected problem or unintended behavior"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-12-04T12:34:37Z", "updated_at": "2019-12-06T16:30:45Z", "closed_at": "2019-12-06T16:30:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nWhen I calculate out of bag score the out of bag score is quite high, even if there is no connection between features and labels. I assume, that something goes wrong in keeping track of which samples are out of bag for each tree. Hence, the samples get evaluated on some trees where they where in fact in the bag.\r\n\r\n#### Steps/Code to Reproduce\r\n\r\nExample:\r\n```\r\nimport numpy as np\r\nfrom imblearn import ensemble\r\n\r\nX = np.arange(1000).reshape(-1, 1)\r\ny = np.random.binomial(1, 0.5, size=1000)\r\n\r\nrf = ensemble.BalancedRandomForestClassifier(oob_score=True)\r\nrf.fit(X, y)\r\nrf.oob_score_\r\n```\r\nthe output is 0.838\r\n\r\n#### Expected Results\r\nSince there is no relationship between the X, y (y are just independent coin flips) OOB should be around 0.5\r\n\r\n#### Actual Results\r\nSomething in the range of 0.8, which is very significant on a sample size of 1000.\r\n\r\n#### Versions\r\nWindows-10-10.0.18362-SP0\r\nPython 3.7.4 (default, Aug  9 2019, 18:34:13) [MSC v.1915 64 bit (AMD64)]\r\nNumPy 1.16.5\r\nSciPy 1.3.1\r\nScikit-Learn 0.21.3\r\nImbalanced-Learn 0.5.0\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/641", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/641/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/641/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/641/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/641", "id": 523885415, "node_id": "MDU6SXNzdWU1MjM4ODU0MTU=", "number": 641, "title": "Synchronize boosting algorithm with scikit-learn", "user": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-16T19:25:12Z", "updated_at": "2019-11-16T20:44:06Z", "closed_at": "2019-11-16T20:44:06Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We had a couple of bug fixes in adaboost which need to be added in imbalanced-learn", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/639", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/639/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/639/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/639/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/639", "id": 523840009, "node_id": "MDU6SXNzdWU1MjM4NDAwMDk=", "number": 639, "title": "Add support for dataframe in/out", "user": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/milestones/4", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/milestone/4", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/milestones/4/labels", "id": 4853083, "node_id": "MDk6TWlsZXN0b25lNDg1MzA4Mw==", "number": 4, "title": "0.6", "description": "", "creator": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 3, "state": "open", "created_at": "2019-11-17T11:41:39Z", "updated_at": "2019-12-05T13:31:56Z", "due_on": "2019-12-01T08:00:00Z", "closed_at": null}, "comments": 0, "created_at": "2019-11-16T12:36:17Z", "updated_at": "2019-11-17T20:07:51Z", "closed_at": "2019-11-17T20:07:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We should allow passing a dataframe in and output a dataframe. Each sampler could store the column name and recreate a dataframe.\r\n\r\nWe need to check how to handle the dependency", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/635", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/635/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/635/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/635/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/635", "id": 521180105, "node_id": "MDU6SXNzdWU1MjExODAxMDU=", "number": 635, "title": "Error in documentation NeighborhoodCleaningRule", "user": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566670067, "node_id": "MDU6TGFiZWw1NjY2NzAwNjc=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/For:%20Documentation", "name": "For: Documentation", "color": "0052cc", "default": false, "description": "Indicates a need for improvements or additions to documentation"}, {"id": 728051678, "node_id": "MDU6TGFiZWw3MjgwNTE2Nzg=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Status:%20Help%20Wanted", "name": "Status: Help Wanted", "color": "5ad32e", "default": false, "description": "Indicates that a maintainer wants help on an issue or pull request"}, {"id": 1225786211, "node_id": "MDU6TGFiZWwxMjI1Nzg2MjEx", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/easy", "name": "easy", "color": "02d7e1", "default": false, "description": ""}, {"id": 728052805, "node_id": "MDU6TGFiZWw3MjgwNTI4MDU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/good%20first%20issue", "name": "good first issue", "color": "1acc9c", "default": true, "description": "Indicates a good issue for first-time contributors"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-11T20:50:26Z", "updated_at": "2019-11-15T23:04:32Z", "closed_at": "2019-11-15T23:04:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In the documentation of `NeighborhoodCleaningRule`, the parameter `kind_sel` is not exposed while it can be set. We should document this parameter.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/634", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/634/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/634/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/634/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/634", "id": 521175935, "node_id": "MDU6SXNzdWU1MjExNzU5MzU=", "number": 634, "title": "Error in the reference in user guide", "user": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566670067, "node_id": "MDU6TGFiZWw1NjY2NzAwNjc=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/For:%20Documentation", "name": "For: Documentation", "color": "0052cc", "default": false, "description": "Indicates a need for improvements or additions to documentation"}, {"id": 728051678, "node_id": "MDU6TGFiZWw3MjgwNTE2Nzg=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Status:%20Help%20Wanted", "name": "Status: Help Wanted", "color": "5ad32e", "default": false, "description": "Indicates that a maintainer wants help on an issue or pull request"}, {"id": 1225786211, "node_id": "MDU6TGFiZWwxMjI1Nzg2MjEx", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/easy", "name": "easy", "color": "02d7e1", "default": false, "description": ""}, {"id": 728052805, "node_id": "MDU6TGFiZWw3MjgwNTI4MDU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/good%20first%20issue", "name": "good first issue", "color": "1acc9c", "default": true, "description": "Indicates a good issue for first-time contributors"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-11T20:41:05Z", "updated_at": "2019-11-16T13:19:13Z", "closed_at": "2019-11-16T13:19:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The reference for Tomek's link (year) is wrong.\r\nAlso there is an issue with the alignment of the references in the section CNN", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/627", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/627/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/627/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/627/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/627", "id": 517233767, "node_id": "MDU6SXNzdWU1MTcyMzM3Njc=", "number": 627, "title": "Validate documentation with numpydoc validator", "user": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-04T15:39:54Z", "updated_at": "2019-11-16T20:43:36Z", "closed_at": "2019-11-16T20:43:36Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We should follow the numpydoc convention. We need to pass the numpydoc validator similarly to what is done in scikit-learn.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/625", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/625/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/625/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/625/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/625", "id": 515985158, "node_id": "MDU6SXNzdWU1MTU5ODUxNTg=", "number": 625, "title": "Move documentation from readthedocs to github page", "user": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-11-01T08:49:08Z", "updated_at": "2019-11-08T21:22:01Z", "closed_at": "2019-11-08T21:22:01Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We did a move some time ago to move the documentation to readthedocs. However, there is too much limitation on the hardware part and on the install flexibility that we should move back pushing the doc built with circleci into a github page.\r\n\r\nI created the following repository: https://github.com/imbalanced-learn/imbalanced-learn-doc\r\nto host the page.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/619", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/619/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/619/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/619/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/619", "id": 515579539, "node_id": "MDU6SXNzdWU1MTU1Nzk1Mzk=", "number": 619, "title": "Update some estimator for scikit-learn 0.22", "user": {"login": "glemaitre", "id": 7454015, "node_id": "MDQ6VXNlcjc0NTQwMTU=", "avatar_url": "https://avatars2.githubusercontent.com/u/7454015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glemaitre", "html_url": "https://github.com/glemaitre", "followers_url": "https://api.github.com/users/glemaitre/followers", "following_url": "https://api.github.com/users/glemaitre/following{/other_user}", "gists_url": "https://api.github.com/users/glemaitre/gists{/gist_id}", "starred_url": "https://api.github.com/users/glemaitre/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glemaitre/subscriptions", "organizations_url": "https://api.github.com/users/glemaitre/orgs", "repos_url": "https://api.github.com/users/glemaitre/repos", "events_url": "https://api.github.com/users/glemaitre/events{/privacy}", "received_events_url": "https://api.github.com/users/glemaitre/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-31T16:38:14Z", "updated_at": "2019-10-31T23:28:09Z", "closed_at": "2019-10-31T23:28:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We should update or check if we need to update:\r\n\r\n- [x] The ensemble based on bootstraping which have new parameters.\r\n- [x] Check for pipeline update\r\n- [x] Check for post-pruning implication", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/618", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/618/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/618/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/618/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/618", "id": 514941415, "node_id": "MDU6SXNzdWU1MTQ5NDE0MTU=", "number": 618, "title": "ImportError: cannot import name 'IS_PYPY'", "user": {"login": "Rookiee111", "id": 37922389, "node_id": "MDQ6VXNlcjM3OTIyMzg5", "avatar_url": "https://avatars3.githubusercontent.com/u/37922389?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Rookiee111", "html_url": "https://github.com/Rookiee111", "followers_url": "https://api.github.com/users/Rookiee111/followers", "following_url": "https://api.github.com/users/Rookiee111/following{/other_user}", "gists_url": "https://api.github.com/users/Rookiee111/gists{/gist_id}", "starred_url": "https://api.github.com/users/Rookiee111/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Rookiee111/subscriptions", "organizations_url": "https://api.github.com/users/Rookiee111/orgs", "repos_url": "https://api.github.com/users/Rookiee111/repos", "events_url": "https://api.github.com/users/Rookiee111/events{/privacy}", "received_events_url": "https://api.github.com/users/Rookiee111/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-10-30T19:53:18Z", "updated_at": "2019-10-31T09:59:57Z", "closed_at": "2019-10-31T09:59:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to import the following sklearn libs\r\n\r\n```python\r\nfrom sklearn.model_selection import validation_curve, cross_val_score, StratifiedKFold, GridSearchCV, train_test_split\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.preprocessing import OneHotEncoder, LabelEncoder\r\n```\r\n\r\n```pytb\r\nImportError: cannot import name 'IS_PYPY'\r\n==================\r\n---------------------------------------------------------------------------\r\nImportError                               Traceback (most recent call last)\r\n<ipython-input-102-25f124cc1742> in <module>\r\n      4 \r\n      5 from sklearn.model_selection import validation_curve, cross_val_score, StratifiedKFold, GridSearchCV, train_test_split\r\n----> 6 from sklearn.feature_extraction.text import CountVectorizer\r\n      7 from sklearn.preprocessing import OneHotEncoder, LabelEncoder\r\n\r\n/opt/conda/anaconda/lib/python3.6/site-packages/sklearn/feature_extraction/__init__.py in <module>\r\n      6 \r\n      7 from .dict_vectorizer import DictVectorizer\r\n----> 8 from .hashing import FeatureHasher\r\n      9 from .image import img_to_graph, grid_to_graph\r\n     10 from . import text\r\n\r\n/opt/conda/anaconda/lib/python3.6/site-packages/sklearn/feature_extraction/hashing.py in <module>\r\n      8 import scipy.sparse as sp\r\n      9 \r\n---> 10 from ..utils import IS_PYPY\r\n     11 from ..base import BaseEstimator, TransformerMixin\r\n     12 \r\n\r\n\r\n============\r\n```\r\n\r\n-> Tried reinstallation but not good\r\n-> downgraded to 0.20.3 and 0.20.2 but again not much help\r\n-> currently the version is 0.21.3\r\nI have tried multiple things and yet it fails.. This is not configured through conda.. please advise why is this failing and how can i fix?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/616", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/616/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/616/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/616/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/616", "id": 511683675, "node_id": "MDU6SXNzdWU1MTE2ODM2NzU=", "number": 616, "title": "Use of private API will break with scikit-learn 0.22", "user": {"login": "jnothman", "id": 78827, "node_id": "MDQ6VXNlcjc4ODI3", "avatar_url": "https://avatars2.githubusercontent.com/u/78827?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jnothman", "html_url": "https://github.com/jnothman", "followers_url": "https://api.github.com/users/jnothman/followers", "following_url": "https://api.github.com/users/jnothman/following{/other_user}", "gists_url": "https://api.github.com/users/jnothman/gists{/gist_id}", "starred_url": "https://api.github.com/users/jnothman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jnothman/subscriptions", "organizations_url": "https://api.github.com/users/jnothman/orgs", "repos_url": "https://api.github.com/users/jnothman/repos", "events_url": "https://api.github.com/users/jnothman/events{/privacy}", "received_events_url": "https://api.github.com/users/jnothman/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 728051678, "node_id": "MDU6TGFiZWw3MjgwNTE2Nzg=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Status:%20Help%20Wanted", "name": "Status: Help Wanted", "color": "5ad32e", "default": false, "description": "Indicates that a maintainer wants help on an issue or pull request"}, {"id": 1225786211, "node_id": "MDU6TGFiZWwxMjI1Nzg2MjEx", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/easy", "name": "easy", "color": "02d7e1", "default": false, "description": ""}, {"id": 728052805, "node_id": "MDU6TGFiZWw3MjgwNTI4MDU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/good%20first%20issue", "name": "good first issue", "color": "1acc9c", "default": true, "description": "Indicates a good issue for first-time contributors"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-10-24T03:27:51Z", "updated_at": "2019-10-31T21:48:59Z", "closed_at": "2019-10-31T21:48:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "imblearn uses private scikit-learn API.\r\n\r\n```\r\nfrom sklearn.ensemble.base import _set_random_states\r\n```\r\nIt will not be able to be imported in Scikit-learn version 0.22 due to sklearn.ensemble.base being renamed.\r\n\r\nPing @NicolasHug FYI", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/613", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/613/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/613/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/613/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/613", "id": 507141955, "node_id": "MDU6SXNzdWU1MDcxNDE5NTU=", "number": 613, "title": "Wrong formula in doc for specificity_score", "user": {"login": "Dmitry513", "id": 29516297, "node_id": "MDQ6VXNlcjI5NTE2Mjk3", "avatar_url": "https://avatars3.githubusercontent.com/u/29516297?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dmitry513", "html_url": "https://github.com/Dmitry513", "followers_url": "https://api.github.com/users/Dmitry513/followers", "following_url": "https://api.github.com/users/Dmitry513/following{/other_user}", "gists_url": "https://api.github.com/users/Dmitry513/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dmitry513/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dmitry513/subscriptions", "organizations_url": "https://api.github.com/users/Dmitry513/orgs", "repos_url": "https://api.github.com/users/Dmitry513/repos", "events_url": "https://api.github.com/users/Dmitry513/events{/privacy}", "received_events_url": "https://api.github.com/users/Dmitry513/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-10-15T10:05:24Z", "updated_at": "2019-11-08T10:00:46Z", "closed_at": "2019-11-08T10:00:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Trere is a mistake for specificity_score in documentation. \r\n\"The specificity is the ratio tp / (tp + fn) where tp is the number of true positives and fn the number of false negatives.\"\r\nBut the formula for specificity score is tn / (fp + tn)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/612", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/612/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/612/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/612/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/612", "id": 503719396, "node_id": "MDU6SXNzdWU1MDM3MTkzOTY=", "number": 612, "title": "Migrate LGTM.com installation from OAuth to GitHub App", "user": {"login": "LGTM-badger", "id": 42374550, "node_id": "MDQ6VXNlcjQyMzc0NTUw", "avatar_url": "https://avatars2.githubusercontent.com/u/42374550?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LGTM-badger", "html_url": "https://github.com/LGTM-badger", "followers_url": "https://api.github.com/users/LGTM-badger/followers", "following_url": "https://api.github.com/users/LGTM-badger/following{/other_user}", "gists_url": "https://api.github.com/users/LGTM-badger/gists{/gist_id}", "starred_url": "https://api.github.com/users/LGTM-badger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LGTM-badger/subscriptions", "organizations_url": "https://api.github.com/users/LGTM-badger/orgs", "repos_url": "https://api.github.com/users/LGTM-badger/repos", "events_url": "https://api.github.com/users/LGTM-badger/events{/privacy}", "received_events_url": "https://api.github.com/users/LGTM-badger/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-10-07T22:15:29Z", "updated_at": "2019-10-29T21:33:48Z", "closed_at": "2019-10-29T21:33:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi There,\r\n\r\nThis project is still using an old implementation of LGTM's automated code review, which has now been disabled. To continue using automated code review, and receive checks on your Pull Requests, please [install the GitHub App](https://github.com/apps/lgtm-com/installations/new) on this repository.\r\n\r\nThanks,\r\nThe LGTM Team", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/611", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/611/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/611/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/611/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/611", "id": 502937526, "node_id": "MDU6SXNzdWU1MDI5Mzc1MjY=", "number": 611, "title": "Can`t install imbalanced-learn", "user": {"login": "umachkaalex", "id": 42827893, "node_id": "MDQ6VXNlcjQyODI3ODkz", "avatar_url": "https://avatars2.githubusercontent.com/u/42827893?v=4", "gravatar_id": "", "url": "https://api.github.com/users/umachkaalex", "html_url": "https://github.com/umachkaalex", "followers_url": "https://api.github.com/users/umachkaalex/followers", "following_url": "https://api.github.com/users/umachkaalex/following{/other_user}", "gists_url": "https://api.github.com/users/umachkaalex/gists{/gist_id}", "starred_url": "https://api.github.com/users/umachkaalex/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/umachkaalex/subscriptions", "organizations_url": "https://api.github.com/users/umachkaalex/orgs", "repos_url": "https://api.github.com/users/umachkaalex/repos", "events_url": "https://api.github.com/users/umachkaalex/events{/privacy}", "received_events_url": "https://api.github.com/users/umachkaalex/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-10-05T09:01:34Z", "updated_at": "2019-10-29T21:42:03Z", "closed_at": "2019-10-29T21:42:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "While trying to run: pip install -U imbalanced-learn\r\nI'm getting this error:\r\n\r\n```pytb\r\nException:\r\nTraceback (most recent call last):\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 2883, in _dep_map\r\n    return self.__dep_map\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 2677, in __getattr__\r\n    raise AttributeError(attr)\r\nAttributeError: _DistInfoDistribution__dep_map\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 2874, in _parsed_pkg_info\r\n    return self._pkg_info\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 2677, in __getattr__\r\n    raise AttributeError(attr)\r\nAttributeError: _pkg_info\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_internal\\cli\\base_command.py\", line 143, in main\r\n    status = self.run(options, args)\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_internal\\commands\\install.py\", line 349, in run\r\n    self._warn_about_conflicts(to_install)\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_internal\\commands\\install.py\", line 475, in _warn_about_conflicts\r\n    package_set, _dep_info = check_install_conflicts(to_install)\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_internal\\operations\\check.py\", line 98, in check_install_conflicts\r\n    package_set = create_package_set_from_installed()\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_internal\\operations\\check.py\", line 41, in create_package_set_from_installe\r\nd\r\n    package_set[name] = PackageDetails(dist.version, dist.requires())\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 2621, in requires\r\n    dm = self._dep_map\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 2885, in _dep_map\r\n    self.__dep_map = self._compute_dependencies()\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 2894, in _compute_dependencies\r\n    for req in self._parsed_pkg_info.get_all('Requires-Dist') or []:\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 2876, in _parsed_pkg_info\r\n    metadata = self.get_metadata(self.PKG_INFO)\r\n  File \"d:\\deep_learning\\cnn_3\\venv\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 1408, in get_metadata\r\n    return value.decode('utf-8') if six.PY3 else value\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xfe in position 0: invalid start byte\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/610", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/610/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/610/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/610/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/610", "id": 500207374, "node_id": "MDU6SXNzdWU1MDAyMDczNzQ=", "number": 610, "title": "Pipeline throws error with a regressor", "user": {"login": "louislouisloui", "id": 10923558, "node_id": "MDQ6VXNlcjEwOTIzNTU4", "avatar_url": "https://avatars1.githubusercontent.com/u/10923558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/louislouisloui", "html_url": "https://github.com/louislouisloui", "followers_url": "https://api.github.com/users/louislouisloui/followers", "following_url": "https://api.github.com/users/louislouisloui/following{/other_user}", "gists_url": "https://api.github.com/users/louislouisloui/gists{/gist_id}", "starred_url": "https://api.github.com/users/louislouisloui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/louislouisloui/subscriptions", "organizations_url": "https://api.github.com/users/louislouisloui/orgs", "repos_url": "https://api.github.com/users/louislouisloui/repos", "events_url": "https://api.github.com/users/louislouisloui/events{/privacy}", "received_events_url": "https://api.github.com/users/louislouisloui/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-30T11:09:18Z", "updated_at": "2019-11-15T06:49:42Z", "closed_at": "2019-11-15T06:49:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nThe imblearn pipeline made of a sampler and a regressor throws an errors when trying to fit it \r\n#### Steps/Code to Reproduce\r\n```\r\nfrom collections import Counter\r\nfrom sklearn.datasets import make_regression\r\nfrom sklearn.neighbors import KNeighborsClassifier as KNN\r\nfrom imblearn.under_sampling import RandomUnderSampler\r\nfrom imblearn.pipeline import make_pipeline\r\n\r\nX, y = make_regression()\r\n\r\nrus = RandomUnderSampler()\r\nknn = KNN()\r\npipeline = make_pipeline(rus, knn)\r\n\r\n# one liner\r\ny_hat = pipeline.fit(X, y)\r\n```\r\n\r\n#### Expected Results\r\nFitted pipeline\r\n#### Actual Results\r\nValueError: Unknown label type: 'continuous'\r\n\r\n#### Versions\r\nLinux-4.9.184-linuxkit-x86_64-with-debian-10.1\r\nPython 3.5.7 (default, Sep 12 2019, 17:00:47) \r\n[GCC 8.3.0]\r\nNumPy 1.17.2\r\nSciPy 1.3.1\r\nScikit-Learn 0.21.3\r\nImbalanced-Learn 0.5.0\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/609", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/609/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/609/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/609/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/609", "id": 500199612, "node_id": "MDU6SXNzdWU1MDAxOTk2MTI=", "number": 609, "title": "FunctionSampler nested into a pipeline does not handle .predict()", "user": {"login": "louislouisloui", "id": 10923558, "node_id": "MDQ6VXNlcjEwOTIzNTU4", "avatar_url": "https://avatars1.githubusercontent.com/u/10923558?v=4", "gravatar_id": "", "url": "https://api.github.com/users/louislouisloui", "html_url": "https://github.com/louislouisloui", "followers_url": "https://api.github.com/users/louislouisloui/followers", "following_url": "https://api.github.com/users/louislouisloui/following{/other_user}", "gists_url": "https://api.github.com/users/louislouisloui/gists{/gist_id}", "starred_url": "https://api.github.com/users/louislouisloui/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/louislouisloui/subscriptions", "organizations_url": "https://api.github.com/users/louislouisloui/orgs", "repos_url": "https://api.github.com/users/louislouisloui/repos", "events_url": "https://api.github.com/users/louislouisloui/events{/privacy}", "received_events_url": "https://api.github.com/users/louislouisloui/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-09-30T10:51:59Z", "updated_at": "2019-09-30T10:56:55Z", "closed_at": "2019-09-30T10:56:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nShould be able to nest a FunctionSampler into a imblearn pipeline used to run prediction.\r\n\r\n#### Steps/Code to Reproduce\r\n```\r\nfrom sklearn.svm import LinearSVC\r\nfrom imblearn.pipeline import make_pipeline\r\nfrom imblearn import FunctionSampler\r\n\r\ndef whatever(X ,y):\r\n    return X,y\r\n\r\npipe = make_pipeline(FunctionSampler(func= whatever), LinearSVC())\r\npipe.fit(X_train,y_train)\r\npipe.predict(X_test)\r\n```\r\n#### Expected Results\r\nArray of the predicted values\r\n\r\n#### Actual Results\r\nError message: AttributeError: 'FunctionSampler' object has no attribute 'predict'\r\n\r\n\r\n#### Versions\r\nLinux-4.9.184-linuxkit-x86_64-with-debian-10.1\r\nPython 3.5.7 (default, Sep 12 2019, 17:00:47) \r\n[GCC 8.3.0]\r\nNumPy 1.17.2\r\nSciPy 1.3.1\r\nScikit-Learn 0.21.3\r\nImbalanced-Learn 0.5.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/605", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/605/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/605/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/605/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/605", "id": 495987008, "node_id": "MDU6SXNzdWU0OTU5ODcwMDg=", "number": 605, "title": "Random Samplers fail for Nested Numpy Arrays", "user": {"login": "dgrahn", "id": 394709, "node_id": "MDQ6VXNlcjM5NDcwOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/394709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dgrahn", "html_url": "https://github.com/dgrahn", "followers_url": "https://api.github.com/users/dgrahn/followers", "following_url": "https://api.github.com/users/dgrahn/following{/other_user}", "gists_url": "https://api.github.com/users/dgrahn/gists{/gist_id}", "starred_url": "https://api.github.com/users/dgrahn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dgrahn/subscriptions", "organizations_url": "https://api.github.com/users/dgrahn/orgs", "repos_url": "https://api.github.com/users/dgrahn/repos", "events_url": "https://api.github.com/users/dgrahn/events{/privacy}", "received_events_url": "https://api.github.com/users/dgrahn/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566669735, "node_id": "MDU6TGFiZWw1NjY2Njk3MzU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Type:%20Bug", "name": "Type: Bug", "color": "b60205", "default": false, "description": "Indicates an unexpected problem or unintended behavior"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-09-19T19:32:36Z", "updated_at": "2019-11-16T22:53:56Z", "closed_at": "2019-11-16T22:53:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nI'm getting the following error when attempting to produce use the Random Over Sampler.\r\n\r\n```\r\n  File \".../lib/python3.7/site-packages/imblearn/base.py\", line 79, in fit_resample\r\n    X, y, binarize_y = self._check_X_y(X, y)\r\n  File \".../lib/python3.7/site-packages/imblearn/over_sampling/_random_over_sampler.py\", line 94, in _check_X_y\r\n    X, y = check_X_y(X, y, accept_sparse=['csr', 'csc'], dtype=None)\r\n  File \".../lib/python3.7/site-packages/sklearn/utils/validation.py\", line 719, in check_X_y\r\n    estimator=estimator)\r\n  File \".../lib/python3.7/site-packages/sklearn/utils/validation.py\", line 542, in check_array\r\n    allow_nan=force_all_finite == 'allow-nan')\r\n  File \".../lib/python3.7/site-packages/sklearn/utils/validation.py\", line 59, in _assert_all_finite\r\n    if _object_dtype_isnan(X).any():\r\nAttributeError: 'bool' object has no attribute 'any'\r\n```\r\nThis happened right after I updated sklearn.\r\n\r\n#### Steps/Code to Reproduce\r\nBoth over and under sample fail.\r\n```python\r\nfrom imblearn import over_sampling, under_sampling\r\nimport numpy  as np\r\nimport pandas as pd\r\n\r\ndf = pd.DataFrame({\r\n    'val': [\r\n        np.zeros((1, 2)),\r\n        np.zeros((3, 4)),\r\n        np.zeros((5, 6)),\r\n    ]\r\n})\r\n\r\nx = df.values\r\ny = np.array([ 0, 0, 1])\r\n\r\nsampler = over_sampling.RandomOverSampler(random_state=42)\r\n# sampler = under_sampling.RandomUnderSampler(random_state=42)\r\nsampler.fit_resample(x, y)\r\n\r\n```\r\n\r\n#### Versions\r\n```\r\nLinux-3.10.0-957.21.3.el7.x86_64-x86_64-with-centos-7.6.1810-Core\r\nPython 3.7.4 (default, Aug 13 2019, 20:35:49)\r\n[GCC 7.3.0]\r\nNumPy 1.16.5\r\nSciPy 1.3.1\r\nScikit-Learn 0.21.2\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/604", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/604/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/604/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/604/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/604", "id": 495716270, "node_id": "MDU6SXNzdWU0OTU3MTYyNzA=", "number": 604, "title": "return_indices=true not working for NearMiss undersampling function", "user": {"login": "pratosha", "id": 29497381, "node_id": "MDQ6VXNlcjI5NDk3Mzgx", "avatar_url": "https://avatars2.githubusercontent.com/u/29497381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pratosha", "html_url": "https://github.com/pratosha", "followers_url": "https://api.github.com/users/pratosha/followers", "following_url": "https://api.github.com/users/pratosha/following{/other_user}", "gists_url": "https://api.github.com/users/pratosha/gists{/gist_id}", "starred_url": "https://api.github.com/users/pratosha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pratosha/subscriptions", "organizations_url": "https://api.github.com/users/pratosha/orgs", "repos_url": "https://api.github.com/users/pratosha/repos", "events_url": "https://api.github.com/users/pratosha/events{/privacy}", "received_events_url": "https://api.github.com/users/pratosha/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-09-19T10:37:24Z", "updated_at": "2019-09-23T08:36:43Z", "closed_at": "2019-09-23T08:34:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello ,\r\nThe below code is performing under sampling for my imbalanced dataset.\r\nVersion of imblearn is 0.5\r\n\r\n```python\r\nX, y = make_imbalance(inputs, output,sampling_strategy={0: 25, 1: 35, 2: 22,3:7,4:6})\r\nX_train, X_test, y_train, y_test = train_test_split(X, y)\r\n\r\nprint('Training target statistics: {}'.format(Counter(y_train)))\r\nprint('Testing target statistics: {}'.format(Counter(y_test)))\r\n\r\npipeline=make_pipeline(NearMiss(ratio='all',version=3,return_indices=True),KNeighborsClassifier(n_neighbors=5))\r\npipeline.fit(X_train, y_train)\r\nprint(classification_report_imbalanced(y_test, pipeline.predict(X_test)))\r\n```\r\n\r\nBut When I pass return_indices=True, I get the below output and error:\r\n\r\nTraining target statistics: Counter({1: 24, 0: 20, 2: 15, 3: 6, 4: 6})\r\n\r\nTesting target statistics: Counter({1: 11, 2: 7, 0: 5, 3: 1})\r\n\r\nValueError: too many values to unpack (expected 2)\r\n\r\nPlease help.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/602", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/602/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/602/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/602/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/602", "id": 495450845, "node_id": "MDU6SXNzdWU0OTU0NTA4NDU=", "number": 602, "title": "Error: too many values to unpack in Pipeline", "user": {"login": "syargeau", "id": 28994019, "node_id": "MDQ6VXNlcjI4OTk0MDE5", "avatar_url": "https://avatars1.githubusercontent.com/u/28994019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/syargeau", "html_url": "https://github.com/syargeau", "followers_url": "https://api.github.com/users/syargeau/followers", "following_url": "https://api.github.com/users/syargeau/following{/other_user}", "gists_url": "https://api.github.com/users/syargeau/gists{/gist_id}", "starred_url": "https://api.github.com/users/syargeau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/syargeau/subscriptions", "organizations_url": "https://api.github.com/users/syargeau/orgs", "repos_url": "https://api.github.com/users/syargeau/repos", "events_url": "https://api.github.com/users/syargeau/events{/privacy}", "received_events_url": "https://api.github.com/users/syargeau/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-09-18T20:56:22Z", "updated_at": "2019-09-23T08:39:09Z", "closed_at": "2019-09-23T08:39:09Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\nValueError thrown when calling _fit_resample_one in imblearn/pipeline.py. Certain sampler's fit_resample now returns a tuple of length 3, whereas the pipeline method expects only 2 (hence the ValueError: too many values to unpack (expected 2)).\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\nUse TomekLinks undersampling in pipeline.\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\nNo error should be thrown; pipeline functionality shouldn't be impacted.\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\n```\r\n/opt/conda/lib/python3.7/site-packages/imblearn/pipeline.py in fit(self, X, y, **fit_params)\r\n    236 \r\n    237         \"\"\"\r\n--> 238         Xt, yt, fit_params = self._fit(X, y, **fit_params)\r\n    239         if self._final_estimator != 'passthrough':\r\n    240             self._final_estimator.fit(Xt, yt, **fit_params)\r\n\r\n/opt/conda/lib/python3.7/site-packages/imblearn/pipeline.py in _fit(self, X, y, **fit_params)\r\n    199             elif hasattr(cloned_transformer, \"fit_resample\"):\r\n    200                 X, y, fitted_transformer = fit_resample_one_cached(\r\n--> 201                     cloned_transformer, X, y, **fit_params_steps[name])\r\n    202             # Replace the transformer of the step with the fitted\r\n    203             # transformer. This is necessary when loading the transformer\r\n\r\n/opt/conda/lib/python3.7/site-packages/joblib/memory.py in __call__(self, *args, **kwargs)\r\n    353 \r\n    354     def __call__(self, *args, **kwargs):\r\n--> 355         return self.func(*args, **kwargs)\r\n    356 \r\n    357     def call_and_shelve(self, *args, **kwargs):\r\n\r\n/opt/conda/lib/python3.7/site-packages/imblearn/pipeline.py in _fit_resample_one(sampler, X, y, **fit_params)\r\n    580 \r\n    581 def _fit_resample_one(sampler, X, y, **fit_params):\r\n--> 582     X_res, y_res = sampler.fit_resample(X, y, **fit_params)\r\n    583 \r\n    584     return X_res, y_res, sampler\r\n\r\nValueError: too many values to unpack (expected 2)\r\n```\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\nLinux-4.14.138-89.102.amzn1.x86_64-x86_64-with-debian-buster-sid\r\nPython 3.7.3 | packaged by conda-forge | (default, Jul  1 2019, 21:52:21) \r\n[GCC 7.3.0]\r\nNumPy 1.17.0\r\nSciPy 1.3.1\r\nScikit-Learn 0.21.3\r\nImbalanced-Learn 0.5.0\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/597", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/597/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/597/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/597/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/597", "id": 489817607, "node_id": "MDU6SXNzdWU0ODk4MTc2MDc=", "number": 597, "title": "SMOTE Sampling Strategy Implementation Flawed", "user": {"login": "MattEding", "id": 32783478, "node_id": "MDQ6VXNlcjMyNzgzNDc4", "avatar_url": "https://avatars1.githubusercontent.com/u/32783478?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MattEding", "html_url": "https://github.com/MattEding", "followers_url": "https://api.github.com/users/MattEding/followers", "following_url": "https://api.github.com/users/MattEding/following{/other_user}", "gists_url": "https://api.github.com/users/MattEding/gists{/gist_id}", "starred_url": "https://api.github.com/users/MattEding/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MattEding/subscriptions", "organizations_url": "https://api.github.com/users/MattEding/orgs", "repos_url": "https://api.github.com/users/MattEding/repos", "events_url": "https://api.github.com/users/MattEding/events{/privacy}", "received_events_url": "https://api.github.com/users/MattEding/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-09-05T14:53:07Z", "updated_at": "2019-09-08T06:55:26Z", "closed_at": "2019-09-08T06:55:26Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "# Description\r\n--------------\r\nAccording to the original research paper on SMOTE and others that have followed, the minority class samples should be evenly over-sampled to create synthetic samples. This is not the case in the current implementation where it is done purely at random. I provide a simple alternative sampling technique that fixes this issue below (yes, it would prevent backwards compatibility). However users of the library might have been using `imblearn`'s `SMOTE` (and variants) expecting it to behave differently--I know I was surprised that some minority class samples were never over-sampled!\r\n\r\n## Current Implementation:\r\n--------------------------\r\n```python\r\nsamples_indices = random_state.randint(\r\n    low=0, high=nn_num.size, size=n_samples)\r\nrows = np.floor_divide(samples_indices, nn_num.shape[1])\r\ncols = np.mod(samples_indices, nn_num.shape[1])\r\n```\r\n\r\n### Example:\r\n------------\r\n* 10 minority class observations\r\n* oversample by 350% -> generate 35 samples\r\n* knn with k = 5\r\n\r\n```python\r\n>>> random_state = np.random.RandomState(0)\r\n>>> samples_indices = random_state.randint(0, 50, 35)\r\n>>> rows = np.floor_divide(samples_indices, 5)\r\n>>> np.unique(rows, return_counts=True)\r\n(array([0, 1, 2, 3, 4, 5, 7, 8, 9]), \r\n array([5, 5, 2, 5, 7, 1, 6, 1, 3]))\r\n```\r\n\r\nNote that some minority class sample 6 is never over-sampled, and 4 gets a 700% boost. Furthermore, no minority class gets 3 or 4 over-samples despite 300% < 350% < 400%.\r\n\r\n## Proposed Implementation\r\n```python\r\nmin_cls_idxs = np.arange(X.shape[0])\r\nreps = math.ceil(n_samples / len(min_cls_idxs))\r\nrows = np.tile(min_cls_idxs, reps)[:n_samples]\r\ncols = random_state.choice(self.k_neighbors, size=len(rows))\r\n```\r\n\r\n### Example\r\n* same parameters as before\r\n\r\n```python\r\n>>> random_state = np.random.RandomState(0)\r\n>>> min_cls_idxs = np.arange(10)\r\n>>> reps = math.ceil(35 / len(min_cls_idxs))\r\n>>> min_cls_idxs = np.arange(10)\r\n>>> rows = np.tile(min_cls_idxs, reps)[:35]\r\n>>> np.unique(rows, return_counts=True)\r\n(array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]), \r\n array([4, 4, 4, 4, 4, 3, 3, 3, 3, 3]))\r\n```\r\n\r\nNote that each minority class sample is over-sampled either 3 or 4 times due to not being able to sample 3.5 times. Unfortunately this would introduce backwards compatibility issues, but maybe put this as an option while deprecating the current sampling strategy?\r\n\r\n## SMOTE (Chawla, Bowyer, Hall, & Kegelmeyer 2002)\r\n\"The minority class is over-sampled by __taking each minority class sample__ and introducing synthetic examples along the line segments joining any/all of the k minority class nearest neighbors. Depending upon the amount of over-sampling required, neighbors from the k nearest neighbors are randomly chosen. Our implementation currently uses five nearest neighbors. For instance, if the amount of over-sampling needed is __200%, only two neighbors from the five nearest neighbors are chosen__ and one sample is generated in the direction of each.\"\r\n\r\n\"\r\n__Input:__ Number of minority class samples T; Amount of SMOTE N%; Number of nearest\r\nneighbors k  \r\n...  \r\n13. for i \u2190 1 to T  \r\n14. &nbsp; &nbsp; Compute k nearest neighbors for i, and save the indices in the nnarray  \r\n15. &nbsp; &nbsp; Populate(N, i, nnarray)  \r\n\"\r\n\r\nWhile the research paper's implementation only assumes multiples of 100 for over-sampling, the implementation I propose generalizes to percents in between while still keeping to the spirit of how the algorithm works (`rows`). However both the current and proposed algorithms do not properly address the chosen neighbors as their indices are chosen at random (`cols`). I am not sure of a good approach to vectorize this process to select unique neighbors per minority sample, especially if N% > k. However I think between `rows` and `cols`, `cols` is of lesser importance to strictly adhere to what the researchers did. \r\n\r\nFurthermore, other over-sampling papers continue to support the detail that SMOTE evenly over-samples among its minority class samples.\r\n* \"This is a major difference compared to the SMOTE algorithm, in which equal numbers of synthetic samples are generated for each minority data example.\" -- ADASYN (He, Bai, Garcia, & Li 2008)\r\n* \"It considers each example from the minority class, finds its k-nearest neighbors from the majority classes, randomly selects j of these neighbors and randomly introduces new artificial examples along the lines joining it with the j-selected neighbors.\" -- SPIDER (Stefanowski & Wilk 2008)\r\n* \"In most of the SMOTE related oversampling, the amount of oversampling done for each minority data sample is fixed to the oversampling percentage.\" -- Weighted SMOTE (Prutsy, Jayanthi, & Velusamy 2017)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/595", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/595/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/595/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/595/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/595", "id": 481074723, "node_id": "MDU6SXNzdWU0ODEwNzQ3MjM=", "number": 595, "title": "imblearn.keras.BalancedBatchGenerator doesn't support the training of a large data set", "user": {"login": "xingyi-li", "id": 36440016, "node_id": "MDQ6VXNlcjM2NDQwMDE2", "avatar_url": "https://avatars0.githubusercontent.com/u/36440016?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xingyi-li", "html_url": "https://github.com/xingyi-li", "followers_url": "https://api.github.com/users/xingyi-li/followers", "following_url": "https://api.github.com/users/xingyi-li/following{/other_user}", "gists_url": "https://api.github.com/users/xingyi-li/gists{/gist_id}", "starred_url": "https://api.github.com/users/xingyi-li/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xingyi-li/subscriptions", "organizations_url": "https://api.github.com/users/xingyi-li/orgs", "repos_url": "https://api.github.com/users/xingyi-li/repos", "events_url": "https://api.github.com/users/xingyi-li/events{/privacy}", "received_events_url": "https://api.github.com/users/xingyi-li/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-15T09:42:07Z", "updated_at": "2019-10-16T15:52:04Z", "closed_at": "2019-08-17T06:45:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, really appreciate what you have done.\r\nRecently, I'm dealing with a large data set whose data has an imbalanced problem, so I find this wonderful tool, imbalanced-learn!\r\nIn fact, Keras offers a function named `fit_generator` which allows the data to be fed by batch, so I have succeeded to implement a DataGenerator class to feed data by batch. However, my DataGenerator class is not capable of solving the imbalanced problem. In imblearn, I've found the `imblearn.keras.BalancedBatchGenerator` class, which seems to solve my problem, but the input X is `Original imbalanced dataset`,  which is not a good news for me.\r\nAny idea? Should I directly change the source code of `imblearn.keras.BalancedBatchGenerator`?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/594", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/594/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/594/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/594/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/594", "id": 480764464, "node_id": "MDU6SXNzdWU0ODA3NjQ0NjQ=", "number": 594, "title": "oob-prediction for BalancedRandomForestClassifier is overly optimistic", "user": {"login": "bembel", "id": 50358329, "node_id": "MDQ6VXNlcjUwMzU4MzI5", "avatar_url": "https://avatars2.githubusercontent.com/u/50358329?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bembel", "html_url": "https://github.com/bembel", "followers_url": "https://api.github.com/users/bembel/followers", "following_url": "https://api.github.com/users/bembel/following{/other_user}", "gists_url": "https://api.github.com/users/bembel/gists{/gist_id}", "starred_url": "https://api.github.com/users/bembel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bembel/subscriptions", "organizations_url": "https://api.github.com/users/bembel/orgs", "repos_url": "https://api.github.com/users/bembel/repos", "events_url": "https://api.github.com/users/bembel/events{/privacy}", "received_events_url": "https://api.github.com/users/bembel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-08-14T16:05:54Z", "updated_at": "2019-11-10T13:02:15Z", "closed_at": "2019-11-10T13:02:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello everyone!\r\n\r\n#### Description\r\n\r\nI am not sure if this is a bug or if there are differences between vanilla scikit-learn and imblearn that I am unaware of. \r\nI previously used the oob-function to estimate log-loss of the \"training\" set. I tried to use the same routine with imblearn but the results are unrealistically high; in fact they look to be the same as for the training set.\r\n\r\n#### Steps/Code to Reproduce\r\n\r\n```\r\nimport sklearn\r\nimport numpy as np\r\nimport pandas as pd\r\nimport joblib\r\nimport imblearn\r\nfrom sklearn.ensemble import RandomForestClassifier as SklRfClass\r\nfrom sklearn.metrics import log_loss, f1_score\r\nfrom sklearn import datasets\r\n\r\nX, y = datasets.load_iris(return_X_y=True)\r\n\r\n# A sklearn RF\r\nsk_RF = SklRfClass(n_estimators=100, oob_score=True, max_depth=3, max_leaf_nodes=15)\r\nsk_RF.fit(X, y)\r\n\r\n# An imblearn RF\r\nimb_RF = imblearn.ensemble.BalancedRandomForestClassifier(n_estimators=100,\r\n                       oob_score=True, max_depth=3, max_leaf_nodes=15)\r\nimb_RF.fit(X, y)\r\n\r\n# Evaluate\r\ny_test_imb_cl = imb_RF.oob_decision_function_.argmax(axis=1)\r\ny_test_imb_pr = imb_RF.oob_decision_function_  # (proba class 0, 1,...)\r\ny_test_sk_cl = sk_RF.oob_decision_function_.argmax(axis=1)\r\ny_test_sk_pr = sk_RF.oob_decision_function_ \r\n\r\ny_train_imb_pr = imb_RF.predict_proba(X)\r\ny_train_imb_cl = imb_RF.predict(X)\r\ny_train_sk_pr = sk_RF.predict_proba(X)\r\ny_train_sk_cl = sk_RF.predict(X)\r\n\r\nprint(\r\n'Log-loss Test:',\r\nlog_loss(y, y_test_imb_pr),\r\nlog_loss(y, y_test_sk_pr), \r\n'\\n', 'Log-loss Train:',\r\nlog_loss(y, y_train_imb_pr),\r\nlog_loss(y, y_train_sk_pr),\r\n'\\n',\r\n\r\n'f1-score test:',\r\nf1_score(y, y_test_imb_cl, average='weighted'),\r\nf1_score(y, y_test_sk_cl, average='weighted'),\r\n'\\n', 'f1-score train:',\r\nf1_score(y, y_train_imb_cl, average='weighted'),\r\nf1_score(y, y_train_sk_cl, average='weighted'),\r\n)\r\n\r\n```\r\n\r\n\r\n#### Expected Results\r\nsklearn and imblearn should give about the same results (first and second value should be the same); note that this is a balanced training set.\r\n\r\n#### Actual Results\r\n\r\nLog-loss Test: 0.06383474778287974 0.11117842739095764 \r\n Log-loss Train: 0.057655865452938986 0.051263883529459604 \r\n f1-score test: 0.9666633329999667 0.9533286661999534 \r\n f1-score train: 0.9733226623982927 0.9933326665999933\r\n-> Log-loss oob of imb-learn (first number) is close to that of the training set. Log-loss for sklearn is higher in the test set (more plausible).\r\n\r\n#### Versions\r\n\r\nPlease run the following snippet and paste the output below.\r\nWindows-10-10.0.17763-SP0\r\nPython 3.7.3 (default, Mar 27 2019, 17:13:21) [MSC v.1915 64 bit (AMD64)]\r\nNumPy 1.16.2\r\nSciPy 1.2.1\r\nScikit-Learn 0.20.3\r\nImbalanced-Learn 0.5.0.dev0\r\n\r\nThanks for any feedback!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/593", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/593/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/593/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/593/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/593", "id": 480410380, "node_id": "MDU6SXNzdWU0ODA0MTAzODA=", "number": 593, "title": "Forgot SMOTE-NC in the readme", "user": {"login": "lrq3000", "id": 1118942, "node_id": "MDQ6VXNlcjExMTg5NDI=", "avatar_url": "https://avatars2.githubusercontent.com/u/1118942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lrq3000", "html_url": "https://github.com/lrq3000", "followers_url": "https://api.github.com/users/lrq3000/followers", "following_url": "https://api.github.com/users/lrq3000/following{/other_user}", "gists_url": "https://api.github.com/users/lrq3000/gists{/gist_id}", "starred_url": "https://api.github.com/users/lrq3000/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lrq3000/subscriptions", "organizations_url": "https://api.github.com/users/lrq3000/orgs", "repos_url": "https://api.github.com/users/lrq3000/repos", "events_url": "https://api.github.com/users/lrq3000/events{/privacy}", "received_events_url": "https://api.github.com/users/lrq3000/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566670067, "node_id": "MDU6TGFiZWw1NjY2NzAwNjc=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/For:%20Documentation", "name": "For: Documentation", "color": "0052cc", "default": false, "description": "Indicates a need for improvements or additions to documentation"}, {"id": 1225786211, "node_id": "MDU6TGFiZWwxMjI1Nzg2MjEx", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/easy", "name": "easy", "color": "02d7e1", "default": false, "description": ""}, {"id": 728052805, "node_id": "MDU6TGFiZWw3MjgwNTI4MDU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/good%20first%20issue", "name": "good first issue", "color": "1acc9c", "default": true, "description": "Indicates a good issue for first-time contributors"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-08-13T23:11:42Z", "updated_at": "2019-11-16T22:41:29Z", "closed_at": "2019-11-16T22:41:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "SMOTE-NC was implemented since #154 but it's not mentioned in the README (however it is mentioned in the documentation, although it's not quite easy to find). It would be good to add it along with a short description, as there are lots of use cases for this kind of algorithm that can mix both continuous and nominal variables.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/590", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/590/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/590/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/590/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/590", "id": 477686318, "node_id": "MDU6SXNzdWU0Nzc2ODYzMTg=", "number": 590, "title": "pipeline verbose noop?", "user": {"login": "AlJohri", "id": 2790092, "node_id": "MDQ6VXNlcjI3OTAwOTI=", "avatar_url": "https://avatars0.githubusercontent.com/u/2790092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AlJohri", "html_url": "https://github.com/AlJohri", "followers_url": "https://api.github.com/users/AlJohri/followers", "following_url": "https://api.github.com/users/AlJohri/following{/other_user}", "gists_url": "https://api.github.com/users/AlJohri/gists{/gist_id}", "starred_url": "https://api.github.com/users/AlJohri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AlJohri/subscriptions", "organizations_url": "https://api.github.com/users/AlJohri/orgs", "repos_url": "https://api.github.com/users/AlJohri/repos", "events_url": "https://api.github.com/users/AlJohri/events{/privacy}", "received_events_url": "https://api.github.com/users/AlJohri/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-08-07T03:22:18Z", "updated_at": "2020-02-25T14:32:18Z", "closed_at": "2019-11-10T13:01:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "### Description\r\n\r\n`imblearn.pipeline.Pipeline` accepts a `verbose` argument that does not do anything during `fit`. Based on the sklearn documentation, I expect `verbose` to print the time it takes to run each stage.\r\n\r\n#### Versions\r\n```\r\n>>> import platform; print(platform.platform())\r\nLinux-4.15.0-1044-aws-x86_64-with-Ubuntu-18.04-bionic\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.7.3 (default, Apr  3 2019, 19:16:38)\r\n[GCC 8.0.1 20180414 (experimental) [trunk revision 259383]]\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.17.0\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.3.0\r\n>>> import sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nScikit-Learn 0.21.3\r\n>>> import imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\nImbalanced-Learn 0.5.0\r\n```\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/589", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/589/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/589/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/589/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/589", "id": 475581933, "node_id": "MDU6SXNzdWU0NzU1ODE5MzM=", "number": 589, "title": "SMOTETomek with SMOTE variants", "user": {"login": "pckroon", "id": 12967865, "node_id": "MDQ6VXNlcjEyOTY3ODY1", "avatar_url": "https://avatars1.githubusercontent.com/u/12967865?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pckroon", "html_url": "https://github.com/pckroon", "followers_url": "https://api.github.com/users/pckroon/followers", "following_url": "https://api.github.com/users/pckroon/following{/other_user}", "gists_url": "https://api.github.com/users/pckroon/gists{/gist_id}", "starred_url": "https://api.github.com/users/pckroon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pckroon/subscriptions", "organizations_url": "https://api.github.com/users/pckroon/orgs", "repos_url": "https://api.github.com/users/pckroon/repos", "events_url": "https://api.github.com/users/pckroon/events{/privacy}", "received_events_url": "https://api.github.com/users/pckroon/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2019-08-01T09:44:10Z", "updated_at": "2019-09-18T17:31:01Z", "closed_at": "2019-09-18T17:31:01Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\nHi! First off, I know very little about machine learning in general, and imbalanced machine learning in particular, so I don't know if this will make much sense. \r\nThe problem I encountered is that I can not use `combine.SMOTETomek` with *e.g.* `SVMSMOTE`.\r\n\r\n#### Steps/Code to Reproduce\r\n```python3\r\nimport numpy as np\r\nfrom imblearn.combine import SMOTETomek\r\nfrom imblearn.over_sampling import SVMSMOTE\r\n\r\nsampler = SMOTETomek(smote=SVMSMOTE())\r\nsampler.fit_resample(np.arange(10).reshape(5, -1), np.arange(5))\r\n```\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\nA SMOTETomek sampler that uses SVMSMOTE for oversampling.\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\n```\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/.../.virtualenvs/cartographer/lib/python3.6/site-packages/imblearn/base.py\", line 84, in fit_resample\r\n    output = self._fit_resample(X, y)\r\n  File \"/home/.../.virtualenvs/cartographer/lib/python3.6/site-packages/imblearn/combine/_smote_tomek.py\", line 139, in _fit_resample\r\n    self._validate_estimator()\r\n  File \"/home/.../.virtualenvs/cartographer/lib/python3.6/site-packages/imblearn/combine/_smote_tomek.py\", line 117, in _validate_estimator\r\n    'Got {} instead.'.format(type(self.smote)))\r\nValueError: smote needs to be a SMOTE object.Got <class 'imblearn.over_sampling._smote.SVMSMOTE'> instead.\r\n```\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\n```\r\n>>> import platform; print(platform.platform())\r\nLinux-4.15.0-54-generic-x86_64-with-Ubuntu-18.04-bionic\r\n>>> import sys; print(\"Python\", sys.version)\r\nPython 3.6.7 (default, Oct 22 2018, 11:32:17) \r\n[GCC 8.2.0]\r\n>>> import numpy; print(\"NumPy\", numpy.__version__)\r\nNumPy 1.16.2\r\n>>> import scipy; print(\"SciPy\", scipy.__version__)\r\nSciPy 1.2.1\r\n>>> import sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nScikit-Learn 0.21.2\r\n>>> import imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\nImbalanced-Learn 0.5.0\r\n```\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/588", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/588/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/588/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/588/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/588", "id": 472570385, "node_id": "MDU6SXNzdWU0NzI1NzAzODU=", "number": 588, "title": "SMOTENN", "user": {"login": "Ghada07", "id": 41380025, "node_id": "MDQ6VXNlcjQxMzgwMDI1", "avatar_url": "https://avatars3.githubusercontent.com/u/41380025?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ghada07", "html_url": "https://github.com/Ghada07", "followers_url": "https://api.github.com/users/Ghada07/followers", "following_url": "https://api.github.com/users/Ghada07/following{/other_user}", "gists_url": "https://api.github.com/users/Ghada07/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ghada07/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ghada07/subscriptions", "organizations_url": "https://api.github.com/users/Ghada07/orgs", "repos_url": "https://api.github.com/users/Ghada07/repos", "events_url": "https://api.github.com/users/Ghada07/events{/privacy}", "received_events_url": "https://api.github.com/users/Ghada07/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-07-24T22:19:09Z", "updated_at": "2019-07-29T08:14:46Z", "closed_at": "2019-07-29T08:14:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello \r\ni faced an imbalanced multiclass data which its chart as below :\r\n![image](https://user-images.githubusercontent.com/41380025/61832412-54dfc780-ae71-11e9-85f7-569abda1faf6.png)\r\ni used smoteenn , it seems it solve the problem but at the same time it make the data huge and take alot of time in training ,\r\nmy question is there is a way to use smoteenn to reduce the majority class 50% for instance and increase the minority class to be equal to the rest of classes ?\r\n\r\nThank you", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/587", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/587/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/587/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/587/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/587", "id": 471309883, "node_id": "MDU6SXNzdWU0NzEzMDk4ODM=", "number": 587, "title": "Issue regarding number of samples to be synthesized", "user": {"login": "SindhuraBonthu", "id": 42626720, "node_id": "MDQ6VXNlcjQyNjI2NzIw", "avatar_url": "https://avatars1.githubusercontent.com/u/42626720?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SindhuraBonthu", "html_url": "https://github.com/SindhuraBonthu", "followers_url": "https://api.github.com/users/SindhuraBonthu/followers", "following_url": "https://api.github.com/users/SindhuraBonthu/following{/other_user}", "gists_url": "https://api.github.com/users/SindhuraBonthu/gists{/gist_id}", "starred_url": "https://api.github.com/users/SindhuraBonthu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SindhuraBonthu/subscriptions", "organizations_url": "https://api.github.com/users/SindhuraBonthu/orgs", "repos_url": "https://api.github.com/users/SindhuraBonthu/repos", "events_url": "https://api.github.com/users/SindhuraBonthu/events{/privacy}", "received_events_url": "https://api.github.com/users/SindhuraBonthu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-22T20:27:04Z", "updated_at": "2019-07-22T21:03:29Z", "closed_at": "2019-07-22T21:03:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to specify the number of instances to be synthesized for the majority and minority classes by providing the number manually, instead of giving the ratio.\r\n\r\nsmt = SMOTE(ratio={0:Ndf_class_0_record_counts, 1:Ndf_class_1_record_counts*2})\r\nX_smote_res, y_smote_res = smt.fit_sample(X_smote, y_smote)\r\n\r\nI am expecting the first line of the above code to generate the specified number of samples. However, I am getting the following error at the second line of code - \r\nValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().\r\n\r\nWhat does the error mean and how can we resolve it?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/586", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/586/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/586/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/586/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/586", "id": 470696199, "node_id": "MDU6SXNzdWU0NzA2OTYxOTk=", "number": 586, "title": "cannot import name '_UnstableArchMixin'", "user": {"login": "MelvinYYY", "id": 33361211, "node_id": "MDQ6VXNlcjMzMzYxMjEx", "avatar_url": "https://avatars2.githubusercontent.com/u/33361211?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MelvinYYY", "html_url": "https://github.com/MelvinYYY", "followers_url": "https://api.github.com/users/MelvinYYY/followers", "following_url": "https://api.github.com/users/MelvinYYY/following{/other_user}", "gists_url": "https://api.github.com/users/MelvinYYY/gists{/gist_id}", "starred_url": "https://api.github.com/users/MelvinYYY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MelvinYYY/subscriptions", "organizations_url": "https://api.github.com/users/MelvinYYY/orgs", "repos_url": "https://api.github.com/users/MelvinYYY/repos", "events_url": "https://api.github.com/users/MelvinYYY/events{/privacy}", "received_events_url": "https://api.github.com/users/MelvinYYY/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-07-20T17:20:24Z", "updated_at": "2019-07-23T20:52:20Z", "closed_at": "2019-07-23T20:52:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\nWhen I try to import the imblearn package. It returns an error saying \"cannot import name '_UnstableArchMixin'\"\r\n\r\n\r\n\r\n#### Steps/Code to Reproduce\r\n\r\nfrom imblearn.under_sampling import NeighbourhoodCleaningRule\r\n\r\nncr = NeighbourhoodCleaningRule(sampling_strategy = 'auto',  random_state=706, n_jobs=-1, n_neighbors=23)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/585", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/585/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/585/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/585/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/585", "id": 468248090, "node_id": "MDU6SXNzdWU0NjgyNDgwOTA=", "number": 585, "title": "Bug in sensitivity_specificity_support", "user": {"login": "chandu8542", "id": 12872080, "node_id": "MDQ6VXNlcjEyODcyMDgw", "avatar_url": "https://avatars3.githubusercontent.com/u/12872080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chandu8542", "html_url": "https://github.com/chandu8542", "followers_url": "https://api.github.com/users/chandu8542/followers", "following_url": "https://api.github.com/users/chandu8542/following{/other_user}", "gists_url": "https://api.github.com/users/chandu8542/gists{/gist_id}", "starred_url": "https://api.github.com/users/chandu8542/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chandu8542/subscriptions", "organizations_url": "https://api.github.com/users/chandu8542/orgs", "repos_url": "https://api.github.com/users/chandu8542/repos", "events_url": "https://api.github.com/users/chandu8542/events{/privacy}", "received_events_url": "https://api.github.com/users/chandu8542/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-07-15T17:31:47Z", "updated_at": "2019-07-15T18:46:28Z", "closed_at": "2019-07-15T18:46:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I think the computation of specificity under sensitivity_specificity_support  when `average = None` is wrong. \r\n E.g. If you take:\r\n`y_true = [0, 1, 2, 0, 1, 2]\r\ny_pred = [0, 2, 1, 0, 0, 1]\r\nsensitivity_specificity_support(y_true, y_pred, average=None)`\r\n\r\nSpecificity for class 0 should be 0 since TN for this class is 0.  Similarly, specificity for class1 and 2 should 0.5 each.\r\nPlease rectify.\r\n\r\n<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n#### Expected Results\r\n(array([1., 0., 0.]), array([0, 0.5 , 0.5]), array([2, 2, 2]))\r\n\r\n#### Actual Results\r\n(array([1., 0., 0.]), array([0.75, 0.5 , 0.75]), array([2, 2, 2]))\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/584", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/584/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/584/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/584/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/584", "id": 466028919, "node_id": "MDU6SXNzdWU0NjYwMjg5MTk=", "number": 584, "title": "Error ('Pipeline' object has no attribute '_iter') with BalancedBaggingClassifier using documentation example", "user": {"login": "kdsh", "id": 920645, "node_id": "MDQ6VXNlcjkyMDY0NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/920645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kdsh", "html_url": "https://github.com/kdsh", "followers_url": "https://api.github.com/users/kdsh/followers", "following_url": "https://api.github.com/users/kdsh/following{/other_user}", "gists_url": "https://api.github.com/users/kdsh/gists{/gist_id}", "starred_url": "https://api.github.com/users/kdsh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kdsh/subscriptions", "organizations_url": "https://api.github.com/users/kdsh/orgs", "repos_url": "https://api.github.com/users/kdsh/repos", "events_url": "https://api.github.com/users/kdsh/events{/privacy}", "received_events_url": "https://api.github.com/users/kdsh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-09T23:34:38Z", "updated_at": "2020-07-08T07:10:07Z", "closed_at": "2019-07-10T08:34:14Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "#### Description\r\nUsing BalancedBaggingClassifier throws error (\"'Pipeline' object has no attribute '_iter'\") when fit() called and reproduced on 2 machines (Python 3.6.4 and Python 3.7.3 -- both Windows 10) using example from documentation. https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.ensemble.BalancedBaggingClassifier.html\r\n\r\n#### Steps/Code to Reproduce\r\n``` python\r\nfrom collections import Counter\r\nfrom sklearn.datasets import make_classification\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.metrics import confusion_matrix\r\nfrom imblearn.ensemble import BalancedBaggingClassifier # doctest: +NORMALIZE_WHITESPACE\r\nX, y = make_classification(n_classes=2, class_sep=2,\r\nweights=[0.1, 0.9], n_informative=3, n_redundant=1, flip_y=0,\r\nn_features=20, n_clusters_per_class=1, n_samples=1000, random_state=10)\r\nprint('Original dataset shape %s' % Counter(y))\r\n\r\nX_train, X_test, y_train, y_test = train_test_split(X, y,\r\n                                                    random_state=0)\r\nbbc = BalancedBaggingClassifier(random_state=42)\r\nbbc.fit(X_train, y_train) # doctest: +ELLIPSIS\r\n\r\ny_pred = bbc.predict(X_test)\r\nprint(confusion_matrix(y_test, y_pred))```\r\n\r\n#### Expected Results\r\nNo error\r\n\r\n#### Actual Results\r\nOriginal dataset shape Counter({1: 900, 0: 100})\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-3-3f31cc15e83a> in <module>()\r\n     12                                                     random_state=0)\r\n     13 bbc = BalancedBaggingClassifier(random_state=42)\r\n---> 14 bbc.fit(X_train, y_train) # doctest: +ELLIPSIS\r\n     15 \r\n     16 y_pred = bbc.predict(X_test)\r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\imblearn\\ensemble\\_bagging.py in fit(self, X, y)\r\n    244         # RandomUnderSampler is not supporting sample_weight. We need to pass\r\n    245         # None.\r\n--> 246         return self._fit(X, y, self.max_samples, sample_weight=None)\r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\sklearn\\ensemble\\bagging.py in _fit(self, X, y, max_samples, max_depth, sample_weight)\r\n    376                 total_n_estimators,\r\n    377                 verbose=self.verbose)\r\n--> 378             for i in range(n_jobs))\r\n    379 \r\n    380         # Reduce\r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\sklearn\\externals\\joblib\\parallel.py in __call__(self, iterable)\r\n    915             # remaining jobs.\r\n    916             self._iterating = False\r\n--> 917             if self.dispatch_one_batch(iterator):\r\n    918                 self._iterating = self._original_iterator is not None\r\n    919 \r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\sklearn\\externals\\joblib\\parallel.py in dispatch_one_batch(self, iterator)\r\n    757                 return False\r\n    758             else:\r\n--> 759                 self._dispatch(tasks)\r\n    760                 return True\r\n    761 \r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\sklearn\\externals\\joblib\\parallel.py in _dispatch(self, batch)\r\n    714         with self._lock:\r\n    715             job_idx = len(self._jobs)\r\n--> 716             job = self._backend.apply_async(batch, callback=cb)\r\n    717             # A job can complete so quickly than its callback is\r\n    718             # called before we get here, causing self._jobs to\r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\sklearn\\externals\\joblib\\_parallel_backends.py in apply_async(self, func, callback)\r\n    180     def apply_async(self, func, callback=None):\r\n    181         \"\"\"Schedule a func to be run\"\"\"\r\n--> 182         result = ImmediateResult(func)\r\n    183         if callback:\r\n    184             callback(result)\r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\sklearn\\externals\\joblib\\_parallel_backends.py in __init__(self, batch)\r\n    547         # Don't delay the application, to avoid keeping the input\r\n    548         # arguments in memory\r\n--> 549         self.results = batch()\r\n    550 \r\n    551     def get(self):\r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\sklearn\\externals\\joblib\\parallel.py in __call__(self)\r\n    223         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n    224             return [func(*args, **kwargs)\r\n--> 225                     for func, args, kwargs in self.items]\r\n    226 \r\n    227     def __len__(self):\r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\sklearn\\externals\\joblib\\parallel.py in <listcomp>(.0)\r\n    223         with parallel_backend(self._backend, n_jobs=self._n_jobs):\r\n    224             return [func(*args, **kwargs)\r\n--> 225                     for func, args, kwargs in self.items]\r\n    226 \r\n    227     def __len__(self):\r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\sklearn\\ensemble\\bagging.py in _parallel_build_estimators(n_estimators, ensemble, X, y, sample_weight, seeds, total_n_estimators, verbose)\r\n    112 \r\n    113         else:\r\n--> 114             estimator.fit((X[indices])[:, features], y[indices])\r\n    115 \r\n    116         estimators.append(estimator)\r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\imblearn\\pipeline.py in fit(self, X, y, **fit_params)\r\n    236 \r\n    237         \"\"\"\r\n--> 238         Xt, yt, fit_params = self._fit(X, y, **fit_params)\r\n    239         if self._final_estimator != 'passthrough':\r\n    240             self._final_estimator.fit(Xt, yt, **fit_params)\r\n\r\n~\\AppData\\Local\\Continuum\\Anaconda3\\envs\\py36\\lib\\site-packages\\imblearn\\pipeline.py in _fit(self, X, y, **fit_params)\r\n    174             step, param = pname.split('__', 1)\r\n    175             fit_params_steps[step][param] = pval\r\n--> 176         for step_idx, name, transformer in self._iter(with_final=False):\r\n    177             if hasattr(memory, 'location'):\r\n    178                 # joblib >= 0.12\r\n\r\nAttributeError: 'Pipeline' object has no attribute '_iter'\r\n\r\n#### Versions\r\nWindows-10-10.0.14393-SP0\r\nPython 3.6.4 |Anaconda custom (64-bit)| (default, Jan 16 2018, 10:22:32) [MSC v.1900 64 bit (AMD64)]\r\nNumPy 1.14.2\r\nSciPy 1.0.0\r\nScikit-Learn 0.20.1\r\nImbalanced-Learn 0.5.0", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/581", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/581/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/581/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/581/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/581", "id": 462551992, "node_id": "MDU6SXNzdWU0NjI1NTE5OTI=", "number": 581, "title": "FunctionSampler throws ValueError \"could not convert string to float\"", "user": {"login": "JohannesWiesner", "id": 48254290, "node_id": "MDQ6VXNlcjQ4MjU0Mjkw", "avatar_url": "https://avatars3.githubusercontent.com/u/48254290?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohannesWiesner", "html_url": "https://github.com/JohannesWiesner", "followers_url": "https://api.github.com/users/JohannesWiesner/followers", "following_url": "https://api.github.com/users/JohannesWiesner/following{/other_user}", "gists_url": "https://api.github.com/users/JohannesWiesner/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohannesWiesner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohannesWiesner/subscriptions", "organizations_url": "https://api.github.com/users/JohannesWiesner/orgs", "repos_url": "https://api.github.com/users/JohannesWiesner/repos", "events_url": "https://api.github.com/users/JohannesWiesner/events{/privacy}", "received_events_url": "https://api.github.com/users/JohannesWiesner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-07-01T07:17:39Z", "updated_at": "2019-11-16T22:47:51Z", "closed_at": "2019-11-16T22:47:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I posted the following issue first on [stackoverflow](https://stackoverflow.com/questions/56825302/imbalanced-learns-functionsampler-throws-valueerror). I wanted to make sure that I didn't make a mistake and that I don't use wrong code here. Since nobody has answered I post this as Issue on GitHub: \r\n\r\nI want to use the class `FunctionSampler` from `imblearn` to create my own custom class for resampling my dataset.<br><br> I have a one-dimensional feature Series containing paths for each subject and a label Series containing the labels for each subject. Both come from a `pd.DataFrame`. I know that I have to reshape the feature array first since it is one-dimensional. <br><br>When I use the class `RandomUnderSampler` everything works fine, however if I pass both  the features and labels first to the `fit_resample` method of  `FunctionSampler` which then creates an instance of `RandomUnderSampler` and then calls `fit_resample` on this class, I get the following error: \r\n\r\n> ValueError: could not convert string to float: 'path_1'\r\n\r\nHere's a minimal example producing the error:\r\n\r\n```\r\nimport pandas as pd\r\nfrom imblearn.under_sampling import RandomUnderSampler\r\nfrom imblearn import FunctionSampler\r\n\r\n# create one dimensional feature and label arrays X and y\r\n# X has to be converted to numpy array and then reshaped. \r\nX = pd.Series(['path_1','path_2','path_3'])\r\nX = X.values.reshape(-1,1)\r\ny = pd.Series([1,0,0])\r\n\r\n# FIRST METHOD (works)\r\nrus = RandomUnderSampler()\r\nX_res, y_res = rus.fit_resample(X,y)\r\n\r\n# SECOND METHOD (doesn't work)\r\ndef resample(X, y):\r\n    return RandomUnderSampler().fit_resample(X, y)\r\n  \r\nsampler = FunctionSampler(func=resample)\r\nX_res, y_res = sampler.fit_resample(X, y)\r\n```\r\n\r\nDoes anyone know what goes wrong here? It seems as the `fit_resample` method of `FunctionSampler` is not equal to the `fit_resample` method of `RandomUnderSampler`. As a user I would expect the methods to work the same. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/580", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/580/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/580/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/580/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/580", "id": 455548202, "node_id": "MDU6SXNzdWU0NTU1NDgyMDI=", "number": 580, "title": "SMOTENC n_jobs setting always 1 ?", "user": {"login": "starry-w", "id": 29855443, "node_id": "MDQ6VXNlcjI5ODU1NDQz", "avatar_url": "https://avatars0.githubusercontent.com/u/29855443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/starry-w", "html_url": "https://github.com/starry-w", "followers_url": "https://api.github.com/users/starry-w/followers", "following_url": "https://api.github.com/users/starry-w/following{/other_user}", "gists_url": "https://api.github.com/users/starry-w/gists{/gist_id}", "starred_url": "https://api.github.com/users/starry-w/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/starry-w/subscriptions", "organizations_url": "https://api.github.com/users/starry-w/orgs", "repos_url": "https://api.github.com/users/starry-w/repos", "events_url": "https://api.github.com/users/starry-w/events{/privacy}", "received_events_url": "https://api.github.com/users/starry-w/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-06-13T05:57:32Z", "updated_at": "2019-09-18T17:14:50Z", "closed_at": "2019-09-18T17:14:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to speed up my SMOTENC, and I try to setting the n_jobs=-1 or other number bigger than 1. But I find it no effect.\r\nI already read some question like:\r\nhttps://github.com/scikit-learn-contrib/imbalanced-learn/issues/575\r\n\r\nAnd I try in my own code like:\r\n     \r\n    smt = SMOTENC(random_state=20, categorical_features=bool_cols,  n_jobs=50)\r\n    print(smt.n_jobs)\r\n    >>> 1\r\n\r\n    pipeline = Pipeline([('smt', smt)])\r\n    pipeline.fit(X, y)\r\n    >>> Pipeline(memory=None,\r\n         steps=[('smt',\r\n                 SMOTENC(categorical_features=[6, 8, 20, 23, 24, 25, 26, 27, 28,\r\n                                               29, 30, 31, 32, 33, 34, 35, 36,\r\n                                               37, 38, 39, 40, 41, 42, 43, 44,\r\n                                               45, 46, 47, 48, 49, ...],\r\n                         k_neighbors=5, n_jobs=1, random_state=20,\r\n                         sampling_strategy='auto'))],\r\n         verbose=False)\r\n\r\nSo I don`t know why no matter what number I setting the  n_jobs always 1.\r\n\r\nAnyone have idea? \r\nThanks a lot\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/575", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/575/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/575/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/575/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/575", "id": 453338183, "node_id": "MDU6SXNzdWU0NTMzMzgxODM=", "number": 575, "title": "Setting the parameter `n_jobs` in SMOTE has no effect on time and not taking all the cores", "user": {"login": "gr-chandan", "id": 49387089, "node_id": "MDQ6VXNlcjQ5Mzg3MDg5", "avatar_url": "https://avatars0.githubusercontent.com/u/49387089?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gr-chandan", "html_url": "https://github.com/gr-chandan", "followers_url": "https://api.github.com/users/gr-chandan/followers", "following_url": "https://api.github.com/users/gr-chandan/following{/other_user}", "gists_url": "https://api.github.com/users/gr-chandan/gists{/gist_id}", "starred_url": "https://api.github.com/users/gr-chandan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gr-chandan/subscriptions", "organizations_url": "https://api.github.com/users/gr-chandan/orgs", "repos_url": "https://api.github.com/users/gr-chandan/repos", "events_url": "https://api.github.com/users/gr-chandan/events{/privacy}", "received_events_url": "https://api.github.com/users/gr-chandan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-07T04:58:35Z", "updated_at": "2019-06-10T01:22:11Z", "closed_at": "2019-06-07T11:59:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "#### Description\r\nSetting parameter `n_jobs` in `SMOTE` has no effect on processing. I am using EMR machine `r4.4xlarge`, which has 16 vCores and 122g of ram. Now each vCore is a thread, that means maximum value I can set for `n_jobs` is 16. I did that, nothing happened and then I set it to the -1, it should have used all cores with no regards to memory, but that didn't work either.\r\n\r\n### I am using \r\nPython 3.6.8\r\nimbalanced-learn==0.4.3\r\n\r\n### This is what my core usage looks like for the process\r\n```\r\n   PID    TID PSR %CPU\r\n 86614  86614   6 79.7\r\n 86614  86782  10  0.1\r\n 86614  86783   0  0.0\r\n 86614  86784  13  0.0\r\n 86614  86785  12  0.0\r\n 86614  86786  15  0.0\r\n 86614  86787   4  0.0\r\n 86614  86788   8  0.0\r\n 86614  86789   5  0.0\r\n 86614  86790   1  0.0\r\n 86614  86791   3  0.0\r\n 86614  86792  11  0.0\r\n 86614  86793   6  0.0\r\n 86614  86794   2  0.0\r\n 86614  86795  14  0.0\r\n 86614  86796   7  0.0\r\n 86614  86797   9  0.1\r\n```\r\n#### Update 1\r\nUpdated the version to `imbalanced-learn==0.5.0.dev0`\r\nStill the problem persist. \r\n`n_jobs=-1`\r\n```\r\n  PID    TID PSR %CPU\r\n 36121  36121   2 87.9\r\n 36121  36143   1  0.9\r\n 36121  36144   0  0.3\r\n 36121  36145   5  0.1\r\n 36121  36146   4  0.3\r\n 36121  36147   3  0.4\r\n 36121  36148  15  0.4\r\n 36121  36149  14  0.5\r\n 36121  36150  11  0.3\r\n 36121  36151   2  0.2\r\n 36121  36152   6  0.2\r\n 36121  36153  10  0.2\r\n 36121  36154   9  0.2\r\n 36121  36155   8  0.2\r\n 36121  36156  13  0.2\r\n 36121  36157  12  0.2\r\n 36121  36158   7  0.6\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/574", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/574/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/574/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/574/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/574", "id": 452171213, "node_id": "MDU6SXNzdWU0NTIxNzEyMTM=", "number": 574, "title": "ImportError: cannot import name makedirs from sklearn.utils.fixes", "user": {"login": "gykovacs", "id": 1881098, "node_id": "MDQ6VXNlcjE4ODEwOTg=", "avatar_url": "https://avatars0.githubusercontent.com/u/1881098?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gykovacs", "html_url": "https://github.com/gykovacs", "followers_url": "https://api.github.com/users/gykovacs/followers", "following_url": "https://api.github.com/users/gykovacs/following{/other_user}", "gists_url": "https://api.github.com/users/gykovacs/gists{/gist_id}", "starred_url": "https://api.github.com/users/gykovacs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gykovacs/subscriptions", "organizations_url": "https://api.github.com/users/gykovacs/orgs", "repos_url": "https://api.github.com/users/gykovacs/repos", "events_url": "https://api.github.com/users/gykovacs/events{/privacy}", "received_events_url": "https://api.github.com/users/gykovacs/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": true, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2019-06-04T19:37:07Z", "updated_at": "2020-08-19T06:54:39Z", "closed_at": "2019-06-07T19:09:29Z", "author_association": "NONE", "active_lock_reason": "resolved", "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n\r\nimporting ```imblearn.datasets``` with ```sklearn``` 0.21.2 causes ```ImportError``` in both Python 3.5, 3.6, 3.7\r\n\r\n#### Steps/Code to Reproduce\r\n\r\nExample:\r\n```\r\nimport imblearn.datasets\r\n```\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\nNo error is thrown.\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/gykovacs/anaconda3/envs/sv/lib/python3.7/site-packages/imblearn/datasets/__init__.py\", line 8, in <module>\r\n    from ._zenodo import fetch_datasets\r\n  File \"/home/gykovacs/anaconda3/envs/sv/lib/python3.7/site-packages/imblearn/datasets/_zenodo.py\", line 60, in <module>\r\n    from sklearn.utils.fixes import makedirs\r\nImportError: cannot import name 'makedirs' from 'sklearn.utils.fixes' (/home/gykovacs/anaconda3/envs/sv/lib/python3.7/site-packages/sklearn/utils/fixes.py)\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\nLinux-5.0.0-15-generic-x86_64-with-debian-buster-sid\r\nPython 3.7.3 (default, Mar 27 2019, 22:11:17) \r\n[GCC 7.3.0]\r\nNumPy 1.16.4\r\nSciPy 1.3.0\r\nScikit-Learn 0.21.2\r\nImbalanced-Learn 0.4.3\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/573", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/573/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/573/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/573/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/573", "id": 450547632, "node_id": "MDU6SXNzdWU0NTA1NDc2MzI=", "number": 573, "title": "What are minority or majority in RUSBoostClassifier for multiple classification? How to define them?", "user": {"login": "linwang6", "id": 28542456, "node_id": "MDQ6VXNlcjI4NTQyNDU2", "avatar_url": "https://avatars3.githubusercontent.com/u/28542456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linwang6", "html_url": "https://github.com/linwang6", "followers_url": "https://api.github.com/users/linwang6/followers", "following_url": "https://api.github.com/users/linwang6/following{/other_user}", "gists_url": "https://api.github.com/users/linwang6/gists{/gist_id}", "starred_url": "https://api.github.com/users/linwang6/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linwang6/subscriptions", "organizations_url": "https://api.github.com/users/linwang6/orgs", "repos_url": "https://api.github.com/users/linwang6/repos", "events_url": "https://api.github.com/users/linwang6/events{/privacy}", "received_events_url": "https://api.github.com/users/linwang6/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-30T23:21:13Z", "updated_at": "2019-06-11T22:03:24Z", "closed_at": "2019-06-11T22:03:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "What are minority or majority in RUSBoostClassifier for multiple classification? How to define them? Based on the percentage? Thanks. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/572", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/572/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/572/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/572/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/572", "id": 449891806, "node_id": "MDU6SXNzdWU0NDk4OTE4MDY=", "number": 572, "title": "SMOTE gives an error when \"n_samples\" is lower than \"n_neighbors\"", "user": {"login": "ivan-marroquin", "id": 28459534, "node_id": "MDQ6VXNlcjI4NDU5NTM0", "avatar_url": "https://avatars1.githubusercontent.com/u/28459534?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivan-marroquin", "html_url": "https://github.com/ivan-marroquin", "followers_url": "https://api.github.com/users/ivan-marroquin/followers", "following_url": "https://api.github.com/users/ivan-marroquin/following{/other_user}", "gists_url": "https://api.github.com/users/ivan-marroquin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivan-marroquin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivan-marroquin/subscriptions", "organizations_url": "https://api.github.com/users/ivan-marroquin/orgs", "repos_url": "https://api.github.com/users/ivan-marroquin/repos", "events_url": "https://api.github.com/users/ivan-marroquin/events{/privacy}", "received_events_url": "https://api.github.com/users/ivan-marroquin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566670067, "node_id": "MDU6TGFiZWw1NjY2NzAwNjc=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/For:%20Documentation", "name": "For: Documentation", "color": "0052cc", "default": false, "description": "Indicates a need for improvements or additions to documentation"}, {"id": 566669735, "node_id": "MDU6TGFiZWw1NjY2Njk3MzU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Type:%20Bug", "name": "Type: Bug", "color": "b60205", "default": false, "description": "Indicates an unexpected problem or unintended behavior"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-29T15:58:35Z", "updated_at": "2019-06-12T17:47:10Z", "closed_at": "2019-06-12T17:47:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!--\r\nThere is a relationship between the sample size of the training data versus the k_neighbors size in SMOTE. \r\n\r\nThe algorithm does not inform what is the required minimum size for the training data when using a given k_neighbors size\r\n-->\r\n#### Steps/Code to Reproduce\r\n<!--\r\nimport numpy as np\r\nfrom sklearn.datasets import fetch_openml\r\nfrom imblearn.over_sampling import SMOTE\r\nfrom imblearn.under_sampling import EditedNearestNeighbours\r\n\r\nnp.random.seed(1969)\r\n\r\nif __name__ == '__main__':\r\n         X_mnist, y_mnist= fetch_openml(name= 'mnist_784', version= 1, return_X_y= True, cache= False)\r\n        digits= np.random.randint(500, 50000, size= 100)\r\n        sub_X_mnist= X_mnist[digits,:]\r\n        sub_y_mnist= y_mnist[digits]\r\n\r\n         X_smote, y_smote= SMOTE(ratio= 'all', random_state= 1969, k_neighbors= 5, n_jobs= -1).fit_sample(sub_X_mnist, sub_y_mnist)\r\n-->\r\n#### Expected Results\r\nIt would be nice to be  notified that the size of the training data is not enough to generate a given number of k_neighbors. But also, to inform us how many observations are needed to run the computation.\r\n\r\nEven more, it will be nice to have a formula to estimate the maximum size of k_neighbors according to the size of the training data\r\n-->\r\n#### Actual Results\r\n<!--\r\n  File \"c:\\temp\\python\\python36\\lib\\site-packages\\imblearn\\over_sampling\\_smote.py\", line 812, in _sample\r\n    nns = self.nn_k_.kneighbors(X_class, return_distance=False)[:, 1:]\r\n\r\n  File \"c:\\temp\\python\\python36\\lib\\site-packages\\sklearn\\neighbors\\base.py\", line 406, in kneighbors\r\n    (train_size, n_neighbors)\r\n\r\nValueError: Expected n_neighbors <= n_samples,  but n_samples = 4, n_neighbors = 6\r\n-->\r\n#### Versions\r\n<!--\r\nWindows-10-10.0.17763-SP0\r\nPython 3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 17:00:18) [MSC v.1900 64 bit (AMD64)]\r\nNumpy 1.15.4\r\nScipy 1.1.0\r\nScikit-Learn 0.20.0\r\nImbalanced-Learn 0.4.2\r\n-->\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/570", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/570/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/570/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/570/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/570", "id": 444443083, "node_id": "MDU6SXNzdWU0NDQ0NDMwODM=", "number": 570, "title": "Depreceation Warning since ScikitLearn 0.21.0", "user": {"login": "cwitt2013", "id": 16590435, "node_id": "MDQ6VXNlcjE2NTkwNDM1", "avatar_url": "https://avatars2.githubusercontent.com/u/16590435?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cwitt2013", "html_url": "https://github.com/cwitt2013", "followers_url": "https://api.github.com/users/cwitt2013/followers", "following_url": "https://api.github.com/users/cwitt2013/following{/other_user}", "gists_url": "https://api.github.com/users/cwitt2013/gists{/gist_id}", "starred_url": "https://api.github.com/users/cwitt2013/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cwitt2013/subscriptions", "organizations_url": "https://api.github.com/users/cwitt2013/orgs", "repos_url": "https://api.github.com/users/cwitt2013/repos", "events_url": "https://api.github.com/users/cwitt2013/events{/privacy}", "received_events_url": "https://api.github.com/users/cwitt2013/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-05-15T13:35:36Z", "updated_at": "2019-06-07T19:09:29Z", "closed_at": "2019-06-07T19:09:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/scikit-learn-contrib/imbalanced-learn/blob/09a068c9935662bfe6fcd49a067d7d941ffaacfb/imblearn/pipeline.py#L20\r\n\r\nImporting the six module raises a depreceation warning as the support for Python 2.7 was dropped.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/569", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/569/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/569/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/569/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/569", "id": 443410727, "node_id": "MDU6SXNzdWU0NDM0MTA3Mjc=", "number": 569, "title": "BalancedRandomForestClassifier sampling_strategy as float does not work", "user": {"login": "oegedijk", "id": 27999937, "node_id": "MDQ6VXNlcjI3OTk5OTM3", "avatar_url": "https://avatars3.githubusercontent.com/u/27999937?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oegedijk", "html_url": "https://github.com/oegedijk", "followers_url": "https://api.github.com/users/oegedijk/followers", "following_url": "https://api.github.com/users/oegedijk/following{/other_user}", "gists_url": "https://api.github.com/users/oegedijk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oegedijk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oegedijk/subscriptions", "organizations_url": "https://api.github.com/users/oegedijk/orgs", "repos_url": "https://api.github.com/users/oegedijk/repos", "events_url": "https://api.github.com/users/oegedijk/events{/privacy}", "received_events_url": "https://api.github.com/users/oegedijk/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 566670067, "node_id": "MDU6TGFiZWw1NjY2NzAwNjc=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/For:%20Documentation", "name": "For: Documentation", "color": "0052cc", "default": false, "description": "Indicates a need for improvements or additions to documentation"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-05-13T13:51:50Z", "updated_at": "2019-06-12T10:34:16Z", "closed_at": "2019-06-12T10:25:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\nPassing a float as sampling_strategy to the BalancedRandomForestClassfier() seems to throw errors both when sampling_strategy > 1.0 and when sampling_strategy < 1.0.\r\n\r\nAccording to the documentation:\r\n\r\n>When float, it corresponds to the desired ratio of the number of samples in the majority class >over the number of samples in the minority class after resampling. Therefore, the ratio is >expressed as \\alpha_{us} = N_{rM} / N_{m} where N_{rM} and N_{m} are the number of samples >in the majority class after resampling and the number of samples in the minority class, >respectively.\r\n\r\nI take this to mean that sampling_strategy should be >1.0 ( you sample more from the majority class than the minority class).\r\n\r\nHowever \r\n\r\n```\r\nbrf = BalancedRandomForestClassifier(sampling_strategy=2.0)\r\nbrf.fit(X_train, y_train)\r\n```\r\n\r\nthrows: \r\n`ValueError: When 'sampling_strategy' is a float, it should be in the range (0, 1]. Got 2.0 instead.`\r\n\r\nhowever \r\n```\r\nbrf = BalancedRandomForestClassifier(sampling_strategy=0.5)\r\nbrf.fit(X_train, y_train)\r\n```\r\nthrows:\r\n`ValueError: Cannot take a larger sample than population when 'replace=False'`\r\n\r\nIn line with my interpretation of the documentation with sampling_strategy<1.0, it seems to try to *over*sample the minority class, and then throws an error when trying this with replacement=False\r\n\r\n\r\n\r\n#### Versions\r\nWindows-2012ServerR2-6.3.9600-SP0\r\nPython 3.7.3 (default, Mar 27 2019, 17:13:21) [MSC v.1915 64 bit (AMD64)]\r\nNumPy 1.16.2\r\nSciPy 1.2.1\r\nScikit-Learn 0.20.3\r\nImbalanced-Learn 0.4.3\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/568", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/568/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/568/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/568/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/568", "id": 442744034, "node_id": "MDU6SXNzdWU0NDI3NDQwMzQ=", "number": 568, "title": "'m_neighbors' vs 'k_neighbors' ", "user": {"login": "laurallu", "id": 30353570, "node_id": "MDQ6VXNlcjMwMzUzNTcw", "avatar_url": "https://avatars0.githubusercontent.com/u/30353570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/laurallu", "html_url": "https://github.com/laurallu", "followers_url": "https://api.github.com/users/laurallu/followers", "following_url": "https://api.github.com/users/laurallu/following{/other_user}", "gists_url": "https://api.github.com/users/laurallu/gists{/gist_id}", "starred_url": "https://api.github.com/users/laurallu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/laurallu/subscriptions", "organizations_url": "https://api.github.com/users/laurallu/orgs", "repos_url": "https://api.github.com/users/laurallu/repos", "events_url": "https://api.github.com/users/laurallu/events{/privacy}", "received_events_url": "https://api.github.com/users/laurallu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-10T14:20:46Z", "updated_at": "2019-06-11T22:43:19Z", "closed_at": "2019-06-11T22:43:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n\r\nQuestion about the codes in BorderlineSMOTE and SVMSMOTE: In the function _validate_estimator(),  self.nn_m_ = check_neighbors_object(\r\n'k_neighbors', self.k_neighbors, additional_neighbor=1).\r\n\r\nIt seems to me that 'm_neighbors' instead of 'k_neighbors' should be used since in this step we are setting the number of neighbors used to determine the minority samples in danger.\r\nSee lines 326 and 509 in the source code of SMOTE.\r\n\r\n\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\n\r\n\r\n<!-- Thanks for contributing! -->", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/567", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/567/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/567/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/567/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/567", "id": 441796209, "node_id": "MDU6SXNzdWU0NDE3OTYyMDk=", "number": 567, "title": "TomekLinks fit_sample taking long time", "user": {"login": "atulec04", "id": 33454437, "node_id": "MDQ6VXNlcjMzNDU0NDM3", "avatar_url": "https://avatars3.githubusercontent.com/u/33454437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atulec04", "html_url": "https://github.com/atulec04", "followers_url": "https://api.github.com/users/atulec04/followers", "following_url": "https://api.github.com/users/atulec04/following{/other_user}", "gists_url": "https://api.github.com/users/atulec04/gists{/gist_id}", "starred_url": "https://api.github.com/users/atulec04/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atulec04/subscriptions", "organizations_url": "https://api.github.com/users/atulec04/orgs", "repos_url": "https://api.github.com/users/atulec04/repos", "events_url": "https://api.github.com/users/atulec04/events{/privacy}", "received_events_url": "https://api.github.com/users/atulec04/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-05-08T15:30:22Z", "updated_at": "2019-05-11T11:31:12Z", "closed_at": "2019-05-11T11:31:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am working on a text classification problem. I am using TomekLinks class of imblearn module to resample my data.But after calling fit_sample(X,y) method of TomekLinks class program does nothing even if i wait for 30 mins. My data set is 1800000 records long(text data).Here is the code snippet\r\n\r\nfrom imblearn.under_sampling import TomekLinks\r\n\r\ntl = TomekLinks(return_indices=True, ratio='majority',random_state=42) \r\nX_tl, y_tl = tl.fit_sample(train_x,y_binary)\r\n\r\nCan anyone help as why it is taking such a long time? and how to hanle this situation\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/564", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/564/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/564/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/564/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/564", "id": 432039119, "node_id": "MDU6SXNzdWU0MzIwMzkxMTk=", "number": 564, "title": "Great package. Slight adjustment to SMOTE reference in docs.", "user": {"login": "MichaelAllen1966", "id": 21013045, "node_id": "MDQ6VXNlcjIxMDEzMDQ1", "avatar_url": "https://avatars1.githubusercontent.com/u/21013045?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MichaelAllen1966", "html_url": "https://github.com/MichaelAllen1966", "followers_url": "https://api.github.com/users/MichaelAllen1966/followers", "following_url": "https://api.github.com/users/MichaelAllen1966/following{/other_user}", "gists_url": "https://api.github.com/users/MichaelAllen1966/gists{/gist_id}", "starred_url": "https://api.github.com/users/MichaelAllen1966/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MichaelAllen1966/subscriptions", "organizations_url": "https://api.github.com/users/MichaelAllen1966/orgs", "repos_url": "https://api.github.com/users/MichaelAllen1966/repos", "events_url": "https://api.github.com/users/MichaelAllen1966/events{/privacy}", "received_events_url": "https://api.github.com/users/MichaelAllen1966/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-11T13:58:10Z", "updated_at": "2019-06-11T22:36:39Z", "closed_at": "2019-06-11T22:36:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Reference for SMOTE given (on https://imbalanced-learn.org/en/stable/over_sampling.html) is:\r\n\r\nN. V. Chawla, K. W. Bowyer, L. O.Hall, W. P. Kegelmeyer, \u201cSMOTE: synthetic minority over-sampling technique,\u201d Journal of artificial intelligence research, 321-357, 2002.\r\n\r\nIt's just missing the volume number (16), and should be given as:\r\n\r\nN. V. Chawla, K. W. Bowyer, L. O.Hall, W. P. Kegelmeyer, \u201cSMOTE: synthetic minority over-sampling technique,\u201d Journal of artificial intelligence research, 16, 321-357, 2002.\r\n\r\nGreat package - thank you very much! I'm using it to explore synthesising patient-level data which may be readily shared without privacy concerns.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/563", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/563/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/563/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/563/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/563", "id": 431344022, "node_id": "MDU6SXNzdWU0MzEzNDQwMjI=", "number": 563, "title": "Error Coming: ModuleNotFoundError: No module named '__main__.base'; '__main__' is not a package", "user": {"login": "ayushichaplot", "id": 49473051, "node_id": "MDQ6VXNlcjQ5NDczMDUx", "avatar_url": "https://avatars1.githubusercontent.com/u/49473051?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ayushichaplot", "html_url": "https://github.com/ayushichaplot", "followers_url": "https://api.github.com/users/ayushichaplot/followers", "following_url": "https://api.github.com/users/ayushichaplot/following{/other_user}", "gists_url": "https://api.github.com/users/ayushichaplot/gists{/gist_id}", "starred_url": "https://api.github.com/users/ayushichaplot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ayushichaplot/subscriptions", "organizations_url": "https://api.github.com/users/ayushichaplot/orgs", "repos_url": "https://api.github.com/users/ayushichaplot/repos", "events_url": "https://api.github.com/users/ayushichaplot/events{/privacy}", "received_events_url": "https://api.github.com/users/ayushichaplot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-04-10T07:24:05Z", "updated_at": "2019-04-11T11:56:28Z", "closed_at": "2019-04-11T11:56:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "https://github.com/scikit-learn-contrib/imbalanced-learn/blob/09a068c9935662bfe6fcd49a067d7d941ffaacfb/imblearn/over_sampling/_smote.py#L28", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/562", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/562/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/562/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/562/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/562", "id": 429066733, "node_id": "MDU6SXNzdWU0MjkwNjY3MzM=", "number": 562, "title": "SMOTENC fails when all features are categorical", "user": {"login": "linziheng", "id": 1572657, "node_id": "MDQ6VXNlcjE1NzI2NTc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1572657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/linziheng", "html_url": "https://github.com/linziheng", "followers_url": "https://api.github.com/users/linziheng/followers", "following_url": "https://api.github.com/users/linziheng/following{/other_user}", "gists_url": "https://api.github.com/users/linziheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/linziheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/linziheng/subscriptions", "organizations_url": "https://api.github.com/users/linziheng/orgs", "repos_url": "https://api.github.com/users/linziheng/repos", "events_url": "https://api.github.com/users/linziheng/events{/privacy}", "received_events_url": "https://api.github.com/users/linziheng/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 1989228107, "node_id": "MDU6TGFiZWwxOTg5MjI4MTA3", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Package:%20over_sampling", "name": "Package: over_sampling", "color": "27178c", "default": false, "description": ""}, {"id": 566669735, "node_id": "MDU6TGFiZWw1NjY2Njk3MzU=", "url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/labels/Type:%20Bug", "name": "Type: Bug", "color": "b60205", "default": false, "description": "Indicates an unexpected problem or unintended behavior"}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 17, "created_at": "2019-04-04T03:30:01Z", "updated_at": "2020-06-09T08:22:23Z", "closed_at": "2020-06-09T08:22:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have a dataset with 4 categorical features and no continuous feature. When I run it on smote-nc, it throws an error saying\r\n\r\n`ValueError: Found array with 0 feature(s) (shape=(114965, 0)) while a minimum of 1 is required`\r\n\r\nIs there a way for smote-nc to work on dataset like this where features are all categorical? \r\n\r\nThanks!\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/561", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/561/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/561/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/561/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/561", "id": 427881151, "node_id": "MDU6SXNzdWU0Mjc4ODExNTE=", "number": 561, "title": "smote+enn under sampled the majority class", "user": {"login": "ZacharAdn", "id": 17888627, "node_id": "MDQ6VXNlcjE3ODg4NjI3", "avatar_url": "https://avatars0.githubusercontent.com/u/17888627?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ZacharAdn", "html_url": "https://github.com/ZacharAdn", "followers_url": "https://api.github.com/users/ZacharAdn/followers", "following_url": "https://api.github.com/users/ZacharAdn/following{/other_user}", "gists_url": "https://api.github.com/users/ZacharAdn/gists{/gist_id}", "starred_url": "https://api.github.com/users/ZacharAdn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ZacharAdn/subscriptions", "organizations_url": "https://api.github.com/users/ZacharAdn/orgs", "repos_url": "https://api.github.com/users/ZacharAdn/repos", "events_url": "https://api.github.com/users/ZacharAdn/events{/privacy}", "received_events_url": "https://api.github.com/users/ZacharAdn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-04-01T19:48:51Z", "updated_at": "2019-04-09T08:53:00Z", "closed_at": "2019-04-09T08:52:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\nI have an imbalanced dataset and when I try to balance him using SMOTEENN, the count of majority class decreasing by half\r\nI tried to change the 'sampling_strategy' parameter, with all the provided options but it not help\r\n\r\n\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n\r\n#### Steps/Code to Reproduce\r\n```\r\nfrom imblearn.combine import SMOTEENN\r\n\r\nsme = SMOTEENN(sampling_strategy=1.0)\r\nX_res, y_res = sme.fit_resample(X_train, y_train)\r\n\r\nprint(f'Original train dataset shape: {Counter(y_train)}')\r\nprint(f'Resampled train dataset shape: {Counter(y_res)}\\n')\r\n```\r\n\r\n\r\n<!--\r\nExample:\r\n```\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n#### Expected Results\r\nOriginal train dataset shape: Counter({1: 2194, 0: 205})\r\nResampled train dataset shape: Counter({0: 2117, 1: 2117})\r\n\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\nOriginal train dataset shape: Counter({1: 2194, 0: 205})\r\nResampled train dataset shape: Counter({0: 2117, 1: 1226})\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\nLinux-4.14.79+-x86_64-with-Ubuntu-18.04-bionic\r\nPython 3.6.7 (default, Oct 22 2018, 11:32:17) \r\n[GCC 8.2.0]\r\nNumPy 1.14.6\r\nSciPy 1.1.0\r\nScikit-Learn 0.20.3\r\nImbalanced-Learn 0.4.3\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/560", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/560/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/560/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/560/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/560", "id": 427221052, "node_id": "MDU6SXNzdWU0MjcyMjEwNTI=", "number": 560, "title": "Error with n_jobs=-1 and n_jobs >1 ", "user": {"login": "LakshMatai", "id": 20666701, "node_id": "MDQ6VXNlcjIwNjY2NzAx", "avatar_url": "https://avatars3.githubusercontent.com/u/20666701?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LakshMatai", "html_url": "https://github.com/LakshMatai", "followers_url": "https://api.github.com/users/LakshMatai/followers", "following_url": "https://api.github.com/users/LakshMatai/following{/other_user}", "gists_url": "https://api.github.com/users/LakshMatai/gists{/gist_id}", "starred_url": "https://api.github.com/users/LakshMatai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LakshMatai/subscriptions", "organizations_url": "https://api.github.com/users/LakshMatai/orgs", "repos_url": "https://api.github.com/users/LakshMatai/repos", "events_url": "https://api.github.com/users/LakshMatai/events{/privacy}", "received_events_url": "https://api.github.com/users/LakshMatai/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-03-30T00:24:35Z", "updated_at": "2019-06-11T22:38:34Z", "closed_at": "2019-06-11T22:38:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n In Python 2 the error is \"Exception has occurred: OSError, [Errno 32] Broken pipe\" and in Python 3 the \"error is semaphore or lock released too many times\"\r\n#### Steps/Code to Reproduce\r\n\r\nclassifier=BalancedBaggingClassifier(base_estimator=base_estimator,\r\n            n_estimators=NUM_ESTIMATORS, max_samples=MAX_SAMPLES,\r\n            max_features=MAX_FEATURES,\r\n            bootstrap=True, bootstrap_features=False,\r\n            oob_score=False, warm_start=False,\r\n            sampling_strategy='majority', #sampling_strategy=0.8,\r\n            replacement=True, n_jobs=-1,\r\n            random_state=RANDOM_SEED, verbose=VERBOSE)\r\n\r\nclassifier.fit(x,y)\r\n\r\n#### Expected Results\r\nIt should just fit the classifier without any error\r\n\r\n#### Actual Results\r\n### for python 2\r\nException has occurred: OSError\r\n[Errno 32] Broken pipe\r\n  File \"/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/externals/loky/backend/semaphore_tracker.py\", line 134, in _send\r\n    nbytes = os.write(self._fd, msg)\r\n  File \"/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/externals/loky/backend/semaphore_tracker.py\", line 112, in _check_alive\r\n    self._send('PROBE', '')\r\n  File \"/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/externals/loky/backend/semaphore_tracker.py\", line 66, in ensure_running\r\n    if self._check_alive():\r\n  File \"/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/externals/loky/backend/semaphore_tracker.py\", line 120, in register\r\n    self.ensure_running()\r\n  File \"/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/externals/loky/backend/synchronize.py\", line 90, in __init__\r\n    semaphore_tracker.register(self._semlock.name)\r\n  File \"/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/externals/loky/backend/synchronize.py\", line 174, in __init__\r\n    super(Lock, self).__init__(SEMAPHORE, 1, 1)\r\n  File \"/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/externals/loky/backend/context.py\", line 225, in Lock\r\n    return Lock()\r\n  File \"/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/externals/loky/backend/queues.py\", line 46, in __init__\r\n    self._rlock = ctx.Lock()\r\n  File \"/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/externals/loky/process_executor.py\", line 286, in __init__\r\n    super(_SafeQueue, self).__init__(max_size, reducers=reducers, ctx=ctx)\r\n  File \"/anaconda2/lib/python2.7/site-packages/sklearn/externals/joblib/externals/loky/process_executor.py\", line 940, in _setup_queues\r\n    reducers=job_reducers, ctx=self._context)\r\n\r\n### Python3 \r\nException has occurred: ValueError\r\nsemaphore or lock released too many times\r\n  File \"/Users/apple/anaconda3/lib/python3.7/site-packages/sklearn/externals/joblib/externals/loky/backend/synchronize.py\", line 107, in __exit__\r\n    return self._semlock.release()\r\n  File \"/Users/apple/anaconda3/lib/python3.7/site-packages/sklearn/externals/joblib/externals/loky/process_executor.py\", line 1017, in _ensure_executor_running\r\n    self._start_queue_management_thread()\r\n  File \"/Users/apple/anaconda3/lib/python3.7/site-packages/sklearn/externals/joblib/externals/loky/process_executor.py\", line 1042, in submit\r\n    self._ensure_executor_running()\r\n  File \"/Users/apple/anaconda3/lib/python3.7/site-packages/sklearn/externals/joblib/externals/loky/reusable_executor.py\", line 151, in submit\r\n    fn, *args, **kwargs)\r\n  File \"/Users/apple/anaconda3/lib/python3.7/site-packages/sklearn/externals/joblib/_parallel_backends.py\", line 510, in apply_async\r\n    future = self._workers.submit(SafeFunction(func))\r\n  File \"/Users/apple/anaconda3/lib/python3.7/site-packages/sklearn/externals/joblib/parallel.py\", line 716, in _dispatch\r\n    job = self._backend.apply_async(batch, callback=cb)\r\n  File \"/Users/apple/anaconda3/lib/python3.7/site-packages/sklearn/externals/joblib/parallel.py\", line 759, in dispatch_one_batch\r\n    self._dispatch(tasks)\r\n  File \"/Users/apple/anaconda3/lib/python3.7/site-packages/sklearn/externals/joblib/parallel.py\", line 917, in __call__\r\n    if self.dispatch_one_batch(iterator):\r\n  File \"/Users/apple/anaconda3/lib/python3.7/site-packages/sklearn/ensemble/bagging.py\", line 378, in _fit\r\n    for i in range(n_jobs))\r\n  File \"/Users/apple/anaconda3/lib/python3.7/site-packages/imblearn/ensemble/_bagging.py\", line 245, in fit\r\n    return self._fit(X, y, self.max_samples, sample_weight=None)\r\n  File \"/Users/apple/Documents/CAIS/_Laksh/lily-x/PAWS/iware/iware.py\", line 445, in train_iware\r\n    classifier.fit(train_x_filter, train_y_filter)\r\n\r\n#### Versions\r\nPython 3.7.1 (default, Dec 14 2018, 13:28:58) \r\n[Clang 4.0.1 (tags/RELEASE_401/final)]\r\nNumPy 1.15.4\r\nSciPy 1.1.0\r\nScikit-Learn 0.20.1\r\nImbalanced-Learn 0.5.0.dev0\r\n\r\n\r\n<!-- Thanks for contributing! -->", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/559", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/559/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/559/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/559/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/559", "id": 425724704, "node_id": "MDU6SXNzdWU0MjU3MjQ3MDQ=", "number": 559, "title": "Hello, thanks for your share. I wonder if it is normal that the results are different when I resample the same data using the same resampler.Thanks a lot", "user": {"login": "whuissyxa", "id": 36789261, "node_id": "MDQ6VXNlcjM2Nzg5MjYx", "avatar_url": "https://avatars1.githubusercontent.com/u/36789261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whuissyxa", "html_url": "https://github.com/whuissyxa", "followers_url": "https://api.github.com/users/whuissyxa/followers", "following_url": "https://api.github.com/users/whuissyxa/following{/other_user}", "gists_url": "https://api.github.com/users/whuissyxa/gists{/gist_id}", "starred_url": "https://api.github.com/users/whuissyxa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whuissyxa/subscriptions", "organizations_url": "https://api.github.com/users/whuissyxa/orgs", "repos_url": "https://api.github.com/users/whuissyxa/repos", "events_url": "https://api.github.com/users/whuissyxa/events{/privacy}", "received_events_url": "https://api.github.com/users/whuissyxa/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-03-27T01:50:48Z", "updated_at": "2019-03-27T21:26:40Z", "closed_at": "2019-03-27T21:26:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom sklearn.feature_extraction.text import CountVectorizer\r\nfrom sklearn.decomposition import LatentDirichletAllocation\r\n\r\ndocs = [\"Help I have a bug\" for i in range(1000)]\r\n\r\nvectorizer = CountVectorizer(input=docs, analyzer='word')\r\nlda_features = vectorizer.fit_transform(docs)\r\n\r\nlda_model = LatentDirichletAllocation(\r\n    n_topics=10,\r\n    learning_method='online',\r\n    evaluate_every=10,\r\n    n_jobs=4,\r\n)\r\nmodel = lda_model.fit(lda_features)\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\n\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/556", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/556/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/556/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/556/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/556", "id": 417203355, "node_id": "MDU6SXNzdWU0MTcyMDMzNTU=", "number": 556, "title": "Issue with Sampling ratios for OSS, Instance Hardness Threshold, NCR, RENN", "user": {"login": "AkhilSreehari", "id": 13130022, "node_id": "MDQ6VXNlcjEzMTMwMDIy", "avatar_url": "https://avatars2.githubusercontent.com/u/13130022?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AkhilSreehari", "html_url": "https://github.com/AkhilSreehari", "followers_url": "https://api.github.com/users/AkhilSreehari/followers", "following_url": "https://api.github.com/users/AkhilSreehari/following{/other_user}", "gists_url": "https://api.github.com/users/AkhilSreehari/gists{/gist_id}", "starred_url": "https://api.github.com/users/AkhilSreehari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AkhilSreehari/subscriptions", "organizations_url": "https://api.github.com/users/AkhilSreehari/orgs", "repos_url": "https://api.github.com/users/AkhilSreehari/repos", "events_url": "https://api.github.com/users/AkhilSreehari/events{/privacy}", "received_events_url": "https://api.github.com/users/AkhilSreehari/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-03-05T09:39:30Z", "updated_at": "2019-03-05T15:30:03Z", "closed_at": "2019-03-05T15:30:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I find that the sampling ratios for certain imblearn packages like RENN, NCR etc are not working correctly.\r\n\r\nAttaching screenshots.\r\n<img width=\"885\" alt=\"screen shot 2019-03-05 at 3 35 31 am\" src=\"https://user-images.githubusercontent.com/13130022/53795725-3005aa80-3ef8-11e9-8412-3c6f8f11f16e.png\">\r\n<img width=\"887\" alt=\"screen shot 2019-03-05 at 3 39 02 am\" src=\"https://user-images.githubusercontent.com/13130022/53795751-3dbb3000-3ef8-11e9-8719-fe4b138d4cac.png\">\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/553", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/553/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/553/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/553/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/553", "id": 415038493, "node_id": "MDU6SXNzdWU0MTUwMzg0OTM=", "number": 553, "title": "Error when last stage is None and fit_resample is called", "user": {"login": "orausch", "id": 22137236, "node_id": "MDQ6VXNlcjIyMTM3MjM2", "avatar_url": "https://avatars3.githubusercontent.com/u/22137236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orausch", "html_url": "https://github.com/orausch", "followers_url": "https://api.github.com/users/orausch/followers", "following_url": "https://api.github.com/users/orausch/following{/other_user}", "gists_url": "https://api.github.com/users/orausch/gists{/gist_id}", "starred_url": "https://api.github.com/users/orausch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orausch/subscriptions", "organizations_url": "https://api.github.com/users/orausch/orgs", "repos_url": "https://api.github.com/users/orausch/repos", "events_url": "https://api.github.com/users/orausch/events{/privacy}", "received_events_url": "https://api.github.com/users/orausch/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-02-27T09:59:14Z", "updated_at": "2019-03-01T10:43:58Z", "closed_at": "2019-03-01T10:43:58Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\n\r\n#### Steps/Code to Reproduce\r\n```\r\nIn [1]: import imblearn                                                                                                                                                                                                                       \r\n\r\nIn [2]: from imblearn.pipeline import make_pipeline, Pipeline                                                                                                                                                                                 \r\n\r\nIn [3]: from imblearn.under_sampling import RandomUnderSampler                                                                                                                                                                                \r\n\r\nIn [4]: rus = RandomUnderSampler()                                                                                                                                                                                                            \r\n\r\nIn [5]: p = make_pipeline(rus, None)                                                                                                                                                                                                          \r\n\r\nIn [6]: from sklearn.datasets import make_blobs                                                                                                                                                                                               \r\n\r\nIn [7]: X, y = make_blobs()                                                                                                                                                                                                                   \r\n\r\nIn [8]: p.fit_resample(X, y)                                                                                                                                                                                                                  \r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-8-cfa4a4b54c83> in <module>\r\n----> 1 p.fit_resample(X, y)\r\n\r\n~/repos/scikit-learn/sklearn/utils/metaestimators.py in __get__(self, obj, type)\r\n    108                     continue\r\n    109                 else:\r\n--> 110                     getattr(delegate, self.attribute_name)\r\n    111                     break\r\n    112             else:\r\n\r\nAttributeError: 'str' object has no attribute 'fit_resample'\r\n```\r\n\r\n#### Expected Results\r\nNo error\r\n\r\n#### Actual Results\r\nError\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\n```\r\nLinux-4.19.0-2-amd64-x86_64-with-debian-buster-sid\r\nPython 3.7.1 (default, Dec 14 2018, 19:28:38) \r\n[GCC 7.3.0]\r\nNumPy 1.15.4\r\nSciPy 1.1.0\r\nScikit-Learn 0.21.dev0\r\nImbalanced-Learn 0.4.3\r\n```\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/552", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/552/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/552/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/552/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/552", "id": 413323419, "node_id": "MDU6SXNzdWU0MTMzMjM0MTk=", "number": 552, "title": "SMOTETomek: ValueError: With over-sampling methods, the number of samples in a class should be greater or equal to the original number of samples.", "user": {"login": "MateuszKonopelski", "id": 23666001, "node_id": "MDQ6VXNlcjIzNjY2MDAx", "avatar_url": "https://avatars0.githubusercontent.com/u/23666001?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MateuszKonopelski", "html_url": "https://github.com/MateuszKonopelski", "followers_url": "https://api.github.com/users/MateuszKonopelski/followers", "following_url": "https://api.github.com/users/MateuszKonopelski/following{/other_user}", "gists_url": "https://api.github.com/users/MateuszKonopelski/gists{/gist_id}", "starred_url": "https://api.github.com/users/MateuszKonopelski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MateuszKonopelski/subscriptions", "organizations_url": "https://api.github.com/users/MateuszKonopelski/orgs", "repos_url": "https://api.github.com/users/MateuszKonopelski/repos", "events_url": "https://api.github.com/users/MateuszKonopelski/events{/privacy}", "received_events_url": "https://api.github.com/users/MateuszKonopelski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-22T09:49:10Z", "updated_at": "2019-02-22T10:28:07Z", "closed_at": "2019-02-22T10:20:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nI've got the understanding of SMOTETomek method that I I have imbalanced class of e.g. \r\n1    357\r\n0    212\r\n\r\nI might simultaneously oversample class 0 and undersample class 1 (Of course it's much more useful to more imbalanced cases).\r\n\r\nSo I decided to set \r\n```\r\ncount_class_0 = 300\r\ncount_class_1 = 300\r\n```\r\nSMOTE should be used to ovesample class 0 and later Tomek's Links used to down sample class 1.\r\n\r\nBut when I try run this code:\r\n```\r\nfrom sklearn.datasets import load_breast_cancer\r\nimport pandas as pd\r\nfrom imblearn.combine import SMOTETomek\r\n\r\ndata = load_breast_cancer()\r\nX = pd.DataFrame(data=data.data, columns=data.feature_names)\r\n\r\ncount_class_0 = 300\r\ncount_class_1 = 300\r\n\r\nsmt = SMOTETomek(ratio={0: count_class_0, 1:count_class_1})\r\n\r\nX_smt, y_smt = smt.fit_sample(X, data.target)\r\n\r\n```\r\n\r\nI got an error:\r\n\r\n\r\n```\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-18-d6b3de2ade66>\", line 1, in <module>\r\n    X_smt, y_smt = smt.fit_sample(X, data.target)\r\n\r\n  File \"C:\\Users\\UI378020\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\imblearn\\base.py\", line 83, in fit_resample\r\n    self.sampling_strategy, y, self._sampling_type)\r\n\r\n  File \"C:\\Users\\UI378020\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\imblearn\\utils\\_validation.py\", line 445, in check_sampling_strategy\r\n    _sampling_strategy_dict(sampling_strategy, y, sampling_type)\r\n\r\n  File \"C:\\Users\\UI378020\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\imblearn\\utils\\_validation.py\", line 250, in _sampling_strategy_dict\r\n    target_stats[class_sample], n_samples))\r\n\r\nValueError: With over-sampling methods, the number of samples in a class should be greater or equal to the original number of samples. Originally, there is 357 samples and 300 samples are asked.\r\n```\r\n\r\nCan you help me in what I am doing wrong? \r\n\r\n**My imblearn version: 0.4.3**\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/551", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/551/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/551/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/551/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/551", "id": 413070719, "node_id": "MDU6SXNzdWU0MTMwNzA3MTk=", "number": 551, "title": "Unexpected Keyword Argument 'prefer'", "user": {"login": "Fred-Macdo", "id": 14336138, "node_id": "MDQ6VXNlcjE0MzM2MTM4", "avatar_url": "https://avatars3.githubusercontent.com/u/14336138?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Fred-Macdo", "html_url": "https://github.com/Fred-Macdo", "followers_url": "https://api.github.com/users/Fred-Macdo/followers", "following_url": "https://api.github.com/users/Fred-Macdo/following{/other_user}", "gists_url": "https://api.github.com/users/Fred-Macdo/gists{/gist_id}", "starred_url": "https://api.github.com/users/Fred-Macdo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Fred-Macdo/subscriptions", "organizations_url": "https://api.github.com/users/Fred-Macdo/orgs", "repos_url": "https://api.github.com/users/Fred-Macdo/repos", "events_url": "https://api.github.com/users/Fred-Macdo/events{/privacy}", "received_events_url": "https://api.github.com/users/Fred-Macdo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-02-21T18:46:38Z", "updated_at": "2019-09-11T14:25:22Z", "closed_at": "2019-02-22T10:21:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "<!--\r\nIf your issue is a usage question, submit it here instead:\r\n- The imbalanced learn gitter: https://gitter.im/scikit-learn-contrib/imbalanced-learn\r\n-->\r\n\r\n<!-- Instructions For Filing a Bug: https://github.com/scikit-learn-contrib/imbalanced-learn/blob/master/CONTRIBUTING.md#filing-bugs -->\r\n\r\n#### Description\r\n<!-- Example: Joblib Error thrown when calling fit on LatentDirichletAllocation with evaluate_every > 0-->\r\nGetting a TypeError: __init__() got an  unexpected keyword argument 'prefer' when trying to fit BalancedRandomForestClassifier\r\n\r\n#### Steps/Code to Reproduce\r\n<!--\r\nExample:\r\n```\r\nfrom imblearn.ensemble import BalancedRandomForestClassifier\r\nbrf = BalancedRandomForestClassifier(n_estimators=1200, random_state=0)\r\nbrf.fit(train_features, train_labels)\r\n\r\n\r\n```\r\nIf the code is too long, feel free to put it in a public gist and link\r\nit in the issue: https://gist.github.com\r\n-->\r\n\r\n#### Expected Results\r\n<!-- Example: No error is thrown. Please paste or describe the expected results.-->\r\nExpecting a fit model\r\n\r\n#### Actual Results\r\n<!-- Please paste or specifically describe the actual output or traceback. -->\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n<ipython-input-252-79f39122902f> in <module>()\r\n      1 brf = BalancedRandomForestClassifier(n_estimators=1200, random_state=0)\r\n----> 2 brf.fit(train_features, train_labels)\r\n\r\nD:\\Anaconda\\envs\\raster_processing\\lib\\site-packages\\imblearn\\ensemble\\_forest.py in fit(self, X, y, sample_weight)\r\n    431             # threads.\r\n    432             samplers_trees = Parallel(\r\n--> 433                 n_jobs=self.n_jobs, verbose=self.verbose, prefer=\"threads\")(\r\n    434                     delayed(_local_parallel_build_trees)(\r\n    435                         s, t, self, X, y, sample_weight, i, len(trees),\r\n\r\nTypeError: __init__() got an unexpected keyword argument 'prefer'\r\n\r\n#### Versions\r\n<!--\r\nPlease run the following snippet and paste the output below.\r\nimport platform; print(platform.platform())\r\nimport sys; print(\"Python\", sys.version)\r\nimport numpy; print(\"NumPy\", numpy.__version__)\r\nimport scipy; print(\"SciPy\", scipy.__version__)\r\nimport sklearn; print(\"Scikit-Learn\", sklearn.__version__)\r\nimport imblearn; print(\"Imbalanced-Learn\", imblearn.__version__)\r\n-->\r\nWindows-2012ServerR2-6.3.9600-SP0\r\nPython 3.6.6 |Anaconda, Inc.| (default, Jun 28 2018, 11:27:44) [MSC v.1900 64 bit (AMD64)]\r\nNumPy 1.15.0\r\nSciPy 1.1.0\r\nScikit-Learn 0.19.2\r\nImbalanced-Learn 0.4.3\r\n\r\n<!-- Thanks for contributing! -->\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/549", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/549/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/549/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/549/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/549", "id": 411719020, "node_id": "MDU6SXNzdWU0MTE3MTkwMjA=", "number": 549, "title": "sklearn cannot import name 'IS_PYPY' after scikit-learn updated and imbalanced-learn in installed", "user": {"login": "mdivk", "id": 10734547, "node_id": "MDQ6VXNlcjEwNzM0NTQ3", "avatar_url": "https://avatars0.githubusercontent.com/u/10734547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdivk", "html_url": "https://github.com/mdivk", "followers_url": "https://api.github.com/users/mdivk/followers", "following_url": "https://api.github.com/users/mdivk/following{/other_user}", "gists_url": "https://api.github.com/users/mdivk/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdivk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdivk/subscriptions", "organizations_url": "https://api.github.com/users/mdivk/orgs", "repos_url": "https://api.github.com/users/mdivk/repos", "events_url": "https://api.github.com/users/mdivk/events{/privacy}", "received_events_url": "https://api.github.com/users/mdivk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-19T02:42:14Z", "updated_at": "2019-03-15T22:44:38Z", "closed_at": "2019-03-15T22:44:38Z", "author_association": "NONE", "active_lock_reason": null, "body": " As per advised by https://github.com/scikit-learn-contrib/imbalanced-learn/issues/548, I upgraded scikit-learn to the latest version of 0.20.2, when I attempted to upgrade imbalanced-learn I was prompted:\r\n\r\n> The following packages will be DOWNGRADED:\r\n> \r\n>   numpy                               1.15.4-py36h7e9f1db_0 --> 1.15.4-py37h7e9f1db_0\r\n>   numpy-base                          1.15.4-py36hde5b4d6_0 --> 1.15.4-py37hde5b4d6_0\r\n>   scikit-learn                        0.20.2-py36hd81dba3_0 --> 0.20.2-py37hd81dba3_0\r\n>   scipy                                1.2.0-py36h7c811a0_0 --> 1.2.0-py37h7c811a0_0\r\n> \r\n\r\nWhy it says DOWNGRADED here? all 4 are indeed UPGRADE from py36 to py37.\r\n\r\nAnyway, the upgrade was completed.\r\n\r\nHowever, I am now receiving new error below:\r\n\r\n> No module named 'imblearn.datasets'\r\n\r\nWhat can I do now? Thank you very much.\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/548", "repository_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn", "labels_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/548/labels{/name}", "comments_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/548/comments", "events_url": "https://api.github.com/repos/scikit-learn-contrib/imbalanced-learn/issues/548/events", "html_url": "https://github.com/scikit-learn-contrib/imbalanced-learn/issues/548", "id": 411531203, "node_id": "MDU6SXNzdWU0MTE1MzEyMDM=", "number": 548, "title": "sklearn cannot import name 'IS_PYPY' after imbalanced-learn in installed", "user": {"login": "mdivk", "id": 10734547, "node_id": "MDQ6VXNlcjEwNzM0NTQ3", "avatar_url": "https://avatars0.githubusercontent.com/u/10734547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mdivk", "html_url": "https://github.com/mdivk", "followers_url": "https://api.github.com/users/mdivk/followers", "following_url": "https://api.github.com/users/mdivk/following{/other_user}", "gists_url": "https://api.github.com/users/mdivk/gists{/gist_id}", "starred_url": "https://api.github.com/users/mdivk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mdivk/subscriptions", "organizations_url": "https://api.github.com/users/mdivk/orgs", "repos_url": "https://api.github.com/users/mdivk/repos", "events_url": "https://api.github.com/users/mdivk/events{/privacy}", "received_events_url": "https://api.github.com/users/mdivk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-18T15:30:12Z", "updated_at": "2019-02-18T16:15:09Z", "closed_at": "2019-02-18T16:15:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Don't know what is the root cause, but I see the trace below:\r\n\r\n> from imblearn.datasets import fetch_datasets\r\n> from ._imbalance import make_imbalance\r\n> from ..under_sampling import RandomUnderSampler\r\n> from ._prototype_generation import ClusterCentroids\r\n> from ._cluster_centroids import ClusterCentroids\r\n> from sklearn.cluster import KMeans\r\n> from .dbscan_ import dbscan, DBSCAN\r\n> from ..utils.testing import ignore_warnings\r\n> from sklearn.utils import deprecated, IS_PYPY, _IS_32BIT\r\n\r\n **ImportError: cannot import name 'IS_PYPY'**\r\n\r\nCan anyone shed me with any light here? Thank you very much.", "performed_via_github_app": null, "score": 1.0}]}