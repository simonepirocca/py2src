{"total_count": 12, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/33", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/33/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/33/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/33", "id": 667410107, "node_id": "MDU6SXNzdWU2Njc0MTAxMDc=", "number": 33, "title": "Drop support for older versions of Python and pytest", "user": {"login": "asmeurer", "id": 71486, "node_id": "MDQ6VXNlcjcxNDg2", "avatar_url": "https://avatars3.githubusercontent.com/u/71486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asmeurer", "html_url": "https://github.com/asmeurer", "followers_url": "https://api.github.com/users/asmeurer/followers", "following_url": "https://api.github.com/users/asmeurer/following{/other_user}", "gists_url": "https://api.github.com/users/asmeurer/gists{/gist_id}", "starred_url": "https://api.github.com/users/asmeurer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asmeurer/subscriptions", "organizations_url": "https://api.github.com/users/asmeurer/orgs", "repos_url": "https://api.github.com/users/asmeurer/repos", "events_url": "https://api.github.com/users/asmeurer/events{/privacy}", "received_events_url": "https://api.github.com/users/asmeurer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-07-28T22:01:26Z", "updated_at": "2020-08-10T18:27:49Z", "closed_at": "2020-08-10T18:27:49Z", "author_association": "OWNER", "active_lock_reason": null, "body": "I didn't want to mess with too many changes at once in #29, but we should drop support for Python 2 and Python 3.4, and older versions of pytest. I'd say we should require at least pytest >=5 so that we don't need to have the hasattr('from_parent') check. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/26", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/26/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/26/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/26/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/26", "id": 650740573, "node_id": "MDU6SXNzdWU2NTA3NDA1NzM=", "number": 26, "title": "PytestDeprecationWarning printed with every test run", "user": {"login": "asmeurer", "id": 71486, "node_id": "MDQ6VXNlcjcxNDg2", "avatar_url": "https://avatars3.githubusercontent.com/u/71486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asmeurer", "html_url": "https://github.com/asmeurer", "followers_url": "https://api.github.com/users/asmeurer/followers", "following_url": "https://api.github.com/users/asmeurer/following{/other_user}", "gists_url": "https://api.github.com/users/asmeurer/gists{/gist_id}", "starred_url": "https://api.github.com/users/asmeurer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asmeurer/subscriptions", "organizations_url": "https://api.github.com/users/asmeurer/orgs", "repos_url": "https://api.github.com/users/asmeurer/repos", "events_url": "https://api.github.com/users/asmeurer/events{/privacy}", "received_events_url": "https://api.github.com/users/asmeurer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-07-03T19:26:48Z", "updated_at": "2020-07-28T21:59:00Z", "closed_at": "2020-07-28T21:59:00Z", "author_association": "OWNER", "active_lock_reason": null, "body": "Every time I run my tests with pytest-flakes, I get the following deprecation warning:\r\n\r\n```py\r\n/Users/aaronmeurer/anaconda3/lib/python3.7/site-packages/pytest_flakes.py:51\r\n  /Users/aaronmeurer/anaconda3/lib/python3.7/site-packages/pytest_flakes.py:51: PytestDeprecationWarning: direct construction of FlakesItem has been deprecated, please use FlakesItem.from_parent\r\n    return FlakesItem(path, parent, flakes_ignore)\r\n```\r\n\r\nIt looks like it should be easy to fix. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/24", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/24/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/24/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/24", "id": 405158532, "node_id": "MDU6SXNzdWU0MDUxNTg1MzI=", "number": 24, "title": "...", "user": {"login": "pawciobiel", "id": 1190054, "node_id": "MDQ6VXNlcjExOTAwNTQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/1190054?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pawciobiel", "html_url": "https://github.com/pawciobiel", "followers_url": "https://api.github.com/users/pawciobiel/followers", "following_url": "https://api.github.com/users/pawciobiel/following{/other_user}", "gists_url": "https://api.github.com/users/pawciobiel/gists{/gist_id}", "starred_url": "https://api.github.com/users/pawciobiel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pawciobiel/subscriptions", "organizations_url": "https://api.github.com/users/pawciobiel/orgs", "repos_url": "https://api.github.com/users/pawciobiel/repos", "events_url": "https://api.github.com/users/pawciobiel/events{/privacy}", "received_events_url": "https://api.github.com/users/pawciobiel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-01-31T09:41:52Z", "updated_at": "2019-01-31T10:13:07Z", "closed_at": "2019-01-31T09:46:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "...", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/21", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/21/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/21/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/21/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/21", "id": 346234540, "node_id": "MDU6SXNzdWUzNDYyMzQ1NDA=", "number": 21, "title": "Seemingly broken with pytest 3.7.0", "user": {"login": "sigmavirus24", "id": 240830, "node_id": "MDQ6VXNlcjI0MDgzMA==", "avatar_url": "https://avatars3.githubusercontent.com/u/240830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sigmavirus24", "html_url": "https://github.com/sigmavirus24", "followers_url": "https://api.github.com/users/sigmavirus24/followers", "following_url": "https://api.github.com/users/sigmavirus24/following{/other_user}", "gists_url": "https://api.github.com/users/sigmavirus24/gists{/gist_id}", "starred_url": "https://api.github.com/users/sigmavirus24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sigmavirus24/subscriptions", "organizations_url": "https://api.github.com/users/sigmavirus24/orgs", "repos_url": "https://api.github.com/users/sigmavirus24/repos", "events_url": "https://api.github.com/users/sigmavirus24/events{/privacy}", "received_events_url": "https://api.github.com/users/sigmavirus24/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-07-31T15:15:52Z", "updated_at": "2020-08-06T20:00:13Z", "closed_at": "2020-08-06T20:00:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n================================================ test session starts =================================================\r\nplatform darwin -- Python 3.6.3, pytest-3.7.0, py-1.5.2, pluggy-0.7.1\r\nDjango settings: settings (from environment variable)\r\nrootdir: /Users/sigmavirus24/work/workproject, inifile: pytest.ini\r\nplugins: tap-2.2, flakes-3.0.2, django-3.3.3, asyncio-0.9.0\r\ncollected 0 items / 1 errors\r\n\r\n======================================================= ERRORS =======================================================\r\n_________________________________________________ ERROR collecting  __________________________________________________\r\n../../.virtualenvs/workproject/lib/python3.6/site-packages/_pytest/runner.py:201: in __init__\r\n    self.result = func()\r\n../../.virtualenvs/workproject/lib/python3.6/site-packages/_pytest/runner.py:261: in <lambda>\r\n    call = CallInfo(lambda: list(collector.collect()), \"collect\")\r\n../../.virtualenvs/workproject/lib/python3.6/site-packages/_pytest/main.py:475: in collect\r\n    for x in self._collect(arg):\r\n../../.virtualenvs/workproject/lib/python3.6/site-packages/_pytest/main.py:505: in _collect\r\n    col = root._collectfile(pkginit)\r\nE   AttributeError: 'FlakesItem' object has no attribute '_collectfile'\r\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Interrupted: 1 errors during collection !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n============================================== 1 error in 0.72 seconds ===============================================\r\n```\r\n\r\nThis works fine with pytest 3.6.3", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/18", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/18/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/18/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/18/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/18", "id": 304865881, "node_id": "MDU6SXNzdWUzMDQ4NjU4ODE=", "number": 18, "title": "README setup.cfg typo ", "user": {"login": "glenwinters", "id": 435066, "node_id": "MDQ6VXNlcjQzNTA2Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/435066?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glenwinters", "html_url": "https://github.com/glenwinters", "followers_url": "https://api.github.com/users/glenwinters/followers", "following_url": "https://api.github.com/users/glenwinters/following{/other_user}", "gists_url": "https://api.github.com/users/glenwinters/gists{/gist_id}", "starred_url": "https://api.github.com/users/glenwinters/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glenwinters/subscriptions", "organizations_url": "https://api.github.com/users/glenwinters/orgs", "repos_url": "https://api.github.com/users/glenwinters/repos", "events_url": "https://api.github.com/users/glenwinters/events{/privacy}", "received_events_url": "https://api.github.com/users/glenwinters/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-13T17:37:12Z", "updated_at": "2020-08-10T18:28:10Z", "closed_at": "2020-08-10T18:28:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "Under the [Configuring pyflakes options per project and file](https://github.com/fschulze/pytest-flakes#configuring-pyflakes-options-per-project-and-file) section, it mentions \"setup.cfg\" twice:\r\n\r\n\"You may configure pyflakes-checking options for your project by adding an flakes-ignore entry to your setup.cfg or setup.cfg file like this:\" [Reference](https://github.com/fschulze/pytest-flakes/blame/master/README.rst#L52)\r\n\r\nIs it supposed to say \"pytest.ini\" instead?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/16", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/16/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/16/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/16", "id": 251160796, "node_id": "MDU6SXNzdWUyNTExNjA3OTY=", "number": 16, "title": "Use pyflakes' isPythonFile instead of checking for .py", "user": {"login": "asmeurer", "id": 71486, "node_id": "MDQ6VXNlcjcxNDg2", "avatar_url": "https://avatars3.githubusercontent.com/u/71486?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asmeurer", "html_url": "https://github.com/asmeurer", "followers_url": "https://api.github.com/users/asmeurer/followers", "following_url": "https://api.github.com/users/asmeurer/following{/other_user}", "gists_url": "https://api.github.com/users/asmeurer/gists{/gist_id}", "starred_url": "https://api.github.com/users/asmeurer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asmeurer/subscriptions", "organizations_url": "https://api.github.com/users/asmeurer/orgs", "repos_url": "https://api.github.com/users/asmeurer/repos", "events_url": "https://api.github.com/users/asmeurer/events{/privacy}", "received_events_url": "https://api.github.com/users/asmeurer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-08-18T07:21:07Z", "updated_at": "2017-08-22T08:09:43Z", "closed_at": "2017-08-22T08:09:43Z", "author_association": "OWNER", "active_lock_reason": null, "body": "pyflakes itself has support for files that don't end in .py but have a Python shebang line. The function it uses is part of the api ([`isPythonFile`](https://github.com/PyCQA/pyflakes/blob/d2af071c84344de2aa633c1f314ef6cfe6c9515f/pyflakes/api.py#L115)). This should use that. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/15", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/15/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/15/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/15/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/15", "id": 245420145, "node_id": "MDU6SXNzdWUyNDU0MjAxNDU=", "number": 15, "title": "AttributeError: 'flakes' not a registered marker \u2192 breaks py.test --strict", "user": {"login": "dAnjou", "id": 117147, "node_id": "MDQ6VXNlcjExNzE0Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/117147?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dAnjou", "html_url": "https://github.com/dAnjou", "followers_url": "https://api.github.com/users/dAnjou/followers", "following_url": "https://api.github.com/users/dAnjou/following{/other_user}", "gists_url": "https://api.github.com/users/dAnjou/gists{/gist_id}", "starred_url": "https://api.github.com/users/dAnjou/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dAnjou/subscriptions", "organizations_url": "https://api.github.com/users/dAnjou/orgs", "repos_url": "https://api.github.com/users/dAnjou/repos", "events_url": "https://api.github.com/users/dAnjou/events{/privacy}", "received_events_url": "https://api.github.com/users/dAnjou/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-07-25T14:27:20Z", "updated_at": "2018-05-16T09:06:19Z", "closed_at": "2018-05-16T09:06:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "Copied from tholo/pytest-flake8#23\r\n\r\n> as reported in pytest-dev/pytest#2455 the plugin needs to register its marker to keep pytest --strict working", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/14", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/14/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/14/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/14/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/14", "id": 228224567, "node_id": "MDU6SXNzdWUyMjgyMjQ1Njc=", "number": 14, "title": "Drop Python 3.2 support for CI?", "user": {"login": "hartwork", "id": 1577132, "node_id": "MDQ6VXNlcjE1NzcxMzI=", "avatar_url": "https://avatars1.githubusercontent.com/u/1577132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hartwork", "html_url": "https://github.com/hartwork", "followers_url": "https://api.github.com/users/hartwork/followers", "following_url": "https://api.github.com/users/hartwork/following{/other_user}", "gists_url": "https://api.github.com/users/hartwork/gists{/gist_id}", "starred_url": "https://api.github.com/users/hartwork/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hartwork/subscriptions", "organizations_url": "https://api.github.com/users/hartwork/orgs", "repos_url": "https://api.github.com/users/hartwork/repos", "events_url": "https://api.github.com/users/hartwork/events{/privacy}", "received_events_url": "https://api.github.com/users/hartwork/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-05-12T08:38:53Z", "updated_at": "2017-05-12T14:27:25Z", "closed_at": "2017-05-12T12:59:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nI noticed that:\r\n* pytest [is using `u\"...\"` syntax](https://travis-ci.org/fschulze/pytest-flakes/jobs/193677012) that was dropped in Python 3.x and re-introduced with 3.3 only; that made CI fail for #12\r\n* pytest [does not officially support Python 3.2](https://pypi.python.org/pypi/pytest)\r\n* pytest-flakes uses Python 3.2 with tox: `envlist = py25,py26,py27,py32,py33,py34,py35`\r\n\r\nI think Python 3.2 support needs to be dropped?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/10", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/10/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/10/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/10", "id": 153749744, "node_id": "MDU6SXNzdWUxNTM3NDk3NDQ=", "number": 10, "title": "current pyflakes import recognizing error", "user": {"login": "mariuszthecoder", "id": 1197059, "node_id": "MDQ6VXNlcjExOTcwNTk=", "avatar_url": "https://avatars1.githubusercontent.com/u/1197059?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mariuszthecoder", "html_url": "https://github.com/mariuszthecoder", "followers_url": "https://api.github.com/users/mariuszthecoder/followers", "following_url": "https://api.github.com/users/mariuszthecoder/following{/other_user}", "gists_url": "https://api.github.com/users/mariuszthecoder/gists{/gist_id}", "starred_url": "https://api.github.com/users/mariuszthecoder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mariuszthecoder/subscriptions", "organizations_url": "https://api.github.com/users/mariuszthecoder/orgs", "repos_url": "https://api.github.com/users/mariuszthecoder/repos", "events_url": "https://api.github.com/users/mariuszthecoder/events{/privacy}", "received_events_url": "https://api.github.com/users/mariuszthecoder/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-05-09T10:46:16Z", "updated_at": "2016-05-13T19:56:57Z", "closed_at": "2016-05-13T19:56:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Due to https://bugs.launchpad.net/pyflakes/+bug/1560134 , please downgrade required version to 1.0.0 until it's resolved\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/9", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/9/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/9/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/9", "id": 124602484, "node_id": "MDU6SXNzdWUxMjQ2MDI0ODQ=", "number": 9, "title": "Python3 compatibility issue", "user": {"login": "LarsMichelsen", "id": 2719629, "node_id": "MDQ6VXNlcjI3MTk2Mjk=", "avatar_url": "https://avatars3.githubusercontent.com/u/2719629?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LarsMichelsen", "html_url": "https://github.com/LarsMichelsen", "followers_url": "https://api.github.com/users/LarsMichelsen/followers", "following_url": "https://api.github.com/users/LarsMichelsen/following{/other_user}", "gists_url": "https://api.github.com/users/LarsMichelsen/gists{/gist_id}", "starred_url": "https://api.github.com/users/LarsMichelsen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LarsMichelsen/subscriptions", "organizations_url": "https://api.github.com/users/LarsMichelsen/orgs", "repos_url": "https://api.github.com/users/LarsMichelsen/repos", "events_url": "https://api.github.com/users/LarsMichelsen/events{/privacy}", "received_events_url": "https://api.github.com/users/LarsMichelsen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-01-02T17:49:18Z", "updated_at": "2016-05-13T19:57:51Z", "closed_at": "2016-05-13T19:57:51Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am trying to make some library of mine Python2/3 compatbile. For testing I use pytest with your flakes extension. Thanks for this.\n\nWith Python 2.7 the test run fine:\n\n```\n# python2 setup.py test\nrunning pytest\nrunning egg_info\nwriting pmatic.egg-info/PKG-INFO\nwriting top-level names to pmatic.egg-info/top_level.txt\nwriting dependency_links to pmatic.egg-info/dependency_links.txt\nreading manifest file 'pmatic.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\nwriting manifest file 'pmatic.egg-info/SOURCES.txt'\nrunning build_ext\n================================================================= test session starts =================================================================\nplatform linux2 -- Python 2.7.9 -- py-1.4.25 -- pytest-2.6.3\nplugins: cache, flakes\ncollected 34 items\n\nsetup.py s\nupdate-file-headers.py s\nexamples/list_available_methods.py s\nexamples/list_rooms.py s\nexamples/list_shutter_contact_states.py s\nexamples/switch_off_all_lamps.py s\nexamples/switch_on_single_power_switch.py s\nexamples/lowlevel_api/list_shutter_contact_states.py s\npmatic/__init__.py s\npmatic/entities.py s\npmatic/utils.py s\npmatic/api/__init__.py s\npmatic/api/abstract.py s\npmatic/api/local.py s\npmatic/api/remote.py s\ntests/TestAPI.py s\ntests/test_api.py s......\ntests/test_entities.py s.....\ntests/test_utils.py s....\n\n================================================== 15 passed, 19 skipped, 1 warnings in 0.11 seconds =================================================\n```\n\nBut with python3 there is an exception within pytest_flakes.py:\n\n```\n# python3 setup.py test\nrunning pytest\nrunning egg_info\nwriting pmatic.egg-info/PKG-INFO\nwriting top-level names to pmatic.egg-info/top_level.txt\nwriting dependency_links to pmatic.egg-info/dependency_links.txt\nreading manifest file 'pmatic.egg-info/SOURCES.txt'\nreading manifest template 'MANIFEST.in'\nwriting manifest file 'pmatic.egg-info/SOURCES.txt'\nrunning build_ext\nINTERNALERROR> Traceback (most recent call last):\nINTERNALERROR>   File \"/usr/lib/python3/dist-packages/_pytest/main.py\", line 80, in wrap_session\nINTERNALERROR>     config.do_configure()\nINTERNALERROR>   File \"/usr/lib/python3/dist-packages/_pytest/config.py\", line 618, in do_configure\nINTERNALERROR>     self.hook.pytest_configure(config=self)\nINTERNALERROR>   File \"/usr/lib/python3/dist-packages/_pytest/core.py\", line 413, in __call__\nINTERNALERROR>     return self._docall(methods, kwargs)\nINTERNALERROR>   File \"/usr/lib/python3/dist-packages/_pytest/core.py\", line 424, in _docall\nINTERNALERROR>     res = mc.execute()\nINTERNALERROR>   File \"/usr/lib/python3/dist-packages/_pytest/core.py\", line 315, in execute\nINTERNALERROR>     res = method(**kwargs)\nINTERNALERROR>   File \"/root/git/pmatic/pytest_flakes-1.0.1-py3.4.egg/pytest_flakes.py\", line 36, in pytest_configure\nINTERNALERROR>     config._flakes = FlakesPlugin(config)\nINTERNALERROR>   File \"/root/git/pmatic/pytest_flakes-1.0.1-py3.4.egg/pytest_flakes.py\", line 43, in __init__\nINTERNALERROR>     self.mtimes = config.cache.get(HISTKEY, {})\nINTERNALERROR> AttributeError: 'Config' object has no attribute 'cache'\n```\n\nI added these attributes to my setup.py:\n\n```\n    setup_requires=['pytest-runner'],\n    tests_require=['pytest', 'pytest-flakes'],\n)\n```\n\nAnd this is my pytest.ini:\n\n```\n[pytest]\ntestpaths = tests\naddopts = --flakes\nflakes-ignore =\n    playground.py ALL\n```\n\nWhile collecting the information together I found a solution for the issue. When adding pytest-cache to the setup.py tests_require argument like this it works:\n\n```\n    tests_require=['pytest', 'pytest-flakes', 'pytest-cache'],\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/6", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/6/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/6/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/6", "id": 79305869, "node_id": "MDU6SXNzdWU3OTMwNTg2OQ==", "number": 6, "title": "pytest-flakes doesn't respect PEP 263 encoding markers", "user": {"login": "The-Compiler", "id": 625793, "node_id": "MDQ6VXNlcjYyNTc5Mw==", "avatar_url": "https://avatars0.githubusercontent.com/u/625793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/The-Compiler", "html_url": "https://github.com/The-Compiler", "followers_url": "https://api.github.com/users/The-Compiler/followers", "following_url": "https://api.github.com/users/The-Compiler/following{/other_user}", "gists_url": "https://api.github.com/users/The-Compiler/gists{/gist_id}", "starred_url": "https://api.github.com/users/The-Compiler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/The-Compiler/subscriptions", "organizations_url": "https://api.github.com/users/The-Compiler/orgs", "repos_url": "https://api.github.com/users/The-Compiler/repos", "events_url": "https://api.github.com/users/The-Compiler/events{/privacy}", "received_events_url": "https://api.github.com/users/The-Compiler/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-22T05:59:39Z", "updated_at": "2015-06-01T06:35:05Z", "closed_at": "2015-06-01T06:35:05Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed pytest-flakes doesn't respect [PEP 263](https://www.python.org/dev/peps/pep-0263/) encoding markers.\n\nThis means with a non-UTF8 aware locale (e.g. `LC_ALL=C`) or with an OS which doesn't use UTF-8 by default (e.g. latin1 on Windows), files containing UTF-8 won't be checkable:\n\n```\n$ LC_ALL=C ./venv/bin/py.test --flakes snowman.py -rs\n[...]\nplatform linux -- Python 3.4.3 -- py-1.4.27 -- pytest-2.7.1\n[...]\nvenv/lib/python3.4/site-packages/pytest_flakes.py:75: in runtest\n    found_errors, out = check_file(self.fspath, self.flakesignore)\nvenv/lib/python3.4/site-packages/pytest_flakes.py:124: in check_file\n    codeString = path.read()\nvenv/lib/python3.4/site-packages/py/_path/common.py:133: in read\n    return f.read()\nvenv/lib/python3.4/encodings/ascii.py:26: in decode\n    return codecs.ascii_decode(input, self.errors)[0]\nE   UnicodeDecodeError: 'ascii' codec can't decode byte 0xe2 in position 29: ordinal not in range(128)\n```\n\nsnowman.py:\n\n``` python\n# encoding=utf-8\n\nsnowman = \"\u2603\"\n```\n\nA normal `flake8 snowman.py` works fine.\n\nThis [breaks pytest's tests](https://bitbucket.org/pytest-dev/pytest/issue/747/flakes-test-fail) with tox >= 2.0.0 as it [isolates environment variables by default](http://tox.readthedocs.org/en/latest/changelog.html#id2).\n\nA possible fix would be to use [tokenize.open](https://docs.python.org/3.4/library/tokenize.html#tokenize.open):\n\n``` diff\n--- pytest_flakes.py.ori    2015-05-22 07:46:50.005433885 +0200\n+++ pytest_flakes.py    2015-05-22 07:47:35.018767377 +0200\n@@ -4,6 +4,7 @@\n import py\n import pytest\n import sys\n+import tokenize\n\n\n def assignment_monkeypatched_init(self, name, source):\n@@ -121,7 +122,8 @@\n\n\n def check_file(path, flakesignore):\n-    codeString = path.read()\n+    with tokenize.open(str(path)) as f:\n+        codeString = f.read()\n     filename = py.builtin._totext(path)\n     errors = []\n     try:\n```\n\nThat seems to fix it for Python 3 - but I haven't tested Python 2 yet. Maybe it's enough to just use normal reading there, or maybe tokenize.open has to be backported, like [coverage.py did](https://bitbucket.org/ned/coveragepy/src/bd120f2a1d9852f3d68ea258fc6c8d07fe3f49cb/coverage/phystokens.py?at=default#cl-155).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/5", "repository_url": "https://api.github.com/repos/asmeurer/pytest-flakes", "labels_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/5/comments", "events_url": "https://api.github.com/repos/asmeurer/pytest-flakes/issues/5/events", "html_url": "https://github.com/asmeurer/pytest-flakes/issues/5", "id": 27028864, "node_id": "MDU6SXNzdWUyNzAyODg2NA==", "number": 5, "title": "license?", "user": {"login": "sanga", "id": 2088, "node_id": "MDQ6VXNlcjIwODg=", "avatar_url": "https://avatars0.githubusercontent.com/u/2088?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanga", "html_url": "https://github.com/sanga", "followers_url": "https://api.github.com/users/sanga/followers", "following_url": "https://api.github.com/users/sanga/following{/other_user}", "gists_url": "https://api.github.com/users/sanga/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanga/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanga/subscriptions", "organizations_url": "https://api.github.com/users/sanga/orgs", "repos_url": "https://api.github.com/users/sanga/repos", "events_url": "https://api.github.com/users/sanga/events{/privacy}", "received_events_url": "https://api.github.com/users/sanga/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-02-06T06:09:57Z", "updated_at": "2014-02-06T10:57:56Z", "closed_at": "2014-02-06T10:48:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, I wouldn't mind using your project but unfortunately for me to do so, I'd need to know under which license it's licensed. Any chance to add a license doc to the sources?\n", "performed_via_github_app": null, "score": 1.0}]}