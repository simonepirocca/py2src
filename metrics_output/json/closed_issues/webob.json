{"total_count": 171, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/Pylons/webob/issues/413", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/413/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/413/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/413/events", "html_url": "https://github.com/Pylons/webob/issues/413", "id": 646417709, "node_id": "MDU6SXNzdWU2NDY0MTc3MDk=", "number": 413, "title": "redirection and relative URLs", "user": {"login": "ivmfnal", "id": 22399298, "node_id": "MDQ6VXNlcjIyMzk5Mjk4", "avatar_url": "https://avatars1.githubusercontent.com/u/22399298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ivmfnal", "html_url": "https://github.com/ivmfnal", "followers_url": "https://api.github.com/users/ivmfnal/followers", "following_url": "https://api.github.com/users/ivmfnal/following{/other_user}", "gists_url": "https://api.github.com/users/ivmfnal/gists{/gist_id}", "starred_url": "https://api.github.com/users/ivmfnal/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ivmfnal/subscriptions", "organizations_url": "https://api.github.com/users/ivmfnal/orgs", "repos_url": "https://api.github.com/users/ivmfnal/repos", "events_url": "https://api.github.com/users/ivmfnal/events{/privacy}", "received_events_url": "https://api.github.com/users/ivmfnal/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-06-26T17:46:38Z", "updated_at": "2020-06-28T18:00:18Z", "closed_at": "2020-06-28T05:31:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello.\r\n\r\nI have this HTTP server sitting behind an HTTPS proxy. My uses can not access the hidden HTTP server. They are supposed to always go though HTTPS proxy.\r\n\r\nSo the user is using HTTPS URL \"https://.../app\", whereas the server sees HTTP URL \"http://.../app\".\r\n\r\nSometimes my app issues HTTP redirect using relative URL \"./new_page\", either raising HTTPFound(\"./new_page\") exception or explicitly returning Response with status=302/301 and headers {\"Location\":\"./new_page\"}.\r\nIn both cases, WebOb converts my relative URL \"./new_page\" to absolute \"http://.../new_page\" including HTTP schema. So the user is redirected to HTTP URL, which is unavailable to user.\r\n\r\nIs there a good reason why WebOb converts my relative redirection URL to absolute including schema and is there a way to stop WebOb doing that ?\r\n\r\nThanks.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/406", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/406/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/406/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/406/events", "html_url": "https://github.com/Pylons/webob/issues/406", "id": 529961201, "node_id": "MDU6SXNzdWU1Mjk5NjEyMDE=", "number": 406, "title": "Accepting \"None\" (string) value of cookie attribute SameSite.", "user": {"login": "marc1n", "id": 1001991, "node_id": "MDQ6VXNlcjEwMDE5OTE=", "avatar_url": "https://avatars2.githubusercontent.com/u/1001991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marc1n", "html_url": "https://github.com/marc1n", "followers_url": "https://api.github.com/users/marc1n/followers", "following_url": "https://api.github.com/users/marc1n/following{/other_user}", "gists_url": "https://api.github.com/users/marc1n/gists{/gist_id}", "starred_url": "https://api.github.com/users/marc1n/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marc1n/subscriptions", "organizations_url": "https://api.github.com/users/marc1n/orgs", "repos_url": "https://api.github.com/users/marc1n/repos", "events_url": "https://api.github.com/users/marc1n/events{/privacy}", "received_events_url": "https://api.github.com/users/marc1n/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-11-28T15:01:44Z", "updated_at": "2020-01-21T22:36:34Z", "closed_at": "2019-12-18T11:03:44Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "According to the new Cookie spec https://tools.ietf.org/html/draft-west-cookie-incrementalism-00\r\n all browsers should accept now \"None\" (string) value of SameSite attribute in Set-Cookie header.\r\n\r\nThis issue is a high priority because Chrome has already changed the default value of SameSite (see  https://blog.chromium.org/2019/10/developers-get-ready-for-new.html and https://www.chromium.org/updates/same-site).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/403", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/403/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/403/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/403/events", "html_url": "https://github.com/Pylons/webob/issues/403", "id": 475219797, "node_id": "MDU6SXNzdWU0NzUyMTk3OTc=", "number": 403, "title": "Semicolon followed by equals in Accept: header causes malformed request error", "user": {"login": "nate-johnston", "id": 1093340, "node_id": "MDQ6VXNlcjEwOTMzNDA=", "avatar_url": "https://avatars0.githubusercontent.com/u/1093340?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nate-johnston", "html_url": "https://github.com/nate-johnston", "followers_url": "https://api.github.com/users/nate-johnston/followers", "following_url": "https://api.github.com/users/nate-johnston/following{/other_user}", "gists_url": "https://api.github.com/users/nate-johnston/gists{/gist_id}", "starred_url": "https://api.github.com/users/nate-johnston/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nate-johnston/subscriptions", "organizations_url": "https://api.github.com/users/nate-johnston/orgs", "repos_url": "https://api.github.com/users/nate-johnston/repos", "events_url": "https://api.github.com/users/nate-johnston/events{/privacy}", "received_events_url": "https://api.github.com/users/nate-johnston/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 411967159, "node_id": "MDU6TGFiZWw0MTE5NjcxNTk=", "url": "https://api.github.com/repos/Pylons/webob/labels/needs-info", "name": "needs-info", "color": "fef2c0", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 9, "created_at": "2019-07-31T15:42:00Z", "updated_at": "2020-07-29T20:59:37Z", "closed_at": "2019-08-14T21:45:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "Starting in WebOb 1.8, we are seeing a regression in processing Accept headers that have a semicolon with an equals sign occurring later in the string.  This is coming from OpenStack Neutron, which uses WebOb to process these requests.  We have been able to pin it down to the WebOb 1.8 version; anything after that is broken, anything before that works.\r\n\r\nA typical example Accept header that would see this issue is:\r\n\r\n    Accept: application/json;charset=utf-8\r\n\r\nWhat strings are involved is not deterministic of the issue.  Here are some permutations I tried:\r\n\r\n- Accept: application/json;charset=utf-8 [406 Not Acceptable]\r\n- Accept: application/json;charset [200 OK]\r\n- Accept: application/json;hamburger [200 OK]\r\n- Accept: application/json;hamburger=food [406 Not Acceptable]\r\n- Accept: charset=UTF-8;application/json [200 OK]\r\n\r\nSee also: https://bugzilla.redhat.com/show_bug.cgi?id=1706222", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/396", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/396/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/396/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/396/events", "html_url": "https://github.com/Pylons/webob/issues/396", "id": 443520864, "node_id": "MDU6SXNzdWU0NDM1MjA4NjQ=", "number": 396, "title": "Empty request.params for POST requests from fetch or axios", "user": {"login": "invisibleroads", "id": 266668, "node_id": "MDQ6VXNlcjI2NjY2OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/266668?v=4", "gravatar_id": "", "url": "https://api.github.com/users/invisibleroads", "html_url": "https://github.com/invisibleroads", "followers_url": "https://api.github.com/users/invisibleroads/followers", "following_url": "https://api.github.com/users/invisibleroads/following{/other_user}", "gists_url": "https://api.github.com/users/invisibleroads/gists{/gist_id}", "starred_url": "https://api.github.com/users/invisibleroads/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/invisibleroads/subscriptions", "organizations_url": "https://api.github.com/users/invisibleroads/orgs", "repos_url": "https://api.github.com/users/invisibleroads/repos", "events_url": "https://api.github.com/users/invisibleroads/events{/privacy}", "received_events_url": "https://api.github.com/users/invisibleroads/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 798529173, "node_id": "MDU6TGFiZWw3OTg1MjkxNzM=", "url": "https://api.github.com/repos/Pylons/webob/labels/docs", "name": "docs", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2019-05-13T17:39:51Z", "updated_at": "2020-01-22T05:39:25Z", "closed_at": "2020-01-22T05:39:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "Newer front-end clients recommend using `fetch` or `axios` for server requests. Both of these methods send POST data in the body of the request.\r\n\r\nI spent a few hours trying to understand why POST requests sent via `fetch` or `axios` were generating empty `request.params` in [pyramid](https://github.com/Pylons/pyramid).\r\n\r\nI later found the POST data in `request.body`.\r\n\r\n```\r\nIn [1]: request.params\r\nOut[1]: NestedMultiDict([])\r\n\r\nIn [2]: request.body\r\nOut[2]: b'{\"typeId\":\"p\",\"name\":\"abc\"}'\r\n\r\nIn [3]: request.json_body\r\nOut[3]: {'typeId': 'p', 'name': 'abc'}\r\n```\r\n\r\nIn case future developers run into the same issue, the solution is to look at `request.body` or `request.json_body`.\r\n\r\n- Option 1: Update webob to populate `request.params` and `request.POST` from `request.json_body` for POST requests.\r\n- Option 2: Update pyramid documentation to advise people to use `request.json_body` instead of `request.params` if using `fetch` or `axios`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/395", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/395/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/395/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/395/events", "html_url": "https://github.com/Pylons/webob/issues/395", "id": 442833730, "node_id": "MDU6SXNzdWU0NDI4MzM3MzA=", "number": 395, "title": "webob.multidict.MultiDict.items() returns iterator instead of list", "user": {"login": "benvc", "id": 38956715, "node_id": "MDQ6VXNlcjM4OTU2NzE1", "avatar_url": "https://avatars0.githubusercontent.com/u/38956715?v=4", "gravatar_id": "", "url": "https://api.github.com/users/benvc", "html_url": "https://github.com/benvc", "followers_url": "https://api.github.com/users/benvc/followers", "following_url": "https://api.github.com/users/benvc/following{/other_user}", "gists_url": "https://api.github.com/users/benvc/gists{/gist_id}", "starred_url": "https://api.github.com/users/benvc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/benvc/subscriptions", "organizations_url": "https://api.github.com/users/benvc/orgs", "repos_url": "https://api.github.com/users/benvc/repos", "events_url": "https://api.github.com/users/benvc/events{/privacy}", "received_events_url": "https://api.github.com/users/benvc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 798529173, "node_id": "MDU6TGFiZWw3OTg1MjkxNzM=", "url": "https://api.github.com/repos/Pylons/webob/labels/docs", "name": "docs", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-05-10T18:02:27Z", "updated_at": "2019-05-18T06:26:57Z", "closed_at": "2019-05-18T06:26:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "Per the documentation for [webob.multidict.MultiDict.items()](https://docs.pylonsproject.org/projects/webob/en/stable/api/multidict.html#webob.multidict.MultiDict.items), this method should return a list. Instead it returns an iterator. Not hard to work around, but either the documentation should be updated or the method should be fixed. Simple repro:\r\n\r\n```\r\nfrom webob.multidict import MultiDict\r\n\r\nm = MultiDict()\r\nm.add('key', 'value')\r\nitems = m.items()\r\nexhausted = list(items)\r\nprint(exhausted)\r\n# [('key', 'value')]\r\nprint(list(items))\r\n# [] \r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/393", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/393/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/393/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/393/events", "html_url": "https://github.com/Pylons/webob/issues/393", "id": 395510549, "node_id": "MDU6SXNzdWUzOTU1MTA1NDk=", "number": 393, "title": "New release for Python 3.6?", "user": {"login": "fschulze", "id": 60921, "node_id": "MDQ6VXNlcjYwOTIx", "avatar_url": "https://avatars0.githubusercontent.com/u/60921?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fschulze", "html_url": "https://github.com/fschulze", "followers_url": "https://api.github.com/users/fschulze/followers", "following_url": "https://api.github.com/users/fschulze/following{/other_user}", "gists_url": "https://api.github.com/users/fschulze/gists{/gist_id}", "starred_url": "https://api.github.com/users/fschulze/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fschulze/subscriptions", "organizations_url": "https://api.github.com/users/fschulze/orgs", "repos_url": "https://api.github.com/users/fschulze/repos", "events_url": "https://api.github.com/users/fschulze/events{/privacy}", "received_events_url": "https://api.github.com/users/fschulze/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-01-03T09:48:44Z", "updated_at": "2019-01-04T13:12:07Z", "closed_at": "2019-01-03T19:41:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would you consider making a new release soon? There are several fixes on master which make WebOb work with Python 3.6 like the backslash escape cleanups.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/392", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/392/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/392/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/392/events", "html_url": "https://github.com/Pylons/webob/issues/392", "id": 384738081, "node_id": "MDU6SXNzdWUzODQ3MzgwODE=", "number": 392, "title": "Link to RFC 2616 is incorrect", "user": {"login": "stevepiercy", "id": 102112, "node_id": "MDQ6VXNlcjEwMjExMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/102112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevepiercy", "html_url": "https://github.com/stevepiercy", "followers_url": "https://api.github.com/users/stevepiercy/followers", "following_url": "https://api.github.com/users/stevepiercy/following{/other_user}", "gists_url": "https://api.github.com/users/stevepiercy/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevepiercy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevepiercy/subscriptions", "organizations_url": "https://api.github.com/users/stevepiercy/orgs", "repos_url": "https://api.github.com/users/stevepiercy/repos", "events_url": "https://api.github.com/users/stevepiercy/events{/privacy}", "received_events_url": "https://api.github.com/users/stevepiercy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-11-27T10:59:46Z", "updated_at": "2020-01-22T04:39:38Z", "closed_at": "2020-01-22T04:39:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This line https://github.com/Pylons/webob/blob/master/src/webob/request.py#L316 eventually renders as https://docs.pylonsproject.org/projects/webob/en/latest/api/request.html#webob.request.BaseRequest.remote_host, but the anchor for the link to the RFC 2616 is incorrect. I do not know the correct link.\r\n\r\nThe webob documentation does [some crazy shit by parsing that number](https://github.com/Pylons/webob/blob/master/src/webob/util.py#L39).\r\n\r\nI discovered this when running `make linkcheck` on Pyramid docs.\r\n\r\n```\r\napi/request.rst:1: [broken] http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.1.9: Anchor 'sec4.1.9' not found\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/388", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/388/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/388/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/388/events", "html_url": "https://github.com/Pylons/webob/issues/388", "id": 377193712, "node_id": "MDU6SXNzdWUzNzcxOTM3MTI=", "number": 388, "title": "Response.content_type doesn't ensure proper encoding of the header", "user": {"login": "amol-", "id": 601423, "node_id": "MDQ6VXNlcjYwMTQyMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/601423?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amol-", "html_url": "https://github.com/amol-", "followers_url": "https://api.github.com/users/amol-/followers", "following_url": "https://api.github.com/users/amol-/following{/other_user}", "gists_url": "https://api.github.com/users/amol-/gists{/gist_id}", "starred_url": "https://api.github.com/users/amol-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amol-/subscriptions", "organizations_url": "https://api.github.com/users/amol-/orgs", "repos_url": "https://api.github.com/users/amol-/repos", "events_url": "https://api.github.com/users/amol-/events{/privacy}", "received_events_url": "https://api.github.com/users/amol-/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-11-04T20:56:14Z", "updated_at": "2018-11-11T23:22:42Z", "closed_at": "2018-11-11T23:22:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Outgoing headers, on PY2, normally get properly encoded to `latin-1`\u00a0by WebOb if the original value was `unicode`.\r\n\r\n```\r\n>>> r = Response()\r\n>>> r.location = u'/UnicodeLocation'\r\n>>> r.headers['Location']\r\n'/UnicodeLocation'\r\n>>> type(r.headers['Location'])\r\n<type 'str'>\r\n```\r\n\r\nThis is properly managed by the `header_getter` descriptor: https://github.com/Pylons/webob/blob/master/src/webob/descriptors.py#L153\r\n\r\nProblem is that not all headers go through that descriptor, some headers have a custom property.\r\nFor example the `content_type` one.\r\n\r\nIt seems that in those cases the encoding doesn't happen properly, leading to some inconsistencies in behaviour.\r\n\r\n```\r\n>>> r = Response()\r\n>>> r.content_type = u'text/html'\r\n>>> r.headers['Content-Type']\r\nu'text/html; charset=UTF-8'\r\n>>> type(r.headers['Content-Type'])\r\n<type 'unicode'>\r\n```\r\n\r\nI guess an `if isinstance(content_type, text_type) and PY2:  content_type = content_type.encode('latin-1')` at https://github.com/Pylons/webob/blob/master/src/webob/response.py#L879 might be a solution, but I didn't verify all headers that have a custom setter (IE: `Cache-Control`).\r\n\r\n`Response.etag` has a good solution to this, because the custom getter/setter behave on top of `_etag_raw` which is implemented using `header_getter` descriptor and thus guarantees the encoding: https://github.com/Pylons/webob/blob/master/src/webob/response.py#L747-L750\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/385", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/385/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/385/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/385/events", "html_url": "https://github.com/Pylons/webob/issues/385", "id": 372367056, "node_id": "MDU6SXNzdWUzNzIzNjcwNTY=", "number": 385, "title": "create_accept_header and related functions don't accept current instances", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-10-21T23:10:37Z", "updated_at": "2018-10-30T17:48:31Z", "closed_at": "2018-10-30T17:48:31Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\ncreate_accept_header(create_accept_header(''))\r\n```\r\n\r\nDoes not work.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/384", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/384/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/384/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/384/events", "html_url": "https://github.com/Pylons/webob/issues/384", "id": 371669241, "node_id": "MDU6SXNzdWUzNzE2NjkyNDE=", "number": 384, "title": "DeprecationWarning when running pytest on pyramid application", "user": {"login": "josherickson", "id": 3978641, "node_id": "MDQ6VXNlcjM5Nzg2NDE=", "avatar_url": "https://avatars0.githubusercontent.com/u/3978641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/josherickson", "html_url": "https://github.com/josherickson", "followers_url": "https://api.github.com/users/josherickson/followers", "following_url": "https://api.github.com/users/josherickson/following{/other_user}", "gists_url": "https://api.github.com/users/josherickson/gists{/gist_id}", "starred_url": "https://api.github.com/users/josherickson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/josherickson/subscriptions", "organizations_url": "https://api.github.com/users/josherickson/orgs", "repos_url": "https://api.github.com/users/josherickson/repos", "events_url": "https://api.github.com/users/josherickson/events{/privacy}", "received_events_url": "https://api.github.com/users/josherickson/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2018-10-18T19:06:55Z", "updated_at": "2018-11-11T23:42:14Z", "closed_at": "2018-11-11T23:42:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\r\n\r\nThese are warnings that I'm receiving when running pytest on my pyramid application. It appears that they are coming from this package, although it's not clear to me after looking through the source code what it is that's causing the warnings.\r\n\r\nWarnings from pytest output:\r\n```\r\n=============================== warnings summary ===============================\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:373: DeprecationWarning: invalid escape sequence \\`\r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:526: DeprecationWarning: invalid escape sequence \\`\r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:577: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:1488: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:1594: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:1703: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:1855: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:2456: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:2560: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:2664: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:2833: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:3034: DeprecationWarning: invalid escape sequence \\*\r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:3469: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:3574: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:3680: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:3854: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:5035: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:5140: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/acceptparse.py:5245: DeprecationWarning: invalid escape sequence \\ \r\n\"\"\"\r\n\r\n/usr/local/lib/python3.6/site-packages/webob/byterange.py:5: DeprecationWarning: invalid escape sequence \\d\r\n_rx_range = re.compile('bytes *= *(\\d*) *- *(\\d*)', flags=re.I)\r\n\r\n/usr/local/lib/python3.6/site-packages/webtest/forms.py:408: DeprecationWarning: invalid escape sequence \\s\r\n'''<label\\s+(?:[^>]*)for=(?:\"|')([a-z0-9_\\-]+)(?:\"|')(?:[^>]*)>''',\r\n\r\n-- Docs: https://docs.pytest.org/en/latest/warnings.html\r\n=============== 1 failed, 1 passed, 21 warnings in 6.84 seconds ================\r\n```\r\n\r\npytest code:\r\n```\r\nfrom unittest import TestCase\r\n\r\nfrom pyramid.paster import get_appsettings\r\nfrom webtest import TestApp as _TestApp\r\n\r\nfrom app import main\r\n\r\n\r\nclass FunctionalTests(TestCase):\r\n    def setUp(self):\r\n        settings = get_appsettings('pytest.ini', name='main')\r\n        app_ = main({}, **settings)\r\n        self.test_app = _TestApp(app_)\r\n\r\n    def tearDown(self):\r\n        self.base_tear_down()\r\n\r\n    def test_success(self):\r\n        self.assertTrue(True)\r\n\r\n    def test_failure(self):\r\n        self.assertTrue(False)\r\n```\r\n\r\nIs this something that I can fix, or is this an issue with the library?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/382", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/382/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/382/events", "html_url": "https://github.com/Pylons/webob/issues/382", "id": 370433290, "node_id": "MDU6SXNzdWUzNzA0MzMyOTA=", "number": 382, "title": "AcceptLanguageValidHeader.lookup has unused local variable", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-10-16T04:17:45Z", "updated_at": "2018-10-17T19:39:14Z", "closed_at": "2018-10-17T19:39:14Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\nsrc/webob/acceptparse.py:4611:17: F841 local variable 'asterisk_non0_found' is assigned to but never used\r\n```\r\n\r\n@whiteroses, could you take a look at this? It looks like you are assigning to but never using `asterisk_non0_found` in the code.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/369", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/369/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/369/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/369/events", "html_url": "https://github.com/Pylons/webob/issues/369", "id": 354950287, "node_id": "MDU6SXNzdWUzNTQ5NTAyODc=", "number": 369, "title": "create_accept_header does not handle media range overrides properly", "user": {"login": "mmerickel", "id": 487237, "node_id": "MDQ6VXNlcjQ4NzIzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/487237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmerickel", "html_url": "https://github.com/mmerickel", "followers_url": "https://api.github.com/users/mmerickel/followers", "following_url": "https://api.github.com/users/mmerickel/following{/other_user}", "gists_url": "https://api.github.com/users/mmerickel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmerickel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmerickel/subscriptions", "organizations_url": "https://api.github.com/users/mmerickel/orgs", "repos_url": "https://api.github.com/users/mmerickel/repos", "events_url": "https://api.github.com/users/mmerickel/events{/privacy}", "received_events_url": "https://api.github.com/users/mmerickel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-08-29T00:23:10Z", "updated_at": "2018-08-29T04:43:33Z", "closed_at": "2018-08-29T04:37:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\n>>> create_accept_header('text/html;q=0.2, text/*;q=1.0').acceptable_offers(['text/html'])\r\n[('text/html', 0.2)]\r\n```\r\n\r\nShouldn't the algorithm match text/html at q=1? The RFC seems a little bit ambiguous here, and the way I read it the quote below only should apply if the quality is equivalent. I would expect `text/*;q=1.0` to trump lower quality but more-specific media types. Is my assumption right or wrong?\r\n\r\n> Media ranges can be overridden by more specific media ranges or\r\n   specific media types.  If more than one media range applies to a\r\n   given type, the most specific reference has precedence.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/368", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/368/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/368/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/368/events", "html_url": "https://github.com/Pylons/webob/issues/368", "id": 354944774, "node_id": "MDU6SXNzdWUzNTQ5NDQ3NzQ=", "number": 368, "title": "AcceptInvalidHeader should not accept anything", "user": {"login": "mmerickel", "id": 487237, "node_id": "MDQ6VXNlcjQ4NzIzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/487237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmerickel", "html_url": "https://github.com/mmerickel", "followers_url": "https://api.github.com/users/mmerickel/followers", "following_url": "https://api.github.com/users/mmerickel/following{/other_user}", "gists_url": "https://api.github.com/users/mmerickel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmerickel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmerickel/subscriptions", "organizations_url": "https://api.github.com/users/mmerickel/orgs", "repos_url": "https://api.github.com/users/mmerickel/repos", "events_url": "https://api.github.com/users/mmerickel/events{/privacy}", "received_events_url": "https://api.github.com/users/mmerickel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-08-28T23:51:24Z", "updated_at": "2018-08-29T06:13:27Z", "closed_at": "2018-08-29T06:13:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "webob 1.8.2:\r\n\r\n```\r\n>>> create_accept_header('foo').acceptable_offers(['text/html'])\r\n[('text/html', 1.0)]\r\n```\r\n\r\nversus webob 1.7.4:\r\n\r\n```\r\n>>> MIMEAccept('foo').best_match(['text/html'])\r\n>>>\r\n```\r\n\r\nThe correct behavior, and what I expect for a correct implementation of accept handling in pyramid is the version in 1.7.4 where an invalid header does not match anything, allowing the user to define a default view.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/367", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/367/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/367/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/367/events", "html_url": "https://github.com/Pylons/webob/issues/367", "id": 354566158, "node_id": "MDU6SXNzdWUzNTQ1NjYxNTg=", "number": 367, "title": "raise if a media range is passed to best_match", "user": {"login": "mmerickel", "id": 487237, "node_id": "MDQ6VXNlcjQ4NzIzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/487237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmerickel", "html_url": "https://github.com/mmerickel", "followers_url": "https://api.github.com/users/mmerickel/followers", "following_url": "https://api.github.com/users/mmerickel/following{/other_user}", "gists_url": "https://api.github.com/users/mmerickel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmerickel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmerickel/subscriptions", "organizations_url": "https://api.github.com/users/mmerickel/orgs", "repos_url": "https://api.github.com/users/mmerickel/repos", "events_url": "https://api.github.com/users/mmerickel/events{/privacy}", "received_events_url": "https://api.github.com/users/mmerickel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2018-08-28T04:23:54Z", "updated_at": "2018-09-06T01:49:16Z", "closed_at": "2018-09-06T01:49:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Versions of webob prior to 1.6 would always raise, but in 1.6, and 1.7 they are treated as ranges and in 1.8 they are treated as media types.\r\n\r\nVersion 1.5.1:\r\n\r\n```\r\n>>> MIMEAccept('text/html').best_match(['text/*'])\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/michael/work/oss/pyramid/env27/lib/python2.7/site-packages/webob/acceptparse.py\", line 176, in best_match\r\n    if self._match(mask, offer):\r\n  File \"/Users/michael/work/oss/pyramid/env27/lib/python2.7/site-packages/webob/acceptparse.py\", line 303, in _match\r\n    _check_offer(offer)\r\n  File \"/Users/michael/work/oss/pyramid/env27/lib/python2.7/site-packages/webob/acceptparse.py\", line 320, in _check_offer\r\n    raise ValueError(\"The application should offer specific types, got %r\" % offer)\r\nValueError: The application should offer specific types, got 'text/*'\r\n>>> MIMENilAccept().best_match(['text/*'])\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/michael/work/oss/pyramid/env27/lib/python2.7/site-packages/webob/acceptparse.py\", line 230, in best_match\r\n    _check_offer(offer)\r\n  File \"/Users/michael/work/oss/pyramid/env27/lib/python2.7/site-packages/webob/acceptparse.py\", line 320, in _check_offer\r\n    raise ValueError(\"The application should offer specific types, got %r\" % offer)\r\nValueError: The application should offer specific types, got 'text/*'\r\n```\r\n\r\nVersion 1.7.4:\r\n\r\n```\r\n>>> MIMEAccept('text/html').best_match(['text/*'])\r\n'text/*'\r\n>>> MIMENilAccept().best_match(['text/*'])\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/michael/work/oss/pyramid/env27/lib/python2.7/site-packages/webob/acceptparse.py\", line 209, in best_match\r\n    _check_offer(offer)\r\n  File \"/Users/michael/work/oss/pyramid/env27/lib/python2.7/site-packages/webob/acceptparse.py\", line 340, in _check_offer\r\n    raise ValueError(\"The application should offer specific types, got %r\" % offer)\r\nValueError: The application should offer specific types, got 'text/*'\r\n```\r\n\r\nVersion 1.8.2:\r\n\r\n```\r\n>>> create_accept_header('text/html').best_match(['text/*'])\r\n'text/*'\r\n>>> create_accept_header(None).best_match(['text/*'])\r\n'text/*'\r\n>>> create_accept_header('invalid/x/y').best_match(['text/*'])\r\n'text/*'\r\n```\r\n\r\nI think the old behavior should be restored and invalid offers should raise.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/366", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/366/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/366/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/366/events", "html_url": "https://github.com/Pylons/webob/issues/366", "id": 354555648, "node_id": "MDU6SXNzdWUzNTQ1NTU2NDg=", "number": 366, "title": "create_accept_header should treat an empty string header as missing", "user": {"login": "mmerickel", "id": 487237, "node_id": "MDQ6VXNlcjQ4NzIzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/487237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmerickel", "html_url": "https://github.com/mmerickel", "followers_url": "https://api.github.com/users/mmerickel/followers", "following_url": "https://api.github.com/users/mmerickel/following{/other_user}", "gists_url": "https://api.github.com/users/mmerickel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmerickel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmerickel/subscriptions", "organizations_url": "https://api.github.com/users/mmerickel/orgs", "repos_url": "https://api.github.com/users/mmerickel/repos", "events_url": "https://api.github.com/users/mmerickel/events{/privacy}", "received_events_url": "https://api.github.com/users/mmerickel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-08-28T03:20:36Z", "updated_at": "2018-09-04T02:09:23Z", "closed_at": "2018-09-04T02:07:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```python\r\n>>> create_accept_header(None).acceptable_offers(['foo/bar'])\r\n[('foo/bar', 1.0)]\r\n>>> create_accept_header('invalid/x/y/z').acceptable_offers(['foo/bar'])\r\n[('foo/bar', 1.0)]\r\n>>> create_accept_header('').acceptable_offers(['foo/bar'])\r\n[]\r\n```\r\n\r\nversus webob 1.7.4:\r\n\r\n```\r\n>>> MIMEAccept('invalid/x/y/z').best_match(['foo/bar'])\r\n>>> MIMENilAccept().best_match(['foo/bar'])\r\n'foo/bar'\r\n```\r\n\r\nThe test in https://github.com/Pylons/webob/blob/1.7-branch/webob/acceptparse.py#L349-L353 is counting it as missing if \"falsey\" and I think that is what should be done in 1.8+.\r\n\r\nNote also that an invalid header is a pass-through in the webob 1.8 and accepts nothing in the 1.7.4.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/365", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/365/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/365/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/365/events", "html_url": "https://github.com/Pylons/webob/issues/365", "id": 354555166, "node_id": "MDU6SXNzdWUzNTQ1NTUxNjY=", "number": 365, "title": "validate media types consistently in acceptable_offers", "user": {"login": "mmerickel", "id": 487237, "node_id": "MDQ6VXNlcjQ4NzIzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/487237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmerickel", "html_url": "https://github.com/mmerickel", "followers_url": "https://api.github.com/users/mmerickel/followers", "following_url": "https://api.github.com/users/mmerickel/following{/other_user}", "gists_url": "https://api.github.com/users/mmerickel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmerickel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmerickel/subscriptions", "organizations_url": "https://api.github.com/users/mmerickel/orgs", "repos_url": "https://api.github.com/users/mmerickel/repos", "events_url": "https://api.github.com/users/mmerickel/events{/privacy}", "received_events_url": "https://api.github.com/users/mmerickel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2018-08-28T03:17:43Z", "updated_at": "2018-09-06T02:00:58Z", "closed_at": "2018-09-06T02:00:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```python\r\n>>> create_accept_header('').acceptable_offers(['foo'])\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/michael/work/oss/pyramid/env/lib/python3.6/site-packages/webob/acceptparse.py\", line 804, in acceptable_offers\r\n    raise ValueError(repr(offer) + ' is not a media type.')\r\nValueError: 'foo' is not a media type.\r\n>>> create_accept_header('*/*').acceptable_offers(['foo'])\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/michael/work/oss/pyramid/env/lib/python3.6/site-packages/webob/acceptparse.py\", line 804, in acceptable_offers\r\n    raise ValueError(repr(offer) + ' is not a media type.')\r\nValueError: 'foo' is not a media type.\r\n>>> create_accept_header('invalid/x/y').acceptable_offers(['foo'])\r\n[('foo', 1.0)]\r\n>>> create_accept_header(None).acceptable_offers(['foo'])\r\n[('foo', 1.0)]\r\n```\r\n\r\nIt's not ok to raise here in some scenarios and not in others. The offer is server-side and webob should handle it consistently by validating those parameters the same always.\r\n\r\nI went backward and found out that webob < 1.5 actually did this consistently but after that it stopped calling `_check_offer` in `MIMEAccept` but kept calling it in `MIMENilAccept`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/361", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/361/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/361/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/361/events", "html_url": "https://github.com/Pylons/webob/issues/361", "id": 326389601, "node_id": "MDU6SXNzdWUzMjYzODk2MDE=", "number": 361, "title": "samesite argument in `Response.set_cookie` and `cookies.make_cookie` should accept native strings", "user": {"login": "mmerickel", "id": 487237, "node_id": "MDQ6VXNlcjQ4NzIzNw==", "avatar_url": "https://avatars3.githubusercontent.com/u/487237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mmerickel", "html_url": "https://github.com/mmerickel", "followers_url": "https://api.github.com/users/mmerickel/followers", "following_url": "https://api.github.com/users/mmerickel/following{/other_user}", "gists_url": "https://api.github.com/users/mmerickel/gists{/gist_id}", "starred_url": "https://api.github.com/users/mmerickel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mmerickel/subscriptions", "organizations_url": "https://api.github.com/users/mmerickel/orgs", "repos_url": "https://api.github.com/users/mmerickel/repos", "events_url": "https://api.github.com/users/mmerickel/events{/privacy}", "received_events_url": "https://api.github.com/users/mmerickel/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-25T05:49:04Z", "updated_at": "2018-06-06T00:00:52Z", "closed_at": "2018-06-06T00:00:52Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently it's the only text-based argument that requires bytes, the others are coerced. This argument should also accept native strings which are coerced to bytes under the hood.\r\n\r\nRelated: https://github.com/Pylons/pyramid/pull/3298", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/360", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/360/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/360/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/360/events", "html_url": "https://github.com/Pylons/webob/issues/360", "id": 324315268, "node_id": "MDU6SXNzdWUzMjQzMTUyNjg=", "number": 360, "title": "Feature suggestion: body encoding by chunk.", "user": {"login": "Xeite", "id": 8245547, "node_id": "MDQ6VXNlcjgyNDU1NDc=", "avatar_url": "https://avatars2.githubusercontent.com/u/8245547?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xeite", "html_url": "https://github.com/Xeite", "followers_url": "https://api.github.com/users/Xeite/followers", "following_url": "https://api.github.com/users/Xeite/following{/other_user}", "gists_url": "https://api.github.com/users/Xeite/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xeite/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xeite/subscriptions", "organizations_url": "https://api.github.com/users/Xeite/orgs", "repos_url": "https://api.github.com/users/Xeite/repos", "events_url": "https://api.github.com/users/Xeite/events{/privacy}", "received_events_url": "https://api.github.com/users/Xeite/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-18T08:23:25Z", "updated_at": "2019-12-18T11:05:50Z", "closed_at": "2019-12-18T11:05:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi.\r\n\r\nWhen I was using OpenStack glance API, there was abnormally high memory usage, and I tried to dig the why.\r\n\r\nI found glance api uses webob response for image download, and by further investigation large image file was loaded in memory at once in here (https://github.com/Pylons/webob/blob/master/src/webob/response.py#L534)\r\n\r\nimho, if there were API which could specify the unit of payload, it works well for large file transfer without memory consumption.\r\n\r\nThanks!\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/357", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/357/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/357/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/357/events", "html_url": "https://github.com/Pylons/webob/issues/357", "id": 313336461, "node_id": "MDU6SXNzdWUzMTMzMzY0NjE=", "number": 357, "title": "No changelog/history entry for 1.8.1 release", "user": {"login": "reedstrm", "id": 253212, "node_id": "MDQ6VXNlcjI1MzIxMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/253212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reedstrm", "html_url": "https://github.com/reedstrm", "followers_url": "https://api.github.com/users/reedstrm/followers", "following_url": "https://api.github.com/users/reedstrm/following{/other_user}", "gists_url": "https://api.github.com/users/reedstrm/gists{/gist_id}", "starred_url": "https://api.github.com/users/reedstrm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reedstrm/subscriptions", "organizations_url": "https://api.github.com/users/reedstrm/orgs", "repos_url": "https://api.github.com/users/reedstrm/repos", "events_url": "https://api.github.com/users/reedstrm/events{/privacy}", "received_events_url": "https://api.github.com/users/reedstrm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-04-11T13:58:06Z", "updated_at": "2018-04-11T17:30:27Z", "closed_at": "2018-04-11T17:30:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "Looks like y'all have changed your policy on changelogs, moving them to HISTORY.txt, but keeping current unreleased changes in CHANGES.txt That's fine except the release process missed the memo: you just release 1.8.1 without moving the entry (apparently a regression fix ) from CHANGES to HISTORY, so wehen  pyup-bot sent me a nice PR for updating, it couldn't tell me about the changes. Hmm, on digging further, I see a docs/changes.txt that includes both of those files. And I see the website docs updated https://docs.pylonsproject.org/projects/webob/en/stable/changes.html - is that a dynamically generated page now? Is there no hope for pyup to find the current release text? Help me, WebOb devs, you're our only hope! \r\n\r\nI've cross-filed an issue over at changelogs, i case there needs to be some new code for parsing this. Unless it was just an oversight during release. https://github.com/pyupio/changelogs/issues/110", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/355", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/355/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/355/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/355/events", "html_url": "https://github.com/Pylons/webob/issues/355", "id": 312590246, "node_id": "MDU6SXNzdWUzMTI1OTAyNDY=", "number": 355, "title": "Regression in Accept header best_match if media type is provided", "user": {"login": "jd", "id": 2644, "node_id": "MDQ6VXNlcjI2NDQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/2644?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jd", "html_url": "https://github.com/jd", "followers_url": "https://api.github.com/users/jd/followers", "following_url": "https://api.github.com/users/jd/following{/other_user}", "gists_url": "https://api.github.com/users/jd/gists{/gist_id}", "starred_url": "https://api.github.com/users/jd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jd/subscriptions", "organizations_url": "https://api.github.com/users/jd/orgs", "repos_url": "https://api.github.com/users/jd/repos", "events_url": "https://api.github.com/users/jd/events{/privacy}", "received_events_url": "https://api.github.com/users/jd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-04-09T16:01:48Z", "updated_at": "2018-04-11T07:43:56Z", "closed_at": "2018-04-10T22:12:22Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following test fails in webob 1.8.0:\r\n\r\n```diff\r\ndiff --git a/tests/test_acceptparse.py b/tests/test_acceptparse.py\r\nindex 01eb4d0..dc74532 100644\r\n--- a/tests/test_acceptparse.py\r\n+++ b/tests/test_acceptparse.py\r\n@@ -1069,6 +1069,10 @@ class TestAcceptValidHeader(object):\r\n         )\r\n         assert accept.best_match(['text/html', 'baz/gort']) == 'baz/gort'\r\n\r\n+    def test_best_match_json_details(self):\r\n+        accept = AcceptValidHeader('application/json; details=true')\r\n+        assert accept.best_match(['application/json']) == 'application/json'\r\n+\r\n     def test_best_match_json(self):\r\n         accept = AcceptValidHeader('text/html, */*; q=0.2')\r\n         assert accept.best_match(['application/json']) == 'application/json'\r\n```\r\n\r\nThis affects Pecan and therefore https://github.com/gnocchixyz/gnocchi/issues/852", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/351", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/351/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/351/events", "html_url": "https://github.com/Pylons/webob/issues/351", "id": 302849106, "node_id": "MDU6SXNzdWUzMDI4NDkxMDY=", "number": 351, "title": "DELETE-request with 'application/x-www-form-urlencoded' content type.", "user": {"login": "Cykooz", "id": 163725, "node_id": "MDQ6VXNlcjE2MzcyNQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/163725?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Cykooz", "html_url": "https://github.com/Cykooz", "followers_url": "https://api.github.com/users/Cykooz/followers", "following_url": "https://api.github.com/users/Cykooz/following{/other_user}", "gists_url": "https://api.github.com/users/Cykooz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Cykooz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Cykooz/subscriptions", "organizations_url": "https://api.github.com/users/Cykooz/orgs", "repos_url": "https://api.github.com/users/Cykooz/repos", "events_url": "https://api.github.com/users/Cykooz/events{/privacy}", "received_events_url": "https://api.github.com/users/Cykooz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-03-06T20:14:20Z", "updated_at": "2018-04-05T01:49:19Z", "closed_at": "2018-04-05T01:49:19Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Property POST of DELETE-request returns `NoVars` despite the fact that Content-Type is 'application/x-www-form-urlencoded'.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/346", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/346/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/346/events", "html_url": "https://github.com/Pylons/webob/issues/346", "id": 292631906, "node_id": "MDU6SXNzdWUyOTI2MzE5MDY=", "number": 346, "title": "acceptparse.MIMEAccept needs longer than usual deprecation period", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 798529173, "node_id": "MDU6TGFiZWw3OTg1MjkxNzM=", "url": "https://api.github.com/repos/Pylons/webob/labels/docs", "name": "docs", "color": "bfd4f2", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2018-01-30T02:29:16Z", "updated_at": "2018-04-10T23:30:45Z", "closed_at": "2018-04-10T23:30:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Due to the use of `acceptparse.MIMEAccept` in various projects, it may require a longer than the usual 2 releases deprecation period to give people time to move to the new API's.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/345", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/345/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/345/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/345/events", "html_url": "https://github.com/Pylons/webob/issues/345", "id": 292300671, "node_id": "MDU6SXNzdWUyOTIzMDA2NzE=", "number": 345, "title": "KeyError on Content_Type when raising HTTPUnsupportedMediaType", "user": {"login": "lucas03", "id": 2773622, "node_id": "MDQ6VXNlcjI3NzM2MjI=", "avatar_url": "https://avatars0.githubusercontent.com/u/2773622?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lucas03", "html_url": "https://github.com/lucas03", "followers_url": "https://api.github.com/users/lucas03/followers", "following_url": "https://api.github.com/users/lucas03/following{/other_user}", "gists_url": "https://api.github.com/users/lucas03/gists{/gist_id}", "starred_url": "https://api.github.com/users/lucas03/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lucas03/subscriptions", "organizations_url": "https://api.github.com/users/lucas03/orgs", "repos_url": "https://api.github.com/users/lucas03/repos", "events_url": "https://api.github.com/users/lucas03/events{/privacy}", "received_events_url": "https://api.github.com/users/lucas03/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-29T06:49:33Z", "updated_at": "2018-04-05T02:05:27Z", "closed_at": "2018-04-05T02:05:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "hi,\r\nI am checking content type in middleware, and if it is not `application/json`, I raise `HTTPUnsupportedMediaType` exception.  \r\n\r\nBody template for `HTTPUnsupportedMediaType`:  \r\n```\r\nbody_template_obj = Template('''\\\r\nThe request media type ${CONTENT_TYPE} is not supported by this server.\r\n<br /><br />\r\n${detail}''')\r\n```\r\nTraceback:  \r\n```\r\nTraceback (most recent call last):\r\n  File \"/project/common/middleware/common.py\", line 91, in handle_errors\r\n    return req.get_response(app)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/request.py\", line 1327, in send\r\n    application, catch_exc_info=False)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/request.py\", line 1291, in call_application\r\n    app_iter = application(self.environ, start_response)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/dec.py\", line 145, in __call__\r\n    return resp(environ, start_response)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/dec.py\", line 131, in __call__\r\n    resp = self.call_func(req, *args, **self.kwargs)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/dec.py\", line 196, in call_func\r\n    return self.func(req, *args, **kwargs)\r\n  File \"/project/common/middleware/common.py\", line 123, in sqlalchemy_sessions\r\n    res = req.get_response(app)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/request.py\", line 1327, in send\r\n    application, catch_exc_info=False)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/request.py\", line 1291, in call_application\r\n    app_iter = application(self.environ, start_response)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/dec.py\", line 145, in __call__\r\n    return resp(environ, start_response)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/dec.py\", line 145, in __call__\r\n    return resp(environ, start_response)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/dec.py\", line 145, in __call__\r\n    return resp(environ, start_response)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/dec.py\", line 145, in __call__\r\n    return resp(environ, start_response)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/exc.py\", line 359, in __call__\r\n    app_iter = self.generate_response(environ, start_response)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/exc.py\", line 339, in generate_response\r\n    body = self.html_body(environ)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/exc.py\", line 314, in html_body\r\n    body = self._make_body(environ, html_escape)\r\n  File \"/project/venv/lib/python2.7/site-packages/webob/exc.py\", line 304, in _make_body\r\n    return t_obj.substitute(args)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/string.py\", line 176, in substitute\r\n    return self.pattern.sub(convert, self.template)\r\n  File \"/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/string.py\", line 166, in convert\r\n    val = mapping[named]\r\nKeyError: 'CONTENT_TYPE'\r\n```\r\nIs that expected and I should not raise that Exception if content type is not set?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/342", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/342/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/342/events", "html_url": "https://github.com/Pylons/webob/issues/342", "id": 289176346, "node_id": "MDU6SXNzdWUyODkxNzYzNDY=", "number": 342, "title": "Warnings have whitespace errors", "user": {"login": "hynek", "id": 41240, "node_id": "MDQ6VXNlcjQxMjQw", "avatar_url": "https://avatars3.githubusercontent.com/u/41240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hynek", "html_url": "https://github.com/hynek", "followers_url": "https://api.github.com/users/hynek/followers", "following_url": "https://api.github.com/users/hynek/following{/other_user}", "gists_url": "https://api.github.com/users/hynek/gists{/gist_id}", "starred_url": "https://api.github.com/users/hynek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hynek/subscriptions", "organizations_url": "https://api.github.com/users/hynek/orgs", "repos_url": "https://api.github.com/users/hynek/repos", "events_url": "https://api.github.com/users/hynek/events{/privacy}", "received_events_url": "https://api.github.com/users/hynek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-01-17T08:13:55Z", "updated_at": "2018-04-05T02:03:46Z", "closed_at": "2018-04-05T02:03:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just got upgraded to WebOb 1.8.0rc1 and I got a bunch of warnings that have whitespace errors (`bywebob.acceptparse.create_accept_header`, `shimwill`).  My guess is that they\u2019re split over multiple lines and y\u2019all forgot to add a trailing space:\r\n\r\n```\r\ntests/test_functional.py::test_header_ids[/-404]\r\n  /Users/hynek/.local/share/virtualenvs/XXX-j5QwPtpM/lib/python3.6/site-packages/webob/acceptparse.py:1077: DeprecationWarning: The MIMEAccept class has been replaced bywebob.acceptparse.create_accept_header. This compatibility shimwill be deprecated in a future version of WebOb.\r\n    DeprecationWarning\r\n```\r\n\r\nIt\u2019s also not super helpful that those warnings point at webob\u2019s code \u2013 maybe you could add a stacklevel?  I suspect those errors are coming from webtest FWIW \u2013 do they know about this? :)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/340", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/340/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/340/events", "html_url": "https://github.com/Pylons/webob/issues/340", "id": 281109706, "node_id": "MDU6SXNzdWUyODExMDk3MDY=", "number": 340, "title": "feature suggestion: is_https request attribute", "user": {"login": "jvanasco", "id": 204779, "node_id": "MDQ6VXNlcjIwNDc3OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/204779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvanasco", "html_url": "https://github.com/jvanasco", "followers_url": "https://api.github.com/users/jvanasco/followers", "following_url": "https://api.github.com/users/jvanasco/following{/other_user}", "gists_url": "https://api.github.com/users/jvanasco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvanasco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvanasco/subscriptions", "organizations_url": "https://api.github.com/users/jvanasco/orgs", "repos_url": "https://api.github.com/users/jvanasco/repos", "events_url": "https://api.github.com/users/jvanasco/events{/privacy}", "received_events_url": "https://api.github.com/users/jvanasco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-12-11T17:48:03Z", "updated_at": "2018-10-29T04:27:27Z", "closed_at": "2018-10-29T04:27:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I think it would be useful if the request object had a attribute of `is_https` or similar, which is only calculated once (like pyramid's reify).\r\n\r\ndespite this being obvious/simple to do for developers in their own code (I typically handle this in pyramid via an add_request_method) i've noticed a large number of 3rd party libraries and posted code that repeatedly evaluates something like `secure = request.scheme == 'https'`, even in kwargs. with global push towards https, a dedicated attribute would make for more readable code.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/339", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/339/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/339/events", "html_url": "https://github.com/Pylons/webob/issues/339", "id": 262226267, "node_id": "MDU6SXNzdWUyNjIyMjYyNjc=", "number": 339, "title": "roadmap request: future versions should be able to handle invalid cookies without an Exception", "user": {"login": "jvanasco", "id": 204779, "node_id": "MDQ6VXNlcjIwNDc3OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/204779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvanasco", "html_url": "https://github.com/jvanasco", "followers_url": "https://api.github.com/users/jvanasco/followers", "following_url": "https://api.github.com/users/jvanasco/following{/other_user}", "gists_url": "https://api.github.com/users/jvanasco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvanasco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvanasco/subscriptions", "organizations_url": "https://api.github.com/users/jvanasco/orgs", "repos_url": "https://api.github.com/users/jvanasco/repos", "events_url": "https://api.github.com/users/jvanasco/events{/privacy}", "received_events_url": "https://api.github.com/users/jvanasco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-10-02T20:57:48Z", "updated_at": "2017-11-27T18:21:59Z", "closed_at": "2017-11-27T18:21:59Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The warning on current bad cookies shows that future versions will raise exceptions (https://github.com/Pylons/webob/blob/master/src/webob/cookies.py)\r\n\r\nI suggest this either be kept as a warning or be controlled by a configuration that allows (defaults) to not raising an exception.\r\n\r\nWhy? 3rd party javascript libraries (or partnered apps, especially php based ones) can easily (and unknowingly) create a \"bad cookie\" that fails this check, which would lead to broken services.  On one of our projects, I found a handful of cookies set by random javascript libraries that included a space character (which is not allowed in \"version 0\" cookies).  I also found cookies\u00a0that fail this check set by several wordpress plugins running on the same domain.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/331", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/331/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/331/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/331/events", "html_url": "https://github.com/Pylons/webob/issues/331", "id": 239880251, "node_id": "MDU6SXNzdWUyMzk4ODAyNTE=", "number": 331, "title": "IPv6 support", "user": {"login": "a3kov", "id": 813860, "node_id": "MDQ6VXNlcjgxMzg2MA==", "avatar_url": "https://avatars1.githubusercontent.com/u/813860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a3kov", "html_url": "https://github.com/a3kov", "followers_url": "https://api.github.com/users/a3kov/followers", "following_url": "https://api.github.com/users/a3kov/following{/other_user}", "gists_url": "https://api.github.com/users/a3kov/gists{/gist_id}", "starred_url": "https://api.github.com/users/a3kov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a3kov/subscriptions", "organizations_url": "https://api.github.com/users/a3kov/orgs", "repos_url": "https://api.github.com/users/a3kov/repos", "events_url": "https://api.github.com/users/a3kov/events{/privacy}", "received_events_url": "https://api.github.com/users/a3kov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2017-06-30T20:24:15Z", "updated_at": "2017-06-30T21:10:45Z", "closed_at": "2017-06-30T21:10:45Z", "author_association": "NONE", "active_lock_reason": null, "body": "Parts of WebOb haven't been adapted to work in IPv6 environment:\r\n- request.domain will split IPv6 addresses incorrectly\r\n- request.host_port will split IPv6 addresses incorrectly\r\n- request.host_url will split IPv6 addresses incorrectly\r\n- .. maybe more places, I haven't checked all sources\r\n\r\nThis issue is similar to #174 however there it's about mitigating potential vulnerabilities and this issue is only about making API work correctly. Software using WebOb can workaround this by parsing the Host header manually, but it's just wasteful because everybody has to repeat the same work, that should be done by WebOb (as promised by the API)\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/325", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/325/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/325/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/325/events", "html_url": "https://github.com/Pylons/webob/issues/325", "id": 235842559, "node_id": "MDU6SXNzdWUyMzU4NDI1NTk=", "number": 325, "title": "Change request.accept_encoding accept_property to use an AcceptEncoding class, rather than the generic Accept class", "user": {"login": "whiteroses", "id": 291075, "node_id": "MDQ6VXNlcjI5MTA3NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/291075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whiteroses", "html_url": "https://github.com/whiteroses", "followers_url": "https://api.github.com/users/whiteroses/followers", "following_url": "https://api.github.com/users/whiteroses/following{/other_user}", "gists_url": "https://api.github.com/users/whiteroses/gists{/gist_id}", "starred_url": "https://api.github.com/users/whiteroses/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whiteroses/subscriptions", "organizations_url": "https://api.github.com/users/whiteroses/orgs", "repos_url": "https://api.github.com/users/whiteroses/repos", "events_url": "https://api.github.com/users/whiteroses/events{/privacy}", "received_events_url": "https://api.github.com/users/whiteroses/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-06-14T11:04:47Z", "updated_at": "2017-06-15T20:51:03Z", "closed_at": "2017-06-15T20:45:34Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Currently in request.py, the `Accept*` headers related properties are:\r\n\r\n        accept = accept_property('Accept', '14.1', MIMEAccept, MIMENilAccept)\r\n        accept_charset = accept_property('Accept-Charset', '14.2', AcceptCharset)\r\n        accept_encoding = accept_property('Accept-Encoding', '14.3',\r\n                                          NilClass=NoAccept)\r\n        accept_language = accept_property('Accept-Language', '14.4', AcceptLanguage)\r\n\r\nThe function signature of `accept_property` in acceptparse.py:\r\n\r\n    def accept_property(header, rfc_section,\r\n        AcceptClass=Accept, NilClass=NilAccept\r\n    ):\r\n\r\n\r\nSo the only request property of the four that uses the generic `Accept` class for its `AcceptClass` argument is `accept_encoding`:\r\n\r\n    >>> Request.blank('/', accept_encoding='compress, gzip').accept_encoding\r\n    <Accept('compress, gzip')>\r\n\r\n\r\nHaving the `Accept` header property identify itself as `MIMEAccept` and the `Accept-Encoding` header property identify itself as `Accept` is confusing in itself, but from what I can see we do need a separate `AcceptEncoding` class, as\r\n\r\n1. We'll need to implement `Accept-Encoding`-specific functionality somewhere, e.g. the 'identity' token (https://tools.ietf.org/html/rfc7231#section-5.3.4).\r\n\r\n2. As mentioned in https://github.com/Pylons/webob/issues/323, the properties are documented using docstrings and Sphinx autodoc directives, and we can't document things specific to `Accept-Encoding` in the docstrings for the generic `Accept` class.\r\n\r\nSo for now, I would propose a\r\n\r\n    class AcceptEncoding(Accept):\r\n        \"\"\"[docstring...]\"\"\"\r\n\r\nand changing the AcceptClass argument for the `accept_encoding` accept_property from `Accept` to `AcceptEncoding`. (We'll add to the `AcceptEncoding` class later.) This would be strictly speaking a breaking change, but it seems unlikely that people would be depending on the class of the `request.accept_encoding` property &mdash; and to keep calling the class for the `Accept-Encoding` header `Accept` (which would involve removing the dependency of all the other classes on the `Accept` class and using it solely for the `Accept-Encoding` header, but keeping the `Accept` name only for backward compatibility) would be very confusing.\r\n\r\nDo you think the change would be okay? (If yes, would you like me to add to CHANGES.txt?)\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/323", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/323/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/323/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/323/events", "html_url": "https://github.com/Pylons/webob/issues/323", "id": 235100025, "node_id": "MDU6SXNzdWUyMzUxMDAwMjU=", "number": 323, "title": "API documentation only includes docstrings for `Accept` and `MIMEAccept`", "user": {"login": "whiteroses", "id": 291075, "node_id": "MDQ6VXNlcjI5MTA3NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/291075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whiteroses", "html_url": "https://github.com/whiteroses", "followers_url": "https://api.github.com/users/whiteroses/followers", "following_url": "https://api.github.com/users/whiteroses/following{/other_user}", "gists_url": "https://api.github.com/users/whiteroses/gists{/gist_id}", "starred_url": "https://api.github.com/users/whiteroses/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whiteroses/subscriptions", "organizations_url": "https://api.github.com/users/whiteroses/orgs", "repos_url": "https://api.github.com/users/whiteroses/repos", "events_url": "https://api.github.com/users/whiteroses/events{/privacy}", "received_events_url": "https://api.github.com/users/whiteroses/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2017-06-11T23:43:13Z", "updated_at": "2017-06-25T13:18:42Z", "closed_at": "2017-06-25T13:18:42Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "See also https://github.com/Pylons/webob/pull/327#issuecomment-309230004 [edited @stevepiercy]\r\n\r\nCurrently the Accept\\* headers related API documentation is set up as follows:\r\n\r\n    Accept-*\r\n    ~~~~~~~~\r\n\r\n    .. automodule:: webob.acceptparse\r\n    .. autoclass:: Accept\r\n       :members:\r\n    .. autoclass:: MIMEAccept\r\n       :members:\r\n\r\nThis means that currently only the `Accept` and `MIMEAccept` classes are included, and only their non-inherited member functions and properties with docstrings are currently documented. I think we'd want all the classes in acceptparse.py to be documented, and inherited methods that are part of the API documented for each inheriting class? It also would be better I think not to rely on the presence of docstrings to decide which member functions and properties are documented; for example, right now in the docs:\r\n\r\n<blockquote>\r\nclass webob.acceptparse.MIMEAccept(header_value)\r\nRepresents the Accept header, which is a list of mimetypes.\r\n\r\nThis class knows about mime wildcards, like image/*\r\n\r\naccept_html()\r\nReturns true if any HTML-like type is accepted\r\n\r\naccepts_html\r\nReturns true if any HTML-like type is accepted\r\n</blockquote>\r\n\r\nI don't think it was intended for `accept_html()` to be documented (since we have `accepts_html`, `accept_html()` probably isn't intended to be part of the API?)\r\n\r\nSphinx has directives for these changes, and if you agree this needs to be changed, I can fix this.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/322", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/322/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/322/events", "html_url": "https://github.com/Pylons/webob/issues/322", "id": 235098493, "node_id": "MDU6SXNzdWUyMzUwOTg0OTM=", "number": 322, "title": "pytest.param AttributeError when py.test version < 3.1.0", "user": {"login": "whiteroses", "id": 291075, "node_id": "MDQ6VXNlcjI5MTA3NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/291075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whiteroses", "html_url": "https://github.com/whiteroses", "followers_url": "https://api.github.com/users/whiteroses/followers", "following_url": "https://api.github.com/users/whiteroses/following{/other_user}", "gists_url": "https://api.github.com/users/whiteroses/gists{/gist_id}", "starred_url": "https://api.github.com/users/whiteroses/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whiteroses/subscriptions", "organizations_url": "https://api.github.com/users/whiteroses/orgs", "repos_url": "https://api.github.com/users/whiteroses/repos", "events_url": "https://api.github.com/users/whiteroses/events{/privacy}", "received_events_url": "https://api.github.com/users/whiteroses/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-06-11T23:11:34Z", "updated_at": "2017-06-13T00:19:01Z", "closed_at": "2017-06-13T00:19:01Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "With py.test version < 3.1.0, we get this error when we run the tests:\r\n\r\n    _____________________ ERROR collecting tests/test_misc.py _____________________\r\n    tests/test_misc.py:42: in <module>\r\n        pytest.param(\"'\", \"'\", marks=py2only),\r\n    E   AttributeError: 'module' object has no attribute 'param'\r\n\r\n`pytest.param` was added to pytest in version 3.1.0. Do you think we should specify `>=3.1.0` for pytest in setup.py?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/320", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/320/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/320/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/320/events", "html_url": "https://github.com/Pylons/webob/issues/320", "id": 234553077, "node_id": "MDU6SXNzdWUyMzQ1NTMwNzc=", "number": 320, "title": "BaseRequest.url gives UnicodeEncodeError in test run, but not in shell", "user": {"login": "carn1x", "id": 783281, "node_id": "MDQ6VXNlcjc4MzI4MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/783281?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carn1x", "html_url": "https://github.com/carn1x", "followers_url": "https://api.github.com/users/carn1x/followers", "following_url": "https://api.github.com/users/carn1x/following{/other_user}", "gists_url": "https://api.github.com/users/carn1x/gists{/gist_id}", "starred_url": "https://api.github.com/users/carn1x/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carn1x/subscriptions", "organizations_url": "https://api.github.com/users/carn1x/orgs", "repos_url": "https://api.github.com/users/carn1x/repos", "events_url": "https://api.github.com/users/carn1x/events{/privacy}", "received_events_url": "https://api.github.com/users/carn1x/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-06-08T14:47:59Z", "updated_at": "2017-06-09T14:58:20Z", "closed_at": "2017-06-09T14:58:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "Take the following code:\r\n\r\n```\r\nfrom webob.request import BaseRequest\r\nreq = BaseRequest.blank('http://mysite.com/%D0%B4%D1%8D%D0%BB%D1%8C%D1%8D%D0%BD%D0%B9%D1%82')\r\nprint req.environ['PATH_INFO']\r\nprint req.path\r\n```\r\n\r\nIf I run this via a django shell, I get:\r\n\r\n```\r\n>>> req = BaseRequest.blank('http://mysite.com/%D0%B4%D1%8D%D0%BB%D1%8C%D1%8D%D0%BD%D0%B9%D1%82')\r\n>>> print req.environ['PATH_INFO']\r\n/\u0434\u044d\u043b\u044c\u044d\u043d\u0439\u0442\r\n>>> print req.path\r\n/%D0%B4%D1%8D%D0%BB%D1%8C%D1%8D%D0%BD%D0%B9%D1%82\r\n```\r\n\r\nWhere as running it as part of a Django test case I get the following from the first print:\r\n\r\n```\r\n/\u00d0\u00b4\u00d1\u008d\u00d0\u00bb\u00d1\u008c\u00d1\u008d\u00d0\u00bd\u00d0\u00b9\u00d1\r\n```\r\n\r\nFollowed by the exception:\r\n\r\n```\r\nFile \"/code/frontend/tests/test_views.py\", line 55, in test_event\r\n    print req.path\r\nFile \"/virtualenv/frontend/local/lib/python2.7/site-packages/webob/request.py\", line 485, in path\r\n    bpath = bytes_(self.path_info, self.url_encoding)\r\nFile \"/virtualenv/frontend/local/lib/python2.7/site-packages/webob/descriptors.py\", line 68, in fget\r\n    return req.encget(key, encattr=encattr)\r\nFile \"/virtualenv/frontend/local/lib/python2.7/site-packages/webob/request.py\", line 175, in encget\r\n    return val.decode(encoding)\r\nFile \"/virtualenv/frontend/lib/python2.7/encodings/utf_8.py\", line 16, in decode\r\n    return codecs.utf_8_decode(input, errors, True)\r\nUnicodeEncodeError: 'ascii' codec can't encode characters in position 1-16: ordinal not in range(128)\r\n```\r\n\r\nI get that this is probably some weird configuration with my test suite, however both run via the same method in the same environment (Django's `manage.py test` vs `manage.py shell`) and so I'm struggling to identify what's different. We're also running a ton of other unicode related tests without issue.\r\n\r\nThanks for any light shed on this.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/315", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/315/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/315/events", "html_url": "https://github.com/Pylons/webob/issues/315", "id": 228891526, "node_id": "MDU6SXNzdWUyMjg4OTE1MjY=", "number": 315, "title": "Review Accept-Language header handling", "user": {"login": "whiteroses", "id": 291075, "node_id": "MDQ6VXNlcjI5MTA3NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/291075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whiteroses", "html_url": "https://github.com/whiteroses", "followers_url": "https://api.github.com/users/whiteroses/followers", "following_url": "https://api.github.com/users/whiteroses/following{/other_user}", "gists_url": "https://api.github.com/users/whiteroses/gists{/gist_id}", "starred_url": "https://api.github.com/users/whiteroses/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whiteroses/subscriptions", "organizations_url": "https://api.github.com/users/whiteroses/orgs", "repos_url": "https://api.github.com/users/whiteroses/repos", "events_url": "https://api.github.com/users/whiteroses/events{/privacy}", "received_events_url": "https://api.github.com/users/whiteroses/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 14, "created_at": "2017-05-16T01:38:09Z", "updated_at": "2017-08-28T20:01:40Z", "closed_at": "2017-08-28T20:01:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "As discussed in issue #256, `Accept.best_match()` implements its own algorithm that does not match any of the matching schemes suggested in RFC7231. We agreed that there was not just one meaning of what's to be considered a 'best match', so the plan is to implement the three matching schemes suggested in RFC7231 as methods, and deprecate `.best_match()`. This will resolve issue #256.\r\n\r\nGiven there is more than one meaning of a 'best match', anything that uses `self._match()` no longer makes sense:\r\n\r\n## `.__contains__()`\r\n\r\nAccording to its docstring, `.__contains__()` \"returns True if the given object is listed in the accepted types\" &mdash; which is quite ambiguous in its meaning. Looking at the code, it returns True if the offer matches anything in `self._parsed_nonzero`. But as it calls `self._match()`, and what is a match is now going to depend on the matching scheme, using `__contains__` for this no longer makes sense.\r\n\r\nUsing `__contains__`/`in` to return the acceptable language tags seems to my mind not to fit the idea of `in` anyway, if as according to [RFC7231](https://tools.ietf.org/html/rfc7231#section-5.3.1), a qvalue of 0 means \"not acceptable\" &mdash; so a language range with q=0 would be `in` the header, but not only would not be a match, but might disqualify matches of other language ranges (this is not made clear at all by the RFCs, but it seems to me the only way to interpret \"not acceptable\"). I think it would make more sense for `__contains__` to return True if the argument is one of the language ranges in the header (whatever its qvalue, including if it's 0), but this is not the current behaviour as documented in the docs. Keeping it as is however would not make sense &mdash; as what is a match will depend on the matching scheme.\r\n\r\n\r\n## `.quality()`\r\n\r\nFrom the docstring of `Accept.quality()`, `.quality()` is intended to \"return the quality of the given offer. Returns None if there is no match.\"\r\n\r\nReading `.quality()`, it seems \"the quality of the given offer\" refers to the highest qvalue from all the language ranges that match. Given we've agreed that what is a match depends on the matching scheme, `.quality()` would also no longer make sense.\r\n\r\n~~`.quality()` is not mentioned in the docs at all, so there may be less of an issue with deprecating it.~~ (Edited 2017/06/12: sorry, my mistake: it *is* mentioned in the docs.)\r\n\r\n<br><br>\r\n\r\nOther issues:\r\n\r\n## Expose `.parsed` and `.parsed_nonzero`\r\n\r\nAs discussed in issue #256.\r\n\r\n## Bugs to do with handling of language ranges with q=0 or more than two subtags\r\n\r\nThose will be fixed when the new matching schemes are implemented, and `best_match()` deprecated.\r\n\r\n## `__iter__`\r\n\r\n`__iter__` only yields from `self._parsed_nonzero`. This is as documented:\r\n\r\n> If we just want to know everything the client prefers, in the order it is preferred:\r\n>\r\n>     >>> list(req.accept)\r\n>     ['application/xhtml+xml', 'text/html']\r\n\r\nThere is an argument that like `__contains__`, only using the language ranges from `_parsed_nonzero` doesn't make sense, given that language ranges with q=0 are still important parts of the header &mdash; so a `list()` of the header shouldn't just drop them. (WebOb's current `Accept-Language` handling generally doesn't take into account the importance of q=0.) But I feel less strongly about this with `__iter__` than with `in`/`__contains__`; I can see using `list()` to retrieve only those language ranges that the client accepts, and given that it's documented, I understand the importance of backward compatibility. But then if we changed `in`/`__contains__` to include ranges with q=0, but kept `__iter__` the same &mdash; might that be confusing?\r\n\r\nIdeally, if backward compatibility weren't a problem, I would propose using named methods for these functionalities instead, where their meaning would be more obvious, and there would be much less room for ambiguity. It may be good to add the methods anyway as clearer alternatives, even if we keep the current meaning of `__iter__` (`__contains__` would have to change regardless, because it currently relies on one single meaning of matching).\r\n\r\n(Need a little more time to finish reviewing the regex for `Accept-Language`, `.parse()` and `__str__` &mdash; will update here when done!)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/314", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/314/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/314/events", "html_url": "https://github.com/Pylons/webob/issues/314", "id": 224935475, "node_id": "MDU6SXNzdWUyMjQ5MzU0NzU=", "number": 314, "title": "Review Accept* headers handling in acceptparse.py", "user": {"login": "whiteroses", "id": 291075, "node_id": "MDQ6VXNlcjI5MTA3NQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/291075?v=4", "gravatar_id": "", "url": "https://api.github.com/users/whiteroses", "html_url": "https://github.com/whiteroses", "followers_url": "https://api.github.com/users/whiteroses/followers", "following_url": "https://api.github.com/users/whiteroses/following{/other_user}", "gists_url": "https://api.github.com/users/whiteroses/gists{/gist_id}", "starred_url": "https://api.github.com/users/whiteroses/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/whiteroses/subscriptions", "organizations_url": "https://api.github.com/users/whiteroses/orgs", "repos_url": "https://api.github.com/users/whiteroses/repos", "events_url": "https://api.github.com/users/whiteroses/events{/privacy}", "received_events_url": "https://api.github.com/users/whiteroses/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 10, "created_at": "2017-04-27T22:55:56Z", "updated_at": "2017-11-20T23:24:10Z", "closed_at": "2017-11-20T23:24:10Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "There are various bugs and issues around `Accept*` headers handling and conformance with specs, and it was agreed in https://github.com/Pylons/webob/issues/256 that the module would benefit from a review. This issue is intended for discussing questions that apply to all the headers or to the module as a whole, and for keeping track of related issues and pull requests.  (Separate issues will be opened to focus on each `Accept*` header as required.)\r\n\r\nIn https://github.com/Pylons/webob/issues/256, we agreed that it may be a good idea to implement the handling of the four headers as their own separate classes, rather than inherit from the same `Accept` class. Continuing the discussion there:\r\n\r\n> I don't think we should continue to inherit from the same base class. Let's check and see what tests exist...\r\n\r\ntest\\_acceptparse.py would of course need to be updated, but there are quite a few tests in test\\_request.py that involve acceptparse.py too:\r\n\r\n* `test_language_parsing1`\r\n* `test_language_parsing2`\r\n* `test_language_parsing3`\r\n* `test_mime_parsing1`\r\n* `test_mime_parsing2`\r\n* `test_mime_parsing3`\r\n* `test_accept_best_match`\r\n* `test_from_mimeparse`\r\n* `test_request_put`\r\n\r\n`simpleapp`, used in quite a few of the tests, would also need to be updated.\r\n\r\nIf I understand them correctly, I think these tests are intended to be integration or functional? But they seem to test quite a few things that could be tested in unit tests &mdash; where we wouldn't need to create a request or a `simpleapp` (and test whether something is in the output of `simpleapp`) for every test. There also seems to be many tests and asserts in each test method. Of course some integration tests are necessary, but I was wondering if we need all of those tests, or whether some of them are already covered, or should be covered, by unit tests in acceptparse.py?\r\n\r\nI don't see any major issues for the tests from separating out the handling for the four headers, though of course it would take some work to update them. Quite a few tests use `request.accept.best_match()` though, which we agreed in https://github.com/Pylons/webob/issues/256 to deprecate, so it may require a bit more thought as to what those tests should be testing instead.\r\n\r\n<br>\r\n\r\n> ...and see if some quick Google searches bring up any code that expects it to inherit from the same base class, but I think separating it out is a good idea.\r\n\r\nI've looked at Werkzeug's implementation, and they also inherit from an `Accept` class. But there are quite a few open issues and pull requests regarding their `Accept*` headers handling, and I get the feeling that their implementation hasn't been given much attention for a long while. And I don't think Django implements anything to help with `Accept*` handling. Is there any other code you had in mind that we could look at @bertjwregeer?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/308", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/308/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/308/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/308/events", "html_url": "https://github.com/Pylons/webob/issues/308", "id": 202659708, "node_id": "MDU6SXNzdWUyMDI2NTk3MDg=", "number": 308, "title": "Git tag is missing for the 1.7.1 release", "user": {"login": "edmorley", "id": 501702, "node_id": "MDQ6VXNlcjUwMTcwMg==", "avatar_url": "https://avatars3.githubusercontent.com/u/501702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmorley", "html_url": "https://github.com/edmorley", "followers_url": "https://api.github.com/users/edmorley/followers", "following_url": "https://api.github.com/users/edmorley/following{/other_user}", "gists_url": "https://api.github.com/users/edmorley/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmorley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmorley/subscriptions", "organizations_url": "https://api.github.com/users/edmorley/orgs", "repos_url": "https://api.github.com/users/edmorley/repos", "events_url": "https://api.github.com/users/edmorley/events{/privacy}", "received_events_url": "https://api.github.com/users/edmorley/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-23T21:44:53Z", "updated_at": "2017-01-23T23:38:37Z", "closed_at": "2017-01-23T23:38:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "1.7.1 is missing the tag:\r\nhttps://github.com/Pylons/webob/releases\r\n\r\nThanks :-)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/307", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/307/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/307/events", "html_url": "https://github.com/Pylons/webob/issues/307", "id": 201947341, "node_id": "MDU6SXNzdWUyMDE5NDczNDE=", "number": 307, "title": "WebOb 1.7.0 breaks backwards compatibility of Request.is_body_readable", "user": {"login": "sigmavirus24", "id": 240830, "node_id": "MDQ6VXNlcjI0MDgzMA==", "avatar_url": "https://avatars3.githubusercontent.com/u/240830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sigmavirus24", "html_url": "https://github.com/sigmavirus24", "followers_url": "https://api.github.com/users/sigmavirus24/followers", "following_url": "https://api.github.com/users/sigmavirus24/following{/other_user}", "gists_url": "https://api.github.com/users/sigmavirus24/gists{/gist_id}", "starred_url": "https://api.github.com/users/sigmavirus24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sigmavirus24/subscriptions", "organizations_url": "https://api.github.com/users/sigmavirus24/orgs", "repos_url": "https://api.github.com/users/sigmavirus24/repos", "events_url": "https://api.github.com/users/sigmavirus24/events{/privacy}", "received_events_url": "https://api.github.com/users/sigmavirus24/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-01-19T19:05:05Z", "updated_at": "2017-03-16T04:23:51Z", "closed_at": "2017-03-16T04:23:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The refactor in [this commit](https://github.com/Pylons/webob/commit/0e6fcbfbc58af6fdd4e125543bf8f5fb91b984c6) has broken existing code in openstack/glance.\r\n\r\nPreviously, Glance would decide if it could process a body based on the transfer encoding and this attribute, specifically it uses [this method](https://github.com/openstack/glance/blob/b7c627ef68c303d4c3182c1a41b36185447039a3/glance/common/wsgi.py#L993..L1006). We call that [here](https://github.com/openstack/glance/blob/b7c627ef68c303d4c3182c1a41b36185447039a3/glance/api/v1/images.py#L1238) and if that `is_body_readable` returns False, then we act as if there is no body data.\r\n\r\nThe test in particular that led me to this doesn't specify a body, but it never has. I would agree with you that this is more accurate since it seems we were relying on `http_method_probably_has_body`.\r\n\r\nWe can implement that behaviour, but a note about this would have been helpful in the release notes.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/305", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/305/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/305/events", "html_url": "https://github.com/Pylons/webob/issues/305", "id": 199454041, "node_id": "MDU6SXNzdWUxOTk0NTQwNDE=", "number": 305, "title": "Seems WebOb 1.7 has some glitches with WebTest when a 204 is responded", "user": {"login": "amol-", "id": 601423, "node_id": "MDQ6VXNlcjYwMTQyMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/601423?v=4", "gravatar_id": "", "url": "https://api.github.com/users/amol-", "html_url": "https://github.com/amol-", "followers_url": "https://api.github.com/users/amol-/followers", "following_url": "https://api.github.com/users/amol-/following{/other_user}", "gists_url": "https://api.github.com/users/amol-/gists{/gist_id}", "starred_url": "https://api.github.com/users/amol-/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/amol-/subscriptions", "organizations_url": "https://api.github.com/users/amol-/orgs", "repos_url": "https://api.github.com/users/amol-/repos", "events_url": "https://api.github.com/users/amol-/events{/privacy}", "received_events_url": "https://api.github.com/users/amol-/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-01-08T23:02:03Z", "updated_at": "2017-01-17T06:50:22Z", "closed_at": "2017-01-17T06:43:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The recent WebOb 1.7 changes to initialisation function seem to had introduced a side effect when WebTest is used, as webtest will recreate a new `Response` object from the application response.\r\n\r\nA simple testcase can be created to showcase the issue:\r\n\r\n```\r\nfrom webob import Response\r\n\r\ndef wsgi_app(environ, start_response):\r\n    resp = Response(status='204 No Content', body=b'')\r\n    resp.content_type = None\r\n    return resp(environ, start_response)\r\n```\r\n\r\nThe snippet is meant to work on both 1.6 and 1.7, so it adds some unnecessary values like `body` and `content_type` which are already provided in 1.7 (those values are in fact a nop on 1.7) while they are required on 1.6 to generate a response without content.\r\n\r\nThe response is as expected both on 1.6 and 1.7\r\n\r\n```\r\nResponse: 204 No Content\r\n\r\n\r\n```\r\n\r\nCreating a plain webtest `TestApp` from the previous example:\r\n\r\n```\r\nfrom webtest import TestApp\r\n\r\napp = TestApp(wsgi_app)\r\napp.get('/')\r\n```\r\n\r\nwill issue a validation error on WebOb 1.7:\r\n\r\n```\r\nIterator garbage collected without being closedException AssertionError: AssertionError('Iterator garbage collected without being closed',) in <bound method IteratorWrapper.__del__ of <webtest.lint.IteratorWrapper object at 0x100ed0850>> ignored\r\n```\r\n\r\nwhile it will work without the error with WebOb 1.6.\r\n\r\nThis seems to be related to https://github.com/Pylons/webob/commit/35fd5854b4b706adafa4caab43b6bcdcf3e6a934 as https://github.com/Pylons/webob/blob/master/webob/response.py#L323 throws away the webtest `IteratorWrapper` injected by WebTest replacing it with `[b'']` as `code_has_body` is False and thus breaking `WebTest`\r\n\r\nI wouldn't take for granted that if there is an `app_iter` it will be wrong and needs to be discarded as response has no content. It's probably a right assumption in the case of `body`, but discarding `app_iter` might in fact break some application by discarding an iterator which returns an empty response too but has other side effects.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/304", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/304/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/304/events", "html_url": "https://github.com/Pylons/webob/issues/304", "id": 198239732, "node_id": "MDU6SXNzdWUxOTgyMzk3MzI=", "number": 304, "title": "WebOb 1.7 broke text responses without charset", "user": {"login": "hyperknot", "id": 494223, "node_id": "MDQ6VXNlcjQ5NDIyMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/494223?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hyperknot", "html_url": "https://github.com/hyperknot", "followers_url": "https://api.github.com/users/hyperknot/followers", "following_url": "https://api.github.com/users/hyperknot/following{/other_user}", "gists_url": "https://api.github.com/users/hyperknot/gists{/gist_id}", "starred_url": "https://api.github.com/users/hyperknot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hyperknot/subscriptions", "organizations_url": "https://api.github.com/users/hyperknot/orgs", "repos_url": "https://api.github.com/users/hyperknot/repos", "events_url": "https://api.github.com/users/hyperknot/events{/privacy}", "received_events_url": "https://api.github.com/users/hyperknot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 23, "created_at": "2016-12-31T17:07:09Z", "updated_at": "2017-09-13T02:53:19Z", "closed_at": "2017-01-01T22:01:31Z", "author_association": "NONE", "active_lock_reason": null, "body": "Doing a deploy in my Pyramid based app broke my generated file download responses. It turned out the reason was a silent upgrade of WebOb to 1.7, which somehow broke the default_charset support.\r\n\r\nMy problematic view had the the following:\r\n\r\n```\r\nbody = json.dumps(map_obj.geojson, ensure_ascii=False)\r\n\r\nreturn Response(content_type='application/vnd.geo+json',\r\n           content_disposition=u'attachment; filename=\"{}.geojson\"'.format(basename),\r\n           body=body)\r\n```\r\n\r\nIt gave `TypeError: You cannot set the body to a text value without a charset` for every request to this view.\r\n\r\nNow, after Googling this error I found out it's in WebOb, so I've added WebOb<1.7 dependency to my requirements, which solved this problem for me. The alternative would have been to add charset='UTF-8' to all my responses.\r\n\r\nBut the big problem here I believe is that an unpinned package was silently upgraded mid Pyramid's release cycle, which possibly broke many production systems (or will brake in the next weeks, as most people didn't deploy during holidays).\r\n\r\nSince I trust Pyramid to handle it's dependencies without manual pinning on my side, I believe it should definitely keep extremely important dependencies (like WebOb) on the same minor versions. \r\n\r\nChanging every single text response in a site is definitely something what needs to be written in official Pyramid upgrade guides and shown on the console as depreciation warnings before committing change.\r\n\r\n\r\n\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/299", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/299/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/299/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/299/events", "html_url": "https://github.com/Pylons/webob/issues/299", "id": 191553750, "node_id": "MDU6SXNzdWUxOTE1NTM3NTA=", "number": 299, "title": "PR #294 fixes partially python bug 24764", "user": {"login": "julienmeyer", "id": 1002299, "node_id": "MDQ6VXNlcjEwMDIyOTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1002299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/julienmeyer", "html_url": "https://github.com/julienmeyer", "followers_url": "https://api.github.com/users/julienmeyer/followers", "following_url": "https://api.github.com/users/julienmeyer/following{/other_user}", "gists_url": "https://api.github.com/users/julienmeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/julienmeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/julienmeyer/subscriptions", "organizations_url": "https://api.github.com/users/julienmeyer/orgs", "repos_url": "https://api.github.com/users/julienmeyer/repos", "events_url": "https://api.github.com/users/julienmeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/julienmeyer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 1, "created_at": "2016-11-24T16:01:47Z", "updated_at": "2016-12-10T04:25:24Z", "closed_at": "2016-12-10T04:25:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The problem still exist with multipart forms that contain file and data.\r\nI will create a PR to illustrate and fix the problem.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/298", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/298/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/298/events", "html_url": "https://github.com/Pylons/webob/issues/298", "id": 190652929, "node_id": "MDU6SXNzdWUxOTA2NTI5Mjk=", "number": 298, "title": "Default charset does not apply to JSON responses", "user": {"login": "href", "id": 273163, "node_id": "MDQ6VXNlcjI3MzE2Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/273163?v=4", "gravatar_id": "", "url": "https://api.github.com/users/href", "html_url": "https://github.com/href", "followers_url": "https://api.github.com/users/href/followers", "following_url": "https://api.github.com/users/href/following{/other_user}", "gists_url": "https://api.github.com/users/href/gists{/gist_id}", "starred_url": "https://api.github.com/users/href/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/href/subscriptions", "organizations_url": "https://api.github.com/users/href/orgs", "repos_url": "https://api.github.com/users/href/repos", "events_url": "https://api.github.com/users/href/events{/privacy}", "received_events_url": "https://api.github.com/users/href/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-11-21T08:50:36Z", "updated_at": "2016-11-21T19:44:09Z", "closed_at": "2016-11-21T19:05:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've tested WebOb 1.7rc1 with Morepath and I've noticed that the default UTF-8 charset of the response only applies to text responses:\r\n\r\n```python\r\n>>> from webob import Response\r\n>>> Response(\"{}\", content_type=\"text/plain\")\r\n<Response at 0x100f188d0 200 OK>\r\n>>> Response(\"{}\", content_type=\"application/json\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/denis/.virtualenvs/morepath/lib/python3.5/site-packages/webob/response.py\", line 311, in __init__\r\n    \"You cannot set the body to a text value without a \"\r\nTypeError: You cannot set the body to a text value without a charset\r\n```\r\n\r\nNow I have no problem setting the charset of JSON responses explicitly (and as of today Morepath does), but I was wondering if this might be a bug.\r\n\r\nI would have expected that the JSON response also uses the default charset defined on the Response class.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/297", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/297/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/297/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/297/events", "html_url": "https://github.com/Pylons/webob/issues/297", "id": 190433634, "node_id": "MDU6SXNzdWUxOTA0MzM2MzQ=", "number": 297, "title": "Backport set_cookie changes to 1.6", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 272549541, "node_id": "MDU6TGFiZWwyNzI1NDk1NDE=", "url": "https://api.github.com/repos/Pylons/webob/labels/backport", "name": "backport", "color": "e11d21", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-18T22:08:35Z", "updated_at": "2016-11-18T22:33:46Z", "closed_at": "2016-11-18T22:33:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/296", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/296/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/296/events", "html_url": "https://github.com/Pylons/webob/issues/296", "id": 190433587, "node_id": "MDU6SXNzdWUxOTA0MzM1ODc=", "number": 296, "title": "Backport FieldStorage changes to 1.6", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 272549541, "node_id": "MDU6TGFiZWwyNzI1NDk1NDE=", "url": "https://api.github.com/repos/Pylons/webob/labels/backport", "name": "backport", "color": "e11d21", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-11-18T22:08:20Z", "updated_at": "2016-11-18T22:33:49Z", "closed_at": "2016-11-18T22:33:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/290", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/290/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/290/events", "html_url": "https://github.com/Pylons/webob/issues/290", "id": 189819619, "node_id": "MDU6SXNzdWUxODk4MTk2MTk=", "number": 290, "title": "Fixup w.r.PATH_SAFE to match RFC3986", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 0, "created_at": "2016-11-16T19:37:55Z", "updated_at": "2016-11-16T21:33:28Z", "closed_at": "2016-11-16T21:32:50Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Related to discussion in https://github.com/Pylons/pyramid/pull/2811.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/288", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/288/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/288/events", "html_url": "https://github.com/Pylons/webob/issues/288", "id": 185243308, "node_id": "MDU6SXNzdWUxODUyNDMzMDg=", "number": 288, "title": "Docs for Response.__init__ needs update", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 0, "created_at": "2016-10-25T21:49:02Z", "updated_at": "2016-11-16T21:38:18Z", "closed_at": "2016-11-16T21:38:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "If `headerlist` is provided, then no `Content-Type` is added. It currently mentions that it will be added if the `headerlist` doesn't contain one. This is no longer correct since https://github.com/Pylons/webob/pull/286 where `headerlist` was designated as a low-level API whereby `Response` shouldn't try to be more \"helpful\".\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/285", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/285/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/285/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/285/events", "html_url": "https://github.com/Pylons/webob/issues/285", "id": 180074052, "node_id": "MDU6SXNzdWUxODAwNzQwNTI=", "number": 285, "title": "performance degradation on trunk", "user": {"login": "faassen", "id": 327472, "node_id": "MDQ6VXNlcjMyNzQ3Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/327472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/faassen", "html_url": "https://github.com/faassen", "followers_url": "https://api.github.com/users/faassen/followers", "following_url": "https://api.github.com/users/faassen/following{/other_user}", "gists_url": "https://api.github.com/users/faassen/gists{/gist_id}", "starred_url": "https://api.github.com/users/faassen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/faassen/subscriptions", "organizations_url": "https://api.github.com/users/faassen/orgs", "repos_url": "https://api.github.com/users/faassen/repos", "events_url": "https://api.github.com/users/faassen/events{/privacy}", "received_events_url": "https://api.github.com/users/faassen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 7, "created_at": "2016-09-29T15:00:14Z", "updated_at": "2016-10-03T09:55:46Z", "closed_at": "2016-10-03T04:35:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I thought I'd try Morepath with webob trunk. It's a lot slower than before. But I'll demonstrate with Pyramid,  as I don't want to confuse the issue by using development versions of Morepath. I use this benchmark:\n\nhttps://github.com/faassen/howareyou\n\nWhen I run Pyramid against webob 1.6.1:\n\n```\n$ howareyou -b hello -f pyramid\nBenchmark : hello\nFrameworks: pyramid\n                ms     rps  tcalls  funcs\npyramid       4051   24687      74     58\n```\n\nWhen I run Pyramid against webob trunk:\n\n```\nBenchmark : hello\nFrameworks: pyramid\n                ms     rps  tcalls  funcs\npyramid       7410   13495     144     73\n```\n\nHere is the top profile functions with WebOb 1.6.1:\n\n```\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n   100000    0.661    0.000    3.921    0.000 router.py:66(handle_request)\n   100000    0.427    0.000    0.646    0.000 response.py:87(__init__)\n   100000    0.340    0.000    4.744    0.000 router.py:179(invoke_subrequest)\n   100000    0.239    0.000    0.456    0.000 traversal.py:632(__call__)\n   100000    0.238    0.000    0.285    0.000 response.py:1043(_abs_headerlist)\n   300000    0.236    0.000    0.273    0.000 interface.py:518(__hash__)\n   100000    0.219    0.000    5.828    0.000 run.py:46(<lambda>)\n   100000    0.204    0.000    5.524    0.000 router.py:227(__call__)\n   100000    0.170    0.000    0.767    0.000 urldispatch.py:80(__call__)\n   200000    0.152    0.000    0.249    0.000 decorator.py:39(__get__)\n```\n\nWith master:\n\n```\n   ncalls  tottime  percall  cumtime  percall filename:lineno(function)\n   100000    0.910    0.000    5.402    0.000 response.py:176(__init__)\n   700000    0.731    0.000    0.883    0.000 headers.py:15(__getitem__)\n   100000    0.688    0.000    8.905    0.000 router.py:66(handle_request)\n   700000    0.586    0.000    1.469    0.000 _abcoll.py:379(get)\n   300000    0.477    0.000    0.715    0.000 headers.py:43(__setitem__)\n   300000    0.372    0.000    1.505    0.000 response.py:762(_content_type__get)\n   100000    0.366    0.000    9.808    0.000 router.py:179(invoke_subrequest)\n  1000000    0.302    0.000    0.511    0.000 response.py:432(_headers__get)\n   100000    0.268    0.000    0.808    0.000 response.py:731(_charset__set)\n   100000    0.254    0.000    0.801    0.000 response.py:796(_content_type__set)\n```\n\nVarious response header manipulation code now shows up in the profile whereas before it did not.\n\nWhat's interesting is that if I run the profiler against the development version of Morepath, I see almost the same webob stuff dominate the benchmarks in the same order, while usually the webob stuff is actually not in the top 10.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/282", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/282/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/282/events", "html_url": "https://github.com/Pylons/webob/issues/282", "id": 179753408, "node_id": "MDU6SXNzdWUxNzk3NTM0MDg=", "number": 282, "title": "performance issues in webob.exc", "user": {"login": "faassen", "id": 327472, "node_id": "MDQ6VXNlcjMyNzQ3Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/327472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/faassen", "html_url": "https://github.com/faassen", "followers_url": "https://api.github.com/users/faassen/followers", "following_url": "https://api.github.com/users/faassen/following{/other_user}", "gists_url": "https://api.github.com/users/faassen/gists{/gist_id}", "starred_url": "https://api.github.com/users/faassen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/faassen/subscriptions", "organizations_url": "https://api.github.com/users/faassen/orgs", "repos_url": "https://api.github.com/users/faassen/repos", "events_url": "https://api.github.com/users/faassen/events{/privacy}", "received_events_url": "https://api.github.com/users/faassen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 2, "created_at": "2016-09-28T12:02:12Z", "updated_at": "2016-09-30T05:19:14Z", "closed_at": "2016-09-30T05:19:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd like to draw your attention to the following issue:\n\nhttps://github.com/morepath/morepath/issues/494\n\nMy impression is that there is some kind of leak in `webob.exc.lazify` which causes it to take increasing time each time it gets called, and when this goes up, it starts to totally dominate performance.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/280", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/280/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/280/events", "html_url": "https://github.com/Pylons/webob/issues/280", "id": 179193088, "node_id": "MDU6SXNzdWUxNzkxOTMwODg=", "number": 280, "title": "Problem with multipart request when content-length is defined for content part (Python 3.4)", "user": {"login": "julienmeyer", "id": 1002299, "node_id": "MDQ6VXNlcjEwMDIyOTk=", "avatar_url": "https://avatars2.githubusercontent.com/u/1002299?v=4", "gravatar_id": "", "url": "https://api.github.com/users/julienmeyer", "html_url": "https://github.com/julienmeyer", "followers_url": "https://api.github.com/users/julienmeyer/followers", "following_url": "https://api.github.com/users/julienmeyer/following{/other_user}", "gists_url": "https://api.github.com/users/julienmeyer/gists{/gist_id}", "starred_url": "https://api.github.com/users/julienmeyer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/julienmeyer/subscriptions", "organizations_url": "https://api.github.com/users/julienmeyer/orgs", "repos_url": "https://api.github.com/users/julienmeyer/repos", "events_url": "https://api.github.com/users/julienmeyer/events{/privacy}", "received_events_url": "https://api.github.com/users/julienmeyer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 0, "created_at": "2016-09-26T10:34:02Z", "updated_at": "2016-11-18T22:04:08Z", "closed_at": "2016-11-18T22:04:08Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The bug occurs with Python 3.4 (see https://bugs.python.org/issue27777).\n\nI will create a PR.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/279", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/279/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/279/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/279/events", "html_url": "https://github.com/Pylons/webob/issues/279", "id": 178537556, "node_id": "MDU6SXNzdWUxNzg1Mzc1NTY=", "number": 279, "title": "Backwards Compatibility issue: remove chunked encoding support from WebOb (unless explicitly flagged by WSGI server)", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 10, "created_at": "2016-09-22T07:05:47Z", "updated_at": "2016-10-10T13:53:03Z", "closed_at": "2016-09-30T06:07:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "# The problem with loosely defined specs\n\nUnfortunately the WSGI spec does not have a good way to allow Chunked Encoding if you read the spec loosely. This is an issue because to support it you need to read all of the \"should\"'s as \"must\".\n\nThat would have been the correct thing to do anyway, but alas we are stuck with what we've got for now.\n\nFor example, to showcase the issue:\n\n```\nfrom wsgiref.simple_server import make_server\n\ndef hello_world_app(environ, start_response):\n    print('before read...')\n    environ['wsgi.input'].read()\n    print('after read...')\n\n    status = '200 OK'  # HTTP Status\n    headers = [('Content-type', 'text/plain; charset=utf-8')]  # HTTP Headers\n    start_response(status, headers)\n\n    # The returned object is going to be printed\n    return [b\"Hello World\"]\n\nhttpd = make_server('', 8000, hello_world_app)\nprint(\"Serving on port 8000...\")\n\n# Serve until process is killed\nhttpd.serve_forever()\n```\n\nWith:\n\n```\ncurl -X POST http://localhost:8000/\n```\n\nWill cause the server to hang forever as long as the client keeps the connection open. \n1. the WSGI PEP's specify that `env['wsgi.input']` should be file like (i.e. have read/readline) (See PEP-3333)\n2. A server should allow read() to be called without an argument, and return the remainder of the client's input stream.\n3. A server should return empty bytestrings from any attempt to read from an empty or exhausted input stream.\n\nSee: https://www.python.org/dev/peps/pep-3333/#input-and-error-streams\n\nHowever, `wsgiref` will pass the underlying file descriptor for the socket the client is connected to through to `wsgi.input` in the `environ`.\n\nThis means when you call `.read()` without a `CONTENT_LENGTH`, which may happen if the client is using Chunked Encoding (and WebOb tries its best to support that), then you and up hanging forever. \n\nGood servers like waitress don't do this, and we can always call `read()` on `wsgi.input` without causing any issues, however it's not guaranteed.\n# Proposal\n## Choice number One (arguably the most correct choice)\n\nCurrently WebOb tries to be too smart for it's own good and that gets it into trouble...\n\nI'd like to turn back the clock, remove any and all support for Chunked Encoding **unless** there is a flag in the environment that states it is supported. #278 is one such proposal. `mod_wsgi` has another way, potentially add some helper functions that find/validate the environment is right and then automatically enable Chunked Encoding. However if the server doesn't support it, then Chunked Encoding is completely dropped and the only way that WebOb will read from `wsgi.input` will be if there is a `CONTENT_LENGTH` set in the environment.\n\nThere have been previous reported issues with wsgiref's WSGI implementation:\n#233, #116\n## Choice number Two\n\nWe completely ignore `wsgiref`, remove the limitations that were added in https://bitbucket.org/ianb/webob/issues/6 (https://github.com/Pylons/webob/commit/ee7f027e25418d3de99f7da9cdfe91306a0a87da) and simply call `.read()` unconditionally if there is no `CONTENT_LENGTH` to limit us to.\n\nI don't know of a good way of verifying if we are running under `wsgiref` or not to warn users of WebOb though.\n# Issues\n\nChunked encoding is apparently being used more and more by mobile clients, versus your run off the mill browser, but I imagine it has other uses too. While I am loathe to remove support for something, I do believe it should be better implemented. I'd like to allow a request body on all request methods (spec says it's allowed, just doesn't have any defined semantics) but I don't want to break WebOb on servers that don't implement PEP-3333 fully.\n\nWhile `wsgiref` is the easiest to point out as being faulty, I am not sure choice number two is a good idea simple because there may be other WSGI servers that are not spec compliant...\n\nI'd love feedback on this, and ideas on how to move this forward.\n\n---\n\nRelated: #274, #233, #116, #278 \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/278", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/278/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/278/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/278/events", "html_url": "https://github.com/Pylons/webob/issues/278", "id": 178530892, "node_id": "MDU6SXNzdWUxNzg1MzA4OTI=", "number": 278, "title": "Review and possibly implement wsgi.input_terminated", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-22T06:17:27Z", "updated_at": "2017-11-20T22:07:57Z", "closed_at": "2017-11-20T22:07:57Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://gist.github.com/mitsuhiko/5721547 and https://gist.github.com/mitsuhiko/5721107\n\nThis may be the sanest way to deal with chunked encoding in WebOb rather than the mess we have right now. \n\nAlso look into mod_wsgi's chunked encoding support and see what flags if any it sets.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/277", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/277/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/277/events", "html_url": "https://github.com/Pylons/webob/issues/277", "id": 178519314, "node_id": "MDU6SXNzdWUxNzg1MTkzMTQ=", "number": 277, "title": "Flip if PY3/else (PY2) statements", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-09-22T04:26:30Z", "updated_at": "2017-05-23T17:35:40Z", "closed_at": "2017-05-23T17:35:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We want to execute the stuff on PY2 when we are running on PY2, otherwise always run the newer code. This way we don't start failing when Python 4 comes around.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/276", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/276/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/276/events", "html_url": "https://github.com/Pylons/webob/issues/276", "id": 177934610, "node_id": "MDU6SXNzdWUxNzc5MzQ2MTA=", "number": 276, "title": "Deprecate FakeCGIBody", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 0, "created_at": "2016-09-20T00:42:16Z", "updated_at": "2016-09-30T06:07:42Z", "closed_at": "2016-09-30T06:07:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It's time to deprecate and remove `FakeCGIBody` in the near future.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/275", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/275/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/275/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/275/events", "html_url": "https://github.com/Pylons/webob/issues/275", "id": 177934433, "node_id": "MDU6SXNzdWUxNzc5MzQ0MzM=", "number": 275, "title": "Update comment", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-09-20T00:40:42Z", "updated_at": "2016-09-30T05:42:05Z", "closed_at": "2016-09-30T05:42:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://github.com/Pylons/webob/blob/master/webob/request.py#L901\n\nWebOb no longer uses FakeCGIBody.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/271", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/271/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/271/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/271/events", "html_url": "https://github.com/Pylons/webob/issues/271", "id": 171789229, "node_id": "MDU6SXNzdWUxNzE3ODkyMjk=", "number": 271, "title": "Add default_body_encoding to Response", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-08-18T00:08:00Z", "updated_at": "2016-10-01T03:51:07Z", "closed_at": "2016-10-01T03:51:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Add a new default_body_encoding, this is used for .text if there is no charset for the content-type.\n\nThis is a backwards incompatible change that breaks the assumption that setting .text on a binary content-type will raise an error.\n\nThis will allow a user to also change the default_body_encoding on the fly before setting the body using .text, thereby allowing the encoding to happen to whatever they wish.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/265", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/265/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/265/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/265/events", "html_url": "https://github.com/Pylons/webob/issues/265", "id": 166819060, "node_id": "MDU6SXNzdWUxNjY4MTkwNjA=", "number": 265, "title": "URL is encoded automatically", "user": {"login": "vinaybond", "id": 7723948, "node_id": "MDQ6VXNlcjc3MjM5NDg=", "avatar_url": "https://avatars0.githubusercontent.com/u/7723948?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vinaybond", "html_url": "https://github.com/vinaybond", "followers_url": "https://api.github.com/users/vinaybond/followers", "following_url": "https://api.github.com/users/vinaybond/following{/other_user}", "gists_url": "https://api.github.com/users/vinaybond/gists{/gist_id}", "starred_url": "https://api.github.com/users/vinaybond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vinaybond/subscriptions", "organizations_url": "https://api.github.com/users/vinaybond/orgs", "repos_url": "https://api.github.com/users/vinaybond/repos", "events_url": "https://api.github.com/users/vinaybond/events{/privacy}", "received_events_url": "https://api.github.com/users/vinaybond/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-07-21T13:27:42Z", "updated_at": "2016-07-21T17:28:16Z", "closed_at": "2016-07-21T17:28:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using roborframework-httplibrary which internally uses webtest and webob. During my test I found that the URL is automatically getting encoded.\n\nAfter some troubleshooting, I found that in **webob/request.py**, there is a methods \"blank\" which contains line like this:\n`obj = cls(env, **kw)\n`\nURL is encoded by that cls. Not sure what that cls() method does. \n\nAny help is appreciated here.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/256", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/256/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/256/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/256/events", "html_url": "https://github.com/Pylons/webob/issues/256", "id": 161052142, "node_id": "MDU6SXNzdWUxNjEwNTIxNDI=", "number": 256, "title": "AcceptLanguage _match leads best_match to ignore specificity", "user": {"login": "TropicalPenguin", "id": 11578939, "node_id": "MDQ6VXNlcjExNTc4OTM5", "avatar_url": "https://avatars3.githubusercontent.com/u/11578939?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TropicalPenguin", "html_url": "https://github.com/TropicalPenguin", "followers_url": "https://api.github.com/users/TropicalPenguin/followers", "following_url": "https://api.github.com/users/TropicalPenguin/following{/other_user}", "gists_url": "https://api.github.com/users/TropicalPenguin/gists{/gist_id}", "starred_url": "https://api.github.com/users/TropicalPenguin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TropicalPenguin/subscriptions", "organizations_url": "https://api.github.com/users/TropicalPenguin/orgs", "repos_url": "https://api.github.com/users/TropicalPenguin/repos", "events_url": "https://api.github.com/users/TropicalPenguin/events{/privacy}", "received_events_url": "https://api.github.com/users/TropicalPenguin/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51474679, "node_id": "MDU6TGFiZWw1MTQ3NDY3OQ==", "url": "https://api.github.com/repos/Pylons/webob/labels/sprintable", "name": "sprintable", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 19, "created_at": "2016-06-19T01:51:12Z", "updated_at": "2017-09-01T08:21:06Z", "closed_at": "2017-09-01T08:21:06Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello,\n\nIf best_match is passed:\n\n``` python\noffers=['en', 'en-GB'] # Order important\n```\n\nand there is an 'en-GB' mask with quality 1, and an 'en' mask with quality 0.8, then 'en' will be considered the best match with 'en-GB', due to:\n\n``` python\nor item == mask.split('-')[0] # From AcceptLanguage._match()\n```\n\nSo I suspect there needs to be some tiebreaking logic specific to languages, to replace:\n\n``` python\n# 'text/plain' overrides 'message/*' overrides '*/*'\n# (if all match w/ the same q=)\nif matched_by.count('*') <= mask.count('*'):\n    continue\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/254", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/254/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/254/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/254/events", "html_url": "https://github.com/Pylons/webob/issues/254", "id": 158464544, "node_id": "MDU6SXNzdWUxNTg0NjQ1NDQ=", "number": 254, "title": "Request.set_cookie(expires) requires a UTC datetime but doesn't document this", "user": {"login": "dobesv", "id": 327833, "node_id": "MDQ6VXNlcjMyNzgzMw==", "avatar_url": "https://avatars2.githubusercontent.com/u/327833?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dobesv", "html_url": "https://github.com/dobesv", "followers_url": "https://api.github.com/users/dobesv/followers", "following_url": "https://api.github.com/users/dobesv/following{/other_user}", "gists_url": "https://api.github.com/users/dobesv/gists{/gist_id}", "starred_url": "https://api.github.com/users/dobesv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dobesv/subscriptions", "organizations_url": "https://api.github.com/users/dobesv/orgs", "repos_url": "https://api.github.com/users/dobesv/repos", "events_url": "https://api.github.com/users/dobesv/events{/privacy}", "received_events_url": "https://api.github.com/users/dobesv/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 272549541, "node_id": "MDU6TGFiZWwyNzI1NDk1NDE=", "url": "https://api.github.com/repos/Pylons/webob/labels/backport", "name": "backport", "color": "e11d21", "default": false, "description": null}, {"id": 51474679, "node_id": "MDU6TGFiZWw1MTQ3NDY3OQ==", "url": "https://api.github.com/repos/Pylons/webob/labels/sprintable", "name": "sprintable", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 2, "created_at": "2016-06-03T22:13:51Z", "updated_at": "2016-11-18T22:04:08Z", "closed_at": "2016-11-18T22:04:08Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently `Response.set_cookie` will accept a `datetime` instance to specify the time at which the cookie should expire.\n\nHowever, this `datetime` instance is expected to be a `utc` datetime, for example `datetime.utcnow() + timedelta(seconds=3600)`, not a local datetime like `datetime.now() + timedelta(seconds=3600)`.\n\nAlso, the provided `datetime` instance must NOT be timezone-aware or you will get an error.  For example passing `datetime.utcnow(tz=pytz.utc) + timedelta(seconds=3600)`.\n\nIf callers are not aware of these requirements, their application might fail unexpectedly if the app moves between time zones.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/251", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/251/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/251/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/251/events", "html_url": "https://github.com/Pylons/webob/issues/251", "id": 155870061, "node_id": "MDU6SXNzdWUxNTU4NzAwNjE=", "number": 251, "title": "BP(1.6): webob.Response.from_file parsing failure", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/5", "html_url": "https://github.com/Pylons/webob/milestone/5", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/5/labels", "id": 1664325, "node_id": "MDk6TWlsZXN0b25lMTY2NDMyNQ==", "number": 5, "title": "1.6.1", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2016-03-24T17:08:33Z", "updated_at": "2016-05-20T16:59:32Z", "due_on": null, "closed_at": "2016-05-20T16:59:32Z"}, "comments": 1, "created_at": "2016-05-20T01:32:16Z", "updated_at": "2016-05-20T16:51:07Z", "closed_at": "2016-05-20T16:51:05Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Backport #250 fixes.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/250", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/250/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/250/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/250/events", "html_url": "https://github.com/Pylons/webob/issues/250", "id": 155823364, "node_id": "MDU6SXNzdWUxNTU4MjMzNjQ=", "number": 250, "title": "webob.Response.from_file parsing failure", "user": {"login": "rtilder", "id": 250074, "node_id": "MDQ6VXNlcjI1MDA3NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/250074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rtilder", "html_url": "https://github.com/rtilder", "followers_url": "https://api.github.com/users/rtilder/followers", "following_url": "https://api.github.com/users/rtilder/following{/other_user}", "gists_url": "https://api.github.com/users/rtilder/gists{/gist_id}", "starred_url": "https://api.github.com/users/rtilder/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rtilder/subscriptions", "organizations_url": "https://api.github.com/users/rtilder/orgs", "repos_url": "https://api.github.com/users/rtilder/repos", "events_url": "https://api.github.com/users/rtilder/events{/privacy}", "received_events_url": "https://api.github.com/users/rtilder/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 272549872, "node_id": "MDU6TGFiZWwyNzI1NDk4NzI=", "url": "https://api.github.com/repos/Pylons/webob/labels/backport-complete", "name": "backport-complete", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 3, "created_at": "2016-05-19T20:07:46Z", "updated_at": "2016-05-20T16:51:18Z", "closed_at": "2016-05-20T01:30:28Z", "author_association": "NONE", "active_lock_reason": null, "body": "webob.Request's from_file method seems have to an incorrect call to str.split()\n\n```\n    import io, webob\n    s = \"HTTP/1.0 200 Ok\\nConnection: close\\n\\n\"\n    webob.Request.from_file(io.BytesIO(s))  # success\n    s = \"HTTP/1.0 404 Not Found\\nConnection: close\\n\\n\"\n    webob.Request.from_file(io.BytesIO(s))\n    Traceback (most recent call last):\n      File \"<stdin>\", line 1, in <module>\n      File \"/Users/rtilder/sandbox/horked_from_file/lib/python2.7/site-packages/webob/response.py\", line 179, in from_file\n        (http_ver, status_num, status_text) = status.split()\n    ValueError: too many values to unpack\n```\n\nRelevant code is [here](https://github.com/Pylons/webob/blame/master/webob/response.py#L179).  The existing code works just fine on a 200 response but not on the faux 404 \n\n`(http_ver, status_num, status_text) = status.split()`\n\nI suspect that this is inadvertent and that the following was probably intended.\n\n`(http_ver, status_num, status_text) = status.split(None, 2)`\n\nI was a little surprised I ran into this until I realized that parsing HTTP responses is probably not a terribly common use case.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/248", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/248/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/248/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/248/events", "html_url": "https://github.com/Pylons/webob/issues/248", "id": 149679248, "node_id": "MDU6SXNzdWUxNDk2NzkyNDg=", "number": 248, "title": "Response header \"Location\" should use urlencode", "user": {"login": "wosc", "id": 577891, "node_id": "MDQ6VXNlcjU3Nzg5MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/577891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wosc", "html_url": "https://github.com/wosc", "followers_url": "https://api.github.com/users/wosc/followers", "following_url": "https://api.github.com/users/wosc/following{/other_user}", "gists_url": "https://api.github.com/users/wosc/gists{/gist_id}", "starred_url": "https://api.github.com/users/wosc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wosc/subscriptions", "organizations_url": "https://api.github.com/users/wosc/orgs", "repos_url": "https://api.github.com/users/wosc/repos", "events_url": "https://api.github.com/users/wosc/events{/privacy}", "received_events_url": "https://api.github.com/users/wosc/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 416860139, "node_id": "MDU6TGFiZWw0MTY4NjAxMzk=", "url": "https://api.github.com/repos/Pylons/webob/labels/feature", "name": "feature", "color": "5319e7", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-04-20T07:09:49Z", "updated_at": "2016-11-18T07:20:13Z", "closed_at": "2016-11-18T07:20:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "When you assign a unicode value to any response header, webob tries to encode it with latin-1 (https://github.com/Pylons/webob/blob/master/webob/descriptors.py#L145). But URLs often are utf-8 or worse, so that breaks when they are used in redirects in the `Location` header. If I'm reading the RFCs right (see e.g. https://stackoverflow.com/a/7654605), the `Location` header should use urlencode instead of latin-1.\n\nI'm willing to come up with a PR for this, but I'd like someone more knowledgeable to confirm that's the way to go first. :)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/246", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/246/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/246/events", "html_url": "https://github.com/Pylons/webob/issues/246", "id": 148919844, "node_id": "MDU6SXNzdWUxNDg5MTk4NDQ=", "number": 246, "title": "[experimental] Same-Site Cookies", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-04-17T05:15:20Z", "updated_at": "2017-05-22T20:45:58Z", "closed_at": "2017-05-22T20:45:58Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "https://tools.ietf.org/html/draft-west-first-party-cookies-07\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/244", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/244/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/244/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/244/events", "html_url": "https://github.com/Pylons/webob/issues/244", "id": 148594596, "node_id": "MDU6SXNzdWUxNDg1OTQ1OTY=", "number": 244, "title": "Drop Python 2.6 support", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 1, "created_at": "2016-04-15T08:29:10Z", "updated_at": "2016-07-05T17:28:55Z", "closed_at": "2016-07-05T17:28:55Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "WebOb in 1.7.0 will no longer support Python 2.6.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/240", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/240/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/240/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/240/events", "html_url": "https://github.com/Pylons/webob/issues/240", "id": 147930435, "node_id": "MDU6SXNzdWUxNDc5MzA0MzU=", "number": 240, "title": "WebOb's WSGIHTTPException should use MIMEAccept not Accept ", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 1, "created_at": "2016-04-13T02:40:27Z", "updated_at": "2016-06-02T22:25:48Z", "closed_at": "2016-06-02T22:25:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "MIMEAccept properly handles major/minor masks in an Accept header. Accept was never the right class to use for this since it doesn't handle the mask/offers properly.\n\nThis was introduced in https://github.com/Pylons/webob/pull/230 and WebOb 1.6.0\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/239", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/239/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/239/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/239/events", "html_url": "https://github.com/Pylons/webob/issues/239", "id": 147930084, "node_id": "MDU6SXNzdWUxNDc5MzAwODQ=", "number": 239, "title": "WebOb's MIMEAccept does follow standards for best_match(), but provides results that are less than satisfactory", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/5", "html_url": "https://github.com/Pylons/webob/milestone/5", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/5/labels", "id": 1664325, "node_id": "MDk6TWlsZXN0b25lMTY2NDMyNQ==", "number": 5, "title": "1.6.1", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2016-03-24T17:08:33Z", "updated_at": "2016-05-20T16:59:32Z", "due_on": null, "closed_at": "2016-05-20T16:59:32Z"}, "comments": 2, "created_at": "2016-04-13T02:37:46Z", "updated_at": "2016-04-14T07:19:32Z", "closed_at": "2016-04-14T07:19:32Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "So I just figured out that MIMEAccept in WebOb returns results that while valid according to the standard feel like they are off...\n\nAccept header:\n\n`application/json, text/html, */*;q=0.8`\n\nServer offers the following variants:\n\n`text/plain, text/html, application/json`\n\nCurrent `MIMEAccept.best_match()` will return `text/html`, even though `application/json` is preferred by the client since it is listed first. This is because we currently use the server variants as the definitive list.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/238", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/238/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/238/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/238/events", "html_url": "https://github.com/Pylons/webob/issues/238", "id": 144687796, "node_id": "MDU6SXNzdWUxNDQ2ODc3OTY=", "number": 238, "title": "Oddities due to having a default_content_type/charset", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 5, "created_at": "2016-03-30T18:56:05Z", "updated_at": "2016-07-30T04:30:42Z", "closed_at": "2016-07-30T03:15:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "There has been some discussion between myself and @mmerickel regarding `default_content_type`, and he rightfully requested a list of issues that we would want to see solved:\n# Problems that should be solved\n1. https://github.com/Pylons/webob/issues/204: We need some way of knowing whether the content_type has been changed by the user, or is using the `default_content_type` that was set upon `Response` object creation\n2. https://github.com/Pylons/webob/issues/130: Since the `default_content_type` is set to `text/html`, WebOb currently automatically adds a charset of UTF-8. Upon changing the `content_type` on the object, the charset is sticky and unless explicitly unset will continue to be set to UTF-8. This leads to `image/jpeg` with a charset of UTF-8 or `application/json` with a charset of UTF-8, both of which are nonsensical. For more information see discussion here: https://github.com/Pylons/webob/issues/237\n3. https://github.com/Pylons/webob/issues/205: Adding a `default_content_type` will sometimes do the wrong thing, specifically if the user uses `Request.get_response(app)` and the original app returns a response that doesn't contain a body, and thus shouldn't have a content-type\n\nThere is a quite a bit of code dedicated within WebOb itself to fixing up the content-type/charset at various points as required due to setting a default upon object instantiation, and there is lot of clean-up that should be done just to make things a little saner, and it should make the `Response` object smarter, and in some cases dumber by not trying to be as smart.\n# Solutions\n## Radical, and too far reaching\n\nI was personally a big fan of removing the `default_content_type` entirely, reverting back to what is documented. See https://github.com/Pylons/webob/issues/213.\n\nAt the same time this will be a major backwards incompatibility, and other Request/Response libraries such as werkzeug set the default content type to `text/plain`: https://github.com/pallets/werkzeug/blob/master/werkzeug/wrappers.py#L732 so this would be a huge departure from what has become the accepted norm since WebOb 1.2 and other similar libraries, and I have been talked out of it, not just by Michael but also by myself as I've had a chance to chew on it some more.\n\nSo this is out. Possibly changing it to match `text/plain` could make sense, so that a bare `Response('hello')` has a content-type of `text/plain` instead of `text/html`. I'd argue that the former is more correct, but we may well be stuck with the default we've got.\n## Possible Solutions to No. 1\n\nSolving 1 means we need some way of tracking changes to the `content_type`. At the moment this is difficult because it is a descriptor around a HTTP headers array, and it dynamically sets/fetches content-type header, so using a simple marker object doesn't work. This could be changed, so that the content-type is special cased, however there is still the issue of the user bypassing the descriptor and instead setting the header directly, and now the descriptor gets out of sync, so logic would need to be employed to keep the two in sync.\n\nThis would allow then adding an API of `content_type_changed` or something along those lines that simply checks and sees if the `content_type` is the marker interface and if so it returns False.\n## Possible Solutions to No. 2\n\nInstead of adding smarts to WebOb, we should only set the charset to UTF-8 by default on `text/html` and `text/plain` responses. This list may grow one or two more, but we want to define the bare minimum. If there is any other `content_type` it is a requirement that the user adds the charset themselves. This way upon the `content_type` being changed, we simply drop whatever charset is set.\n\nAny users that explicitly reset charset after setting the content-type would be unaffected, and those that are not resetting the charset now won't accidentally send the charset along with the content-type unnecessarily thereby possibly breaking rendering. Many different media types don't support optional or required parameters for the content-type header.\n## Possible Solutions to No. 3\n\nWhen creating a new `Response` object from `Request.get_response` we should disable almost all \"defaults\" processing that currently happens. This way we can be sure to represent the response from the application as best as possible.\n\n---\n\nI still personally think that having a `Response` object with a `default_content_type` is bad, but I much prefer to be explicit when I am creating responses rather than allowing for defaults, but we have it now, so not much we can do about it.\n\n---\n\nI'd love to have some discussion as to what the appropriate actions should be, please add to the discussion below.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/237", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/237/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/237/events", "html_url": "https://github.com/Pylons/webob/issues/237", "id": 143304382, "node_id": "MDU6SXNzdWUxNDMzMDQzODI=", "number": 237, "title": "Remove charset from WebOb JSON exceptions", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51474679, "node_id": "MDU6TGFiZWw1MTQ3NDY3OQ==", "url": "https://api.github.com/repos/Pylons/webob/labels/sprintable", "name": "sprintable", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 6, "created_at": "2016-03-24T17:08:24Z", "updated_at": "2016-07-30T08:11:39Z", "closed_at": "2016-07-30T08:11:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Related to https://github.com/Pylons/webob/issues/236\n\nWe need to make sure to remove the charset from any WebOb exceptions that return JSON.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/236", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/236/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/236/events", "html_url": "https://github.com/Pylons/webob/issues/236", "id": 143304213, "node_id": "MDU6SXNzdWUxNDMzMDQyMTM=", "number": 236, "title": "Why did we remove charset from JSON responses?", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51474679, "node_id": "MDU6TGFiZWw1MTQ3NDY3OQ==", "url": "https://api.github.com/repos/Pylons/webob/labels/sprintable", "name": "sprintable", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/7", "html_url": "https://github.com/Pylons/webob/milestone/7", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/7/labels", "id": 1779315, "node_id": "MDk6TWlsZXN0b25lMTc3OTMxNQ==", "number": 7, "title": "1.6.2", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2016-05-20T16:58:30Z", "updated_at": "2016-10-26T01:37:10Z", "due_on": null, "closed_at": "2016-10-26T01:37:10Z"}, "comments": 2, "created_at": "2016-03-24T17:07:47Z", "updated_at": "2016-07-30T08:17:09Z", "closed_at": "2016-07-30T08:11:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See:  https://github.com/edx/XBlock/pull/338 and https://github.com/Pylons/webob/pull/197#issuecomment-200908897\n\nUpdate whatsnew-1.6 to include a better explanation.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/235", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/235/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/235/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/235/events", "html_url": "https://github.com/Pylons/webob/issues/235", "id": 141978890, "node_id": "MDU6SXNzdWUxNDE5Nzg4OTA=", "number": 235, "title": "webob 1.6.0 now returns json in exception body response", "user": {"login": "mriedem", "id": 3237936, "node_id": "MDQ6VXNlcjMyMzc5MzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/3237936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mriedem", "html_url": "https://github.com/mriedem", "followers_url": "https://api.github.com/users/mriedem/followers", "following_url": "https://api.github.com/users/mriedem/following{/other_user}", "gists_url": "https://api.github.com/users/mriedem/gists{/gist_id}", "starred_url": "https://api.github.com/users/mriedem/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mriedem/subscriptions", "organizations_url": "https://api.github.com/users/mriedem/orgs", "repos_url": "https://api.github.com/users/mriedem/repos", "events_url": "https://api.github.com/users/mriedem/events{/privacy}", "received_events_url": "https://api.github.com/users/mriedem/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 16, "created_at": "2016-03-18T21:11:52Z", "updated_at": "2016-03-29T21:33:10Z", "closed_at": "2016-03-29T21:33:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "This is due to https://github.com/Pylons/webob/pull/230.\n\nNoted in this OpenStack bug:\n\nhttps://bugs.launchpad.net/keystoneauth/+bug/1559072\n\nThere are a bunch of clients in openstack that were getting by with handling error response bodies like this:\n\nhttps://github.com/openstack/python-openstackclient/blob/2.2.0/openstackclient/common/exceptions.py#L125\n\nhttps://github.com/openstack/python-cinderclient/blob/master/cinderclient/exceptions.py#L183\n\nhttps://github.com/openstack/python-novaclient/blob/3.3.0/novaclient/exceptions.py#L298\n\nThe request was asking for json:\n\nDEBUG (session:248) REQ: curl -g -i -X GET http://10.0.1.3:8774/v1.1/b77d640e127e488fb42a7c0716ba53a5 -H \"User-Agent: python-novaclient\" -H \"Accept: application/json\" -H \"X-Auth-Token: {SHA1}381893576ad46c62b587f4963d769b89441b919a\"\n\nAnd now getting back json:\n\nDEBUG (session:277) RESP: [404] Date: Fri, 18 Mar 2016 12:41:59 GMT Connection: keep-alive Content-Type: application/json; charset=UTF-8 Content-Length: 112 X-Compute-Request-Id: req-f10a2016-9a88-48fd-af1d-5f800fc9e11a\nRESP BODY: {\"message\": \"The resource could not be found.<br /><br />\\n\\n\\n\", \"code\": \"404 Not Found\", \"title\": \"Not Found\"}\n\nSo this client code blows up now.\n\nAs pointed out in the discussion on pull request 230, this changes returning text/html to json, which is arguably the correct thing to do, but its is a backward incompatible change for clients.\n\nI'm only raising this issue to bring it up.  Maybe this should have been released as a major version 2.0 bump?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/233", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/233/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/233/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/233/events", "html_url": "https://github.com/Pylons/webob/issues/233", "id": 139390163, "node_id": "MDU6SXNzdWUxMzkzOTAxNjM=", "number": 233, "title": "Request.body hangs forever when no body is submitted", "user": {"login": "Sirtea", "id": 1325637, "node_id": "MDQ6VXNlcjEzMjU2Mzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1325637?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Sirtea", "html_url": "https://github.com/Sirtea", "followers_url": "https://api.github.com/users/Sirtea/followers", "following_url": "https://api.github.com/users/Sirtea/following{/other_user}", "gists_url": "https://api.github.com/users/Sirtea/gists{/gist_id}", "starred_url": "https://api.github.com/users/Sirtea/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Sirtea/subscriptions", "organizations_url": "https://api.github.com/users/Sirtea/orgs", "repos_url": "https://api.github.com/users/Sirtea/repos", "events_url": "https://api.github.com/users/Sirtea/events{/privacy}", "received_events_url": "https://api.github.com/users/Sirtea/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-03-08T20:52:58Z", "updated_at": "2016-03-21T18:56:28Z", "closed_at": "2016-03-20T19:16:49Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi all,\n\nI am making a really minimal API mongodb based. By chance, I have discovered a bug when reading request.body, that causes code to hang forever. I tried to reproduce the bare minimum to show the error, as stated here:\n\nThe application is really minimal, as follows (it has also a wsgiref.simple_server:make_server instance, but it's unimportant):\n\n``` python\nfrom webob.dec import wsgify\nfrom webob import Response\n\n@wsgify\ndef application(req):\n    print dict((key, value) for key, value in req.environ.iteritems() if key.startswith('CON'))\n    print repr(req.body)\n    return Response(body='Hello world\\n', content_type='text/plain', status=200)\n```\n\nAnd the \"API\" invocations is done via curl, as follows:\n\n``` bash\ngerard@sirius:~/projects/test$ curl -i -X POST http://localhost:8080/ --data ''\nHTTP/1.0 200 OK\nDate: Tue, 08 Mar 2016 20:33:48 GMT\nServer: WSGIServer/0.1 Python/2.7.9\nContent-Type: text/plain; charset=UTF-8\nContent-Length: 12\n\nHello world\ngerard@sirius:~/projects/test$ curl -i -X POST http://localhost:8080/\n(blocks forever)\n```\n\nDuring this two invocations, it's clear that reading req.body blocks everything, when CONTENT_LENGTH is '' instead of '0'.\n\n``` bash\ngerard@sirius:~/projects/test$ ./a.py \nListening on port 8080...\n{'CONTENT_LENGTH': '0', 'CONTENT_TYPE': 'application/x-www-form-urlencoded'}\n''\n127.0.0.1 - - [08/Mar/2016 21:33:48] \"POST / HTTP/1.1\" 200 12\n{'CONTENT_LENGTH': '', 'CONTENT_TYPE': 'text/plain'}\n(blocks forever)\n```\n\nI'm really worried about this because body is out of my reach, depending on my users' good faith.\n\nIf it helps, the only module involved is WebOb==1.5.1, pip'ed from pypi\n\nRegards\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/231", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/231/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/231/events", "html_url": "https://github.com/Pylons/webob/issues/231", "id": 136531733, "node_id": "MDU6SXNzdWUxMzY1MzE3MzM=", "number": 231, "title": "Request.authorization raises ValueError for unusual or malformed header values", "user": {"login": "lrowe", "id": 290859, "node_id": "MDQ6VXNlcjI5MDg1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/290859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lrowe", "html_url": "https://github.com/lrowe", "followers_url": "https://api.github.com/users/lrowe/followers", "following_url": "https://api.github.com/users/lrowe/following{/other_user}", "gists_url": "https://api.github.com/users/lrowe/gists{/gist_id}", "starred_url": "https://api.github.com/users/lrowe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lrowe/subscriptions", "organizations_url": "https://api.github.com/users/lrowe/orgs", "repos_url": "https://api.github.com/users/lrowe/repos", "events_url": "https://api.github.com/users/lrowe/events{/privacy}", "received_events_url": "https://api.github.com/users/lrowe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-02-25T22:29:45Z", "updated_at": "2017-05-22T22:52:03Z", "closed_at": "2017-05-22T22:52:03Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm seeing errors such as the following being logged in production:\n\n```\n  File \"xxx.py\", line 91, in xxx\n    if request.authorization is not None:\n  File \"eggs/WebOb-1.4.1-py3.4.egg/webob/descriptors.py\", line 164, in fget\n    return parse(hget(r))\n  File \"eggs/WebOb-1.4.1-py3.4.egg/webob/descriptors.py\", line 321, in parse_auth\n    authtype, params = val.split(' ', 1)\nValueError: need more than 1 value to unpack\n```\n\nI believe this is because the Authorization header is malformed (does not contain a space or is blank.) Raising a ValueError here means that application code must protect each access to Request.authorization with a try/except block. WebOb should probably handle such cases more elegantly.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/226", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/226/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/226/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/226/events", "html_url": "https://github.com/Pylons/webob/issues/226", "id": 118166319, "node_id": "MDU6SXNzdWUxMTgxNjYzMTk=", "number": 226, "title": "Add Pylons Project meta stuff", "user": {"login": "stevepiercy", "id": 102112, "node_id": "MDQ6VXNlcjEwMjExMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/102112?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stevepiercy", "html_url": "https://github.com/stevepiercy", "followers_url": "https://api.github.com/users/stevepiercy/followers", "following_url": "https://api.github.com/users/stevepiercy/following{/other_user}", "gists_url": "https://api.github.com/users/stevepiercy/gists{/gist_id}", "starred_url": "https://api.github.com/users/stevepiercy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stevepiercy/subscriptions", "organizations_url": "https://api.github.com/users/stevepiercy/orgs", "repos_url": "https://api.github.com/users/stevepiercy/repos", "events_url": "https://api.github.com/users/stevepiercy/events{/privacy}", "received_events_url": "https://api.github.com/users/stevepiercy/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-11-21T03:23:27Z", "updated_at": "2015-11-21T18:43:27Z", "closed_at": "2015-11-21T18:43:27Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Pyramid is the example that we usually follow. I suggest the following todos:\n- [x] Add a [contributing.md](https://help.github.com/articles/setting-guidelines-for-repository-contributors/). See [Pyramid's](https://github.com/Pylons/pyramid/blob/master/contributing.md)\n- [x] Add a CONTRIBUTORS.txt for signing.\n- [x] Verify that the license is the correct type. If not correct, then use [Pyramid's license].(https://github.com/Pylons/pyramid/blob/master/LICENSE.txt)\n\nI volunteer to make the PR, once it is determined what, if anything, should be done.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/224", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/224/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/224/events", "html_url": "https://github.com/Pylons/webob/issues/224", "id": 116567356, "node_id": "MDU6SXNzdWUxMTY1NjczNTY=", "number": 224, "title": "Homepage shouldn't say 0 issues exist", "user": {"login": "ismail-s", "id": 3778413, "node_id": "MDQ6VXNlcjM3Nzg0MTM=", "avatar_url": "https://avatars1.githubusercontent.com/u/3778413?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ismail-s", "html_url": "https://github.com/ismail-s", "followers_url": "https://api.github.com/users/ismail-s/followers", "following_url": "https://api.github.com/users/ismail-s/following{/other_user}", "gists_url": "https://api.github.com/users/ismail-s/gists{/gist_id}", "starred_url": "https://api.github.com/users/ismail-s/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ismail-s/subscriptions", "organizations_url": "https://api.github.com/users/ismail-s/orgs", "repos_url": "https://api.github.com/users/ismail-s/repos", "events_url": "https://api.github.com/users/ismail-s/events{/privacy}", "received_events_url": "https://api.github.com/users/ismail-s/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51474679, "node_id": "MDU6TGFiZWw1MTQ3NDY3OQ==", "url": "https://api.github.com/repos/Pylons/webob/labels/sprintable", "name": "sprintable", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-11-12T15:03:18Z", "updated_at": "2017-07-06T00:31:19Z", "closed_at": "2017-07-06T00:31:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "On the [project homepage](http://webob.org/), it says:\n\n```\nZero known issues (reported bugs are always fixed ASAP).\n```\n\nClearly this is no longer true and should be changed (or at least somehow linked to github).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/222", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/222/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/222/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/222/events", "html_url": "https://github.com/Pylons/webob/issues/222", "id": 114361681, "node_id": "MDU6SXNzdWUxMTQzNjE2ODE=", "number": 222, "title": "Backport #221 to 1.4-branch", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 272549872, "node_id": "MDU6TGFiZWwyNzI1NDk4NzI=", "url": "https://api.github.com/repos/Pylons/webob/labels/backport-complete", "name": "backport-complete", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/4", "html_url": "https://github.com/Pylons/webob/milestone/4", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/4/labels", "id": 1386242, "node_id": "MDk6TWlsZXN0b25lMTM4NjI0Mg==", "number": 4, "title": "Version 1.4.2", "description": "These are items that need to be back ported to the 1.4-branch.", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 1, "state": "closed", "created_at": "2015-10-30T21:46:49Z", "updated_at": "2015-10-30T22:15:47Z", "due_on": null, "closed_at": "2015-10-30T22:15:47Z"}, "comments": 0, "created_at": "2015-10-30T21:47:42Z", "updated_at": "2015-10-30T22:02:17Z", "closed_at": "2015-10-30T22:02:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Backport #221 to 1.4-branch\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/221", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/221/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/221/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/221/events", "html_url": "https://github.com/Pylons/webob/issues/221", "id": 113729133, "node_id": "MDU6SXNzdWUxMTM3MjkxMzM=", "number": 221, "title": "bugs in exc.py", "user": {"login": "huangzhw", "id": 3366133, "node_id": "MDQ6VXNlcjMzNjYxMzM=", "avatar_url": "https://avatars2.githubusercontent.com/u/3366133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huangzhw", "html_url": "https://github.com/huangzhw", "followers_url": "https://api.github.com/users/huangzhw/followers", "following_url": "https://api.github.com/users/huangzhw/following{/other_user}", "gists_url": "https://api.github.com/users/huangzhw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huangzhw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huangzhw/subscriptions", "organizations_url": "https://api.github.com/users/huangzhw/orgs", "repos_url": "https://api.github.com/users/huangzhw/repos", "events_url": "https://api.github.com/users/huangzhw/events{/privacy}", "received_events_url": "https://api.github.com/users/huangzhw/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 272549872, "node_id": "MDU6TGFiZWwyNzI1NDk4NzI=", "url": "https://api.github.com/repos/Pylons/webob/labels/backport-complete", "name": "backport-complete", "color": "0052cc", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/3", "html_url": "https://github.com/Pylons/webob/milestone/3", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/3/labels", "id": 1353619, "node_id": "MDk6TWlsZXN0b25lMTM1MzYxOQ==", "number": 3, "title": "Version 1.5.1", "description": "The next minor version of WebOb.", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 2, "state": "closed", "created_at": "2015-10-13T17:12:58Z", "updated_at": "2015-10-30T22:15:49Z", "due_on": null, "closed_at": "2015-10-30T22:15:49Z"}, "comments": 1, "created_at": "2015-10-28T02:19:48Z", "updated_at": "2015-10-30T21:58:01Z", "closed_at": "2015-10-30T21:46:03Z", "author_association": "NONE", "active_lock_reason": null, "body": "in https://github.com/Pylons/webob/blob/master/webob/exc.py\n\nclass HTTPNotAcceptable(HTTPClientError) line 719, template=..., should it be body_template_obj=...\n\nclass HTTPUnsupportedMediaType(HTTPClientError) line 847, template_obj = ..., should it be body_template_obj=...\n\nbesides,\nclass HTTPNotImplemented(HTTPServerError): line 1029,  template=..., should it be body_template_obj=...\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/217", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/217/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/217/events", "html_url": "https://github.com/Pylons/webob/issues/217", "id": 110266767, "node_id": "MDU6SXNzdWUxMTAyNjY3Njc=", "number": 217, "title": "Possible HTTP Response Splitting Vulnerability", "user": {"login": "liquidworm", "id": 1657513, "node_id": "MDQ6VXNlcjE2NTc1MTM=", "avatar_url": "https://avatars0.githubusercontent.com/u/1657513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liquidworm", "html_url": "https://github.com/liquidworm", "followers_url": "https://api.github.com/users/liquidworm/followers", "following_url": "https://api.github.com/users/liquidworm/following{/other_user}", "gists_url": "https://api.github.com/users/liquidworm/gists{/gist_id}", "starred_url": "https://api.github.com/users/liquidworm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liquidworm/subscriptions", "organizations_url": "https://api.github.com/users/liquidworm/orgs", "repos_url": "https://api.github.com/users/liquidworm/repos", "events_url": "https://api.github.com/users/liquidworm/events{/privacy}", "received_events_url": "https://api.github.com/users/liquidworm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-10-07T16:36:55Z", "updated_at": "2016-01-03T07:27:12Z", "closed_at": "2016-01-03T07:27:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nPlease review the published advisory, probably it's in the API WebOb which is not documented here: http://docs.webob.org/en/latest/api/exceptions.html\n\nProbably there are other WebOb applications with similar issues.\n\nHere is the advisory: http://www.zeroscience.mk/en/vulnerabilities/ZSL-2015-5267.php\n\nThanks\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/216", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/216/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/216/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/216/events", "html_url": "https://github.com/Pylons/webob/issues/216", "id": 105253336, "node_id": "MDU6SXNzdWUxMDUyNTMzMzY=", "number": 216, "title": "WebOb needs to update the website to their new logo", "user": {"login": "sontek", "id": 151924, "node_id": "MDQ6VXNlcjE1MTkyNA==", "avatar_url": "https://avatars0.githubusercontent.com/u/151924?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sontek", "html_url": "https://github.com/sontek", "followers_url": "https://api.github.com/users/sontek/followers", "following_url": "https://api.github.com/users/sontek/following{/other_user}", "gists_url": "https://api.github.com/users/sontek/gists{/gist_id}", "starred_url": "https://api.github.com/users/sontek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sontek/subscriptions", "organizations_url": "https://api.github.com/users/sontek/orgs", "repos_url": "https://api.github.com/users/sontek/repos", "events_url": "https://api.github.com/users/sontek/events{/privacy}", "received_events_url": "https://api.github.com/users/sontek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-07T18:10:13Z", "updated_at": "2015-09-08T02:06:16Z", "closed_at": "2015-09-08T02:06:16Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "![webob_logo1](https://cloud.githubusercontent.com/assets/151924/9721539/ffeedc48-5550-11e5-8dfe-e8e030e5ea19.png)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/214", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/214/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/214/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/214/events", "html_url": "https://github.com/Pylons/webob/issues/214", "id": 101504907, "node_id": "MDU6SXNzdWUxMDE1MDQ5MDc=", "number": 214, "title": "Verify max_age is an integer or can be converted to one", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/1", "html_url": "https://github.com/Pylons/webob/milestone/1", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/1/labels", "id": 1033280, "node_id": "MDk6TWlsZXN0b25lMTAzMzI4MA==", "number": 1, "title": "Version 1.5", "description": "Bucket for all the things that should go into version 1.5 of WebOb.\r\n\r\nThings may be removed out of this bucket if necessary.", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2015-03-23T03:26:44Z", "updated_at": "2015-10-13T17:12:25Z", "due_on": null, "closed_at": "2015-10-13T17:12:25Z"}, "comments": 1, "created_at": "2015-08-17T20:35:22Z", "updated_at": "2015-10-11T23:08:41Z", "closed_at": "2015-10-11T23:08:41Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See: https://github.com/Pylons/pyramid/issues/1243#issuecomment-131897029\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/213", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/213/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/213/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/213/events", "html_url": "https://github.com/Pylons/webob/issues/213", "id": 101233007, "node_id": "MDU6SXNzdWUxMDEyMzMwMDc=", "number": 213, "title": "default_content_type does not match documented value", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 6, "created_at": "2015-08-16T04:20:19Z", "updated_at": "2016-07-30T04:31:37Z", "closed_at": "2016-07-09T23:13:40Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As it currently stands, `default_conten_type` is set to `text/html`, overtime this has become a thorn in the side of WebOb, as can be seen by the following ticket numbers: #205, #204, #130, #112 \n\nThere is an escape hatch however, in that the documentation clearly states:\n\n> The status defaults to '200 OK'. The **content_type does not default to anything, though if you subclass Response and set default_content_type you can override this behavior.**\n\n_Emphasis mine_\n\nNow, I have a bad feeling that if I change it back to match the documentation, it is going to break many different projects, however I can't be sure about that until I actually try it and start getting reports of what broke ;-)\n\nInput requested!\n\n/cc: @mcdonc, @tseaver, @mmerickel, @dstufft \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/212", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/212/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/212/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/212/events", "html_url": "https://github.com/Pylons/webob/issues/212", "id": 100725816, "node_id": "MDU6SXNzdWUxMDA3MjU4MTY=", "number": 212, "title": "WebOb >=1.5 'Set-Cookie' strings are not backwards compatible to 1.4", "user": {"login": "dakra", "id": 574659, "node_id": "MDQ6VXNlcjU3NDY1OQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/574659?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dakra", "html_url": "https://github.com/dakra", "followers_url": "https://api.github.com/users/dakra/followers", "following_url": "https://api.github.com/users/dakra/following{/other_user}", "gists_url": "https://api.github.com/users/dakra/gists{/gist_id}", "starred_url": "https://api.github.com/users/dakra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dakra/subscriptions", "organizations_url": "https://api.github.com/users/dakra/orgs", "repos_url": "https://api.github.com/users/dakra/repos", "events_url": "https://api.github.com/users/dakra/events{/privacy}", "received_events_url": "https://api.github.com/users/dakra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-08-13T09:45:26Z", "updated_at": "2015-08-14T09:40:31Z", "closed_at": "2015-08-13T15:59:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "I use WebOb in a pyramid app that sets an auth_tkt cookie.\nPre 1.5 it returns\n`Set-Cookie: auth_tkt=\"auth_token_here...!userid_type:int\"`\nbut in 1.5+ the quotes are gone:\n`Set-Cookie: auth_tkt=auth_token_here...!userid_type:int`\n\nNot sure if that's an bug or not but should at least be documented.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/211", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/211/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/211/events", "html_url": "https://github.com/Pylons/webob/issues/211", "id": 98460274, "node_id": "MDU6SXNzdWU5ODQ2MDI3NA==", "number": 211, "title": "Add license headers to source files.", "user": {"login": "philippebeaudoin", "id": 11399419, "node_id": "MDQ6VXNlcjExMzk5NDE5", "avatar_url": "https://avatars3.githubusercontent.com/u/11399419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/philippebeaudoin", "html_url": "https://github.com/philippebeaudoin", "followers_url": "https://api.github.com/users/philippebeaudoin/followers", "following_url": "https://api.github.com/users/philippebeaudoin/following{/other_user}", "gists_url": "https://api.github.com/users/philippebeaudoin/gists{/gist_id}", "starred_url": "https://api.github.com/users/philippebeaudoin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/philippebeaudoin/subscriptions", "organizations_url": "https://api.github.com/users/philippebeaudoin/orgs", "repos_url": "https://api.github.com/users/philippebeaudoin/repos", "events_url": "https://api.github.com/users/philippebeaudoin/events{/privacy}", "received_events_url": "https://api.github.com/users/philippebeaudoin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-31T19:53:40Z", "updated_at": "2015-08-01T06:35:02Z", "closed_at": "2015-08-01T06:35:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "Some chromium dependencies import this project and would require the presence of valid license headers in all source files.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/209", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/209/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/209/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/209/events", "html_url": "https://github.com/Pylons/webob/issues/209", "id": 97273781, "node_id": "MDU6SXNzdWU5NzI3Mzc4MQ==", "number": 209, "title": "Allow for JSON Exception Bodies", "user": {"login": "sigmavirus24", "id": 240830, "node_id": "MDQ6VXNlcjI0MDgzMA==", "avatar_url": "https://avatars3.githubusercontent.com/u/240830?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sigmavirus24", "html_url": "https://github.com/sigmavirus24", "followers_url": "https://api.github.com/users/sigmavirus24/followers", "following_url": "https://api.github.com/users/sigmavirus24/following{/other_user}", "gists_url": "https://api.github.com/users/sigmavirus24/gists{/gist_id}", "starred_url": "https://api.github.com/users/sigmavirus24/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sigmavirus24/subscriptions", "organizations_url": "https://api.github.com/users/sigmavirus24/orgs", "repos_url": "https://api.github.com/users/sigmavirus24/repos", "events_url": "https://api.github.com/users/sigmavirus24/events{/privacy}", "received_events_url": "https://api.github.com/users/sigmavirus24/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-26T01:39:28Z", "updated_at": "2016-01-24T08:04:39Z", "closed_at": "2016-01-24T08:04:39Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm currently working on several projects that provide a JSON API using WebOb. Currently, however, whenever we use a `webob.exc` exception to return an error to the user (e.g., `webob.exc.HTTPBadRequest`) the body of that message is always in a content-type other than what they're expecting (HTML if they don't specify an Accept header, plain-text otherwise). There doesn't seem to be a pleasant, convenient, or simple way to make it use JSON beyond something like (the untested) following code:\n\n``` py\nimport string\n\nimport webob.exc\n\n\nclass WSGIHTTPException(webob.exc.WSGIHTTPException):\n    body_template_obj = string.Template('{\"code\", ${status}, \"message\": \"${body}\", \"title\": \"${title}\"}'\n    plain_template_obj = string.Template('{\"error\": ${body}}')\n\n\nclass HTTPBadRequest(webob.exc.HTTPBadRequest, WSGIHTTPException):\n    pass\n\n\nclass HTTPUnauthored(webob.exc.HTTPBadRequest, WSGIHTTPException):\n    pass\n\n\n# etc.\n```\n\nThis is particularly problematic because we have to redefine all of the exceptions we want to use to doubly inherit from our new sub-classed `WSGIHTTPException` and the original. It also doesn't handle the fact that we have to basically copy and paste [generate_response](https://github.com/Pylons/webob/blob/7f98f694e7c1a569f53fb4085d084430ee8b2cc2/webob/exc.py#L302..L323) into our subclass so that we set the appropriate content-type header.\n\nIs it too much to ask to either:\n\nA) Add support for JSON response bodies in `WSGIHTTPException`s, or\nB) Make `WSGIHTTPException` slightly more modular so we can only override parts we need?\n\nThanks in advance,\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/205", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/205/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/205/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/205/events", "html_url": "https://github.com/Pylons/webob/issues/205", "id": 89292921, "node_id": "MDU6SXNzdWU4OTI5MjkyMQ==", "number": 205, "title": "Response object adding default_content_type is perhaps bad magic", "user": {"login": "cdent", "id": 34498, "node_id": "MDQ6VXNlcjM0NDk4", "avatar_url": "https://avatars3.githubusercontent.com/u/34498?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cdent", "html_url": "https://github.com/cdent", "followers_url": "https://api.github.com/users/cdent/followers", "following_url": "https://api.github.com/users/cdent/following{/other_user}", "gists_url": "https://api.github.com/users/cdent/gists{/gist_id}", "starred_url": "https://api.github.com/users/cdent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cdent/subscriptions", "organizations_url": "https://api.github.com/users/cdent/orgs", "repos_url": "https://api.github.com/users/cdent/repos", "events_url": "https://api.github.com/users/cdent/events{/privacy}", "received_events_url": "https://api.github.com/users/cdent/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/6", "html_url": "https://github.com/Pylons/webob/milestone/6", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/6/labels", "id": 1705314, "node_id": "MDk6TWlsZXN0b25lMTcwNTMxNA==", "number": 6, "title": "1.7.0", "description": "", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2016-04-14T07:29:01Z", "updated_at": "2018-04-05T02:18:01Z", "due_on": null, "closed_at": "2018-04-05T02:18:01Z"}, "comments": 7, "created_at": "2015-06-18T13:24:41Z", "updated_at": "2016-07-30T08:09:53Z", "closed_at": "2016-07-30T08:09:52Z", "author_association": "NONE", "active_lock_reason": null, "body": "If a response is 304 or 204 or any of the other varieties with no body, then there should be no `content-type` header. WebOb doesn't respect this and instead will set the header to the value of `Response.default_content_type`.\n\nObviously this can be worked around in the code that uses `Response` (by setting a different default) however it seems that the default default behavior is incorrect.\n\nWould it make sense to check `status` before choosing to use the `default_content_type`?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/202", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/202/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/202/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/202/events", "html_url": "https://github.com/Pylons/webob/issues/202", "id": 84696020, "node_id": "MDU6SXNzdWU4NDY5NjAyMA==", "number": 202, "title": "Docs still mention obsolete str_* properties", "user": {"login": "dairiki", "id": 495018, "node_id": "MDQ6VXNlcjQ5NTAxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/495018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dairiki", "html_url": "https://github.com/dairiki", "followers_url": "https://api.github.com/users/dairiki/followers", "following_url": "https://api.github.com/users/dairiki/following{/other_user}", "gists_url": "https://api.github.com/users/dairiki/gists{/gist_id}", "starred_url": "https://api.github.com/users/dairiki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dairiki/subscriptions", "organizations_url": "https://api.github.com/users/dairiki/orgs", "repos_url": "https://api.github.com/users/dairiki/repos", "events_url": "https://api.github.com/users/dairiki/events{/privacy}", "received_events_url": "https://api.github.com/users/dairiki/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-06-03T18:07:35Z", "updated_at": "2016-01-29T01:16:46Z", "closed_at": "2016-01-29T01:16:46Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The [unicode](https://github.com/Pylons/webob/blob/master/docs/index.txt#L175) section of the docs still mention the `str_`\\* properties.  These are obsolete and raise exceptions if an attempt is made to access them.\n\nActually, I have a suspicion that the whole _Unicode_ section is out of date.  From what I can tell, currently, most methods that return text strings mostly assume _utf8_ encoding (regardless of any encoding specified in `environ[CONTENT_TYPE]` (or `request.charset`).  (See also `request.decode()` and `request._check_charset()` and the [News for release 1.2a2](https://github.com/Pylons/webob/blob/9b79f5f913fb1f07c68102a2279ed757a2a9abf6/docs/news.txt#L372).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/201", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/201/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/201/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/201/events", "html_url": "https://github.com/Pylons/webob/issues/201", "id": 80711543, "node_id": "MDU6SXNzdWU4MDcxMTU0Mw==", "number": 201, "title": "The 1.4.1 release on pypi is 655kb", "user": {"login": "jamielennox", "id": 416057, "node_id": "MDQ6VXNlcjQxNjA1Nw==", "avatar_url": "https://avatars2.githubusercontent.com/u/416057?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamielennox", "html_url": "https://github.com/jamielennox", "followers_url": "https://api.github.com/users/jamielennox/followers", "following_url": "https://api.github.com/users/jamielennox/following{/other_user}", "gists_url": "https://api.github.com/users/jamielennox/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamielennox/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamielennox/subscriptions", "organizations_url": "https://api.github.com/users/jamielennox/orgs", "repos_url": "https://api.github.com/users/jamielennox/repos", "events_url": "https://api.github.com/users/jamielennox/events{/privacy}", "received_events_url": "https://api.github.com/users/jamielennox/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-05-25T23:53:50Z", "updated_at": "2015-06-01T05:20:27Z", "closed_at": "2015-06-01T04:35:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "For what is supposed to be a small library the pypi release is huge. https://pypi.python.org/pypi/WebOb/1.4.1\n\nThe source of this appears to be that a pyc file for py2x, py32, py33, py34 and pypy for each test file is packaged into the pypi download. \n\nFor future releases can we please strip out all the build artifacts. \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/200", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/200/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/200/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/200/events", "html_url": "https://github.com/Pylons/webob/issues/200", "id": 78432072, "node_id": "MDU6SXNzdWU3ODQzMjA3Mg==", "number": 200, "title": "Parameters included in a DELETE body request are not included in the parameters dictionary", "user": {"login": "Hunsu", "id": 6278443, "node_id": "MDQ6VXNlcjYyNzg0NDM=", "avatar_url": "https://avatars0.githubusercontent.com/u/6278443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Hunsu", "html_url": "https://github.com/Hunsu", "followers_url": "https://api.github.com/users/Hunsu/followers", "following_url": "https://api.github.com/users/Hunsu/following{/other_user}", "gists_url": "https://api.github.com/users/Hunsu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Hunsu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Hunsu/subscriptions", "organizations_url": "https://api.github.com/users/Hunsu/orgs", "repos_url": "https://api.github.com/users/Hunsu/repos", "events_url": "https://api.github.com/users/Hunsu/events{/privacy}", "received_events_url": "https://api.github.com/users/Hunsu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/1", "html_url": "https://github.com/Pylons/webob/milestone/1", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/1/labels", "id": 1033280, "node_id": "MDk6TWlsZXN0b25lMTAzMzI4MA==", "number": 1, "title": "Version 1.5", "description": "Bucket for all the things that should go into version 1.5 of WebOb.\r\n\r\nThings may be removed out of this bucket if necessary.", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2015-03-23T03:26:44Z", "updated_at": "2015-10-13T17:12:25Z", "due_on": null, "closed_at": "2015-10-13T17:12:25Z"}, "comments": 3, "created_at": "2015-05-20T08:39:43Z", "updated_at": "2015-06-01T13:26:51Z", "closed_at": "2015-06-01T04:58:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "Fix this issue: https://github.com/Pylons/pyramid/issues/1685\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/199", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/199/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/199/events", "html_url": "https://github.com/Pylons/webob/issues/199", "id": 71595460, "node_id": "MDU6SXNzdWU3MTU5NTQ2MA==", "number": 199, "title": "Read the docs news page is missing 1.4.1 release notes", "user": {"login": "edmorley", "id": 501702, "node_id": "MDQ6VXNlcjUwMTcwMg==", "avatar_url": "https://avatars3.githubusercontent.com/u/501702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edmorley", "html_url": "https://github.com/edmorley", "followers_url": "https://api.github.com/users/edmorley/followers", "following_url": "https://api.github.com/users/edmorley/following{/other_user}", "gists_url": "https://api.github.com/users/edmorley/gists{/gist_id}", "starred_url": "https://api.github.com/users/edmorley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edmorley/subscriptions", "organizations_url": "https://api.github.com/users/edmorley/orgs", "repos_url": "https://api.github.com/users/edmorley/repos", "events_url": "https://api.github.com/users/edmorley/events{/privacy}", "received_events_url": "https://api.github.com/users/edmorley/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-04-28T13:48:24Z", "updated_at": "2015-11-21T08:54:17Z", "closed_at": "2015-11-21T08:54:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "The v1.4.1 section is missing from http://docs.webob.org/en/latest/news.html\n\nLooks like it only landed on the 1.4 branch:\nhttps://github.com/Pylons/webob/commit/df93e867683a8e652f2e3e3659e1dfab1e35ff21\n\nAnd not on master:\nhttps://github.com/Pylons/webob/blob/master/docs/news.txt#L82\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/198", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/198/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/198/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/198/events", "html_url": "https://github.com/Pylons/webob/issues/198", "id": 71478070, "node_id": "MDU6SXNzdWU3MTQ3ODA3MA==", "number": 198, "title": "How do I know what version of webob I have installed?", "user": {"login": "Steven121", "id": 12147565, "node_id": "MDQ6VXNlcjEyMTQ3NTY1", "avatar_url": "https://avatars3.githubusercontent.com/u/12147565?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Steven121", "html_url": "https://github.com/Steven121", "followers_url": "https://api.github.com/users/Steven121/followers", "following_url": "https://api.github.com/users/Steven121/following{/other_user}", "gists_url": "https://api.github.com/users/Steven121/gists{/gist_id}", "starred_url": "https://api.github.com/users/Steven121/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Steven121/subscriptions", "organizations_url": "https://api.github.com/users/Steven121/orgs", "repos_url": "https://api.github.com/users/Steven121/repos", "events_url": "https://api.github.com/users/Steven121/events{/privacy}", "received_events_url": "https://api.github.com/users/Steven121/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-04-28T04:58:39Z", "updated_at": "2015-04-30T22:19:25Z", "closed_at": "2015-04-30T22:19:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "This command shows it is installed:\n$ whatis webob              \n\nHow do I find out what version of webob I have installed?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/196", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/196/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/196/events", "html_url": "https://github.com/Pylons/webob/issues/196", "id": 68516375, "node_id": "MDU6SXNzdWU2ODUxNjM3NQ==", "number": 196, "title": "JSON content shouldn't need a UTF-8 on the content-type", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-04-14T22:28:53Z", "updated_at": "2016-01-28T23:51:17Z", "closed_at": "2016-01-28T23:51:17Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Fix this issue: https://github.com/Pylons/pyramid/issues/1611#issuecomment-93073442\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/195", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/195/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/195/events", "html_url": "https://github.com/Pylons/webob/issues/195", "id": 68214013, "node_id": "MDU6SXNzdWU2ODIxNDAxMw==", "number": 195, "title": "UnicodeDecodeError within webob when parsing query strings with invalid URL encoded parameters", "user": {"login": "jkchin", "id": 6918173, "node_id": "MDQ6VXNlcjY5MTgxNzM=", "avatar_url": "https://avatars0.githubusercontent.com/u/6918173?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jkchin", "html_url": "https://github.com/jkchin", "followers_url": "https://api.github.com/users/jkchin/followers", "following_url": "https://api.github.com/users/jkchin/following{/other_user}", "gists_url": "https://api.github.com/users/jkchin/gists{/gist_id}", "starred_url": "https://api.github.com/users/jkchin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jkchin/subscriptions", "organizations_url": "https://api.github.com/users/jkchin/orgs", "repos_url": "https://api.github.com/users/jkchin/repos", "events_url": "https://api.github.com/users/jkchin/events{/privacy}", "received_events_url": "https://api.github.com/users/jkchin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2015-04-13T23:00:43Z", "updated_at": "2016-07-26T14:37:18Z", "closed_at": "2016-07-26T14:37:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "UnicodeDecodeError within webob when parsing query strings with invalid URL encoded parameters\nie \n\n```\ntest.com?debug=%FA  # %FA is an invalid utf-8 encoded string\n```\n\nTraceback:\n\n```\n  File \"/opt/webapp/test/local/lib/python2.7/site-packages/webob/request.py\", line 838, in GET\n    vars = GetDict(data, env)\n  File \"/opt/webapp/test/local/lib/python2.7/site-packages/webob/multidict.py\", line 287, in __init__\n    MultiDict.__init__(self, data)\n  File \"/opt/webapp/test/local/lib/python2.7/site-packages/webob/multidict.py\", line 38, in __init__\n    items = list(args[0])\n  File \"/opt/webapp/test/local/lib/python2.7/site-packages/webob/compat.py\", line 125, in parse_qsl_text\n    yield (x.decode(encoding), y.decode(encoding))\n  File \"/opt/webapp/test/lib/python2.7/encodings/utf_8.py\", line 16, in decode(input='\\xfa', errors='strict')\n    return codecs.utf_8_decode(input, errors, True)\nUnicodeDecodeError: 'utf8' codec can't decode byte 0xfa in position 0: invalid start byte\n\n    local variables:\n    - errors: 'strict'\n    - input: '\\xfa'\n```\n\nThis issue is more apparent if the URL is used as a template, and a user either programmatically fills the template URL or enters it by hand.\nFor example:\n\n```\ntest.com?n=[n_value]&dept=[dept_value]&t=[t_value]\n```\n\nIn our use case, we don't actually consume the custom query params, but rather redirect these query params to a final URL of choice for a different web application to consume. Hence we ideally want to keep the original query parameters even if we couldn't utf-8 decode them.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/186", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/186/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/186/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/186/events", "html_url": "https://github.com/Pylons/webob/issues/186", "id": 62794808, "node_id": "MDU6SXNzdWU2Mjc5NDgwOA==", "number": 186, "title": "Bug in parse_qsl_text", "user": {"login": "Natim", "id": 229453, "node_id": "MDQ6VXNlcjIyOTQ1Mw==", "avatar_url": "https://avatars3.githubusercontent.com/u/229453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Natim", "html_url": "https://github.com/Natim", "followers_url": "https://api.github.com/users/Natim/followers", "following_url": "https://api.github.com/users/Natim/following{/other_user}", "gists_url": "https://api.github.com/users/Natim/gists{/gist_id}", "starred_url": "https://api.github.com/users/Natim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Natim/subscriptions", "organizations_url": "https://api.github.com/users/Natim/orgs", "repos_url": "https://api.github.com/users/Natim/repos", "events_url": "https://api.github.com/users/Natim/events{/privacy}", "received_events_url": "https://api.github.com/users/Natim/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-03-18T20:44:59Z", "updated_at": "2015-03-19T00:23:30Z", "closed_at": "2015-03-19T00:22:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "If you look at the code here: https://github.com/Pylons/webob/blob/master/webob/compat.py#L103-L113\n\nYou will see something like:\n\n```\nqs = qs.encode('latin-1')\nfor value in qs.split('&'):\n    yield value.decode('utf-8')\n```\n\nThis is unlikely to work.\n\n```\n>>> '\u00a9'.encode('latin-1').decode('utf-8') \nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xa9 in position 0: invalid start byte\n```\n\nAny ideas?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/176", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/176/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/176/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/176/events", "html_url": "https://github.com/Pylons/webob/issues/176", "id": 49580472, "node_id": "MDU6SXNzdWU0OTU4MDQ3Mg==", "number": 176, "title": "concept of tweens", "user": {"login": "faassen", "id": 327472, "node_id": "MDQ6VXNlcjMyNzQ3Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/327472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/faassen", "html_url": "https://github.com/faassen", "followers_url": "https://api.github.com/users/faassen/followers", "following_url": "https://api.github.com/users/faassen/following{/other_user}", "gists_url": "https://api.github.com/users/faassen/gists{/gist_id}", "starred_url": "https://api.github.com/users/faassen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/faassen/subscriptions", "organizations_url": "https://api.github.com/users/faassen/orgs", "repos_url": "https://api.github.com/users/faassen/repos", "events_url": "https://api.github.com/users/faassen/events{/privacy}", "received_events_url": "https://api.github.com/users/faassen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-20T16:40:17Z", "updated_at": "2016-07-30T08:12:40Z", "closed_at": "2016-07-30T08:12:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd like us to introduce the concept of a \"tween\" to WebOb (as implemented by Pyramid; I also took that idea for Morepath). This because there are several useful tweens that WebOb could potentially include. The Forwarded tween implemented in pull request #175 is an example. \n\nA tween is a way to do middleware at the WebOb level. A tween is a function (or callable instance) that can wrap a function `handle(request) -> response`, thereby affecting the request and the response.\n\nIf we introduce this concept, we need general documentation that describes the concept. (I volunteer to write it).\n\nWe also need some guidelines. If we include a tween in WebOb, should we also include a WSGI middleware based on this tween, or is just the tween enough?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/171", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/171/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/171/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/171/events", "html_url": "https://github.com/Pylons/webob/issues/171", "id": 48191567, "node_id": "MDU6SXNzdWU0ODE5MTU2Nw==", "number": 171, "title": "Cookie value when using response.set_cookie() can be Unicode against spec", "user": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/1", "html_url": "https://github.com/Pylons/webob/milestone/1", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/1/labels", "id": 1033280, "node_id": "MDk6TWlsZXN0b25lMTAzMzI4MA==", "number": 1, "title": "Version 1.5", "description": "Bucket for all the things that should go into version 1.5 of WebOb.\r\n\r\nThings may be removed out of this bucket if necessary.", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2015-03-23T03:26:44Z", "updated_at": "2015-10-13T17:12:25Z", "due_on": null, "closed_at": "2015-10-13T17:12:25Z"}, "comments": 0, "created_at": "2014-11-09T05:28:01Z", "updated_at": "2015-04-04T03:54:02Z", "closed_at": "2015-04-04T03:54:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "In `test_response.py` we have the following tests:\n\nhttps://github.com/Pylons/webob/blob/master/tests/test_response.py#L112-115\nhttps://github.com/Pylons/webob/blob/master/tests/test_response.py#L686-690\n\nBoth of these set a cookie that contains a unicode value, however as my comment on issue #104: https://github.com/Pylons/webob/pull/104#issuecomment-28044314 shows this is not valid for a cookie value.\n\nI am working on refactoring `response.set_cookie()` because of issue #166 and changed it to use `cookies.make_cookie()` which does not allow setting unicode values, since it correctly follows the spec and tries to encode the values to `ascii`.\n\nI'm going to be breaking that feature in my next pull request, technically bringing WebOb inline with the RFC's, however I am unsure of how many things this will break, so the question is if we want to have a depreciation time.\n\nSome suggestions: we can uri encode the value, which would bring the cookie value into spec, and this is recommended by some stackoverflow posts on the subject.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/169", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/169/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/169/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/169/events", "html_url": "https://github.com/Pylons/webob/issues/169", "id": 47818046, "node_id": "MDU6SXNzdWU0NzgxODA0Ng==", "number": 169, "title": "HTTPUnprocessableEntity 422 not only for WebDAV", "user": {"login": "faassen", "id": 327472, "node_id": "MDQ6VXNlcjMyNzQ3Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/327472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/faassen", "html_url": "https://github.com/faassen", "followers_url": "https://api.github.com/users/faassen/followers", "following_url": "https://api.github.com/users/faassen/following{/other_user}", "gists_url": "https://api.github.com/users/faassen/gists{/gist_id}", "starred_url": "https://api.github.com/users/faassen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/faassen/subscriptions", "organizations_url": "https://api.github.com/users/faassen/orgs", "repos_url": "https://api.github.com/users/faassen/repos", "events_url": "https://api.github.com/users/faassen/events{/privacy}", "received_events_url": "https://api.github.com/users/faassen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-05T09:56:32Z", "updated_at": "2014-11-10T16:02:49Z", "closed_at": "2014-11-10T15:59:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "While WebDAV originally defined HTTPUnprocessableEntity (422), it's a general HTTP error that is useful in its own right. But its docstring says \"only for WebDAV\". I propose that text be removed (possibly also for the other ones). It could be replaced by a reference to the WebDAV RFC which defines it:\n\nhttp://tools.ietf.org/html/rfc4918#section-11\n\nYou'd use it if someone submitted well-formed content (for instance JSON that can be parsed) but that isn't of the right kind (there's a missing property, say). That distinguishes it from Bad Request (400), which is also often used for this. 400 should really only be raised when the content can actually not be parsed.\n\nSome evidence for it:\n\nhttps://stackoverflow.com/questions/16133923/400-vs-422-response-to-post-of-data\n\n(see the last bit of the first answer for a response to the \"but it's WebDAV\" objection)\n\nhttp://www.bennadel.com/blog/2434-http-status-codes-for-invalid-data-400-vs-422.htm\n\nhttp://restpatterns.org/HTTP_Status_Codes/422_-_Unprocessable_Entity\n\nThe github API uses 422:\n\nhttps://developer.github.com/v3/\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/168", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/168/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/168/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/168/events", "html_url": "https://github.com/Pylons/webob/issues/168", "id": 47817388, "node_id": "MDU6SXNzdWU0NzgxNzM4OA==", "number": 168, "title": "api documentation for webob.exc", "user": {"login": "faassen", "id": 327472, "node_id": "MDQ6VXNlcjMyNzQ3Mg==", "avatar_url": "https://avatars0.githubusercontent.com/u/327472?v=4", "gravatar_id": "", "url": "https://api.github.com/users/faassen", "html_url": "https://github.com/faassen", "followers_url": "https://api.github.com/users/faassen/followers", "following_url": "https://api.github.com/users/faassen/following{/other_user}", "gists_url": "https://api.github.com/users/faassen/gists{/gist_id}", "starred_url": "https://api.github.com/users/faassen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/faassen/subscriptions", "organizations_url": "https://api.github.com/users/faassen/orgs", "repos_url": "https://api.github.com/users/faassen/repos", "events_url": "https://api.github.com/users/faassen/events{/privacy}", "received_events_url": "https://api.github.com/users/faassen/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-11-05T09:48:48Z", "updated_at": "2014-11-10T16:00:14Z", "closed_at": "2014-11-10T16:00:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Unless it's very well hidden, I have a hard time finding the API documentation for webob.exc on the webob.org website. There's some reference to the paste documentation, but that's incomplete (webob.exc defines more exceptions). There are docstrings documenting webob.exc, though. Could they be published?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/166", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/166/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/166/events", "html_url": "https://github.com/Pylons/webob/issues/166", "id": 47747980, "node_id": "MDU6SXNzdWU0Nzc0Nzk4MA==", "number": 166, "title": "Set cookie incorrectly handles timedelta `expires` argument", "user": {"login": "luhn", "id": 1570245, "node_id": "MDQ6VXNlcjE1NzAyNDU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1570245?v=4", "gravatar_id": "", "url": "https://api.github.com/users/luhn", "html_url": "https://github.com/luhn", "followers_url": "https://api.github.com/users/luhn/followers", "following_url": "https://api.github.com/users/luhn/following{/other_user}", "gists_url": "https://api.github.com/users/luhn/gists{/gist_id}", "starred_url": "https://api.github.com/users/luhn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/luhn/subscriptions", "organizations_url": "https://api.github.com/users/luhn/orgs", "repos_url": "https://api.github.com/users/luhn/repos", "events_url": "https://api.github.com/users/luhn/events{/privacy}", "received_events_url": "https://api.github.com/users/luhn/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-04T18:31:38Z", "updated_at": "2015-04-04T03:53:40Z", "closed_at": "2015-04-04T03:53:40Z", "author_association": "NONE", "active_lock_reason": null, "body": "`Response.set_cookie` is documented to have an `expires` argument that's a `datetime.timedelta` type.  However, if `max_age` is `None`, a `datetime.timedelta` type will result in an error: `TypeError: unsupported operand type(s) for -: 'datetime.timedelta' and 'datetime.datetime'`.  The guilty line is 778 in `response.py`:\n\n```\n        elif max_age is None and expires is not None:\n            max_age = expires - datetime.utcnow()\n```\n\nThis is WebOb 1.4.\n\nA workaround is to use a `datetime.datetime`, which, although undocumented, works fine.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/164", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/164/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/164/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/164/events", "html_url": "https://github.com/Pylons/webob/issues/164", "id": 45006071, "node_id": "MDU6SXNzdWU0NTAwNjA3MQ==", "number": 164, "title": "url quote/unquote with python 3 broken", "user": {"login": "sileht", "id": 200878, "node_id": "MDQ6VXNlcjIwMDg3OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/200878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sileht", "html_url": "https://github.com/sileht", "followers_url": "https://api.github.com/users/sileht/followers", "following_url": "https://api.github.com/users/sileht/following{/other_user}", "gists_url": "https://api.github.com/users/sileht/gists{/gist_id}", "starred_url": "https://api.github.com/users/sileht/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sileht/subscriptions", "organizations_url": "https://api.github.com/users/sileht/orgs", "repos_url": "https://api.github.com/users/sileht/repos", "events_url": "https://api.github.com/users/sileht/events{/privacy}", "received_events_url": "https://api.github.com/users/sileht/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-10-06T16:47:07Z", "updated_at": "2019-11-14T14:13:18Z", "closed_at": "2019-11-14T14:13:18Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi,\n\nI have some trouble with th url handling of webob in python 3, after some investigation, it seems\nthat the issue is localed in webob.compat.url_unquote\n\nA simple testcase to reproduce the issue that works in python 2 but not in python 3:\n\n``` python\nclass urlquote_Tests(unittest.TestCase):\n    def test_url_unquote(self):\n        from webob.compat import url_quote\n        from webob.compat import url_unquote\n        url = 'http://localhost/foo\\xe2\\x88\\xa7bar/'\n        val = url_unquote(url_quote(url))\n        self.assertEqual(url, val)\n```\n\nRegards,\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/158", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/158/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/158/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/158/events", "html_url": "https://github.com/Pylons/webob/issues/158", "id": 43406340, "node_id": "MDU6SXNzdWU0MzQwNjM0MA==", "number": 158, "title": "BWS around auth-params equal sign is not parsed correctly", "user": {"login": "lieryan", "id": 1006989, "node_id": "MDQ6VXNlcjEwMDY5ODk=", "avatar_url": "https://avatars3.githubusercontent.com/u/1006989?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lieryan", "html_url": "https://github.com/lieryan", "followers_url": "https://api.github.com/users/lieryan/followers", "following_url": "https://api.github.com/users/lieryan/following{/other_user}", "gists_url": "https://api.github.com/users/lieryan/gists{/gist_id}", "starred_url": "https://api.github.com/users/lieryan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lieryan/subscriptions", "organizations_url": "https://api.github.com/users/lieryan/orgs", "repos_url": "https://api.github.com/users/lieryan/repos", "events_url": "https://api.github.com/users/lieryan/events{/privacy}", "received_events_url": "https://api.github.com/users/lieryan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-09-22T06:05:05Z", "updated_at": "2015-04-04T02:50:47Z", "closed_at": "2015-04-04T02:50:47Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "[The syntax for auth-param of an Authorization header according to RFC 7235 Section 2.1](http://tools.ietf.org/html/rfc7235#section-2.1) is:\n\n```\nauth-param     = token BWS \"=\" BWS ( token / quoted-string )\n```\n\nand that [recipient MUST parse for such bad whitespace and remove it before interpreting the protocol element](http://tools.ietf.org/html/rfc7230#section-3.2.3).\n\nHowever webob doesn't remove the BWS (bad whitespace) around the equal sign:\n\n```\nIn [1]: parse_auth_params('a= \"2\", b=3 , c =4')\nOut[1]: {'a': ' \"2', 'b': '3 '}\n```\n\nExpected behavior:\n\n```\nIn [2]: parse_auth_params('a= \"2\", b=3 , c =4')\nOut[2]: {'a': '2', 'b': '3', 'c': '4'}\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/157", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/157/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/157/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/157/events", "html_url": "https://github.com/Pylons/webob/issues/157", "id": 43057556, "node_id": "MDU6SXNzdWU0MzA1NzU1Ng==", "number": 157, "title": "HEAD request/response hangs", "user": {"login": "lbragstad", "id": 1881834, "node_id": "MDQ6VXNlcjE4ODE4MzQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1881834?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lbragstad", "html_url": "https://github.com/lbragstad", "followers_url": "https://api.github.com/users/lbragstad/followers", "following_url": "https://api.github.com/users/lbragstad/following{/other_user}", "gists_url": "https://api.github.com/users/lbragstad/gists{/gist_id}", "starred_url": "https://api.github.com/users/lbragstad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lbragstad/subscriptions", "organizations_url": "https://api.github.com/users/lbragstad/orgs", "repos_url": "https://api.github.com/users/lbragstad/repos", "events_url": "https://api.github.com/users/lbragstad/events{/privacy}", "received_events_url": "https://api.github.com/users/lbragstad/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2014-09-17T20:20:35Z", "updated_at": "2014-09-25T14:17:21Z", "closed_at": "2014-09-23T20:11:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "When using the last version of OpenStack Keystone, at master (https://github.com/openstack/keystone/blob/ae22900713ba902c116d296f1c237ce1f5092945/keystone/common/wsgi.py#L251) I am unable to get a response when sending a HEAD request to the Keystone server, which uses webob in the keystone/common/wsgi.py module for dealing with requests. \n\nI followed the call from Keystone into webob: \n\nhttp://paste.openstack.org/show/112582/\n\nwhere the response is never returned. \n\nA similar bug was opened in Keystone https://bugs.launchpad.net/keystone/+bug/1370492 that details the process to recreate. \n\nThe following command works against the Keystone server:\n'curl  -X GET -H \"x-auth-token:$TOKEN\" -H \"x-subject-token:$TOKEN\" http://localhost:35357/v3/auth/tokens'\n\nThis command however seams to loop in webob/dev.py and webob/request.py\n'curl -X HEAD -H \"x-auth-token:$TOKEN\" -H \"x-subject-token:$TOKEN\" http://localhost:35357/v3/auth/tokens'\n\nIn Keystone, we've mapped the HEAD call accordingly for that resource: \n\nhttps://github.com/openstack/keystone/blob/ae22900713ba902c116d296f1c237ce1f5092945/keystone/auth/routers.py#L33\n\nhttps://github.com/openstack/keystone/blob/ae22900713ba902c116d296f1c237ce1f5092945/keystone/auth/controllers.py#L507\n\nKeystone requires the following version of webob: https://github.com/openstack/keystone/blob/ae22900713ba902c116d296f1c237ce1f5092945/requirements.txt#L7\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/155", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/155/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/155/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/155/events", "html_url": "https://github.com/Pylons/webob/issues/155", "id": 42126861, "node_id": "MDU6SXNzdWU0MjEyNjg2MQ==", "number": 155, "title": "Accept matching against wildcard offers is not allowed", "user": {"login": "ltvolks", "id": 72856, "node_id": "MDQ6VXNlcjcyODU2", "avatar_url": "https://avatars2.githubusercontent.com/u/72856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ltvolks", "html_url": "https://github.com/ltvolks", "followers_url": "https://api.github.com/users/ltvolks/followers", "following_url": "https://api.github.com/users/ltvolks/following{/other_user}", "gists_url": "https://api.github.com/users/ltvolks/gists{/gist_id}", "starred_url": "https://api.github.com/users/ltvolks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ltvolks/subscriptions", "organizations_url": "https://api.github.com/users/ltvolks/orgs", "repos_url": "https://api.github.com/users/ltvolks/repos", "events_url": "https://api.github.com/users/ltvolks/events{/privacy}", "received_events_url": "https://api.github.com/users/ltvolks/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-09-06T21:08:57Z", "updated_at": "2016-01-29T00:10:13Z", "closed_at": "2016-01-29T00:10:13Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Wildcards cannot be used in 'offered' content types to search for a match:\n\n``` python\n>>> from webob.acceptparse import MIMEAccept\n>>> accept = MIMEAccept('text/*')\n\n>>> 'text/plain' in accept\nTrue\n\n# Expect this to be True\n>>> 'text/*' in accept\nValueError: The application should offer specific types, got 'text/*'\n\n>>> accept.best_match(['text/html', 'text/plain', 'text/json'])\n'text/html'\n\n# Expect 'text/html' or 'text/plain' in the absence of quality parameter\n>>> accept.best_match(['text/*', 'text/html', 'text/plain'])\nValueError: The application should offer specific types, got 'text/*'\n\n# Expect 'text/*' as the best match\n>>> accept.best_match(['text/*', 'foo/bar'])\nValueError: The application should offer specific types, got 'text/*'\n```\n\nThe behavior and error WebOb provides is explicit and it uses the same [check](https://github.com/Pylons/webob/blob/1.4/webob/acceptparse.py#L320) anywhere it is performing a match:\n\n``` python\ndef _check_offer(offer):\n    if '*' in offer:\n        raise ValueError(\"The application should offer specific types, got %r\" % offer)\n```\n\nThis is not insensible, but it does cause an issue with Pyramid's [documented](http://docs.pylonsproject.org/projects/pyramid/en/latest/api/config.html) accept predicate handling: https://github.com/Pylons/pyramid/issues/1407\n\nIf you want to define a 'permissive' accept predicate like `text/*`, the Pyramid `AcceptPredicate` essentially boils down to:\n\n``` python\nreturn 'text/*' in request.accept\n```\n\n`request.accept` is a WebOb `MIMEAccept` instance, so this check will always fail.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/152", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/152/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/152/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/152/events", "html_url": "https://github.com/Pylons/webob/issues/152", "id": 39453784, "node_id": "MDU6SXNzdWUzOTQ1Mzc4NA==", "number": 152, "title": "Redirects are not done to the specified URL - the URL is made fully qualified first", "user": {"login": "kiilerix", "id": 225555, "node_id": "MDQ6VXNlcjIyNTU1NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/225555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiilerix", "html_url": "https://github.com/kiilerix", "followers_url": "https://api.github.com/users/kiilerix/followers", "following_url": "https://api.github.com/users/kiilerix/following{/other_user}", "gists_url": "https://api.github.com/users/kiilerix/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiilerix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiilerix/subscriptions", "organizations_url": "https://api.github.com/users/kiilerix/orgs", "repos_url": "https://api.github.com/users/kiilerix/repos", "events_url": "https://api.github.com/users/kiilerix/events{/privacy}", "received_events_url": "https://api.github.com/users/kiilerix/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-08-04T19:44:10Z", "updated_at": "2014-08-12T16:46:50Z", "closed_at": "2014-08-04T21:29:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "It is apparently not possible to make relative redirects with webob. I find that unexpected and undocumented. I don't see the point in making it absolute ... but if so, I would expect an option for controlling it.\n\n`_HTTPMove.__call__` has a `self.location = urlparse.urljoin(req.path_url, self.location)` so it can't make a relative redirect - it will always be a fully qualified url. \n\nI saw this problem because pylons.controllers.util.redirect is a thin wrapper around this functionality.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/149", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/149/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/149/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/149/events", "html_url": "https://github.com/Pylons/webob/issues/149", "id": 34158577, "node_id": "MDU6SXNzdWUzNDE1ODU3Nw==", "number": 149, "title": "Accessing request.POST modifyed body", "user": {"login": "wichert", "id": 199657, "node_id": "MDQ6VXNlcjE5OTY1Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/199657?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wichert", "html_url": "https://github.com/wichert", "followers_url": "https://api.github.com/users/wichert/followers", "following_url": "https://api.github.com/users/wichert/following{/other_user}", "gists_url": "https://api.github.com/users/wichert/gists{/gist_id}", "starred_url": "https://api.github.com/users/wichert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wichert/subscriptions", "organizations_url": "https://api.github.com/users/wichert/orgs", "repos_url": "https://api.github.com/users/wichert/repos", "events_url": "https://api.github.com/users/wichert/events{/privacy}", "received_events_url": "https://api.github.com/users/wichert/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51474679, "node_id": "MDU6TGFiZWw1MTQ3NDY3OQ==", "url": "https://api.github.com/repos/Pylons/webob/labels/sprintable", "name": "sprintable", "color": "fbca04", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/Pylons/webob/milestones/1", "html_url": "https://github.com/Pylons/webob/milestone/1", "labels_url": "https://api.github.com/repos/Pylons/webob/milestones/1/labels", "id": 1033280, "node_id": "MDk6TWlsZXN0b25lMTAzMzI4MA==", "number": 1, "title": "Version 1.5", "description": "Bucket for all the things that should go into version 1.5 of WebOb.\r\n\r\nThings may be removed out of this bucket if necessary.", "creator": {"login": "bertjwregeer", "id": 649426, "node_id": "MDQ6VXNlcjY0OTQyNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/649426?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bertjwregeer", "html_url": "https://github.com/bertjwregeer", "followers_url": "https://api.github.com/users/bertjwregeer/followers", "following_url": "https://api.github.com/users/bertjwregeer/following{/other_user}", "gists_url": "https://api.github.com/users/bertjwregeer/gists{/gist_id}", "starred_url": "https://api.github.com/users/bertjwregeer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bertjwregeer/subscriptions", "organizations_url": "https://api.github.com/users/bertjwregeer/orgs", "repos_url": "https://api.github.com/users/bertjwregeer/repos", "events_url": "https://api.github.com/users/bertjwregeer/events{/privacy}", "received_events_url": "https://api.github.com/users/bertjwregeer/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 22, "state": "closed", "created_at": "2015-03-23T03:26:44Z", "updated_at": "2015-10-13T17:12:25Z", "due_on": null, "closed_at": "2015-10-13T17:12:25Z"}, "comments": 4, "created_at": "2014-05-23T09:26:19Z", "updated_at": "2015-04-13T15:28:53Z", "closed_at": "2015-04-13T15:28:53Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I have a request which is POSTing JSON data, but some clients do not send along a `Content-Type` header. When this happens accessing `request.POST` will mangle the request body. Here is an example:\n\n``` python\n(Pdb) p request.content_type\n''\n(Pdb) p request.body\n'{\"password\": \"last centurion\", \"email\": \"rory@wiggy.net\"}'\n(Pdb) p request.POST\nMultiDict([('{\"password\": \"last centurion\", \"email\": \"rory@wiggy.net\"}', '******')])\n(Pdb) p request.body\n'%7B%22password%22%3A+%22last+centurion%22%2C+%22email%22%3A+%22rory%40wiggy.net%22%7D='\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/Pylons/webob/issues/141", "repository_url": "https://api.github.com/repos/Pylons/webob", "labels_url": "https://api.github.com/repos/Pylons/webob/issues/141/labels{/name}", "comments_url": "https://api.github.com/repos/Pylons/webob/issues/141/comments", "events_url": "https://api.github.com/repos/Pylons/webob/issues/141/events", "html_url": "https://github.com/Pylons/webob/issues/141", "id": 31573107, "node_id": "MDU6SXNzdWUzMTU3MzEwNw==", "number": 141, "title": "setup.py says 1.3.1 but __init__.py says 1.2.3", "user": {"login": "shentonfreude", "id": 68655, "node_id": "MDQ6VXNlcjY4NjU1", "avatar_url": "https://avatars0.githubusercontent.com/u/68655?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shentonfreude", "html_url": "https://github.com/shentonfreude", "followers_url": "https://api.github.com/users/shentonfreude/followers", "following_url": "https://api.github.com/users/shentonfreude/following{/other_user}", "gists_url": "https://api.github.com/users/shentonfreude/gists{/gist_id}", "starred_url": "https://api.github.com/users/shentonfreude/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shentonfreude/subscriptions", "organizations_url": "https://api.github.com/users/shentonfreude/orgs", "repos_url": "https://api.github.com/users/shentonfreude/repos", "events_url": "https://api.github.com/users/shentonfreude/events{/privacy}", "received_events_url": "https://api.github.com/users/shentonfreude/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-04-15T17:23:25Z", "updated_at": "2014-11-10T16:01:47Z", "closed_at": "2014-11-10T16:01:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Versions conflict in the code. \n", "performed_via_github_app": null, "score": 1.0}]}