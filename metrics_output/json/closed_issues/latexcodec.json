{"total_count": 31, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/84", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/84/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/84/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/84/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/84", "id": 641142234, "node_id": "MDU6SXNzdWU2NDExNDIyMzQ=", "number": 84, "title": "can't encode character '\\u02bb'", "user": {"login": "nschloe", "id": 181628, "node_id": "MDQ6VXNlcjE4MTYyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/181628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nschloe", "html_url": "https://github.com/nschloe", "followers_url": "https://api.github.com/users/nschloe/followers", "following_url": "https://api.github.com/users/nschloe/following{/other_user}", "gists_url": "https://api.github.com/users/nschloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/nschloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nschloe/subscriptions", "organizations_url": "https://api.github.com/users/nschloe/orgs", "repos_url": "https://api.github.com/users/nschloe/repos", "events_url": "https://api.github.com/users/nschloe/events{/privacy}", "received_events_url": "https://api.github.com/users/nschloe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-06-18T11:47:35Z", "updated_at": "2020-06-23T09:58:43Z", "closed_at": "2020-06-23T09:58:43Z", "author_association": "NONE", "active_lock_reason": null, "body": "Like #68.\r\n```python\r\nimport codecs\r\nimport latexcodec\r\n\r\ncodecs.encode(u\"\\u02bb \\u02bc\", \"ulatex\")\r\n```\r\nSee See nschloe/betterbib#153.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/83", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/83/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/83/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/83/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/83", "id": 601780907, "node_id": "MDU6SXNzdWU2MDE3ODA5MDc=", "number": 83, "title": "can't encode character '\\ufffd'", "user": {"login": "nschloe", "id": 181628, "node_id": "MDQ6VXNlcjE4MTYyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/181628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nschloe", "html_url": "https://github.com/nschloe", "followers_url": "https://api.github.com/users/nschloe/followers", "following_url": "https://api.github.com/users/nschloe/following{/other_user}", "gists_url": "https://api.github.com/users/nschloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/nschloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nschloe/subscriptions", "organizations_url": "https://api.github.com/users/nschloe/orgs", "repos_url": "https://api.github.com/users/nschloe/repos", "events_url": "https://api.github.com/users/nschloe/events{/privacy}", "received_events_url": "https://api.github.com/users/nschloe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-04-17T08:00:32Z", "updated_at": "2020-06-23T10:03:41Z", "closed_at": "2020-06-23T10:03:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "Like #68.\r\n```python\r\nimport codecs\r\nimport latexcodec\r\n\r\ncodecs.encode(u\"\\ufffd\", \"ulatex\")\r\n```\r\nSee nschloe/betterbib#147.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/82", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/82/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/82/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/82/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/82", "id": 579352459, "node_id": "MDU6SXNzdWU1NzkzNTI0NTk=", "number": 82, "title": "piping curl output into bash is not a very secure approach", "user": {"login": "KOLANICH", "id": 240344, "node_id": "MDQ6VXNlcjI0MDM0NA==", "avatar_url": "https://avatars1.githubusercontent.com/u/240344?v=4", "gravatar_id": "", "url": "https://api.github.com/users/KOLANICH", "html_url": "https://github.com/KOLANICH", "followers_url": "https://api.github.com/users/KOLANICH/followers", "following_url": "https://api.github.com/users/KOLANICH/following{/other_user}", "gists_url": "https://api.github.com/users/KOLANICH/gists{/gist_id}", "starred_url": "https://api.github.com/users/KOLANICH/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/KOLANICH/subscriptions", "organizations_url": "https://api.github.com/users/KOLANICH/orgs", "repos_url": "https://api.github.com/users/KOLANICH/repos", "events_url": "https://api.github.com/users/KOLANICH/events{/privacy}", "received_events_url": "https://api.github.com/users/KOLANICH/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-03-11T15:32:28Z", "updated_at": "2020-03-11T17:00:08Z", "closed_at": "2020-03-11T15:53:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/80", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/80/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/80/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/80/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/80", "id": 578562259, "node_id": "MDU6SXNzdWU1Nzg1NjIyNTk=", "number": 80, "title": "decode adds superfluous space", "user": {"login": "nschloe", "id": 181628, "node_id": "MDQ6VXNlcjE4MTYyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/181628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nschloe", "html_url": "https://github.com/nschloe", "followers_url": "https://api.github.com/users/nschloe/followers", "following_url": "https://api.github.com/users/nschloe/following{/other_user}", "gists_url": "https://api.github.com/users/nschloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/nschloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nschloe/subscriptions", "organizations_url": "https://api.github.com/users/nschloe/orgs", "repos_url": "https://api.github.com/users/nschloe/repos", "events_url": "https://api.github.com/users/nschloe/events{/privacy}", "received_events_url": "https://api.github.com/users/nschloe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-03-10T13:01:06Z", "updated_at": "2020-03-11T14:33:59Z", "closed_at": "2020-03-11T10:49:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "MWE:\r\n```python\r\nimport latexcodec\r\nimport codecs\r\n\r\nstring = \"\\ch{ABC}\"\r\nout = codecs.decode(string, \"ulatex\")\r\nprint(out)  # \"\\ch {ABC}\", should be \"\\ch{ABC}\"\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/75", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/75/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/75/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/75/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/75", "id": 549543330, "node_id": "MDU6SXNzdWU1NDk1NDMzMzA=", "number": 75, "title": "Support Python 3.9", "user": {"login": "vstinner", "id": 194129, "node_id": "MDQ6VXNlcjE5NDEyOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/194129?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vstinner", "html_url": "https://github.com/vstinner", "followers_url": "https://api.github.com/users/vstinner/followers", "following_url": "https://api.github.com/users/vstinner/following{/other_user}", "gists_url": "https://api.github.com/users/vstinner/gists{/gist_id}", "starred_url": "https://api.github.com/users/vstinner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vstinner/subscriptions", "organizations_url": "https://api.github.com/users/vstinner/orgs", "repos_url": "https://api.github.com/users/vstinner/repos", "events_url": "https://api.github.com/users/vstinner/events{/privacy}", "received_events_url": "https://api.github.com/users/vstinner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-01-14T12:44:20Z", "updated_at": "2020-01-14T14:30:28Z", "closed_at": "2020-01-14T14:30:27Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Python 3.9 changed codecs.lookup(): the encoding name is now normalized before calling search functions. See:\r\n* https://bugs.python.org/issue37751\r\n* https://bugzilla.redhat.com/show_bug.cgi?id=1789613\r\n\r\nI propose attached PR to support Python 3.9.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/74", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/74/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/74/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/74/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/74", "id": 536368596, "node_id": "MDU6SXNzdWU1MzYzNjg1OTY=", "number": 74, "title": "ValueError: 'latex' codec can't encode character '\\u2217' in position 0: don't know how to translate '\u2217' into latex", "user": {"login": "nschloe", "id": 181628, "node_id": "MDQ6VXNlcjE4MTYyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/181628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nschloe", "html_url": "https://github.com/nschloe", "followers_url": "https://api.github.com/users/nschloe/followers", "following_url": "https://api.github.com/users/nschloe/following{/other_user}", "gists_url": "https://api.github.com/users/nschloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/nschloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nschloe/subscriptions", "organizations_url": "https://api.github.com/users/nschloe/orgs", "repos_url": "https://api.github.com/users/nschloe/repos", "events_url": "https://api.github.com/users/nschloe/events{/privacy}", "received_events_url": "https://api.github.com/users/nschloe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-12-11T13:26:22Z", "updated_at": "2020-01-16T08:40:26Z", "closed_at": "2020-01-16T08:40:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Like #68.\r\n```python\r\nimport codecs\r\nimport latexcodec\r\n\r\ncodecs.encode(u\"\\u2217\", \"ulatex\")\r\n```\r\nSee https://github.com/nschloe/betterbib/issues/136.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/72", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/72/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/72/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/72/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/72", "id": 453142304, "node_id": "MDU6SXNzdWU0NTMxNDIzMDQ=", "number": 72, "title": "Decoding \"\\\\%\"", "user": {"login": "tschantzmc", "id": 2175917, "node_id": "MDQ6VXNlcjIxNzU5MTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/2175917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschantzmc", "html_url": "https://github.com/tschantzmc", "followers_url": "https://api.github.com/users/tschantzmc/followers", "following_url": "https://api.github.com/users/tschantzmc/following{/other_user}", "gists_url": "https://api.github.com/users/tschantzmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschantzmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschantzmc/subscriptions", "organizations_url": "https://api.github.com/users/tschantzmc/orgs", "repos_url": "https://api.github.com/users/tschantzmc/repos", "events_url": "https://api.github.com/users/tschantzmc/events{/privacy}", "received_events_url": "https://api.github.com/users/tschantzmc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-06T17:04:01Z", "updated_at": "2019-06-25T08:08:25Z", "closed_at": "2019-06-25T08:08:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "The LaTeX `\\\\%` should be decoded as `u'\\n'`, or at least as `u'\\\\\\\\'`.  Instead, it produces an error.\r\n\r\nThe following prgram illistrates the issue for Python 3.6.5 and latexcodec 1.0.7:\r\n```python3\r\n#! /usr/bin/env python3\r\n\r\nimport codecs\r\nimport latexcodec\r\n\r\nprint(codecs.decode(u'\\\\\\\\%', 'ulatex'))\r\n```\r\nIt produces the output:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/latexcodec/lexer.py\", line 389, in decode\r\n    return u''.join(self.get_unicode_tokens(bytes_, final=final))\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/latexcodec/codec.py\", line 788, in get_unicode_tokens\r\n    for token in self.get_tokens(bytes_, final=final):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/latexcodec/lexer.py\", line 324, in get_tokens\r\n    \"unknown token {0!r}\".format(token.text))\r\nUnicodeDecodeError: 'latex' codec can't decode byte 0x25 in position 2: unknown token '%'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"test7.py\", line 6, in <module>\r\n    print(codecs.decode(u'\\\\\\\\%', 'ulatex'))\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/latexcodec/codec.py\", line 836, in decode\r\n    decoder.decode(bytes_, final=True),\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/latexcodec/lexer.py\", line 393, in decode\r\n    raise ValueError(e)\r\nValueError: 'latex' codec can't decode byte 0x25 in position 2: unknown token '%'\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/70", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/70/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/70/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/70/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/70", "id": 449061097, "node_id": "MDU6SXNzdWU0NDkwNjEwOTc=", "number": 70, "title": "Lacking documentation of escaping behavior", "user": {"login": "tschantzmc", "id": 2175917, "node_id": "MDQ6VXNlcjIxNzU5MTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/2175917?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tschantzmc", "html_url": "https://github.com/tschantzmc", "followers_url": "https://api.github.com/users/tschantzmc/followers", "following_url": "https://api.github.com/users/tschantzmc/following{/other_user}", "gists_url": "https://api.github.com/users/tschantzmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/tschantzmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tschantzmc/subscriptions", "organizations_url": "https://api.github.com/users/tschantzmc/orgs", "repos_url": "https://api.github.com/users/tschantzmc/repos", "events_url": "https://api.github.com/users/tschantzmc/events{/privacy}", "received_events_url": "https://api.github.com/users/tschantzmc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2019-05-28T04:39:59Z", "updated_at": "2019-06-06T16:24:16Z", "closed_at": "2019-06-06T16:24:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "The project documentation could be improved to make the project goals and the trade-offs made to achieve them more clear.  When backslashes are escaped and treated as characters is complex but undocumented.  Some design rational may make it easier to understand.\r\n\r\nI don't believe there to be a canonical way of decoding Latex. For example, the decoder could decode an unescaped underscore and an escaped underscore both as simply an underscore (thereby losing information), or the decoder could try to preserve information about whether the underscore was escaped using some encoding. As far as I can tell, this project has decided to go with the first option, perhaps with readability in mind.\r\n\r\nSimilarly, choices must be made when encoding into Latex, such as whether to treat an underscore as a character (escaped) or as the directive to do a subscript (unescaped).  The project went with treating it as a character (escaped), perhaps because the input is just plain text after all.\r\n\r\nWhat makes things more confusing, and the need for more documentation on these choices clear, is that the backslash at the start of command names is treated in the opposite manner to the backslash found before an underscore.  That is, it is not dropped when decoding nor escaped when encoding. This inconsistency makes it hard to see a consistent pattern, but perhaps giving the project's goals there is one, or at least documentation could explain which backslashes will be treated in which manner. As seen in issues #17, #48, and #53, this can be subtle.\r\n\r\nBelow is a script I wrote to help me understand this API's behavior and its output using Version 1.0.7 and Python 3.6.5.\r\n\r\nSource:\r\n\r\n```python3\r\n#! /usr/bin/env python3\r\n\r\nimport codecs\r\nimport latexcodec\r\n\r\n\r\ncodec = 'ulatex+UTF-8'\r\n\r\n\r\ndef test(string, note=None):\r\n    decoded = codecs.decode(string, codec)\r\n    if note:\r\n        print(note)\r\n    print([string,\r\n           codecs.encode(string, codec),\r\n           decoded,\r\n           codecs.encode(decoded, codec),])\r\n    print()\r\n\r\n\r\nprint(\"Output format:\")\r\nprint(\"optional notes\")\r\nprint(\"[input, encoded, decoded, decoded and re-encoded]\")\r\nprint()\r\n\r\nprint(\"\\n### Encodes escapes special characters (even those already escaped) since it views its input as plain text (.txt), not code (.tex):\\n\")\r\ntest(r\"\\#1 Dad!\", r\"encode escapes # and \\; decode prints plain #; decode-encode successfully round trips\")\r\ntest(r\"\\newcommand{\\test}[1]{testing: #1}\", r\"encode escapes the #, even when re-encoding\")\r\ntest(r\"\\&\", r\"encode escapes & and \\; decode prints plain &; decode-encode successfully round trips\")\r\ntest(r\"&\", r\"encode escapes the &, even when re-encoding\")\r\ntest(r\"file\\_name\", r\"encode escapes _ and \\; decode prints plain _; decode-encode successfully round trips\")\r\ntest(r\"$x_{i} + 2^n$\", r\"encode escapes the _, even when re-encoding...\")\r\ntest(r\"a_b\", r\"...outside math mode too...\")\r\ntest(r\"\\url{example.com/a_b}\", r\"...and even in URLs\")\r\n\r\nprint(\"\\n### Inconsistently, however, encode doesn't escape the \\ in command names, perhaps because text with ad hoc latex is so common in, e.g., email:\\n\")\r\ntest(r\"runs on \\LaTeX,\", r\"encode and decode does nothing but add pointless space\")\r\ntest(r\"including math: \\[ \\rightarrow \\]$\", r\"encode and decode does nothing\")\r\n\r\nprint(\"\\n### Encode also doesn't escape the \\ for diacritics, but decode converts them:\\n\")\r\ntest(r'\\\"u', r\"decode coverts to non-ascii UTF-8 char\")\r\ntest(r'\u00fc', r\"but encode doesn't convert back since we're using ulatex+UTF-8\")\r\n\r\nprint(\"\\n### The behavior gets rather complex:\\n\")\r\ntest(r\" \\ \", r\"encode does nothing; decode converts to space; decode-encode loses the type of space\")\r\ntest(r\"A~B\", r\"encode replaces ~ with text command for one; decodes it to a non-breaking space in Latin1 (ISO 8859-1), i.e., chr(160)\")\r\ntest(r\"hi % comment\", r\"encode escapes %; decode strips comments\")\r\ntest(r\"100\\% better\", r\"encode escapes % and \\; decode prints plain %; decode-encode successfully round trips\")\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nOutput format:\r\noptional notes\r\n[input, encoded, decoded, decoded and re-encoded]\r\n\r\n\r\n### Encodes escapes special characters (even those already escaped) since it views its input as plain text (.txt), not code (.tex):\r\n\r\nencode escapes # and \\; decode prints plain #; decode-encode successfully round trips\r\n['\\\\#1 Dad!', '\\\\\\\\#1 Dad!', '#1 Dad!', '\\\\#1 Dad!']\r\n\r\nencode escapes the #, even when re-encoding\r\n['\\\\newcommand{\\\\test}[1]{testing: #1}', '\\\\newcommand{\\\\test}[1]{testing: \\\\#1}', '\\\\newcommand {\\\\test }[1]{testing: #1}', '\\\\newcommand {\\\\test }[1]{testing: \\\\#1}']\r\n\r\nencode escapes & and \\; decode prints plain &; decode-encode successfully round trips\r\n['\\\\&', '\\\\\\\\&', '&', '\\\\&']\r\n\r\nencode escapes the &, even when re-encoding\r\n['&', '\\\\&', '&', '\\\\&']\r\n\r\nencode escapes _ and \\; decode prints plain _; decode-encode successfully round trips\r\n['file\\\\_name', 'file\\\\\\\\_name', 'file_name', 'file\\\\_name']\r\n\r\nencode escapes the _, even when re-encoding...\r\n['$x_{i} + 2^n$', '$x\\\\_{i} + 2^n$', '$x_{i} + 2^n$', '$x\\\\_{i} + 2^n$']\r\n\r\n...outside math mode too...\r\n['a_b', 'a\\\\_b', 'a_b', 'a\\\\_b']\r\n\r\n...and even in URLs\r\n['\\\\url{example.com/a_b}', '\\\\url{example.com/a\\\\_b}', '\\\\url {example.com/a_b}', '\\\\url {example.com/a\\\\_b}']\r\n\r\n\r\n### Inconsistently, however, encode doesn't escape the \\ in command names, perhaps because text with ad hoc latex is so common in, e.g., email:\r\n\r\nencode and decode does nothing but add pointless space\r\n['runs on \\\\LaTeX,', 'runs on \\\\LaTeX,', 'runs on \\\\LaTeX ,', 'runs on \\\\LaTeX ,']\r\n\r\nencode and decode does nothing\r\n['including math: \\\\[ \\\\rightarrow \\\\]$', 'including math: \\\\[ \\\\rightarrow \\\\]$', 'including math: \\\\[ \\\\rightarrow \\\\]$', 'including math: \\\\[ \\\\rightarrow \\\\]$']\r\n\r\n\r\n### Encode also doesn't escape the \\ for diacritics, but decode converts them:\r\n\r\ndecode coverts to non-ascii UTF-8 char\r\n['\\\\\"u', '\\\\\"u', '\u00fc', '\u00fc']\r\n\r\nbut encode doesn't convert back since we're using ulatex+UTF-8\r\n['\u00fc', '\u00fc', '\u00fc', '\u00fc']\r\n\r\n\r\n### The behavior gets rather complex:\r\n\r\nencode does nothing; decode converts to space; decode-encode loses the type of space\r\n[' \\\\ ', ' \\\\ ', ' ', ' ']\r\n\r\nencode replaces ~ with text command for one; decodes it to a non-breaking space in Latin1 (ISO 8859-1), i.e., chr(160)\r\n['A~B', 'A\\\\textasciitilde B', 'A\\xa0B', 'A\\xa0B']\r\n\r\nencode escapes %; decode strips comments\r\n['hi % comment', 'hi \\\\% comment', 'hi ', 'hi ']\r\n\r\nencode escapes % and \\; decode prints plain %; decode-encode successfully round trips\r\n['100\\\\% better', '100\\\\\\\\% better', '100% better', '100\\\\% better']\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/68", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/68/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/68/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/68/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/68", "id": 439942983, "node_id": "MDU6SXNzdWU0Mzk5NDI5ODM=", "number": 68, "title": "ValueError: 'latex' codec can't encode character u'\\u2009' in position 0: don't know how to translate u'\\u2009' into latex ", "user": {"login": "nschloe", "id": 181628, "node_id": "MDQ6VXNlcjE4MTYyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/181628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nschloe", "html_url": "https://github.com/nschloe", "followers_url": "https://api.github.com/users/nschloe/followers", "following_url": "https://api.github.com/users/nschloe/following{/other_user}", "gists_url": "https://api.github.com/users/nschloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/nschloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nschloe/subscriptions", "organizations_url": "https://api.github.com/users/nschloe/orgs", "repos_url": "https://api.github.com/users/nschloe/repos", "events_url": "https://api.github.com/users/nschloe/events{/privacy}", "received_events_url": "https://api.github.com/users/nschloe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-05-03T08:35:39Z", "updated_at": "2019-05-03T12:10:46Z", "closed_at": "2019-05-03T12:10:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "Like #56.\r\nMWE:\r\n```python\r\n# -*- coding: utf-8 -*-\r\nimport codecs\r\nimport latexcodec\r\n\r\ncodecs.encode(u\"\\u2009\", \"ulatex\")\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/66", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/66/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/66/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/66/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/66", "id": 419745329, "node_id": "MDU6SXNzdWU0MTk3NDUzMjk=", "number": 66, "title": "`\\. {I}` does not decode correctly", "user": {"login": "davidweichiang", "id": 1399913, "node_id": "MDQ6VXNlcjEzOTk5MTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1399913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidweichiang", "html_url": "https://github.com/davidweichiang", "followers_url": "https://api.github.com/users/davidweichiang/followers", "following_url": "https://api.github.com/users/davidweichiang/following{/other_user}", "gists_url": "https://api.github.com/users/davidweichiang/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidweichiang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidweichiang/subscriptions", "organizations_url": "https://api.github.com/users/davidweichiang/orgs", "repos_url": "https://api.github.com/users/davidweichiang/repos", "events_url": "https://api.github.com/users/davidweichiang/events{/privacy}", "received_events_url": "https://api.github.com/users/davidweichiang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-12T00:27:14Z", "updated_at": "2019-03-13T15:18:15Z", "closed_at": "2019-03-13T12:47:37Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "expected result: `\u0130`\r\nactual result: `\\. {I}`\r\n\r\nThe reason seems to be that `\\.` is classified as a `control_symbol_x` rather than a `control_symbol`. The comment in the code says:\r\n\r\n```\r\n        # in latex, some control tokens skip following whitespace\r\n        # ('control-word' and 'control-symbol')\r\n        # others do not ('control-symbol-x')\r\n        # XXX TBT says no control symbols skip whitespace (except '\\ ')\r\n        # XXX but tests reveal otherwise?\r\n```\r\n\r\nBut it appears that all control symbols skip following whitespace when they are looking for an argument, as noted in TBT 2.10.4: \"When TeX is looking for an undelimited macro argument it will accept the first token (or group) that is not a space.\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/65", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/65/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/65/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/65/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/65", "id": 419513711, "node_id": "MDU6SXNzdWU0MTk1MTM3MTE=", "number": 65, "title": "`\\\"{\\i}` does not get decoded correctly", "user": {"login": "davidweichiang", "id": 1399913, "node_id": "MDQ6VXNlcjEzOTk5MTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1399913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidweichiang", "html_url": "https://github.com/davidweichiang", "followers_url": "https://api.github.com/users/davidweichiang/followers", "following_url": "https://api.github.com/users/davidweichiang/following{/other_user}", "gists_url": "https://api.github.com/users/davidweichiang/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidweichiang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidweichiang/subscriptions", "organizations_url": "https://api.github.com/users/davidweichiang/orgs", "repos_url": "https://api.github.com/users/davidweichiang/repos", "events_url": "https://api.github.com/users/davidweichiang/events{/privacy}", "received_events_url": "https://api.github.com/users/davidweichiang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-03-11T14:55:14Z", "updated_at": "2019-03-13T12:46:52Z", "closed_at": "2019-03-13T12:46:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "expected result: `\u00ef`\r\nactual result: `\\\"{\u0131}`\r\n\r\nThis happens because the `\\i` is translated before the rule for `\\\"` can see it.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/62", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/62/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/62/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/62/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/62", "id": 408969860, "node_id": "MDU6SXNzdWU0MDg5Njk4NjA=", "number": 62, "title": "` ``a+b'' ` does not decode correctly", "user": {"login": "davidweichiang", "id": 1399913, "node_id": "MDQ6VXNlcjEzOTk5MTM=", "avatar_url": "https://avatars2.githubusercontent.com/u/1399913?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidweichiang", "html_url": "https://github.com/davidweichiang", "followers_url": "https://api.github.com/users/davidweichiang/followers", "following_url": "https://api.github.com/users/davidweichiang/following{/other_user}", "gists_url": "https://api.github.com/users/davidweichiang/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidweichiang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidweichiang/subscriptions", "organizations_url": "https://api.github.com/users/davidweichiang/orgs", "repos_url": "https://api.github.com/users/davidweichiang/repos", "events_url": "https://api.github.com/users/davidweichiang/events{/privacy}", "received_events_url": "https://api.github.com/users/davidweichiang/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2019-02-11T20:50:22Z", "updated_at": "2019-03-13T14:55:20Z", "closed_at": "2019-03-13T14:55:20Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is the expected result:\r\n```\r\n>>> b\"``a+b''\".decode(\"latex\")\r\n'\u201ca+b\u201d'\r\n```\r\nBut this is the actual result:\r\n```\r\n>>> b\"``a+b''\".decode(\"latex\")\r\n\"\u201ca+b''\"\r\n```\r\nbecause the lexer makes `\"+b''\"` into a single token.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/60", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/60/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/60/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/60/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/60", "id": 397861979, "node_id": "MDU6SXNzdWUzOTc4NjE5Nzk=", "number": 60, "title": "Unable to encode '\\u2003' (EM SPACE)", "user": {"login": "anjohan", "id": 12450132, "node_id": "MDQ6VXNlcjEyNDUwMTMy", "avatar_url": "https://avatars1.githubusercontent.com/u/12450132?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anjohan", "html_url": "https://github.com/anjohan", "followers_url": "https://api.github.com/users/anjohan/followers", "following_url": "https://api.github.com/users/anjohan/following{/other_user}", "gists_url": "https://api.github.com/users/anjohan/gists{/gist_id}", "starred_url": "https://api.github.com/users/anjohan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anjohan/subscriptions", "organizations_url": "https://api.github.com/users/anjohan/orgs", "repos_url": "https://api.github.com/users/anjohan/repos", "events_url": "https://api.github.com/users/anjohan/events{/privacy}", "received_events_url": "https://api.github.com/users/anjohan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2019-01-10T14:43:39Z", "updated_at": "2019-01-18T13:00:25Z", "closed_at": "2019-01-18T13:00:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "While using [betterbib](https://github.com/nschloe/betterbib), the following error occurred. From what I understand, this simply means that the [EM SPACE](https://www.fileformat.info/info/unicode/char/2003/index.htm) is missing from the conversion table.\r\n\r\n```python\r\nTraceback (most recent call last):                                                                                                                             \r\n  File \"/usr/lib/python3.7/site-packages/latexcodec/codec.py\", line 685, in _get_latex_bytes_tokens_from_char                                                  \r\n    return self.table.latex_map[c]                                                                                                                             \r\nKeyError: '\\u2003'                                                                                                                                             \r\n                                                                                                                                                               \r\nDuring handling of the above exception, another exception occurred:                                                                                            \r\n                                                                                                                                                               \r\nTraceback (most recent call last):                                                                                                                             \r\n  File \"/usr/lib/python3.7/site-packages/latexcodec/lexer.py\", line 479, in encode                                                                             \r\n    self.get_latex_bytes(unicode_, final=final))                                                                                                               \r\n  File \"/usr/lib/python3.7/site-packages/latexcodec/codec.py\", line 721, in get_latex_bytes                                                                    \r\n    bytes_, tokens = self._get_latex_bytes_tokens_from_char(c)                                                                                                 \r\n  File \"/usr/lib/python3.7/site-packages/latexcodec/codec.py\", line 694, in _get_latex_bytes_tokens_from_char                                                  \r\n    .format(repr(c)))                                                                                                                                          \r\nUnicodeEncodeError: 'latex' codec can't encode character '\\u2003' in position 0: don't know how to translate '\\u2003' into latex\r\n```\r\n\r\nAdding\r\n```python\r\nself.register(u'\\N{EM SPACE}', b'\\ ')\r\n```\r\nto the [list of conversions](https://github.com/mcmtroffaes/latexcodec/blob/develop/latexcodec/codec.py#L103) does indeed make the error go away.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/59", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/59/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/59/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/59/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/59", "id": 344486630, "node_id": "MDU6SXNzdWUzNDQ0ODY2MzA=", "number": 59, "title": "Scandinavian character \u00e5 / {\\r{a}}", "user": {"login": "Tigraan", "id": 28686753, "node_id": "MDQ6VXNlcjI4Njg2NzUz", "avatar_url": "https://avatars3.githubusercontent.com/u/28686753?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Tigraan", "html_url": "https://github.com/Tigraan", "followers_url": "https://api.github.com/users/Tigraan/followers", "following_url": "https://api.github.com/users/Tigraan/following{/other_user}", "gists_url": "https://api.github.com/users/Tigraan/gists{/gist_id}", "starred_url": "https://api.github.com/users/Tigraan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Tigraan/subscriptions", "organizations_url": "https://api.github.com/users/Tigraan/orgs", "repos_url": "https://api.github.com/users/Tigraan/repos", "events_url": "https://api.github.com/users/Tigraan/events{/privacy}", "received_events_url": "https://api.github.com/users/Tigraan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-07-25T15:10:57Z", "updated_at": "2019-01-18T12:53:42Z", "closed_at": "2019-01-18T12:53:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "In LateX, `Tunest{\\r{a}}l` compiles to \"Tunest\u00e5l\", but in latexcodec:\r\n```\r\nimport latexcodec\r\ns_in = r'Tunest{\\r{a}}l'\r\ns_unicode = s_in.encode().decode('latex')\r\nprint(s_unicode)  # result: \"Tunest{\\r {a}}l\"\r\n```\r\n\r\nPer https://en.wikipedia.org/wiki/%C3%85#On_computers it seems to be a single-Unicode-point character (U+00E5 latin small letter a with ring). Same issue for the capital (U+00C5 latin capital letter a with ring).\r\n\r\nMy Python (3.5) does not seem to know the Unicode names, but it can use the code points:\r\n```\r\n# print(u'\\N{LATIN SMALL LETTER A WITH RING}')  # causes a SyntaxError \"unknown Unicode character name\"\r\nprint('\\u00E5')  # works: \"\u00e5\"\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/58", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/58/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/58/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/58/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/58", "id": 326191403, "node_id": "MDU6SXNzdWUzMjYxOTE0MDM=", "number": 58, "title": "decoding \\'{e} and \\'\\i work but \\'{\\i} doesn't", "user": {"login": "michamos", "id": 2895793, "node_id": "MDQ6VXNlcjI4OTU3OTM=", "avatar_url": "https://avatars3.githubusercontent.com/u/2895793?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michamos", "html_url": "https://github.com/michamos", "followers_url": "https://api.github.com/users/michamos/followers", "following_url": "https://api.github.com/users/michamos/following{/other_user}", "gists_url": "https://api.github.com/users/michamos/gists{/gist_id}", "starred_url": "https://api.github.com/users/michamos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michamos/subscriptions", "organizations_url": "https://api.github.com/users/michamos/orgs", "repos_url": "https://api.github.com/users/michamos/repos", "events_url": "https://api.github.com/users/michamos/events{/privacy}", "received_events_url": "https://api.github.com/users/michamos/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-24T16:09:04Z", "updated_at": "2019-01-18T12:42:54Z", "closed_at": "2019-01-18T12:42:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\n\r\nit looks like there is a bug when decoding diacritics followed by special characters:\r\n\r\n```\r\nIn [1]: import latexcodec\r\n\r\nIn [2]: print(u\"\\\\'{e}-\\\\'\\\\i-\\\\'{\\\\i}\".decode('latex'))\r\n{\u00e9}-\u00ed-\\'{\u0131}\r\n```\r\nI would expect the last one to give `{\u00ed}` instead. \r\n\r\nI tried to fix it by relaxing https://github.com/mcmtroffaes/latexcodec/blob/b1ee5dbe71f295e03500681a0e7baf49aa47ff01/latexcodec/codec.py#L616 to also include `control_word`, but it doesn't seem to be so simple.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/57", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/57/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/57/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/57/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/57", "id": 312419727, "node_id": "MDU6SXNzdWUzMTI0MTk3Mjc=", "number": 57, "title": "Missing equivalent UTF-8 for latex value {\\'{\\i}} (it should be \u00ed)", "user": {"login": "emiliosalazardonate", "id": 12808577, "node_id": "MDQ6VXNlcjEyODA4NTc3", "avatar_url": "https://avatars0.githubusercontent.com/u/12808577?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emiliosalazardonate", "html_url": "https://github.com/emiliosalazardonate", "followers_url": "https://api.github.com/users/emiliosalazardonate/followers", "following_url": "https://api.github.com/users/emiliosalazardonate/following{/other_user}", "gists_url": "https://api.github.com/users/emiliosalazardonate/gists{/gist_id}", "starred_url": "https://api.github.com/users/emiliosalazardonate/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emiliosalazardonate/subscriptions", "organizations_url": "https://api.github.com/users/emiliosalazardonate/orgs", "repos_url": "https://api.github.com/users/emiliosalazardonate/repos", "events_url": "https://api.github.com/users/emiliosalazardonate/events{/privacy}", "received_events_url": "https://api.github.com/users/emiliosalazardonate/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-04-09T07:16:16Z", "updated_at": "2018-04-20T12:15:58Z", "closed_at": "2018-04-20T12:15:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "The latex value {\\'{\\i}} seem not to be translated to \u00ed.\r\nThis is the text I tried to translate but got a wrong value:\r\n{Mart{\\'{\\i}}nez-N{\\'u}{\\~n}ez}   -->  Mart''\u0131nez N\u00fa\u00f1ez (should be Mart\u00ednez N\u00fa\u00f1ez)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/56", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/56/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/56/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/56/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/56", "id": 292043119, "node_id": "MDU6SXNzdWUyOTIwNDMxMTk=", "number": 56, "title": "ValueError: 'latex' codec can't encode character u'\\u2010' in position 0: don't know how to translate u'\\u2010' into latex", "user": {"login": "nschloe", "id": 181628, "node_id": "MDQ6VXNlcjE4MTYyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/181628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nschloe", "html_url": "https://github.com/nschloe", "followers_url": "https://api.github.com/users/nschloe/followers", "following_url": "https://api.github.com/users/nschloe/following{/other_user}", "gists_url": "https://api.github.com/users/nschloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/nschloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nschloe/subscriptions", "organizations_url": "https://api.github.com/users/nschloe/orgs", "repos_url": "https://api.github.com/users/nschloe/repos", "events_url": "https://api.github.com/users/nschloe/events{/privacy}", "received_events_url": "https://api.github.com/users/nschloe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-01-26T21:53:55Z", "updated_at": "2018-07-30T13:57:32Z", "closed_at": "2018-04-20T12:10:48Z", "author_association": "NONE", "active_lock_reason": null, "body": "latexcodec doesn't know [the unicode hyphen](https://www.fileformat.info/info/unicode/char/2010/index.htm); should probably translate to `--`.\r\n\r\nMWE:\r\n```python\r\n# -*- coding: utf-8 -*-\r\nimport codecs\r\nimport latexcodec\r\ncodecs.encode(u'\u2010', 'ulatex')\r\n```\r\n```\r\nValueError: 'latex' codec can't encode character u'\\u2010' in position 0: don't know how to translate u'\\u2010' into latex\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/54", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/54/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/54/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/54/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/54", "id": 280661718, "node_id": "MDU6SXNzdWUyODA2NjE3MTg=", "number": 54, "title": "Possible issue with ampersand and underscore encoding", "user": {"login": "Nagasaki45", "id": 2564187, "node_id": "MDQ6VXNlcjI1NjQxODc=", "avatar_url": "https://avatars3.githubusercontent.com/u/2564187?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nagasaki45", "html_url": "https://github.com/Nagasaki45", "followers_url": "https://api.github.com/users/Nagasaki45/followers", "following_url": "https://api.github.com/users/Nagasaki45/following{/other_user}", "gists_url": "https://api.github.com/users/Nagasaki45/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nagasaki45/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nagasaki45/subscriptions", "organizations_url": "https://api.github.com/users/Nagasaki45/orgs", "repos_url": "https://api.github.com/users/Nagasaki45/repos", "events_url": "https://api.github.com/users/Nagasaki45/events{/privacy}", "received_events_url": "https://api.github.com/users/Nagasaki45/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-12-09T01:13:29Z", "updated_at": "2018-04-23T18:42:57Z", "closed_at": "2018-04-20T12:03:39Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi!\r\n\r\nTracing down a bug in a [project of mine](https://github.com/Nagasaki45/bibo), that is based on [pybtex](https://pybtex.org/) (that uses `latexcodec`) lead me to think that there might be a problem with encoding of ampersands and underscores in `latexcodec`. The examples bellow are for ampersands but the same apply for underscores.\r\n\r\nI have a `.bib` file like this:\r\n\r\n```\r\n@ARTICLE{johndoe,\r\n    author = \"Doe, John\",\r\n    title = \"hello \\& world\",\r\n    year = \"2020\",\r\n}\r\n```\r\nThe problem is that I read the file using pybtex, and then write it back to file, and get:\r\n\r\n```\r\n@ARTICLE{johndoe,\r\n    author = \"Doe, John\",\r\n    title = \"hello \\\\& world\",\r\n    year = \"2020\",\r\n}\r\n```\r\n\r\nNotice the extra backslash.\r\n\r\nIt seems that pybtex doesn't really manipulate the value `\"hello \\& world\"` when it reads the file. But it uses `latexcodec` encoding to write it back to file. Using `latexcodec` directly I get the following:\r\n\r\n```\r\n>>> import latexcodec\r\n>>> codecs.encode('hello \\\\& world', 'ulatex+UTF-8')\r\n'hello \\\\\\\\& world'\r\n\r\n>>> print(codecs.encode('hello \\\\& world', 'ulatex+UTF-8'))\r\nhello \\\\& world\r\n```\r\n\r\nI'm not 100% sure that you considered it as a bug, because I don't know the `.bib` specs (if such thing even exists). I also noticed that there is some kind of handling of ampersands in `latexcodec`.\r\n\r\nIf it is a bug I will be happy to help solving it.\r\n\r\nThanks!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/53", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/53/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/53/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/53", "id": 260078883, "node_id": "MDU6SXNzdWUyNjAwNzg4ODM=", "number": 53, "title": "& incorrectly escaped.", "user": {"login": "themightyoarfish", "id": 11613312, "node_id": "MDQ6VXNlcjExNjEzMzEy", "avatar_url": "https://avatars0.githubusercontent.com/u/11613312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/themightyoarfish", "html_url": "https://github.com/themightyoarfish", "followers_url": "https://api.github.com/users/themightyoarfish/followers", "following_url": "https://api.github.com/users/themightyoarfish/following{/other_user}", "gists_url": "https://api.github.com/users/themightyoarfish/gists{/gist_id}", "starred_url": "https://api.github.com/users/themightyoarfish/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/themightyoarfish/subscriptions", "organizations_url": "https://api.github.com/users/themightyoarfish/orgs", "repos_url": "https://api.github.com/users/themightyoarfish/repos", "events_url": "https://api.github.com/users/themightyoarfish/events{/privacy}", "received_events_url": "https://api.github.com/users/themightyoarfish/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-24T11:59:19Z", "updated_at": "2017-09-24T12:04:44Z", "closed_at": "2017-09-24T12:04:44Z", "author_association": "NONE", "active_lock_reason": null, "body": "`latexcodec` incorrectly escapes ampersands. Consider a string with latex directives like this\r\n```\r\nimport codecs\r\nimport latexcodec\r\n\r\nstring = '\\\\& \\\\\"a \\\\\"o \\\\\"u'\r\nlatex = codecs.encode(string, 'latex')\r\nfor byte in latex:\r\n    print('{:>3}: {:>2}'.format(byte, codecs.decode(bytes([byte]), 'utf8')))\r\n```\r\nThis will output\r\n```\r\n 92:  \\\r\n 92:  \\\r\n 38:  &\r\n 32:\r\n 92:  \\\r\n 34:  \"\r\n 97:  a\r\n 32:\r\n 92:  \\\r\n 34:  \"\r\n111:  o\r\n 32:\r\n 92:  \\\r\n 34:  \"\r\n117:  u\r\n```\r\nAs can be seen, while the backslashes for `\u00e4\u00fc\u00f6`  are not duplicated, `latexenc` does not seem to realise that `\\\\&` is an escape sequence and thus prefixes `&` with another backslash, which need to be escaped in the python string as well.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/51", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/51/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/51/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/51/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/51", "id": 210035874, "node_id": "MDU6SXNzdWUyMTAwMzU4NzQ=", "number": 51, "title": "lower case z accents", "user": {"login": "AndrewSwann", "id": 8794645, "node_id": "MDQ6VXNlcjg3OTQ2NDU=", "avatar_url": "https://avatars2.githubusercontent.com/u/8794645?v=4", "gravatar_id": "", "url": "https://api.github.com/users/AndrewSwann", "html_url": "https://github.com/AndrewSwann", "followers_url": "https://api.github.com/users/AndrewSwann/followers", "following_url": "https://api.github.com/users/AndrewSwann/following{/other_user}", "gists_url": "https://api.github.com/users/AndrewSwann/gists{/gist_id}", "starred_url": "https://api.github.com/users/AndrewSwann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/AndrewSwann/subscriptions", "organizations_url": "https://api.github.com/users/AndrewSwann/orgs", "repos_url": "https://api.github.com/users/AndrewSwann/repos", "events_url": "https://api.github.com/users/AndrewSwann/events{/privacy}", "received_events_url": "https://api.github.com/users/AndrewSwann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-02-24T12:23:59Z", "updated_at": "2017-06-12T14:42:13Z", "closed_at": "2017-06-12T14:42:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Several of the lower case z accents, seem not to be translated, including `\\'z`, i.e. z with an accute.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/48", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/48/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/48/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/48", "id": 176978071, "node_id": "MDU6SXNzdWUxNzY5NzgwNzE=", "number": 48, "title": "Percent sign is not decoded", "user": {"login": "jgosmann", "id": 850157, "node_id": "MDQ6VXNlcjg1MDE1Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/850157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgosmann", "html_url": "https://github.com/jgosmann", "followers_url": "https://api.github.com/users/jgosmann/followers", "following_url": "https://api.github.com/users/jgosmann/following{/other_user}", "gists_url": "https://api.github.com/users/jgosmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgosmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgosmann/subscriptions", "organizations_url": "https://api.github.com/users/jgosmann/orgs", "repos_url": "https://api.github.com/users/jgosmann/repos", "events_url": "https://api.github.com/users/jgosmann/events{/privacy}", "received_events_url": "https://api.github.com/users/jgosmann/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-09-14T18:04:36Z", "updated_at": "2016-09-21T10:00:51Z", "closed_at": "2016-09-20T07:51:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "`b'\\\\%'.decode('latex')` gives `u'\\\\%'`, but should produce `u'%'`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/41", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/41/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/41/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/41/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/41", "id": 134805268, "node_id": "MDU6SXNzdWUxMzQ4MDUyNjg=", "number": 41, "title": "Skip all unknown unicode characters", "user": {"login": "xuhdev", "id": 325476, "node_id": "MDQ6VXNlcjMyNTQ3Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/325476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuhdev", "html_url": "https://github.com/xuhdev", "followers_url": "https://api.github.com/users/xuhdev/followers", "following_url": "https://api.github.com/users/xuhdev/following{/other_user}", "gists_url": "https://api.github.com/users/xuhdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuhdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuhdev/subscriptions", "organizations_url": "https://api.github.com/users/xuhdev/orgs", "repos_url": "https://api.github.com/users/xuhdev/repos", "events_url": "https://api.github.com/users/xuhdev/events{/privacy}", "received_events_url": "https://api.github.com/users/xuhdev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-02-19T08:34:46Z", "updated_at": "2016-03-01T12:42:23Z", "closed_at": "2016-03-01T03:45:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The following code leads to errors:\n\n``` python\nimport codecs\nimport latexcodec\ntext_latex = u\"hello w\u00f3rld \u4f86\"\nprint(text_latex)\nprint(codecs.encode(text_latex, \"ulatex\"))\n```\n\n```\nValueError: 'latex' codec can't encode character '\\u4f86' in position 0: don't know how to translate '\u4f86' into latex\n```\n\nMaybe we can ignore unknown unicode characters? Actually, I think it might be a good idea to fall back to `utf-8` encoding if an unknown unicode char is encountered.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/40", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/40/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/40/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/40/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/40", "id": 134489676, "node_id": "MDU6SXNzdWUxMzQ0ODk2NzY=", "number": 40, "title": "whitespace handling: strip or not strip?", "user": {"login": "xuhdev", "id": 325476, "node_id": "MDQ6VXNlcjMyNTQ3Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/325476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuhdev", "html_url": "https://github.com/xuhdev", "followers_url": "https://api.github.com/users/xuhdev/followers", "following_url": "https://api.github.com/users/xuhdev/following{/other_user}", "gists_url": "https://api.github.com/users/xuhdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuhdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuhdev/subscriptions", "organizations_url": "https://api.github.com/users/xuhdev/orgs", "repos_url": "https://api.github.com/users/xuhdev/repos", "events_url": "https://api.github.com/users/xuhdev/events{/privacy}", "received_events_url": "https://api.github.com/users/xuhdev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-02-18T06:00:51Z", "updated_at": "2016-03-01T12:20:49Z", "closed_at": "2016-03-01T12:20:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The current decoding function seems strip all spaces in the beginning and end:\n\n``` python\nimport codecs\nimport latexcodec\ntext_latex = b\" hello world \"\nprint(text_latex)\nprint(codecs.decode(text_latex, \"latex\"))\n```\n\nHowever, if `text_latex` is `b\"\\t hello world \"`, the tab is not stripped. I can understand there are good reasons for stripping and not stripping, but this seems to me a non-consistent behavior...\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/37", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/37/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/37/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/37/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/37", "id": 133915545, "node_id": "MDU6SXNzdWUxMzM5MTU1NDU=", "number": 37, "title": "Unknown encoding \"ulatex\"", "user": {"login": "xuhdev", "id": 325476, "node_id": "MDQ6VXNlcjMyNTQ3Ng==", "avatar_url": "https://avatars1.githubusercontent.com/u/325476?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xuhdev", "html_url": "https://github.com/xuhdev", "followers_url": "https://api.github.com/users/xuhdev/followers", "following_url": "https://api.github.com/users/xuhdev/following{/other_user}", "gists_url": "https://api.github.com/users/xuhdev/gists{/gist_id}", "starred_url": "https://api.github.com/users/xuhdev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xuhdev/subscriptions", "organizations_url": "https://api.github.com/users/xuhdev/orgs", "repos_url": "https://api.github.com/users/xuhdev/repos", "events_url": "https://api.github.com/users/xuhdev/events{/privacy}", "received_events_url": "https://api.github.com/users/xuhdev/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-02-16T08:34:20Z", "updated_at": "2016-02-18T09:37:23Z", "closed_at": "2016-02-18T09:37:23Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I tried the example in the \"Get Started\":\n\n``` python\nimport codecs\nimport latexcodec\ntext_latex = u\"\\\\'el\\\\`eve\"\ncodecs.decode(text_latex, \"ulatex\")\n```\n\nHowever, I got the error \n\n```\nTraceback (most recent call last):\n  File \"test.py\", line 4, in <module>\n    codecs.decode(text_latex, \"ulatex\")\nLookupError: unknown encoding: ulatex\n```\n\nThe result is the same on both Python 2 and 3\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/36", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/36/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/36/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/36", "id": 113220858, "node_id": "MDU6SXNzdWUxMTMyMjA4NTg=", "number": 36, "title": "curly brackets aren't removed", "user": {"login": "nschloe", "id": 181628, "node_id": "MDQ6VXNlcjE4MTYyOA==", "avatar_url": "https://avatars3.githubusercontent.com/u/181628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nschloe", "html_url": "https://github.com/nschloe", "followers_url": "https://api.github.com/users/nschloe/followers", "following_url": "https://api.github.com/users/nschloe/following{/other_user}", "gists_url": "https://api.github.com/users/nschloe/gists{/gist_id}", "starred_url": "https://api.github.com/users/nschloe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nschloe/subscriptions", "organizations_url": "https://api.github.com/users/nschloe/orgs", "repos_url": "https://api.github.com/users/nschloe/repos", "events_url": "https://api.github.com/users/nschloe/events{/privacy}", "received_events_url": "https://api.github.com/users/nschloe/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-10-25T11:47:58Z", "updated_at": "2015-10-26T08:29:20Z", "closed_at": "2015-10-26T08:29:20Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following test fails:\n\n``` python\nimport latexcodec\ntext_latex = b\"{t}est\"\nassert text_latex.decode(\"latex\") == u\"test\"\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/33", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/33/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/33/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/33/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/33", "id": 99446176, "node_id": "MDU6SXNzdWU5OTQ0NjE3Ng==", "number": 33, "title": "Encoding: Delimiting macros using space is wrong in conjunction with bibtex", "user": {"login": "burnpanck", "id": 1310437, "node_id": "MDQ6VXNlcjEzMTA0Mzc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1310437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/burnpanck", "html_url": "https://github.com/burnpanck", "followers_url": "https://api.github.com/users/burnpanck/followers", "following_url": "https://api.github.com/users/burnpanck/following{/other_user}", "gists_url": "https://api.github.com/users/burnpanck/gists{/gist_id}", "starred_url": "https://api.github.com/users/burnpanck/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/burnpanck/subscriptions", "organizations_url": "https://api.github.com/users/burnpanck/orgs", "repos_url": "https://api.github.com/users/burnpanck/repos", "events_url": "https://api.github.com/users/burnpanck/events{/privacy}", "received_events_url": "https://api.github.com/users/burnpanck/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-08-06T14:19:20Z", "updated_at": "2019-01-18T13:18:19Z", "closed_at": "2019-01-18T13:18:19Z", "author_association": "NONE", "active_lock_reason": null, "body": "In BibTeX bibliography files, spaces in author names get translated into non-breaking spaces (`~`). \nE.g., when used to encode author names, the following happens:\nSource -> encoded -> after bibtex\n`Y\u0131lmaz` -> `Y\\i lmaz` -> `Y\\i~maz`\n`\u0130mamo\u011flu` -> `\\.Imamo\\u glu` -> `\\.Imamo\\u~glu`\nInstead we should get `Y\\i{}lmaz` and  `\\.Imamo\\u{g}lu` or `\\.Imamo\\u{}glu`.\nI was able to fix the first by patching the encoder method `get_space_bytes` such that `{}` is used when a macro needs to be separated. The second one however I was unable to fix, since the space is part of the replacement text in the translation table.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/32", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/32/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/32/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/32", "id": 49478418, "node_id": "MDU6SXNzdWU0OTQ3ODQxOA==", "number": 32, "title": "Characters truncated when lexing", "user": {"login": "beltiste", "id": 1772765, "node_id": "MDQ6VXNlcjE3NzI3NjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1772765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beltiste", "html_url": "https://github.com/beltiste", "followers_url": "https://api.github.com/users/beltiste/followers", "following_url": "https://api.github.com/users/beltiste/following{/other_user}", "gists_url": "https://api.github.com/users/beltiste/gists{/gist_id}", "starred_url": "https://api.github.com/users/beltiste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beltiste/subscriptions", "organizations_url": "https://api.github.com/users/beltiste/orgs", "repos_url": "https://api.github.com/users/beltiste/repos", "events_url": "https://api.github.com/users/beltiste/events{/privacy}", "received_events_url": "https://api.github.com/users/beltiste/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-11-20T01:33:11Z", "updated_at": "2014-11-21T01:33:14Z", "closed_at": "2014-11-21T01:33:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following examples illustrate my point.\n\nThis affects 1.1, and the develop branch.\n\n``` python\nIn [1]: from latexcodec import LatexLexer\n\nIn [2]: list(LatexLexer().get_raw_tokens('\\\\cmd[opt]{arg}'))\nOut[2]: [Token(name='control_word', text='\\\\cmd')]\n```\n\nMissing '[opt]{arg}'.\n\n``` python\nIn [3]: list(LatexLexer().get_raw_tokens('\\\\cmd[opt] {arg}'))\nOut[3]:\n[Token(name='control_word', text='\\\\cmd'),\n Token(name='chars', text='[opt]'),\n Token(name='space', text=' '),\n Token(name='chars', text='{'),\n Token(name='chars', text='a'),\n Token(name='chars', text='r'),\n Token(name='chars', text='g')]\n```\n\nMissing '}'\n\n``` python\nIn [4]: list(LatexLexer().get_raw_tokens('\\\\cmd[opt]{ arg}'))\nOut[4]:\n[Token(name='control_word', text='\\\\cmd'),\n Token(name='chars', text='[opt]{'),\n Token(name='space', text=' '),\n Token(name='chars', text='a'),\n Token(name='chars', text='r'),\n Token(name='chars', text='g')]\n```\n\nmissing '}'\n\n``` python\nIn [5]: list(LatexLexer().get_raw_tokens('\\\\cmd[opt]{arg} '))\nOut[5]:\n[Token(name='control_word', text='\\\\cmd'),\n Token(name='chars', text='[opt]{arg}')]\n```\n\nmissing ' '\n\n``` python\nIn [6]: list(LatexLexer().get_raw_tokens(' \\\\cmd[opt]{arg}\\\\'))\nOut[6]:\n[Token(name='space', text=' '),\n Token(name='control_word', text='\\\\cmd'),\n Token(name='chars', text='[opt]{arg}')]\n```\n\nmissing '\\'\n\n``` python\nIn [7]: list(LatexLexer().get_raw_tokens(' \\\\cmd[opt]{arg}\\\\ \"'))\nOut[7]:\n[Token(name='space', text=' '),\n Token(name='control_word', text='\\\\cmd'),\n Token(name='chars', text='[opt]{arg}'),\n Token(name='control_symbol', text='\\\\ ')]\n```\n\nmissing '\"'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/30", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/30/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/30/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/30/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/30", "id": 44538120, "node_id": "MDU6SXNzdWU0NDUzODEyMA==", "number": 30, "title": "Support unicode combining characters.", "user": {"login": "mcmtroffaes", "id": 158568, "node_id": "MDQ6VXNlcjE1ODU2OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/158568?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcmtroffaes", "html_url": "https://github.com/mcmtroffaes", "followers_url": "https://api.github.com/users/mcmtroffaes/followers", "following_url": "https://api.github.com/users/mcmtroffaes/following{/other_user}", "gists_url": "https://api.github.com/users/mcmtroffaes/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcmtroffaes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcmtroffaes/subscriptions", "organizations_url": "https://api.github.com/users/mcmtroffaes/orgs", "repos_url": "https://api.github.com/users/mcmtroffaes/repos", "events_url": "https://api.github.com/users/mcmtroffaes/events{/privacy}", "received_events_url": "https://api.github.com/users/mcmtroffaes/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2014-10-01T08:09:24Z", "updated_at": "2019-01-18T13:19:10Z", "closed_at": "2019-01-18T13:19:10Z", "author_association": "OWNER", "active_lock_reason": null, "body": "It would be simpler to convert unicode to its canonical decomposition (NFD):\n\nhttps://docs.python.org/2/library/unicodedata.html#unicodedata.normalize\n\nand then to translate combining characters to latex code directly. This would also allow us to support some more exotic cases such as those described in issue #24. The current develop branch has preliminary support for tokenizing unicode in a way that combining characters can be processed (see commit 0cf908de9bded593e774730410657087f6627707) but it is currently not yet used.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/29", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/29/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/29/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/29/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/29", "id": 44515846, "node_id": "MDU6SXNzdWU0NDUxNTg0Ng==", "number": 29, "title": "Spaces following $ and $$ not preserved", "user": {"login": "beltiste", "id": 1772765, "node_id": "MDQ6VXNlcjE3NzI3NjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1772765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beltiste", "html_url": "https://github.com/beltiste", "followers_url": "https://api.github.com/users/beltiste/followers", "following_url": "https://api.github.com/users/beltiste/following{/other_user}", "gists_url": "https://api.github.com/users/beltiste/gists{/gist_id}", "starred_url": "https://api.github.com/users/beltiste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beltiste/subscriptions", "organizations_url": "https://api.github.com/users/beltiste/orgs", "repos_url": "https://api.github.com/users/beltiste/repos", "events_url": "https://api.github.com/users/beltiste/events{/privacy}", "received_events_url": "https://api.github.com/users/beltiste/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-10-01T00:28:00Z", "updated_at": "2014-10-01T23:36:58Z", "closed_at": "2014-10-01T23:36:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following examples illustrate the problem:\n\n```\nIn [1]: import latexcodec\n\nIn [2]: 'This is a $\\psi$ test.'.decode('latex')\nOut[2]: u'This is a \\u03c8test.'\n\nIn [3]: 'This is a $\\psi$  test.'.decode('latex')\nOut[3]: u'This is a \\u03c8test.'\n\nIn [4]: 'This is a $\\psi $  test.'.decode('latex')\nOut[4]: u'This is a \\u03c8test.'\n\nIn [5]: r'This is a $\\leq$ test.'.decode('latex')\nOut[5]: u'This is a \\u2264test.'\n\nIn [6]: r'This is a $\\leq\\leq$ test.'.decode('latex')\nOut[6]: u'This is a $\\\\leq \\\\leq $test.'\n\nIn [7]: r'This is a $$\\leq\\leq$$ t.'.decode('latex')\nOut[7]: u'This is a $$\\\\leq \\\\leq $$t.'\n```\n\nUsing `\\(\\)` and `\\[\\]` for inline preserves the spaces.\n\n```\nIn [8]: r'This is a \\(\\leq\\) t.'.decode('latex')\nOut[8]: u'This is a \\\\(\\\\leq \\\\) t.'\n\nIn [9]: r'This is a \\(\\leq\\leq\\) t.'.decode('latex')\nOut[9]: u'This is a \\\\(\\\\leq \\\\leq \\\\) t.'\n\nIn [10]: r'This is a \\[\\leq\\] t.'.decode('latex')\nOut[10]: u'This is a \\\\[\\\\leq \\\\] t.'\n\nIn [11]: r'This is a \\[\\leq\\leq\\] t.'.decode('latex')\nOut[11]: u'This is a \\\\[\\\\leq \\\\leq \\\\] t.'\n```\n\nDisplay math is converted to inline math as well.\n\n```\nIn [12]: r'This is a $$\\leq$$ t.'.decode('latex')\nOut[12]: u'This is a $\\u2264$t.'\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/24", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/24/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/24/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/24", "id": 43573373, "node_id": "MDU6SXNzdWU0MzU3MzM3Mw==", "number": 24, "title": "Ogonek registered as cedilla accents", "user": {"login": "beltiste", "id": 1772765, "node_id": "MDQ6VXNlcjE3NzI3NjU=", "avatar_url": "https://avatars1.githubusercontent.com/u/1772765?v=4", "gravatar_id": "", "url": "https://api.github.com/users/beltiste", "html_url": "https://github.com/beltiste", "followers_url": "https://api.github.com/users/beltiste/followers", "following_url": "https://api.github.com/users/beltiste/following{/other_user}", "gists_url": "https://api.github.com/users/beltiste/gists{/gist_id}", "starred_url": "https://api.github.com/users/beltiste/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/beltiste/subscriptions", "organizations_url": "https://api.github.com/users/beltiste/orgs", "repos_url": "https://api.github.com/users/beltiste/repos", "events_url": "https://api.github.com/users/beltiste/events{/privacy}", "received_events_url": "https://api.github.com/users/beltiste/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2014-09-23T00:06:48Z", "updated_at": "2014-10-01T08:09:24Z", "closed_at": "2014-09-30T22:10:17Z", "author_association": "NONE", "active_lock_reason": null, "body": "The [ogonek](http://en.wikipedia.org/wiki/Ogonek) accent is registered as [cedilla](http://en.wikipedia.org/wiki/Cedilla), [for example](https://github.com/mcmtroffaes/latexcodec/blob/develop/latexcodec/codec.py#L240).\n\nAs per the [LaTeX wikibooks](http://en.wikibooks.org/wiki/LaTeX/Special_Characters#Escaped_codes) and testing, ogonek characters are rendered in LaTeX with `\\k`.\n\nI can submit a pull request. Thanks for your time.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/17", "repository_url": "https://api.github.com/repos/mcmtroffaes/latexcodec", "labels_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/17/comments", "events_url": "https://api.github.com/repos/mcmtroffaes/latexcodec/issues/17/events", "html_url": "https://github.com/mcmtroffaes/latexcodec/issues/17", "id": 29427398, "node_id": "MDU6SXNzdWUyOTQyNzM5OA==", "number": 17, "title": "underscores are not encoded correctly", "user": {"login": "mradziej", "id": 81585, "node_id": "MDQ6VXNlcjgxNTg1", "avatar_url": "https://avatars2.githubusercontent.com/u/81585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mradziej", "html_url": "https://github.com/mradziej", "followers_url": "https://api.github.com/users/mradziej/followers", "following_url": "https://api.github.com/users/mradziej/following{/other_user}", "gists_url": "https://api.github.com/users/mradziej/gists{/gist_id}", "starred_url": "https://api.github.com/users/mradziej/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mradziej/subscriptions", "organizations_url": "https://api.github.com/users/mradziej/orgs", "repos_url": "https://api.github.com/users/mradziej/repos", "events_url": "https://api.github.com/users/mradziej/events{/privacy}", "received_events_url": "https://api.github.com/users/mradziej/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2014-03-14T11:40:47Z", "updated_at": "2014-03-14T14:31:33Z", "closed_at": "2014-03-14T14:31:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "`u\"_\".encode(\"latexcodec\")` returns `b\"_\"`, it should `return br\"\\_\"`\n", "performed_via_github_app": null, "score": 1.0}]}