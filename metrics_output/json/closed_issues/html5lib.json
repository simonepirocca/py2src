{"total_count": 156, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/505", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/505/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/505/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/505/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/505", "id": 675506176, "node_id": "MDU6SXNzdWU2NzU1MDYxNzY=", "number": 505, "title": "pytest 6: PytestDeprecationWarning: Direct construction of TokenizerFile has been deprecated, please use TokenizerFile.from_parent.", "user": {"login": "hroncok", "id": 2401856, "node_id": "MDQ6VXNlcjI0MDE4NTY=", "avatar_url": "https://avatars2.githubusercontent.com/u/2401856?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hroncok", "html_url": "https://github.com/hroncok", "followers_url": "https://api.github.com/users/hroncok/followers", "following_url": "https://api.github.com/users/hroncok/following{/other_user}", "gists_url": "https://api.github.com/users/hroncok/gists{/gist_id}", "starred_url": "https://api.github.com/users/hroncok/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hroncok/subscriptions", "organizations_url": "https://api.github.com/users/hroncok/orgs", "repos_url": "https://api.github.com/users/hroncok/repos", "events_url": "https://api.github.com/users/hroncok/events{/privacy}", "received_events_url": "https://api.github.com/users/hroncok/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-08-08T10:52:37Z", "updated_at": "2020-08-10T13:08:24Z", "closed_at": "2020-08-10T13:08:24Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This is what I get when I run tests with pytest 6.0.1:\r\n\r\n```\r\n============================= test session starts ==============================\r\nplatform linux -- Python 3.9.0b5, pytest-6.0.1, py-1.9.0, pluggy-0.13.1\r\nrootdir: /builddir/build/BUILD/html5lib-1.1, configfile: pytest.ini\r\nplugins: expect-1.1.0\r\ncollected 0 items / 1 error\r\n\r\n==================================== ERRORS ====================================\r\n________________________ ERROR collecting test session _________________________\r\n/usr/lib/python3.9/site-packages/pluggy/hooks.py:286: in __call__\r\n    return self._hookexec(self, self.get_hookimpls(), kwargs)\r\n/usr/lib/python3.9/site-packages/pluggy/manager.py:93: in _hookexec\r\n    return self._inner_hookexec(hook, methods, kwargs)\r\n/usr/lib/python3.9/site-packages/pluggy/manager.py:84: in <lambda>\r\n    self._inner_hookexec = lambda hook, methods, kwargs: hook.multicall(\r\nhtml5lib/tests/conftest.py:105: in pytest_collect_file\r\n    return TokenizerFile(path, parent)\r\n/usr/lib/python3.9/site-packages/_pytest/nodes.py:95: in __call__\r\n    warnings.warn(NODE_USE_FROM_PARENT.format(name=self.__name__), stacklevel=2)\r\nE   pytest.PytestDeprecationWarning: Direct construction of TokenizerFile has been deprecated, please use TokenizerFile.from_parent.\r\nE   See https://docs.pytest.org/en/stable/deprecations.html#node-construction-changed-to-node-from-parent for more details.\r\n```\r\n\r\nSee https://docs.pytest.org/en/stable/deprecations.html#node-construction-changed-to-node-from-parent for more details.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/500", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/500/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/500/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/500/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/500", "id": 635543607, "node_id": "MDU6SXNzdWU2MzU1NDM2MDc=", "number": 500, "title": "Forms inside a table is not parsed correctly", "user": {"login": "mkauschi", "id": 19614923, "node_id": "MDQ6VXNlcjE5NjE0OTIz", "avatar_url": "https://avatars0.githubusercontent.com/u/19614923?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mkauschi", "html_url": "https://github.com/mkauschi", "followers_url": "https://api.github.com/users/mkauschi/followers", "following_url": "https://api.github.com/users/mkauschi/following{/other_user}", "gists_url": "https://api.github.com/users/mkauschi/gists{/gist_id}", "starred_url": "https://api.github.com/users/mkauschi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mkauschi/subscriptions", "organizations_url": "https://api.github.com/users/mkauschi/orgs", "repos_url": "https://api.github.com/users/mkauschi/repos", "events_url": "https://api.github.com/users/mkauschi/events{/privacy}", "received_events_url": "https://api.github.com/users/mkauschi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2020-06-09T15:38:03Z", "updated_at": "2020-06-10T01:31:21Z", "closed_at": "2020-06-10T01:31:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "When I am parsing something like this example below, I get a wrong output. I know that the HTML code is not valid but I think html5lib should not make it more invalid like it is now.\r\n\r\n```python\r\nhtml = \"\"\"<table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"100%\" height=\"21px\">\r\n<form name=\"langswitch\" id=\"langswitch\" action=\"\" method=\"post\">\r\n        <input type=\"hidden\" name=\"newlang\" id=\"newlang\" value=\"\"/>\r\n        <input type=\"hidden\" name=\"pid\" id=\"pid\" value=\"\"/>\r\n    </form>\r\n    <tr valign=\"middle\">\r\n        <td width=\"795px\">\r\n            ...\r\n        </td>\r\n        <td align=\"right\">\r\n            ...\r\n        </td>\r\n    </tr>\r\n</table>\r\n\"\"\"\r\n\r\nparsed = html5lib.parse(html)\r\nprint(html5lib.serialize(parsed, omit_optional_tags=False))\r\n```\r\n\r\nThe result is the following:\r\n```html\r\n<html><head></head><body><table cellspacing=0 cellpadding=0 border=0 width=100% height=21px>\r\n<form name=langswitch id=langswitch action=\"\" method=post></form>\r\n        <input type=hidden name=newlang id=newlang value=\"\">\r\n        <input type=hidden name=pid id=pid value=\"\">\r\n    \r\n    <tbody><tr valign=middle>\r\n        <td width=795px>\r\n            ...\r\n        </td>\r\n        <td align=right>\r\n            ...\r\n        </td>\r\n    </tr>\r\n</tbody></table>\r\n</body></html>\r\n```\r\n\r\nIs this intended behaviour?\r\n\r\nThanks for you help!", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/498", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/498/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/498/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/498/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/498", "id": 625940067, "node_id": "MDU6SXNzdWU2MjU5NDAwNjc=", "number": 498, "title": "Codecov migration to marketplace app", "user": {"login": "thomasrockhu", "id": 4213028, "node_id": "MDQ6VXNlcjQyMTMwMjg=", "avatar_url": "https://avatars2.githubusercontent.com/u/4213028?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomasrockhu", "html_url": "https://github.com/thomasrockhu", "followers_url": "https://api.github.com/users/thomasrockhu/followers", "following_url": "https://api.github.com/users/thomasrockhu/following{/other_user}", "gists_url": "https://api.github.com/users/thomasrockhu/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomasrockhu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomasrockhu/subscriptions", "organizations_url": "https://api.github.com/users/thomasrockhu/orgs", "repos_url": "https://api.github.com/users/thomasrockhu/repos", "events_url": "https://api.github.com/users/thomasrockhu/events{/privacy}", "received_events_url": "https://api.github.com/users/thomasrockhu/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-27T18:44:23Z", "updated_at": "2020-06-26T11:48:19Z", "closed_at": "2020-06-18T06:51:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "\nHi, Tom from [Codecov](https://codecov.io) here.\n\nWe noticed that you are using Codecov with fairly high frequency, and we\u2019re so excited to see that! However, because you are not using our app, you may have experienced issues with uploading reports or viewing coverage information. This is due to rate-limiting issues from GitHub.\n\n**In order to prevent any future outages, we ask that you move over to our [GitHub app integration](https://github.com/apps/codecov).**\n\nThe process is extremely simple and shouldn\u2019t require more than a few clicks, and you should not expect any downtime. By moving to our app, you will no longer need an admin or separate account to manage the relationship with GitHub as the team bot.\n\nLet me know if you have any questions, or if I can help at all with this process.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/494", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/494/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/494/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/494/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/494", "id": 622228446, "node_id": "MDU6SXNzdWU2MjIyMjg0NDY=", "number": 494, "title": "Avoid cElementTree on Python 3", "user": {"login": "uranusjr", "id": 605277, "node_id": "MDQ6VXNlcjYwNTI3Nw==", "avatar_url": "https://avatars1.githubusercontent.com/u/605277?v=4", "gravatar_id": "", "url": "https://api.github.com/users/uranusjr", "html_url": "https://github.com/uranusjr", "followers_url": "https://api.github.com/users/uranusjr/followers", "following_url": "https://api.github.com/users/uranusjr/following{/other_user}", "gists_url": "https://api.github.com/users/uranusjr/gists{/gist_id}", "starred_url": "https://api.github.com/users/uranusjr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/uranusjr/subscriptions", "organizations_url": "https://api.github.com/users/uranusjr/orgs", "repos_url": "https://api.github.com/users/uranusjr/repos", "events_url": "https://api.github.com/users/uranusjr/events{/privacy}", "received_events_url": "https://api.github.com/users/uranusjr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-05-21T03:55:52Z", "updated_at": "2020-06-17T21:24:24Z", "closed_at": "2020-06-17T21:24:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "`cElementTree` has been [deprecated since 3.3](https://docs.python.org/3/library/xml.etree.elementtree.html), and is simply an alias to `ElementTree` right now. It [will be removed in the Python 3.10](https://bugs.python.org/issue36543).\r\n\r\nOriginally filed as: pypa/pip#8278\r\nSee also: python/cpython#19921", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/490", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/490/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/490/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/490/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/490", "id": 614973632, "node_id": "MDU6SXNzdWU2MTQ5NzM2MzI=", "number": 490, "title": "Serializer modifies HTML", "user": {"login": "davaya", "id": 19152940, "node_id": "MDQ6VXNlcjE5MTUyOTQw", "avatar_url": "https://avatars3.githubusercontent.com/u/19152940?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davaya", "html_url": "https://github.com/davaya", "followers_url": "https://api.github.com/users/davaya/followers", "following_url": "https://api.github.com/users/davaya/following{/other_user}", "gists_url": "https://api.github.com/users/davaya/gists{/gist_id}", "starred_url": "https://api.github.com/users/davaya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davaya/subscriptions", "organizations_url": "https://api.github.com/users/davaya/orgs", "repos_url": "https://api.github.com/users/davaya/repos", "events_url": "https://api.github.com/users/davaya/events{/privacy}", "received_events_url": "https://api.github.com/users/davaya/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2020-05-08T20:36:53Z", "updated_at": "2020-05-10T17:40:59Z", "closed_at": "2020-05-09T19:51:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "Parsing and then writing an HTML file results in corruption - some closing elements are missing, and some string attributes are not output as strings.\r\n\r\n    import html5lib\r\n    \r\n    file_in = 'divlayout.html'\r\n    file_out = 'divlayout_out.html'\r\n    parser = html5lib.HTMLParser(strict=True, namespaceHTMLElements=False)\r\n    with open(file_in, 'rb') as f:\r\n        doc = parser.parse(f)\r\n    out = html5lib.serializer.serialize(doc)\r\n    print(out)\r\n    with open(file_out, 'w') as f:\r\n        f.write(out)\r\n\r\nUsing an example HTML file from https://www.tutorialrepublic.com/html-tutorial/html-layout.php, the body portion of the input is:\r\n\r\n    </head>\r\n    <body>\r\n        <div class=\"container\">\r\n            <header>\r\n                <h1>Tutorial Republic</h1>\r\n            </header>\r\n            <div class=\"wrapper clearfix\">\r\n                <nav>\r\n                    <ul>\r\n                        <li><a href=\"#\">Home</a></li>\r\n                        <li><a href=\"#\">About</a></li>\r\n                        <li><a href=\"#\">Contact</a></li>\r\n                    </ul>\r\n                </nav>\r\n                <section>\r\n                    <h2>Welcome to our site</h2>\r\n                    <p>Here you will learn how to create websites...</p>\r\n                </section>\r\n            </div>\r\n            <footer>\r\n                <p>copyright &copy; tutorialrepublic.com</p>\r\n            </footer>\r\n        </div>\r\n    </body>\r\n    </html>\r\n\r\nBut the serialized output is:\r\n\r\n    </head>\r\n    <body>\r\n        <div class=container>\r\n            <header>\r\n                <h1>Tutorial Republic</h1>\r\n            </header>\r\n            <div class=\"wrapper clearfix\">\r\n                <nav>\r\n                    <ul>\r\n                        <li><a href=#>Home</a></li>\r\n                        <li><a href=#>About</a></li>\r\n                        <li><a href=#>Contact</a></li>\r\n                    </ul>\r\n                </nav>\r\n                <section>\r\n                    <h2>Welcome to our site</h2>\r\n                    <p>Here you will learn how to create websites...</p>\r\n                </section>\r\n            </div>\r\n            <footer>\r\n                <p>copyright \ufffd tutorialrepublic.com</p>\r\n            </footer>\r\n        </div>\r\n\r\nErrors:\r\n1. The top class attribute \"container\" is missing quotes, while in the second class attribute the quotes are correctly preserved. *\r\n2.  The three anchors (\"#\") are missing quotes.\r\n3.  Most closing tags including `</head>` are preserved, but the closing `</body>` and `</html>` tags are missing. *\r\n4. The HTML entity `&copy;` is converted into a character instead of being preserved as an entity.  This appears to be a parser rather than serializer problem.\r\n\r\nUnit tests should include a serializer test comparing input and output HTML files.\r\n\r\n* https://stackoverflow.com/questions/6495310/do-you-quote-html5-attributes discusses when quotes *may* be omitted.  But if an author chooses to always include them as recommended, the serializer should not arbitrarily delete them.\r\n\r\n* https://blog.teamtreehouse.com/to-close-or-not-to-close-tags-in-html5 describes which tags are optional.  But as above, if an author chooses to include (or not include) optional closing tags, the serializer should not arbitrarily change her choice.\r\n\"*Code with closing tags is much more readable and easy to follow. It is much easier to visually inspect a page with well laid out markup. Working with this markup is easier for developers.*\"", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/488", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/488/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/488/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/488/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/488", "id": 613527720, "node_id": "MDU6SXNzdWU2MTM1Mjc3MjA=", "number": 488, "title": "lxml doesn't roundtrip comments after </html>", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35203466, "node_id": "MDU6TGFiZWwzNTIwMzQ2Ng==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 44414846, "node_id": "MDU6TGFiZWw0NDQxNDg0Ng==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/parser", "name": "parser", "color": "5319e7", "default": false, "description": null}, {"id": 44414871, "node_id": "MDU6TGFiZWw0NDQxNDg3MQ==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/serializer", "name": "serializer", "color": "207de5", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-05-06T18:36:03Z", "updated_at": "2020-06-09T01:28:35Z", "closed_at": "2020-06-09T01:28:35Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\r\n>>> from html5lib import parse, serialize\r\n>>> start = \"</html><!-- a --><!-- b -->\"\r\n>>> print(serialize(parse(start, treebuilder=\"lxml\"), tree=\"lxml\"))\r\n</html><!-- b --><!-- a -->\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/451", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/451/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/451/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/451/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/451", "id": 571643358, "node_id": "MDU6SXNzdWU1NzE2NDMzNTg=", "number": 451, "title": "1.0.1: trst suite is failing", "user": {"login": "kloczek", "id": 31284574, "node_id": "MDQ6VXNlcjMxMjg0NTc0", "avatar_url": "https://avatars0.githubusercontent.com/u/31284574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kloczek", "html_url": "https://github.com/kloczek", "followers_url": "https://api.github.com/users/kloczek/followers", "following_url": "https://api.github.com/users/kloczek/following{/other_user}", "gists_url": "https://api.github.com/users/kloczek/gists{/gist_id}", "starred_url": "https://api.github.com/users/kloczek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kloczek/subscriptions", "organizations_url": "https://api.github.com/users/kloczek/orgs", "repos_url": "https://api.github.com/users/kloczek/repos", "events_url": "https://api.github.com/users/kloczek/events{/privacy}", "received_events_url": "https://api.github.com/users/kloczek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2020-02-26T20:35:36Z", "updated_at": "2020-07-03T09:32:29Z", "closed_at": "2020-02-26T22:51:38Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\r\n+ cd html5lib-1.0.1\r\n+ /usr/bin/python3 -m pytest -k 'not test_encoding'\r\n========================================================================================= test session starts ==========================================================================================\r\nplatform linux -- Python 3.8.2rc2, pytest-4.6.9, py-1.8.0, pluggy-0.13.1\r\nhypothesis profile 'default' -> database=DirectoryBasedExampleDatabase('/home/tkloczko/rpmbuild/BUILD/html5lib-1.0.1/.hypothesis/examples')\r\nrootdir: /home/tkloczko/rpmbuild/BUILD/html5lib-1.0.1, inifile: pytest.ini\r\nplugins: flaky-3.5.3, forked-1.1.1, mock-1.10.4, expect-1.1.0, hypothesis-4.23.8, xdist-1.31.0, httpbin-0.3.0, cov-2.8.1\r\ncollected 28011 items / 1 errors / 30 deselected / 27980 selected\r\n\r\n================================================================================================ ERRORS ================================================================================================\r\n____________________________________________________________________________ ERROR collecting html5lib/tests/test_stream.py ____________________________________________________________________________\r\n/usr/lib/python3.8/site-packages/pluggy/hooks.py:286: in __call__\r\n    return self._hookexec(self, self.get_hookimpls(), kwargs)\r\n/usr/lib/python3.8/site-packages/pluggy/manager.py:93: in _hookexec\r\n    return self._inner_hookexec(hook, methods, kwargs)\r\n/usr/lib/python3.8/site-packages/pluggy/manager.py:84: in <lambda>\r\n    self._inner_hookexec = lambda hook, methods, kwargs: hook.multicall(\r\n/usr/lib/python3.8/site-packages/_pytest/python.py:234: in pytest_pycollect_makeitem\r\n    res = list(collector._genfunctions(name, obj))\r\n/usr/lib/python3.8/site-packages/_pytest/python.py:410: in _genfunctions\r\n    self.ihook.pytest_generate_tests(metafunc=metafunc)\r\n/usr/lib/python3.8/site-packages/pluggy/hooks.py:286: in __call__\r\n    return self._hookexec(self, self.get_hookimpls(), kwargs)\r\n/usr/lib/python3.8/site-packages/pluggy/manager.py:93: in _hookexec\r\n    return self._inner_hookexec(hook, methods, kwargs)\r\n/usr/lib/python3.8/site-packages/pluggy/manager.py:84: in <lambda>\r\n    self._inner_hookexec = lambda hook, methods, kwargs: hook.multicall(\r\n/usr/lib/python3.8/site-packages/_pytest/python.py:137: in pytest_generate_tests\r\n    metafunc.parametrize(*marker.args, **marker.kwargs)\r\n/usr/lib/python3.8/site-packages/_pytest/python.py:999: in parametrize\r\n    argnames, parameters = ParameterSet._for_parametrize(\r\n/usr/lib/python3.8/site-packages/_pytest/mark/structures.py:131: in _for_parametrize\r\n    if len(param.values) != len(argnames):\r\nE   TypeError: object of type 'MarkDecorator' has no len()\r\n=========================================================================================== warnings summary ===========================================================================================\r\nhtml5lib/tests/test_encoding.py:98\r\n  html5lib/tests/test_encoding.py:98: PytestCollectionWarning: yield tests were removed in pytest 4.0 - test_encoding will be ignored\r\n    def test_encoding():\r\n\r\nhtml5lib/tests/test_sanitizer.py:62\r\n  html5lib/tests/test_sanitizer.py:62: PytestCollectionWarning: yield tests were removed in pytest 4.0 - test_sanitizer will be ignored\r\n    def test_sanitizer():\r\n\r\nhtml5lib/tests/test_serializer.py:220\r\n  html5lib/tests/test_serializer.py:220: PytestCollectionWarning: yield tests were removed in pytest 4.0 - test_serializer will be ignored\r\n    def test_serializer():\r\n\r\nhtml5lib/tests/test_treewalkers.py:81\r\n  html5lib/tests/test_treewalkers.py:81: PytestCollectionWarning: yield tests were removed in pytest 4.0 - test_treewalker_six_mix will be ignored\r\n    def test_treewalker_six_mix():\r\n\r\n-- Docs: https://docs.pytest.org/en/latest/warnings.html\r\n===Flaky Test Report===\r\n\r\n\r\n===End Flaky Test Report===\r\n======================================================================================= short test summary info ========================================================================================\r\nFAILED html5lib/tests/test_stream.py - TypeError: object of type 'MarkDecorator' has no len()\r\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Interrupted: 1 errors during collection !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n========================================================================== 30 deselected, 4 warnings, 1 error in 3.07 seconds ==========================================================================\r\nerror: Bad exit status from /var/tmp/rpm-tmp.SzcpRn (%check)\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/448", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/448/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/448/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/448/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/448", "id": 571453244, "node_id": "MDU6SXNzdWU1NzE0NTMyNDQ=", "number": 448, "title": "Initial Update", "user": {"login": "pyup-bot", "id": 16239342, "node_id": "MDQ6VXNlcjE2MjM5MzQy", "avatar_url": "https://avatars0.githubusercontent.com/u/16239342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pyup-bot", "html_url": "https://github.com/pyup-bot", "followers_url": "https://api.github.com/users/pyup-bot/followers", "following_url": "https://api.github.com/users/pyup-bot/following{/other_user}", "gists_url": "https://api.github.com/users/pyup-bot/gists{/gist_id}", "starred_url": "https://api.github.com/users/pyup-bot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pyup-bot/subscriptions", "organizations_url": "https://api.github.com/users/pyup-bot/orgs", "repos_url": "https://api.github.com/users/pyup-bot/repos", "events_url": "https://api.github.com/users/pyup-bot/events{/privacy}", "received_events_url": "https://api.github.com/users/pyup-bot/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-26T15:09:09Z", "updated_at": "2020-02-26T15:19:04Z", "closed_at": "2020-02-26T15:19:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "The bot created this issue to inform you that pyup.io has been set up on this repo.\nOnce you have closed it, the bot will open pull requests for updates as soon as they are available.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/444", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/444/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/444/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/444/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/444", "id": 571026356, "node_id": "MDU6SXNzdWU1NzEwMjYzNTY=", "number": 444, "title": "Have something saying what I, as an existing maintainer, think are sane next steps", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 1, "created_at": "2020-02-26T02:29:59Z", "updated_at": "2020-02-26T14:55:59Z", "closed_at": "2020-02-26T14:55:59Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Sometime last year I wrote in an email what I thought were the next few things that should happen with html5lib if someone were to more actively maintain it. I should dig this up and do something appropriate with it. (Maybe just dump it in this new issue.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/442", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/442/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/442/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/442/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/442", "id": 571006867, "node_id": "MDU6SXNzdWU1NzEwMDY4Njc=", "number": 442, "title": "Allow datrie with recent Python / Drop datrie?", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2020-02-26T01:53:43Z", "updated_at": "2020-06-10T02:22:24Z", "closed_at": "2020-06-10T02:22:24Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We limit the datrie optional dependency to Python < 3.7, because prior to the 0.8 release it didn't support Python 3.7. Probably, we should either:\r\n\r\n * Require datrie >= 0.8\r\n * Drop support for datrie (this depends in part of the perf impact of doing so)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/439", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/439/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/439/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/439/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/439", "id": 570782020, "node_id": "MDU6SXNzdWU1NzA3ODIwMjA=", "number": 439, "title": "Document Python version support policy", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35258017, "node_id": "MDU6TGFiZWwzNTI1ODAxNw==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/documentation", "name": "documentation", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2020-02-25T19:28:52Z", "updated_at": "2020-02-26T14:58:48Z", "closed_at": "2020-02-26T14:58:48Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It's been an intended goal to match a (non-strict) superset of the versions that [pip supports](https://pip.pypa.io/en/stable/installing/#python-and-os-compatibility). We should probably document this somewhere.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/419", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/419/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/419/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/419/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/419", "id": 445670526, "node_id": "MDU6SXNzdWU0NDU2NzA1MjY=", "number": 419, "title": "New release on PyPI?", "user": {"login": "pganssle", "id": 1377457, "node_id": "MDQ6VXNlcjEzNzc0NTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1377457?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pganssle", "html_url": "https://github.com/pganssle", "followers_url": "https://api.github.com/users/pganssle/followers", "following_url": "https://api.github.com/users/pganssle/following{/other_user}", "gists_url": "https://api.github.com/users/pganssle/gists{/gist_id}", "starred_url": "https://api.github.com/users/pganssle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pganssle/subscriptions", "organizations_url": "https://api.github.com/users/pganssle/orgs", "repos_url": "https://api.github.com/users/pganssle/repos", "events_url": "https://api.github.com/users/pganssle/events{/privacy}", "received_events_url": "https://api.github.com/users/pganssle/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 27, "created_at": "2019-05-18T02:41:18Z", "updated_at": "2020-06-22T23:36:06Z", "closed_at": "2020-06-22T23:35:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since this library is vendored by `pip`, which is itself vendored in CPython's `ensurepip` module, the fact that there's no release that includes PR #403 is blocking the removal of the deprecated abstract base classes from the `collections` module, long advertised as happening in Python 3.8, see https://github.com/python/cpython/pull/10596\r\n\r\nNormally I am the last person to ask for releases (I assume maintainers have good reasons for not doing so, and I usually don't like being on the receiving end of such requests), but the deadline for the 3.8 beta release is coming up very soon, so if there's any way to expedite an `html5lib` release it would really help that effort, and it would avoid stickier solutions like patching `html5lib` directly in `pip`.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/411", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/411/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/411/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/411/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/411", "id": 410192254, "node_id": "MDU6SXNzdWU0MTAxOTIyNTQ=", "number": 411, "title": "Support pytest 4", "user": {"login": "FRidh", "id": 2129135, "node_id": "MDQ6VXNlcjIxMjkxMzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/2129135?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FRidh", "html_url": "https://github.com/FRidh", "followers_url": "https://api.github.com/users/FRidh/followers", "following_url": "https://api.github.com/users/FRidh/following{/other_user}", "gists_url": "https://api.github.com/users/FRidh/gists{/gist_id}", "starred_url": "https://api.github.com/users/FRidh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FRidh/subscriptions", "organizations_url": "https://api.github.com/users/FRidh/orgs", "repos_url": "https://api.github.com/users/FRidh/repos", "events_url": "https://api.github.com/users/FRidh/events{/privacy}", "received_events_url": "https://api.github.com/users/FRidh/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-02-14T08:55:27Z", "updated_at": "2020-06-07T16:51:34Z", "closed_at": "2020-06-07T16:51:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "I suppose the test suite is not pytest 4.2 compatible.\r\n\r\n```py\r\n============================= test session starts ==============================\r\nplatform linux -- Python 3.7.2, pytest-4.2.1, py-1.7.0, pluggy-0.8.1\r\nrootdir: /build/html5lib-1.0.1, inifile: pytest.ini\r\nplugins: expect-1.1.0\r\ncollected 31264 items / 1 errors / 31263 selected\r\n\r\n==================================== ERRORS ====================================\r\n________________ ERROR collecting html5lib/tests/test_stream.py ________________\r\n/nix/store/mljhw8f6ng9ny9ahx68m9fj6bq0ghbqv-python3.7-pluggy-0.8.1/lib/python3.7/site-packages/pluggy/hooks.py:284: in __call__\r\n    return self._hookexec(self, self.get_hookimpls(), kwargs)\r\n/nix/store/mljhw8f6ng9ny9ahx68m9fj6bq0ghbqv-python3.7-pluggy-0.8.1/lib/python3.7/site-packages/pluggy/manager.py:68: in _hookexec\r\n    return self._inner_hookexec(hook, methods, kwargs)\r\n/nix/store/mljhw8f6ng9ny9ahx68m9fj6bq0ghbqv-python3.7-pluggy-0.8.1/lib/python3.7/site-packages/pluggy/manager.py:62: in <lambda>\r\n    firstresult=hook.spec.opts.get(\"firstresult\") if hook.spec else False,\r\n/nix/store/pf8c7km0691nci67allvq2ggsgvr8asl-python3.7-pytest-4.2.1/lib/python3.7/site-packages/_pytest/python.py:226: in pytest_pycollect_makeitem\r\n    res = list(collector._genfunctions(name, obj))\r\n/nix/store/pf8c7km0691nci67allvq2ggsgvr8asl-python3.7-pytest-4.2.1/lib/python3.7/site-packages/_pytest/python.py:403: in _genfunctions\r\n    self.ihook.pytest_generate_tests(metafunc=metafunc)\r\n/nix/store/mljhw8f6ng9ny9ahx68m9fj6bq0ghbqv-python3.7-pluggy-0.8.1/lib/python3.7/site-packages/pluggy/hooks.py:284: in __call__\r\n    return self._hookexec(self, self.get_hookimpls(), kwargs)\r\n/nix/store/mljhw8f6ng9ny9ahx68m9fj6bq0ghbqv-python3.7-pluggy-0.8.1/lib/python3.7/site-packages/pluggy/manager.py:68: in _hookexec\r\n    return self._inner_hookexec(hook, methods, kwargs)\r\n/nix/store/mljhw8f6ng9ny9ahx68m9fj6bq0ghbqv-python3.7-pluggy-0.8.1/lib/python3.7/site-packages/pluggy/manager.py:62: in <lambda>\r\n    firstresult=hook.spec.opts.get(\"firstresult\") if hook.spec else False,\r\n/nix/store/pf8c7km0691nci67allvq2ggsgvr8asl-python3.7-pytest-4.2.1/lib/python3.7/site-packages/_pytest/python.py:133: in pytest_generate_tests\r\n    metafunc.parametrize(*marker.args, **marker.kwargs)\r\n/nix/store/pf8c7km0691nci67allvq2ggsgvr8asl-python3.7-pytest-4.2.1/lib/python3.7/site-packages/_pytest/python.py:987: in parametrize\r\n    function_definition=self.definition,\r\n/nix/store/pf8c7km0691nci67allvq2ggsgvr8asl-python3.7-pytest-4.2.1/lib/python3.7/site-packages/_pytest/mark/structures.py:114: in _for_parametrize\r\n    if len(param.values) != len(argnames):\r\nE   TypeError: object of type 'MarkDecorator' has no len()\r\n```\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/410", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/410/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/410/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/410/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/410", "id": 406788221, "node_id": "MDU6SXNzdWU0MDY3ODgyMjE=", "number": 410, "title": "ValueError: All strings must be XML compatible: ", "user": {"login": "megdadmd", "id": 11679860, "node_id": "MDQ6VXNlcjExNjc5ODYw", "avatar_url": "https://avatars0.githubusercontent.com/u/11679860?v=4", "gravatar_id": "", "url": "https://api.github.com/users/megdadmd", "html_url": "https://github.com/megdadmd", "followers_url": "https://api.github.com/users/megdadmd/followers", "following_url": "https://api.github.com/users/megdadmd/following{/other_user}", "gists_url": "https://api.github.com/users/megdadmd/gists{/gist_id}", "starred_url": "https://api.github.com/users/megdadmd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/megdadmd/subscriptions", "organizations_url": "https://api.github.com/users/megdadmd/orgs", "repos_url": "https://api.github.com/users/megdadmd/repos", "events_url": "https://api.github.com/users/megdadmd/events{/privacy}", "received_events_url": "https://api.github.com/users/megdadmd/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-02-05T13:43:08Z", "updated_at": "2020-06-10T02:33:13Z", "closed_at": "2020-06-10T02:33:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\r\nHow can i handle Ellipsis in Python? As you can see in my code, when i use (Next\u2026), i got an error. \r\n\r\nnext_page= response.xpath('//a[text()=\"Next\u2026\"]').extract_first() \r\n\r\nThanks for suggestions. ", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/407", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/407/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/407/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/407/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/407", "id": 390697669, "node_id": "MDU6SXNzdWUzOTA2OTc2Njk=", "number": 407, "title": "tokenizer creates invalid \" attribute", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2018-12-13T14:15:21Z", "updated_at": "2018-12-14T21:29:45Z", "closed_at": "2018-12-14T21:15:16Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "If there's an unclosed \", then the tokenizer will toss that in as an attribute name. Here's an example:\r\n\r\n```\r\nimport html5lib\r\nwalker = html5lib.getTreeWalker('etree')\r\nserializer = html5lib.serializer.HTMLSerializer()\r\nparser = html5lib.HTMLParser()\r\ndom = parser.parseFragment('<a href=\"http://example.com/\"\">')\r\n\r\nprint(serializer.render(walker(dom)))\r\n```\r\n\r\nWith html5lib 1.0.1 in Python 2.7, that prints out:\r\n\r\n```\r\n<a \"=\"\" href=\"http://example.com/\"></a>\r\n```\r\n\r\nThat first attribute has a name of \" and a value of \"\".\r\n\r\nI'm pretty sure the problem is in the tokenizer in one of the attribute-related states, but that's as far as I've looked.\r\n\r\nFirst question: Am I confused and that actually is valid HTML per the parsing algorithm?\r\n\r\nSecond question: If it's not valid HTML, what's the more correct thing to do with the extra \"?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/406", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/406/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/406/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/406/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/406", "id": 375578547, "node_id": "MDU6SXNzdWUzNzU1Nzg1NDc=", "number": 406, "title": "Beautiful soup + html5lib - AttributeError: 'NoneType' object has no attribute 'next_element'", "user": {"login": "grking8", "id": 8340336, "node_id": "MDQ6VXNlcjgzNDAzMzY=", "avatar_url": "https://avatars2.githubusercontent.com/u/8340336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/grking8", "html_url": "https://github.com/grking8", "followers_url": "https://api.github.com/users/grking8/followers", "following_url": "https://api.github.com/users/grking8/following{/other_user}", "gists_url": "https://api.github.com/users/grking8/gists{/gist_id}", "starred_url": "https://api.github.com/users/grking8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/grking8/subscriptions", "organizations_url": "https://api.github.com/users/grking8/orgs", "repos_url": "https://api.github.com/users/grking8/repos", "events_url": "https://api.github.com/users/grking8/events{/privacy}", "received_events_url": "https://api.github.com/users/grking8/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-10-30T16:24:33Z", "updated_at": "2018-10-30T19:09:04Z", "closed_at": "2018-10-30T19:09:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "(not sure if this is an `html5lib` or `bs4` issue, but any help appreciated)\r\n\r\n`NoneType` error when using `html5lib` with beautiful soup but when using `lxml` no error\r\n\r\n```\r\nfrom bs4 import BeautifulSoup\r\n\r\nwith open('test1.html') as f:\r\n    html = f.read()\r\nsoup = BeautifulSoup(html, 'html5lib')\r\nraces = soup.select('.mb-3')\r\nfor race in races:\r\n    print(race.find('h3'))\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 8, in <module>\r\n    print(race.find('h3'))\r\n  File \"/home/guy/anaconda3/envs/ingestion-pipeline/lib/python3.6/site-packages/bs4/element.py\", line 1292, in find\r\n    l = self.find_all(name, attrs, recursive, text, 1, **kwargs)\r\n  File \"/home/guy/anaconda3/envs/ingestion-pipeline/lib/python3.6/site-packages/bs4/element.py\", line 1313, in find_all\r\n    return self._find_all(name, attrs, text, limit, generator, **kwargs)\r\n  File \"/home/guy/anaconda3/envs/ingestion-pipeline/lib/python3.6/site-packages/bs4/element.py\", line 552, in _find_all\r\n    i = next(generator)\r\n  File \"/home/guy/anaconda3/envs/ingestion-pipeline/lib/python3.6/site-packages/bs4/element.py\", line 1327, in descendants\r\n    stopNode = self._last_descendant().next_element\r\nAttributeError: 'NoneType' object has no attribute 'next_element'\r\n```\r\n\r\nbut using `lxml` instead of `html5lib` \r\n\r\n```\r\nfrom bs4 import BeautifulSoup\r\n\r\nwith open('test1.html') as f:\r\n    html = f.read()\r\nsoup = BeautifulSoup(html, 'lxml')\r\nraces = soup.select('.mb-3')\r\nfor race in races:\r\n    print(race.find('h3'))\r\n```\r\n\r\n```\r\n<h3 class=\"border-bottom \">Twarted Rebellion</h3>\r\n<h3 class=\"border-bottom \">Rebellion</h3>\r\n```\r\n\r\nhere is `test1.html`\r\n\r\n```\r\n<!DOCTYPE html><html lang=\"en\"><head>\r\n<title>Rebellion Ultra Marathon - United Kingdom - Nov 02 2018 | ahotu</title>\r\n<meta name=\"description\" content=\"Detailed information on Rebellion Ultra Marathon, provided by ahotu Marathons with news, interviews, photos, videos, and reviews.\">\r\n<link rel=\"alternate\" href=\"https://marathons.ahotu.fr/evenement/rebellion-ultra-marathon\" hreflang=\"fr\">\r\n<link rel=\"alternate\" href=\"https://yaristakvimi.com/etkinlik/rebellion-ultra-marathon\" hreflang=\"tr\">\r\n<link rel=\"canonical\" href=\"https://marathons.ahotu.com/event/rebellion-ultra-marathon\">\r\n<meta property=\"og:type\" content=\"event\">\r\n<meta property=\"og:title\" content=\"Rebellion Ultra Marathon - United Kingdom - Nov 02 2018\">\r\n<meta property=\"og:url\" content=\"https://marathons.ahotu.com/event/rebellion-ultra-marathon\">\r\n<meta name=\"google-site-verification\" content=\"NKM_rqyeTVHfMP0prDeXjDOR8imySuRpNMNPh7ivCxw\">\r\n<meta name=\"msvalidate.01\" content=\"74F425779A230198737BF5AD9932444C\">\r\n<meta http-equiv=\"content-language\" content=\"en\">\r\n<meta name=\"copyright\" content=\"Copyright \u00a9 2009-2018 ahotu SAS. All rights reserved.\">\r\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1 , maximum-scale=1.0, user-scalable=no\">\r\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n<script type=\"text/javascript\" src=\"https://bam.nr-data.net/1/46e6b0b681?a=114355063&amp;v=1099.d27c17c&amp;to=dgxYQ0BfCVpVRR9QbFAVU1lGHxZeX0A%3D&amp;rst=1809&amp;ref=https://marathons.ahotu.com/event/rebellion-ultra-marathon&amp;qt=7&amp;ap=220&amp;be=830&amp;fe=1782&amp;dc=882&amp;perf=%7B%22timing%22:%7B%22of%22:1540916157840,%22n%22:0,%22f%22:0,%22dn%22:0,%22dne%22:0,%22c%22:0,%22ce%22:0,%22rq%22:0,%22rp%22:0,%22rpe%22:833,%22dl%22:828,%22di%22:882,%22ds%22:882,%22de%22:956,%22dc%22:1782,%22l%22:1782,%22le%22:1783%7D,%22navigation%22:%7B%7D%7D&amp;jsonp=NREUM.setToken\"></script><script src=\"https://js-agent.newrelic.com/nr-1099.min.js\"></script><script type=\"text/javascript\" id=\"www-widgetapi-script\" src=\"https://s.ytimg.com/yts/jsbin/www-widgetapi-vflcPgmxB/www-widgetapi.js\" async=\"\"></script><script src=\"https://pagead2.googlesyndication.com/pagead/js/r20181024/r20180604/osd.js\"></script><script src=\"https://pagead2.googlesyndication.com/pub-config/r20160913/ca-pub-7341172566673487.js\"></script><script src=\"https://www.youtube.com/player_api\"></script><script src=\"https://www.youtube.com/player_api\"></script><script async=\"\" src=\"//www.google-analytics.com/analytics.js\"></script><script type=\"text/javascript\">window.NREUM||(NREUM={});NREUM.info={\"beacon\":\"bam.nr-data.net\",\"errorBeacon\":\"bam.nr-data.net\",\"licenseKey\":\"46e6b0b681\",\"applicationID\":\"114355063\",\"transactionName\":\"dgxYQ0BfCVpVRR9QbFAVU1lGHxZeX0A=\",\"queueTime\":7,\"applicationTime\":220,\"agent\":\"\"}</script>\r\n<script type=\"text/javascript\">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if(\"function\"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e(\"handle\"),a=e(3),u=e(4),f=e(\"ee\").get(\"tracer\"),c=e(\"loader\"),s=NREUM;\"undefined\"==typeof window.newrelic&&(newrelic=s);var p=[\"setPageViewName\",\"setCustomAttribute\",\"setErrorHandler\",\"finished\",\"addToTrace\",\"inlineHit\",\"addRelease\"],d=\"api-\",l=d+\"ixn-\";a(p,function(e,n){s[n]=o(d+n,!0,\"api\")}),s.addPageAction=o(d+\"addPageAction\",!0),s.setCurrentRouteName=o(d+\"routeName\",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o=\"function\"==typeof n;return i(l+\"tracer\",[c.now(),e,t],r),function(){if(f.emit((o?\"\":\"no-\")+\"fn-start\",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}catch(e){throw f.emit(\"fn-err\",[arguments,this,e],t),e}finally{f.emit(\"fn-end\",[c.now()],t)}}}};a(\"actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get\".split(\",\"),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e){\"string\"==typeof e&&(e=new Error(e)),i(\"err\",[e,c.now()])}},{}],2:[function(e,n,t){function r(e,n){if(!o)return!1;if(e!==o)return!1;if(!n)return!0;if(!i)return!1;for(var t=i.split(\".\"),r=n.split(\".\"),a=0;a<r.length;a++)if(r[a]!==t[a])return!1;return!0}var o=null,i=null,a=/Version\\/(\\S+)\\s+Safari/;if(navigator.userAgent){var u=navigator.userAgent,f=u.match(a);f&&u.indexOf(\"Chrome\")===-1&&u.indexOf(\"Chromium\")===-1&&(o=\"Safari\",i=f[1])}n.exports={agent:o,version:i,match:r}},{}],3:[function(e,n,t){function r(e,n){var t=[],r=\"\",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],4:[function(e,n,t){function r(e,n,t){n||(n=0),\"undefined\"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],5:[function(e,n,t){n.exports={exists:\"undefined\"!=typeof window.performance&&window.performance.timing&&\"undefined\"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=v(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){h[e]=v(e).concat(n)}function m(e,n){var t=h[e];if(t)for(var r=0;r<t.length;r++)t[r]===n&&t.splice(r,1)}function v(e){return h[e]||[]}function g(e){return p[e]=p[e]||o(t)}function w(e,n){c(e,function(e,t){n=n||\"feature\",y[t]=n,n in s||(s[n]=[])})}var h={},y={},b={on:l,addEventListener:l,removeEventListener:m,emit:t,get:g,listeners:v,context:n,buffer:w,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u=\"nr@context\",f=e(\"gos\"),c=e(3),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e(\"ee\").get(\"handle\");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||\"object\"!==n&&\"function\"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i=\"nr@id\",a=e(\"gos\");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!E++){var e=x.info=NREUM.info,n=l.getElementsByTagName(\"script\")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f(\"mark\",[\"onload\",a()+x.offset],null,\"api\");var t=l.createElement(\"script\");t.src=\"https://\"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){\"complete\"===l.readyState&&i()}function i(){f(\"mark\",[\"domContent\",a()+x.offset],null,\"api\")}function a(){return O.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-x.offset}var u=(new Date).getTime(),f=e(\"handle\"),c=e(3),s=e(\"ee\"),p=e(2),d=window,l=d.document,m=\"addEventListener\",v=\"attachEvent\",g=d.XMLHttpRequest,w=g&&g.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:g,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var h=\"\"+location,y={beacon:\"bam.nr-data.net\",errorBeacon:\"bam.nr-data.net\",agent:\"js-agent.newrelic.com/nr-1099.min.js\"},b=g&&w&&w[m]&&!/CriOS/.test(navigator.userAgent),x=n.exports={offset:u,now:a,origin:h,features:{},xhrWrappable:b,userAgent:p};e(1),l[m]?(l[m](\"DOMContentLoaded\",i,!1),d[m](\"load\",r,!1)):(l[v](\"onreadystatechange\",o),d[v](\"onload\",r)),f(\"mark\",[\"firstbyte\",u],null,\"api\");var E=0,O=e(5)},{}]},{},[\"loader\"]);</script>\r\n<meta property=\"fb:pages\" content=\"126104715307\">\r\n<link rel=\"stylesheet\" media=\"screen\" href=\"/packs/application-97cae14c6295693f5dd044d9516a23b8.css\">\r\n<script>\r\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\r\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\r\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\r\n  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\r\n\r\n  ga('create', 'UA-362905-3', 'auto', {'allowLinker': true});\r\n  ga('require', 'linker');\r\n  ga('linker:autoLink', ['ahotu.com', 'ahotu.fr']);\r\n  ga('send', 'pageview');\r\n\r\n</script>\r\n<script async=\"\" src=\"//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"></script>\r\n<!--[if lt IE 9]>\r\n      <script src=\"//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js\"></script>\r\n      <script src=\"//cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js\"></script>\r\n    <![endif]-->\r\n<meta name=\"csrf-param\" content=\"authenticity_token\">\r\n<meta name=\"csrf-token\" content=\"zYC9I+M6sSwEG1kdSlDNy7tLCHpr1JJUI2xhZnPI5gdNlcwQ5YQbVDcrrZ6/ZBs2kTuTb9//1AKj4A/JDNZexA==\">\r\n<style type=\"text/css\">.vue2leaflet-map{height:100%;width:100%}</style><link rel=\"preload\" href=\"https://adservice.google.co.uk/adsid/integrator.js?domain=marathons.ahotu.com\"><script type=\"text/javascript\" src=\"https://adservice.google.co.uk/adsid/integrator.js?domain=marathons.ahotu.com\"></script><link rel=\"preload\" href=\"https://adservice.google.com/adsid/integrator.js?domain=marathons.ahotu.com\"><script type=\"text/javascript\" src=\"https://adservice.google.com/adsid/integrator.js?domain=marathons.ahotu.com\"></script><link rel=\"preload\" href=\"https://pagead2.googlesyndication.com/pagead/js/r20181024/r20180604/show_ads_impl.js\"></head>\r\n<body>\r\n<div id=\"app\"><div class=\"ad-container text-center\"><!----> </div> <div class=\"bg-white w-100 sticky-top pt-1\"><div class=\"d-flex justify-content-between first-line\"><a href=\"/\" class=\"pl-2\"><img height=\"30px\" src=\"/packs/images/logo-en-69d2210d6f6394240b06a8f44eab1175.png\"></a> <div class=\"d-inline-block\"><button type=\"button\" class=\"btn btn-outline-secondary\"><i class=\"icon-search\"></i></button> <!----> <a href=\"/members/sign_in\" target=\"_self\" class=\"btn btn-outline-secondary\">Sign in</a></div></div> <ul class=\"nav nav-pills nav-justified top-menu\"><li class=\"nav-item\"><a href=\"/calendar\" class=\"nav-link\">Calendars</a></li> <li class=\"nav-item\"><a href=\"/news\" class=\"nav-link\">News</a></li> <li class=\"nav-item\"><a href=\"/advanced-search\" class=\"nav-link\">Advanced Search</a></li></ul> <div class=\"w-100\" style=\"display: none;\"><div tabindex=\"-1\" class=\"multiselect\"><div class=\"multiselect__select\"></div>  <div class=\"multiselect__tags\"><div class=\"multiselect__tags-wrap\" style=\"display: none;\"></div> <!----> <div class=\"multiselect__spinner\" style=\"display: none;\"></div> <input name=\"\" type=\"text\" autocomplete=\"off\" placeholder=\"Search Event\" tabindex=\"0\" class=\"multiselect__input\"> <!----></div> <div class=\"multiselect__content-wrapper\" style=\"max-height: 300px; display: none;\"><ul class=\"multiselect__content\" style=\"display: block;\"> <!---->  <li style=\"display: none;\"><span class=\"multiselect__option\"><span>No event found. You should try the advanced search.</span></span></li> </ul></div></div></div></div> <div class=\"row\"><div class=\"container\"></div></div> <script type=\"application/ld+json\">\r\n{\r\n  \"@context\": \"http://schema.org\",\r\n  \"@type\": \"Event\",\r\n  \"name\": \"Rebellion Ultra Marathon\",\r\n  \"startDate\": \"2018-11-02\",\r\n  \"description\": \"Detailed information on Rebellion Ultra Marathon, provided by ahotu Marathons with news, interviews, photos, videos, and reviews.\",\r\n  \"location\" : {\r\n    \"@type\" : \"Place\",\r\n    \"name\" : \"Knighton\",\r\n    \"address\" : {\r\n      \"@type\" : \"PostalAddress\",\r\n      \"addressCountry\" : \"gb\",\r\n      \"addressLocality\" : \"Knighton\",\r\n      \"addressRegion\" : \"Powys\"\r\n    }\r\n  }\r\n}\r\n</script> <div class=\"vue2leaflet-map leaflet-container leaflet-touch leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom\" tabindex=\"0\" style=\"height: 300px; position: relative;\"><!----> <div style=\"display: none;\"><div></div></div><div class=\"leaflet-pane leaflet-map-pane\" style=\"transform: translate3d(0px, 0px, 0px);\"><div class=\"leaflet-pane leaflet-tile-pane\"><div class=\"leaflet-layer \" style=\"z-index: 1; opacity: 1;\"><div class=\"leaflet-tile-container leaflet-zoom-animated\" style=\"z-index: 18; transform: translate3d(0px, 0px, 0px) scale(1);\"><img alt=\"\" role=\"presentation\" src=\"https://b.tile.osm.org/5/15/10.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(325px, 17px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://a.tile.osm.org/5/15/9.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(325px, -239px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://a.tile.osm.org/5/14/10.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(69px, 17px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://c.tile.osm.org/5/16/10.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(581px, 17px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://c.tile.osm.org/5/15/11.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(325px, 273px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://c.tile.osm.org/5/14/9.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(69px, -239px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://b.tile.osm.org/5/16/9.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(581px, -239px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://b.tile.osm.org/5/14/11.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(69px, 273px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://a.tile.osm.org/5/16/11.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(581px, 273px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://c.tile.osm.org/5/13/10.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(-187px, 17px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://a.tile.osm.org/5/17/10.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(837px, 17px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://b.tile.osm.org/5/13/9.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(-187px, -239px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://c.tile.osm.org/5/17/9.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(837px, -239px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://a.tile.osm.org/5/13/11.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(-187px, 273px, 0px); opacity: 1;\"><img alt=\"\" role=\"presentation\" src=\"https://b.tile.osm.org/5/17/11.png\" class=\"leaflet-tile leaflet-tile-loaded\" style=\"width: 256px; height: 256px; transform: translate3d(837px, 273px, 0px); opacity: 1;\"></div></div></div><div class=\"leaflet-pane leaflet-shadow-pane\"></div><div class=\"leaflet-pane leaflet-overlay-pane\"></div><div class=\"leaflet-pane leaflet-marker-pane\"><img src=\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZlcnNpb249JzEuMScgd2lkdGg9JzUwJyBoZWlnaHQ9JzUwJz48Y2lyY2xlIGZpbGw9J3doaXRlJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzInIGN4PScyNScgY3k9JzI1JyByPScyNCcvPjxjaXJjbGUgZmlsbD0nYmxhY2snICBjeD0nMjUnIGN5PScyNScgcj0nMTMnLz48L3N2Zz4=\" class=\"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive\" alt=\"\" tabindex=\"0\" style=\"margin-left: -10px; margin-top: 0px; width: 20px; height: 20px; transform: translate3d(512px, 150px, 0px); z-index: 150;\"></div><div class=\"leaflet-pane leaflet-tooltip-pane\"></div><div class=\"leaflet-pane leaflet-popup-pane\"></div><div class=\"leaflet-proxy leaflet-zoom-animated\"></div></div><div class=\"leaflet-control-container\"><div class=\"leaflet-top leaflet-left\"><div class=\"leaflet-control-zoom leaflet-bar leaflet-control\"><a class=\"leaflet-control-zoom-in\" href=\"#\" title=\"Zoom in\" role=\"button\" aria-label=\"Zoom in\">+</a><a class=\"leaflet-control-zoom-out\" href=\"#\" title=\"Zoom out\" role=\"button\" aria-label=\"Zoom out\">\u2212</a></div></div><div class=\"leaflet-top leaflet-right\"></div><div class=\"leaflet-bottom leaflet-left\"></div><div class=\"leaflet-bottom leaflet-right\"><div class=\"leaflet-control-attribution leaflet-control\"><a href=\"http://leafletjs.com\" title=\"A JS library for interactive maps\">Leaflet</a> | \u00a9 <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors</div></div></div></div> <div class=\"container-fluid\"><div class=\"row\"><div class=\"col-12 col-md-auto fixed-sidebar\"><a href=\"https://marathons.ahotu.com/advanced-search.json?page=1&amp;country=GBR\" class=\"btn btn-secondary btn-sm my-3\">Back</a> <div class=\"center\"><ins data-ad-client=\"ca-pub-7341172566673487\" data-ad-slot=\"7058648127\" data-ad-format=\"auto\" class=\"adsbygoogle ahotu-marathons-event_page-sidebar\" style=\"display: block; height: 600px;\" data-adsbygoogle-status=\"done\"><ins id=\"aswift_0_expand\" style=\"display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:160px;background-color:transparent;\"><ins id=\"aswift_0_anchor\" style=\"display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:160px;background-color:transparent;\"><iframe width=\"160\" height=\"600\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" vspace=\"0\" hspace=\"0\" allowtransparency=\"true\" scrolling=\"no\" allowfullscreen=\"true\" onload=\"var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}\" id=\"aswift_0\" name=\"aswift_0\" style=\"left:0;position:absolute;top:0;width:160px;height:600px;\"></iframe></ins></ins></ins></div></div> <div class=\"col-12 col-md\"><div><div class=\"row\"><h1>Rebellion Ultra Marathon</h1></div> <div class=\"row\"><div class=\"col-12\"><nav aria-label=\"breadcrumb\"><ol class=\"breadcrumb \"><li class=\"breadcrumb-item\"><a href=\"/calendar/europe\">Europe</a></li> <li class=\"breadcrumb-item\"><a href=\"/calendar/northern-europe\">Northern Europe</a></li> <li class=\"breadcrumb-item\"><a href=\"/calendar/united-kingdom\"><img src=\"https://d5rjjzm7hs237.cloudfront.net/country/flags/94/small/ahotu_597d7614a0b1922677c0.png?1240470312\"> United Kingdom</a></li> <li class=\"breadcrumb-item\"><a href=\"/calendar/wales\">Wales</a></li> <li class=\"breadcrumb-item\"><a href=\"/calendar/powys\">Powys</a></li> <li class=\"active breadcrumb-item\">Knighton</li></ol></nav></div></div></div> <div class=\" card pt-3\"><div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-calendar\"></i></div> <div class=\"col\">\r\nNovember 02, 2018\r\n<span data-v-0ec37324=\"\">(in 2 days )</span></div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-time\"></i></div> <div class=\"col\">\r\nThe event starts at 19:00.\r\n</div></div> <div class=\"row mt-2\"><div class=\"col offset-1 text-justify mr-5 mt-3\"><div><div class=\"pr-2 content overflowHidden\"><p>The Rebellion is a 135 mile (217 Km) Ultra Marathon in Mid Wales starting on 3rd of November 2017. The route is along the full length of Glynd\u0175r Way National Trail with a total ascent of just over 25,000ft (7700m). The route takes you through some of the most beautiful and remote parts of Mid Wales. Starting in Knighton looping through Machynlleth and then finishing in Welshpool \u2013 the route is one of the most picturesque and challenging in the UK.<br>\r\nThe Glynd\u0175r Way National Trail is an unusual National Trail as it doesn\u2019t follow any particular geographic features or any historic routes. It is named after Owain Glynd\u0175r who led a rebellion against the English and the last Welshman to hold the title Prince of Wales. The Glynd\u0175r\u2019s Way is an arbitrary route merely linking a variety of towns and villages with Glynd\u0175r connections. This the reason for its unusual V shape.</p> <p>The race starts at 7pm on Friday the 3rd November and has a 72 hour time limit to reach Welshpool (7pm on Monday the 6th November). Meaning competitors must average just 1.85 miles (3km) per hour to complete the race. There are 4 checkpoints on route that all competitors must pass through within a time limit. Each checkpoint is a community hall/leisure centre that is well stocked with food, hot drinks and water for competitors to recharge and re-supply. There will also be floor space at each checkpoint for competitors to sleep if they so wish. Competitors can use drop bags, accessible at each checkpoint.</p></div> <div></div> <div class=\"my-3 d-flex \"><button class=\"btn btn-outline-secondary btn-sm\" style=\"\">Show the whole description</button> <!----></div></div></div></div></div> <ins data-ad-client=\"ca-pub-7341172566673487\" data-ad-slot=\"2342998754\" data-ad-format=\"auto\" class=\"adsbygoogle ahotu-marathons-event_page_top mt-3 mx-auto\" style=\"display: block; height: 90px;\" data-adsbygoogle-status=\"done\"><ins id=\"aswift_1_expand\" style=\"display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;\"><ins id=\"aswift_1_anchor\" style=\"display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;\"><iframe width=\"728\" height=\"90\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" vspace=\"0\" hspace=\"0\" allowtransparency=\"true\" scrolling=\"no\" allowfullscreen=\"true\" onload=\"var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}\" id=\"aswift_1\" name=\"aswift_1\" style=\"left:0;position:absolute;top:0;width:728px;height:90px;\"></iframe></ins></ins></ins> <div class=\"container-fluid\"><div class=\"row card mt-3\"><div class=\"card-header bg-secondary text-white p-2 m-0\"><h2>Official website</h2></div> <div class=\"card-body pt-3 text-center\"><a href=\"https://www.uphilldowndale.com/events/rebellion-ultra-marathon\" target=\"_blank\" rel=\"nofollow\"><p class=\"text-center top-buffer\"><span class=\"btn btn-outline-secondary mt-2\">\r\nClick to reach the official site\r\n</span></p></a> <p>\r\nInformation about the event is available in : <span class=\"badge right-sm-buffer badge-secondary\">\r\nEnglish\r\n</span></p></div></div></div> <div class=\" card p-3 mt-3 bg-light font-weight-light font-italic\">\r\nThe information about this race is based on information provided by the organizers or found on the official website of the event. Always check the official website for up-to-date information. If you have noticed any mistake, let us know at contact@ahotu.com.\r\n</div> <div class=\"container-fluid\"><div class=\"row card mt-3\"><div class=\"card-header bg-secondary text-white p-2 m-0\"><h2>Contact</h2></div> <div class=\"card-body pt-3 \"><div class=\"row\"><div class=\"col-1 text-right\">@</div> <div class=\"col\"> info@uphilldowndale.com </div></div> <div class=\"row\"><div class=\"col-1 text-right\"></div> <div class=\"col social-icons text-center\"><a href=\"https://www.facebook.com/uphilldowndale/\" class=\"facebook\"><i class=\"icon-facebook-square\"></i></a> <a href=\"https://twitter.com/UpHillDD\" class=\"twitter\"><i class=\"icon-twitter-square\"></i></a> <a href=\"https://www.instagram.com/uphilldd/?hl=en\" class=\"instagram\"><i class=\"icon-instagram\"></i></a></div></div></div></div></div> <div class=\"container-fluid\"><div class=\"row card mt-3\"><div class=\"card-header bg-secondary text-white p-2 m-0\"><h2>Races</h2></div> <div class=\"card-body pt-3 \"><div class=\"mb-3\"><h3 class=\"border-bottom \">Twarted Rebellion</h3> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-time\"></i></div> <div class=\"col\">November 02, 2018 (Friday) - 19:00\r\n<br>Cut off: 72:00 hours\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-directions_run\"></i></div> <div class=\"col\">Running\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-circle  type-2\"></i></div> <div class=\"col\">75 miles\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-Elevation-gain\"></i></div> <div class=\"col\">4,380 meters\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-Elevation-loss\"></i></div> <div class=\"col\">4,530 meters\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\">&nbsp;</div> <div class=\"col\">5 ITRA Points\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-tags\"></i></div> <div class=\"col\"><span class=\"badge badge-secondary\">Trail</span> <span class=\"badge badge-secondary\">Point to Point</span> <span class=\"badge badge-secondary\">Mountain</span> <span class=\"badge badge-secondary\">UTMB </span> <span class=\"badge badge-secondary\">Solo</span></div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-users\"></i></div> <div class=\"col\">\r\nThe number for participants for the race is capped to 150.\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\">&nbsp;</div> <div class=\"col\"><div><div class=\"pr-2 content overflowHidden\"></div> <div></div> <div class=\"my-3 d-flex \"><button class=\"btn btn-outline-secondary btn-sm\" style=\"display: none;\">Show the whole description</button> <!----></div></div></div></div></div><div class=\"mb-3\"><h3 class=\"border-bottom \">Rebellion</h3> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-time\"></i></div> <div class=\"col\">November 02, 2018 (Friday) - 19:00\r\n<br>Cut off: 72:00 hours\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-directions_run\"></i></div> <div class=\"col\">Running\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-circle  type-2\"></i></div> <div class=\"col\">135 miles\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-Elevation-gain\"></i></div> <div class=\"col\">6,910 meters\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-Elevation-loss\"></i></div> <div class=\"col\">7,010 meters\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\">&nbsp;</div> <div class=\"col\">6 ITRA Points\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-tags\"></i></div> <div class=\"col\"><span class=\"badge badge-secondary\">Trail</span> <span class=\"badge badge-secondary\">Point to Point</span> <span class=\"badge badge-secondary\">Mountain</span> <span class=\"badge badge-secondary\">UTMB </span> <span class=\"badge badge-secondary\">Solo</span></div></div> <div class=\"row\"><div class=\"col-1 text-right\"><i class=\"icon-users\"></i></div> <div class=\"col\">\r\nThe number for participants for the race is capped to 150.\r\n</div></div> <div class=\"row\"><div class=\"col-1 text-right\">&nbsp;</div> <div class=\"col\"><div><div class=\"pr-2 content overflowHidden\"></div> <div></div> <div class=\"my-3 d-flex \"><button class=\"btn btn-outline-secondary btn-sm\" style=\"display: none;\">Show the whole description</button> <!----></div></div></div></div></div></div></div></div> <ins data-ad-client=\"ca-pub-7341172566673487\" data-ad-slot=\"4579114008\" data-ad-format=\"auto\" class=\"adsbygoogle ahotu_marathons_event_page_middle mt-3 mx-auto\" style=\"display: block; height: 90px;\" data-adsbygoogle-status=\"done\"><ins id=\"aswift_2_expand\" style=\"display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;\"><ins id=\"aswift_2_anchor\" style=\"display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent;\"><iframe width=\"728\" height=\"90\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" vspace=\"0\" hspace=\"0\" allowtransparency=\"true\" scrolling=\"no\" allowfullscreen=\"true\" onload=\"var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}\" id=\"aswift_2\" name=\"aswift_2\" style=\"left:0;position:absolute;top:0;width:728px;height:90px;\"></iframe></ins></ins></ins> <div><div class=\"container-fluid\"><!----></div> <div class=\"container-fluid\"><!----></div> <div class=\"container-fluid\"><!----></div> <div class=\"container-fluid\"><!----></div> <div class=\"container-fluid\"><!----></div></div></div></div></div> <footer class=\"m-0 mt-4 container-fluid row\"><div class=\"col-sm-4\"><h5>Calendars</h5> <ul class=\"pl-2\"><li class=\"list-unstyled\"><a href=\"/calendar/ultramarathon\"><span class=\"icon-fiber_manual_record ultras\"></span> Ultramarathon</a></li> <li class=\"list-unstyled\"><a href=\"/calendar/marathon\"><span class=\"icon-fiber_manual_record marathons\"></span> Marathon</a></li> <li class=\"list-unstyled\"><a href=\"/calendar/21-to-42km\"><span class=\"icon-fiber_manual_record half2full\"></span> Half Marathon to Full Marathon</a></li> <li class=\"list-unstyled\"><a href=\"/calendar/half-marathon\"><span class=\"icon-fiber_manual_record halfmarathons\"></span> Half Marathon</a></li> <li class=\"list-unstyled\"><a href=\"/calendar/10-km-to-half\"><span class=\"icon-fiber_manual_record k102half\"></span> 10 km race to Half Marathon</a></li> <li class=\"list-unstyled\"><a href=\"/calendar/10-km\"><span class=\"icon-fiber_manual_record km10\"></span> 10k race</a></li> <li class=\"list-unstyled\"><a href=\"/calendar/shorter-than-10-km\"><span class=\"icon-fiber_manual_record less10k\"></span> Shorter than 10 km race</a></li> <li class=\"list-unstyled\"><a href=\"/calendar/5-km\"><span class=\"icon-fiber_manual_record km5\"></span> 5k race</a></li> <li class=\"list-unstyled\"><a href=\"/calendar/multiday\"><span class=\"icon-fiber_manual_record multidays\"></span> Multiday race</a></li> <li class=\"list-unstyled\"><a href=\"/calendar/x-hour-race\"><span class=\"icon-fiber_manual_record XH\"></span> X-hour race</a></li> <li class=\"list-unstyled\"><a href=\"/calendar/vertical-race\"><span class=\"icon-fiber_manual_record VR\"></span> Vertical race</a></li></ul></div> <div class=\"col-sm-4\"><h5>Ahotu</h5> <ul><li class=\"list-unstyled social-icons p-0 mb-2\"><a href=\"https://www.facebook.com/ahotumarathons/\"><i class=\"icon-facebook-square mr-1 facebook\"></i></a><a href=\"https://twitter.com/ahotumarathons\"><i class=\"icon-twitter-square twitter\"></i></a></li> <li class=\"list-unstyled\"></li> <li class=\"list-unstyled\"><a href=\"https://www.iubenda.com/privacy-policy/7950677/full-legal\">Privacy Policy</a></li> <li class=\"list-unstyled\"><a href=\"/page/about-us\">About us</a></li></ul> <h5>Other languages</h5> <ul><li class=\"list-unstyled\"><a href=\"https://marathons.ahotu.fr/evenement/rebellion-ultra-marathon\">Fran\u00e7ais</a></li> <li class=\"list-unstyled\"><a href=\"https://yaristakvimi.com/etkinlik/rebellion-ultra-marathon\">T\u00fcrk\u00e7e</a></li></ul></div> <div class=\"col-sm-4\"><h5>Race Directors</h5>\r\nYou can rapidly add a new event or edit the pages featured on ahotu&nbsp;Marathons of the races your organize.<br> <a href=\"/page/organizers\">Learn how...</a> <h5 class=\"mt-2\">Runners</h5> <p>If you have run or know a race that isn't yet on ahotu&nbsp;Marathons, please let us know about it by sending us an e-mail at <a href=\"mailto:contact@ahotu.com\">contact@ahotu.com</a>.</p></div> <div class=\"col-12 mt-4\"><p class=\"text-center\">ahotu Marathons - The largest marathon directory on the web - Where will you run your next marathon?<br>\u00a92009-2018 ahotu SAS</p></div></footer> <div><div id=\"euLaw-alert\" role=\"alert\" class=\"alert alert-success alert-dismissible fade show\" style=\"position: fixed; bottom: 0px; width: 100%; margin-bottom: 0px;\">\r\n  We use cookies to personalise content and ads, to provide social media features and to analyse our traffic. We also share information about your use of our site with our social media, advertising and analytics partners who may combine it with other information you\u2019ve provided to them or they\u2019ve collected from your use of their services.\r\n  <a href=\"https://www.iubenda.com/privacy-policy/7950677/full-legal\" class=\"btn btn-xs\">Learn more</a> <button type=\"button\" data-dismiss=\"alert\" aria-label=\"Close\" class=\"btn btn-success btn-xs float-right\"> Close</button></div></div></div>\r\n<script src=\"/packs/application-62c21636c8cd6e184474.js\"></script>\r\n\r\n\r\n<iframe id=\"google_osd_static_frame_1777461076819\" name=\"google_osd_static_frame\" style=\"display: none; width: 0px; height: 0px;\"></iframe></body><iframe id=\"google_shimpl\" style=\"display: none;\"></iframe></html>\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/405", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/405/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/405/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/405/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/405", "id": 369722798, "node_id": "MDU6SXNzdWUzNjk3MjI3OTg=", "number": 405, "title": "Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated", "user": {"login": "labrys", "id": 1867464, "node_id": "MDQ6VXNlcjE4Njc0NjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/1867464?v=4", "gravatar_id": "", "url": "https://api.github.com/users/labrys", "html_url": "https://github.com/labrys", "followers_url": "https://api.github.com/users/labrys/followers", "following_url": "https://api.github.com/users/labrys/following{/other_user}", "gists_url": "https://api.github.com/users/labrys/gists{/gist_id}", "starred_url": "https://api.github.com/users/labrys/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/labrys/subscriptions", "organizations_url": "https://api.github.com/users/labrys/orgs", "repos_url": "https://api.github.com/users/labrys/repos", "events_url": "https://api.github.com/users/labrys/events{/privacy}", "received_events_url": "https://api.github.com/users/labrys/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-10-12T21:53:36Z", "updated_at": "2018-12-22T21:30:57Z", "closed_at": "2018-12-22T21:30:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "It will stop working in Python 3.8.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/402", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/402/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/402/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/402/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/402", "id": 362500129, "node_id": "MDU6SXNzdWUzNjI1MDAxMjk=", "number": 402, "title": "DeprecationWarning in collections import", "user": {"login": "tirkarthi", "id": 3972343, "node_id": "MDQ6VXNlcjM5NzIzNDM=", "avatar_url": "https://avatars3.githubusercontent.com/u/3972343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tirkarthi", "html_url": "https://github.com/tirkarthi", "followers_url": "https://api.github.com/users/tirkarthi/followers", "following_url": "https://api.github.com/users/tirkarthi/following{/other_user}", "gists_url": "https://api.github.com/users/tirkarthi/gists{/gist_id}", "starred_url": "https://api.github.com/users/tirkarthi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tirkarthi/subscriptions", "organizations_url": "https://api.github.com/users/tirkarthi/orgs", "repos_url": "https://api.github.com/users/tirkarthi/repos", "events_url": "https://api.github.com/users/tirkarthi/events{/privacy}", "received_events_url": "https://api.github.com/users/tirkarthi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-09-21T08:04:18Z", "updated_at": "2020-05-18T14:56:20Z", "closed_at": "2018-10-01T11:32:34Z", "author_association": "NONE", "active_lock_reason": null, "body": "Installing html5lib on CPython master generates the below warning. I think this was added as part of Python 3.7 and will be removed in the next version 3.8 which is under development. Just wanted to give a heads up on this.\r\n\r\n```\r\n/home/karthi/requests-html-env/lib/python3.8/site-packages/pip/_vendor/html5lib/_trie/_base.py:3: \r\nDeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Mapping\r\n```\r\n\r\nRelevant code : https://github.com/html5lib/html5lib-python/blob/950ea0ec60970ba1c88bd9e35d8d85c2a1f318e4/html5lib/_trie/_base.py#L3\r\n\r\nPossible solution : https://github.com/pyparsing/pyparsing/pull/16\r\n\r\nThanks", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/394", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/394/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/394/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/394/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/394", "id": 328879426, "node_id": "MDU6SXNzdWUzMjg4Nzk0MjY=", "number": 394, "title": "ValueError: too many values to unpack", "user": {"login": "ntucker", "id": 866147, "node_id": "MDQ6VXNlcjg2NjE0Nw==", "avatar_url": "https://avatars0.githubusercontent.com/u/866147?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ntucker", "html_url": "https://github.com/ntucker", "followers_url": "https://api.github.com/users/ntucker/followers", "following_url": "https://api.github.com/users/ntucker/following{/other_user}", "gists_url": "https://api.github.com/users/ntucker/gists{/gist_id}", "starred_url": "https://api.github.com/users/ntucker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ntucker/subscriptions", "organizations_url": "https://api.github.com/users/ntucker/orgs", "repos_url": "https://api.github.com/users/ntucker/repos", "events_url": "https://api.github.com/users/ntucker/events{/privacy}", "received_events_url": "https://api.github.com/users/ntucker/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-06-04T01:02:05Z", "updated_at": "2020-05-16T01:18:02Z", "closed_at": "2020-05-16T01:18:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get this error:\r\n```\r\n  File \"/var/www/env/lib/python2.7/site-packages/html5lib/serializer.py\", line 301, in serialize\r\n    for (_, attr_name), attr_value in token[\"data\"].items():\r\nValueError: too many values to unpack\r\n```\r\n\r\nWhen running this code:\r\n```python\r\n    def external_site(attrs, new=False):\r\n        attrs['rel'] = 'nofollow'\r\n        attrs['target'] = '_blank'\r\n        return attrs\r\nbleach.linkify(content, callbacks=[external_site])\r\n```\r\n\r\nWith this content:\r\n```\r\nMerch Store: https://store.dftba.com/collections/baumi\\n\\nSocial Media (we do giveaways here too):\\nhttps://www.facebook.com/baumimundwald\\n\\nhttps://www.instagram.com/captaindangerbaumi/\\n\\nJOIN THE DAILY GIVEAWAY!! \\nThis is how it works: https://www.youtube.com/watch?v=m4FpYmv1_30\\n\\nTradelink: https://steamcommunity.com/tradeoffer/new/?partner=43305444&amp;token=vd5y60-5\\n\\nI also stream on twitch sometimes: http://www.twitch.tv/l34Um1\\n\\nJoin Minimis!\\nhttps://www.youtube.com/watch?v=_9a98oTadSE\\n\\nSteamgroup! http://steamcommunity.com/groups/ABaumiNation\\n\\nBusiness Mail (YouTube-Partnership requests will be ignored):\\nbaumi4hire@gmail.com\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/392", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/392/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/392/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/392/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/392", "id": 302969386, "node_id": "MDU6SXNzdWUzMDI5NjkzODY=", "number": 392, "title": "Incorrect table parsing", "user": {"login": "knkski", "id": 20422884, "node_id": "MDQ6VXNlcjIwNDIyODg0", "avatar_url": "https://avatars0.githubusercontent.com/u/20422884?v=4", "gravatar_id": "", "url": "https://api.github.com/users/knkski", "html_url": "https://github.com/knkski", "followers_url": "https://api.github.com/users/knkski/followers", "following_url": "https://api.github.com/users/knkski/following{/other_user}", "gists_url": "https://api.github.com/users/knkski/gists{/gist_id}", "starred_url": "https://api.github.com/users/knkski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/knkski/subscriptions", "organizations_url": "https://api.github.com/users/knkski/orgs", "repos_url": "https://api.github.com/users/knkski/repos", "events_url": "https://api.github.com/users/knkski/events{/privacy}", "received_events_url": "https://api.github.com/users/knkski/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2018-03-07T05:26:45Z", "updated_at": "2018-03-07T18:50:29Z", "closed_at": "2018-03-07T09:51:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've got an HTML document that contains some text inside of a table row:\r\n\r\n```html\r\n<!DOCTYPE html>\r\n<html>\r\n  <body>\r\n    <table>\r\n      <tr>foo</tr>\r\n    </table>\r\n  </body>\r\n</html>\r\n```\r\n\r\nIt looks like the text gets pulled outside of the table element for some reason (not sure how to print it with normal HTML-style syntax, but you can still see that `foo` has been moved):\r\n\r\n```python\r\n>>> import html5lib\r\n>>> import xml.etree.ElementTree as ET\r\n>>> ET.tostring(html5lib.parse('<!DOCTYPE html><html><body><table><tr>foo</tr></table></body></html>'))\r\nb'<html:html xmlns:html=\"http://www.w3.org/1999/xhtml\"><html:head /><html:body>foo<html:table><html:tbody><html:tr /></html:tbody></html:table></html:body></html:html>'\r\n```\r\n\r\nThis is despite the example parsing correctly when using just `xml.etree`:\r\n\r\n```python\r\n>>> import xml.etree.ElementTree as ET\r\n>>> ET.tostring(ET.ElementTree(ET.fromstring('<!DOCTYPE html><html><body><table><tr>foo</tr></table></body></html>')).getroot())\r\nb'<html><body><table><tr>foo</tr></table></body></html>'\r\n```\r\n\r\nThis doesn't happen with other elements such as `<div>`. This was using Python 3.6 and html5lib 1.0.1.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/390", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/390/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/390/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/390/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/390", "id": 296611292, "node_id": "MDU6SXNzdWUyOTY2MTEyOTI=", "number": 390, "title": "TypeError: __init__() got an unexpected keyword argument 'encoding'", "user": {"login": "tgrrr", "id": 4689707, "node_id": "MDQ6VXNlcjQ2ODk3MDc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4689707?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgrrr", "html_url": "https://github.com/tgrrr", "followers_url": "https://api.github.com/users/tgrrr/followers", "following_url": "https://api.github.com/users/tgrrr/following{/other_user}", "gists_url": "https://api.github.com/users/tgrrr/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgrrr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgrrr/subscriptions", "organizations_url": "https://api.github.com/users/tgrrr/orgs", "repos_url": "https://api.github.com/users/tgrrr/repos", "events_url": "https://api.github.com/users/tgrrr/events{/privacy}", "received_events_url": "https://api.github.com/users/tgrrr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-02-13T04:36:06Z", "updated_at": "2018-08-08T13:35:10Z", "closed_at": "2018-08-08T13:35:10Z", "author_association": "NONE", "active_lock_reason": null, "body": "`html5lib.version is 1.0.1` produces the error\r\n\r\n```\r\nread_html('http://foo.com')\r\n\r\nTypeError: __init__() got an unexpected keyword argument 'encoding'\r\n\r\n```\r\nSolution is to downgrade:`pip3 install -U html5lib==\"0.9999999\"`\r\n\r\nIt's a problem on SO [here](https://stackoverflow.com/q/46499808/3281978): and [here](https://stackoverflow.com/q/46499808/3281978)\r\n\r\nIt looks like it was referenced [as another issue but was closed](https://github.com/html5lib/html5lib-python/issues/281\r\n)\r\n\r\nIs it possible to fix this in version 1.0.1?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/382", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/382/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/382/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/382/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/382", "id": 278784215, "node_id": "MDU6SXNzdWUyNzg3ODQyMTU=", "number": 382, "title": "update CHANGES.rst and AUTHORS.rst for 1.0 release", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 3, "created_at": "2017-12-03T14:44:43Z", "updated_at": "2017-12-04T22:24:33Z", "closed_at": "2017-12-04T22:24:33Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The `CHANGES.rst` and `AUTHORS.rst` files need to be updated for the 1.0 release.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/381", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/381/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/381/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/381/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/381", "id": 278336689, "node_id": "MDU6SXNzdWUyNzgzMzY2ODk=", "number": 381, "title": "readthedocs isn't tracking master", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 3, "created_at": "2017-12-01T02:21:52Z", "updated_at": "2017-12-04T01:53:17Z", "closed_at": "2017-12-04T01:53:17Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "One of the versions of html5lib-python that readthedocs has is \"latest\" and it's supposed to track the master branch. Any time we land code, it should rebuild the docs.\r\n\r\nIt looks like the last time \"latest\" was rebuilt was 3 weeks ago:\r\n\r\nhttps://readthedocs.org/projects/html5lib/builds/\r\n\r\nIs the webhook broken?\r\n\r\nThis issue covers fixing docs building.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/371", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/371/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/371/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/371/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/371", "id": 277584967, "node_id": "MDU6SXNzdWUyNzc1ODQ5Njc=", "number": 371, "title": "make html5lib.constants.ReparseException private", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 1, "created_at": "2017-11-29T00:14:59Z", "updated_at": "2017-11-29T15:35:04Z", "closed_at": "2017-11-29T15:35:04Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "The ReparseException isn't intended to be used by anyone else--it's for internal use only. Given that, the name should start with a `_`.\r\n\r\nThis issue covers changing that and any code that uses it.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/357", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/357/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/357/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/357/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/357", "id": 271621523, "node_id": "MDU6SXNzdWUyNzE2MjE1MjM=", "number": 357, "title": "Drop Python 3.3 support", "user": {"login": "hugovk", "id": 1324225, "node_id": "MDQ6VXNlcjEzMjQyMjU=", "avatar_url": "https://avatars2.githubusercontent.com/u/1324225?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hugovk", "html_url": "https://github.com/hugovk", "followers_url": "https://api.github.com/users/hugovk/followers", "following_url": "https://api.github.com/users/hugovk/following{/other_user}", "gists_url": "https://api.github.com/users/hugovk/gists{/gist_id}", "starred_url": "https://api.github.com/users/hugovk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hugovk/subscriptions", "organizations_url": "https://api.github.com/users/hugovk/orgs", "repos_url": "https://api.github.com/users/hugovk/repos", "events_url": "https://api.github.com/users/hugovk/events{/privacy}", "received_events_url": "https://api.github.com/users/hugovk/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-11-06T21:10:35Z", "updated_at": "2018-05-23T09:50:21Z", "closed_at": "2018-05-23T09:50:21Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Is there any interest in dropping support for EOL Python 3.3?\r\n\r\nHere's the pip installs from PyPI for the last month, showing low demand for 3.3:\r\n```\r\n$ pypinfo --percent --pip html5lib pyversion\r\npython_version percent download_count\r\n-------------- ------- --------------\r\n2.7              56.0%        622,860\r\n3.5              19.3%        214,942\r\n3.6              15.6%        172,974\r\n3.4               8.9%         98,411\r\n3.3               0.1%            789\r\n3.7               0.1%            699\r\n2.6               0.1%            681\r\n3.2               0.0%             19\r\nNone              0.0%             13\r\n```\r\n\r\n* Unsupported since [2017-09-29](https://en.wikipedia.org/wiki/CPython#Version_history)\r\n* pip 10 will deprecate Python 3.3 support, pip 11 won't support it (https://github.com/pypa/pip/issues/3796)\r\n* Very little PyPI traffic (June 2016) https://github.com/pypa/pip/issues/3796\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/354", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/354/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/354/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/354/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/354", "id": 270115667, "node_id": "MDU6SXNzdWUyNzAxMTU2Njc=", "number": 354, "title": "support uppercase hex characters in css color check", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 2, "created_at": "2017-10-31T20:55:07Z", "updated_at": "2017-11-30T17:58:28Z", "closed_at": "2017-11-30T17:58:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "This covers adding support for uppercase hex characters in the css color check regex.\r\n\r\nFrom #287:\r\n\r\n> Adds uppercase check (A-F) in the css regex to pass css of the following format:\r\n> border-top: 2px #DA4534 solid;", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/351", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/351/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/351/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/351/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/351", "id": 265749967, "node_id": "MDU6SXNzdWUyNjU3NDk5Njc=", "number": 351, "title": "setuptools breaking Python 3.4 tests", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 1, "created_at": "2017-10-16T12:21:17Z", "updated_at": "2017-10-25T10:33:52Z", "closed_at": "2017-10-25T10:33:52Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "We're having problems where Python 3.4 environments are failing tox in CI. The gist of the problem is outlined here:\r\n\r\nhttps://github.com/pypa/setuptools/issues/951\r\n\r\nWe need to fix this so we can merge pull requests again.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/349", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/349/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/349/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/349/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/349", "id": 262454682, "node_id": "MDU6SXNzdWUyNjI0NTQ2ODI=", "number": 349, "title": "remove utils/spider.py", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 1, "created_at": "2017-10-03T14:39:54Z", "updated_at": "2017-10-31T18:36:29Z", "closed_at": "2017-10-31T18:11:14Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Per:\r\n\r\nhttps://github.com/html5lib/html5lib-python/pull/294#issuecomment-256780543\r\n\r\nWe should remove `utils/spider.py` and any related documentation, tests, and such.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/348", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/348/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/348/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/348/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/348", "id": 258238460, "node_id": "MDU6SXNzdWUyNTgyMzg0NjA=", "number": 348, "title": "do you have a plan time to drop the ugly version number like 0.999999999?", "user": {"login": "zaazbb", "id": 5773083, "node_id": "MDQ6VXNlcjU3NzMwODM=", "avatar_url": "https://avatars3.githubusercontent.com/u/5773083?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zaazbb", "html_url": "https://github.com/zaazbb", "followers_url": "https://api.github.com/users/zaazbb/followers", "following_url": "https://api.github.com/users/zaazbb/following{/other_user}", "gists_url": "https://api.github.com/users/zaazbb/gists{/gist_id}", "starred_url": "https://api.github.com/users/zaazbb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zaazbb/subscriptions", "organizations_url": "https://api.github.com/users/zaazbb/orgs", "repos_url": "https://api.github.com/users/zaazbb/repos", "events_url": "https://api.github.com/users/zaazbb/events{/privacy}", "received_events_url": "https://api.github.com/users/zaazbb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2017-09-16T15:28:13Z", "updated_at": "2017-10-03T14:00:59Z", "closed_at": "2017-10-03T14:00:59Z", "author_association": "NONE", "active_lock_reason": null, "body": "do you have a plan time to drop the ugly version number  like 0.999999999?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/347", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/347/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/347/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/347/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/347", "id": 228221263, "node_id": "MDU6SXNzdWUyMjgyMjEyNjM=", "number": 347, "title": "Incompatibility with possible future regular expression syntax", "user": {"login": "serhiy-storchaka", "id": 3659035, "node_id": "MDQ6VXNlcjM2NTkwMzU=", "avatar_url": "https://avatars3.githubusercontent.com/u/3659035?v=4", "gravatar_id": "", "url": "https://api.github.com/users/serhiy-storchaka", "html_url": "https://github.com/serhiy-storchaka", "followers_url": "https://api.github.com/users/serhiy-storchaka/followers", "following_url": "https://api.github.com/users/serhiy-storchaka/following{/other_user}", "gists_url": "https://api.github.com/users/serhiy-storchaka/gists{/gist_id}", "starred_url": "https://api.github.com/users/serhiy-storchaka/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/serhiy-storchaka/subscriptions", "organizations_url": "https://api.github.com/users/serhiy-storchaka/orgs", "repos_url": "https://api.github.com/users/serhiy-storchaka/repos", "events_url": "https://api.github.com/users/serhiy-storchaka/events{/privacy}", "received_events_url": "https://api.github.com/users/serhiy-storchaka/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 1, "created_at": "2017-05-12T08:24:31Z", "updated_at": "2017-11-30T20:50:30Z", "closed_at": "2017-11-30T20:50:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Currently the `re` module supports only simple set syntax. But it is possible that in future it will support extended syntax: nested sets and set operations. Unfortunately that syntax is not fully compatible with the current syntax. In particular open bracket `'['` in a character set starts a nested set. The code of html5lib contains a regular expression that will be broken if the new syntax will be accepted.\r\n```\r\nascii_punctuation_re = re.compile(\"[\\u0009-\\u000D\\u0020-\\u002F\\u003A-\\u0040\\u005B-\\u0060\\u007B-\\u007E]\")\r\n```\r\nIt would be good to guard the code from possible future breakage. It is enough to add a backslash before ``[``. Replace `\\u005B` with `\\u005C\\u005B`, `\\\\\\u005B` or `\\\\[`.\r\n\r\nSee Python issue: https://bugs.python.org/issue30349.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/346", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/346/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/346/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/346/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/346", "id": 227267114, "node_id": "MDU6SXNzdWUyMjcyNjcxMTQ=", "number": 346, "title": "Sane version numbering", "user": {"login": "emorozov", "id": 365658, "node_id": "MDQ6VXNlcjM2NTY1OA==", "avatar_url": "https://avatars2.githubusercontent.com/u/365658?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emorozov", "html_url": "https://github.com/emorozov", "followers_url": "https://api.github.com/users/emorozov/followers", "following_url": "https://api.github.com/users/emorozov/following{/other_user}", "gists_url": "https://api.github.com/users/emorozov/gists{/gist_id}", "starred_url": "https://api.github.com/users/emorozov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emorozov/subscriptions", "organizations_url": "https://api.github.com/users/emorozov/orgs", "repos_url": "https://api.github.com/users/emorozov/repos", "events_url": "https://api.github.com/users/emorozov/events{/privacy}", "received_events_url": "https://api.github.com/users/emorozov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-09T06:51:08Z", "updated_at": "2017-05-09T16:16:29Z", "closed_at": "2017-05-09T16:16:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Is it possible to switch to sane version numbers? Like sequential numbers, starting from 1.0 or date-based version numbers (like 2017.05).\r\n\r\nCurrent version numbers makes it really hard to understand what version is installed and what version is required. Counting all these nines is not easy.\r\n\r\nI understand that for you this is sounds like a cosmetic issue but I constantly find my code broken by html5lib changes and it's hard to figure out which version is broken and to what version I need downgrade to (for example, code that depends on `from html5lib.sanitizer import HTMLSanitizer` is broken.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/342", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/342/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/342/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/342/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/342", "id": 225749102, "node_id": "MDU6SXNzdWUyMjU3NDkxMDI=", "number": 342, "title": "The serializer sometimes omits the last token", "user": {"login": "indivisible", "id": 937641, "node_id": "MDQ6VXNlcjkzNzY0MQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/937641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/indivisible", "html_url": "https://github.com/indivisible", "followers_url": "https://api.github.com/users/indivisible/followers", "following_url": "https://api.github.com/users/indivisible/following{/other_user}", "gists_url": "https://api.github.com/users/indivisible/gists{/gist_id}", "starred_url": "https://api.github.com/users/indivisible/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/indivisible/subscriptions", "organizations_url": "https://api.github.com/users/indivisible/orgs", "repos_url": "https://api.github.com/users/indivisible/repos", "events_url": "https://api.github.com/users/indivisible/events{/privacy}", "received_events_url": "https://api.github.com/users/indivisible/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-05-02T16:26:23Z", "updated_at": "2017-05-03T17:20:36Z", "closed_at": "2017-05-03T17:20:25Z", "author_association": "NONE", "active_lock_reason": null, "body": "I've noticed that html5lib.serializer.HTMLSerializer sometimes does not emit the last closing tag for fragments.\r\n\r\n[Demonstration of the bug](https://gist.github.com/indivisible/2d4919637e20b235f4c7e9ccf91e595b)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/341", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/341/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/341/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/341/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/341", "id": 225409661, "node_id": "MDU6SXNzdWUyMjU0MDk2NjE=", "number": 341, "title": "etree serializer breaks if an etree.Entity is present", "user": {"login": "cjerdonek", "id": 355822, "node_id": "MDQ6VXNlcjM1NTgyMg==", "avatar_url": "https://avatars3.githubusercontent.com/u/355822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjerdonek", "html_url": "https://github.com/cjerdonek", "followers_url": "https://api.github.com/users/cjerdonek/followers", "following_url": "https://api.github.com/users/cjerdonek/following{/other_user}", "gists_url": "https://api.github.com/users/cjerdonek/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjerdonek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjerdonek/subscriptions", "organizations_url": "https://api.github.com/users/cjerdonek/orgs", "repos_url": "https://api.github.com/users/cjerdonek/repos", "events_url": "https://api.github.com/users/cjerdonek/events{/privacy}", "received_events_url": "https://api.github.com/users/cjerdonek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-05-01T09:21:33Z", "updated_at": "2017-05-03T17:50:46Z", "closed_at": "2017-05-03T17:50:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "The etree serializer breaks if an Entity object is present.\r\n\r\nTo reproduce:\r\n\r\n    import html5lib\r\n    from html5lib.serializer import HTMLSerializer\r\n    import lxml\r\n    from lxml import etree\r\n\r\n    def render(element, treeType, implementation=None):\r\n        walker_cls = html5lib.getTreeWalker(treeType, implementation=implementation)\r\n        walker = walker_cls(element)\r\n        serializer = HTMLSerializer()\r\n        print(serializer.render(walker))\r\n\r\n    elements = html5lib.parseFragment('<div></div>', treebuilder='lxml')\r\n    element, = elements\r\n    element.append(etree.Entity('amp'))\r\n\r\n    # Works, outputs:\r\n    # <div>&amp;</div>\r\n    render(element, 'lxml')\r\n    # Fails with the exception below.\r\n    render(element, 'etree', implementation=lxml.etree)\r\n\r\nException:\r\n\r\n    Traceback (most recent call last):\r\n      File \"test-html5lib.py\", line 25, in <module>\r\n        render(element, 'etree', implementation=lxml.etree)\r\n      File \"test-html5lib.py\", line 16, in render\r\n        print(serializer.render(walker))\r\n      File \"/.../python3.6/site-packages/html5lib/serializer.py\", line 323, in render\r\n        return \"\".join(list(self.serialize(treewalker)))\r\n      File \"/.../python3.6/site-packages/html5lib/serializer.py\", line 209, in serialize\r\n        for token in treewalker:\r\n      File \"/.../python3.6/site-packages/html5lib/filters/optionaltags.py\", line 18, in __iter__\r\n        for previous, token, next in self.slider():\r\n      File \"/.../python3.6/site-packages/html5lib/filters/optionaltags.py\", line 9, in slider\r\n        for token in self.source:\r\n      File \"/.../python3.6/site-packages/html5lib/treewalkers/base.py\", line 94, in __iter__\r\n        details = self.getNodeDetails(currentNode)\r\n      File \"/.../python3.6/site-packages/html5lib/treewalkers/etree.py\", line 61, in getNodeDetails\r\n        assert isinstance(node.tag, string_types), type(node.tag)\r\n    AssertionError: <class 'cython_function_or_method'>\r\n\r\nI believe this is because etree.py's `TreeWalker` class's [`getNodeDetails()` method](https://github.com/html5lib/html5lib-python/blob/984f934d30ba2fde0e9ce5d4581c73fb81654474/html5lib/treewalkers/etree.py#L39) does not have logic like the [following in `etree_lxml.py`](https://github.com/html5lib/html5lib-python/blob/984f934d30ba2fde0e9ce5d4581c73fb81654474/html5lib/treewalkers/etree_lxml.py#L155):\r\n\r\n    elif node.tag == etree.Entity:\r\n        return base.ENTITY, ensure_str(node.text)[1:-1]  # strip &;\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/340", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/340/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/340/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/340/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/340", "id": 225379285, "node_id": "MDU6SXNzdWUyMjUzNzkyODU=", "number": 340, "title": "etree serializer fails when serializing lxml.html element containing a comment", "user": {"login": "cjerdonek", "id": 355822, "node_id": "MDQ6VXNlcjM1NTgyMg==", "avatar_url": "https://avatars3.githubusercontent.com/u/355822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjerdonek", "html_url": "https://github.com/cjerdonek", "followers_url": "https://api.github.com/users/cjerdonek/followers", "following_url": "https://api.github.com/users/cjerdonek/following{/other_user}", "gists_url": "https://api.github.com/users/cjerdonek/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjerdonek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjerdonek/subscriptions", "organizations_url": "https://api.github.com/users/cjerdonek/orgs", "repos_url": "https://api.github.com/users/cjerdonek/repos", "events_url": "https://api.github.com/users/cjerdonek/events{/privacy}", "received_events_url": "https://api.github.com/users/cjerdonek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-05-01T03:30:54Z", "updated_at": "2017-05-01T18:36:11Z", "closed_at": "2017-05-01T18:36:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "Calling `html5lib.serialize()` fails when passing `tree='etree'` and an element containing comments created by `lxml.html`.\r\n\r\nThis _should_ work because `lxml.html`'s documentation [says](http://lxml.de/lxmlhtml.html) about itself:\r\n\r\n> The main API is based on the lxml.etree API, and thus, on the ElementTree API.\r\n\r\nPassing `tree='lxml'` doesn't work as a work-around in general because of this issue: https://github.com/html5lib/html5lib-python/issues/338\r\n\r\nTo reproduce:\r\n\r\n    html = \"\"\"<!DOCTYPE html>\r\n    <html>\r\n    <body>\r\n    <!-- foo -->\r\n    </body>\r\n    </html>\r\n    \"\"\"\r\n    element = lxml.html.document_fromstring(html)\r\n    # Works.\r\n    print(html5lib.serialize(element, tree='lxml'))\r\n    # Fails with the exception below.\r\n    print(html5lib.serialize(element, tree='etree'))\r\n\r\nHere is the exception:\r\n\r\n    Traceback (most recent call last):\r\n      File \"test-html5lib.py\", line 46, in <module>\r\n        print(html5lib.serialize(element, tree='etree'))\r\n      File \"/.../python3.6/site-packages/html5lib/serializer.py\", line 78, in serialize\r\n        return s.render(walker(input), encoding)\r\n      File \"/.../python3.6/site-packages/html5lib/serializer.py\", line 323, in render\r\n        return \"\".join(list(self.serialize(treewalker)))\r\n      File \"/.../python3.6/site-packages/html5lib/serializer.py\", line 209, in serialize\r\n        for token in treewalker:\r\n      File \"/.../python3.6/site-packages/html5lib/filters/optionaltags.py\", line 18, in __iter__\r\n        for previous, token, next in self.slider():\r\n      File \"/.../python3.6/site-packages/html5lib/filters/optionaltags.py\", line 9, in slider\r\n        for token in self.source:\r\n      File \"/.../python3.6/site-packages/html5lib/treewalkers/base.py\", line 94, in __iter__\r\n        details = self.getNodeDetails(currentNode)\r\n      File \"/.../python3.6/site-packages/html5lib/treewalkers/etree.py\", line 61, in getNodeDetails\r\n        assert isinstance(node.tag, string_types), type(node.tag)\r\n    AssertionError: <class 'cython_function_or_method'>\r\n\r\nI'm guessing this issue is caused by the type-checking being done in [this line](https://github.com/html5lib/html5lib-python/blob/984f934d30ba2fde0e9ce5d4581c73fb81654474/html5lib/treewalkers/etree.py#L57):\r\n\r\n    elif node.tag == ElementTreeCommentType:\r\n        return base.COMMENT, node.text\r\n\r\nInstead of exact type-checking which is more fragile, I wonder if some form of duck-typing can be used or using something in the ElementTree API itself.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/339", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/339/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/339/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/339/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/339", "id": 225344083, "node_id": "MDU6SXNzdWUyMjUzNDQwODM=", "number": 339, "title": "typo in htmlIntegrationPointElements", "user": {"login": "cjerdonek", "id": 355822, "node_id": "MDQ6VXNlcjM1NTgyMg==", "avatar_url": "https://avatars3.githubusercontent.com/u/355822?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjerdonek", "html_url": "https://github.com/cjerdonek", "followers_url": "https://api.github.com/users/cjerdonek/followers", "following_url": "https://api.github.com/users/cjerdonek/following{/other_user}", "gists_url": "https://api.github.com/users/cjerdonek/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjerdonek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjerdonek/subscriptions", "organizations_url": "https://api.github.com/users/cjerdonek/orgs", "repos_url": "https://api.github.com/users/cjerdonek/repos", "events_url": "https://api.github.com/users/cjerdonek/events{/privacy}", "received_events_url": "https://api.github.com/users/cjerdonek/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 0, "created_at": "2017-04-30T18:13:46Z", "updated_at": "2017-11-06T21:04:23Z", "closed_at": "2017-11-06T21:04:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "From [here](https://github.com/html5lib/html5lib-python/blob/984f934d30ba2fde0e9ce5d4581c73fb81654474/html5lib/constants.py#L426):\r\n\r\n    htmlIntegrationPointElements = frozenset([\r\n        (namespaces[\"mathml\"], \"annotaion-xml\"),\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/336", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/336/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/336/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/336/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/336", "id": 224855260, "node_id": "MDU6SXNzdWUyMjQ4NTUyNjA=", "number": 336, "title": "ImportError: cannot import name viewkeys", "user": {"login": "madelinezec", "id": 15312869, "node_id": "MDQ6VXNlcjE1MzEyODY5", "avatar_url": "https://avatars3.githubusercontent.com/u/15312869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/madelinezec", "html_url": "https://github.com/madelinezec", "followers_url": "https://api.github.com/users/madelinezec/followers", "following_url": "https://api.github.com/users/madelinezec/following{/other_user}", "gists_url": "https://api.github.com/users/madelinezec/gists{/gist_id}", "starred_url": "https://api.github.com/users/madelinezec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/madelinezec/subscriptions", "organizations_url": "https://api.github.com/users/madelinezec/orgs", "repos_url": "https://api.github.com/users/madelinezec/repos", "events_url": "https://api.github.com/users/madelinezec/events{/privacy}", "received_events_url": "https://api.github.com/users/madelinezec/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 7, "created_at": "2017-04-27T17:20:39Z", "updated_at": "2017-11-10T14:36:22Z", "closed_at": "2017-11-10T14:36:22Z", "author_association": "NONE", "active_lock_reason": null, "body": "I have python code that uses mechanize to login to a website. With six==1.4.1 and six==1.10.0, I get this error:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"scrapeRecipe.py\", line 31, in <module>\r\n    br.select_form(name=\"aspnetForm\")\r\n  File \"/Library/Python/2.7/site-packages/mechanize/_mechanize.py\", line 619, in select_form\r\n    global_form = self._factory.global_form\r\n  File \"/Library/Python/2.7/site-packages/mechanize/_html.py\", line 260, in global_form\r\n    self.forms()\r\n  File \"/Library/Python/2.7/site-packages/mechanize/_html.py\", line 267, in forms\r\n    self._current_forms, self._current_global_form = self._get_forms()\r\n  File \"/Library/Python/2.7/site-packages/mechanize/_html.py\", line 282, in _get_forms\r\n    if self.root is None:\r\n  File \"/Library/Python/2.7/site-packages/mechanize/_html.py\", line 247, in root\r\n    response, verify=False))\r\n  File \"/Library/Python/2.7/site-packages/mechanize/_html.py\", line 145, in content_parser\r\n    from html5lib import parse\r\n  File \"/Library/Python/2.7/site-packages/html5lib/__init__.py\", line 16, in <module>\r\n    from .html5parser import HTMLParser, parse, parseFragment\r\n  File \"/Library/Python/2.7/site-packages/html5lib/html5parser.py\", line 2, in <module>\r\n    from six import with_metaclass, viewkeys, PY3\r\nImportError: cannot import name viewkeys\r\n```\r\nThis appears to similar to[ this post](https://github.com/html5lib/html5lib-python/issues/298), except changing the version of six package didn't fix anything. \r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/335", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/335/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/335/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/335/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/335", "id": 224805323, "node_id": "MDU6SXNzdWUyMjQ4MDUzMjM=", "number": 335, "title": "Html5lib won't install on Python 2.7", "user": {"login": "madelinezec", "id": 15312869, "node_id": "MDQ6VXNlcjE1MzEyODY5", "avatar_url": "https://avatars3.githubusercontent.com/u/15312869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/madelinezec", "html_url": "https://github.com/madelinezec", "followers_url": "https://api.github.com/users/madelinezec/followers", "following_url": "https://api.github.com/users/madelinezec/following{/other_user}", "gists_url": "https://api.github.com/users/madelinezec/gists{/gist_id}", "starred_url": "https://api.github.com/users/madelinezec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/madelinezec/subscriptions", "organizations_url": "https://api.github.com/users/madelinezec/orgs", "repos_url": "https://api.github.com/users/madelinezec/repos", "events_url": "https://api.github.com/users/madelinezec/events{/privacy}", "received_events_url": "https://api.github.com/users/madelinezec/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-04-27T14:38:22Z", "updated_at": "2018-01-19T12:07:45Z", "closed_at": "2017-04-27T16:08:11Z", "author_association": "NONE", "active_lock_reason": null, "body": "My python code runs on Python 2.7, but html5lib will only install on 3.5. When I run `pip install html5lib`, I get this nasty message:\r\n<img width=\"1067\" alt=\"screen shot 2017-04-27 at 10 26 59 am\" src=\"https://cloud.githubusercontent.com/assets/15312869/25488610/7386ab2a-2b35-11e7-8248-222c5bc2f402.png\">\r\nI think because of this issue of python versions, when I try to run my python code, I get the exception: \r\n```\r\nTraceback (most recent call last):\r\n  File \"scrapeRecipe.py\", line 29, in <module>\r\n    br.select_form(name=\"aspnetForm\")\r\n  File \"build/bdist.macosx-10.11-intel/egg/mechanize/_mechanize.py\", line 619, in select_form\r\n  File \"build/bdist.macosx-10.11-intel/egg/mechanize/_html.py\", line 260, in global_form\r\n  File \"build/bdist.macosx-10.11-intel/egg/mechanize/_html.py\", line 267, in forms\r\n  File \"build/bdist.macosx-10.11-intel/egg/mechanize/_html.py\", line 282, in _get_forms\r\n  File \"build/bdist.macosx-10.11-intel/egg/mechanize/_html.py\", line 247, in root\r\n  File \"build/bdist.macosx-10.11-intel/egg/mechanize/_html.py\", line 145, in content_parser\r\nImportError: No module named html5lib \r\n```\r\n\r\nWhat can I do to install html5lib in 2.7?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/330", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/330/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/330/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/330/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/330", "id": 215415040, "node_id": "MDU6SXNzdWUyMTU0MTUwNDA=", "number": 330, "title": "Drop Python 2.6 support", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 5, "created_at": "2017-03-20T13:09:47Z", "updated_at": "2018-05-18T20:03:28Z", "closed_at": "2017-11-07T18:13:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See also #309. Now that https://github.com/pypa/pip/pull/4343 has landed, we can probably start thinking again about dropping 2.6 support. As mentioned in #309, we probably want to wait until pip 10.0 actually ships, however.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/329", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/329/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/329/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/329/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/329", "id": 213630332, "node_id": "MDU6SXNzdWUyMTM2MzAzMzI=", "number": 329, "title": "Ensure pytest-expect is loaded before running tests", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 0, "created_at": "2017-03-12T20:09:43Z", "updated_at": "2017-11-21T16:08:51Z", "closed_at": "2017-11-21T16:08:51Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "#279 was ultimately all about pytest-expect not being loaded; we should fail-hard without it being present without just giving a massive traceback.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/328", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/328/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/328/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/328/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/328", "id": 212759588, "node_id": "MDU6SXNzdWUyMTI3NTk1ODg=", "number": 328, "title": "Release to pypi", "user": {"login": "davidread", "id": 307612, "node_id": "MDQ6VXNlcjMwNzYxMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/307612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidread", "html_url": "https://github.com/davidread", "followers_url": "https://api.github.com/users/davidread/followers", "following_url": "https://api.github.com/users/davidread/following{/other_user}", "gists_url": "https://api.github.com/users/davidread/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidread/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidread/subscriptions", "organizations_url": "https://api.github.com/users/davidread/orgs", "repos_url": "https://api.github.com/users/davidread/repos", "events_url": "https://api.github.com/users/davidread/events{/privacy}", "received_events_url": "https://api.github.com/users/davidread/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 2, "created_at": "2017-03-08T15:05:26Z", "updated_at": "2019-03-10T10:17:11Z", "closed_at": "2017-12-07T13:57:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "It would be helpful if you are able to release another version to pypi. The current latest dates from July 2016.\r\n\r\nPersonally I could do with this fix:\r\nhttps://github.com/html5lib/html5lib-python/pull/301\r\ncoming through into my CI.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/326", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/326/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/326/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/326/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/326", "id": 212029272, "node_id": "MDU6SXNzdWUyMTIwMjkyNzI=", "number": 326, "title": "Unexpected handling of nested <a> tags", "user": {"login": "akxlr", "id": 7381589, "node_id": "MDQ6VXNlcjczODE1ODk=", "avatar_url": "https://avatars2.githubusercontent.com/u/7381589?v=4", "gravatar_id": "", "url": "https://api.github.com/users/akxlr", "html_url": "https://github.com/akxlr", "followers_url": "https://api.github.com/users/akxlr/followers", "following_url": "https://api.github.com/users/akxlr/following{/other_user}", "gists_url": "https://api.github.com/users/akxlr/gists{/gist_id}", "starred_url": "https://api.github.com/users/akxlr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/akxlr/subscriptions", "organizations_url": "https://api.github.com/users/akxlr/orgs", "repos_url": "https://api.github.com/users/akxlr/repos", "events_url": "https://api.github.com/users/akxlr/events{/privacy}", "received_events_url": "https://api.github.com/users/akxlr/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2017-03-06T05:44:43Z", "updated_at": "2017-03-06T14:27:17Z", "closed_at": "2017-03-06T14:27:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "I am using html5lib to parse some invalid HTML containing nested `<a>` tags. I apologise if the below is expected behaviour (I am aware nested `<a>` tags are not allowed).\r\n\r\n```\r\nPython 2.7.12 (default, Sep 28 2016, 18:41:32)\r\n[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.38)] on darwin\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from lxml import etree\r\n>>> import html5lib\r\n>>> etree.tostring(html5lib.parse('<div><div>Body</div></div>', treebuilder='lxml', namespaceHTMLElements=False))\r\n'<html><head/><body><div><div>Body</div></div></body></html>'\r\n>>> etree.tostring(html5lib.parse('<a href=\"link1\"><a href=\"link2\">Body</a></a>', treebuilder='lxml', namespaceHTMLElements=False))\r\n'<html><head/><body><a href=\"link1\"/><a href=\"link2\">Body</a></body></html>'\r\n```\r\n\r\nNote the self-closing tag in the second example. I would instead expect\r\n\r\n```\r\n'<html><head/><body><a href=\"link1\"><a href=\"link2\">Body</a></a></body></html>'\r\n```\r\n\r\nIf this is indeed the expected behaviour, is there some way I go about parsing nested `<a>` tags to get the latter result?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/322", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/322/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/322/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/322/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/322", "id": 209588565, "node_id": "MDU6SXNzdWUyMDk1ODg1NjU=", "number": 322, "title": "alphabeticalattributes filter TypeError when comparing namespaced attributes with non-namespaced attributes", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-02-22T21:35:31Z", "updated_at": "2017-08-31T13:30:40Z", "closed_at": "2017-08-31T13:30:40Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "In SVG 1.1, you could have something like this:\r\n\r\n```\r\n<svg><pattern id=\"patt1\" xlink:href=\"http://example.com/#whatever\" /></svg>\r\n```\r\n\r\nIn Python 3, that creates the following attributes:\r\n\r\n```\r\ndict_items([((None, 'id'), 'patt1'), (('http://www.w3.org/1999/xlink', 'href'), '#patt2')])\r\n```\r\n\r\nThe problem is that this means we're comparing `None` with a str here:\r\n\r\nhttps://github.com/html5lib/html5lib-python/blob/17499b9763a090f7715af49555d21fe4b558958b/html5lib/filters/alphabeticalattributes.py#L17\r\n\r\nThat kicks up a TypeError.\r\n\r\nScript:\r\n\r\n```\r\nimport html5lib\r\nfrom html5lib.serializer import HTMLSerializer\r\n\r\n\r\ntext = '<svg><pattern id=\"patt1\" xlink:href=\"http://example.com/#foo\" /></svg>'\r\n\r\nparser = html5lib.HTMLParser()\r\ndom = parser.parseFragment(text)\r\nwalker = html5lib.getTreeWalker('etree')\r\nser = HTMLSerializer(alphabetical_attributes=True)\r\n\r\nser.render(walker(dom))\r\n```\r\n\r\nTraceback:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"foo.py\", line 12, in <module>\r\n    ser.render(walker(dom))\r\n  File \"/home/willkg/mozilla/bleach/.tox/py34-html5lib99999999/lib/python3.4/site-packages/html5lib/serializer.py\", line 323, in render\r\n    return \"\".join(list(self.serialize(treewalker)))\r\n  File \"/home/willkg/mozilla/bleach/.tox/py34-html5lib99999999/lib/python3.4/site-packages/html5lib/serializer.py\", line 209, in serialize\r\n    for token in treewalker:\r\n  File \"/home/willkg/mozilla/bleach/.tox/py34-html5lib99999999/lib/python3.4/site-packages/html5lib/filters/optionaltags.py\", line 18, in __iter__\r\n    for previous, token, next in self.slider():\r\n  File \"/home/willkg/mozilla/bleach/.tox/py34-html5lib99999999/lib/python3.4/site-packages/html5lib/filters/optionaltags.py\", line 9, in slider\r\n    for token in self.source:\r\n  File \"/home/willkg/mozilla/bleach/.tox/py34-html5lib99999999/lib/python3.4/site-packages/html5lib/filters/alphabeticalattributes.py\", line 17, in __iter__\r\n    key=lambda x: x[0]):\r\nTypeError: unorderable types: str() < NoneType()\r\n```\r\n\r\nThis is true of html5lib 0.99999999 (8 9s) and 0.999999999 (9 9s).", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/315", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/315/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/315/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/315/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/315", "id": 206415959, "node_id": "MDU6SXNzdWUyMDY0MTU5NTk=", "number": 315, "title": "pip install fails with AttributeError: 'NoneType' object has no attribute 'splitlines'", "user": {"login": "SamuelMarks", "id": 807580, "node_id": "MDQ6VXNlcjgwNzU4MA==", "avatar_url": "https://avatars0.githubusercontent.com/u/807580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SamuelMarks", "html_url": "https://github.com/SamuelMarks", "followers_url": "https://api.github.com/users/SamuelMarks/followers", "following_url": "https://api.github.com/users/SamuelMarks/following{/other_user}", "gists_url": "https://api.github.com/users/SamuelMarks/gists{/gist_id}", "starred_url": "https://api.github.com/users/SamuelMarks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SamuelMarks/subscriptions", "organizations_url": "https://api.github.com/users/SamuelMarks/orgs", "repos_url": "https://api.github.com/users/SamuelMarks/repos", "events_url": "https://api.github.com/users/SamuelMarks/events{/privacy}", "received_events_url": "https://api.github.com/users/SamuelMarks/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2017-02-09T06:20:23Z", "updated_at": "2017-11-29T00:17:12Z", "closed_at": "2017-11-29T00:17:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "The issue is that `dist = html5lib 1.0b10` and `metadata = None`. `metadata` should equal an object with a `splitlines` method.\r\n\r\nUsually it's your README.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/314", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/314/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/314/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/314/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/314", "id": 205454607, "node_id": "MDU6SXNzdWUyMDU0NTQ2MDc=", "number": 314, "title": "How could html5lib be made faster?", "user": {"login": "tbodt", "id": 5678977, "node_id": "MDQ6VXNlcjU2Nzg5Nzc=", "avatar_url": "https://avatars1.githubusercontent.com/u/5678977?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tbodt", "html_url": "https://github.com/tbodt", "followers_url": "https://api.github.com/users/tbodt/followers", "following_url": "https://api.github.com/users/tbodt/following{/other_user}", "gists_url": "https://api.github.com/users/tbodt/gists{/gist_id}", "starred_url": "https://api.github.com/users/tbodt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tbodt/subscriptions", "organizations_url": "https://api.github.com/users/tbodt/orgs", "repos_url": "https://api.github.com/users/tbodt/repos", "events_url": "https://api.github.com/users/tbodt/events{/privacy}", "received_events_url": "https://api.github.com/users/tbodt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2017-02-05T21:09:14Z", "updated_at": "2017-02-09T16:26:31Z", "closed_at": "2017-02-06T22:11:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "html5lib is nice, but it's pretty slow. On a fairly large test file, lxml took 50ms and html5lib took 5 seconds, which is 100 times slower.\r\n\r\nAre there any particularly slow parts of html5lib that could be optimized? Would compiling it with Cython help?", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/313", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/313/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/313/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/313/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/313", "id": 203373856, "node_id": "MDU6SXNzdWUyMDMzNzM4NTY=", "number": 313, "title": "Links to tokenizer.py and sanitizer.py broken", "user": {"login": "Ryuno-Ki", "id": 3097194, "node_id": "MDQ6VXNlcjMwOTcxOTQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/3097194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ryuno-Ki", "html_url": "https://github.com/Ryuno-Ki", "followers_url": "https://api.github.com/users/Ryuno-Ki/followers", "following_url": "https://api.github.com/users/Ryuno-Ki/following{/other_user}", "gists_url": "https://api.github.com/users/Ryuno-Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ryuno-Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ryuno-Ki/subscriptions", "organizations_url": "https://api.github.com/users/Ryuno-Ki/orgs", "repos_url": "https://api.github.com/users/Ryuno-Ki/repos", "events_url": "https://api.github.com/users/Ryuno-Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/Ryuno-Ki/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35258017, "node_id": "MDU6TGFiZWwzNTI1ODAxNw==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/documentation", "name": "documentation", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 1, "created_at": "2017-01-26T13:41:26Z", "updated_at": "2017-11-09T18:41:28Z", "closed_at": "2017-11-09T18:41:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "As already mentioned in #289 the links to tokenizer.py and sanitizer.py are broken in https://github.com/html5lib/html5lib-python/blob/1a28d721091a2c433c6e8471d14cbb75afd70d1c/doc/movingparts.rst#htmltokenizer\r\n\r\nInstead of `<https://github.com/html5lib/html5lib-python/blob/master/html5lib/tokenizer.py>` and `<https://github.com/html5lib/html5lib-python/blob/master/html5lib/sanitizer.py>` they should point to https://github.com/html5lib/html5lib-python/blob/master/html5lib/_tokenizer.py and https://github.com/html5lib/html5lib-python/blob/master/html5lib/filters/sanitizer.py respectively.\r\n\r\nCaused by https://github.com/html5lib/html5lib-python/commit/c4dd6771836841ee796af8035dbf8239074ed5ec and https://github.com/html5lib/html5lib-python/commit/a2917e950df0a06b0c46c3ac7f84c3c797af0e43", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/312", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/312/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/312/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/312/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/312", "id": 202954801, "node_id": "MDU6SXNzdWUyMDI5NTQ4MDE=", "number": 312, "title": "sanitize filter introduced in 0.99999999 (8 9s) creates extra tags", "user": {"login": "willkg", "id": 820826, "node_id": "MDQ6VXNlcjgyMDgyNg==", "avatar_url": "https://avatars1.githubusercontent.com/u/820826?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willkg", "html_url": "https://github.com/willkg", "followers_url": "https://api.github.com/users/willkg/followers", "following_url": "https://api.github.com/users/willkg/following{/other_user}", "gists_url": "https://api.github.com/users/willkg/gists{/gist_id}", "starred_url": "https://api.github.com/users/willkg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willkg/subscriptions", "organizations_url": "https://api.github.com/users/willkg/orgs", "repos_url": "https://api.github.com/users/willkg/repos", "events_url": "https://api.github.com/users/willkg/events{/privacy}", "received_events_url": "https://api.github.com/users/willkg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 8, "created_at": "2017-01-24T22:09:21Z", "updated_at": "2017-02-18T02:13:51Z", "closed_at": "2017-02-18T02:13:51Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I'm the maintainer for bleach. I've spent a good portion of the last few days trying to rewrite bleach to work with html5lib >= 0.99999999 (8 9s). It's been interesting.\r\n\r\nThe sanitizer that we used in 0.9999999 (7 9s) is gone. That's replaced with a filter system. So previously, bleach would \"tap into\" the pipeline with a Tokenizer, but now it's \"tapping into\" the pipeline with a Filter.\r\n\r\nThe problem I'm having is that we're getting different output. For example with this string:\r\n\r\n```\r\nYeah, sure. <sarcasm/>\r\n```\r\n\r\nWith html5lib 0.9999999 (7 9s), we get `Yeah, sure. &lt;sarcasm/&gt;`.\r\n\r\nWith html5lib 0.99999999 (8 9s), we get `Yeah, sure. &lt;sarcasm&gt;&lt;/sarcasm&gt;`.\r\n\r\nI took bleach out of the equation and just used the regular sanitization stuff in html5lib and wrote these two test scripts:\r\n\r\nhtml5lib 0.9999999 (7 9s):\r\n\r\n```\r\n#!/usr/bin/env python\r\n\r\nimport html5lib\r\nfrom html5lib import sanitizer\r\nfrom html5lib.serializer.htmlserializer import HTMLSerializer\r\n\r\n\r\ndef sanitize(text):\r\n    p = html5lib.HTMLParser(tokenizer=sanitizer.HTMLSanitizer)\r\n    walker = html5lib.treewalkers.getTreeWalker('etree')\r\n    domtree = p.parseFragment(text)\r\n\r\n    stream = walker(domtree)\r\n    serializer = HTMLSerializer()\r\n    return serializer.render(stream)\r\n\r\n\r\nprint(sanitize('Yeah <sarcasm/>'))\r\n```\r\n\r\nhtml5lib 0.99999999 (8 9s):\r\n\r\n```\r\n#!/usr/bin/env python\r\n\r\nimport html5lib\r\nfrom html5lib.filters import sanitizer\r\nfrom html5lib.serializer import HTMLSerializer\r\n\r\n\r\ndef sanitize(text):\r\n    dom = html5lib.parseFragment(text, treebuilder=\"etree\")\r\n    walker = html5lib.getTreeWalker(\"etree\")\r\n    stream = walker(dom)\r\n\r\n    s = HTMLSerializer()\r\n\r\n    return s.render(sanitizer.Filter(stream))\r\n\r\n\r\nprint(sanitize('Yeah <sarcasm/>'))\r\n```\r\n\r\nI think what's going on is that in 0.9999999 (7 9s), sanitizing via tokenizer kicks in *before* the etree tree walking. The sanitizing converts the `<sarcasm/>` (a disallowed tag) into escaped text data. Thus it doesn't get an end tag.\r\n\r\nIn 0.99999999 (8 9s), sanitizing via filter kicks in *after* the etree tree walking which creates the end tag, then both the start and end tags get escaped.\r\n\r\nAm I right or am I missing something?\r\n\r\nIf I'm right, any ideas how to deal with this in bleach? Seems like a showstopper.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/310", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/310/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/310/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/310/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/310", "id": 192284845, "node_id": "MDU6SXNzdWUxOTIyODQ4NDU=", "number": 310, "title": "serialize() makes a mailto href attribute unusable if it contains a query with ampersands ", "user": {"login": "lmende", "id": 3082191, "node_id": "MDQ6VXNlcjMwODIxOTE=", "avatar_url": "https://avatars3.githubusercontent.com/u/3082191?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lmende", "html_url": "https://github.com/lmende", "followers_url": "https://api.github.com/users/lmende/followers", "following_url": "https://api.github.com/users/lmende/following{/other_user}", "gists_url": "https://api.github.com/users/lmende/gists{/gist_id}", "starred_url": "https://api.github.com/users/lmende/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lmende/subscriptions", "organizations_url": "https://api.github.com/users/lmende/orgs", "repos_url": "https://api.github.com/users/lmende/repos", "events_url": "https://api.github.com/users/lmende/events{/privacy}", "received_events_url": "https://api.github.com/users/lmende/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2016-11-29T13:42:25Z", "updated_at": "2016-12-11T18:34:08Z", "closed_at": "2016-12-07T03:41:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "`serializer.htmlserializer.serialize()` (line:248) replaces the desired `&` with `&amp;` so that the given mailto - href is broken afterwards, see below:\r\n```\r\nIn [1]: import bleach\r\nIn [2]: bleach.clean('<a href=\"mailto:et@far.away?subject=Hi&body=please%20call\">send</a>')\r\nOut[2]: '<a href=\"mailto:et@far.away?subject=Hi&amp;body=please%20call\">send</a>'\r\n```\r\n\r\nThe resulting serialized url isn't recognized by standard mail programs like _thunderbird_ or _apple mail_.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/307", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/307/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/307/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/307/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/307", "id": 184864633, "node_id": "MDU6SXNzdWUxODQ4NjQ2MzM=", "number": 307, "title": "Document our public API", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35258017, "node_id": "MDU6TGFiZWwzNTI1ODAxNw==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/documentation", "name": "documentation", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 6, "created_at": "2016-10-24T14:55:49Z", "updated_at": "2017-12-06T00:11:39Z", "closed_at": "2017-12-06T00:11:39Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "For semver to make any sense, we really need to actually define what our public API is. We probably want to do this both through documentation and through the de-facto Python standard of underscore-prefixing (though that will likely break stuff again, le sight, but if people are using the private API they'll likely complain when we do break it in some 1.x release).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/306", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/306/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/306/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/306/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/306", "id": 182810816, "node_id": "MDU6SXNzdWUxODI4MTA4MTY=", "number": 306, "title": "No wheel for the latest version (0.999... however many 9's that is)", "user": {"login": "adamchainz", "id": 857609, "node_id": "MDQ6VXNlcjg1NzYwOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/857609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamchainz", "html_url": "https://github.com/adamchainz", "followers_url": "https://api.github.com/users/adamchainz/followers", "following_url": "https://api.github.com/users/adamchainz/following{/other_user}", "gists_url": "https://api.github.com/users/adamchainz/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamchainz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamchainz/subscriptions", "organizations_url": "https://api.github.com/users/adamchainz/orgs", "repos_url": "https://api.github.com/users/adamchainz/repos", "events_url": "https://api.github.com/users/adamchainz/events{/privacy}", "received_events_url": "https://api.github.com/users/adamchainz/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-13T14:47:31Z", "updated_at": "2016-10-27T21:40:15Z", "closed_at": "2016-10-27T21:40:15Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "You have the wheel config in `setup.cfg`, but didn't create one with `python setup.py bdist_wheel`. Please release one to make everyone's installs a bit faster \ud83d\udc4d \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/305", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/305/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/305/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/305/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/305", "id": 181451606, "node_id": "MDU6SXNzdWUxODE0NTE2MDY=", "number": 305, "title": "Import error on macos", "user": {"login": "nomadyow", "id": 274743, "node_id": "MDQ6VXNlcjI3NDc0Mw==", "avatar_url": "https://avatars1.githubusercontent.com/u/274743?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nomadyow", "html_url": "https://github.com/nomadyow", "followers_url": "https://api.github.com/users/nomadyow/followers", "following_url": "https://api.github.com/users/nomadyow/following{/other_user}", "gists_url": "https://api.github.com/users/nomadyow/gists{/gist_id}", "starred_url": "https://api.github.com/users/nomadyow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nomadyow/subscriptions", "organizations_url": "https://api.github.com/users/nomadyow/orgs", "repos_url": "https://api.github.com/users/nomadyow/repos", "events_url": "https://api.github.com/users/nomadyow/events{/privacy}", "received_events_url": "https://api.github.com/users/nomadyow/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-10-06T15:41:32Z", "updated_at": "2016-10-06T16:18:13Z", "closed_at": "2016-10-06T16:18:13Z", "author_association": "NONE", "active_lock_reason": null, "body": "If I do:\n\nImport html5lib\n\non my mac  (python 2.7)\n\nI get the following:\n\n`Traceback (most recent call last):\n  File \"./test2.py\", line 2, in <module>\n    import html5lib\n  File \"build/bdist.macosx-10.12-intel/egg/html5lib/__init__.py\", line 16, in <module>\n  File \"build/bdist.macosx-10.12-intel/egg/html5lib/html5parser.py\", line 2, in <module>\nImportError: cannot import name viewkeys`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/304", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/304/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/304/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/304/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/304", "id": 180206674, "node_id": "MDU6SXNzdWUxODAyMDY2NzQ=", "number": 304, "title": "Non-standard tags in header move remaining tags to body", "user": {"login": "johnlb", "id": 5116479, "node_id": "MDQ6VXNlcjUxMTY0Nzk=", "avatar_url": "https://avatars1.githubusercontent.com/u/5116479?v=4", "gravatar_id": "", "url": "https://api.github.com/users/johnlb", "html_url": "https://github.com/johnlb", "followers_url": "https://api.github.com/users/johnlb/followers", "following_url": "https://api.github.com/users/johnlb/following{/other_user}", "gists_url": "https://api.github.com/users/johnlb/gists{/gist_id}", "starred_url": "https://api.github.com/users/johnlb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/johnlb/subscriptions", "organizations_url": "https://api.github.com/users/johnlb/orgs", "repos_url": "https://api.github.com/users/johnlb/repos", "events_url": "https://api.github.com/users/johnlb/events{/privacy}", "received_events_url": "https://api.github.com/users/johnlb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-09-30T02:31:17Z", "updated_at": "2016-09-30T11:29:02Z", "closed_at": "2016-09-30T11:29:02Z", "author_association": "NONE", "active_lock_reason": null, "body": "In particular, this html:\n\n```\n<html>\n<head>\n    <tech value=\"generic\">\n    <link rel=\"stylesheet\">\n</head>\n<body>\n    <div> some div text </div>\n</body>\n</html>\n```\n\nbecomes this (after parsing):\n\n```\n<html>\n<head>\n</head>\n<body>\n    <tech value=\"generic\">\n        <link rel=\"stylesheet\">\n        <div> some div text </div>\n    </tech>\n</body>\n</html>\n\n```\n\nAlso note that if I put `link` above `tech`, `link` stays in the correct position, but `tech` behaves the same.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/298", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/298/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/298/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/298/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/298", "id": 174377727, "node_id": "MDU6SXNzdWUxNzQzNzc3Mjc=", "number": 298, "title": "Older versions of six may be incompatible", "user": {"login": "keithcallenberg", "id": 999275, "node_id": "MDQ6VXNlcjk5OTI3NQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/999275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keithcallenberg", "html_url": "https://github.com/keithcallenberg", "followers_url": "https://api.github.com/users/keithcallenberg/followers", "following_url": "https://api.github.com/users/keithcallenberg/following{/other_user}", "gists_url": "https://api.github.com/users/keithcallenberg/gists{/gist_id}", "starred_url": "https://api.github.com/users/keithcallenberg/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keithcallenberg/subscriptions", "organizations_url": "https://api.github.com/users/keithcallenberg/orgs", "repos_url": "https://api.github.com/users/keithcallenberg/repos", "events_url": "https://api.github.com/users/keithcallenberg/events{/privacy}", "received_events_url": "https://api.github.com/users/keithcallenberg/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-08-31T21:01:17Z", "updated_at": "2017-04-28T15:15:39Z", "closed_at": "2017-02-19T21:42:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please disregard this if there are any overriding implications of requiring an updated version of six, but I found I needed an upgraded version in order to import html5lib.\n\nWith six==1.5.2 I receive an ImportError:\n\n```\nFile \"/usr/local/lib/python2.7/dist-packages/weasyprint/__init__.py\", line 19, in <module>\n    import html5lib  # noqa\n  File \"/usr/local/lib/python2.7/dist-packages/html5lib/__init__.py\", line 16, in <module>\n    from .html5parser import HTMLParser, parse, parseFragment\n  File \"/usr/local/lib/python2.7/dist-packages/html5lib/html5parser.py\", line 2, in <module>\n    from six import with_metaclass, viewkeys, PY3\nImportError: cannot import name viewkeys\n```\n\nThis error goes away when I add six=1.10.0 to my requirements.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/296", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/296/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/296/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/296/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/296", "id": 171018488, "node_id": "MDU6SXNzdWUxNzEwMTg0ODg=", "number": 296, "title": "accept python-distribute-0.6.49", "user": {"login": "mcirsta", "id": 1336017, "node_id": "MDQ6VXNlcjEzMzYwMTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/1336017?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcirsta", "html_url": "https://github.com/mcirsta", "followers_url": "https://api.github.com/users/mcirsta/followers", "following_url": "https://api.github.com/users/mcirsta/following{/other_user}", "gists_url": "https://api.github.com/users/mcirsta/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcirsta/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcirsta/subscriptions", "organizations_url": "https://api.github.com/users/mcirsta/orgs", "repos_url": "https://api.github.com/users/mcirsta/repos", "events_url": "https://api.github.com/users/mcirsta/events{/privacy}", "received_events_url": "https://api.github.com/users/mcirsta/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-08-13T17:26:37Z", "updated_at": "2017-10-03T14:26:26Z", "closed_at": "2017-10-03T14:26:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "  There is a check for : \n\nhtml5lib requires setuptools version 18.5 or above; please upgrade before installing (you have 0.6)\n\n I have python-distribute-0.6.49 and when removing that check everything seems to work fine.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/295", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/295/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/295/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/295/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/295", "id": 169921522, "node_id": "MDU6SXNzdWUxNjk5MjE1MjI=", "number": 295, "title": "PLZ Move public api back", "user": {"login": "Krukov", "id": 4534117, "node_id": "MDQ6VXNlcjQ1MzQxMTc=", "avatar_url": "https://avatars3.githubusercontent.com/u/4534117?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Krukov", "html_url": "https://github.com/Krukov", "followers_url": "https://api.github.com/users/Krukov/followers", "following_url": "https://api.github.com/users/Krukov/following{/other_user}", "gists_url": "https://api.github.com/users/Krukov/gists{/gist_id}", "starred_url": "https://api.github.com/users/Krukov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Krukov/subscriptions", "organizations_url": "https://api.github.com/users/Krukov/orgs", "repos_url": "https://api.github.com/users/Krukov/repos", "events_url": "https://api.github.com/users/Krukov/events{/privacy}", "received_events_url": "https://api.github.com/users/Krukov/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-08-08T13:22:41Z", "updated_at": "2017-10-03T14:02:55Z", "closed_at": "2017-10-03T14:02:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "It is very dangerous to make changes that breaks down other libraries! :suspect: \nI taking about https://github.com/html5lib/html5lib-python/commit/c4dd6771836841ee796af8035dbf8239074ed5ec\n\n(take a look at this https://github.com/xhtml2pdf/xhtml2pdf/blob/0.1b2/xhtml2pdf/parser.py#L17)\n\nPlease revert this and other related commits that changes names of public interfaces\nYou can use `warnings` library to notify users about `deprecated` modules/classes/methods.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/290", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/290/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/290/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/290/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/290", "id": 167517171, "node_id": "MDU6SXNzdWUxNjc1MTcxNzE=", "number": 290, "title": "flake8 v3 does not support Python 2.6", "user": {"login": "jayvdb", "id": 15092, "node_id": "MDQ6VXNlcjE1MDky", "avatar_url": "https://avatars1.githubusercontent.com/u/15092?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jayvdb", "html_url": "https://github.com/jayvdb", "followers_url": "https://api.github.com/users/jayvdb/followers", "following_url": "https://api.github.com/users/jayvdb/following{/other_user}", "gists_url": "https://api.github.com/users/jayvdb/gists{/gist_id}", "starred_url": "https://api.github.com/users/jayvdb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jayvdb/subscriptions", "organizations_url": "https://api.github.com/users/jayvdb/orgs", "repos_url": "https://api.github.com/users/jayvdb/repos", "events_url": "https://api.github.com/users/jayvdb/events{/privacy}", "received_events_url": "https://api.github.com/users/jayvdb/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-07-26T04:09:53Z", "updated_at": "2016-09-07T18:16:29Z", "closed_at": "2016-07-26T13:19:02Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "flake8 v2 supported Python 2.6, and is used by the Travis builds.\n\nflake8 v3 has come out of beta, though is full of bugs, but more importantly it comes with a clear intent to not support Python 2.6, which is the trendy thing to do.\nhttps://gitlab.com/pycqa/flake8/commit/cde783d135953d7d16a1373f13b066731083e477\nhttps://gitlab.com/pycqa/flake8/commit/c8ad626525631314decbb5bd544be47102610fd0\n\nTo support continued linting of Python 2.6, raise upstream and/or pin flake8<3 at least on Python 2.6\n\nOr drop support for Python 2.6.  Is that an option?  If not, it would be good to clearly explain why Python 2.6 support is needed, here and upstream.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/289", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/289/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/289/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/289/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/289", "id": 167219923, "node_id": "MDU6SXNzdWUxNjcyMTk5MjM=", "number": 289, "title": "Sanitizer example in documentation needs rewriting", "user": {"login": "malcolmr", "id": 7025783, "node_id": "MDQ6VXNlcjcwMjU3ODM=", "avatar_url": "https://avatars1.githubusercontent.com/u/7025783?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malcolmr", "html_url": "https://github.com/malcolmr", "followers_url": "https://api.github.com/users/malcolmr/followers", "following_url": "https://api.github.com/users/malcolmr/following{/other_user}", "gists_url": "https://api.github.com/users/malcolmr/gists{/gist_id}", "starred_url": "https://api.github.com/users/malcolmr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malcolmr/subscriptions", "organizations_url": "https://api.github.com/users/malcolmr/orgs", "repos_url": "https://api.github.com/users/malcolmr/repos", "events_url": "https://api.github.com/users/malcolmr/events{/privacy}", "received_events_url": "https://api.github.com/users/malcolmr/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35258017, "node_id": "MDU6TGFiZWwzNTI1ODAxNw==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/documentation", "name": "documentation", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 1, "created_at": "2016-07-24T06:27:32Z", "updated_at": "2017-11-09T18:45:22Z", "closed_at": "2017-11-09T18:45:21Z", "author_association": "NONE", "active_lock_reason": null, "body": "After #72, the example in the documentation at https://html5lib.readthedocs.io/en/latest/movingparts.html#tokenizers is no longer valid (see also #277).\n\n(Also the links to `tokenizer.py` and `sanitizer.py` are both 404.)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/288", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/288/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/288/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/288/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/288", "id": 167174287, "node_id": "MDU6SXNzdWUxNjcxNzQyODc=", "number": 288, "title": "can not import \"html5lib.sanitizer\" ?", "user": {"login": "wishskills", "id": 20242505, "node_id": "MDQ6VXNlcjIwMjQyNTA1", "avatar_url": "https://avatars0.githubusercontent.com/u/20242505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wishskills", "html_url": "https://github.com/wishskills", "followers_url": "https://api.github.com/users/wishskills/followers", "following_url": "https://api.github.com/users/wishskills/following{/other_user}", "gists_url": "https://api.github.com/users/wishskills/gists{/gist_id}", "starred_url": "https://api.github.com/users/wishskills/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wishskills/subscriptions", "organizations_url": "https://api.github.com/users/wishskills/orgs", "repos_url": "https://api.github.com/users/wishskills/repos", "events_url": "https://api.github.com/users/wishskills/events{/privacy}", "received_events_url": "https://api.github.com/users/wishskills/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2016-07-23T08:15:33Z", "updated_at": "2016-07-23T08:19:16Z", "closed_at": "2016-07-23T08:19:16Z", "author_association": "NONE", "active_lock_reason": null, "body": "  from html5lib.sanitizer import HTMLSanitizer\nImportError: No module named 'html5lib.sanitizer'\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/286", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/286/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/286/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/286/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/286", "id": 166973467, "node_id": "MDU6SXNzdWUxNjY5NzM0Njc=", "number": 286, "title": "cannot import name inputstream", "user": {"login": "abhisheklalnediya", "id": 3649024, "node_id": "MDQ6VXNlcjM2NDkwMjQ=", "avatar_url": "https://avatars1.githubusercontent.com/u/3649024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/abhisheklalnediya", "html_url": "https://github.com/abhisheklalnediya", "followers_url": "https://api.github.com/users/abhisheklalnediya/followers", "following_url": "https://api.github.com/users/abhisheklalnediya/following{/other_user}", "gists_url": "https://api.github.com/users/abhisheklalnediya/gists{/gist_id}", "starred_url": "https://api.github.com/users/abhisheklalnediya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/abhisheklalnediya/subscriptions", "organizations_url": "https://api.github.com/users/abhisheklalnediya/orgs", "repos_url": "https://api.github.com/users/abhisheklalnediya/repos", "events_url": "https://api.github.com/users/abhisheklalnediya/events{/privacy}", "received_events_url": "https://api.github.com/users/abhisheklalnediya/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-07-22T05:36:19Z", "updated_at": "2016-07-23T18:11:55Z", "closed_at": "2016-07-23T18:11:55Z", "author_association": "NONE", "active_lock_reason": null, "body": "It was working fine till html5lib (0.9999999)\nBut the latest is not good.\n![selection_081](https://cloud.githubusercontent.com/assets/3649024/17047484/227bb9ec-4ffc-11e6-80de-da54d372ef64.png)\n![selection_082](https://cloud.githubusercontent.com/assets/3649024/17047500/4f374fc8-4ffc-11e6-8766-82e84d9f8971.png)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/283", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/283/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/283/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/283/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/283", "id": 166855267, "node_id": "MDU6SXNzdWUxNjY4NTUyNjc=", "number": 283, "title": "Add an error for invalid children of <ul>", "user": {"login": "jdufresne", "id": 347634, "node_id": "MDQ6VXNlcjM0NzYzNA==", "avatar_url": "https://avatars1.githubusercontent.com/u/347634?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jdufresne", "html_url": "https://github.com/jdufresne", "followers_url": "https://api.github.com/users/jdufresne/followers", "following_url": "https://api.github.com/users/jdufresne/following{/other_user}", "gists_url": "https://api.github.com/users/jdufresne/gists{/gist_id}", "starred_url": "https://api.github.com/users/jdufresne/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jdufresne/subscriptions", "organizations_url": "https://api.github.com/users/jdufresne/orgs", "repos_url": "https://api.github.com/users/jdufresne/repos", "events_url": "https://api.github.com/users/jdufresne/events{/privacy}", "received_events_url": "https://api.github.com/users/jdufresne/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-07-21T15:55:18Z", "updated_at": "2016-07-23T22:15:57Z", "closed_at": "2016-07-23T22:15:57Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\n>>> import html5lib\n>>> parser = html5lib.HTMLParser()\n>>> parser.parseFragment('<ul><ul><li>item</li></ul></ul>')\n>>> print(parser.errors)\n[]\n```\n\nI would expect an error like: \"Element ul not allowed as child of element ul in this context.\" This is the error reported by [W3.org's validator](https://validator.w3.org/nu/#textarea).\n\nThe [spec states](https://www.w3.org/TR/html5/grouping-content.html#the-ul-element) only `<li>` tags are valid children of `<ul>`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/282", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/282/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/282/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/282/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/282", "id": 166194454, "node_id": "MDU6SXNzdWUxNjYxOTQ0NTQ=", "number": 282, "title": "fix version numbering", "user": {"login": "phillyc", "id": 2000546, "node_id": "MDQ6VXNlcjIwMDA1NDY=", "avatar_url": "https://avatars3.githubusercontent.com/u/2000546?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phillyc", "html_url": "https://github.com/phillyc", "followers_url": "https://api.github.com/users/phillyc/followers", "following_url": "https://api.github.com/users/phillyc/following{/other_user}", "gists_url": "https://api.github.com/users/phillyc/gists{/gist_id}", "starred_url": "https://api.github.com/users/phillyc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phillyc/subscriptions", "organizations_url": "https://api.github.com/users/phillyc/orgs", "repos_url": "https://api.github.com/users/phillyc/repos", "events_url": "https://api.github.com/users/phillyc/events{/privacy}", "received_events_url": "https://api.github.com/users/phillyc/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 52, "created_at": "2016-07-18T21:10:35Z", "updated_at": "2017-12-07T14:21:13Z", "closed_at": "2017-12-07T13:57:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I just spent 4 hours with another engineer trying to figure out why our builds weren't producing the same results.\n\nTurns out I had html5lib \"0.9999999\" and he had \"0.999999999\" which was nearly impossible to spot on the pip list readout. >.<\n\nhttp://semver.org/#why-use-semantic-versioning\n\nI'm going to guess that you'll say html5lib isn't ready for production so your versioning scheme is appropriate, but I'm still filing this bug because I'm steamed about losing so much development time. :/\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/281", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/281/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/281/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/281/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/281", "id": 166175879, "node_id": "MDU6SXNzdWUxNjYxNzU4Nzk=", "number": 281, "title": "Incorrect call of HTMLUnicodeInputStream in _inputstream.py", "user": {"login": "marazt", "id": 323018, "node_id": "MDQ6VXNlcjMyMzAxOA==", "avatar_url": "https://avatars1.githubusercontent.com/u/323018?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marazt", "html_url": "https://github.com/marazt", "followers_url": "https://api.github.com/users/marazt/followers", "following_url": "https://api.github.com/users/marazt/following{/other_user}", "gists_url": "https://api.github.com/users/marazt/gists{/gist_id}", "starred_url": "https://api.github.com/users/marazt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marazt/subscriptions", "organizations_url": "https://api.github.com/users/marazt/orgs", "repos_url": "https://api.github.com/users/marazt/repos", "events_url": "https://api.github.com/users/marazt/events{/privacy}", "received_events_url": "https://api.github.com/users/marazt/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-07-18T19:41:25Z", "updated_at": "2016-07-19T18:27:58Z", "closed_at": "2016-07-19T18:27:58Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi, while using Weasyprint 0.29 (that uses html5lib 0.999999999) for printing templates, I have found following issue:\n\n`env/local/lib/python2.7/site-packages/html5lib/_inputstream.py\", line 149, in HTMLInputStream\n    return HTMLUnicodeInputStream(source, **kwargs)\nTypeError: __init__() got an unexpected keyword argument 'encoding'`\n\nIt seems that it is caused by changes in issue #120 (line 149). **HTMLUnicodeInputStream** constructor is called with multiple arguments, but the constructor itself has only one parameter.\n\nEdit: version **0.9999999** (7x9) is working correctly.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/280", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/280/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/280/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/280/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/280", "id": 166171357, "node_id": "MDU6SXNzdWUxNjYxNzEzNTc=", "number": 280, "title": "Installing html5lib in a fresh venv fails if setuptools is not up to date", "user": {"login": "jraby", "id": 2365261, "node_id": "MDQ6VXNlcjIzNjUyNjE=", "avatar_url": "https://avatars3.githubusercontent.com/u/2365261?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jraby", "html_url": "https://github.com/jraby", "followers_url": "https://api.github.com/users/jraby/followers", "following_url": "https://api.github.com/users/jraby/following{/other_user}", "gists_url": "https://api.github.com/users/jraby/gists{/gist_id}", "starred_url": "https://api.github.com/users/jraby/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jraby/subscriptions", "organizations_url": "https://api.github.com/users/jraby/orgs", "repos_url": "https://api.github.com/users/jraby/repos", "events_url": "https://api.github.com/users/jraby/events{/privacy}", "received_events_url": "https://api.github.com/users/jraby/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-07-18T19:18:44Z", "updated_at": "2016-09-07T17:35:45Z", "closed_at": "2016-07-26T12:26:30Z", "author_association": "NONE", "active_lock_reason": null, "body": "Since #263 has been merged, it is not possible to install/upgrade setuptools at the same time as html5lib.\n\nFor example this fails:\n\n```\ncat >req.txt <<EOF\nsetuptools>=18.5\nhtml5lib\nEOF\n\nvirtualenv testenv\ntestenv/bin/pip install -r req.txt\n\nCollecting setuptools>=18.5 (from -r req.txt (line 1))\n  Using cached setuptools-24.0.3-py2.py3-none-any.whl\nCollecting html5lib (from -r req.txt (line 2))\n  Using cached html5lib-0.999999999.tar.gz\n    Complete output from command python setup.py egg_info:\n    html5lib requires setuptools version 18.5 or above; please upgrade before installing (you have 18.2)\n\n    ----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/49/p3xmv77x6fnb2lwl5kpvmvs40000gp/T/pip-build-0vYISn/html5lib\nYou are using pip version 7.1.2, however version 8.1.2 is available.\nYou should consider upgrading via the 'pip install --upgrade pip' command.\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/279", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/279/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/279/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/279/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/279", "id": 165991158, "node_id": "MDU6SXNzdWUxNjU5OTExNTg=", "number": 279, "title": "test not running when building on opensuse build server", "user": {"login": "arunpersaud", "id": 425653, "node_id": "MDQ6VXNlcjQyNTY1Mw==", "avatar_url": "https://avatars2.githubusercontent.com/u/425653?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arunpersaud", "html_url": "https://github.com/arunpersaud", "followers_url": "https://api.github.com/users/arunpersaud/followers", "following_url": "https://api.github.com/users/arunpersaud/following{/other_user}", "gists_url": "https://api.github.com/users/arunpersaud/gists{/gist_id}", "starred_url": "https://api.github.com/users/arunpersaud/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arunpersaud/subscriptions", "organizations_url": "https://api.github.com/users/arunpersaud/orgs", "repos_url": "https://api.github.com/users/arunpersaud/repos", "events_url": "https://api.github.com/users/arunpersaud/events{/privacy}", "received_events_url": "https://api.github.com/users/arunpersaud/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 11, "created_at": "2016-07-17T19:18:54Z", "updated_at": "2017-03-12T20:07:37Z", "closed_at": "2017-03-12T20:07:37Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi\n\ntrying to package html5lib for opensuse, but I'm running into the following error when trying to run the tests:\n\n[  113s]   File \"/home/abuild/rpmbuild/BUILD/html5lib-0.999999999/html5lib/tests/tokenizertotree.py\", line 10, in <module>\n[  113s]     from . import test_tokenizer\n[  113s] ImportError: cannot import name 'test_tokenizer'\n\nI can't see that file in the tar-ball or in git over here. Building from the tar-ball on pypi using python 3.5.1.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/277", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/277/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/277/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/277/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/277", "id": 165730676, "node_id": "MDU6SXNzdWUxNjU3MzA2NzY=", "number": 277, "title": " cannot import name 'sanitizer'", "user": {"login": "erikzenker", "id": 341041, "node_id": "MDQ6VXNlcjM0MTA0MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/341041?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erikzenker", "html_url": "https://github.com/erikzenker", "followers_url": "https://api.github.com/users/erikzenker/followers", "following_url": "https://api.github.com/users/erikzenker/following{/other_user}", "gists_url": "https://api.github.com/users/erikzenker/gists{/gist_id}", "starred_url": "https://api.github.com/users/erikzenker/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erikzenker/subscriptions", "organizations_url": "https://api.github.com/users/erikzenker/orgs", "repos_url": "https://api.github.com/users/erikzenker/repos", "events_url": "https://api.github.com/users/erikzenker/events{/privacy}", "received_events_url": "https://api.github.com/users/erikzenker/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-07-15T07:52:18Z", "updated_at": "2017-08-18T19:54:48Z", "closed_at": "2016-07-19T18:32:04Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want install the django cms which uses the sanitizer of the html5lib,\nbut I get the error shown above in the title.\n\nwhen I just import the sanitizer from html5lib:\n\n``` python\nfrom html5lib import sanitizer\n```\n\nI get the following error:\n\n```\nTraceback (most recent call last):\n  File \"test.py\", line 1, in <module>\n    from html5lib import sanitizer\nImportError: cannot import name 'sanitizer'\n```\n\nI installed html5lib from pip:\n\n``` bash\npip install html5lib\n```\n\nIs the sanitizer module not available anymore ?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/276", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/276/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/276/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/276/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/276", "id": 165703219, "node_id": "MDU6SXNzdWUxNjU3MDMyMTk=", "number": 276, "title": "Broken using beautifulsoup4", "user": {"login": "nabeelio", "id": 99736, "node_id": "MDQ6VXNlcjk5NzM2", "avatar_url": "https://avatars2.githubusercontent.com/u/99736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nabeelio", "html_url": "https://github.com/nabeelio", "followers_url": "https://api.github.com/users/nabeelio/followers", "following_url": "https://api.github.com/users/nabeelio/following{/other_user}", "gists_url": "https://api.github.com/users/nabeelio/gists{/gist_id}", "starred_url": "https://api.github.com/users/nabeelio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nabeelio/subscriptions", "organizations_url": "https://api.github.com/users/nabeelio/orgs", "repos_url": "https://api.github.com/users/nabeelio/repos", "events_url": "https://api.github.com/users/nabeelio/events{/privacy}", "received_events_url": "https://api.github.com/users/nabeelio/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2016-07-15T03:16:57Z", "updated_at": "2016-07-19T18:32:15Z", "closed_at": "2016-07-19T18:32:15Z", "author_association": "NONE", "active_lock_reason": null, "body": "Started with 1.0b9\n\n`File \"/Users/.../.tox/py35/lib/python3.5/site-packages/bs4/builder/_html5lib.py\", line 70, in <module>\n    class TreeBuilderForHtml5lib(html5lib.treebuilders._base.TreeBuilder):\nAttributeError: module 'html5lib.treebuilders' has no attribute '_base'`\n\nTo replicate, just install `beautifulsoup4==4.4.1`, and then `html5lib`, just `from bs4 import BeautifulSoup`, and it'll break.\n\nNot sure if this is a bs4 issue, or a html5lib problem, but bs4 hasn't been updated in quite a while. \n\nCan the versioning also be a little more sane? It's hard to see how many 9's there are, took much longer to figure out that it was a newer version that was getting installed. With a (super-) minor version change, I don't think this interface should have really changed, but it's just hard to tell with the versioning being abnormal\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/273", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/273/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/273/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/273/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/273", "id": 165430456, "node_id": "MDU6SXNzdWUxNjU0MzA0NTY=", "number": 273, "title": "Kill Landscape", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2016-07-13T21:53:52Z", "updated_at": "2017-10-05T11:14:02Z", "closed_at": "2017-10-05T11:14:02Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "A lot of PRs fail to report a result back because of Landscape. Let's just replace it with running a fixed version of pylint on Travis/tox.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/268", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/268/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/268/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/268/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/268", "id": 161335130, "node_id": "MDU6SXNzdWUxNjEzMzUxMzA=", "number": 268, "title": "Update CONTRIBUTING guidelines on CHANGES", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35258017, "node_id": "MDU6TGFiZWwzNTI1ODAxNw==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/documentation", "name": "documentation", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 4, "created_at": "2016-06-21T02:10:14Z", "updated_at": "2017-10-05T17:06:45Z", "closed_at": "2017-10-05T17:06:45Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/258", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/258/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/258/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/258/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/258", "id": 156812453, "node_id": "MDU6SXNzdWUxNTY4MTI0NTM=", "number": 258, "title": "`annotation-xml` in MathML breaks the parser", "user": {"login": "andreyfedoseev", "id": 201694, "node_id": "MDQ6VXNlcjIwMTY5NA==", "avatar_url": "https://avatars2.githubusercontent.com/u/201694?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andreyfedoseev", "html_url": "https://github.com/andreyfedoseev", "followers_url": "https://api.github.com/users/andreyfedoseev/followers", "following_url": "https://api.github.com/users/andreyfedoseev/following{/other_user}", "gists_url": "https://api.github.com/users/andreyfedoseev/gists{/gist_id}", "starred_url": "https://api.github.com/users/andreyfedoseev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andreyfedoseev/subscriptions", "organizations_url": "https://api.github.com/users/andreyfedoseev/orgs", "repos_url": "https://api.github.com/users/andreyfedoseev/repos", "events_url": "https://api.github.com/users/andreyfedoseev/events{/privacy}", "received_events_url": "https://api.github.com/users/andreyfedoseev/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51798124, "node_id": "MDU6TGFiZWw1MTc5ODEyNA==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/has-active-pull-request", "name": "has-active-pull-request", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7", "html_url": "https://github.com/html5lib/html5lib-python/milestone/7", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7/labels", "id": 1088462, "node_id": "MDk6TWlsZXN0b25lMTA4ODQ2Mg==", "number": 7, "title": "0.99999999", "description": "Get the API for 1.0 stable with the exception of the treebuilder/treewalker APIs.", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2015-04-29T00:17:33Z", "updated_at": "2016-10-27T21:49:11Z", "due_on": "2016-06-21T07:00:00Z", "closed_at": "2016-10-27T21:49:11Z"}, "comments": 2, "created_at": "2016-05-25T17:56:58Z", "updated_at": "2016-07-06T23:10:14Z", "closed_at": "2016-07-06T23:10:14Z", "author_association": "NONE", "active_lock_reason": null, "body": "Here's a piece of MathML that breaks the parser:\n\n``` xml\n<math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\">\n  <semantics>\n    <mrow>\n      <mrow>\n        <mtext>Mass of electron</mtext>\n        <mo>=</mo>\n        <mn>1.602</mn>\n        <mspace width=\"0.2em\" />\n        <mo>&#xD7;</mo>\n        <mspace width=\"0.2em\" />\n        <msup>\n          <mrow>\n            <mn>10</mn>\n          </mrow>\n          <mrow>\n            <mn>&#x2212;19</mn>\n          </mrow>\n        </msup>\n        <mspace width=\"0.2em\" />\n        <mtext>C</mtext>\n        <mspace width=\"0.2em\" />\n        <mo>&#xD7;</mo>\n        <mspace width=\"0.4em\" />\n        <mfrac>\n          <mrow>\n            <mn>1</mn>\n            <mspace width=\"0.2em\" />\n            <mtext>kg</mtext>\n          </mrow>\n          <mrow>\n            <mn>1.759</mn>\n            <mspace width=\"0.2em\" />\n            <mo>&#xD7;</mo>\n            <mspace width=\"0.2em\" />\n            <msup>\n              <mrow>\n                <mn>10</mn>\n              </mrow>\n              <mrow>\n                <mn>11</mn>\n              </mrow>\n            </msup>\n            <mspace width=\"0.2em\" />\n            <mtext>C</mtext>\n          </mrow>\n        </mfrac>\n        <mspace width=\"0.2em\" />\n        <mo>=</mo>\n        <mn>9.107</mn>\n        <mspace width=\"0.2em\" />\n        <mo>&#xD7;</mo>\n        <mspace width=\"0.2em\" />\n        <msup>\n          <mrow>\n            <mn>10</mn>\n          </mrow>\n          <mrow>\n            <mn>&#x2212;31</mn>\n          </mrow>\n        </msup>\n        <mspace width=\"0.2em\" />\n        <mtext>kg</mtext>\n      </mrow>\n    </mrow>\n    <annotation-xml encoding=\"MathML-Content\">\n      <mrow><mtext>Mass of electron</mtext><mo>=</mo><mn>1.602</mn><mspace width=\"0.2em\"></mspace><mo>\u00d7</mo><mspace width=\"0.2em\"></mspace><msup><mrow><mn>10</mn></mrow><mrow><mn>\u221219</mn></mrow></msup><mspace width=\"0.2em\"></mspace><mtext>C</mtext><mspace width=\"0.2em\"></mspace><mo>\u00d7</mo><mspace width=\"0.4em\"></mspace><mfrac><mrow><mn>1</mn><mspace width=\"0.2em\"></mspace><mtext>kg</mtext></mrow><mrow><mn>1.759</mn><mspace width=\"0.2em\"></mspace><mo>\u00d7</mo><mspace width=\"0.2em\"></mspace><msup><mrow><mn>10</mn></mrow><mrow><mn>11</mn></mrow></msup><mspace width=\"0.2em\"></mspace><mtext>C</mtext></mrow></mfrac><mspace width=\"0.2em\"></mspace><mo>=</mo><mn>9.107</mn><mspace width=\"0.2em\"></mspace><mo>\u00d7</mo><mspace width=\"0.2em\"></mspace><msup><mrow><mn>10</mn></mrow><mrow><mn>\u221231</mn></mrow></msup><mspace width=\"0.2em\"></mspace><mtext>kg</mtext></mrow>\n    </annotation-xml>\n  </semantics>\n</math>\n```\n\nWhen I pass it to `html5lib.parse` I get the following traceback:\n\n```\n.../html5lib/html5parser.pyc in mainLoop(self)\n    173                         (currentNodeNamespace == namespaces[\"mathml\"] and\n    174                          currentNodeName == \"annotation-xml\" and\n--> 175                          token[\"name\"] == \"svg\") or\n    176                         (self.isHTMLIntegrationPoint(currentNode) and\n    177                          type in (StartTagToken, CharactersToken, SpaceCharactersToken))):\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/246", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/246/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/246/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/246/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/246", "id": 153622179, "node_id": "MDU6SXNzdWUxNTM2MjIxNzk=", "number": 246, "title": "Fix isHTMLIntegrationPoint with lxml's byte strings", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-05-07T22:42:02Z", "updated_at": "2016-05-07T22:58:15Z", "closed_at": "2016-05-07T22:58:15Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See https://github.com/kovidgoyal/calibre/commit/a82ff8b7493ee5ee4f9d8a4fd4e56ac2c1df4267 for Calibre's fix for this. We should probably just fix it by making sure the `el.attributes.__getitem__` always returns a unicode string.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/242", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/242/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/242/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/242/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/242", "id": 153308073, "node_id": "MDU6SXNzdWUxNTMzMDgwNzM=", "number": 242, "title": "Use Semantic Version Numbering", "user": {"login": "jpotterm", "id": 134310, "node_id": "MDQ6VXNlcjEzNDMxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/134310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jpotterm", "html_url": "https://github.com/jpotterm", "followers_url": "https://api.github.com/users/jpotterm/followers", "following_url": "https://api.github.com/users/jpotterm/following{/other_user}", "gists_url": "https://api.github.com/users/jpotterm/gists{/gist_id}", "starred_url": "https://api.github.com/users/jpotterm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jpotterm/subscriptions", "organizations_url": "https://api.github.com/users/jpotterm/orgs", "repos_url": "https://api.github.com/users/jpotterm/repos", "events_url": "https://api.github.com/users/jpotterm/events{/privacy}", "received_events_url": "https://api.github.com/users/jpotterm/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-05-05T19:39:16Z", "updated_at": "2016-05-07T04:26:10Z", "closed_at": "2016-05-06T20:21:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "Please follow the [semantic versioning](http://semver.org/) standard when tagging releases. At the very least, this would mean:\n1. Always have three numbers in the version e.g. 0.9.0\n2. The successor to 0.9.0 should be 0.10.0 not 0.99.0\n\nThis would make it much easier for packages depending on html5lib-python to specify dependencies. I think version 1.0.0 is a great time to make the switch.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/239", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/239/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/239/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/239/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/239", "id": 152831206, "node_id": "MDU6SXNzdWUxNTI4MzEyMDY=", "number": 239, "title": "Namespace Sensitivity; Fragment leading to IndexError", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51798124, "node_id": "MDU6TGFiZWw1MTc5ODEyNA==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/has-active-pull-request", "name": "has-active-pull-request", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7", "html_url": "https://github.com/html5lib/html5lib-python/milestone/7", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7/labels", "id": 1088462, "node_id": "MDk6TWlsZXN0b25lMTA4ODQ2Mg==", "number": 7, "title": "0.99999999", "description": "Get the API for 1.0 stable with the exception of the treebuilder/treewalker APIs.", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2015-04-29T00:17:33Z", "updated_at": "2016-10-27T21:49:11Z", "due_on": "2016-06-21T07:00:00Z", "closed_at": "2016-10-27T21:49:11Z"}, "comments": 1, "created_at": "2016-05-03T17:32:37Z", "updated_at": "2016-06-06T20:57:49Z", "closed_at": "2016-06-06T20:57:49Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "```\nimport html5lib\n\nhtml5lib.parseFragment('<math><tr><td><mo><tr>',\n                       container=\"td\")\n```\n\nThis causes:\n\n```\nTraceback (most recent call last):\n  File \"foo.py\", line 5, in <module>\n    treebuilder=\"dom\")\n  File \"/Users/gsnedders/Documents/my-projects/html5lib/html5lib-python/html5lib/html5parser.py\", line 36, in parseFragment\n    return p.parseFragment(doc, container=container, encoding=encoding)\n  File \"/Users/gsnedders/Documents/my-projects/html5lib/html5lib-python/html5lib/html5parser.py\", line 253, in parseFragment\n    self._parse(stream, True, container=container, encoding=encoding)\n  File \"/Users/gsnedders/Documents/my-projects/html5lib/html5lib-python/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/Users/gsnedders/Documents/my-projects/html5lib/html5lib-python/html5lib/html5parser.py\", line 199, in mainLoop\n    new_token = phase.processStartTag(new_token)\n  File \"/Users/gsnedders/Documents/my-projects/html5lib/html5lib-python/html5lib/html5parser.py\", line 480, in processStartTag\n    return self.startTagHandler[token[\"name\"]](token)\n  File \"/Users/gsnedders/Documents/my-projects/html5lib/html5lib-python/html5lib/html5parser.py\", line 2175, in startTagTableOther\n    self.closeCell()\n  File \"/Users/gsnedders/Documents/my-projects/html5lib/html5lib-python/html5lib/html5parser.py\", line 2161, in closeCell\n    self.endTagTableCell(impliedTagToken(\"td\"))\n  File \"/Users/gsnedders/Documents/my-projects/html5lib/html5lib-python/html5lib/html5parser.py\", line 2197, in endTagTableCell\n    self.tree.clearActiveFormattingElements()\n  File \"/Users/gsnedders/Documents/my-projects/html5lib/html5lib-python/html5lib/treebuilders/_base.py\", line 228, in clearActiveFormattingElements\n    entry = self.activeFormattingElements.pop()\nIndexError: pop from empty list\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/237", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/237/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/237/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/237/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/237", "id": 152043134, "node_id": "MDU6SXNzdWUxNTIwNDMxMzQ=", "number": 237, "title": "Add error if update-xfail is used in wrong environment", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51798124, "node_id": "MDU6TGFiZWw1MTc5ODEyNA==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/has-active-pull-request", "name": "has-active-pull-request", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7", "html_url": "https://github.com/html5lib/html5lib-python/milestone/7", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7/labels", "id": 1088462, "node_id": "MDk6TWlsZXN0b25lMTA4ODQ2Mg==", "number": 7, "title": "0.99999999", "description": "Get the API for 1.0 stable with the exception of the treebuilder/treewalker APIs.", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2015-04-29T00:17:33Z", "updated_at": "2016-10-27T21:49:11Z", "due_on": "2016-06-21T07:00:00Z", "closed_at": "2016-10-27T21:49:11Z"}, "comments": 0, "created_at": "2016-04-30T17:42:10Z", "updated_at": "2016-06-27T13:21:46Z", "closed_at": "2016-06-27T13:21:46Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Need to make sure options are installed and `ElementTree`/`cElementTree` divergence.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/236", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/236/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/236/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/236/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/236", "id": 152037086, "node_id": "MDU6SXNzdWUxNTIwMzcwODY=", "number": 236, "title": "-- In comment breaks parsing with treebuilder=\"lxml\"", "user": {"login": "jelly", "id": 67428, "node_id": "MDQ6VXNlcjY3NDI4", "avatar_url": "https://avatars0.githubusercontent.com/u/67428?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jelly", "html_url": "https://github.com/jelly", "followers_url": "https://api.github.com/users/jelly/followers", "following_url": "https://api.github.com/users/jelly/following{/other_user}", "gists_url": "https://api.github.com/users/jelly/gists{/gist_id}", "starred_url": "https://api.github.com/users/jelly/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jelly/subscriptions", "organizations_url": "https://api.github.com/users/jelly/orgs", "repos_url": "https://api.github.com/users/jelly/repos", "events_url": "https://api.github.com/users/jelly/events{/privacy}", "received_events_url": "https://api.github.com/users/jelly/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2016-04-30T15:41:52Z", "updated_at": "2016-04-30T16:54:54Z", "closed_at": "2016-04-30T15:46:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "To reproduce:\n\n```\n>>> html5lib.parse('<!-- -- -->', treebuilder=\"lxml\")\nTraceback (most recent call last):\n  File \"<stdin>\", line 1, in <module>\n  File \"/usr/lib/python2.7/site-packages/html5lib/html5parser.py\", line 29, in parse\n    return p.parse(doc, encoding=encoding)\n  File \"/usr/lib/python2.7/site-packages/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/usr/lib/python2.7/site-packages/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/usr/lib/python2.7/site-packages/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/usr/lib/python2.7/site-packages/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/usr/lib/python2.7/site-packages/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/usr/lib/python2.7/site-packages/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:75666)\nValueError: Comment may not contain '--' or end with '-'\n```\n\nA performance degrading solution is here https://github.com/kovidgoyal/calibre/commit/c68b9b7d64ab08ae78bf461b0e4683ce54222aa2\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/232", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/232/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/232/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/232/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/232", "id": 150293117, "node_id": "MDU6SXNzdWUxNTAyOTMxMTc=", "number": 232, "title": "AttributeError: 'NoneType' object has no attribute 'element'", "user": {"login": "guettli", "id": 414336, "node_id": "MDQ6VXNlcjQxNDMzNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/414336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guettli", "html_url": "https://github.com/guettli", "followers_url": "https://api.github.com/users/guettli/followers", "following_url": "https://api.github.com/users/guettli/following{/other_user}", "gists_url": "https://api.github.com/users/guettli/gists{/gist_id}", "starred_url": "https://api.github.com/users/guettli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guettli/subscriptions", "organizations_url": "https://api.github.com/users/guettli/orgs", "repos_url": "https://api.github.com/users/guettli/repos", "events_url": "https://api.github.com/users/guettli/events{/privacy}", "received_events_url": "https://api.github.com/users/guettli/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2016-04-22T07:31:21Z", "updated_at": "2017-01-11T07:49:38Z", "closed_at": "2016-04-22T12:55:56Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get this exception\n\n```\nError\nTraceback (most recent call last):\n  File \"/home/h/src/dt/dt/tests/unit/utils/test_convertutils.py\", line 74, in test_html_to_html__with_html_which_produces_attribute_error_in_html5lib\n    html=convertutils.html_to_html(html)\n  File \"/home/h/src/dt/dt/utils/convertutils.py\", line 33, in html_to_html\n    soup = bs4.BeautifulSoup(html, 'html5lib') # https://tbz-work.tbz-pariv.lan/foo_tbz_p/beleg/71588/\n  File \"/home/h/lib/python2.7/site-packages/bs4/__init__.py\", line 196, in __init__\n    self._feed()\n  File \"/home/h/lib/python2.7/site-packages/bs4/__init__.py\", line 210, in _feed\n    self.builder.feed(self.markup)\n  File \"/home/h/lib/python2.7/site-packages/bs4/builder/_html5lib.py\", line 37, in feed\n    doc = parser.parse(markup, encoding=self.user_specified_encoding)\n  File \"/home/h/src/html5lib/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/home/h/src/html5lib/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/home/h/src/html5lib/html5lib/html5parser.py\", line 201, in mainLoop\n    new_token = phase.processEndTag(new_token)\n  File \"/home/h/src/html5lib/html5lib/html5parser.py\", line 493, in processEndTag\n    return self.endTagHandler[token[\"name\"]](token)\n  File \"/home/h/src/html5lib/html5lib/html5parser.py\", line 2049, in endTagOther\n    return self.parser.phases[\"inTable\"].processEndTag(token)\n  File \"/home/h/src/html5lib/html5lib/html5parser.py\", line 493, in processEndTag\n    return self.endTagHandler[token[\"name\"]](token)\n  File \"/home/h/src/html5lib/html5lib/html5parser.py\", line 1769, in endTagOther\n    self.parser.phases[\"inBody\"].processEndTag(token)\n  File \"/home/h/src/html5lib/html5lib/html5parser.py\", line 493, in processEndTag\n    return self.endTagHandler[token[\"name\"]](token)\n  File \"/home/h/src/html5lib/html5lib/html5parser.py\", line 1539, in endTagFormatting\n    parent.insertBefore(lastNode, insertBefore)\n  File \"/home/h/lib/python2.7/site-packages/bs4/builder/_html5lib.py\", line 205, in insertBefore\n    index = self.element.index(refNode.element)\nAttributeError: 'NoneType' object has no attribute 'element'\n```\n\nIf I do this:\n\n```\n        html=open('/tmp/html_which_produces_attribute_error_in_html5lib.html').read().decode('utf8')\n        soup = bs4.BeautifulSoup(html, 'html5lib')\n```\n\nYou can get the html file from this gist: https://gist.github.com/guettli/4d2541a9b2bc3671c4332ff4e89ca2eb\n\nUp to now I use this work-around:\n\n```\n    try:\n        soup = bs4.BeautifulSoup(html, 'html5lib')\n    except AttributeError:\n        soup = bs4.BeautifulSoup(html, 'lxml')\n```\n\nVersion: current master of html5lib.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/231", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/231/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/231/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/231/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/231", "id": 150291184, "node_id": "MDU6SXNzdWUxNTAyOTExODQ=", "number": 231, "title": "Invalid environment marker: platform_python_implementation", "user": {"login": "guettli", "id": 414336, "node_id": "MDQ6VXNlcjQxNDMzNg==", "avatar_url": "https://avatars3.githubusercontent.com/u/414336?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guettli", "html_url": "https://github.com/guettli", "followers_url": "https://api.github.com/users/guettli/followers", "following_url": "https://api.github.com/users/guettli/following{/other_user}", "gists_url": "https://api.github.com/users/guettli/gists{/gist_id}", "starred_url": "https://api.github.com/users/guettli/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guettli/subscriptions", "organizations_url": "https://api.github.com/users/guettli/orgs", "repos_url": "https://api.github.com/users/guettli/repos", "events_url": "https://api.github.com/users/guettli/events{/privacy}", "received_events_url": "https://api.github.com/users/guettli/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 51798124, "node_id": "MDU6TGFiZWw1MTc5ODEyNA==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/has-active-pull-request", "name": "has-active-pull-request", "color": "bfe5bf", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7", "html_url": "https://github.com/html5lib/html5lib-python/milestone/7", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7/labels", "id": 1088462, "node_id": "MDk6TWlsZXN0b25lMTA4ODQ2Mg==", "number": 7, "title": "0.99999999", "description": "Get the API for 1.0 stable with the exception of the treebuilder/treewalker APIs.", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2015-04-29T00:17:33Z", "updated_at": "2016-10-27T21:49:11Z", "due_on": "2016-06-21T07:00:00Z", "closed_at": "2016-10-27T21:49:11Z"}, "comments": 6, "created_at": "2016-04-22T07:20:10Z", "updated_at": "2016-06-06T22:00:27Z", "closed_at": "2016-06-06T22:00:27Z", "author_association": "NONE", "active_lock_reason": null, "body": "I want to install html5lib editable and get this error:\n\n```\nhost@host~$ pip install -e git+https://github.com/html5lib/html5lib-python.git#egg=html5lib\nObtaining html5lib from git+https://github.com/html5lib/html5lib-python.git#egg=html5lib\n  Cloning https://github.com/html5lib/html5lib-python.git to ./src/html5lib\n    Complete output from command python setup.py egg_info:\n    error in html5lib setup command: Invalid environment marker: platform_python_implementation == 'CPython'\n\n    ----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in /home/foo_eins_d/src/html5lib\n```\n\nMy pip version:\n\n```\nuser@host:~$  pip --version\npip 7.1.2 from /home/foo_eins_d/local/lib/python2.7/site-packages (python 2.7)\n```\n\nWhich version of pip is needed, or what else can I do to get `pip install -e ...` working?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/228", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/228/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/228/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/228/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/228", "id": 138199701, "node_id": "MDU6SXNzdWUxMzgxOTk3MDE=", "number": 228, "title": "AttributeError: 'TreeWalker' object has no attribute 'fragmentChildren'", "user": {"login": "paradoxxxzero", "id": 271144, "node_id": "MDQ6VXNlcjI3MTE0NA==", "avatar_url": "https://avatars3.githubusercontent.com/u/271144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paradoxxxzero", "html_url": "https://github.com/paradoxxxzero", "followers_url": "https://api.github.com/users/paradoxxxzero/followers", "following_url": "https://api.github.com/users/paradoxxxzero/following{/other_user}", "gists_url": "https://api.github.com/users/paradoxxxzero/gists{/gist_id}", "starred_url": "https://api.github.com/users/paradoxxxzero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paradoxxxzero/subscriptions", "organizations_url": "https://api.github.com/users/paradoxxxzero/orgs", "repos_url": "https://api.github.com/users/paradoxxxzero/repos", "events_url": "https://api.github.com/users/paradoxxxzero/events{/privacy}", "received_events_url": "https://api.github.com/users/paradoxxxzero/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7", "html_url": "https://github.com/html5lib/html5lib-python/milestone/7", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7/labels", "id": 1088462, "node_id": "MDk6TWlsZXN0b25lMTA4ODQ2Mg==", "number": 7, "title": "0.99999999", "description": "Get the API for 1.0 stable with the exception of the treebuilder/treewalker APIs.", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2015-04-29T00:17:33Z", "updated_at": "2016-10-27T21:49:11Z", "due_on": "2016-06-21T07:00:00Z", "closed_at": "2016-10-27T21:49:11Z"}, "comments": 2, "created_at": "2016-03-03T14:49:52Z", "updated_at": "2016-05-25T16:55:30Z", "closed_at": "2016-05-25T16:55:30Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "For some reason my `tree` (`lxml.etree._Element`) object has no attribute getroot and is not a list so there is no `fragmentChildren` attribute on `TreeWalker`: 270a2ca14fafc989f8f1bd4f79db2f4bd9f4d1fc\n\nlxml 3.5.0\nhtml5lib-python f796cca5f9ddaaf1e1a8b872f68455551cd3ae2d\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/225", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/225/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/225/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/225/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/225", "id": 127075893, "node_id": "MDU6SXNzdWUxMjcwNzU4OTM=", "number": 225, "title": "Wrong HTML comments cause ValueError in lxml", "user": {"login": "neumond", "id": 3260024, "node_id": "MDQ6VXNlcjMyNjAwMjQ=", "avatar_url": "https://avatars2.githubusercontent.com/u/3260024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/neumond", "html_url": "https://github.com/neumond", "followers_url": "https://api.github.com/users/neumond/followers", "following_url": "https://api.github.com/users/neumond/following{/other_user}", "gists_url": "https://api.github.com/users/neumond/gists{/gist_id}", "starred_url": "https://api.github.com/users/neumond/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/neumond/subscriptions", "organizations_url": "https://api.github.com/users/neumond/orgs", "repos_url": "https://api.github.com/users/neumond/repos", "events_url": "https://api.github.com/users/neumond/events{/privacy}", "received_events_url": "https://api.github.com/users/neumond/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2016-01-17T05:35:26Z", "updated_at": "2016-01-17T10:45:07Z", "closed_at": "2016-01-17T10:45:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "I've got exception here https://github.com/lxml/lxml/blob/master/src/lxml/lxml.etree.pyx#L3017\nlxml explicitly disallows bad comment tag contents, while html5lib handles them and passes over. While I don't really care about comment content, I can't proceed working with DOM due to exception even when I set strict=False. It is still unclear for me which library should be responsive for that, but from my point of view it should be done like fix_content_errors=True key argument passed to html5lib's parse.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/224", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/224/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/224/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/224/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/224", "id": 126829777, "node_id": "MDU6SXNzdWUxMjY4Mjk3Nzc=", "number": 224, "title": "test failure with lxml-3.5.0", "user": {"login": "jlec", "id": 79732, "node_id": "MDQ6VXNlcjc5NzMy", "avatar_url": "https://avatars0.githubusercontent.com/u/79732?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jlec", "html_url": "https://github.com/jlec", "followers_url": "https://api.github.com/users/jlec/followers", "following_url": "https://api.github.com/users/jlec/following{/other_user}", "gists_url": "https://api.github.com/users/jlec/gists{/gist_id}", "starred_url": "https://api.github.com/users/jlec/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jlec/subscriptions", "organizations_url": "https://api.github.com/users/jlec/orgs", "repos_url": "https://api.github.com/users/jlec/repos", "events_url": "https://api.github.com/users/jlec/events{/privacy}", "received_events_url": "https://api.github.com/users/jlec/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2016-01-15T08:41:59Z", "updated_at": "2016-01-15T19:56:22Z", "closed_at": "2016-01-15T19:55:41Z", "author_association": "NONE", "active_lock_reason": null, "body": "I see the following test failure with lxml-3.5.0 (3.4.0 is fine) and html5lib-0.9999999\n\n``` python\n======================================================================\nERROR: html5lib.tests.test_treewalkers.test_treewalker(None, u'<!-----><font><div>hello<table>excite!<b>me!<th><i>please!</tr><!--X-->', u'| <!-- - -->\\n| <html>\\n|   <head>\\n|   <body>\\n|     <font>\\n|       <div>\\n|         \"helloexcite!\"\\n|         <b>\\n|           \"me!\"\\n|         <table>\\n|           <tbody>\\n|             <tr>\\n|               <th>\\n|                 <i>\\n|                   \"please!\"\\n|             <!-- X -->', [u\"Line: 1 Col: 7 Unexpected '-' after '--' found in comment.\", u'Line: 1 Col: 14 Unexpected start tag (font). Expected DOCTYPE.', u'Line: 1 Col: 38 Unexpected non-space characters in table context caused voodoo mode.', u'Line: 1 Col: 41 Unexpected start tag (b) in table context caused voodoo mode.', u'Line: 1 Col: 48 Unexpected implied end tag (b) in the table phase.', u'Line: 1 Col: 48 Unexpected table cell start tag (th) in the table body phase.', u'Line: 1 Col: 63 Got table cell end tag (th) while required end tags are missing.', u'Line: 1 Col: 71 Unexpected end of file. Expected table content.'], {u'walker': <class 'html5lib.treewalkers.lxmletree.TreeWalker'>, u'builder': <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>})\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_treewalkers.py\", line 184, in runTreewalkerTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 199, in mainLoop\n    new_token = phase.processStartTag(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 648, in processStartTag\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n======================================================================\nERROR: html5lib.tests.test_treewalkers.test_treewalker(None, u'<?COM--MENT?>', u'| <!-- ?COM--MENT? -->\\n| <html>\\n|   <head>\\n|   <body>', [u\"Line: 1 Col: 1 Expected tag name. Got '?' instead. (HTML doesn't support processing instructions.)\", u'Line: 1 Col: 13 Unexpected End of file. Expected DOCTYPE.'], {u'walker': <class 'html5lib.treewalkers.lxmletree.TreeWalker'>, u'builder': <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>})\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_treewalkers.py\", line 184, in runTreewalkerTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n======================================================================\nERROR: html5lib.tests.test_treewalkers.test_treewalker(None, u'<!COM--MENT>', u'| <!-- COM--MENT -->\\n| <html>\\n|   <head>\\n|   <body>', [u\"Line: 1 Col: 2 Expected '--' or 'DOCTYPE'. Not found.\", u'Line: 1 Col: 12 Unexpected End of file. Expected DOCTYPE.'], {u'walker': <class 'html5lib.treewalkers.lxmletree.TreeWalker'>, u'builder': <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>})\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_treewalkers.py\", line 184, in runTreewalkerTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n======================================================================\nERROR: html5lib.tests.test_treewalkers.test_treewalker(None, u'</ COM--MENT >', u'| <!--  COM--MENT  -->\\n| <html>\\n|   <head>\\n|   <body>', [u\"Line: 1 Col: 2 Expected closing tag. Unexpected character ' ' found.\", u'Line: 1 Col: 14 Unexpected End of file. Expected DOCTYPE.'], {u'walker': <class 'html5lib.treewalkers.lxmletree.TreeWalker'>, u'builder': <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>})\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_treewalkers.py\", line 184, in runTreewalkerTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n======================================================================\nERROR: html5lib.tests.test_treewalkers.test_treewalker(None, u'<!--foo--bar-->', u'| <!-- foo--bar -->\\n| <html>\\n|   <head>\\n|   <body>', [u''], {u'walker': <class 'html5lib.treewalkers.lxmletree.TreeWalker'>, u'builder': <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>})\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_treewalkers.py\", line 184, in runTreewalkerTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n======================================================================\nERROR: html5lib.tests.test_treewalkers.test_treewalker(None, u'FOO<!-- BAR --   >BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR --   >BAZ -->', [u''], {u'walker': <class 'html5lib.treewalkers.lxmletree.TreeWalker'>, u'builder': <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>})\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_treewalkers.py\", line 184, in runTreewalkerTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n======================================================================\nERROR: html5lib.tests.test_treewalkers.test_treewalker(None, u'FOO<!-- BAR -- <QUX> -- MUX -->BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR -- <QUX> -- MUX  -->\\n|     \"BAZ\"', [u''], {u'walker': <class 'html5lib.treewalkers.lxmletree.TreeWalker'>, u'builder': <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>})\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_treewalkers.py\", line 184, in runTreewalkerTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n======================================================================\nERROR: html5lib.tests.test_treewalkers.test_treewalker(None, u'FOO<!-- BAR -- <QUX> -- MUX --!>BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR -- <QUX> -- MUX  -->\\n|     \"BAZ\"', [u''], {u'walker': <class 'html5lib.treewalkers.lxmletree.TreeWalker'>, u'builder': <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>})\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_treewalkers.py\", line 184, in runTreewalkerTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n======================================================================\nERROR: html5lib.tests.test_treewalkers.test_treewalker(None, u'FOO<!-- BAR -- <QUX> -- MUX -- >BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR -- <QUX> -- MUX -- >BAZ -->', [u''], {u'walker': <class 'html5lib.treewalkers.lxmletree.TreeWalker'>, u'builder': <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>})\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_treewalkers.py\", line 184, in runTreewalkerTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n======================================================================\nERROR: html5lib.tests.test_treewalkers.test_treewalker(None, u'FOO<!----->BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!-- - -->\\n|     \"BAZ\"', [u''], {u'walker': <class 'html5lib.treewalkers.lxmletree.TreeWalker'>, u'builder': <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>})\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_treewalkers.py\", line 184, in runTreewalkerTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'<!DOCTYPE <!DOCTYPE HTML>><!--<!--x-->-->', u'| <!DOCTYPE <!doctype>\\n| <html>\\n|   <head>\\n|   <body>\\n|     \">\"\\n|     <!-- <!--x -->\\n|     \"-->\"', [u\"Line: 1 Col: 20 Expected space or '>'. Got ''\", u'Line: 1 Col: 25 Erroneous DOCTYPE.', u'Line: 1 Col: 35 Unexpected character in comment found.'], <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n<!DOCTYPE <!DOCTYPE HTML>><!--<!--x-->-->\n\nExpected:\n| <!DOCTYPE <!doctype>\n| <html>\n|   <head>\n|   <body>\n|     \">\"\n|     <!-- <!--x -->\n|     \"-->\"\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'<!DOCTYPE <!DOCTYPE HTML>><!--<!--x-->-->', u'| <!DOCTYPE <!doctype>\\n| <html>\\n|   <head>\\n|   <body>\\n|     \">\"\\n|     <!-- <!--x -->\\n|     \"-->\"', [u\"Line: 1 Col: 20 Expected space or '>'. Got ''\", u'Line: 1 Col: 25 Erroneous DOCTYPE.', u'Line: 1 Col: 35 Unexpected character in comment found.'], <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n<!DOCTYPE <!DOCTYPE HTML>><!--<!--x-->-->\n\nExpected:\n| <!DOCTYPE <!doctype>\n| <html>\n|   <head>\n|   <body>\n|     \">\"\n|     <!-- <!--x -->\n|     \"-->\"\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'<!-----><font><div>hello<table>excite!<b>me!<th><i>please!</tr><!--X-->', u'| <!-- - -->\\n| <html>\\n|   <head>\\n|   <body>\\n|     <font>\\n|       <div>\\n|         \"helloexcite!\"\\n|         <b>\\n|           \"me!\"\\n|         <table>\\n|           <tbody>\\n|             <tr>\\n|               <th>\\n|                 <i>\\n|                   \"please!\"\\n|             <!-- X -->', [u\"Line: 1 Col: 7 Unexpected '-' after '--' found in comment.\", u'Line: 1 Col: 14 Unexpected start tag (font). Expected DOCTYPE.', u'Line: 1 Col: 38 Unexpected non-space characters in table context caused voodoo mode.', u'Line: 1 Col: 41 Unexpected start tag (b) in table context caused voodoo mode.', u'Line: 1 Col: 48 Unexpected implied end tag (b) in the table phase.', u'Line: 1 Col: 48 Unexpected table cell start tag (th) in the table body phase.', u'Line: 1 Col: 63 Got table cell end tag (th) while required end tags are missing.', u'Line: 1 Col: 71 Unexpected end of file. Expected table content.'], <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n<!-----><font><div>hello<table>excite!<b>me!<th><i>please!</tr><!--X-->\n\nExpected:\n| <!-- - -->\n| <html>\n|   <head>\n|   <body>\n|     <font>\n|       <div>\n|         \"helloexcite!\"\n|         <b>\n|           \"me!\"\n|         <table>\n|           <tbody>\n|             <tr>\n|               <th>\n|                 <i>\n|                   \"please!\"\n|             <!-- X -->\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 199, in mainLoop\n    new_token = phase.processStartTag(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 648, in processStartTag\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'<!-----><font><div>hello<table>excite!<b>me!<th><i>please!</tr><!--X-->', u'| <!-- - -->\\n| <html>\\n|   <head>\\n|   <body>\\n|     <font>\\n|       <div>\\n|         \"helloexcite!\"\\n|         <b>\\n|           \"me!\"\\n|         <table>\\n|           <tbody>\\n|             <tr>\\n|               <th>\\n|                 <i>\\n|                   \"please!\"\\n|             <!-- X -->', [u\"Line: 1 Col: 7 Unexpected '-' after '--' found in comment.\", u'Line: 1 Col: 14 Unexpected start tag (font). Expected DOCTYPE.', u'Line: 1 Col: 38 Unexpected non-space characters in table context caused voodoo mode.', u'Line: 1 Col: 41 Unexpected start tag (b) in table context caused voodoo mode.', u'Line: 1 Col: 48 Unexpected implied end tag (b) in the table phase.', u'Line: 1 Col: 48 Unexpected table cell start tag (th) in the table body phase.', u'Line: 1 Col: 63 Got table cell end tag (th) while required end tags are missing.', u'Line: 1 Col: 71 Unexpected end of file. Expected table content.'], <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n<!-----><font><div>hello<table>excite!<b>me!<th><i>please!</tr><!--X-->\n\nExpected:\n| <!-- - -->\n| <html>\n|   <head>\n|   <body>\n|     <font>\n|       <div>\n|         \"helloexcite!\"\n|         <b>\n|           \"me!\"\n|         <table>\n|           <tbody>\n|             <tr>\n|               <th>\n|                 <i>\n|                   \"please!\"\n|             <!-- X -->\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 199, in mainLoop\n    new_token = phase.processStartTag(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 648, in processStartTag\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'<?COM--MENT?>', u'| <!-- ?COM--MENT? -->\\n| <html>\\n|   <head>\\n|   <body>', [u\"Line: 1 Col: 1 Expected tag name. Got '?' instead. (HTML doesn't support processing instructions.)\", u'Line: 1 Col: 13 Unexpected End of file. Expected DOCTYPE.'], <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n<?COM--MENT?>\n\nExpected:\n| <!-- ?COM--MENT? -->\n| <html>\n|   <head>\n|   <body>\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'<?COM--MENT?>', u'| <!-- ?COM--MENT? -->\\n| <html>\\n|   <head>\\n|   <body>', [u\"Line: 1 Col: 1 Expected tag name. Got '?' instead. (HTML doesn't support processing instructions.)\", u'Line: 1 Col: 13 Unexpected End of file. Expected DOCTYPE.'], <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n<?COM--MENT?>\n\nExpected:\n| <!-- ?COM--MENT? -->\n| <html>\n|   <head>\n|   <body>\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'<!COM--MENT>', u'| <!-- COM--MENT -->\\n| <html>\\n|   <head>\\n|   <body>', [u\"Line: 1 Col: 2 Expected '--' or 'DOCTYPE'. Not found.\", u'Line: 1 Col: 12 Unexpected End of file. Expected DOCTYPE.'], <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n<!COM--MENT>\n\nExpected:\n| <!-- COM--MENT -->\n| <html>\n|   <head>\n|   <body>\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'<!COM--MENT>', u'| <!-- COM--MENT -->\\n| <html>\\n|   <head>\\n|   <body>', [u\"Line: 1 Col: 2 Expected '--' or 'DOCTYPE'. Not found.\", u'Line: 1 Col: 12 Unexpected End of file. Expected DOCTYPE.'], <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n<!COM--MENT>\n\nExpected:\n| <!-- COM--MENT -->\n| <html>\n|   <head>\n|   <body>\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'</ COM--MENT >', u'| <!--  COM--MENT  -->\\n| <html>\\n|   <head>\\n|   <body>', [u\"Line: 1 Col: 2 Expected closing tag. Unexpected character ' ' found.\", u'Line: 1 Col: 14 Unexpected End of file. Expected DOCTYPE.'], <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n</ COM--MENT >\n\nExpected:\n| <!--  COM--MENT  -->\n| <html>\n|   <head>\n|   <body>\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'</ COM--MENT >', u'| <!--  COM--MENT  -->\\n| <html>\\n|   <head>\\n|   <body>', [u\"Line: 1 Col: 2 Expected closing tag. Unexpected character ' ' found.\", u'Line: 1 Col: 14 Unexpected End of file. Expected DOCTYPE.'], <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n</ COM--MENT >\n\nExpected:\n| <!--  COM--MENT  -->\n| <html>\n|   <head>\n|   <body>\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'<!--foo--bar-->', u'| <!-- foo--bar -->\\n| <html>\\n|   <head>\\n|   <body>', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n<!--foo--bar-->\n\nExpected:\n| <!-- foo--bar -->\n| <html>\n|   <head>\n|   <body>\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'<!--foo--bar-->', u'| <!-- foo--bar -->\\n| <html>\\n|   <head>\\n|   <body>', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\n<!--foo--bar-->\n\nExpected:\n| <!-- foo--bar -->\n| <html>\n|   <head>\n|   <body>\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 217, in mainLoop\n    reprocess = self.phase.processEOF()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 632, in processEOF\n    self.insertHtmlElement()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 627, in insertHtmlElement\n    self.tree.insertRoot(impliedTagToken(\"html\", \"StartTag\"))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 347, in insertRoot\n    root.addprevious(etree.Comment(comment_token[\"data\"]))\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'FOO<!-- BAR --   >BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR --   >BAZ -->', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\nFOO<!-- BAR --   >BAZ\n\nExpected:\n| <html>\n|   <head>\n|   <body>\n|     \"FOO\"\n|     <!--  BAR --   >BAZ -->\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'FOO<!-- BAR --   >BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR --   >BAZ -->', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\nFOO<!-- BAR --   >BAZ\n\nExpected:\n| <html>\n|   <head>\n|   <body>\n|     \"FOO\"\n|     <!--  BAR --   >BAZ -->\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'FOO<!-- BAR -- <QUX> -- MUX -->BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR -- <QUX> -- MUX  -->\\n|     \"BAZ\"', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\nFOO<!-- BAR -- <QUX> -- MUX -->BAZ\n\nExpected:\n| <html>\n|   <head>\n|   <body>\n|     \"FOO\"\n|     <!--  BAR -- <QUX> -- MUX  -->\n|     \"BAZ\"\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'FOO<!-- BAR -- <QUX> -- MUX -->BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR -- <QUX> -- MUX  -->\\n|     \"BAZ\"', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\nFOO<!-- BAR -- <QUX> -- MUX -->BAZ\n\nExpected:\n| <html>\n|   <head>\n|   <body>\n|     \"FOO\"\n|     <!--  BAR -- <QUX> -- MUX  -->\n|     \"BAZ\"\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'FOO<!-- BAR -- <QUX> -- MUX --!>BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR -- <QUX> -- MUX  -->\\n|     \"BAZ\"', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\nFOO<!-- BAR -- <QUX> -- MUX --!>BAZ\n\nExpected:\n| <html>\n|   <head>\n|   <body>\n|     \"FOO\"\n|     <!--  BAR -- <QUX> -- MUX  -->\n|     \"BAZ\"\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'FOO<!-- BAR -- <QUX> -- MUX --!>BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR -- <QUX> -- MUX  -->\\n|     \"BAZ\"', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\nFOO<!-- BAR -- <QUX> -- MUX --!>BAZ\n\nExpected:\n| <html>\n|   <head>\n|   <body>\n|     \"FOO\"\n|     <!--  BAR -- <QUX> -- MUX  -->\n|     \"BAZ\"\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'FOO<!-- BAR -- <QUX> -- MUX -- >BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR -- <QUX> -- MUX -- >BAZ -->', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\nFOO<!-- BAR -- <QUX> -- MUX -- >BAZ\n\nExpected:\n| <html>\n|   <head>\n|   <body>\n|     \"FOO\"\n|     <!--  BAR -- <QUX> -- MUX -- >BAZ -->\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'FOO<!-- BAR -- <QUX> -- MUX -- >BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!--  BAR -- <QUX> -- MUX -- >BAZ -->', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\nFOO<!-- BAR -- <QUX> -- MUX -- >BAZ\n\nExpected:\n| <html>\n|   <head>\n|   <body>\n|     \"FOO\"\n|     <!--  BAR -- <QUX> -- MUX -- >BAZ -->\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'FOO<!----->BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!-- - -->\\n|     \"BAZ\"', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, True)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\nFOO<!----->BAZ\n\nExpected:\n| <html>\n|   <head>\n|   <body>\n|     \"FOO\"\n|     <!-- - -->\n|     \"BAZ\"\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n======================================================================\nFAIL: html5lib.tests.test_parser.test_parser(None, u'FOO<!----->BAZ', u'| <html>\\n|   <head>\\n|   <body>\\n|     \"FOO\"\\n|     <!-- - -->\\n|     \"BAZ\"', u'', <class 'html5lib.treebuilders.etree_lxml.TreeBuilder'>, False)\n----------------------------------------------------------------------\nTraceback (most recent call last):\n  File \"/usr/lib64/python2.7/site-packages/nose/case.py\", line 197, in runTest\n    self.test(*self.arg)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 43, in runParserTest\n    assert False, errorMsg\nAssertionError:\n\nInput:\nFOO<!----->BAZ\n\nExpected:\n| <html>\n|   <head>\n|   <body>\n|     \"FOO\"\n|     <!-- - -->\n|     \"BAZ\"\n\nTraceback:\nTraceback (most recent call last):\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/tests/test_parser.py\", line 39, in runParserTest\n    document = p.parse(input)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 236, in parse\n    parseMeta=parseMeta, useChardet=useChardet)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 94, in _parse\n    self.mainLoop()\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 203, in mainLoop\n    new_token = phase.processComment(new_token)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/html5parser.py\", line 468, in processComment\n    self.tree.insertComment(token, self.tree.openElements[-1])\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree_lxml.py\", line 312, in insertCommentMain\n    super(TreeBuilder, self).insertComment(data, parent)\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/_base.py\", line 262, in insertComment\n    parent.appendChild(self.commentClass(token[\"data\"]))\n  File \"/var/tmp/portage/dev-python/html5lib-0.9999999/work/html5lib-0.9999999/html5lib/treebuilders/etree.py\", line 148, in __init__\n    self._element = ElementTree.Comment(data)\n  File \"src/lxml/lxml.etree.pyx\", line 3017, in lxml.etree.Comment (src/lxml/lxml.etree.c:80806)\nValueError: Comment may not contain '--' or end with '-'\n\n\n----------------------------------------------------------------------\nRan 25617 tests in 31.272s\n\nFAILED (errors=10, failures=22)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/217", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/217/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/217/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/217/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/217", "id": 120084468, "node_id": "MDU6SXNzdWUxMjAwODQ0Njg=", "number": 217, "title": "etree treewalker infinite loop", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7", "html_url": "https://github.com/html5lib/html5lib-python/milestone/7", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/7/labels", "id": 1088462, "node_id": "MDk6TWlsZXN0b25lMTA4ODQ2Mg==", "number": 7, "title": "0.99999999", "description": "Get the API for 1.0 stable with the exception of the treebuilder/treewalker APIs.", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 30, "state": "closed", "created_at": "2015-04-29T00:17:33Z", "updated_at": "2016-10-27T21:49:11Z", "due_on": "2016-06-21T07:00:00Z", "closed_at": "2016-10-27T21:49:11Z"}, "comments": 3, "created_at": "2015-12-03T02:59:46Z", "updated_at": "2016-05-29T03:38:11Z", "closed_at": "2016-05-29T03:38:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "This goes into an infinite loop:\n\n``` python\nimport html5lib\n\nfrag = html5lib.parseFragment(\"<b><em><foo><foob><fooc><aside></b></em>\")\n\nwalker = html5lib.getTreeWalker(\"etree\")\n\nprint list(walker(frag))\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/215", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/215/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/215/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/215/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/215", "id": 118858696, "node_id": "MDU6SXNzdWUxMTg4NTg2OTY=", "number": 215, "title": "Default encoding has changed from \"utf-8\" to \"windows-1252\" between old and recent version", "user": {"login": "lsamper", "id": 78709, "node_id": "MDQ6VXNlcjc4NzA5", "avatar_url": "https://avatars1.githubusercontent.com/u/78709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lsamper", "html_url": "https://github.com/lsamper", "followers_url": "https://api.github.com/users/lsamper/followers", "following_url": "https://api.github.com/users/lsamper/following{/other_user}", "gists_url": "https://api.github.com/users/lsamper/gists{/gist_id}", "starred_url": "https://api.github.com/users/lsamper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lsamper/subscriptions", "organizations_url": "https://api.github.com/users/lsamper/orgs", "repos_url": "https://api.github.com/users/lsamper/repos", "events_url": "https://api.github.com/users/lsamper/events{/privacy}", "received_events_url": "https://api.github.com/users/lsamper/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-11-25T15:22:01Z", "updated_at": "2015-12-03T11:06:39Z", "closed_at": "2015-11-27T16:03:35Z", "author_association": "NONE", "active_lock_reason": null, "body": "When chardet and charade are not installed, detectEncoding method falls back to \nhtml5lib.inputstream.HTMLInputStream.defaultEncoding  \nand this is set to \"windows-1252\" (\"iso-8859-1\").\nline 429 in inputstream.py:\n    self.defaultEncoding = \"windows-1252\"\nhttps://github.com/html5lib/html5lib-python/blob/92ed92a0a3166bf022fa48ba46b1c66f4f223d4b/html5lib/inputstream.py#L429\n\nActually, this was not the case in an old html5lib version. \nI wonder why have you make this choice? Is it a bug?\nDefault encoding shouldn't be \"utf-8\" in html5?\nhttp://www.w3schools.com/html/html_charset.asp\n\nThank you\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/211", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/211/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/211/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/211/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/211", "id": 115330234, "node_id": "MDU6SXNzdWUxMTUzMzAyMzQ=", "number": 211, "title": "Add a flag to preserve CR when serialising", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 1, "created_at": "2015-11-05T17:10:39Z", "updated_at": "2016-06-06T21:50:11Z", "closed_at": "2016-06-06T21:50:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently, `&#xd;` doesn't round-trip (as it gets serialised as a U+000D character, which then gets converted by the input stream pre-processor to U+000A). For some applications (e.g., the csswg-test builder) this is desirable.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/207", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/207/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/207/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/207/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/207", "id": 108352865, "node_id": "MDU6SXNzdWUxMDgzNTI4NjU=", "number": 207, "title": "Bug in the ElementTree append?", "user": {"login": "iherman", "id": 520723, "node_id": "MDQ6VXNlcjUyMDcyMw==", "avatar_url": "https://avatars0.githubusercontent.com/u/520723?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iherman", "html_url": "https://github.com/iherman", "followers_url": "https://api.github.com/users/iherman/followers", "following_url": "https://api.github.com/users/iherman/following{/other_user}", "gists_url": "https://api.github.com/users/iherman/gists{/gist_id}", "starred_url": "https://api.github.com/users/iherman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iherman/subscriptions", "organizations_url": "https://api.github.com/users/iherman/orgs", "repos_url": "https://api.github.com/users/iherman/repos", "events_url": "https://api.github.com/users/iherman/events{/privacy}", "received_events_url": "https://api.github.com/users/iherman/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-09-25T15:56:03Z", "updated_at": "2015-09-29T09:44:29Z", "closed_at": "2015-09-29T09:44:29Z", "author_association": "NONE", "active_lock_reason": null, "body": "Consider the following code:\n\n```\nimport html5lib\nimport xml.etree.ElementTree as ET\n\nexample_XML=\"\"\"<?xml version=\"1.0\"?>\n<data>\n    <country name=\"Liechtenstein\">\n    </country>\n </data>\n\"\"\"\n\nexample_HTML=\"\"\"<!DOCTYPE html>\n<html>\n    <head>\n    </head>\n    <body>\n    </body>\n</html>\n\"\"\"\n\ntree = html5lib.parse(example_HTML, namespaceHTMLElements=False)\n# tree = ET.fromstring(example_XML)\nq = ET.Element('rubbish')\ntree.append(q)\n```\n\nRunning the code as is leads to:\n\n```\nTraceback (most recent call last):\n  File \"/Users/ivan/Desktop/test.py\", line 23, in <module>\n    tree.append(q)\nTypeError: must be Element, not Element\n```\n\nRunning the code switching off the `html5lib` implementation in favor of XML parsing, ie, \n\n```\n# tree = html5lib.parse(example_HTML)\ntree = ET.fromstring(example_XML)\n```\n\nworks. This smells like a bug:-(\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/199", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/199/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/199/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/199/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/199", "id": 96526942, "node_id": "MDU6SXNzdWU5NjUyNjk0Mg==", "number": 199, "title": "Sort out the magic with phases and logging", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2015-07-22T10:06:10Z", "updated_at": "2016-06-06T17:41:23Z", "closed_at": "2016-06-06T17:41:23Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "I'm not sure quite what we want to do \u2014 less dynamism, because we should only ever return one of two dicts (depending on the argument to `getPhases()`.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/197", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/197/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/197/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/197/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/197", "id": 96165790, "node_id": "MDU6SXNzdWU5NjE2NTc5MA==", "number": 197, "title": "HTMLSerializer and HTML entities", "user": {"login": "danielknell", "id": 229004, "node_id": "MDQ6VXNlcjIyOTAwNA==", "avatar_url": "https://avatars3.githubusercontent.com/u/229004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/danielknell", "html_url": "https://github.com/danielknell", "followers_url": "https://api.github.com/users/danielknell/followers", "following_url": "https://api.github.com/users/danielknell/following{/other_user}", "gists_url": "https://api.github.com/users/danielknell/gists{/gist_id}", "starred_url": "https://api.github.com/users/danielknell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/danielknell/subscriptions", "organizations_url": "https://api.github.com/users/danielknell/orgs", "repos_url": "https://api.github.com/users/danielknell/repos", "events_url": "https://api.github.com/users/danielknell/events{/privacy}", "received_events_url": "https://api.github.com/users/danielknell/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-07-20T21:32:14Z", "updated_at": "2015-07-21T12:03:46Z", "closed_at": "2015-07-21T12:03:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "``` python\n>>> html5lib.serializer.serialize(html5lib.parse('<p>&nbsp;</p>'))\n'<p>\\xa0'\n```\n\nat the moment the parsing and serialising a document causes entities to be converted into special characters, including things like #00 and there is no way to pass additional entities to xml.sax.saxutils.escape.\n\nI looked into subclassing the serialiser but the escaping happens in the middle of the serialize() method at:\n\nhttps://github.com/html5lib/html5lib-python/blob/master/html5lib/serializer/htmlserializer.py#L223 \n\nperhaps the class should define an entities dict to pass through the standard html5 entities and special characters or do the escaping via a class method that can be overridden?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/196", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/196/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/196/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/196/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/196", "id": 95155531, "node_id": "MDU6SXNzdWU5NTE1NTUzMQ==", "number": 196, "title": "Warning about \"Coercing non-XML name\" when name contains a column \":\"", "user": {"login": "JulienPalard", "id": 239510, "node_id": "MDQ6VXNlcjIzOTUxMA==", "avatar_url": "https://avatars2.githubusercontent.com/u/239510?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JulienPalard", "html_url": "https://github.com/JulienPalard", "followers_url": "https://api.github.com/users/JulienPalard/followers", "following_url": "https://api.github.com/users/JulienPalard/following{/other_user}", "gists_url": "https://api.github.com/users/JulienPalard/gists{/gist_id}", "starred_url": "https://api.github.com/users/JulienPalard/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JulienPalard/subscriptions", "organizations_url": "https://api.github.com/users/JulienPalard/orgs", "repos_url": "https://api.github.com/users/JulienPalard/repos", "events_url": "https://api.github.com/users/JulienPalard/events{/privacy}", "received_events_url": "https://api.github.com/users/JulienPalard/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-07-15T10:08:21Z", "updated_at": "2015-07-16T10:44:10Z", "closed_at": "2015-07-15T15:54:54Z", "author_association": "NONE", "active_lock_reason": null, "body": "As: `nonXmlNameBMPRegexp` is defined by `re.compile('[\\x00-,/:-@`... (note the column).\n\n[In ihatexml.py, at line 260](https://github.com/html5lib/html5lib-python/blob/master/html5lib/ihatexml.py#L260):\n\n```\nreplaceChars = set(nonXmlNameBMPRegexp.findall(nameRest))\nfor char in replaceChars:\n    warnings.warn(\"Coercing non-XML name {}\".format(name), DataLossWarning)\n```\n\nif a char in a name is in `nonXmlNameBMPRegexp`, like `:`, a Warning is triggered, yet, as far as I searched, `:` is allowed for namespace purpose and by definition in the [XML 1.1 spec](http://www.w3.org/TR/xml11/):\n\n> [Definition: A Name is a token beginning with a letter or one of a few punctuation characters, and\n> continuing with letters, digits, hyphens, underscores, colons, or full stops, together known as name\n> characters.] Names beginning with the string \"xml\", or with any string which would match (('X'|'x')\n> ('M'|'m') ('L'|'l')), are reserved for standardization in this or future versions of this specification.\n\nDid I missed something obvious here or is this a bug ?\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/195", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/195/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/195/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/195/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/195", "id": 93885842, "node_id": "MDU6SXNzdWU5Mzg4NTg0Mg==", "number": 195, "title": "ValueError: Invalid IPv6 URL in sanitize_token", "user": {"login": "papachoco", "id": 244702, "node_id": "MDQ6VXNlcjI0NDcwMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/244702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/papachoco", "html_url": "https://github.com/papachoco", "followers_url": "https://api.github.com/users/papachoco/followers", "following_url": "https://api.github.com/users/papachoco/following{/other_user}", "gists_url": "https://api.github.com/users/papachoco/gists{/gist_id}", "starred_url": "https://api.github.com/users/papachoco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/papachoco/subscriptions", "organizations_url": "https://api.github.com/users/papachoco/orgs", "repos_url": "https://api.github.com/users/papachoco/repos", "events_url": "https://api.github.com/users/papachoco/events{/privacy}", "received_events_url": "https://api.github.com/users/papachoco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 6, "created_at": "2015-07-08T20:39:44Z", "updated_at": "2015-09-09T23:12:19Z", "closed_at": "2015-09-07T23:37:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get an exception at \n\nhtml5lib-0.999999-py2.7.egg/html5lib/sanitizer.py\", line 210, in allowed_token\n\nuri = urlparse.urlparse(val_unescaped)\n\nwhen I passed the following malformed expression\n\n`exp = u'<html><a href=\\'http://tag:nextthought.com,2011-10:julie.zhu-OID-0x148a37:55736572735f315f54657374:hjJe3dfZMVb,\"body\":[\"5:::{\\\\\"args\\\\\\'>foo</html>'`\n\nI guess if it's a malformed url we should ignore it ?\n\nThanks a lot\n\nCarlos\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/194", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/194/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/194/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/194/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/194", "id": 89648606, "node_id": "MDU6SXNzdWU4OTY0ODYwNg==", "number": 194, "title": "support `itemscope` as a boolean attribute", "user": {"login": "jvanasco", "id": 204779, "node_id": "MDQ6VXNlcjIwNDc3OQ==", "avatar_url": "https://avatars3.githubusercontent.com/u/204779?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jvanasco", "html_url": "https://github.com/jvanasco", "followers_url": "https://api.github.com/users/jvanasco/followers", "following_url": "https://api.github.com/users/jvanasco/following{/other_user}", "gists_url": "https://api.github.com/users/jvanasco/gists{/gist_id}", "starred_url": "https://api.github.com/users/jvanasco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jvanasco/subscriptions", "organizations_url": "https://api.github.com/users/jvanasco/orgs", "repos_url": "https://api.github.com/users/jvanasco/repos", "events_url": "https://api.github.com/users/jvanasco/events{/privacy}", "received_events_url": "https://api.github.com/users/jvanasco/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 3, "created_at": "2015-06-19T19:58:49Z", "updated_at": "2017-11-09T18:58:00Z", "closed_at": "2017-11-09T18:55:28Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "`itemscope` should be supported as a boolean attribute.  \n\nfor reference, `schema.org` has been pushing it as such (https://schema.org/docs/gs.html#microdata_itemscope_itemtype)\n\nrunning something through the Tokenizer/Sanitizer will set it to an empty attribute\n\n   input:  `<article itemscope>`\n   output:  `<article itemscope=\"\">`\n\nit looks like this can be handled by editing constants.py and doing the following to enable it on all tags:\n\n```\nbooleanAttributes = {\n-    \"\": frozenset([\"irrelevant\"]),\n+    \"\": frozenset([\"irrelevant\", \"itemscope\"]),\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/191", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/191/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/191/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/191/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/191", "id": 82434265, "node_id": "MDU6SXNzdWU4MjQzNDI2NQ==", "number": 191, "title": "Tokenizer not unconsuming X in in hex mode", "user": {"login": "dantti", "id": 29507, "node_id": "MDQ6VXNlcjI5NTA3", "avatar_url": "https://avatars0.githubusercontent.com/u/29507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dantti", "html_url": "https://github.com/dantti", "followers_url": "https://api.github.com/users/dantti/followers", "following_url": "https://api.github.com/users/dantti/following{/other_user}", "gists_url": "https://api.github.com/users/dantti/gists{/gist_id}", "starred_url": "https://api.github.com/users/dantti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dantti/subscriptions", "organizations_url": "https://api.github.com/users/dantti/orgs", "repos_url": "https://api.github.com/users/dantti/repos", "events_url": "https://api.github.com/users/dantti/events{/privacy}", "received_events_url": "https://api.github.com/users/dantti/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2015-05-29T13:45:26Z", "updated_at": "2015-05-30T13:59:24Z", "closed_at": "2015-05-30T13:55:47Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hi,\n\nI'm implementing the WHATWG spec with C++/Qt and using your implementation as a reference is quite useful.\nBut I think I just found an error, \nin tokenizer.py line 172 there is:\nself.stream.unget(charStack.pop())\nsorry if my Python knowledge is mistaken but here\nyou only pop one char from the stack but in a '#Xabc' case\nwhere the X stands for hexadecimals you sould\npop that too as the docs says: https://html.spec.whatwg.org/multipage/syntax.html#tokenizing-character-references\n\"If no characters match the range, then don't consume any characters (and unconsume the U+0023 NUMBER SIGN character and, if appropriate, the X character). This is a parse error; nothing is returned.\"\nBest.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/190", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/190/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/190/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/190/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/190", "id": 74681933, "node_id": "MDU6SXNzdWU3NDY4MTkzMw==", "number": 190, "title": "Assertion failures in Python 2 from the etree treewalker", "user": {"login": "mattheww", "id": 395747, "node_id": "MDQ6VXNlcjM5NTc0Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/395747?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mattheww", "html_url": "https://github.com/mattheww", "followers_url": "https://api.github.com/users/mattheww/followers", "following_url": "https://api.github.com/users/mattheww/following{/other_user}", "gists_url": "https://api.github.com/users/mattheww/gists{/gist_id}", "starred_url": "https://api.github.com/users/mattheww/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mattheww/subscriptions", "organizations_url": "https://api.github.com/users/mattheww/orgs", "repos_url": "https://api.github.com/users/mattheww/repos", "events_url": "https://api.github.com/users/mattheww/events{/privacy}", "received_events_url": "https://api.github.com/users/mattheww/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35203466, "node_id": "MDU6TGFiZWwzNTIwMzQ2Ng==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-05-09T14:14:15Z", "updated_at": "2015-07-07T01:47:36Z", "closed_at": "2015-07-07T01:47:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "Assertion failures in Python 2 from the etree treewalker.\n\nIf I create an element directly using cElementTree and try to serialise the result using html5lib, I get assertion failures in Python 2 unless I go to special lengths to make sure cElementTree sees unicode strings everywhere.\n\n``` python\n    from xml.etree import cElementTree as etree\n    import html5lib\n\n    doc = html5lib.parse(\n        u\"<p>test\",\n        treebuilder=\"etree\",\n        namespaceHTMLElements=False)\n\n    head = doc.find(\"head\")\n    link = etree.Element(\"link\")\n    head.append(link)\n\n    stream = html5lib.treewalkers.getTreeWalker(\"etree\")(doc)\n    serializer = html5lib.serializer.htmlserializer.HTMLSerializer()\n    rendered = serializer.render(stream)\n```\n\nThe render() call fails with:\n\nAssertionError: <type 'str'>\nhtml5lib/treewalkers/etree.py:61 (getNodeDetails)\nfailing line:\n`assert type(node.tag) == text_type, type(node.tag)`\n\nUsing unicode string literals everywhere isn't enough to avoid trouble because cElementTree sometimes constructs attribute names from keyword arguments, eg:\n\n``` python\n    doc = html5lib.parse(\n        u\"<p>test\",\n        treebuilder=\"etree\",\n        namespaceHTMLElements=False)\n\n    head = doc.find(\"head\")\n    link = etree.Element(u\"link\", rel=u\"stylesheet\")\n    head.append(link)\n\n    stream = html5lib.treewalkers.getTreeWalker(\"etree\")(doc)\n    serializer = html5lib.serializer.htmlserializer.HTMLSerializer()\n    rendered = serializer.render(stream)\n```\n\nThe render() call fails with:\n\nAssertionError\nhtml5lib/serializer/htmlserializer.py:165 (encodeStrict)\nfailing line:\n`assert(isinstance(string, text_type))`\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/189", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/189/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/189/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/189/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/189", "id": 72617115, "node_id": "MDU6SXNzdWU3MjYxNzExNQ==", "number": 189, "title": "Relative URLs not allowed by sanitizer after 0.999", "user": {"login": "yakky", "id": 714711, "node_id": "MDQ6VXNlcjcxNDcxMQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/714711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yakky", "html_url": "https://github.com/yakky", "followers_url": "https://api.github.com/users/yakky/followers", "following_url": "https://api.github.com/users/yakky/following{/other_user}", "gists_url": "https://api.github.com/users/yakky/gists{/gist_id}", "starred_url": "https://api.github.com/users/yakky/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yakky/subscriptions", "organizations_url": "https://api.github.com/users/yakky/orgs", "repos_url": "https://api.github.com/users/yakky/repos", "events_url": "https://api.github.com/users/yakky/events{/privacy}", "received_events_url": "https://api.github.com/users/yakky/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 55831578, "node_id": "MDU6TGFiZWw1NTgzMTU3OA==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/regression", "name": "regression", "color": "000000", "default": false, "description": null}, {"id": 44414809, "node_id": "MDU6TGFiZWw0NDQxNDgwOQ==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/sanitizer", "name": "sanitizer", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-02T09:14:24Z", "updated_at": "2015-07-07T01:40:42Z", "closed_at": "2015-07-07T01:38:18Z", "author_association": "NONE", "active_lock_reason": null, "body": "This snippet works in 0.999 but not in 0.9999\n\n```\nfrom html5lib import HTMLParser, sanitizer, serializer, treebuilders, treewalkers\n\nopts = {}\nopts['tokenizer'] = sanitizer.HTMLSanitizer\nparser = html5lib.HTMLParser(tree=treebuilders.getTreeBuilder(\"dom\"), **opts)\n\ndata = u'Hello World<img src=\"/static/cms/img/icons/plugins/link.png\" alt=\"Link - A Link\" title=\"Link - A Link\" id=\"plugin_obj_2\" />'\ndom_tree = parser.parseFragment(data)\nwalker = treewalkers.getTreeWalker(\"dom\")\nstream = walker(dom_tree)\ns = serializer.htmlserializer.HTMLSerializer()\ntext = ''.join(s.serialize(stream))\n\nassert text == data\n```\n\nIssue is not present when not using the sanitiser \n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/188", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/188/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/188/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/188/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/188", "id": 72068191, "node_id": "MDU6SXNzdWU3MjA2ODE5MQ==", "number": 188, "title": "AttributeError raised on invalid data URI in sanitizer", "user": {"login": "papachoco", "id": 244702, "node_id": "MDQ6VXNlcjI0NDcwMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/244702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/papachoco", "html_url": "https://github.com/papachoco", "followers_url": "https://api.github.com/users/papachoco/followers", "following_url": "https://api.github.com/users/papachoco/following{/other_user}", "gists_url": "https://api.github.com/users/papachoco/gists{/gist_id}", "starred_url": "https://api.github.com/users/papachoco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/papachoco/subscriptions", "organizations_url": "https://api.github.com/users/papachoco/orgs", "repos_url": "https://api.github.com/users/papachoco/repos", "events_url": "https://api.github.com/users/papachoco/events{/privacy}", "received_events_url": "https://api.github.com/users/papachoco/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35203466, "node_id": "MDU6TGFiZWwzNTIwMzQ2Ng==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 55831578, "node_id": "MDU6TGFiZWw1NTgzMTU3OA==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/regression", "name": "regression", "color": "000000", "default": false, "description": null}, {"id": 44414809, "node_id": "MDU6TGFiZWw0NDQxNDgwOQ==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/sanitizer", "name": "sanitizer", "color": "eb6420", "default": false, "description": null}], "state": "closed", "locked": false, "assignee": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "assignees": [{"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}], "milestone": null, "comments": 2, "created_at": "2015-04-30T05:34:18Z", "updated_at": "2015-04-30T20:03:04Z", "closed_at": "2015-04-30T15:31:46Z", "author_association": "NONE", "active_lock_reason": null, "body": "While trying to sanitize `u'<html><body><audio controls=\"\" src=\"data:foobar\"></audio></body></html>'`\n\nI get an AttributeError exception In HTMLSanitizerMixin line 218\n\n``` python\n215: m = content_type_rgx.match(uri.path)\n216: if not m:\n217:      del attrs[attr]\n218: if m.group('content_type') not in self.allowed_content_types:\n             del attrs[attr]\n```\n\nLine 215 returns None , but in line 218 m is assumed to be None\n\nCarlos\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/187", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/187/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/187/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/187/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/187", "id": 71742216, "node_id": "MDU6SXNzdWU3MTc0MjIxNg==", "number": 187, "title": "Only store version in one place in the tree", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35203468, "node_id": "MDU6TGFiZWwzNTIwMzQ2OA==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2015-04-29T00:15:34Z", "updated_at": "2015-07-06T22:22:12Z", "closed_at": "2015-07-06T22:22:12Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "So I don't forget to bump them in multiple places for a release.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/182", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/182/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/182/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/182/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/182", "id": 66497600, "node_id": "MDU6SXNzdWU2NjQ5NzYwMA==", "number": 182, "title": "Move to py.test and take advantage of it", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35203468, "node_id": "MDU6TGFiZWwzNTIwMzQ2OA==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": {"url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1", "html_url": "https://github.com/html5lib/html5lib-python/milestone/1", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/milestones/1/labels", "id": 307133, "node_id": "MDk6TWlsZXN0b25lMzA3MTMz", "number": 1, "title": "1.0", "description": "* Cleanup\r\n* Documentation\r\n* Version number fix\r\n* Update the parser to match the current spec\r\n* Stabilize the treebuilder/treewalker APIs\r\n* Have a separate testsuite for treebuilders (separate to the parser)", "creator": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "open_issues": 0, "closed_issues": 71, "state": "closed", "created_at": "2013-04-09T20:25:55Z", "updated_at": "2019-03-10T23:49:21Z", "due_on": "2017-11-30T08:00:00Z", "closed_at": "2019-03-10T23:49:21Z"}, "comments": 6, "created_at": "2015-04-06T00:27:58Z", "updated_at": "2017-11-29T14:59:44Z", "closed_at": "2017-11-29T14:59:44Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "We want to move to py.test so that:\r\n- we can select to only run parser tests with one tree builder (and tree walker tests with only one tree walker, etc.)\r\n- we can make use of the plugin API to create a means of dumping test failures and build support for expected failures into the testsuites from html5lib-tests\r\n- it is easier to create nicer error messages\r\n- better support for skipped and expected failures so we can walk towards having a constant number of tests across all platforms, optionally skipped\r\n\r\nhttps://github.com/gsnedders/html5lib-python/tree/expected_failures_pytest is my current WIP branch implementing this.\r\n## Status:\r\n### Needed to fix failures:\r\n- [x] Make sure tests from generators run in a deterministic order\r\n- [x] Use pytest-expect\r\n### The rest:\r\n- [ ] Move tokenizer and serialiser tests over to generating test objects from the JSON files.\r\n- [ ] Refactor support.py.\r\n- [x] Check the submodule is imported (see #122).\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/180", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/180/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/180/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/180/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/180", "id": 55542111, "node_id": "MDU6SXNzdWU1NTU0MjExMQ==", "number": 180, "title": "HTMLSanitizer: href attr ampersands incorrectly sanitized", "user": {"login": "nicholasserra", "id": 512288, "node_id": "MDQ6VXNlcjUxMjI4OA==", "avatar_url": "https://avatars0.githubusercontent.com/u/512288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nicholasserra", "html_url": "https://github.com/nicholasserra", "followers_url": "https://api.github.com/users/nicholasserra/followers", "following_url": "https://api.github.com/users/nicholasserra/following{/other_user}", "gists_url": "https://api.github.com/users/nicholasserra/gists{/gist_id}", "starred_url": "https://api.github.com/users/nicholasserra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nicholasserra/subscriptions", "organizations_url": "https://api.github.com/users/nicholasserra/orgs", "repos_url": "https://api.github.com/users/nicholasserra/repos", "events_url": "https://api.github.com/users/nicholasserra/events{/privacy}", "received_events_url": "https://api.github.com/users/nicholasserra/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2015-01-26T21:45:24Z", "updated_at": "2015-01-27T10:48:36Z", "closed_at": "2015-01-26T23:38:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "Hello. Not sure if my implementation is incorrect or if I found a bug, but i've noticed that ampersands within anchor `href` attributes are being converted to `&amp;`, their html special characters equivalent. \n\nHere is how i'm sanitizing:\n\n```\ndef escape_text(self, text):\n    \"\"\"Use html5lib to escape evil html tags.\"\"\"\n\n    parser = html5lib.HTMLParser(tokenizer=HTMLSanitizer)\n    walker = html5lib.treewalkers.getTreeWalker('etree')\n    stream = walker(parser.parseFragment(text))\n    serializer = HTMLSerializer(quote_attr_values=True, omit_optional_tags=False,\n                                    alphabetical_attributes=True)\n\n    return serializer.render(stream)\n```\n\nInput: `<p><a class=\"linked-url\" target=\"_blank\" href=\"https://sprint.ly/?one=1&two=2\">https://sprint.ly/?one=1&two=2</a></p>`\n\nOutput: `<p><a class=\"linked-url\" href=\"https://sprint.ly/?one=1&amp;two=2\" target=\"_blank\">https://sprint.ly/?one=1&amp;two=2</a></p>`\n\nthanks!\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/179", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/179/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/179/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/179/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/179", "id": 53993917, "node_id": "MDU6SXNzdWU1Mzk5MzkxNw==", "number": 179, "title": "Update documentation and requirements*.txt after 2.6 ordereddict change", "user": {"login": "gsnedders", "id": 176218, "node_id": "MDQ6VXNlcjE3NjIxOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/176218?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gsnedders", "html_url": "https://github.com/gsnedders", "followers_url": "https://api.github.com/users/gsnedders/followers", "following_url": "https://api.github.com/users/gsnedders/following{/other_user}", "gists_url": "https://api.github.com/users/gsnedders/gists{/gist_id}", "starred_url": "https://api.github.com/users/gsnedders/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gsnedders/subscriptions", "organizations_url": "https://api.github.com/users/gsnedders/orgs", "repos_url": "https://api.github.com/users/gsnedders/repos", "events_url": "https://api.github.com/users/gsnedders/events{/privacy}", "received_events_url": "https://api.github.com/users/gsnedders/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35203466, "node_id": "MDU6TGFiZWwzNTIwMzQ2Ng==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/bug", "name": "bug", "color": "fc2929", "default": true, "description": null}, {"id": 35258017, "node_id": "MDU6TGFiZWwzNTI1ODAxNw==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/documentation", "name": "documentation", "color": "e102d8", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-01-11T15:00:01Z", "updated_at": "2016-05-22T03:17:20Z", "closed_at": "2016-05-22T03:17:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "As I commented in #177, the changelog (adding a dependency is a pretty major change!), readme (because it's now wrong!), and requirements*.txt files (because they don't require ordereddict on 2.6!) all need updating.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/178", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/178/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/178/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/178/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/178", "id": 51778378, "node_id": "MDU6SXNzdWU1MTc3ODM3OA==", "number": 178, "title": "Test failures", "user": {"login": "msabramo", "id": 305268, "node_id": "MDQ6VXNlcjMwNTI2OA==", "avatar_url": "https://avatars1.githubusercontent.com/u/305268?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msabramo", "html_url": "https://github.com/msabramo", "followers_url": "https://api.github.com/users/msabramo/followers", "following_url": "https://api.github.com/users/msabramo/following{/other_user}", "gists_url": "https://api.github.com/users/msabramo/gists{/gist_id}", "starred_url": "https://api.github.com/users/msabramo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msabramo/subscriptions", "organizations_url": "https://api.github.com/users/msabramo/orgs", "repos_url": "https://api.github.com/users/msabramo/repos", "events_url": "https://api.github.com/users/msabramo/events{/privacy}", "received_events_url": "https://api.github.com/users/msabramo/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-12-12T07:32:17Z", "updated_at": "2015-04-26T01:42:07Z", "closed_at": "2015-04-26T01:42:07Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "```\n$ tox -e py27\n...\nRan 27494 tests in 42.111s\n\nFAILED (failures=415)\n```\n\n[Travis CI](https://travis-ci.org/html5lib/html5lib-python) has been broken since [build #245](https://travis-ci.org/html5lib/html5lib-python/builds/32874341) (commit https://github.com/html5lib/html5lib-python/commit/e8e0046b2c3109baed579919d9f6f0b036ae34a7)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/173", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/173/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/173/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/173/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/173", "id": 46870137, "node_id": "MDU6SXNzdWU0Njg3MDEzNw==", "number": 173, "title": "\"span\" tag missing from constants", "user": {"login": "bendavis78", "id": 324392, "node_id": "MDQ6VXNlcjMyNDM5Mg==", "avatar_url": "https://avatars1.githubusercontent.com/u/324392?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bendavis78", "html_url": "https://github.com/bendavis78", "followers_url": "https://api.github.com/users/bendavis78/followers", "following_url": "https://api.github.com/users/bendavis78/following{/other_user}", "gists_url": "https://api.github.com/users/bendavis78/gists{/gist_id}", "starred_url": "https://api.github.com/users/bendavis78/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bendavis78/subscriptions", "organizations_url": "https://api.github.com/users/bendavis78/orgs", "repos_url": "https://api.github.com/users/bendavis78/repos", "events_url": "https://api.github.com/users/bendavis78/events{/privacy}", "received_events_url": "https://api.github.com/users/bendavis78/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-10-27T05:08:36Z", "updated_at": "2014-11-21T01:06:11Z", "closed_at": "2014-11-14T22:22:50Z", "author_association": "NONE", "active_lock_reason": null, "body": "the constants file defines valid html tags, however it does not contain the \"span\" tag.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/170", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/170/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/170/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/170/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/170", "id": 46256672, "node_id": "MDU6SXNzdWU0NjI1NjY3Mg==", "number": 170, "title": "Html markup not parsed correctly with html5lib parser", "user": {"login": "EugeniuZ", "id": 3738810, "node_id": "MDQ6VXNlcjM3Mzg4MTA=", "avatar_url": "https://avatars1.githubusercontent.com/u/3738810?v=4", "gravatar_id": "", "url": "https://api.github.com/users/EugeniuZ", "html_url": "https://github.com/EugeniuZ", "followers_url": "https://api.github.com/users/EugeniuZ/followers", "following_url": "https://api.github.com/users/EugeniuZ/following{/other_user}", "gists_url": "https://api.github.com/users/EugeniuZ/gists{/gist_id}", "starred_url": "https://api.github.com/users/EugeniuZ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/EugeniuZ/subscriptions", "organizations_url": "https://api.github.com/users/EugeniuZ/orgs", "repos_url": "https://api.github.com/users/EugeniuZ/repos", "events_url": "https://api.github.com/users/EugeniuZ/events{/privacy}", "received_events_url": "https://api.github.com/users/EugeniuZ/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-10-20T10:44:01Z", "updated_at": "2014-10-29T18:12:41Z", "closed_at": "2014-10-20T14:46:36Z", "author_association": "NONE", "active_lock_reason": null, "body": "The following HTML markup is parsed incorrectly: \n`<div itemscope='True'><p>My name is <span itemprop=\"name\" content=\"Elizabeth\"/>.</p></div>`\n\nAfter parsing it becomes:\n\n`<div itemscope=\"True\"><p>My name is <span content=\"Elizabeth\" itemprop=\"name\">.</span></p></div>`\n\n(The dot is included as text in `<span>` instead of text in `<p>`).\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/166", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/166/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/166/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/166/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/166", "id": 43197144, "node_id": "MDU6SXNzdWU0MzE5NzE0NA==", "number": 166, "title": "Warn about conformance requirement violations", "user": {"login": "yurikhan", "id": 238691, "node_id": "MDQ6VXNlcjIzODY5MQ==", "avatar_url": "https://avatars0.githubusercontent.com/u/238691?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yurikhan", "html_url": "https://github.com/yurikhan", "followers_url": "https://api.github.com/users/yurikhan/followers", "following_url": "https://api.github.com/users/yurikhan/following{/other_user}", "gists_url": "https://api.github.com/users/yurikhan/gists{/gist_id}", "starred_url": "https://api.github.com/users/yurikhan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yurikhan/subscriptions", "organizations_url": "https://api.github.com/users/yurikhan/orgs", "repos_url": "https://api.github.com/users/yurikhan/repos", "events_url": "https://api.github.com/users/yurikhan/events{/privacy}", "received_events_url": "https://api.github.com/users/yurikhan/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 7, "created_at": "2014-09-19T01:54:03Z", "updated_at": "2014-10-17T10:12:51Z", "closed_at": "2014-10-14T18:08:33Z", "author_association": "NONE", "active_lock_reason": null, "body": "I tried using html5lib for HTML validation, to make sure that my users author valid, well-defined HTML. To that end, I parsed the input HTML with html5lib and used the `HTMLParser.errors` property to flag errors. Ideally, I would like to flag all violations listed in [HTML5 \u00a71.10 Conformance requirements for authors](http://www.w3.org/TR/html5/introduction.html#conformance-requirements-for-authors).\n\n**Sample input:**\n\n``` html\n<foo>Hello World!</foo>\n```\n\n**Expected behavior:** error logged for each use of a tag currently undefined in the HTML spec.\n\n**Observed behavior:** undefined tags are silently accepted.\n\n**Sample input:**\n\n``` html\n<ul>Hello</ul>\n```\n\n**Expected behavior:** error logged for use of PCDATA in an element whose content model permits only `li` elements.\n\n**Observed behavior:** content model violation is silently ignored.\n\n**Sample input:**\n\n``` html\n<font color=\"red\">Test</font>\n```\n\n**Expected behavior:** error logged for use of presentational markup.\n\n**Observed behavior:** accepted silently.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/html5lib/html5lib-python/issues/165", "repository_url": "https://api.github.com/repos/html5lib/html5lib-python", "labels_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/165/labels{/name}", "comments_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/165/comments", "events_url": "https://api.github.com/repos/html5lib/html5lib-python/issues/165/events", "html_url": "https://github.com/html5lib/html5lib-python/issues/165", "id": 43095687, "node_id": "MDU6SXNzdWU0MzA5NTY4Nw==", "number": 165, "title": "Wheel packaging format for pypi.org", "user": {"login": "stonebig", "id": 4312421, "node_id": "MDQ6VXNlcjQzMTI0MjE=", "avatar_url": "https://avatars0.githubusercontent.com/u/4312421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/stonebig", "html_url": "https://github.com/stonebig", "followers_url": "https://api.github.com/users/stonebig/followers", "following_url": "https://api.github.com/users/stonebig/following{/other_user}", "gists_url": "https://api.github.com/users/stonebig/gists{/gist_id}", "starred_url": "https://api.github.com/users/stonebig/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/stonebig/subscriptions", "organizations_url": "https://api.github.com/users/stonebig/orgs", "repos_url": "https://api.github.com/users/stonebig/repos", "events_url": "https://api.github.com/users/stonebig/events{/privacy}", "received_events_url": "https://api.github.com/users/stonebig/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 35203468, "node_id": "MDU6TGFiZWwzNTIwMzQ2OA==", "url": "https://api.github.com/repos/html5lib/html5lib-python/labels/enhancement", "name": "enhancement", "color": "84b6eb", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2014-09-18T05:29:55Z", "updated_at": "2015-11-13T12:54:53Z", "closed_at": "2015-11-13T12:54:53Z", "author_association": "NONE", "active_lock_reason": null, "body": "Would it be possible to get a .whl universal package on Pypi for your package ?\n\nIf I'm right, it's just a matter of adding a setup.cfg file at root level with \n\n```\n[wheel]\nuniversal = 1\n```\n\nand then doing this to upload to pypi\n\n```\npython setup.py sdist bdist_wheel upload -r pypi\n```\n", "performed_via_github_app": null, "score": 1.0}]}