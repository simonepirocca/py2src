{"total_count": 22, "incomplete_results": false, "items": [{"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/53", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/53/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/53/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/53/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/53", "id": 521582732, "node_id": "MDU6SXNzdWU1MjE1ODI3MzI=", "number": 53, "title": "Py2: binary class is large and tracked by gc; implement in C?", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2019-11-12T14:24:33Z", "updated_at": "2019-11-13T12:19:54Z", "closed_at": "2019-11-13T12:19:54Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Instances of `zodbpickle.binary` on CPython 2.7 are at least 32 bytes larger than the equivalent bytes/str object:\r\n```pycon\r\n>>> from zodbpickle import binary\r\n>>> sys.getsizeof(binary(''))\r\n69\r\n>>> sys.getsizeof('')\r\n37\r\n```\r\n\r\nThey are also tracked by the garbage collector, where bytes (which are known to be immutable) are not:\r\n```pycon\r\n>>> import gc\r\n>>> b = binary('')\r\n>>> gc.collect(); gc.collect()\r\n0\r\n0\r\n>>> gc.is_tracked(b)\r\nTrue\r\n>>> gc.is_tracked('')\r\nFalse\r\n```\r\n\r\nAdding `__slots__ = ()` changes none of this. (16 bytes of the overhead would be for the two GC pointers, another 8 for the `__dict__` pointer, if present. I can't explain the final 8. Perhaps alignment? Perhaps the `char*` is no longer stored at the end of the object when subclassed so there's an extra pointer involved? I haven't looked into it.)\r\n\r\nThis adds up surprisingly quickly because ZODB uses `zodbpickle.binary` [to store OIDs](https://github.com/zopefoundation/ZODB/blob/e96448d248fa6c8d23d360db5b976fb14bd286a6/src/ZODB/serialize.py#L324). They get turned into `str` in some cases, but in ghosts you can see the binary objects:\r\n```pycon\r\n>>> import persistent\r\n>>> import ZODB\r\n>>> db = ZODB.DB(None)\r\n>>> with db.transaction() as c:\r\n...     c.root.key = persistent.Persistent()\r\n...\r\n>>> with db.transaction() as c:\r\n...     type(c.root.key._p_oid)\r\n...\r\n<type 'str'>\r\n>>> db.cacheMinimize()\r\nNone\r\n>>> with db.transaction() as c:\r\n...     type(c.root.key._p_oid)\r\n...\r\n<class 'zodbpickle.binary'>\r\n```\r\n\r\nIn one application, `binary` was the largest type of object tracked by the GC by an order of magnitude (according to objgraph):\r\n```\r\nbinary                                1141836\r\nLOBucket                              316823\r\ntuple                                 282777\r\nLLBucket                              236532\r\ndict                                  233084\r\nlist                                  159828\r\nfunction                              124778\r\n```\r\n\r\nThat's about a 35MB difference in memory used compared to `str`, but even worse, because all those objects are tracked by the GC, GC times increase by 7x (the relative impact diminishes as other objects are added but the constant cost remains):\r\n```console\r\n$ python -m pyperf timeit \\\r\n     -s \"strs = [str(i) for i in range(1141836)]; import gc\" \\\r\n    \"gc.collect()\"\r\n.....................\r\nMean +- std dev: 10.5 ms +- 0.9 ms\r\n$ python -m pyperf timeit \\\r\n    -s \"from zodbpickle import binary; strs = [binary(i) for i in range(1141836)]; import gc\" \\\r\n    \"gc.collect()\"\r\n.....................\r\nMean +- std dev: 69.8 ms +- 3.0 ms\r\n```\r\n\r\nI don't know of a way to solve these problems in Python, but I'm guessing/hoping it should be pretty simple to solve them by implementing `binary` using a C extension.\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/50", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/50/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/50/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/50/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/50", "id": 519855271, "node_id": "MDU6SXNzdWU1MTk4NTUyNzE=", "number": 50, "title": "PyPI wheels for Python 3.8", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2019-11-08T07:22:17Z", "updated_at": "2019-11-09T09:58:14Z", "closed_at": "2019-11-09T08:55:28Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "It would be nice to have Python 3.8 wheels for Windows at least (Linux users tend to have C compilers) published on PyPI.\r\n\r\nThis can be done with a little extra snippet in appveyor.yml without having to wait for official Appveyor Python 3.8 support: see https://github.com/zopefoundation/persistent/pull/118", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/48", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/48/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/48/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/48/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/48", "id": 454857032, "node_id": "MDU6SXNzdWU0NTQ4NTcwMzI=", "number": 48, "title": "RFC: CPython 3.8.0b1 stdlib pickle.py depends on C _pickle module", "user": {"login": "moreati", "id": 174450, "node_id": "MDQ6VXNlcjE3NDQ1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/174450?v=4", "gravatar_id": "", "url": "https://api.github.com/users/moreati", "html_url": "https://github.com/moreati", "followers_url": "https://api.github.com/users/moreati/followers", "following_url": "https://api.github.com/users/moreati/following{/other_user}", "gists_url": "https://api.github.com/users/moreati/gists{/gist_id}", "starred_url": "https://api.github.com/users/moreati/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/moreati/subscriptions", "organizations_url": "https://api.github.com/users/moreati/orgs", "repos_url": "https://api.github.com/users/moreati/repos", "events_url": "https://api.github.com/users/moreati/events{/privacy}", "received_events_url": "https://api.github.com/users/moreati/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2019-06-11T19:10:52Z", "updated_at": "2019-06-26T07:16:57Z", "closed_at": "2019-06-26T07:16:57Z", "author_association": "NONE", "active_lock_reason": null, "body": "I'd like to draw your attention to https://bugs.python.org/issue37210, in case you wish to express an interest. In CPython 3.8.0b1 the pure Python version of the `pickle` module is no longer independent of the C `_pickle` module. The former imports `PickleBuffer` from the later, and is essential to implementing Pickle protocol 5.\r\n\r\nAlthough bpo-37210 was opened at my behest I'm proposing to close it as WONTFIX.\r\n\r\nShould you have no preference, then sorry for the noise and feel free to close this ticket without comment.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/45", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/45/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/45/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/45/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/45", "id": 430371058, "node_id": "MDU6SXNzdWU0MzAzNzEwNTg=", "number": 45, "title": "ImportError: No module named pythainlp.tokenize.multi_cut", "user": {"login": "loretoparisi", "id": 163333, "node_id": "MDQ6VXNlcjE2MzMzMw==", "avatar_url": "https://avatars3.githubusercontent.com/u/163333?v=4", "gravatar_id": "", "url": "https://api.github.com/users/loretoparisi", "html_url": "https://github.com/loretoparisi", "followers_url": "https://api.github.com/users/loretoparisi/followers", "following_url": "https://api.github.com/users/loretoparisi/following{/other_user}", "gists_url": "https://api.github.com/users/loretoparisi/gists{/gist_id}", "starred_url": "https://api.github.com/users/loretoparisi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/loretoparisi/subscriptions", "organizations_url": "https://api.github.com/users/loretoparisi/orgs", "repos_url": "https://api.github.com/users/loretoparisi/repos", "events_url": "https://api.github.com/users/loretoparisi/events{/privacy}", "received_events_url": "https://api.github.com/users/loretoparisi/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2019-04-08T10:23:24Z", "updated_at": "2019-04-08T16:14:27Z", "closed_at": "2019-04-08T16:14:26Z", "author_association": "NONE", "active_lock_reason": null, "body": "I get this error while running:\r\n\r\n```sh\r\nTraceback (most recent call last):\r\n  File \"dictionary.py\", line 13, in <module>\r\n    w2w = Word2word(codes[0], codes[1], dict_path=dict_path)\r\n  File \"/word2word/word2word.py\", line 12, in __init__\r\n    self.word2x, self.y2word, self.x2ys = download_or_load(lang1, lang2, dict_path)\r\n  File \"/word2word/word2word/utils.py\", line 52, in download_or_load\r\n    word2x, y2word, x2ys = pickle.load(open(fpath, 'rb'))\r\n  File \"/usr/local/lib/python2.7/site-packages/zodbpickle/pickle_2.py\", line 1525, in load\r\n    return Unpickler(file).load()\r\n  File \"/usr/local/lib/python2.7/site-packages/zodbpickle/pickle_2.py\", line 881, in load\r\n    dispatch[key](self)\r\n  File \"/usr/local/lib/python2.7/site-packages/zodbpickle/pickle_2.py\", line 1142, in load_global\r\n    klass = self.find_class(module, name)\r\n  File \"/usr/local/lib/python2.7/site-packages/zodbpickle/pickle_2.py\", line 1176, in find_class\r\n    __import__(module)\r\nImportError: No module named pythainlp.tokenize.multi_cut\r\n```\r\n\r\nAs suggested, I have added `pythainlp` with `pip install pythainlp -U`, but then I get\r\n\r\n```sh\r\n[nltk_data] Downloading package wordnet to\r\n[nltk_data]     /Users/loretoparisi/nltk_data...\r\n[nltk_data]   Unzipping corpora/wordnet.zip.\r\n[nltk_data] Downloading package omw to\r\n[nltk_data]     /Users/loretoparisi/nltk_data...\r\n[nltk_data]   Unzipping corpora/omw.zip.\r\nTraceback (most recent call last):\r\n  File \"dictionary.py\", line 13, in <module>\r\n    w2w = Word2word(codes[0], codes[1], dict_path=dict_path)\r\n  File \"/word2word/word2word/word2word.py\", line 12, in __init__\r\n    self.word2x, self.y2word, self.x2ys = download_or_load(lang1, lang2, dict_path)\r\n  File \"/word2word/word2word/utils.py\", line 52, in download_or_load\r\n    word2x, y2word, x2ys = pickle.load(open(fpath, 'rb'))\r\n  File \"/usr/local/lib/python2.7/site-packages/zodbpickle/pickle_2.py\", line 1525, in load\r\n    return Unpickler(file).load()\r\n  File \"/usr/local/lib/python2.7/site-packages/zodbpickle/pickle_2.py\", line 881, in load\r\n    dispatch[key](self)\r\n  File \"/usr/local/lib/python2.7/site-packages/zodbpickle/pickle_2.py\", line 1142, in load_global\r\n    klass = self.find_class(module, name)\r\n  File \"/usr/local/lib/python2.7/site-packages/zodbpickle/pickle_2.py\", line 1176, in find_class\r\n    __import__(module)\r\nImportError: No module named multi_cut\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/42", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/42/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/42/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/42/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/42", "id": 392139851, "node_id": "MDU6SXNzdWUzOTIxMzk4NTE=", "number": 42, "title": "slowpickle.py assigns wrong unpickler", "user": {"login": "agroszer", "id": 350912, "node_id": "MDQ6VXNlcjM1MDkxMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/350912?v=4", "gravatar_id": "", "url": "https://api.github.com/users/agroszer", "html_url": "https://github.com/agroszer", "followers_url": "https://api.github.com/users/agroszer/followers", "following_url": "https://api.github.com/users/agroszer/following{/other_user}", "gists_url": "https://api.github.com/users/agroszer/gists{/gist_id}", "starred_url": "https://api.github.com/users/agroszer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/agroszer/subscriptions", "organizations_url": "https://api.github.com/users/agroszer/orgs", "repos_url": "https://api.github.com/users/agroszer/repos", "events_url": "https://api.github.com/users/agroszer/events{/privacy}", "received_events_url": "https://api.github.com/users/agroszer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-12-18T12:43:38Z", "updated_at": "2018-12-18T14:09:49Z", "closed_at": "2018-12-18T14:09:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "oops:\r\n\r\n```\r\n p.Pickler, p.Unpickler = p._Pickler, p._Pickler\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/38", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/38/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/38/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/38/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/38", "id": 327043748, "node_id": "MDU6SXNzdWUzMjcwNDM3NDg=", "number": 38, "title": "What's the reason behind `zodbpickle.binary`?", "user": {"login": "icemac", "id": 386619, "node_id": "MDQ6VXNlcjM4NjYxOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/386619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icemac", "html_url": "https://github.com/icemac", "followers_url": "https://api.github.com/users/icemac/followers", "following_url": "https://api.github.com/users/icemac/following{/other_user}", "gists_url": "https://api.github.com/users/icemac/gists{/gist_id}", "starred_url": "https://api.github.com/users/icemac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icemac/subscriptions", "organizations_url": "https://api.github.com/users/icemac/orgs", "repos_url": "https://api.github.com/users/icemac/repos", "events_url": "https://api.github.com/users/icemac/events{/privacy}", "received_events_url": "https://api.github.com/users/icemac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 28470442, "node_id": "MDU6TGFiZWwyODQ3MDQ0Mg==", "url": "https://api.github.com/repos/zopefoundation/zodbpickle/labels/question", "name": "question", "color": "cc317c", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2018-05-28T14:24:51Z", "updated_at": "2018-05-28T15:01:20Z", "closed_at": "2018-05-28T15:01:20Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "The code says it is there for converting binary data to Python 3. I tried it and failed:\r\n\r\n**Python 2.7:**\r\n\r\n```python\r\n>>> import pickle, pickletools, zodbpickle\r\n>>> pickle.dumps(zodbpickle.binary('a'))\r\n\"ccopy_reg\\n_reconstructor\\np0\\n(czodbpickle\\nbinary\\np1\\nc__builtin__\\nstr\\np2\\nS'a'\\np3\\ntp4\\nRp5\\n.\"\r\n>>> pickletools.dis(pickle.dumps(zodbpickle.binary('a')))\r\n    0: c    GLOBAL     'copy_reg _reconstructor'\r\n   25: p    PUT        0\r\n   28: (    MARK\r\n   29: c        GLOBAL     'zodbpickle binary'\r\n   48: p        PUT        1\r\n   51: c        GLOBAL     '__builtin__ str'\r\n   68: p        PUT        2\r\n   71: S        STRING     'a'\r\n   76: p        PUT        3\r\n   79: t        TUPLE      (MARK at 28)\r\n   80: p    PUT        4\r\n   83: R    REDUCE\r\n   84: p    PUT        5\r\n   87: .    STOP\r\nhighest protocol among opcodes = 0\r\n```\r\n\r\nTrying to read this pickle on **Python 3** failed:\r\n\r\n```python\r\n>>> import pickle, pickletools, zodbpickle\r\n>>> pickle.loads(b\"ccopy_reg\\n_reconstructor\\np0\\n(czodbpickle\\nbinary\\np1\\nc__builtin__\\nstr\\np2\\nS'a'\\np3\\ntp4\\nRp5\\n.\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/opt/local/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/copyreg.py\", line 45, in _reconstructor\r\n    obj = base.__new__(cls, state)\r\nTypeError: str.__new__(bytes): bytes is not a subtype of str\r\nstr.__new__(bytes): bytes is not a subtype of str\r\n```\r\n\r\nThe reason seems to be that the base class`str` from Python 2 is still `str` (see the `dis` in Python 3):\r\n\r\n```python\r\n>>> pickletools.dis(b\"ccopy_reg\\n_reconstructor\\np0\\n(czodbpickle\\nbinary\\np1\\nc__builtin__\\nstr\\np2\\nS'a'\\np3\\ntp4\\nRp5\\n.\")\r\n    0: c    GLOBAL     'copy_reg _reconstructor'\r\n   25: p    PUT        0\r\n   28: (    MARK\r\n   29: c        GLOBAL     'zodbpickle binary'\r\n   48: p        PUT        1\r\n   51: c        GLOBAL     '__builtin__ str'\r\n   68: p        PUT        2\r\n   71: S        STRING     'a'\r\n   76: p        PUT        3\r\n   79: t        TUPLE      (MARK at 28)\r\n   80: p    PUT        4\r\n   83: R    REDUCE\r\n   84: p    PUT        5\r\n   87: .    STOP\r\nhighest protocol among opcodes = 0\r\n```\r\n\r\nIt gets even worse when trying to unpickle a non-ASCII Python 2 string:\r\n\r\n```python\r\n>>> pickle.dumps(zodbpickle.binary('\u00e4'))\r\n\"ccopy_reg\\n_reconstructor\\np0\\n(czodbpickle\\nbinary\\np1\\nc__builtin__\\nstr\\np2\\nS'\\\\xc3\\\\xa4'\\np3\\ntp4\\nRp5\\n.\"\r\n```\r\n\r\nTrying to read it in Python 3 results in:\r\n\r\n```python\r\n>>> pickle.loads(b\"ccopy_reg\\n_reconstructor\\np0\\n(czodbpickle\\nbinary\\np1\\nc__builtin__\\nstr\\np2\\nS'\\\\xc3\\\\xa4'\\np3\\ntp4\\nRp5\\n.\")\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0: ordinal not in range(128)\r\n'ascii' codec can't decode byte 0xc3 in position 0: ordinal not in range(128)\r\n```\r\n\r\nWhat am I doing wrong? Which pice of the puzzle am I missing?\r\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/36", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/36/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/36/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/36/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/36", "id": 323205093, "node_id": "MDU6SXNzdWUzMjMyMDUwOTM=", "number": 36, "title": "_pickle_27.c leaks memory for load_[short_]binbytes", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2018-05-15T12:55:07Z", "updated_at": "2018-05-16T13:30:43Z", "closed_at": "2018-05-16T13:30:43Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "See zopefoundation/ZODB#203", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/32", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/32/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/32/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/32/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/32", "id": 295777344, "node_id": "MDU6SXNzdWUyOTU3NzczNDQ=", "number": 32, "title": "Create more wheels", "user": {"login": "icemac", "id": 386619, "node_id": "MDQ6VXNlcjM4NjYxOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/386619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icemac", "html_url": "https://github.com/icemac", "followers_url": "https://api.github.com/users/icemac/followers", "following_url": "https://api.github.com/users/icemac/following{/other_user}", "gists_url": "https://api.github.com/users/icemac/gists{/gist_id}", "starred_url": "https://api.github.com/users/icemac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icemac/subscriptions", "organizations_url": "https://api.github.com/users/icemac/orgs", "repos_url": "https://api.github.com/users/icemac/repos", "events_url": "https://api.github.com/users/icemac/events{/privacy}", "received_events_url": "https://api.github.com/users/icemac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 832048059, "node_id": "MDU6TGFiZWw4MzIwNDgwNTk=", "url": "https://api.github.com/repos/zopefoundation/zodbpickle/labels/help%20wanted", "name": "help wanted", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 5, "created_at": "2018-02-09T07:23:22Z", "updated_at": "2018-02-19T07:13:11Z", "closed_at": "2018-02-19T07:13:11Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently there is only ~~an sdist~~ the sdist and win wheels on PyPI. Having more wheels there would be nice.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/31", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/31/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/31/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/31/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/31", "id": 295776366, "node_id": "MDU6SXNzdWUyOTU3NzYzNjY=", "number": 31, "title": "Add coverage tests", "user": {"login": "icemac", "id": 386619, "node_id": "MDQ6VXNlcjM4NjYxOQ==", "avatar_url": "https://avatars1.githubusercontent.com/u/386619?v=4", "gravatar_id": "", "url": "https://api.github.com/users/icemac", "html_url": "https://github.com/icemac", "followers_url": "https://api.github.com/users/icemac/followers", "following_url": "https://api.github.com/users/icemac/following{/other_user}", "gists_url": "https://api.github.com/users/icemac/gists{/gist_id}", "starred_url": "https://api.github.com/users/icemac/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/icemac/subscriptions", "organizations_url": "https://api.github.com/users/icemac/orgs", "repos_url": "https://api.github.com/users/icemac/repos", "events_url": "https://api.github.com/users/icemac/events{/privacy}", "received_events_url": "https://api.github.com/users/icemac/received_events", "type": "User", "site_admin": false}, "labels": [{"id": 832048059, "node_id": "MDU6TGFiZWw4MzIwNDgwNTk=", "url": "https://api.github.com/repos/zopefoundation/zodbpickle/labels/help%20wanted", "name": "help wanted", "color": "0e8a16", "default": true, "description": null}], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2018-02-09T07:18:20Z", "updated_at": "2018-02-19T07:21:19Z", "closed_at": "2018-02-19T07:21:19Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Currently there is the ability via `tox.ini` to test for coverage but it uses `nosetests` and is currently broken. Additionally coveralls.io should be activated for this package.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/27", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/27/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/27/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/27/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/27", "id": 259473347, "node_id": "MDU6SXNzdWUyNTk0NzMzNDc=", "number": 27, "title": "Release 0.7.0 to PyPI", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-21T12:07:31Z", "updated_at": "2017-09-22T07:32:25Z", "closed_at": "2017-09-22T07:32:25Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Although I'd like to get #25 merged before that.", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/24", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/24/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/24/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/24/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/24", "id": 259469298, "node_id": "MDU6SXNzdWUyNTk0NjkyOTg=", "number": 24, "title": "Add Python 3.6 support", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-21T11:50:54Z", "updated_at": "2017-09-22T06:54:09Z", "closed_at": "2017-09-22T06:54:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "~~Also drop Python 3.2~~ (Python 3.2 already dropped in master, just nor released.)", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/23", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/23/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/23/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/23/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/23", "id": 259468688, "node_id": "MDU6SXNzdWUyNTk0Njg2ODg=", "number": 23, "title": "Set up Appveyor to build and upload Windows wheels to PyPI", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2017-09-21T11:48:20Z", "updated_at": "2017-09-22T13:05:46Z", "closed_at": "2017-09-21T12:06:09Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Checklist from https://github.com/zopefoundation/zope.proxy/issues/24:\r\n\r\n- [x] a copy of appveyor.yml from zope.interface or similar\r\n- [x] someone with an Appveyor account (e.g. me) to enable this project\r\n- [x] encrypted PyPI upload credentials in the appveyor.yml (no change required from the copy in zope.interface if I'm the one who enables the Appveyor account)\r\n- [x] grant **zope.wheelbuilder** PyPI rights\r\n- [x] push the appveyor.yml commit to master\r\n- [x] (optionally) ~~a push of a temporary branch that builds and uploads zodbpickle 0.6.0 wheels~~ nah, let's get 0.7.0 out the door instead", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/22", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/22/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/22/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/22/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/22", "id": 212976082, "node_id": "MDU6SXNzdWUyMTI5NzYwODI=", "number": 22, "title": "Install only files suitable for the version of Python the package is being installed for", "user": {"login": "piotr-dobrogost", "id": 92239, "node_id": "MDQ6VXNlcjkyMjM5", "avatar_url": "https://avatars2.githubusercontent.com/u/92239?v=4", "gravatar_id": "", "url": "https://api.github.com/users/piotr-dobrogost", "html_url": "https://github.com/piotr-dobrogost", "followers_url": "https://api.github.com/users/piotr-dobrogost/followers", "following_url": "https://api.github.com/users/piotr-dobrogost/following{/other_user}", "gists_url": "https://api.github.com/users/piotr-dobrogost/gists{/gist_id}", "starred_url": "https://api.github.com/users/piotr-dobrogost/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/piotr-dobrogost/subscriptions", "organizations_url": "https://api.github.com/users/piotr-dobrogost/orgs", "repos_url": "https://api.github.com/users/piotr-dobrogost/repos", "events_url": "https://api.github.com/users/piotr-dobrogost/events{/privacy}", "received_events_url": "https://api.github.com/users/piotr-dobrogost/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2017-03-09T09:12:24Z", "updated_at": "2017-03-10T09:03:13Z", "closed_at": "2017-03-10T09:03:12Z", "author_association": "NONE", "active_lock_reason": null, "body": "Package contains source files meant only for Python 3 and not valid on Python 2 like pickle_3.py for example. It would nice if files meant for specific version of Python would only be installed.\r\n\r\nBelow is the error one gets when building RPM containing zodbpickle.\r\n\r\n```\r\nCompiling /.../env/lib/python2.7/site-packages/zodbpickle/pickle_3.py ...\r\n  File \"/.../env/lib/python2.7/site-packages/zodbpickle/pickle_3.py\", line 178\r\n    def __init__(self, file, protocol=None, *, fix_imports=True):\r\n                                             ^\r\nSyntaxError: invalid syntax\r\n```", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/17", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/17/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/17/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/17/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/17", "id": 80402975, "node_id": "MDU6SXNzdWU4MDQwMjk3NQ==", "number": 17, "title": "Build warnings: conversion from 'Py_ssize_t' to 'int', possible loss of data", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 2, "created_at": "2015-05-25T05:43:32Z", "updated_at": "2017-09-21T12:04:07Z", "closed_at": "2017-09-21T12:04:07Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Here are some excerpts from the [build log](http://winbot.zope.org/builders/wineggbuilder/builds/67593/steps/release%20eggs/logs/stdio):\n\n```\nC:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\BIN\\x86_amd64\\cl.exe /c /nologo /Ox /MD /W3 /GS- /DNDEBUG -Ic:\\Python26_64\\include -Ic:\\Python26_64\\PC /Tcsrc/zodbpickle/_pickle_27.c /Fobuild\\temp.win-amd64-2.6\\Release\\src/zodbpickle/_pickle_27.obj\n_pickle_27.c\nsrc/zodbpickle/_pickle_27.c(846) : warning C4244: 'function' : conversion from 'Py_ssize_t' to 'long', possible loss of data\nsrc/zodbpickle/_pickle_27.c(883) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'char', possible loss of data\nsrc/zodbpickle/_pickle_27.c(1107) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(1164) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(1166) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(1370) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(1381) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(1685) : warning C4244: 'function' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(1710) : warning C4244: 'function' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(2231) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(2232) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(2331) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(2332) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(4097) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(4586) : warning C4244: 'return' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(4607) : warning C4244: 'return' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(4632) : warning C4244: 'function' : conversion from 'Py_ssize_t' to 'long', possible loss of data\nsrc/zodbpickle/_pickle_27.c(4636) : warning C4244: 'return' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(4659) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(4662) : warning C4244: 'return' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(4739) : warning C4244: 'return' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(4745) : warning C4244: 'return' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(4913) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_27.c(5375) : warning C4244: 'return' : conversion from 'Py_ssize_t' to 'int', possible loss of data\n```\n\nand also on Python 3.2:\n\n```\nC:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\BIN\\x86_amd64\\cl.exe /c /nologo /Ox /MD /W3 /GS- /DNDEBUG -Ic:\\Python32_64\\include -Ic:\\Python32_64\\PC /Tcsrc/zodbpickle/_pickle_32.c /Fobuild\\temp.win-amd64-3.2\\Release\\src/zodbpickle/_pickle_32.obj\n_pickle_32.c\nsrc/zodbpickle/_pickle_32.c(5502) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\nsrc/zodbpickle/_pickle_32.c(5513) : warning C4244: '=' : conversion from 'Py_ssize_t' to 'int', possible loss of data\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/16", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/16/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/16/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/16/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/16", "id": 80402014, "node_id": "MDU6SXNzdWU4MDQwMjAxNA==", "number": 16, "title": "Fails to build on Python 3.2 on Windows: 'stackUnderflow' undefined", "user": {"login": "mgedmin", "id": 159967, "node_id": "MDQ6VXNlcjE1OTk2Nw==", "avatar_url": "https://avatars3.githubusercontent.com/u/159967?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mgedmin", "html_url": "https://github.com/mgedmin", "followers_url": "https://api.github.com/users/mgedmin/followers", "following_url": "https://api.github.com/users/mgedmin/following{/other_user}", "gists_url": "https://api.github.com/users/mgedmin/gists{/gist_id}", "starred_url": "https://api.github.com/users/mgedmin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mgedmin/subscriptions", "organizations_url": "https://api.github.com/users/mgedmin/orgs", "repos_url": "https://api.github.com/users/mgedmin/repos", "events_url": "https://api.github.com/users/mgedmin/events{/privacy}", "received_events_url": "https://api.github.com/users/mgedmin/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 4, "created_at": "2015-05-25T05:40:18Z", "updated_at": "2017-09-21T11:57:38Z", "closed_at": "2017-09-21T11:57:38Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Here's an excerpt from the [build log](http://winbot.zope.org/builders/wineggbuilder/builds/67593/steps/release%20eggs/logs/stdio):\n\n```\nbuilding 'zodbpickle._pickle' extension\ncreating build\\temp.win32-3.2\ncreating build\\temp.win32-3.2\\Release\ncreating build\\temp.win32-3.2\\Release\\src\ncreating build\\temp.win32-3.2\\Release\\src\\zodbpickle\nC:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\BIN\\cl.exe /c /nologo /Ox /MD /W3 /GS- /DNDEBUG -Ic:\\Python32_32\\include -Ic:\\Python32_32\\PC /Tcsrc/zodbpickle/_pickle_32.c /Fobuild\\temp.win32-3.2\\Release\\src/zodbpickle/_pickle_32.obj\n_pickle_32.c\nsrc/zodbpickle/_pickle_32.c(5618) : warning C4013: 'stackUnderflow' undefined; assuming extern returning int\ncreating build\\lib.win32-3.2\ncreating build\\lib.win32-3.2\\zodbpickle\nC:\\Program Files (x86)\\Microsoft Visual Studio 9.0\\VC\\BIN\\link.exe /DLL /nologo /INCREMENTAL:NO /LIBPATH:c:\\Python32_32\\libs /LIBPATH:c:\\Python32_32\\PCbuild /EXPORT:PyInit__pickle build\\temp.win32-3.2\\Release\\src/zodbpickle/_pickle_32.obj /OUT:build\\lib.win32-3.2\\zodbpickle\\_pickle.pyd /IMPLIB:build\\temp.win32-3.2\\Release\\src/zodbpickle\\_pickle.lib /MANIFESTFILE:build\\temp.win32-3.2\\Release\\src/zodbpickle\\_pickle.pyd.manifest\n   Creating library build\\temp.win32-3.2\\Release\\src/zodbpickle\\_pickle.lib and object build\\temp.win32-3.2\\Release\\src/zodbpickle\\_pickle.exp\n_pickle_32.obj : error LNK2019: unresolved external symbol _stackUnderflow referenced in function _do_noload_setitems\nbuild\\lib.win32-3.2\\zodbpickle\\_pickle.pyd : fatal error LNK1120: 1 unresolved externals\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/10", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/10/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/10/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/10/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/10", "id": 42141275, "node_id": "MDU6SXNzdWU0MjE0MTI3NQ==", "number": 10, "title": "Support pypy", "user": {"login": "domenkozar", "id": 126339, "node_id": "MDQ6VXNlcjEyNjMzOQ==", "avatar_url": "https://avatars2.githubusercontent.com/u/126339?v=4", "gravatar_id": "", "url": "https://api.github.com/users/domenkozar", "html_url": "https://github.com/domenkozar", "followers_url": "https://api.github.com/users/domenkozar/followers", "following_url": "https://api.github.com/users/domenkozar/following{/other_user}", "gists_url": "https://api.github.com/users/domenkozar/gists{/gist_id}", "starred_url": "https://api.github.com/users/domenkozar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/domenkozar/subscriptions", "organizations_url": "https://api.github.com/users/domenkozar/orgs", "repos_url": "https://api.github.com/users/domenkozar/repos", "events_url": "https://api.github.com/users/domenkozar/events{/privacy}", "received_events_url": "https://api.github.com/users/domenkozar/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-09-07T12:36:43Z", "updated_at": "2015-03-31T18:43:23Z", "closed_at": "2015-03-31T18:43:23Z", "author_association": "NONE", "active_lock_reason": null, "body": "```\nrunning build_ext\nbuilding 'zodbpickle._pickle' extension\ncreating build/temp.linuxx86_64-2.7\ncreating build/temp.linux-x86_64-2.7/src\ncreating build/temp.linux-x86_64-2.7/src/zodbpickle\ncc -O2 -fPIC -Wimplicit -I/nix/store/p4rfgk7an0x6vb04v48vzb4r0z3b84cw-pypy-2.3.1/pypy-c/include -c src/zodbpickle/_pickle_27.c -o build/temp.linux-x86_64-2.7/src/zodbpickle/_pickle_27.o\nsrc/zodbpickle/_pickle_27.c:2:23: fatal error: cStringIO.h: No such file or directory\n #include \"cStringIO.h\"\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/9", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/9/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/9/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/9/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/9", "id": 26683346, "node_id": "MDU6SXNzdWUyNjY4MzM0Ng==", "number": 9, "title": "`noload` broken for ZODB multi-database references", "user": {"login": "jamadden", "id": 1256082, "node_id": "MDQ6VXNlcjEyNTYwODI=", "avatar_url": "https://avatars3.githubusercontent.com/u/1256082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jamadden", "html_url": "https://github.com/jamadden", "followers_url": "https://api.github.com/users/jamadden/followers", "following_url": "https://api.github.com/users/jamadden/following{/other_user}", "gists_url": "https://api.github.com/users/jamadden/gists{/gist_id}", "starred_url": "https://api.github.com/users/jamadden/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jamadden/subscriptions", "organizations_url": "https://api.github.com/users/jamadden/orgs", "repos_url": "https://api.github.com/users/jamadden/repos", "events_url": "https://api.github.com/users/jamadden/events{/privacy}", "received_events_url": "https://api.github.com/users/jamadden/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2014-01-31T14:12:57Z", "updated_at": "2015-04-02T13:02:42Z", "closed_at": "2015-04-02T13:02:42Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Over on the zodb-dev mailing list, Jim Fulton and I got into [a discussion about zc.zodbdgc](https://mail.zope.org/pipermail/zodb-dev/2014-January/015165.html) being broken under Python 2.7 with both `cPickle` and `zodbpickle`. \n\nTo summarize the details of that discussion, [it turns out](https://mail.zope.org/pipermail/zodb-dev/2014-January/015168.html) that when `cPickle` in Python 2.7 fixed [issue 1101399](http://bugs.python.org/issue1101399) (dict subclasses and `noload`) in [October 2009](http://hg.python.org/releasing/2.7.6/rev/d0f005e6fadd) it wound up breaking the unpickling of the `list` objects that are used for persistent multi-database references: they are always empty. This in turn breaks zc.zodbdgc (with an `IndexError`) or anything else that wants to look at references using `noload` when multi-databases are involved.\n\nThis same code is in `zodbpickle`, so references are also broken when unpickled using this code.\n\nIt wasn't real clear what the right solution was. Jim said he wanted to think about it, at least as far as `zc.zodbdgc` is concerned. I hoped it would be useful to bring this issue up in this forum too if only to make sure people were aware or could find it easier if they encounter the problem.\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/7", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/7/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/7/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/7/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/7", "id": 18069182, "node_id": "MDU6SXNzdWUxODA2OTE4Mg==", "number": 7, "title": "Breaks ZODB after 0.5.0", "user": {"login": "enkore", "id": 1330164, "node_id": "MDQ6VXNlcjEzMzAxNjQ=", "avatar_url": "https://avatars0.githubusercontent.com/u/1330164?v=4", "gravatar_id": "", "url": "https://api.github.com/users/enkore", "html_url": "https://github.com/enkore", "followers_url": "https://api.github.com/users/enkore/followers", "following_url": "https://api.github.com/users/enkore/following{/other_user}", "gists_url": "https://api.github.com/users/enkore/gists{/gist_id}", "starred_url": "https://api.github.com/users/enkore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/enkore/subscriptions", "organizations_url": "https://api.github.com/users/enkore/orgs", "repos_url": "https://api.github.com/users/enkore/repos", "events_url": "https://api.github.com/users/enkore/events{/privacy}", "received_events_url": "https://api.github.com/users/enkore/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-08-14T18:41:49Z", "updated_at": "2013-08-17T22:01:25Z", "closed_at": "2013-08-17T22:00:42Z", "author_association": "NONE", "active_lock_reason": null, "body": "I noticed today that database packing doesn't seem to work (at least \non Python 3.3)\n\nMinimal example:\n\nfrom ZODB import FileStorage, DB\n\nstorage = FileStorage.FileStorage('/tmp/mystorage.fs') db =\nDB(storage) db.pack() db.close()\n\nExpected: No output / db.pack() should succeed, although there is \nlikely nothing to pack.\n\nDowngrading zodbpickle to 0.5.0 solves this issue (thx Tres Seaver)\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/6", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/6/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/6/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/6/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/6", "id": 18067362, "node_id": "MDU6SXNzdWUxODA2NzM2Mg==", "number": 6, "title": "Tests fail under Py3k", "user": {"login": "tseaver", "id": 242750, "node_id": "MDQ6VXNlcjI0Mjc1MA==", "avatar_url": "https://avatars2.githubusercontent.com/u/242750?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tseaver", "html_url": "https://github.com/tseaver", "followers_url": "https://api.github.com/users/tseaver/followers", "following_url": "https://api.github.com/users/tseaver/following{/other_user}", "gists_url": "https://api.github.com/users/tseaver/gists{/gist_id}", "starred_url": "https://api.github.com/users/tseaver/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tseaver/subscriptions", "organizations_url": "https://api.github.com/users/tseaver/orgs", "repos_url": "https://api.github.com/users/tseaver/repos", "events_url": "https://api.github.com/users/tseaver/events{/privacy}", "received_events_url": "https://api.github.com/users/tseaver/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-08-14T18:08:34Z", "updated_at": "2013-08-17T22:00:13Z", "closed_at": "2013-08-17T22:00:13Z", "author_association": "MEMBER", "active_lock_reason": null, "body": "Tests fail on the trunk which passed with 0.5.0::\n\n```\n$ tox -e py33\n======================================================================\nERROR: test_load_str_protocol_1 (zodbpickle.tests.test_pickle_3.PyPicklerBytestrTests)\nTest str from protocol=1\n----------------------------------------------------------------------\nTraceback (most recent call last):\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/pickletester_3.py\", line 1280, in test_load_str_protocol_1\n    b'bytestring \\x00\\xa0')\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/pickletester_3.py\", line 1265, in unpickleEqual\n    loaded = self.loads(data, encoding=\"bytes\")\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/test_pickle_3.py\", line 44, in loads\n    return u.load()\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/pickle_3.py\", line 844, in load\n    dispatch[key[0]](self)\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/pickle_3.py\", line 1033, in load_short_binstring\n    value = str(data, self.encoding, self.errors)\nLookupError: unknown encoding: bytes\n\n======================================================================\nERROR: test_load_str_protocol_2 (zodbpickle.tests.test_pickle_3.PyPicklerBytestrTests)\nTest str from protocol=2\n----------------------------------------------------------------------\nTraceback (most recent call last):\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/pickletester_3.py\", line 1287, in test_load_str_protocol_2\n    b'bytestring \\x00\\xa0')\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/pickletester_3.py\", line 1265, in unpickleEqual\n    loaded = self.loads(data, encoding=\"bytes\")\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/test_pickle_3.py\", line 44, in loads\n    return u.load()\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/pickle_3.py\", line 844, in load\n    dispatch[key[0]](self)\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/pickle_3.py\", line 1033, in load_short_binstring\n    value = str(data, self.encoding, self.errors)\nLookupError: unknown encoding: bytes\n\n======================================================================\nERROR: test_pop_empty_stack (zodbpickle.tests.test_pickle_3.CPicklerTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/pickletester_3.py\", line 741, in test_pop_empty_stack\n    self.assertRaises((pickle.UnpicklingError, IndexError), self.loads, s)\nFile \"/opt/Python-3.3.1/lib/python3.3/unittest/case.py\", line 571, in assertRaises\n    return context.handle('assertRaises', callableObj, args, kwargs)\nFile \"/opt/Python-3.3.1/lib/python3.3/unittest/case.py\", line 135, in handle\n    callable_obj(*args, **kwargs)\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/test_pickle_3.py\", line 44, in loads\n    return u.load()\n_pickle.UnpicklingError: unpickling stack underflow\n\n======================================================================\nERROR: test_reduce_bad_iterator (zodbpickle.tests.test_pickle_3.CPicklerTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/pickletester_3.py\", line 1127, in test_reduce_bad_iterator\n    self.dumps(C(), proto)\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/test_pickle_3.py\", line 37, in dumps\n    p.dump(arg)\n_pickle.PicklingError: fourth element of the tuple returned by __reduce__ must be an iterator, not list\n\n======================================================================\nERROR: test_reduce_bad_iterator (zodbpickle.tests.test_pickle_3.CDumpPickle_LoadPickle)\n----------------------------------------------------------------------\nTraceback (most recent call last):\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/pickletester_3.py\", line 1127, in test_reduce_bad_iterator\n    self.dumps(C(), proto)\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/test_pickle_3.py\", line 37, in dumps\n    p.dump(arg)\n_pickle.PicklingError: fourth element of the tuple returned by __reduce__ must be an iterator, not list\n\n======================================================================\nERROR: test_pop_empty_stack (zodbpickle.tests.test_pickle_3.DumpPickle_CLoadPickle)\n----------------------------------------------------------------------\nTraceback (most recent call last):\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/pickletester_3.py\", line 741, in test_pop_empty_stack\n    self.assertRaises((pickle.UnpicklingError, IndexError), self.loads, s)\nFile \"/opt/Python-3.3.1/lib/python3.3/unittest/case.py\", line 571, in assertRaises\n    return context.handle('assertRaises', callableObj, args, kwargs)\nFile \"/opt/Python-3.3.1/lib/python3.3/unittest/case.py\", line 135, in handle\n    callable_obj(*args, **kwargs)\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/test_pickle_3.py\", line 44, in loads\n    return u.load()\n_pickle.UnpicklingError: unpickling stack underflow\n\n======================================================================\nERROR: test_insecure_strings (zodbpickle.tests.test_pickle_3.InMemoryPickleTests)\n----------------------------------------------------------------------\nTraceback (most recent call last):\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/pickletester_3.py\", line 645, in test_insecure_strings\n    self.assertRaises(ValueError, self.loads, buf)\nFile \"/opt/Python-3.3.1/lib/python3.3/unittest/case.py\", line 571, in assertRaises\n    return context.handle('assertRaises', callableObj, args, kwargs)\nFile \"/opt/Python-3.3.1/lib/python3.3/unittest/case.py\", line 135, in handle\n    callable_obj(*args, **kwargs)\nFile \"/home/tseaver/projects/Zope/ZODB/zodbpickle/src/zodbpickle/tests/test_pickle_3.py\", line 64, in loads\n    return pickle.loads(buf, **kwds)\n_pickle.UnpicklingError: pickle data was truncated\n\n----------------------------------------------------------------------\nRan 393 tests in 1.835s\n\nFAILED (errors=7, skipped=20)\n```\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/5", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/5/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/5/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/5/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/5", "id": 16828527, "node_id": "MDU6SXNzdWUxNjgyODUyNw==", "number": 5, "title": "make a 0.5.1 tag", "user": {"login": "ctismer", "id": 1782825, "node_id": "MDQ6VXNlcjE3ODI4MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1782825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ctismer", "html_url": "https://github.com/ctismer", "followers_url": "https://api.github.com/users/ctismer/followers", "following_url": "https://api.github.com/users/ctismer/following{/other_user}", "gists_url": "https://api.github.com/users/ctismer/gists{/gist_id}", "starred_url": "https://api.github.com/users/ctismer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ctismer/subscriptions", "organizations_url": "https://api.github.com/users/ctismer/orgs", "repos_url": "https://api.github.com/users/ctismer/repos", "events_url": "https://api.github.com/users/ctismer/events{/privacy}", "received_events_url": "https://api.github.com/users/ctismer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 1, "created_at": "2013-07-16T19:27:40Z", "updated_at": "2013-07-17T12:46:49Z", "closed_at": "2013-07-17T12:46:49Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi Stefan,\n\nthanks a lot that you merged my work!\n\nNow there is a little bit missing:\nFor some reason, the 0.5.1 tag was not merget from the clone.\nAll files there, but the tag is still 0.5.0.\n\nI would like to push it on PyPI, but for that I need a new tag.\n\nCan you please add a new tag, like 0.5.1 ?\n\nThanks & cheers -- chris\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/3", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/3/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/3/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/3/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/3", "id": 16290224, "node_id": "MDU6SXNzdWUxNjI5MDIyNA==", "number": 3, "title": "zodbpickle completeness", "user": {"login": "ctismer", "id": 1782825, "node_id": "MDQ6VXNlcjE3ODI4MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/1782825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ctismer", "html_url": "https://github.com/ctismer", "followers_url": "https://api.github.com/users/ctismer/followers", "following_url": "https://api.github.com/users/ctismer/following{/other_user}", "gists_url": "https://api.github.com/users/ctismer/gists{/gist_id}", "starred_url": "https://api.github.com/users/ctismer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ctismer/subscriptions", "organizations_url": "https://api.github.com/users/ctismer/orgs", "repos_url": "https://api.github.com/users/ctismer/repos", "events_url": "https://api.github.com/users/ctismer/events{/privacy}", "received_events_url": "https://api.github.com/users/ctismer/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 0, "created_at": "2013-07-02T21:49:48Z", "updated_at": "2013-07-09T15:53:25Z", "closed_at": "2013-07-09T15:53:25Z", "author_association": "CONTRIBUTOR", "active_lock_reason": null, "body": "Hi Tres et al,\n\nI appreciate the creation of zodbpickle very much, because that is a really working\nsolution for pickling compatibility.\n\nWhat I do not understand:\n\nWhy does zodbpickle not try to be complete:\n\nPython 3's pickle defines a DEFAULT_PROTOCOL module global,\nwhich zodbpickle.pickle does not have.\nIs there any good reason to not defining these standard things?\nMaybe intentionally, to be a common denominator, or is it just forgotten?\n\nMany thanks, anyway, this saved me a couple of days ;-)\n\ncheers - chris\n", "performed_via_github_app": null, "score": 1.0}, {"url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/2", "repository_url": "https://api.github.com/repos/zopefoundation/zodbpickle", "labels_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/2/labels{/name}", "comments_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/2/comments", "events_url": "https://api.github.com/repos/zopefoundation/zodbpickle/issues/2/events", "html_url": "https://github.com/zopefoundation/zodbpickle/issues/2", "id": 15816406, "node_id": "MDU6SXNzdWUxNTgxNjQwNg==", "number": 2, "title": "DOC: Pickle is Unsafe", "user": {"login": "westurner", "id": 50891, "node_id": "MDQ6VXNlcjUwODkx", "avatar_url": "https://avatars2.githubusercontent.com/u/50891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/westurner", "html_url": "https://github.com/westurner", "followers_url": "https://api.github.com/users/westurner/followers", "following_url": "https://api.github.com/users/westurner/following{/other_user}", "gists_url": "https://api.github.com/users/westurner/gists{/gist_id}", "starred_url": "https://api.github.com/users/westurner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/westurner/subscriptions", "organizations_url": "https://api.github.com/users/westurner/orgs", "repos_url": "https://api.github.com/users/westurner/repos", "events_url": "https://api.github.com/users/westurner/events{/privacy}", "received_events_url": "https://api.github.com/users/westurner/received_events", "type": "User", "site_admin": false}, "labels": [], "state": "closed", "locked": false, "assignee": null, "assignees": [], "milestone": null, "comments": 3, "created_at": "2013-06-20T18:48:32Z", "updated_at": "2017-12-21T12:36:24Z", "closed_at": "2017-12-21T12:36:24Z", "author_association": "NONE", "active_lock_reason": null, "body": "From http://docs.python.org/2/library/pickle.html#pickle-python-object-serialization\n\n> **Warning** The pickle module is not intended to be secure against erroneous or maliciously constructed data. Never unpickle data received from an untrusted or unauthenticated source.\n\nUpon unserialization (`.loads`, `.load`), Python Pickles may execute arbitrary code.\n\nBecause of the **warning** in the Python documentation, this functionality of Pickle is not an:\n- [CWE 829: Inclusion of Functionality from Untrusted Control Sphere](http://cwe.mitre.org/data/definitions/829.html)\n- [CWE 913: Improper Control of Dynamically-Managed Code Resources](http://cwe.mitre.org/data/definitions/913.html)\n\nReferences:\n- https://github.com/pydata/pandas/pull/3297#issuecomment-17101246\n- https://github.com/pydata/pandas/pull/3297#issuecomment-17195352 \n- https://www.google.com/search?q=python+json+pickle+unsafe\n- https://github.com/mitsuhiko/werkzeug/issues/30\n", "performed_via_github_app": null, "score": 1.0}]}