[{"sha": "302bc8e6349cdfd723abb558dd5a330052ccffdd", "node_id": "MDY6Q29tbWl0MTg0NDYwOjMwMmJjOGU2MzQ5Y2RmZDcyM2FiYjU1OGRkNWEzMzAwNTJjY2ZmZGQ=", "commit": {"author": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-08-19T17:25:54Z"}, "committer": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-08-19T17:25:54Z"}, "message": "Bump version: 5.0.0a2 \u2192 5.0.0b1", "tree": {"sha": "4d291b32f8a6272088cd3917e6a0e06e77c04942", "url": "https://api.github.com/repos/celery/celery/git/trees/4d291b32f8a6272088cd3917e6a0e06e77c04942"}, "url": "https://api.github.com/repos/celery/celery/git/commits/302bc8e6349cdfd723abb558dd5a330052ccffdd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/302bc8e6349cdfd723abb558dd5a330052ccffdd", "html_url": "https://github.com/celery/celery/commit/302bc8e6349cdfd723abb558dd5a330052ccffdd", "comments_url": "https://api.github.com/repos/celery/celery/commits/302bc8e6349cdfd723abb558dd5a330052ccffdd/comments", "author": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "01651d2f5d9ad20dfb9812d92831510147974b23", "url": "https://api.github.com/repos/celery/celery/commits/01651d2f5d9ad20dfb9812d92831510147974b23", "html_url": "https://github.com/celery/celery/commit/01651d2f5d9ad20dfb9812d92831510147974b23"}]}, {"sha": "01651d2f5d9ad20dfb9812d92831510147974b23", "node_id": "MDY6Q29tbWl0MTg0NDYwOjAxNjUxZDJmNWQ5YWQyMGRmYjk4MTJkOTI4MzE1MTAxNDc5NzRiMjM=", "commit": {"author": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-08-19T17:19:45Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-19T17:19:45Z"}, "message": "Refactor CLI to use Click instead of our custom argparse based framework (#5718)\n\n* 'abstractproperty' is deprecated. Use 'property' with 'abstractmethod' instead\r\n\r\n* Fix #2849 - Initial work of celery 5.0.0 alpha1 series by dropping python below 3.6 from marix & remove import from __future__ (#5684)\r\n\r\n* initial work of celery 5.0.0 alpha-1 series by dropping python below 3.6\r\n\r\n* i-5651(ut): add ut for ResultSet.join_native (#5679)\r\n\r\n* dropped python versions below 3.6 from tox\r\n\r\n* dropped python versions below 3.6 from travis\r\n\r\n* dropped python versions below 3.6 from appveyor\r\n\r\n* dropped python2 compat __future__ imports from tests\r\n\r\n* Fixed a bug where canvases with a group and tasks in the middle followed by a group fails to complete and indefinitely hangs. (#5681)\r\n\r\nFixes #5512, fixes #5354, fixes #2573.\r\n\r\n* dropped python2 compat __future__ imports from celery\r\n\r\n* dropped python2 compat code from init\r\n\r\n* revert readme change about version\r\n\r\n* removed python 2 object inheritance (#5687)\r\n\r\n* removed python 2 object inheritance\r\n\r\n* removed python 2 object inheritance\r\n\r\n* removed python 2 compatibility decorator (#5689)\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* Remove unused imports.\r\n\r\n* Remove unused imports of python_2_unicode_compatible.\r\n\r\nAlso removed leftover useage of them where they were still used.\r\n\r\n* Run pyupgrade on codebase (#5726)\r\n\r\n* Run pyupgrade on codebase.\r\n\r\n* Use format strings where possible.\r\n\r\n* pyupgrade examples.\r\n\r\n* pyupgrade on celerydocs extension.\r\n\r\n* pyupgrade on updated code.\r\n\r\n* Address code review comments.\r\n\r\n* Address code review comments.\r\n\r\n* Remove unused imports.\r\n\r\n* Fix indentation.\r\n\r\n* Address code review comments.\r\n\r\n* Fix syntax error.\r\n\r\n* Fix syntax error.\r\n\r\n* Fix syntax error.\r\n\r\n* pytest 5.x for celery 5 (#5791)\r\n\r\n* Port latest changes from master to v5-dev (#5942)\r\n\r\n* Fix serialization and deserialization of nested exception classes (#5717)\r\n\r\n* Fix #5597: chain priority (#5759)\r\n\r\n* adding `worker_process_shutdown` to __all__ (#5762)\r\n\r\n* Fix typo (#5769)\r\n\r\n* Reformat code.\r\n\r\n* Simplify commands to looking for celery worker processes (#5778)\r\n\r\n* update doc- celery supports storage list. (#5776)\r\n\r\n* Update introduction.rst\r\n\r\n* Update introduction.rst\r\n\r\n* Fail xfailed tests if the failure is unexpected.\r\n\r\n* Added integration coverage for link_error (#5373)\r\n\r\n* Added coverage for link_error.\r\n\r\n* Use pytest-rerunfailed plugin instead of rolling our own custom implementation.\r\n\r\n* Added link_error with retries. This currently fails.\r\n\r\n* Remove unused import.\r\n\r\n* Fix import on Python 2.7.\r\n\r\n* retries in link_error do not hang the worker anymore.\r\n\r\n* Run error callbacks eagerly when the task itself is run eagerly.\r\n\r\nFixes #4899.\r\n\r\n* Adjust unit tests accordingly.\r\n\r\n* Grammar in documentation (#5780)\r\n\r\n* Grammar in documentation\r\n\r\n* Address review.\r\n\r\n* pypy 7.2 matrix (#5790)\r\n\r\n* removed extra slashes in CELERY_BROKER_URL (#5792)\r\n\r\nThe Celery broker URL in settings.py had 2 slashes in the end which are not required and can be misleading.\r\nso I changed :-\r\nCELERY_BROKER_URL = 'amqp://guest:guest@localhost//' to CELERY_BROKER_URL = 'amqp://guest:guest@localhost'\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work (#5773)\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work\r\n\r\n* Add unit test: test_setting_default_exchange\r\n\r\n* Move default_exchange test to standalone class\r\n\r\n* Run integration suite with memcached results backend. (#5739)\r\n\r\n* Fix hanging forever when fetching results from a group(chain(group)) canvas. (#5744)\r\n\r\nPR #5739 uncovered multiple problems with the cache backend.\r\nThis PR should resolve one of them.\r\n\r\nPR #5638 fixed the same test case for our async results backends that support native join.\r\nHowever, it did not fix the test case for sync results backends that support native join.\r\n\r\n* Fix regression in PR #5681. (#5753)\r\n\r\nSee comment in the diff for details.\r\n\r\n* Grammatical fix to CONTRIBUTING.rst doc (#5794)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs (#5795)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs\r\n\r\n* Add unit test: test_get_connection_with_authmechanism\r\n\r\n* Add unit test: test_get_connection_with_authmechanism_no_username\r\n\r\n* Fix errors in Python 2.7\r\n\r\nRemove \",\" after \"**\" operator\r\n\r\n* Revert \"Revert \"Revert \"Added handle of SIGTERM in BaseTask in celery/task.py to prevent kill the task\" (#5577)\" (#5586)\" (#5797)\r\n\r\nThis reverts commit f79894e0a2c7156fd0ca5e8e3b652b6a46a7e8e7.\r\n\r\n* Add Python 3.8 Support (#5785)\r\n\r\n* Added Python 3.8 to the build matrix.\r\n\r\n* Ensure a supported tblib version is installed for Python 3.8 and above.\r\n\r\nIn addition, modernize the relevant tests.\r\n\r\n* Workaround patching problem in test.\r\n\r\n* py 3.8 in clasifier\r\n\r\n* ubuntu bionic (#5799)\r\n\r\n* ubuntu bionic\r\n\r\n* fast finish\r\n\r\n* sync bumversion with pypi release\r\n\r\n* Dev.req (#5803)\r\n\r\n* update  docker config\r\n\r\n\r\n\r\n* undo hardpin\r\n\r\n* devr req install from github master\r\n\r\n* update  docker config (#5801)\r\n\r\n* update  docker config\r\n\r\n* make dockerfile to install from github master dev branch by default\r\n\r\n* update download link\r\n\r\n* Isort.\r\n\r\n* Grammatical & punctuation fixes for CONTRIBUTING.rst document (#5804)\r\n\r\n* update dockerfile\r\n\r\n* switched to ubuntu bionic\r\n\r\n* update docker\r\n\r\n* keep it empty until we reconfigure it again with autopep8\r\n\r\n* Fixed Dockerfile (#5809)\r\n\r\n* Update document CONTRIBUTING.rst & fix Dockerfile typo (#5813)\r\n\r\n* Added an issue template for minor releases.\r\n\r\n* reference gocelery Go Client/Server for Celery (#5815)\r\n\r\n* Add enterprise language (#5818)\r\n\r\n* Fix/correct minor doc typos (#5825)\r\n\r\n* Correct a small typo\r\n\r\n* Correct bad contributing documentation links\r\n\r\n* Preserve the task priority in case of a retry (#5820)\r\n\r\n* Preserve the task priority in case of a retry\r\n\r\n* Created test case for retried tasks with priority\r\n\r\n* Implement an integration test for retried tasks with priorities\r\n\r\n* bump kombu\r\n\r\n* basic changelog for celery 4.4.0rc4\r\n\r\n* bump celery 4.4.0rc4\r\n\r\n* events bootstep disabled if no events (#5807)\r\n\r\n* events bootstep disabled if no events\r\n\r\n* Added unit tests.\r\n\r\n* update bug report template\r\n\r\n* fixing ascii art to look nicer (#5831)\r\n\r\n* Only rerun flaky tests when failures can be intermediary.\r\n\r\n* Rename Changelog to Changelog.rst\r\n\r\n* The test_nested_group_chain test can run without native_join support. (#5838)\r\n\r\n* Run integration tests with Cassandra (#5834)\r\n\r\n* Run integration tests with Cassandra.\r\n\r\n* Configure cassandra result backend\r\n\r\n* Pre-create keyspace and table\r\n\r\n* Fix deprecation warning.\r\n\r\n* Fix path to cqlsh.\r\n\r\n* Increase connection timeout.\r\n\r\n* Wait until the cluster is available.\r\n\r\n* SQS - Reject on failure (#5843)\r\n\r\n* reject on failure\r\n\r\n* add documentation\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* Add a concurrency model with ThreadPoolExecutor (#5099)\r\n\r\n* Add a concurrency model with ThreadPoolExecutor\r\n\r\n* thread model test for pypy\r\n\r\n* Chain primitive's code example fix in canvas documentation (Regression PR#4444) (#5845)\r\n\r\n* Changed multi-line string (#5846)\r\n\r\nThis string wasn't rendering properly and was printing the python statement too. Although the change isn't as pretty code-wise, it gets rid of an annoyance for the user.\r\n\r\n* Add auto expiry for DynamoDB backend (#5805)\r\n\r\n* Add auto expiry for DynamoDB backend\r\n\r\nThis adds auto-expire support for the DynamoDB backend, via the DynamoDB\r\nTime to Live feature.\r\n\r\n* Require boto3>=1.9.178 for DynamoDB TTL support\r\n\r\nboto3 version 1.9.178 requires botocore>=1.12.178.\r\n\r\nbotocore version 1.12.178 introduces support for the DynamoDB\r\nUpdateTimeToLive call.\r\n\r\nThe UpdateTimeToLive call is used by the DynamoDB backend to enable TTL\r\nsupport on a newly created table.\r\n\r\n* Separate TTL handling from table creation\r\n\r\nHandle TTL enabling/disabling separately from the table get-or-create\r\nfunction.\r\n\r\nImprove handling of cases where the TTL is already set to the desired\r\nstate.\r\n\r\nDynamoDB only allows a single TTL update action within a fairly long\r\ntime window, so some problematic cases (changing the TTL attribute,\r\nenabling/disabling TTL when it was recently modified) will raise\r\nexceptions that have to be dealt with.\r\n\r\n* Handle older boto3 versions\r\n\r\nIf the boto3 TTL methods are not found, log an informative error. If the\r\nuser wants to enable TTL, raise an exception; if TTL should be disabled,\r\nsimply return.\r\n\r\n* Improve logging\r\n\r\n- Handle exceptions by logging the error and re-raising\r\n\r\n- Log (level debug) when the desired TTL state is already in place\r\n\r\n* Add and use _has_ttl() convenience method\r\n\r\nAdditional changes:\r\n\r\n- Handle exceptions when calling boto3's describe_time_to_live()\r\n\r\n- Fix test cases for missing TTL methods\r\n\r\n* Update ttl_seconds documentation\r\n\r\n* Log invalid TTL; catch and raise ValueError\r\n\r\n* Separate method _get_table_ttl_description\r\n\r\n* Separate ttl method validation function\r\n\r\n* Clarify tri-state TTL value\r\n\r\n* Improve test coverage\r\n\r\n* Fix minor typo in comment\r\n\r\n* Mark test as xfail when using the cache backend. (#5851)\r\n\r\n* [Fix #5436] Store extending result in all backends (#5661)\r\n\r\n* [Fix #5436] Store extending result in all backends\r\n\r\n* Fix sqlalchemy\r\n\r\n* More fixu\r\n\r\n* Fixing tests\r\n\r\n* removing not necessary import\r\n\r\n* Removing debug code\r\n\r\n* Removing debug code\r\n\r\n* Add tests for get_result_meta in base and database\r\n\r\n* Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\r\n\r\nThis reverts commit f7f5bcfceca692d0e78c742a7c09c424f53d915b.\r\n\r\n* Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\r\n\r\nThis reverts commit 1b303c2968836245aaa43c3d0ff9249dd8bf9ed2.\r\n\r\n* docs: Document Redis commands used by celery (#5853)\r\n\r\n* remove cache back end integrtion test. (#5856)\r\n\r\n* Fix a race condition when publishing a very large chord header (#5850)\r\n\r\n* Added a test case which artificially introduces a delay to group.save().\r\n\r\n* Fix race condition by delaying the task only after saving the group.\r\n\r\n* update tox\r\n\r\n* Remove duplicate boto dependency. (#5858)\r\n\r\n* Revert \"remove cache back end integrtion test. (#5856)\" (#5859)\r\n\r\nThis reverts commit e0ac7a19a745dd5a52a615c1330bd67f2cef4d00.\r\n\r\n* Revert \"Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\" (#5857)\r\n\r\nThis reverts commit 4ddc605392d7694760f23069c34ede34b3e582c3.\r\n\r\n* Revert \"update tox\"\r\n\r\nThis reverts commit 49427f51049073e38439ea9b3413978784a24999.\r\n\r\n* Fix the test_simple_chord_with_a_delay_in_group_save test.\r\n\r\n* Revert \"Revert \"Skip unsupported canvas when using the cache backend\"\" (#5860)\r\n\r\n* Revert \"Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\"\r\n\r\nThis reverts commit fc101c61c1912c4dafa661981f8b865c011e8a55.\r\n\r\n* Make the xfail condition stricter.\r\n\r\n* Fix the xfail condition.\r\n\r\n* Linters should use Python 3.8.\r\n\r\n* Move pypy unit tests to the correct stage.\r\n\r\n* Temporarily allow PyPy to fail since it is unavailable in Travis.\r\n\r\n* Remove unused variables.\r\n\r\n* Fix unused imports.\r\n\r\n* Fix pydocstyle errors in dynamodb.\r\n\r\n* Fix pydocstyle errors in redis backend.\r\n\r\n* bump kombu to 4.6.7\r\n\r\n* celery 4.4.0rc5 changelog\r\n\r\n* celery 4.4.0rc5\r\n\r\n* rm redundant code (#5864)\r\n\r\n* isort.\r\n\r\n* Document the threads task pool in the CLI.\r\n\r\n* Removed the paragraph about using librabbitmq. Refer to #5872 (#5873)\r\n\r\n* Task class definitions can have retry attributes (#5869)\r\n\r\n* autoretry_for\r\n* retry_kwargs\r\n* retry_backoff\r\n* retry_backoff_max\r\n* retry_jitter\r\ncan now be defined as cls attributes.\r\n\r\nAll of these can be overriden from the @task decorator\r\n\r\nhttps://github.com/celery/celery/issues/4684\r\n\r\n* whatsnew in Celery 4.4 as per projects standard (#5817)\r\n\r\n* 4.4 whatsnew\r\n\r\n* update\r\n\r\n* update\r\n\r\n* Move old whatsnew to history.\r\n\r\n* Remove old news & fix markers.\r\n\r\n* Added a section notifying Python 3.4 has been dropped.\r\n\r\n* Added a note about ElasticSearch basic auth.\r\n\r\n* Added a note about being able to replace eagerly run tasks.\r\n\r\n* Update index.\r\n\r\n* Address comment.\r\n\r\n* Described boto3 version updates.\r\n\r\n* Fix heading.\r\n\r\n* More news.\r\n\r\n* Thread pool.\r\n\r\n* Add Django and Config changes\r\n\r\n* Bump version 4.4.0\r\n\r\n* upate readme\r\n\r\n* Update docs regarding Redis Message Priorities (#5874)\r\n\r\n* Update docs regarding Redis Message Priorities\r\n\r\n* fixup! Update docs regarding Redis Message Priorities\r\n\r\n* Update 4.4.0 docs (#5875)\r\n\r\n* Update 4.4 release changelog\r\n\r\n* Update whatsnew-4.4\r\n\r\n* Update tasks docs\r\n\r\n* Fix recent tasks doc file update (#5879)\r\n\r\n* Include renamed Changelog.rst in source releases. (#5880)\r\n\r\nChangelog.rst was renamed from Changelog in\r\nfd023ec174bedc2dc65c63a0dc7c85e425ac00c6 but MANIFEST.in was not updated to\r\ninclude the new name. This fixes the file name so Changelog.rst will show up\r\nin future source releases again.\r\n\r\n* Reorganised project_urls and classifiers. (#5884)\r\n\r\n* Use safequote in SQS Getting Started doc (#5885)\r\n\r\n* Have appveyor build relevant versions of Python. (#5887)\r\n\r\n* Have appveyor build relevant and buildable versions of Python.\r\n\r\n* Appveyor is missing CI requirements to build.\r\n\r\n* Pin pycurl to version that will build with appveyor (because wheels files exist)\r\n\r\n* Restrict python 2.7 64 bit version of python-dateutil for parse.\r\n\r\n* Use is_alive instead of isAlive for Python 3.9 compatibility. (#5898)\r\n\r\n* Very minor tweak to commen to improve docs (#5900)\r\n\r\nAs discussed here: \r\nhttps://stackoverflow.com/questions/58816271/celery-task-asyncresult-takes-task-id-but-is-documented-to-get-asyncresult-inst\r\nthis comment seems to flow to a very confusing and misleading piece of documentation here:\r\nhttps://docs.celeryproject.org/en/latest/reference/celery.app.task.html#celery.app.task.Task.AsyncResult\r\n\r\n* Support configuring schema of a PostgreSQL database (#5910)\r\n\r\n* Support configuring schema of a PostgreSQL database\r\n\r\n* Add unit test\r\n\r\n* Remove blank line\r\n\r\n* Fix raise issue to make exception message more friendly (#5912)\r\n\r\nSigned-off-by: Chenyang Yan <memory.yancy@gmail.com>\r\n\r\n* Add progress for retry connections (#5915)\r\n\r\nThis will show current retry progress so it will clear confusion about how many retries will be tried for connecting to broker.\r\nCloses #4556\r\n\r\n* chg: change xrange to range (#5926)\r\n\r\n* update docs for json serializer and add note for int keys serialization (#5932)\r\n\r\n* fix indentation for note block in calling.rst (#5933)\r\n\r\n* Added links to other issue trackers. (#5939)\r\n\r\n* Add labels automatically for issues. (#5938)\r\n\r\n* Run pyupgrade.\r\n\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: ptitpoulpe <ptitpoulpe@ptitpoulpe.fr>\r\nCo-authored-by: Didi Bar-Zev <didi@hiredscore.com>\r\nCo-authored-by: Santos Solorzano <santosjavier22@gmail.com>\r\nCo-authored-by: manlix <manlix@yandex.ru>\r\nCo-authored-by: Jimmy <54828848+sckhg1367@users.noreply.github.com>\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <caoyu97@hotmail.com>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: Pengjie Song (\u5b8b\u9e4f\u6377) <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: as <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Karthikeyan Singaravelan <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\n\r\n* Remove fallback code for Python 2 support marked with TODOs. (#5953)\r\n\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\n\r\n* Remove PY3 conditionals (#5954)\r\n\r\n* Added integration coverage for link_error (#5373)\r\n\r\n* Added coverage for link_error.\r\n\r\n* Use pytest-rerunfailed plugin instead of rolling our own custom implementation.\r\n\r\n* Added link_error with retries. This currently fails.\r\n\r\n* Remove unused import.\r\n\r\n* Fix import on Python 2.7.\r\n\r\n* retries in link_error do not hang the worker anymore.\r\n\r\n* Run error callbacks eagerly when the task itself is run eagerly.\r\n\r\nFixes #4899.\r\n\r\n* Adjust unit tests accordingly.\r\n\r\n* Grammar in documentation (#5780)\r\n\r\n* Grammar in documentation\r\n\r\n* Address review.\r\n\r\n* pypy 7.2 matrix (#5790)\r\n\r\n* removed extra slashes in CELERY_BROKER_URL (#5792)\r\n\r\nThe Celery broker URL in settings.py had 2 slashes in the end which are not required and can be misleading.\r\nso I changed :-\r\nCELERY_BROKER_URL = 'amqp://guest:guest@localhost//' to CELERY_BROKER_URL = 'amqp://guest:guest@localhost'\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work (#5773)\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work\r\n\r\n* Add unit test: test_setting_default_exchange\r\n\r\n* Move default_exchange test to standalone class\r\n\r\n* Run integration suite with memcached results backend. (#5739)\r\n\r\n* Fix hanging forever when fetching results from a group(chain(group)) canvas. (#5744)\r\n\r\nPR #5739 uncovered multiple problems with the cache backend.\r\nThis PR should resolve one of them.\r\n\r\nPR #5638 fixed the same test case for our async results backends that support native join.\r\nHowever, it did not fix the test case for sync results backends that support native join.\r\n\r\n* Fix regression in PR #5681. (#5753)\r\n\r\nSee comment in the diff for details.\r\n\r\n* Grammatical fix to CONTRIBUTING.rst doc (#5794)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs (#5795)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs\r\n\r\n* Add unit test: test_get_connection_with_authmechanism\r\n\r\n* Add unit test: test_get_connection_with_authmechanism_no_username\r\n\r\n* Fix errors in Python 2.7\r\n\r\nRemove \",\" after \"**\" operator\r\n\r\n* Revert \"Revert \"Revert \"Added handle of SIGTERM in BaseTask in celery/task.py to prevent kill the task\" (#5577)\" (#5586)\" (#5797)\r\n\r\nThis reverts commit f79894e0a2c7156fd0ca5e8e3b652b6a46a7e8e7.\r\n\r\n* Add Python 3.8 Support (#5785)\r\n\r\n* Added Python 3.8 to the build matrix.\r\n\r\n* Ensure a supported tblib version is installed for Python 3.8 and above.\r\n\r\nIn addition, modernize the relevant tests.\r\n\r\n* Workaround patching problem in test.\r\n\r\n* py 3.8 in clasifier\r\n\r\n* ubuntu bionic (#5799)\r\n\r\n* ubuntu bionic\r\n\r\n* fast finish\r\n\r\n* sync bumversion with pypi release\r\n\r\n* Dev.req (#5803)\r\n\r\n* update  docker config\r\n\r\n\r\n\r\n* undo hardpin\r\n\r\n* devr req install from github master\r\n\r\n* update  docker config (#5801)\r\n\r\n* update  docker config\r\n\r\n* make dockerfile to install from github master dev branch by default\r\n\r\n* update download link\r\n\r\n* Isort.\r\n\r\n* Grammatical & punctuation fixes for CONTRIBUTING.rst document (#5804)\r\n\r\n* update dockerfile\r\n\r\n* switched to ubuntu bionic\r\n\r\n* update docker\r\n\r\n* keep it empty until we reconfigure it again with autopep8\r\n\r\n* Fixed Dockerfile (#5809)\r\n\r\n* Update document CONTRIBUTING.rst & fix Dockerfile typo (#5813)\r\n\r\n* Added an issue template for minor releases.\r\n\r\n* reference gocelery Go Client/Server for Celery (#5815)\r\n\r\n* Add enterprise language (#5818)\r\n\r\n* Fix/correct minor doc typos (#5825)\r\n\r\n* Correct a small typo\r\n\r\n* Correct bad contributing documentation links\r\n\r\n* Preserve the task priority in case of a retry (#5820)\r\n\r\n* Preserve the task priority in case of a retry\r\n\r\n* Created test case for retried tasks with priority\r\n\r\n* Implement an integration test for retried tasks with priorities\r\n\r\n* bump kombu\r\n\r\n* basic changelog for celery 4.4.0rc4\r\n\r\n* bump celery 4.4.0rc4\r\n\r\n* events bootstep disabled if no events (#5807)\r\n\r\n* events bootstep disabled if no events\r\n\r\n* Added unit tests.\r\n\r\n* update bug report template\r\n\r\n* fixing ascii art to look nicer (#5831)\r\n\r\n* Only rerun flaky tests when failures can be intermediary.\r\n\r\n* Rename Changelog to Changelog.rst\r\n\r\n* The test_nested_group_chain test can run without native_join support. (#5838)\r\n\r\n* Run integration tests with Cassandra (#5834)\r\n\r\n* Run integration tests with Cassandra.\r\n\r\n* Configure cassandra result backend\r\n\r\n* Pre-create keyspace and table\r\n\r\n* Fix deprecation warning.\r\n\r\n* Fix path to cqlsh.\r\n\r\n* Increase connection timeout.\r\n\r\n* Wait until the cluster is available.\r\n\r\n* SQS - Reject on failure (#5843)\r\n\r\n* reject on failure\r\n\r\n* add documentation\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* Add a concurrency model with ThreadPoolExecutor (#5099)\r\n\r\n* Add a concurrency model with ThreadPoolExecutor\r\n\r\n* thread model test for pypy\r\n\r\n* Chain primitive's code example fix in canvas documentation (Regression PR#4444) (#5845)\r\n\r\n* Changed multi-line string (#5846)\r\n\r\nThis string wasn't rendering properly and was printing the python statement too. Although the change isn't as pretty code-wise, it gets rid of an annoyance for the user.\r\n\r\n* Add auto expiry for DynamoDB backend (#5805)\r\n\r\n* Add auto expiry for DynamoDB backend\r\n\r\nThis adds auto-expire support for the DynamoDB backend, via the DynamoDB\r\nTime to Live feature.\r\n\r\n* Require boto3>=1.9.178 for DynamoDB TTL support\r\n\r\nboto3 version 1.9.178 requires botocore>=1.12.178.\r\n\r\nbotocore version 1.12.178 introduces support for the DynamoDB\r\nUpdateTimeToLive call.\r\n\r\nThe UpdateTimeToLive call is used by the DynamoDB backend to enable TTL\r\nsupport on a newly created table.\r\n\r\n* Separate TTL handling from table creation\r\n\r\nHandle TTL enabling/disabling separately from the table get-or-create\r\nfunction.\r\n\r\nImprove handling of cases where the TTL is already set to the desired\r\nstate.\r\n\r\nDynamoDB only allows a single TTL update action within a fairly long\r\ntime window, so some problematic cases (changing the TTL attribute,\r\nenabling/disabling TTL when it was recently modified) will raise\r\nexceptions that have to be dealt with.\r\n\r\n* Handle older boto3 versions\r\n\r\nIf the boto3 TTL methods are not found, log an informative error. If the\r\nuser wants to enable TTL, raise an exception; if TTL should be disabled,\r\nsimply return.\r\n\r\n* Improve logging\r\n\r\n- Handle exceptions by logging the error and re-raising\r\n\r\n- Log (level debug) when the desired TTL state is already in place\r\n\r\n* Add and use _has_ttl() convenience method\r\n\r\nAdditional changes:\r\n\r\n- Handle exceptions when calling boto3's describe_time_to_live()\r\n\r\n- Fix test cases for missing TTL methods\r\n\r\n* Update ttl_seconds documentation\r\n\r\n* Log invalid TTL; catch and raise ValueError\r\n\r\n* Separate method _get_table_ttl_description\r\n\r\n* Separate ttl method validation function\r\n\r\n* Clarify tri-state TTL value\r\n\r\n* Improve test coverage\r\n\r\n* Fix minor typo in comment\r\n\r\n* Mark test as xfail when using the cache backend. (#5851)\r\n\r\n* [Fix #5436] Store extending result in all backends (#5661)\r\n\r\n* [Fix #5436] Store extending result in all backends\r\n\r\n* Fix sqlalchemy\r\n\r\n* More fixu\r\n\r\n* Fixing tests\r\n\r\n* removing not necessary import\r\n\r\n* Removing debug code\r\n\r\n* Removing debug code\r\n\r\n* Add tests for get_result_meta in base and database\r\n\r\n* Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\r\n\r\nThis reverts commit f7f5bcfceca692d0e78c742a7c09c424f53d915b.\r\n\r\n* Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\r\n\r\nThis reverts commit 1b303c2968836245aaa43c3d0ff9249dd8bf9ed2.\r\n\r\n* docs: Document Redis commands used by celery (#5853)\r\n\r\n* remove cache back end integrtion test. (#5856)\r\n\r\n* Fix a race condition when publishing a very large chord header (#5850)\r\n\r\n* Added a test case which artificially introduces a delay to group.save().\r\n\r\n* Fix race condition by delaying the task only after saving the group.\r\n\r\n* update tox\r\n\r\n* Remove duplicate boto dependency. (#5858)\r\n\r\n* Revert \"remove cache back end integrtion test. (#5856)\" (#5859)\r\n\r\nThis reverts commit e0ac7a19a745dd5a52a615c1330bd67f2cef4d00.\r\n\r\n* Revert \"Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\" (#5857)\r\n\r\nThis reverts commit 4ddc605392d7694760f23069c34ede34b3e582c3.\r\n\r\n* Revert \"update tox\"\r\n\r\nThis reverts commit 49427f51049073e38439ea9b3413978784a24999.\r\n\r\n* Fix the test_simple_chord_with_a_delay_in_group_save test.\r\n\r\n* Revert \"Revert \"Skip unsupported canvas when using the cache backend\"\" (#5860)\r\n\r\n* Revert \"Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\"\r\n\r\nThis reverts commit fc101c61c1912c4dafa661981f8b865c011e8a55.\r\n\r\n* Make the xfail condition stricter.\r\n\r\n* Fix the xfail condition.\r\n\r\n* Linters should use Python 3.8.\r\n\r\n* Move pypy unit tests to the correct stage.\r\n\r\n* Temporarily allow PyPy to fail since it is unavailable in Travis.\r\n\r\n* Remove unused variables.\r\n\r\n* Fix unused imports.\r\n\r\n* Fix pydocstyle errors in dynamodb.\r\n\r\n* Fix pydocstyle errors in redis backend.\r\n\r\n* bump kombu to 4.6.7\r\n\r\n* celery 4.4.0rc5 changelog\r\n\r\n* celery 4.4.0rc5\r\n\r\n* rm redundant code (#5864)\r\n\r\n* isort.\r\n\r\n* Document the threads task pool in the CLI.\r\n\r\n* Removed the paragraph about using librabbitmq. Refer to #5872 (#5873)\r\n\r\n* Task class definitions can have retry attributes (#5869)\r\n\r\n* autoretry_for\r\n* retry_kwargs\r\n* retry_backoff\r\n* retry_backoff_max\r\n* retry_jitter\r\ncan now be defined as cls attributes.\r\n\r\nAll of these can be overriden from the @task decorator\r\n\r\nhttps://github.com/celery/celery/issues/4684\r\n\r\n* whatsnew in Celery 4.4 as per projects standard (#5817)\r\n\r\n* 4.4 whatsnew\r\n\r\n* update\r\n\r\n* update\r\n\r\n* Move old whatsnew to history.\r\n\r\n* Remove old news & fix markers.\r\n\r\n* Added a section notifying Python 3.4 has been dropped.\r\n\r\n* Added a note about ElasticSearch basic auth.\r\n\r\n* Added a note about being able to replace eagerly run tasks.\r\n\r\n* Update index.\r\n\r\n* Address comment.\r\n\r\n* Described boto3 version updates.\r\n\r\n* Fix heading.\r\n\r\n* More news.\r\n\r\n* Thread pool.\r\n\r\n* Add Django and Config changes\r\n\r\n* Bump version 4.4.0\r\n\r\n* upate readme\r\n\r\n* Update docs regarding Redis Message Priorities (#5874)\r\n\r\n* Update docs regarding Redis Message Priorities\r\n\r\n* fixup! Update docs regarding Redis Message Priorities\r\n\r\n* Update 4.4.0 docs (#5875)\r\n\r\n* Update 4.4 release changelog\r\n\r\n* Update whatsnew-4.4\r\n\r\n* Update tasks docs\r\n\r\n* Fix recent tasks doc file update (#5879)\r\n\r\n* Include renamed Changelog.rst in source releases. (#5880)\r\n\r\nChangelog.rst was renamed from Changelog in\r\nfd023ec174bedc2dc65c63a0dc7c85e425ac00c6 but MANIFEST.in was not updated to\r\ninclude the new name. This fixes the file name so Changelog.rst will show up\r\nin future source releases again.\r\n\r\n* Reorganised project_urls and classifiers. (#5884)\r\n\r\n* Use safequote in SQS Getting Started doc (#5885)\r\n\r\n* Have appveyor build relevant versions of Python. (#5887)\r\n\r\n* Have appveyor build relevant and buildable versions of Python.\r\n\r\n* Appveyor is missing CI requirements to build.\r\n\r\n* Pin pycurl to version that will build with appveyor (because wheels files exist)\r\n\r\n* Restrict python 2.7 64 bit version of python-dateutil for parse.\r\n\r\n* Use is_alive instead of isAlive for Python 3.9 compatibility. (#5898)\r\n\r\n* Very minor tweak to commen to improve docs (#5900)\r\n\r\nAs discussed here: \r\nhttps://stackoverflow.com/questions/58816271/celery-task-asyncresult-takes-task-id-but-is-documented-to-get-asyncresult-inst\r\nthis comment seems to flow to a very confusing and misleading piece of documentation here:\r\nhttps://docs.celeryproject.org/en/latest/reference/celery.app.task.html#celery.app.task.Task.AsyncResult\r\n\r\n* Support configuring schema of a PostgreSQL database (#5910)\r\n\r\n* Support configuring schema of a PostgreSQL database\r\n\r\n* Add unit test\r\n\r\n* Remove blank line\r\n\r\n* Fix raise issue to make exception message more friendly (#5912)\r\n\r\nSigned-off-by: Chenyang Yan <memory.yancy@gmail.com>\r\n\r\n* Add progress for retry connections (#5915)\r\n\r\nThis will show current retry progress so it will clear confusion about how many retries will be tried for connecting to broker.\r\nCloses #4556\r\n\r\n* chg: change xrange to range (#5926)\r\n\r\n* update docs for json serializer and add note for int keys serialization (#5932)\r\n\r\n* fix indentation for note block in calling.rst (#5933)\r\n\r\n* Added links to other issue trackers. (#5939)\r\n\r\n* Add labels automatically for issues. (#5938)\r\n\r\n* remove redundant raise from docstring (#5941)\r\n\r\n`throw` is True by default so the Retry exception will already get raised by calling `self.retry(countdown=60 * 5, exc=exc)`\r\n\r\n* Run pyupgrade.\r\n\r\n* Fix typo (#5943)\r\n\r\n* Remove fallback code for Python 2 support.\r\n\r\n* docs: fixes Rabbits and Warrens link in routing userguide (#4007) (#5949)\r\n\r\n* Fix labels on Github issue templates. (#5955)\r\n\r\nUse quotation marks to escape labels on Github issue templates. This\r\nprevents the colon from breaking the template.\r\n\r\n* added retry_on_timeout and socket_keepalive to config and doc (#5952)\r\n\r\n* Fixed event capture from building infinite list (#5870)\r\n\r\n* Fix error propagation example (#5966)\r\n\r\n* update range (#5971)\r\n\r\n* update setup.cfg\r\n\r\n* bump billiard to 3.6.3.0\r\n\r\n* Update __init__.py (#5951)\r\n\r\n* Update __init__.py\r\n\r\nFixed issue for object with result_backend=True (decode fails on multiple None request)\r\n\r\n* Update __init__.py\r\n\r\nsuggested changeds\r\n\r\n* Update __init__.py\r\n\r\n* Use configured db schema also for sequences (#5972)\r\n\r\n* Added a default value for retries in worker.strategy. (#5945)\r\n\r\n* Added a default value for retries in worker.strategy.\r\n\r\nI was facing an issue when adding tasks directly to rabbitmq\r\nusing pika instead of calling task.apply_async. The issue was\r\nthe self.retry mechanisum was failing. In app/tasks.py the line\r\n`retries = request.retries + 1` was causing the issue. On further\r\ntracing I figured out that it was because the default .get value\r\n(None) was getting passed through this function and was raising\r\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'int'\r\n\r\n* Add test cases for default and custom retries value\r\n\r\n* pypy 7.3 (#5980)\r\n\r\n* Pass `interval` to `get_many` (#5931)\r\n\r\n* Pass `interval` to `get_many`\r\n\r\n* Fix: Syntax error for py2.7\r\n\r\n* Fix: Syntax error for py2.7\r\n\r\n* Fixed problem with conflicting autoretry_for task parameter and Task.replace() (#5934)\r\n\r\n* Fix #5917 (#5918)\r\n\r\n* Fix changelog (#5881)\r\n\r\n* merge in place the apps beat schedule in the default Schedule class. (#5908)\r\n\r\n* Handle Redis connection errors in result consumer (#5921)\r\n\r\n* Handle Redis connection errors in result consumer\r\n\r\n* Closes #5919.\r\n\r\n* Use context manager for Redis conusmer reconnect\r\n\r\n* Log error when result backend reconnection fails\r\n\r\n* Fix inspect_command documentation (#5983)\r\n\r\n* Use gevent and eventlet wait() functions to remove busy-wait (#5974)\r\n\r\n* Use gevent and eventlet wait() functions to remove busy-wait\r\n\r\nFixes issue #4999.\r\n\r\nCalling AsyncResult.get() in a gevent context would cause the async Drainer to repeatedly call wait_for until the result was completed.  I've updated the code to have a specific implementation for gevent and eventlet that will cause wait_for to only return every \"timeout\" # of seconds, rather than repeatedly returning.\r\n\r\nSome things I'd like some feedback on:\r\n* Where's the best place to add test coverage for this?  It doesn't look like there are any tests that directly exercised the Drainer yet so I would probably look to add some of these to the backends/ unit tests.\r\n* The way I did this for the Eventlet interface was to rely on the private _exit_event member of the GreenThread instance; to do this without relying on a private member would require some additional changes to the backend Drainer interface so that we could wait for an eventlet-specific event in wait_for().  I can do this, just wanted to get some feedback before.\r\n\r\n* Add unit tests for Drainer classes\r\n\r\nIn order for this to work without monkeypatching in the tests, I needed to call sleep(0) to let the gevent/eventlet greenlets to yield control back to the calling thread.  I also made the check interval configurable in the drainer so that we didn't need to sleep multiples of 1 second in the tests.\r\n\r\n* Weaken asserts since they don't pass on CI\r\n\r\n* Fix eventlet auto-patching DNS resolver module on import\r\n\r\nBy default it looks like \"import eventlet\" imports the greendns module unless the environment EVENTLET_NO_GREENDNS is set to true.  This broke a pymongo test.\r\n\r\n* Add tests ensuring that the greenlet loop isn't blocked\r\n\r\nThese tests make sure that while drain_events_until is running that other gevent/eventlet concurrency can run.\r\n\r\n* Clean up tests and make sure they wait for all the threads to stop\r\n\r\n* Fix chords with chained groups (#5947)\r\n\r\n* kombu 4.6.8\r\n\r\n* update setup\r\n\r\n* updated version 4.4.1\r\n\r\n* Fix: Accept and swallow `kwargs` to handle unexpected keyword arguments\r\n\r\n* Allow boto to look for credentials in S3Backend\r\n\r\n* add reference to Rusty Celery\r\n\r\n* Update document of revoke method in Control class\r\n\r\n* Fix copy-paste error in result_compression docs\r\n\r\n* Make 'socket_keepalive' optional variable (#6000)\r\n\r\n* update connection params - socket_keepalive is optional now\r\n\r\n* update readme - added versionadded 4.4.1 and fixed `redis_socket_keepalive`\r\n\r\n* added check of socket_keepalive in arguments for UnixSocketConnect\r\n\r\n* Fixed incorrect setting name in documentation (#6002)\r\n\r\n* updated version 4.4.2\r\n\r\n* Fix backend utf-8 encoding in s3 backend\r\n\r\nCelery backend uses utf-8 to deserialize results,\r\nwhich would fail for some serializations like pickle.\r\n\r\n* Fix typo in celery.bin.multi document\r\n\r\n* Upgraded pycurl to the latest version that supports wheel.\r\n\r\n* pytest 5.3.5 max\r\n\r\n* Add uptime to the stats inspect command\r\n\r\n* Doc tweaks: mostly grammar and punctuation (#6016)\r\n\r\n* Fix a bunch of comma splices in the docs\r\n\r\n* Remove some unnecessary words from next-steps doc\r\n\r\n* Tweak awkward wording; fix bad em-dash\r\n\r\n* Fix a bunch more comma splices in next-steps doc\r\n\r\n* Miscellaneous grammar/punctuation/wording fixes\r\n\r\n* Link to task options in task decorator docs\r\n\r\n* Fixing issue #6019: unable to use mysql SSL parameters when getting mysql engine (#6020)\r\n\r\n* Fixing issue #6019: unable to use mysql SSL parametes in create_engine()\r\n\r\n* adding test for get_engine when self.forked is False and engine args are passed in for create_engine()\r\n\r\n* Clean TraceBack to reduce memory leaks for exception task (#6024)\r\n\r\n* Clean TraceBack to reduce memory leaks\r\n\r\n* add unit test\r\n\r\n* add unit test\r\n\r\n* reject unittest\r\n\r\n* Patch For Python 2.7 compatibility\r\n\r\n* update unittest\r\n\r\n* Register to the garbage collector by explicitly referring to f_locals.\r\n\r\n* need more check\r\n\r\n* update code coverage\r\n\r\n* update Missing unit test\r\n\r\n* 3.4 -> 3.5\r\n\r\nCo-authored-by: heedong.jung <heedong.jung@samsung.com>\r\n\r\n* exceptions: NotRegistered: fix up language\r\n\r\nMinor fix to the language.\r\n\r\n* Note about autodiscover_tasks and periodic tasks\r\n\r\nThis is particularly important for Django projects that put periodic tasks into each app's `tasks.py` and want to use one as a periodic task.  By the time `autodiscover_tasks()` loads those tasks, the `on_after_configure` Signal has already come and gone, so anything decorated with `@app.on_after_finalize.connect` will never be called.\r\n\r\nIf there's other documentation on this subject, I could not find it.\r\n\r\n* Avoid PyModulelevel, deprecated in Sphinx 4\r\n\r\nUse `PyFunction` instead of `PyModulelevel` to avoid this\r\ndeprecation warning:\r\n\r\n    RemovedInSphinx40Warning: PyModulelevel is deprecated.\r\n    Please check the implementation of\r\n    <class 'celery.contrib.sphinx.TaskDirective'>\r\n\r\nThis replacement is one of the options listed in the Sphinx docs\r\n(https://www.sphinx-doc.org/en/master/extdev/deprecated.html).\r\n\r\n* Give up sending a worker-offline message if transport is not connected (#6039)\r\n\r\n* If worker-offline event fails to send, give up and die peacefully\r\n\r\n* Add test for retry= and msgs in heartbeat\r\n\r\n* Fix the build and all documentation warnings.\r\n\r\nI finally upgraded our theme to 2.0.\r\nAs a result we've upgraded Sphinx to 2.0.\r\nWork to upgrade Sphinx to 3.0 will proceed in a different PR.\r\n\r\nThis upgrade also fixes our build issues caused by #6032.\r\nWe don't support Sphinx 1.x as a result of that patch.\r\n\r\nI've also included the missing 4.3 changelog to our history.\r\n\r\n* Support both Sphinx 2 and 3.\r\n\r\n* Add Task to __all__ in celery.__init__.py\r\n\r\n* Add missing parenthesis to example in docs\r\n\r\n* Ensure a single chain object in a chain does not raise MaximumRecursionError.\r\n\r\nPreviously chain([chain(sig)]) would crash.\r\nWe now ensure it doesn't.\r\n\r\nFixes #5973.\r\n\r\n* update setup.py\r\n\r\n* fix typo\r\n\r\nmissing quote at the end of line\r\n\r\n* Fix a typo in monitoring doc\r\n\r\n* update travis\r\n\r\n* update ubuntu to focal foss\r\n\r\n20.04 LTS\r\n\r\n* Fix autoscale when prefetch_multiplier is 1\r\n\r\n* Allow start_worker to function without ping task\r\n\r\n* Update celeryd.conf\r\n\r\nMove the directory of the program before the execution of the command/script\r\n\r\n* Add documentation for \"predefined_queue_urls\"\r\n\r\n* [Fix #6074]: Add missing documentation for MongoDB as result backend.\r\n\r\n* update funding\r\n\r\n* \ud83d\udc1b Correctly handle configuring the serializer for always_eager mode. (#6079)\r\n\r\n* \ud83d\udc1b Correctly handle configuring the serializer for always_eager mode.\r\n\r\noptions['serializer'] will always exist, because it is initialized from an mattrgetter. Even if unset, it will be present in the options with a value of None.\r\n\r\n* \ud83d\udc1b Add a test for new always_eager + task_serializer behavior.\r\n\r\n* \u270f\ufe0f Whoops missed a :\r\n\r\n* Remove doubling of prefetch_count increase when prefetch_multiplier gt 1 (#6081)\r\n\r\n* try ubuntu focal (#6088)\r\n\r\n* Fix eager function not returning result after retries.\r\n\r\nUsing apply function does not return correct results after at least one\r\nretry because the return value of successive call is not going back to\r\nthe original caller.\r\n\r\n* return retry result if not throw and is_eager\r\n\r\nif throw is false, we would be interested by the result of retry and\r\nnot the current result which will be an exception.\r\n\r\nThis way it does not break the logic of `raise self.retry`\r\n\r\nThis should be used like `return self.retry(..., throw=False)` in an\r\nexcept statement.\r\n\r\n* revert formatting change\r\n\r\n* Add tests for eager retry without throw\r\n\r\n* update predefined-queues documentation\r\n\r\nSuggested version of configuration does not work. \r\nAdditionally I'd like to mention, that `access_key_id` and `secret_access_key` are mandatory fields and not allowing you to go with defaults AWS_* env variables.\r\nI can contribute for this variables to be optional\r\n\r\nAlso I'm not sure if security token will apply, could you please advice how to do it?\r\n\r\n* Fix couchbase version < 3.0.0 as API changed\r\n\r\n* Remove reference to -O fair in optimizations\r\n\r\n-O fair was made the default in Celery 4.0\r\nhttps://docs.celeryproject.org/en/stable/history/whatsnew-4.0.html#ofair-is-now-the-default-scheduling-strategy\r\n\r\n* pytest ranges\r\n\r\n* pypy3\r\n\r\n* revert to bionic\r\n\r\n* do not load docs.txt requirements for python 2.7\r\n\r\nAs it requires Sphinx >= 2.0.0 and there is no such version compatible\r\nwith python 2.7\r\n\r\n* update cassandra travis integration test configuration\r\n\r\ncassandra:latest docker image changed location of cqlsh program\r\n\r\n* pin cassandra-driver\r\n\r\nCI get stuck after all cassandra integration tests\r\n\r\n* Fix all flake8 lint errors\r\n\r\n* Fix all pydocstyle lint errors\r\n\r\n* Fix all configcheck lint errors\r\n\r\n* Always requeue while worker lost regardless of the redelivered flag (#6103)\r\n\r\n* #5598 fix, always redelivery while WorkerLostError\r\n\r\n* fix, change the requeue flag so the task will remain PENDING\r\n\r\n* Allow relative paths in the filesystem backend (#6070)\r\n\r\n* Allow relative paths in the filesystem backend\r\n\r\n* fix order of if statements\r\n\r\n* [Fixed Issue #6017]\r\n--> Added Multi default logfiles and pidfiles paths\r\n\r\n[Description]:\r\n--> Changed the default paths for log files & pid files to be '/var/log/celery' and '/var/run/celery'\r\n--> Handled by creating the respective paths if not exist.\r\n--> Used os.makedir(path,if_exists=True)\r\n\r\n[Unit Test Added]:\r\n--> .travis.yml - config updated with 'before install'.\r\n--> t/unit/apps/test_multi.py - Changed the default log files & pid files paths wherever required.\r\n\r\n* Avoid race condition due to task duplication.\r\n\r\nIn some circumstances like a network partitioning, some tasks might\r\nbe duplicated. Sometimes, this lead to a race condition where a lost\r\ntask overwrites the result of the last successful task in the backend.\r\n\r\nIn order to avoid this race condition we prevent updating the result if\r\nit's already in successful state.\r\n\r\nThis fix has been done for KV backends only and therefore won't work\r\nwith other backends.\r\n\r\n* adding tests\r\n\r\n* Exceptions must be old-style classes or derived from BaseException,\r\nbut here self.result may not subclass of BaseException.\r\n\r\n* update fund link\r\n\r\n* Fix windows build (#6104)\r\n\r\n* do not load memcache nor couchbase lib during windows build\r\n\r\nthose libraries depends on native libraries libcouchbase and libmemcached\r\nthat are not installed on Appveyor.\r\nAs only unit tests runs on Appveyor, it should be fine\r\n\r\n* Add python 3.8 workaround for app trap\r\n\r\n* skip tests file_descriptor_safety tests on windows\r\n\r\nAsyncPool is not supported on Windows so Pool does have _fileno_to_outq\r\nattribute, making the test fail\r\n\r\n* Fix crossplatform log and pid files in multi mode\r\n\r\nit relates to #6017\r\n\r\n* Use tox to build and test on windows\r\n\r\n* remove tox_install_command\r\n\r\n* drop python 2.7 from windows build\r\n\r\n* Add encode to meta task in base.py (#5894)\r\n\r\n* Add encode to base.py meta result\r\n\r\nFix bug with impossibility to load None from task meta\r\n\r\n* Add tests for None. Remove exceed encode.\r\n\r\n* Update base.py\r\n\r\nAdd return payload if None\r\n\r\n* Update time.py to solve the microsecond issues (#5199)\r\n\r\nWhen `relative` is set to True, the day, hour, minutes second will be round to the nearest one, however, the original program do not update the microsecond (reset it). As a result, the run-time offset on the microsecond will then be accumulated. \r\nFor example, given the interval is 15s and relative is set to True\r\n1.    2018-11-27T15:01:30.123236+08:00\r\n2.    2018-11-27T15:01:45.372687+08:00\r\n3.    2018-11-27T15:02:00.712601+08:00\r\n4.    2018-11-27T15:02:15.987720+08:00\r\n5.    2018-11-27T15:02:31.023670+08:00\r\n\r\n* Change backend _ensure_not_eager error to warning\r\n\r\n* Add priority support for 'celery.chord_unlock' task (#5766)\r\n\r\n* Change eager retry behaviour\r\n\r\neven with raise self.retry, it should return the eventual value\r\nor MaxRetriesExceededError.\r\nif return value of eager apply is Retry exception, retry eagerly\r\nthe task signature\r\n\r\n* Order supported Python versions\r\n\r\n* Avoid race condition in elasticsearch backend\r\n\r\nif a task is retried, the task retry may work concurrently to current task.\r\nstore_result may come out of order.\r\nit may cause a non ready state (Retry) to override a ready state (Success, Failure).\r\nIf this happens, it will block indefinitely pending any chord depending on this task.\r\n\r\nthis change makes document updates safe for concurrent writes.\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/optimistic-concurrency-control.html\r\n\r\n* backends base get_many pass READY_STATES arg\r\n\r\n* test backends base get_many pass READY_STATES arg\r\n\r\n* Add integration tests for Elasticsearch and fix _update\r\n\r\n* Revert \"revert to bionic\"\r\n\r\nThis reverts commit 6e091573f2ab0d0989b8d7c26b677c80377c1721.\r\n\r\n* remove jython check\r\n\r\n* feat(backend): Adds cleanup to ArangoDB backend\r\n\r\n* Delete Document Known Issue with CONN_MAX_AGE in 4.3\r\n\r\n* issue 6108 fix filesystem backend cannot not be serialized by picked (#6120)\r\n\r\n* issue 6108 fix filesystem backend cannot not be serialized by picked\r\n\r\nhttps://github.com/celery/celery/issues/6108\r\n\r\n* issue-6108 fix unit test failure\r\n\r\n* issue-6108 fix flake8 warning\r\n\r\nCo-authored-by: Murphy Meng <mmeng@mirriad.com>\r\n\r\n* kombu==4.6.9 (#6133)\r\n\r\n* changelog for 4.4.3\r\n\r\n* v 4.4.3\r\n\r\n* remove un supported classifier\r\n\r\n* Fix autoretry_for with explicit retry (#6138)\r\n\r\n* Add tests for eager task retry\r\n\r\n* Fixes #6135\r\n\r\nIf autoretry_for is set too broad on Exception, then autoretry may get a Retry\r\nif that's the case, rethrow directly instead of wrapping it in another Retry\r\nto avoid loosing new args\r\n\r\n* Use Django DB max age connection setting (fixes #4116)\r\n\r\n* Add retry on recoverable exception for the backend (#6122)\r\n\r\n* Add state to KeyValueStoreBackend.set method\r\n\r\nThis way, a backend implementation is able to take decisions based on\r\ncurrent state to store meta in case of failures.\r\n\r\n* Add retry on recoverable exception for the backend\r\n\r\nacks.late makes celery acknowledge messages only after processing and\r\nstoring result on the backend.\r\n\r\nHowever, in case of backend unreachable, it will shadow a Retry\r\nexception and put the task as failed in the backend not retrying the\r\ntask and acknoledging it on the broker.\r\n\r\nWith this new result_backend_always_retry setting, if the backend\r\nexception is recoverable (to be defined per backend implementation),\r\nit will retry the backend operation with an exponential backoff.\r\n\r\n* Make elasticsearch backward compatible with 6.x\r\n\r\n* Make ES retry storing updates in a better way\r\n\r\nif existing value in the backend is success, then do nothing.\r\nif it is a ready status, then update it only if new value is a ready status as well.\r\nelse update it.\r\n\r\nThis way, a SUCCESS cannot be overriden so that we do not loose\r\nresults but any ready state other than success (FAILURE, REVOKED) can\r\nbe overriden by another ready status (i.e. a SUCCESS)\r\n\r\n* Add test for value not found in ES backend\r\n\r\n* Fix random distribution of jitter for exponential backoff\r\n\r\nrandom.randrange should be called with the actual so that all numbers\r\nhave equivalent probability, otherwise maximum value does have a way\r\nhigher probability of occuring.\r\n\r\n* fix unit test if extra modules are not present\r\n\r\n* ElasticSearch: add setting to save meta as json\r\n\r\n* fix #6136. celery 4.4.3 always trying create /var/run/celery directory (#6142)\r\n\r\n* fix #6136. celery 4.4.3 always trying create /var/run/celery directory, even if it's not needed.\r\n\r\n* fix #6136. cleanup\r\n\r\n* Add task_internal_error signal (#6049)\r\n\r\n* Add internal_error signal\r\n\r\nThere is no special signal for an out of body error which can be the\r\nresult of a bad result backend.\r\n\r\n* Fix syntax error.\r\n\r\n* Document the task_internal_error signal.\r\n\r\nCo-authored-by: Laurentiu Dragan <ldragan@bloomberg.net>\r\n\r\n* changelog for v4.4.4\r\n\r\n* kombu 4.6.10 (#6144)\r\n\r\n* v4.4.4\r\n\r\n* Add missing dependency on future (#6146)\r\n\r\nFixes #6145\r\n\r\n* ElasticSearch: Retry index if document was deleted between index and update (#6140)\r\n\r\n* ElasticSearch: Retry index if document was deleted between index and update\r\n\r\n* Elasticsearch increase coverage to 100%\r\n\r\n* Fix pydocstyle\r\n\r\n* Specify minimum version of Sphinx for Celery extension (#6150)\r\n\r\nThe Sphinx extension requires Sphinx 2 or later due to #6032.\r\n\r\n* fix windows build\r\n\r\n* fix flake8 error\r\n\r\n* fix multi tests in local\r\n\r\nMock os.mkdir and os.makedirs to avoid creating /var/run/celery and\r\n/var/log/celery during unit tests if run without root priviledges\r\n\r\n* Customize the retry interval of chord_unlock tasks\r\n\r\n* changelog v4.4.5\r\n\r\n* v4.4.5\r\n\r\n* Fix typo in comment.\r\n\r\n* Remove autoscale force_scale methods (#6085)\r\n\r\n* Remove autoscale force_scale methods\r\n\r\n* Remove unused variable in test\r\n\r\n* Pass ping destination to request\r\n\r\nThe destination argument worked fine from CLI but didn't get used when calling ping from Python.\r\n\r\n* Fix autoscale test\r\n\r\n* chord: merge init options with run options\r\n\r\n* put back KeyValueStoreBackend.set method without state\r\n\r\nIt turns out it was breaking some other projects.\r\nwrapping set method with _set_with_state, this way it will not break existing Backend.\r\nwhile enabling this feature for other Backend.\r\n\r\nCurrently, only ElasticsearchBackend supports this feature.\r\n\r\nIt protects concurrent update to corrupt state in the backend.\r\nExisting success cannot be overriden, nor a ready state by a non ready state.\r\ni.e. a Retry state cannot override a Success or Failure.\r\nAs a result, chord_unlock task will not loop forever due to missing ready state on the backend.\r\n\r\n* added --range-prefix option to `celery multi` (#6180)\r\n\r\n* added --range-prefix option to `celery multi`\r\n\r\nAdded option for overriding default range prefix when running\r\nmultiple workers prividing range with `celery multy` command.\r\n\r\n* covered multi --range-prefix with tests\r\n\r\n* fixed --range-prefix test\r\n\r\n* Added as_list function to AsyncResult class (#6179)\r\n\r\n* Add as_list method to return task IDs as a list\r\n\r\n* Add a test for as_list method\r\n\r\n* Add docstring for as_list method\r\n\r\n* Fix CassandraBackend error in threads or gevent pool (#6147)\r\n\r\n* Fix CassandraBackend error in threads or gevent pool\r\n        * remove CassandraBackend.process_cleanup\r\n\r\n* Add test case\r\n\r\n* Add test case\r\n\r\n* Add comments test_as_uri\r\n\r\nCo-authored-by: baixue <baixue@wecash.net>\r\n\r\n* changelog for v4.4.6\r\n\r\n* v4.4.6\r\n\r\n* Update Wiki link in \"resources\"\r\n\r\nIn the page linked below, the link to wiki is outdated. Fixed that. \r\n\r\nhttps://docs.celeryproject.org/en/stable/getting-started/resources.html\r\n\r\n* test_canvas: Add test for chord-in-chain\r\n\r\nAdd test case for the issue where a chord in a chain does not\r\nwork when using .apply(). This works fine with .apply_async().\r\n\r\n* Trying to fix flaky tests in ci\r\n\r\n* fix pydocstyle errors\r\n\r\n* fix pydocstyle\r\n\r\n* Drainer tests, put a lower constraint on number of intervals\r\n\r\nliveness should iterate 10 times per interval while drain_events only\r\nonce. However, as it may use thread that may be scheduled out of\r\norder, we may end up in some situation where liveness and drain_events\r\nwere called the same amount of time.\r\n\r\nLowering the constraint from < to <= to avoid failing the tests.\r\n\r\n* pyupgrade.\r\n\r\n* Fix merge error.\r\n\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <root@grassfish.net>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: spengjie <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: whuji <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Xtreak <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\nCo-authored-by: Alex Riina <alex.riina@gmail.com>\r\nCo-authored-by: Joon Hwan \uae40\uc900\ud658 <xncbf12@gmail.com>\r\nCo-authored-by: Prabakaran Kumaresshan <k_prabakaran+github@hotmail.com>\r\nCo-authored-by: Martey Dodoo <martey@mobolic.com>\r\nCo-authored-by: Konstantin Seleznev <4374093+Seleznev-nvkz@users.noreply.github.com>\r\nCo-authored-by: Prodge <Prodge@users.noreply.github.com>\r\nCo-authored-by: Abdelhadi Dyouri <raryat@gmail.com>\r\nCo-authored-by: Ixiodor <Ixiodor@users.noreply.github.com>\r\nCo-authored-by: abhishekakamai <47558404+abhishekakamai@users.noreply.github.com>\r\nCo-authored-by: Allan Lei <allanlei@helveticode.com>\r\nCo-authored-by: M1ha Shvn <work_shvein_mihail@mail.ru>\r\nCo-authored-by: Salih Caglar Ispirli <caglarispirli@gmail.com>\r\nCo-authored-by: Micha Moskovic <michamos@gmail.com>\r\nCo-authored-by: Chris Burr <chrisburr@users.noreply.github.com>\r\nCo-authored-by: Dave King <tildedave@gmail.com>\r\nCo-authored-by: Dmitry Nikulin <v.dmitry.nikulin@gmail.com>\r\nCo-authored-by: Michael Gaddis <mgaddis@ancestry.com>\r\nCo-authored-by: epwalsh <epwalsh10@gmail.com>\r\nCo-authored-by: TalRoni <tal.inon.16@gmail.com>\r\nCo-authored-by: Leo Singer <leo.singer@ligo.org>\r\nCo-authored-by: Stephen Tomkinson <neonbunny@users.noreply.github.com>\r\nCo-authored-by: Abhishek <abhishek.shukla@xeneta.com>\r\nCo-authored-by: theirix <theirix@gmail.com>\r\nCo-authored-by: yukihira1992 <hirayama@cancerscan.jp>\r\nCo-authored-by: jpays <jerome.pays@cnp.fr>\r\nCo-authored-by: Greg Ward <greg@gerg.ca>\r\nCo-authored-by: Alexa Griffith <agriffith@bluecore.com>\r\nCo-authored-by: heedong <63043496+heedong-jung@users.noreply.github.com>\r\nCo-authored-by: heedong.jung <heedong.jung@samsung.com>\r\nCo-authored-by: Shreyansh Khajanchi <shreyanshk@users.noreply.github.com>\r\nCo-authored-by: Sam Thompson <georgedorn@users.noreply.github.com>\r\nCo-authored-by: Alphadelta14 <alpha@pokesplash.net>\r\nCo-authored-by: Azimjon Pulatov <azimjohn@yahoo.com>\r\nCo-authored-by: ysde <ysde108@gmail.com>\r\nCo-authored-by: AmirMohammad Ziaei <amir_zia@outlook.com>\r\nCo-authored-by: Ben Nadler <ben.nadler@gusto.com>\r\nCo-authored-by: Harald Nezbeda <hn@nezhar.com>\r\nCo-authored-by: Chris Frisina <github@specialorange.org>\r\nCo-authored-by: Adam Eijdenberg <adam.eijdenberg@digital.gov.au>\r\nCo-authored-by: rafaelreuber <rafaelreuber@gmail.com>\r\nCo-authored-by: Noah Kantrowitz <noah@coderanger.net>\r\nCo-authored-by: Ben Nadler <jbennadler@gmail.com>\r\nCo-authored-by: Clement Michaud <c.michaud@criteo.com>\r\nCo-authored-by: Mathieu Chataigner <m.chataigner@criteo.com>\r\nCo-authored-by: eugeneyalansky <65346459+eugeneyalansky@users.noreply.github.com>\r\nCo-authored-by: Leonard Lu <leonard@socialcodeinc.com>\r\nCo-authored-by: XinYang <yangxinhust@hotmail.com>\r\nCo-authored-by: Ingolf Becker <ingolf.becker@googlemail.com>\r\nCo-authored-by: Anuj Chauhan <an12ch98@gmail.com>\r\nCo-authored-by: shaoziwei <ziwei.shao@cloudchef.io>\r\nCo-authored-by: Mathieu Chataigner <mathieu.chataigner@gmail.com>\r\nCo-authored-by: Anakael <shemeldima2@yandex.ru>\r\nCo-authored-by: Danny Chan <danny.chan@c-k.dev>\r\nCo-authored-by: Sebastiaan ten Pas <sebastiaan@diggimedia.nl>\r\nCo-authored-by: David TILLOY <d.tilloy@criteo.com>\r\nCo-authored-by: Anthony N. Simon <anthonynsimon@users.noreply.github.com>\r\nCo-authored-by: lironhl <liron.lavy@gmail.com>\r\nCo-authored-by: Raphael Cohen <raphael.cohen@sekoia.fr>\r\nCo-authored-by: JaeyoungHeo <jay.jaeyoung@gmail.com>\r\nCo-authored-by: singlaive <singlaive@gmail.com>\r\nCo-authored-by: Murphy Meng <mmeng@mirriad.com>\r\nCo-authored-by: Wu Haotian <whtsky@gmail.com>\r\nCo-authored-by: Kwist <velnik@gmail.com>\r\nCo-authored-by: Laurentiu Dragan <ldragan@bloomberg.net>\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: Radim S\u00fcckr <radim.suckr@gmail.com>\r\nCo-authored-by: Artem Vasilyev <artem.v.vasilyev@gmail.com>\r\nCo-authored-by: kakakikikeke-fork <kakakikikeke_new@yahoo.co.jp>\r\nCo-authored-by: Pysaoke <pysaoke@gmail.com>\r\nCo-authored-by: baixue <baixue@wecash.net>\r\nCo-authored-by: Prashant Sinha <prashantsinha@outlook.com>\r\nCo-authored-by: AbdealiJK <abdealikothari@gmail.com>\r\n\r\n* Remove Python 2 compatibility code from Celery (#6221)\r\n\r\n* Remove five from celery/__init__.py\r\n\r\n* Remove five from celery/beat.py\r\n\r\n* Remove five from celery/bootsteps.py\r\n\r\n* Remove five from celery/exceptions.py\r\n\r\n* Remove five from celery/local.py\r\n\r\n* Remove five from celery/platforms.py\r\n\r\n* Remove five from celery/result.py\r\n\r\n* Remove five from celery/schedules.py\r\n\r\n* Remove five from celery/app/amqp.py\r\n\r\n* Remove five from celery/app/annotations.py\r\n\r\n* Remove five from celery/app/backends.py\r\n\r\n* Remove five from celery/app/base.py\r\n\r\n* Remove five from celery/app/control.py\r\n\r\n* Remove five from celery/app/defaults.py\r\n\r\n* Remove five from celery/app/log.py\r\n\r\n* Remove five from celery/app/registry.py\r\n\r\n* Remove five from celery/app/routes.py\r\n\r\n* Remove five from celery/app/task.py\r\n\r\n* Remove five from celery/app/trace.py\r\n\r\n* Remove five from celery/app/utils.py\r\n\r\n* Remove five from celery/apps/beat.py\r\n\r\n* Remove five from celery/apps/multi.py\r\n\r\n* Remove five from celery/apps/worker.py\r\n\r\n* Remove five from celery/backends/database/__init__.py\r\n\r\n* Remove five from celery/backends/amqp.py\r\n\r\n* Remove five from celery/backends/asynchronous.py\r\n\r\n* Remove five from celery/backends/base.py\r\n\r\n* Remove five from celery/backends/dynamodb.py\r\n\r\n* Remove five from celery/backends/elasticsearch.py\r\n\r\n* Remove five from celery/backends/mongodb.py\r\n\r\n* Remove five from celery/backends/redis.py\r\n\r\n* Remove five from celery/backends/rpc.py\r\n\r\n* Remove five from celery/concurrency/asynpool.py\r\n\r\n* Remove five from celery/concurrency/base.py\r\n\r\n* Remove five from celery/concurrency/prefork.py\r\n\r\n* Remove five from celery/contrib/testing/manager.py\r\n\r\n* Remove five from celery/contrib/migrate.py\r\n\r\n* Remove five from celery/contrib/rdb.py\r\n\r\n* Remove five from celery/events/cursesmon.py\r\n\r\n* Remove five from celery/events/dispatcher.py\r\n\r\n* Remove five from celery/events/state.py\r\n\r\n* Remove five from celery/loaders/base.py\r\n\r\n* Remove five from celery/security/certificate.py\r\n\r\n* Remove five from celery/security/utils.py\r\n\r\n* Remove five from celery/task/base.py\r\n\r\n* Remove five from celery/utils/dispatch/signal.py\r\n\r\n* Remove five from celery/utils/abstract.py\r\n\r\n* Remove five from celery/utils/collections.py\r\n\r\n* Remove five from celery/utils/debug.py\r\n\r\n* Remove five from celery/utils/functional.py\r\n\r\n* Remove five from celery/utils/graph.py\r\n\r\n* Remove five from celery/utils/imports.py\r\n\r\n* Remove five from celery/utils/log.py\r\n\r\n* Remove five from celery/utils/saferepr.py\r\n\r\n* Remove five from celery/utils/serialization.py\r\n\r\n* Remove five from celery/utils/term.py\r\n\r\n* Remove five from celery/utils/text.py\r\n\r\n* Remove five from celery/utils/threads.py\r\n\r\n* Remove five from celery/utils/time.py\r\n\r\n* Remove five from celery/utils/timer2.py\r\n\r\n* Remove five from celery/consumer/consumer.py\r\n\r\n* Remove five from celery/consumer/gossip.py\r\n\r\n* Remove five from celery/consumer/mingle.py\r\n\r\n* Remove five from celery/worker/autoscale.py\r\n\r\n* Remove five from celery/worker/components.py\r\n\r\n* Remove five from celery/worker/control.py\r\n\r\n* Remove five from celery/worker/request.py\r\n\r\n* Remove five from celery/worker/state.py\r\n\r\n* Remove five from celery/worker/worker.py\r\n\r\n* Remove five from celery/t/benchmarks/bench_worker.py\r\n\r\n* Remove five from celery/t/integration/test_canvas.py\r\n\r\n* Remove five from celery/t/unit/app\r\n\r\n* Remove five from celery/t/unit/backends\r\n\r\n* Remove five from celery/t/unit/compat_modules\r\n\r\n* Remove five from celery/t/unit/concurrency\r\n\r\n* Remove five from celery/t/unit/contrib\r\n\r\n* Remove five from celery/t/unit/events\r\n\r\n* Remove five from celery/t/unit/security\r\n\r\n* Remove five from celery/t/unit/tasks\r\n\r\n* Remove five from celery/t/unit/utils\r\n\r\n* Remove five from celery/t/unit/worker\r\n\r\n* Sort imports.\r\n\r\n* Comment out PyPy for now.\r\n\r\n* Remove flakeplus.\r\n\r\n* Happify linter.\r\n\r\n* Fix merge problems.\r\n\r\n* Delete backport.\r\n\r\n* Remove unused import.\r\n\r\n* Remove logic that notifies user that the Python version isn't supported from setup.py.\r\n\r\npip already does that for us.\r\n\r\n* Add a trove classifier to indicate Celery only supports Python 3.\r\n\r\n* Restore usage of `reraise` for consistency with the kombu port.\r\n\r\n* Drop Python 2 compatibility code from our Sphinx extension.\r\n\r\n* Remove mention of flakeplus from tox.ini.\r\n\r\n* Remove mention of flakeplus from our CONTRIBUTING guide.\r\n\r\n* Bump Sphinx requirement.\r\n\r\n* Remove Python 2 compatibility code from our custom Sphinx extension.\r\n\r\n* Resolve Sphinx warning due to removed section in 32ff7b45aa3d78aedca61b6554a9db39122924fd.\r\n\r\n* Remove pydocstyle from build matrix as it was removed from master.\r\n\r\nSee #6278.\r\n\r\n* Bump version: 4.4.7 \u2192 5.0.0-alpha1\r\n\r\n* Final touches.\r\n\r\n* Fix README.\r\n\r\n* Bump Kombu to 5.0.0.\r\n\r\n* Bump version: 5.0.0-alpha1 \u2192 5.0.0a2\r\n\r\n* Fix wrong version.\r\n\r\n* Remove autodoc for removed module.\r\n\r\n* Remove documentation for removed methods.\r\n\r\n* Remove the riak backend since riak is no longer maintained.\r\n\r\n* Remove riak backend since riak is no longer maintained.\r\n\r\n* Start fresh.\r\n\r\n* Added all arguments for the celery worker command.\r\n\r\nStill needs more documentation and improvements...\r\n\r\n* Load the application and execute a worker.\r\n\r\n* Added the rest of the global options.\r\n\r\nIf an app is not specified we now use the default app.\r\n\r\nIn addition, we now exit with the correct status code.\r\n\r\n* Extract validation into parameter types.\r\n\r\n* Restructure and document.\r\n\r\n* Allow to pass worker configuration options from command line.\r\n\r\n* Implement the beat command.\r\n\r\n* Allow to configure celery options through the CLI.\r\n\r\n* Implement the `celery call` command.\r\n\r\n* Implement the `celery list bindings` command.\r\n\r\n* Implement the `celery purge` command.\r\n\r\n* Implement the `celery result` command.\r\n\r\n* Implement the `celery migrate` task.\r\n\r\n* Implemented the celery@thedrow: OK\r\n\r\n1 node online. command.\r\n\r\n* Take --no-color in consideration when outputting to stdout.\r\n\r\n* Ensure `celery worker` takes `--no-color` into consideration.\r\n\r\n* Use the preformatted OK string.\r\n\r\n* Adopt the NO_COLOR standard.\r\n\r\nSee https://no-color.org/ for details.\r\n\r\n* Split commands into separate files.\r\n\r\n* Added 'did you mean' messages.\r\n\r\n* Implement the `celery events` command.\r\n\r\n* Text style should take --no-color into consideration as well.\r\n\r\n* Implement the basic `celery inspect` command.\r\n\r\n* Improve UI.\r\n\r\n* Organize the code.\r\n\r\n* Implement the `celery graph bootsteps` command.\r\n\r\n* Implement the `celery graph workers` command.\r\n\r\n* Implement the `celery upgrade settings` command.\r\n\r\n* Implement the `celery report` command.\r\n\r\n* Delete former unit tests.\r\n\r\n* Implement the `celery logtool` command.\r\n\r\n* Pass the quiet argument to the CLI context.\r\n\r\n* Limit inspect to existing actions.\r\n\r\n* Implement the `celery control` command.\r\n\r\n* Basic scaffold for the `celery amqp` shell command.\r\n\r\n* Start implementing the shell commands.\r\n\r\n* Implement basic.publish and basic.get.\r\n\r\n* Echo OK after acknowledgement.\r\n\r\n* Reformat Code.\r\n\r\n* Implement the exchange.declare command.\r\n\r\n* Implement the exchange.delete command.\r\n\r\n* Implement the queue.bind command.\r\n\r\n* Implement the queue.declare command.\r\n\r\n* Implement the queue.delete command.\r\n\r\n* Echo queue.declare result to screen.\r\n\r\n* Echo queue.delete result to screen.\r\n\r\n* Implement the queue.purge command.\r\n\r\n* Fix color support for error().\r\n\r\n* Report errors and continue.\r\n\r\n* Handle connection errors and reconnect on error.\r\n\r\n* Refactor.\r\n\r\n* Implement the `celery shell` command.\r\n\r\n* Isort.\r\n\r\n* Add documentation.\r\n\r\n* Correct argument types.\r\n\r\n* Implement detach for `celery worker`.\r\n\r\n* Documentation.\r\n\r\n* Implement detach for `celery beat`.\r\n\r\n* Documentation.\r\n\r\n* Implement the `celery multi` command.\r\n\r\n* Documentation.\r\n\r\n* Implement user options.\r\n\r\n* Collect command actions from the correct registry.\r\n\r\n* Isort.\r\n\r\n* Fix access to app.\r\n\r\n* Match arguments for control.\r\n\r\n* Start fres\u2026", "tree": {"sha": "f6da321100ce553f88ffccd6901c0c67f8a40dcc", "url": "https://api.github.com/repos/celery/celery/git/trees/f6da321100ce553f88ffccd6901c0c67f8a40dcc"}, "url": "https://api.github.com/repos/celery/celery/git/commits/01651d2f5d9ad20dfb9812d92831510147974b23", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfPV8xCRBK7hj4Ov3rIwAAdHIIAKM/v+RbSX5P8qITBajyqNUh\n842RM5q+3f6krHoJylSV3xIspZVQGclGyvaTo5+90ZI+Mw+ARN08hmfcsIs6pz6B\n/lnv6YqMNEV53wjOQADoFWE7SinGADsdP2OtduqqjQAMlTYKCCFJRHI+dPWhRGXO\neSPPYL0TxGy6zkvC4honm2+FQPVSIYsWdUfAsbTUqNGQA4T6N1dcThZP7F+I/3uL\nr2u2Bz90U8D92yxDdDGVzdZZ58F85PaYamlkYGqxBQNSgw9+lzPmnEc50s7/QRqI\nUPUfvbXz8elm5t9D0URwNSDnZH58UIEPORBWuk9RVM+VuixvCsD9Aobx5suVH1Q=\n=g06P\n-----END PGP SIGNATURE-----\n", "payload": "tree f6da321100ce553f88ffccd6901c0c67f8a40dcc\nparent f154d31308893980941874238da857d68708e11f\nauthor Omer Katz <omer.drow@gmail.com> 1597857585 +0300\ncommitter GitHub <noreply@github.com> 1597857585 +0300\n\nRefactor CLI to use Click instead of our custom argparse based framework (#5718)\n\n* 'abstractproperty' is deprecated. Use 'property' with 'abstractmethod' instead\r\n\r\n* Fix #2849 - Initial work of celery 5.0.0 alpha1 series by dropping python below 3.6 from marix & remove import from __future__ (#5684)\r\n\r\n* initial work of celery 5.0.0 alpha-1 series by dropping python below 3.6\r\n\r\n* i-5651(ut): add ut for ResultSet.join_native (#5679)\r\n\r\n* dropped python versions below 3.6 from tox\r\n\r\n* dropped python versions below 3.6 from travis\r\n\r\n* dropped python versions below 3.6 from appveyor\r\n\r\n* dropped python2 compat __future__ imports from tests\r\n\r\n* Fixed a bug where canvases with a group and tasks in the middle followed by a group fails to complete and indefinitely hangs. (#5681)\r\n\r\nFixes #5512, fixes #5354, fixes #2573.\r\n\r\n* dropped python2 compat __future__ imports from celery\r\n\r\n* dropped python2 compat code from init\r\n\r\n* revert readme change about version\r\n\r\n* removed python 2 object inheritance (#5687)\r\n\r\n* removed python 2 object inheritance\r\n\r\n* removed python 2 object inheritance\r\n\r\n* removed python 2 compatibility decorator (#5689)\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* Remove unused imports.\r\n\r\n* Remove unused imports of python_2_unicode_compatible.\r\n\r\nAlso removed leftover useage of them where they were still used.\r\n\r\n* Run pyupgrade on codebase (#5726)\r\n\r\n* Run pyupgrade on codebase.\r\n\r\n* Use format strings where possible.\r\n\r\n* pyupgrade examples.\r\n\r\n* pyupgrade on celerydocs extension.\r\n\r\n* pyupgrade on updated code.\r\n\r\n* Address code review comments.\r\n\r\n* Address code review comments.\r\n\r\n* Remove unused imports.\r\n\r\n* Fix indentation.\r\n\r\n* Address code review comments.\r\n\r\n* Fix syntax error.\r\n\r\n* Fix syntax error.\r\n\r\n* Fix syntax error.\r\n\r\n* pytest 5.x for celery 5 (#5791)\r\n\r\n* Port latest changes from master to v5-dev (#5942)\r\n\r\n* Fix serialization and deserialization of nested exception classes (#5717)\r\n\r\n* Fix #5597: chain priority (#5759)\r\n\r\n* adding `worker_process_shutdown` to __all__ (#5762)\r\n\r\n* Fix typo (#5769)\r\n\r\n* Reformat code.\r\n\r\n* Simplify commands to looking for celery worker processes (#5778)\r\n\r\n* update doc- celery supports storage list. (#5776)\r\n\r\n* Update introduction.rst\r\n\r\n* Update introduction.rst\r\n\r\n* Fail xfailed tests if the failure is unexpected.\r\n\r\n* Added integration coverage for link_error (#5373)\r\n\r\n* Added coverage for link_error.\r\n\r\n* Use pytest-rerunfailed plugin instead of rolling our own custom implementation.\r\n\r\n* Added link_error with retries. This currently fails.\r\n\r\n* Remove unused import.\r\n\r\n* Fix import on Python 2.7.\r\n\r\n* retries in link_error do not hang the worker anymore.\r\n\r\n* Run error callbacks eagerly when the task itself is run eagerly.\r\n\r\nFixes #4899.\r\n\r\n* Adjust unit tests accordingly.\r\n\r\n* Grammar in documentation (#5780)\r\n\r\n* Grammar in documentation\r\n\r\n* Address review.\r\n\r\n* pypy 7.2 matrix (#5790)\r\n\r\n* removed extra slashes in CELERY_BROKER_URL (#5792)\r\n\r\nThe Celery broker URL in settings.py had 2 slashes in the end which are not required and can be misleading.\r\nso I changed :-\r\nCELERY_BROKER_URL = 'amqp://guest:guest@localhost//' to CELERY_BROKER_URL = 'amqp://guest:guest@localhost'\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work (#5773)\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work\r\n\r\n* Add unit test: test_setting_default_exchange\r\n\r\n* Move default_exchange test to standalone class\r\n\r\n* Run integration suite with memcached results backend. (#5739)\r\n\r\n* Fix hanging forever when fetching results from a group(chain(group)) canvas. (#5744)\r\n\r\nPR #5739 uncovered multiple problems with the cache backend.\r\nThis PR should resolve one of them.\r\n\r\nPR #5638 fixed the same test case for our async results backends that support native join.\r\nHowever, it did not fix the test case for sync results backends that support native join.\r\n\r\n* Fix regression in PR #5681. (#5753)\r\n\r\nSee comment in the diff for details.\r\n\r\n* Grammatical fix to CONTRIBUTING.rst doc (#5794)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs (#5795)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs\r\n\r\n* Add unit test: test_get_connection_with_authmechanism\r\n\r\n* Add unit test: test_get_connection_with_authmechanism_no_username\r\n\r\n* Fix errors in Python 2.7\r\n\r\nRemove \",\" after \"**\" operator\r\n\r\n* Revert \"Revert \"Revert \"Added handle of SIGTERM in BaseTask in celery/task.py to prevent kill the task\" (#5577)\" (#5586)\" (#5797)\r\n\r\nThis reverts commit f79894e0a2c7156fd0ca5e8e3b652b6a46a7e8e7.\r\n\r\n* Add Python 3.8 Support (#5785)\r\n\r\n* Added Python 3.8 to the build matrix.\r\n\r\n* Ensure a supported tblib version is installed for Python 3.8 and above.\r\n\r\nIn addition, modernize the relevant tests.\r\n\r\n* Workaround patching problem in test.\r\n\r\n* py 3.8 in clasifier\r\n\r\n* ubuntu bionic (#5799)\r\n\r\n* ubuntu bionic\r\n\r\n* fast finish\r\n\r\n* sync bumversion with pypi release\r\n\r\n* Dev.req (#5803)\r\n\r\n* update  docker config\r\n\r\n\r\n\r\n* undo hardpin\r\n\r\n* devr req install from github master\r\n\r\n* update  docker config (#5801)\r\n\r\n* update  docker config\r\n\r\n* make dockerfile to install from github master dev branch by default\r\n\r\n* update download link\r\n\r\n* Isort.\r\n\r\n* Grammatical & punctuation fixes for CONTRIBUTING.rst document (#5804)\r\n\r\n* update dockerfile\r\n\r\n* switched to ubuntu bionic\r\n\r\n* update docker\r\n\r\n* keep it empty until we reconfigure it again with autopep8\r\n\r\n* Fixed Dockerfile (#5809)\r\n\r\n* Update document CONTRIBUTING.rst & fix Dockerfile typo (#5813)\r\n\r\n* Added an issue template for minor releases.\r\n\r\n* reference gocelery Go Client/Server for Celery (#5815)\r\n\r\n* Add enterprise language (#5818)\r\n\r\n* Fix/correct minor doc typos (#5825)\r\n\r\n* Correct a small typo\r\n\r\n* Correct bad contributing documentation links\r\n\r\n* Preserve the task priority in case of a retry (#5820)\r\n\r\n* Preserve the task priority in case of a retry\r\n\r\n* Created test case for retried tasks with priority\r\n\r\n* Implement an integration test for retried tasks with priorities\r\n\r\n* bump kombu\r\n\r\n* basic changelog for celery 4.4.0rc4\r\n\r\n* bump celery 4.4.0rc4\r\n\r\n* events bootstep disabled if no events (#5807)\r\n\r\n* events bootstep disabled if no events\r\n\r\n* Added unit tests.\r\n\r\n* update bug report template\r\n\r\n* fixing ascii art to look nicer (#5831)\r\n\r\n* Only rerun flaky tests when failures can be intermediary.\r\n\r\n* Rename Changelog to Changelog.rst\r\n\r\n* The test_nested_group_chain test can run without native_join support. (#5838)\r\n\r\n* Run integration tests with Cassandra (#5834)\r\n\r\n* Run integration tests with Cassandra.\r\n\r\n* Configure cassandra result backend\r\n\r\n* Pre-create keyspace and table\r\n\r\n* Fix deprecation warning.\r\n\r\n* Fix path to cqlsh.\r\n\r\n* Increase connection timeout.\r\n\r\n* Wait until the cluster is available.\r\n\r\n* SQS - Reject on failure (#5843)\r\n\r\n* reject on failure\r\n\r\n* add documentation\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* Add a concurrency model with ThreadPoolExecutor (#5099)\r\n\r\n* Add a concurrency model with ThreadPoolExecutor\r\n\r\n* thread model test for pypy\r\n\r\n* Chain primitive's code example fix in canvas documentation (Regression PR#4444) (#5845)\r\n\r\n* Changed multi-line string (#5846)\r\n\r\nThis string wasn't rendering properly and was printing the python statement too. Although the change isn't as pretty code-wise, it gets rid of an annoyance for the user.\r\n\r\n* Add auto expiry for DynamoDB backend (#5805)\r\n\r\n* Add auto expiry for DynamoDB backend\r\n\r\nThis adds auto-expire support for the DynamoDB backend, via the DynamoDB\r\nTime to Live feature.\r\n\r\n* Require boto3>=1.9.178 for DynamoDB TTL support\r\n\r\nboto3 version 1.9.178 requires botocore>=1.12.178.\r\n\r\nbotocore version 1.12.178 introduces support for the DynamoDB\r\nUpdateTimeToLive call.\r\n\r\nThe UpdateTimeToLive call is used by the DynamoDB backend to enable TTL\r\nsupport on a newly created table.\r\n\r\n* Separate TTL handling from table creation\r\n\r\nHandle TTL enabling/disabling separately from the table get-or-create\r\nfunction.\r\n\r\nImprove handling of cases where the TTL is already set to the desired\r\nstate.\r\n\r\nDynamoDB only allows a single TTL update action within a fairly long\r\ntime window, so some problematic cases (changing the TTL attribute,\r\nenabling/disabling TTL when it was recently modified) will raise\r\nexceptions that have to be dealt with.\r\n\r\n* Handle older boto3 versions\r\n\r\nIf the boto3 TTL methods are not found, log an informative error. If the\r\nuser wants to enable TTL, raise an exception; if TTL should be disabled,\r\nsimply return.\r\n\r\n* Improve logging\r\n\r\n- Handle exceptions by logging the error and re-raising\r\n\r\n- Log (level debug) when the desired TTL state is already in place\r\n\r\n* Add and use _has_ttl() convenience method\r\n\r\nAdditional changes:\r\n\r\n- Handle exceptions when calling boto3's describe_time_to_live()\r\n\r\n- Fix test cases for missing TTL methods\r\n\r\n* Update ttl_seconds documentation\r\n\r\n* Log invalid TTL; catch and raise ValueError\r\n\r\n* Separate method _get_table_ttl_description\r\n\r\n* Separate ttl method validation function\r\n\r\n* Clarify tri-state TTL value\r\n\r\n* Improve test coverage\r\n\r\n* Fix minor typo in comment\r\n\r\n* Mark test as xfail when using the cache backend. (#5851)\r\n\r\n* [Fix #5436] Store extending result in all backends (#5661)\r\n\r\n* [Fix #5436] Store extending result in all backends\r\n\r\n* Fix sqlalchemy\r\n\r\n* More fixu\r\n\r\n* Fixing tests\r\n\r\n* removing not necessary import\r\n\r\n* Removing debug code\r\n\r\n* Removing debug code\r\n\r\n* Add tests for get_result_meta in base and database\r\n\r\n* Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\r\n\r\nThis reverts commit f7f5bcfceca692d0e78c742a7c09c424f53d915b.\r\n\r\n* Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\r\n\r\nThis reverts commit 1b303c2968836245aaa43c3d0ff9249dd8bf9ed2.\r\n\r\n* docs: Document Redis commands used by celery (#5853)\r\n\r\n* remove cache back end integrtion test. (#5856)\r\n\r\n* Fix a race condition when publishing a very large chord header (#5850)\r\n\r\n* Added a test case which artificially introduces a delay to group.save().\r\n\r\n* Fix race condition by delaying the task only after saving the group.\r\n\r\n* update tox\r\n\r\n* Remove duplicate boto dependency. (#5858)\r\n\r\n* Revert \"remove cache back end integrtion test. (#5856)\" (#5859)\r\n\r\nThis reverts commit e0ac7a19a745dd5a52a615c1330bd67f2cef4d00.\r\n\r\n* Revert \"Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\" (#5857)\r\n\r\nThis reverts commit 4ddc605392d7694760f23069c34ede34b3e582c3.\r\n\r\n* Revert \"update tox\"\r\n\r\nThis reverts commit 49427f51049073e38439ea9b3413978784a24999.\r\n\r\n* Fix the test_simple_chord_with_a_delay_in_group_save test.\r\n\r\n* Revert \"Revert \"Skip unsupported canvas when using the cache backend\"\" (#5860)\r\n\r\n* Revert \"Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\"\r\n\r\nThis reverts commit fc101c61c1912c4dafa661981f8b865c011e8a55.\r\n\r\n* Make the xfail condition stricter.\r\n\r\n* Fix the xfail condition.\r\n\r\n* Linters should use Python 3.8.\r\n\r\n* Move pypy unit tests to the correct stage.\r\n\r\n* Temporarily allow PyPy to fail since it is unavailable in Travis.\r\n\r\n* Remove unused variables.\r\n\r\n* Fix unused imports.\r\n\r\n* Fix pydocstyle errors in dynamodb.\r\n\r\n* Fix pydocstyle errors in redis backend.\r\n\r\n* bump kombu to 4.6.7\r\n\r\n* celery 4.4.0rc5 changelog\r\n\r\n* celery 4.4.0rc5\r\n\r\n* rm redundant code (#5864)\r\n\r\n* isort.\r\n\r\n* Document the threads task pool in the CLI.\r\n\r\n* Removed the paragraph about using librabbitmq. Refer to #5872 (#5873)\r\n\r\n* Task class definitions can have retry attributes (#5869)\r\n\r\n* autoretry_for\r\n* retry_kwargs\r\n* retry_backoff\r\n* retry_backoff_max\r\n* retry_jitter\r\ncan now be defined as cls attributes.\r\n\r\nAll of these can be overriden from the @task decorator\r\n\r\nhttps://github.com/celery/celery/issues/4684\r\n\r\n* whatsnew in Celery 4.4 as per projects standard (#5817)\r\n\r\n* 4.4 whatsnew\r\n\r\n* update\r\n\r\n* update\r\n\r\n* Move old whatsnew to history.\r\n\r\n* Remove old news & fix markers.\r\n\r\n* Added a section notifying Python 3.4 has been dropped.\r\n\r\n* Added a note about ElasticSearch basic auth.\r\n\r\n* Added a note about being able to replace eagerly run tasks.\r\n\r\n* Update index.\r\n\r\n* Address comment.\r\n\r\n* Described boto3 version updates.\r\n\r\n* Fix heading.\r\n\r\n* More news.\r\n\r\n* Thread pool.\r\n\r\n* Add Django and Config changes\r\n\r\n* Bump version 4.4.0\r\n\r\n* upate readme\r\n\r\n* Update docs regarding Redis Message Priorities (#5874)\r\n\r\n* Update docs regarding Redis Message Priorities\r\n\r\n* fixup! Update docs regarding Redis Message Priorities\r\n\r\n* Update 4.4.0 docs (#5875)\r\n\r\n* Update 4.4 release changelog\r\n\r\n* Update whatsnew-4.4\r\n\r\n* Update tasks docs\r\n\r\n* Fix recent tasks doc file update (#5879)\r\n\r\n* Include renamed Changelog.rst in source releases. (#5880)\r\n\r\nChangelog.rst was renamed from Changelog in\r\nfd023ec174bedc2dc65c63a0dc7c85e425ac00c6 but MANIFEST.in was not updated to\r\ninclude the new name. This fixes the file name so Changelog.rst will show up\r\nin future source releases again.\r\n\r\n* Reorganised project_urls and classifiers. (#5884)\r\n\r\n* Use safequote in SQS Getting Started doc (#5885)\r\n\r\n* Have appveyor build relevant versions of Python. (#5887)\r\n\r\n* Have appveyor build relevant and buildable versions of Python.\r\n\r\n* Appveyor is missing CI requirements to build.\r\n\r\n* Pin pycurl to version that will build with appveyor (because wheels files exist)\r\n\r\n* Restrict python 2.7 64 bit version of python-dateutil for parse.\r\n\r\n* Use is_alive instead of isAlive for Python 3.9 compatibility. (#5898)\r\n\r\n* Very minor tweak to commen to improve docs (#5900)\r\n\r\nAs discussed here: \r\nhttps://stackoverflow.com/questions/58816271/celery-task-asyncresult-takes-task-id-but-is-documented-to-get-asyncresult-inst\r\nthis comment seems to flow to a very confusing and misleading piece of documentation here:\r\nhttps://docs.celeryproject.org/en/latest/reference/celery.app.task.html#celery.app.task.Task.AsyncResult\r\n\r\n* Support configuring schema of a PostgreSQL database (#5910)\r\n\r\n* Support configuring schema of a PostgreSQL database\r\n\r\n* Add unit test\r\n\r\n* Remove blank line\r\n\r\n* Fix raise issue to make exception message more friendly (#5912)\r\n\r\nSigned-off-by: Chenyang Yan <memory.yancy@gmail.com>\r\n\r\n* Add progress for retry connections (#5915)\r\n\r\nThis will show current retry progress so it will clear confusion about how many retries will be tried for connecting to broker.\r\nCloses #4556\r\n\r\n* chg: change xrange to range (#5926)\r\n\r\n* update docs for json serializer and add note for int keys serialization (#5932)\r\n\r\n* fix indentation for note block in calling.rst (#5933)\r\n\r\n* Added links to other issue trackers. (#5939)\r\n\r\n* Add labels automatically for issues. (#5938)\r\n\r\n* Run pyupgrade.\r\n\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: ptitpoulpe <ptitpoulpe@ptitpoulpe.fr>\r\nCo-authored-by: Didi Bar-Zev <didi@hiredscore.com>\r\nCo-authored-by: Santos Solorzano <santosjavier22@gmail.com>\r\nCo-authored-by: manlix <manlix@yandex.ru>\r\nCo-authored-by: Jimmy <54828848+sckhg1367@users.noreply.github.com>\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <caoyu97@hotmail.com>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: Pengjie Song (\u5b8b\u9e4f\u6377) <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: as <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Karthikeyan Singaravelan <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\n\r\n* Remove fallback code for Python 2 support marked with TODOs. (#5953)\r\n\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\n\r\n* Remove PY3 conditionals (#5954)\r\n\r\n* Added integration coverage for link_error (#5373)\r\n\r\n* Added coverage for link_error.\r\n\r\n* Use pytest-rerunfailed plugin instead of rolling our own custom implementation.\r\n\r\n* Added link_error with retries. This currently fails.\r\n\r\n* Remove unused import.\r\n\r\n* Fix import on Python 2.7.\r\n\r\n* retries in link_error do not hang the worker anymore.\r\n\r\n* Run error callbacks eagerly when the task itself is run eagerly.\r\n\r\nFixes #4899.\r\n\r\n* Adjust unit tests accordingly.\r\n\r\n* Grammar in documentation (#5780)\r\n\r\n* Grammar in documentation\r\n\r\n* Address review.\r\n\r\n* pypy 7.2 matrix (#5790)\r\n\r\n* removed extra slashes in CELERY_BROKER_URL (#5792)\r\n\r\nThe Celery broker URL in settings.py had 2 slashes in the end which are not required and can be misleading.\r\nso I changed :-\r\nCELERY_BROKER_URL = 'amqp://guest:guest@localhost//' to CELERY_BROKER_URL = 'amqp://guest:guest@localhost'\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work (#5773)\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work\r\n\r\n* Add unit test: test_setting_default_exchange\r\n\r\n* Move default_exchange test to standalone class\r\n\r\n* Run integration suite with memcached results backend. (#5739)\r\n\r\n* Fix hanging forever when fetching results from a group(chain(group)) canvas. (#5744)\r\n\r\nPR #5739 uncovered multiple problems with the cache backend.\r\nThis PR should resolve one of them.\r\n\r\nPR #5638 fixed the same test case for our async results backends that support native join.\r\nHowever, it did not fix the test case for sync results backends that support native join.\r\n\r\n* Fix regression in PR #5681. (#5753)\r\n\r\nSee comment in the diff for details.\r\n\r\n* Grammatical fix to CONTRIBUTING.rst doc (#5794)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs (#5795)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs\r\n\r\n* Add unit test: test_get_connection_with_authmechanism\r\n\r\n* Add unit test: test_get_connection_with_authmechanism_no_username\r\n\r\n* Fix errors in Python 2.7\r\n\r\nRemove \",\" after \"**\" operator\r\n\r\n* Revert \"Revert \"Revert \"Added handle of SIGTERM in BaseTask in celery/task.py to prevent kill the task\" (#5577)\" (#5586)\" (#5797)\r\n\r\nThis reverts commit f79894e0a2c7156fd0ca5e8e3b652b6a46a7e8e7.\r\n\r\n* Add Python 3.8 Support (#5785)\r\n\r\n* Added Python 3.8 to the build matrix.\r\n\r\n* Ensure a supported tblib version is installed for Python 3.8 and above.\r\n\r\nIn addition, modernize the relevant tests.\r\n\r\n* Workaround patching problem in test.\r\n\r\n* py 3.8 in clasifier\r\n\r\n* ubuntu bionic (#5799)\r\n\r\n* ubuntu bionic\r\n\r\n* fast finish\r\n\r\n* sync bumversion with pypi release\r\n\r\n* Dev.req (#5803)\r\n\r\n* update  docker config\r\n\r\n\r\n\r\n* undo hardpin\r\n\r\n* devr req install from github master\r\n\r\n* update  docker config (#5801)\r\n\r\n* update  docker config\r\n\r\n* make dockerfile to install from github master dev branch by default\r\n\r\n* update download link\r\n\r\n* Isort.\r\n\r\n* Grammatical & punctuation fixes for CONTRIBUTING.rst document (#5804)\r\n\r\n* update dockerfile\r\n\r\n* switched to ubuntu bionic\r\n\r\n* update docker\r\n\r\n* keep it empty until we reconfigure it again with autopep8\r\n\r\n* Fixed Dockerfile (#5809)\r\n\r\n* Update document CONTRIBUTING.rst & fix Dockerfile typo (#5813)\r\n\r\n* Added an issue template for minor releases.\r\n\r\n* reference gocelery Go Client/Server for Celery (#5815)\r\n\r\n* Add enterprise language (#5818)\r\n\r\n* Fix/correct minor doc typos (#5825)\r\n\r\n* Correct a small typo\r\n\r\n* Correct bad contributing documentation links\r\n\r\n* Preserve the task priority in case of a retry (#5820)\r\n\r\n* Preserve the task priority in case of a retry\r\n\r\n* Created test case for retried tasks with priority\r\n\r\n* Implement an integration test for retried tasks with priorities\r\n\r\n* bump kombu\r\n\r\n* basic changelog for celery 4.4.0rc4\r\n\r\n* bump celery 4.4.0rc4\r\n\r\n* events bootstep disabled if no events (#5807)\r\n\r\n* events bootstep disabled if no events\r\n\r\n* Added unit tests.\r\n\r\n* update bug report template\r\n\r\n* fixing ascii art to look nicer (#5831)\r\n\r\n* Only rerun flaky tests when failures can be intermediary.\r\n\r\n* Rename Changelog to Changelog.rst\r\n\r\n* The test_nested_group_chain test can run without native_join support. (#5838)\r\n\r\n* Run integration tests with Cassandra (#5834)\r\n\r\n* Run integration tests with Cassandra.\r\n\r\n* Configure cassandra result backend\r\n\r\n* Pre-create keyspace and table\r\n\r\n* Fix deprecation warning.\r\n\r\n* Fix path to cqlsh.\r\n\r\n* Increase connection timeout.\r\n\r\n* Wait until the cluster is available.\r\n\r\n* SQS - Reject on failure (#5843)\r\n\r\n* reject on failure\r\n\r\n* add documentation\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* Add a concurrency model with ThreadPoolExecutor (#5099)\r\n\r\n* Add a concurrency model with ThreadPoolExecutor\r\n\r\n* thread model test for pypy\r\n\r\n* Chain primitive's code example fix in canvas documentation (Regression PR#4444) (#5845)\r\n\r\n* Changed multi-line string (#5846)\r\n\r\nThis string wasn't rendering properly and was printing the python statement too. Although the change isn't as pretty code-wise, it gets rid of an annoyance for the user.\r\n\r\n* Add auto expiry for DynamoDB backend (#5805)\r\n\r\n* Add auto expiry for DynamoDB backend\r\n\r\nThis adds auto-expire support for the DynamoDB backend, via the DynamoDB\r\nTime to Live feature.\r\n\r\n* Require boto3>=1.9.178 for DynamoDB TTL support\r\n\r\nboto3 version 1.9.178 requires botocore>=1.12.178.\r\n\r\nbotocore version 1.12.178 introduces support for the DynamoDB\r\nUpdateTimeToLive call.\r\n\r\nThe UpdateTimeToLive call is used by the DynamoDB backend to enable TTL\r\nsupport on a newly created table.\r\n\r\n* Separate TTL handling from table creation\r\n\r\nHandle TTL enabling/disabling separately from the table get-or-create\r\nfunction.\r\n\r\nImprove handling of cases where the TTL is already set to the desired\r\nstate.\r\n\r\nDynamoDB only allows a single TTL update action within a fairly long\r\ntime window, so some problematic cases (changing the TTL attribute,\r\nenabling/disabling TTL when it was recently modified) will raise\r\nexceptions that have to be dealt with.\r\n\r\n* Handle older boto3 versions\r\n\r\nIf the boto3 TTL methods are not found, log an informative error. If the\r\nuser wants to enable TTL, raise an exception; if TTL should be disabled,\r\nsimply return.\r\n\r\n* Improve logging\r\n\r\n- Handle exceptions by logging the error and re-raising\r\n\r\n- Log (level debug) when the desired TTL state is already in place\r\n\r\n* Add and use _has_ttl() convenience method\r\n\r\nAdditional changes:\r\n\r\n- Handle exceptions when calling boto3's describe_time_to_live()\r\n\r\n- Fix test cases for missing TTL methods\r\n\r\n* Update ttl_seconds documentation\r\n\r\n* Log invalid TTL; catch and raise ValueError\r\n\r\n* Separate method _get_table_ttl_description\r\n\r\n* Separate ttl method validation function\r\n\r\n* Clarify tri-state TTL value\r\n\r\n* Improve test coverage\r\n\r\n* Fix minor typo in comment\r\n\r\n* Mark test as xfail when using the cache backend. (#5851)\r\n\r\n* [Fix #5436] Store extending result in all backends (#5661)\r\n\r\n* [Fix #5436] Store extending result in all backends\r\n\r\n* Fix sqlalchemy\r\n\r\n* More fixu\r\n\r\n* Fixing tests\r\n\r\n* removing not necessary import\r\n\r\n* Removing debug code\r\n\r\n* Removing debug code\r\n\r\n* Add tests for get_result_meta in base and database\r\n\r\n* Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\r\n\r\nThis reverts commit f7f5bcfceca692d0e78c742a7c09c424f53d915b.\r\n\r\n* Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\r\n\r\nThis reverts commit 1b303c2968836245aaa43c3d0ff9249dd8bf9ed2.\r\n\r\n* docs: Document Redis commands used by celery (#5853)\r\n\r\n* remove cache back end integrtion test. (#5856)\r\n\r\n* Fix a race condition when publishing a very large chord header (#5850)\r\n\r\n* Added a test case which artificially introduces a delay to group.save().\r\n\r\n* Fix race condition by delaying the task only after saving the group.\r\n\r\n* update tox\r\n\r\n* Remove duplicate boto dependency. (#5858)\r\n\r\n* Revert \"remove cache back end integrtion test. (#5856)\" (#5859)\r\n\r\nThis reverts commit e0ac7a19a745dd5a52a615c1330bd67f2cef4d00.\r\n\r\n* Revert \"Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\" (#5857)\r\n\r\nThis reverts commit 4ddc605392d7694760f23069c34ede34b3e582c3.\r\n\r\n* Revert \"update tox\"\r\n\r\nThis reverts commit 49427f51049073e38439ea9b3413978784a24999.\r\n\r\n* Fix the test_simple_chord_with_a_delay_in_group_save test.\r\n\r\n* Revert \"Revert \"Skip unsupported canvas when using the cache backend\"\" (#5860)\r\n\r\n* Revert \"Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\"\r\n\r\nThis reverts commit fc101c61c1912c4dafa661981f8b865c011e8a55.\r\n\r\n* Make the xfail condition stricter.\r\n\r\n* Fix the xfail condition.\r\n\r\n* Linters should use Python 3.8.\r\n\r\n* Move pypy unit tests to the correct stage.\r\n\r\n* Temporarily allow PyPy to fail since it is unavailable in Travis.\r\n\r\n* Remove unused variables.\r\n\r\n* Fix unused imports.\r\n\r\n* Fix pydocstyle errors in dynamodb.\r\n\r\n* Fix pydocstyle errors in redis backend.\r\n\r\n* bump kombu to 4.6.7\r\n\r\n* celery 4.4.0rc5 changelog\r\n\r\n* celery 4.4.0rc5\r\n\r\n* rm redundant code (#5864)\r\n\r\n* isort.\r\n\r\n* Document the threads task pool in the CLI.\r\n\r\n* Removed the paragraph about using librabbitmq. Refer to #5872 (#5873)\r\n\r\n* Task class definitions can have retry attributes (#5869)\r\n\r\n* autoretry_for\r\n* retry_kwargs\r\n* retry_backoff\r\n* retry_backoff_max\r\n* retry_jitter\r\ncan now be defined as cls attributes.\r\n\r\nAll of these can be overriden from the @task decorator\r\n\r\nhttps://github.com/celery/celery/issues/4684\r\n\r\n* whatsnew in Celery 4.4 as per projects standard (#5817)\r\n\r\n* 4.4 whatsnew\r\n\r\n* update\r\n\r\n* update\r\n\r\n* Move old whatsnew to history.\r\n\r\n* Remove old news & fix markers.\r\n\r\n* Added a section notifying Python 3.4 has been dropped.\r\n\r\n* Added a note about ElasticSearch basic auth.\r\n\r\n* Added a note about being able to replace eagerly run tasks.\r\n\r\n* Update index.\r\n\r\n* Address comment.\r\n\r\n* Described boto3 version updates.\r\n\r\n* Fix heading.\r\n\r\n* More news.\r\n\r\n* Thread pool.\r\n\r\n* Add Django and Config changes\r\n\r\n* Bump version 4.4.0\r\n\r\n* upate readme\r\n\r\n* Update docs regarding Redis Message Priorities (#5874)\r\n\r\n* Update docs regarding Redis Message Priorities\r\n\r\n* fixup! Update docs regarding Redis Message Priorities\r\n\r\n* Update 4.4.0 docs (#5875)\r\n\r\n* Update 4.4 release changelog\r\n\r\n* Update whatsnew-4.4\r\n\r\n* Update tasks docs\r\n\r\n* Fix recent tasks doc file update (#5879)\r\n\r\n* Include renamed Changelog.rst in source releases. (#5880)\r\n\r\nChangelog.rst was renamed from Changelog in\r\nfd023ec174bedc2dc65c63a0dc7c85e425ac00c6 but MANIFEST.in was not updated to\r\ninclude the new name. This fixes the file name so Changelog.rst will show up\r\nin future source releases again.\r\n\r\n* Reorganised project_urls and classifiers. (#5884)\r\n\r\n* Use safequote in SQS Getting Started doc (#5885)\r\n\r\n* Have appveyor build relevant versions of Python. (#5887)\r\n\r\n* Have appveyor build relevant and buildable versions of Python.\r\n\r\n* Appveyor is missing CI requirements to build.\r\n\r\n* Pin pycurl to version that will build with appveyor (because wheels files exist)\r\n\r\n* Restrict python 2.7 64 bit version of python-dateutil for parse.\r\n\r\n* Use is_alive instead of isAlive for Python 3.9 compatibility. (#5898)\r\n\r\n* Very minor tweak to commen to improve docs (#5900)\r\n\r\nAs discussed here: \r\nhttps://stackoverflow.com/questions/58816271/celery-task-asyncresult-takes-task-id-but-is-documented-to-get-asyncresult-inst\r\nthis comment seems to flow to a very confusing and misleading piece of documentation here:\r\nhttps://docs.celeryproject.org/en/latest/reference/celery.app.task.html#celery.app.task.Task.AsyncResult\r\n\r\n* Support configuring schema of a PostgreSQL database (#5910)\r\n\r\n* Support configuring schema of a PostgreSQL database\r\n\r\n* Add unit test\r\n\r\n* Remove blank line\r\n\r\n* Fix raise issue to make exception message more friendly (#5912)\r\n\r\nSigned-off-by: Chenyang Yan <memory.yancy@gmail.com>\r\n\r\n* Add progress for retry connections (#5915)\r\n\r\nThis will show current retry progress so it will clear confusion about how many retries will be tried for connecting to broker.\r\nCloses #4556\r\n\r\n* chg: change xrange to range (#5926)\r\n\r\n* update docs for json serializer and add note for int keys serialization (#5932)\r\n\r\n* fix indentation for note block in calling.rst (#5933)\r\n\r\n* Added links to other issue trackers. (#5939)\r\n\r\n* Add labels automatically for issues. (#5938)\r\n\r\n* remove redundant raise from docstring (#5941)\r\n\r\n`throw` is True by default so the Retry exception will already get raised by calling `self.retry(countdown=60 * 5, exc=exc)`\r\n\r\n* Run pyupgrade.\r\n\r\n* Fix typo (#5943)\r\n\r\n* Remove fallback code for Python 2 support.\r\n\r\n* docs: fixes Rabbits and Warrens link in routing userguide (#4007) (#5949)\r\n\r\n* Fix labels on Github issue templates. (#5955)\r\n\r\nUse quotation marks to escape labels on Github issue templates. This\r\nprevents the colon from breaking the template.\r\n\r\n* added retry_on_timeout and socket_keepalive to config and doc (#5952)\r\n\r\n* Fixed event capture from building infinite list (#5870)\r\n\r\n* Fix error propagation example (#5966)\r\n\r\n* update range (#5971)\r\n\r\n* update setup.cfg\r\n\r\n* bump billiard to 3.6.3.0\r\n\r\n* Update __init__.py (#5951)\r\n\r\n* Update __init__.py\r\n\r\nFixed issue for object with result_backend=True (decode fails on multiple None request)\r\n\r\n* Update __init__.py\r\n\r\nsuggested changeds\r\n\r\n* Update __init__.py\r\n\r\n* Use configured db schema also for sequences (#5972)\r\n\r\n* Added a default value for retries in worker.strategy. (#5945)\r\n\r\n* Added a default value for retries in worker.strategy.\r\n\r\nI was facing an issue when adding tasks directly to rabbitmq\r\nusing pika instead of calling task.apply_async. The issue was\r\nthe self.retry mechanisum was failing. In app/tasks.py the line\r\n`retries = request.retries + 1` was causing the issue. On further\r\ntracing I figured out that it was because the default .get value\r\n(None) was getting passed through this function and was raising\r\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'int'\r\n\r\n* Add test cases for default and custom retries value\r\n\r\n* pypy 7.3 (#5980)\r\n\r\n* Pass `interval` to `get_many` (#5931)\r\n\r\n* Pass `interval` to `get_many`\r\n\r\n* Fix: Syntax error for py2.7\r\n\r\n* Fix: Syntax error for py2.7\r\n\r\n* Fixed problem with conflicting autoretry_for task parameter and Task.replace() (#5934)\r\n\r\n* Fix #5917 (#5918)\r\n\r\n* Fix changelog (#5881)\r\n\r\n* merge in place the apps beat schedule in the default Schedule class. (#5908)\r\n\r\n* Handle Redis connection errors in result consumer (#5921)\r\n\r\n* Handle Redis connection errors in result consumer\r\n\r\n* Closes #5919.\r\n\r\n* Use context manager for Redis conusmer reconnect\r\n\r\n* Log error when result backend reconnection fails\r\n\r\n* Fix inspect_command documentation (#5983)\r\n\r\n* Use gevent and eventlet wait() functions to remove busy-wait (#5974)\r\n\r\n* Use gevent and eventlet wait() functions to remove busy-wait\r\n\r\nFixes issue #4999.\r\n\r\nCalling AsyncResult.get() in a gevent context would cause the async Drainer to repeatedly call wait_for until the result was completed.  I've updated the code to have a specific implementation for gevent and eventlet that will cause wait_for to only return every \"timeout\" # of seconds, rather than repeatedly returning.\r\n\r\nSome things I'd like some feedback on:\r\n* Where's the best place to add test coverage for this?  It doesn't look like there are any tests that directly exercised the Drainer yet so I would probably look to add some of these to the backends/ unit tests.\r\n* The way I did this for the Eventlet interface was to rely on the private _exit_event member of the GreenThread instance; to do this without relying on a private member would require some additional changes to the backend Drainer interface so that we could wait for an eventlet-specific event in wait_for().  I can do this, just wanted to get some feedback before.\r\n\r\n* Add unit tests for Drainer classes\r\n\r\nIn order for this to work without monkeypatching in the tests, I needed to call sleep(0) to let the gevent/eventlet greenlets to yield control back to the calling thread.  I also made the check interval configurable in the drainer so that we didn't need to sleep multiples of 1 second in the tests.\r\n\r\n* Weaken asserts since they don't pass on CI\r\n\r\n* Fix eventlet auto-patching DNS resolver module on import\r\n\r\nBy default it looks like \"import eventlet\" imports the greendns module unless the environment EVENTLET_NO_GREENDNS is set to true.  This broke a pymongo test.\r\n\r\n* Add tests ensuring that the greenlet loop isn't blocked\r\n\r\nThese tests make sure that while drain_events_until is running that other gevent/eventlet concurrency can run.\r\n\r\n* Clean up tests and make sure they wait for all the threads to stop\r\n\r\n* Fix chords with chained groups (#5947)\r\n\r\n* kombu 4.6.8\r\n\r\n* update setup\r\n\r\n* updated version 4.4.1\r\n\r\n* Fix: Accept and swallow `kwargs` to handle unexpected keyword arguments\r\n\r\n* Allow boto to look for credentials in S3Backend\r\n\r\n* add reference to Rusty Celery\r\n\r\n* Update document of revoke method in Control class\r\n\r\n* Fix copy-paste error in result_compression docs\r\n\r\n* Make 'socket_keepalive' optional variable (#6000)\r\n\r\n* update connection params - socket_keepalive is optional now\r\n\r\n* update readme - added versionadded 4.4.1 and fixed `redis_socket_keepalive`\r\n\r\n* added check of socket_keepalive in arguments for UnixSocketConnect\r\n\r\n* Fixed incorrect setting name in documentation (#6002)\r\n\r\n* updated version 4.4.2\r\n\r\n* Fix backend utf-8 encoding in s3 backend\r\n\r\nCelery backend uses utf-8 to deserialize results,\r\nwhich would fail for some serializations like pickle.\r\n\r\n* Fix typo in celery.bin.multi document\r\n\r\n* Upgraded pycurl to the latest version that supports wheel.\r\n\r\n* pytest 5.3.5 max\r\n\r\n* Add uptime to the stats inspect command\r\n\r\n* Doc tweaks: mostly grammar and punctuation (#6016)\r\n\r\n* Fix a bunch of comma splices in the docs\r\n\r\n* Remove some unnecessary words from next-steps doc\r\n\r\n* Tweak awkward wording; fix bad em-dash\r\n\r\n* Fix a bunch more comma splices in next-steps doc\r\n\r\n* Miscellaneous grammar/punctuation/wording fixes\r\n\r\n* Link to task options in task decorator docs\r\n\r\n* Fixing issue #6019: unable to use mysql SSL parameters when getting mysql engine (#6020)\r\n\r\n* Fixing issue #6019: unable to use mysql SSL parametes in create_engine()\r\n\r\n* adding test for get_engine when self.forked is False and engine args are passed in for create_engine()\r\n\r\n* Clean TraceBack to reduce memory leaks for exception task (#6024)\r\n\r\n* Clean TraceBack to reduce memory leaks\r\n\r\n* add unit test\r\n\r\n* add unit test\r\n\r\n* reject unittest\r\n\r\n* Patch For Python 2.7 compatibility\r\n\r\n* update unittest\r\n\r\n* Register to the garbage collector by explicitly referring to f_locals.\r\n\r\n* need more check\r\n\r\n* update code coverage\r\n\r\n* update Missing unit test\r\n\r\n* 3.4 -> 3.5\r\n\r\nCo-authored-by: heedong.jung <heedong.jung@samsung.com>\r\n\r\n* exceptions: NotRegistered: fix up language\r\n\r\nMinor fix to the language.\r\n\r\n* Note about autodiscover_tasks and periodic tasks\r\n\r\nThis is particularly important for Django projects that put periodic tasks into each app's `tasks.py` and want to use one as a periodic task.  By the time `autodiscover_tasks()` loads those tasks, the `on_after_configure` Signal has already come and gone, so anything decorated with `@app.on_after_finalize.connect` will never be called.\r\n\r\nIf there's other documentation on this subject, I could not find it.\r\n\r\n* Avoid PyModulelevel, deprecated in Sphinx 4\r\n\r\nUse `PyFunction` instead of `PyModulelevel` to avoid this\r\ndeprecation warning:\r\n\r\n    RemovedInSphinx40Warning: PyModulelevel is deprecated.\r\n    Please check the implementation of\r\n    <class 'celery.contrib.sphinx.TaskDirective'>\r\n\r\nThis replacement is one of the options listed in the Sphinx docs\r\n(https://www.sphinx-doc.org/en/master/extdev/deprecated.html).\r\n\r\n* Give up sending a worker-offline message if transport is not connected (#6039)\r\n\r\n* If worker-offline event fails to send, give up and die peacefully\r\n\r\n* Add test for retry= and msgs in heartbeat\r\n\r\n* Fix the build and all documentation warnings.\r\n\r\nI finally upgraded our theme to 2.0.\r\nAs a result we've upgraded Sphinx to 2.0.\r\nWork to upgrade Sphinx to 3.0 will proceed in a different PR.\r\n\r\nThis upgrade also fixes our build issues caused by #6032.\r\nWe don't support Sphinx 1.x as a result of that patch.\r\n\r\nI've also included the missing 4.3 changelog to our history.\r\n\r\n* Support both Sphinx 2 and 3.\r\n\r\n* Add Task to __all__ in celery.__init__.py\r\n\r\n* Add missing parenthesis to example in docs\r\n\r\n* Ensure a single chain object in a chain does not raise MaximumRecursionError.\r\n\r\nPreviously chain([chain(sig)]) would crash.\r\nWe now ensure it doesn't.\r\n\r\nFixes #5973.\r\n\r\n* update setup.py\r\n\r\n* fix typo\r\n\r\nmissing quote at the end of line\r\n\r\n* Fix a typo in monitoring doc\r\n\r\n* update travis\r\n\r\n* update ubuntu to focal foss\r\n\r\n20.04 LTS\r\n\r\n* Fix autoscale when prefetch_multiplier is 1\r\n\r\n* Allow start_worker to function without ping task\r\n\r\n* Update celeryd.conf\r\n\r\nMove the directory of the program before the execution of the command/script\r\n\r\n* Add documentation for \"predefined_queue_urls\"\r\n\r\n* [Fix #6074]: Add missing documentation for MongoDB as result backend.\r\n\r\n* update funding\r\n\r\n* \ud83d\udc1b Correctly handle configuring the serializer for always_eager mode. (#6079)\r\n\r\n* \ud83d\udc1b Correctly handle configuring the serializer for always_eager mode.\r\n\r\noptions['serializer'] will always exist, because it is initialized from an mattrgetter. Even if unset, it will be present in the options with a value of None.\r\n\r\n* \ud83d\udc1b Add a test for new always_eager + task_serializer behavior.\r\n\r\n* \u270f\ufe0f Whoops missed a :\r\n\r\n* Remove doubling of prefetch_count increase when prefetch_multiplier gt 1 (#6081)\r\n\r\n* try ubuntu focal (#6088)\r\n\r\n* Fix eager function not returning result after retries.\r\n\r\nUsing apply function does not return correct results after at least one\r\nretry because the return value of successive call is not going back to\r\nthe original caller.\r\n\r\n* return retry result if not throw and is_eager\r\n\r\nif throw is false, we would be interested by the result of retry and\r\nnot the current result which will be an exception.\r\n\r\nThis way it does not break the logic of `raise self.retry`\r\n\r\nThis should be used like `return self.retry(..., throw=False)` in an\r\nexcept statement.\r\n\r\n* revert formatting change\r\n\r\n* Add tests for eager retry without throw\r\n\r\n* update predefined-queues documentation\r\n\r\nSuggested version of configuration does not work. \r\nAdditionally I'd like to mention, that `access_key_id` and `secret_access_key` are mandatory fields and not allowing you to go with defaults AWS_* env variables.\r\nI can contribute for this variables to be optional\r\n\r\nAlso I'm not sure if security token will apply, could you please advice how to do it?\r\n\r\n* Fix couchbase version < 3.0.0 as API changed\r\n\r\n* Remove reference to -O fair in optimizations\r\n\r\n-O fair was made the default in Celery 4.0\r\nhttps://docs.celeryproject.org/en/stable/history/whatsnew-4.0.html#ofair-is-now-the-default-scheduling-strategy\r\n\r\n* pytest ranges\r\n\r\n* pypy3\r\n\r\n* revert to bionic\r\n\r\n* do not load docs.txt requirements for python 2.7\r\n\r\nAs it requires Sphinx >= 2.0.0 and there is no such version compatible\r\nwith python 2.7\r\n\r\n* update cassandra travis integration test configuration\r\n\r\ncassandra:latest docker image changed location of cqlsh program\r\n\r\n* pin cassandra-driver\r\n\r\nCI get stuck after all cassandra integration tests\r\n\r\n* Fix all flake8 lint errors\r\n\r\n* Fix all pydocstyle lint errors\r\n\r\n* Fix all configcheck lint errors\r\n\r\n* Always requeue while worker lost regardless of the redelivered flag (#6103)\r\n\r\n* #5598 fix, always redelivery while WorkerLostError\r\n\r\n* fix, change the requeue flag so the task will remain PENDING\r\n\r\n* Allow relative paths in the filesystem backend (#6070)\r\n\r\n* Allow relative paths in the filesystem backend\r\n\r\n* fix order of if statements\r\n\r\n* [Fixed Issue #6017]\r\n--> Added Multi default logfiles and pidfiles paths\r\n\r\n[Description]:\r\n--> Changed the default paths for log files & pid files to be '/var/log/celery' and '/var/run/celery'\r\n--> Handled by creating the respective paths if not exist.\r\n--> Used os.makedir(path,if_exists=True)\r\n\r\n[Unit Test Added]:\r\n--> .travis.yml - config updated with 'before install'.\r\n--> t/unit/apps/test_multi.py - Changed the default log files & pid files paths wherever required.\r\n\r\n* Avoid race condition due to task duplication.\r\n\r\nIn some circumstances like a network partitioning, some tasks might\r\nbe duplicated. Sometimes, this lead to a race condition where a lost\r\ntask overwrites the result of the last successful task in the backend.\r\n\r\nIn order to avoid this race condition we prevent updating the result if\r\nit's already in successful state.\r\n\r\nThis fix has been done for KV backends only and therefore won't work\r\nwith other backends.\r\n\r\n* adding tests\r\n\r\n* Exceptions must be old-style classes or derived from BaseException,\r\nbut here self.result may not subclass of BaseException.\r\n\r\n* update fund link\r\n\r\n* Fix windows build (#6104)\r\n\r\n* do not load memcache nor couchbase lib during windows build\r\n\r\nthose libraries depends on native libraries libcouchbase and libmemcached\r\nthat are not installed on Appveyor.\r\nAs only unit tests runs on Appveyor, it should be fine\r\n\r\n* Add python 3.8 workaround for app trap\r\n\r\n* skip tests file_descriptor_safety tests on windows\r\n\r\nAsyncPool is not supported on Windows so Pool does have _fileno_to_outq\r\nattribute, making the test fail\r\n\r\n* Fix crossplatform log and pid files in multi mode\r\n\r\nit relates to #6017\r\n\r\n* Use tox to build and test on windows\r\n\r\n* remove tox_install_command\r\n\r\n* drop python 2.7 from windows build\r\n\r\n* Add encode to meta task in base.py (#5894)\r\n\r\n* Add encode to base.py meta result\r\n\r\nFix bug with impossibility to load None from task meta\r\n\r\n* Add tests for None. Remove exceed encode.\r\n\r\n* Update base.py\r\n\r\nAdd return payload if None\r\n\r\n* Update time.py to solve the microsecond issues (#5199)\r\n\r\nWhen `relative` is set to True, the day, hour, minutes second will be round to the nearest one, however, the original program do not update the microsecond (reset it). As a result, the run-time offset on the microsecond will then be accumulated. \r\nFor example, given the interval is 15s and relative is set to True\r\n1.    2018-11-27T15:01:30.123236+08:00\r\n2.    2018-11-27T15:01:45.372687+08:00\r\n3.    2018-11-27T15:02:00.712601+08:00\r\n4.    2018-11-27T15:02:15.987720+08:00\r\n5.    2018-11-27T15:02:31.023670+08:00\r\n\r\n* Change backend _ensure_not_eager error to warning\r\n\r\n* Add priority support for 'celery.chord_unlock' task (#5766)\r\n\r\n* Change eager retry behaviour\r\n\r\neven with raise self.retry, it should return the eventual value\r\nor MaxRetriesExceededError.\r\nif return value of eager apply is Retry exception, retry eagerly\r\nthe task signature\r\n\r\n* Order supported Python versions\r\n\r\n* Avoid race condition in elasticsearch backend\r\n\r\nif a task is retried, the task retry may work concurrently to current task.\r\nstore_result may come out of order.\r\nit may cause a non ready state (Retry) to override a ready state (Success, Failure).\r\nIf this happens, it will block indefinitely pending any chord depending on this task.\r\n\r\nthis change makes document updates safe for concurrent writes.\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/optimistic-concurrency-control.html\r\n\r\n* backends base get_many pass READY_STATES arg\r\n\r\n* test backends base get_many pass READY_STATES arg\r\n\r\n* Add integration tests for Elasticsearch and fix _update\r\n\r\n* Revert \"revert to bionic\"\r\n\r\nThis reverts commit 6e091573f2ab0d0989b8d7c26b677c80377c1721.\r\n\r\n* remove jython check\r\n\r\n* feat(backend): Adds cleanup to ArangoDB backend\r\n\r\n* Delete Document Known Issue with CONN_MAX_AGE in 4.3\r\n\r\n* issue 6108 fix filesystem backend cannot not be serialized by picked (#6120)\r\n\r\n* issue 6108 fix filesystem backend cannot not be serialized by picked\r\n\r\nhttps://github.com/celery/celery/issues/6108\r\n\r\n* issue-6108 fix unit test failure\r\n\r\n* issue-6108 fix flake8 warning\r\n\r\nCo-authored-by: Murphy Meng <mmeng@mirriad.com>\r\n\r\n* kombu==4.6.9 (#6133)\r\n\r\n* changelog for 4.4.3\r\n\r\n* v 4.4.3\r\n\r\n* remove un supported classifier\r\n\r\n* Fix autoretry_for with explicit retry (#6138)\r\n\r\n* Add tests for eager task retry\r\n\r\n* Fixes #6135\r\n\r\nIf autoretry_for is set too broad on Exception, then autoretry may get a Retry\r\nif that's the case, rethrow directly instead of wrapping it in another Retry\r\nto avoid loosing new args\r\n\r\n* Use Django DB max age connection setting (fixes #4116)\r\n\r\n* Add retry on recoverable exception for the backend (#6122)\r\n\r\n* Add state to KeyValueStoreBackend.set method\r\n\r\nThis way, a backend implementation is able to take decisions based on\r\ncurrent state to store meta in case of failures.\r\n\r\n* Add retry on recoverable exception for the backend\r\n\r\nacks.late makes celery acknowledge messages only after processing and\r\nstoring result on the backend.\r\n\r\nHowever, in case of backend unreachable, it will shadow a Retry\r\nexception and put the task as failed in the backend not retrying the\r\ntask and acknoledging it on the broker.\r\n\r\nWith this new result_backend_always_retry setting, if the backend\r\nexception is recoverable (to be defined per backend implementation),\r\nit will retry the backend operation with an exponential backoff.\r\n\r\n* Make elasticsearch backward compatible with 6.x\r\n\r\n* Make ES retry storing updates in a better way\r\n\r\nif existing value in the backend is success, then do nothing.\r\nif it is a ready status, then update it only if new value is a ready status as well.\r\nelse update it.\r\n\r\nThis way, a SUCCESS cannot be overriden so that we do not loose\r\nresults but any ready state other than success (FAILURE, REVOKED) can\r\nbe overriden by another ready status (i.e. a SUCCESS)\r\n\r\n* Add test for value not found in ES backend\r\n\r\n* Fix random distribution of jitter for exponential backoff\r\n\r\nrandom.randrange should be called with the actual so that all numbers\r\nhave equivalent probability, otherwise maximum value does have a way\r\nhigher probability of occuring.\r\n\r\n* fix unit test if extra modules are not present\r\n\r\n* ElasticSearch: add setting to save meta as json\r\n\r\n* fix #6136. celery 4.4.3 always trying create /var/run/celery directory (#6142)\r\n\r\n* fix #6136. celery 4.4.3 always trying create /var/run/celery directory, even if it's not needed.\r\n\r\n* fix #6136. cleanup\r\n\r\n* Add task_internal_error signal (#6049)\r\n\r\n* Add internal_error signal\r\n\r\nThere is no special signal for an out of body error which can be the\r\nresult of a bad result backend.\r\n\r\n* Fix syntax error.\r\n\r\n* Document the task_internal_error signal.\r\n\r\nCo-authored-by: Laurentiu Dragan <ldragan@bloomberg.net>\r\n\r\n* changelog for v4.4.4\r\n\r\n* kombu 4.6.10 (#6144)\r\n\r\n* v4.4.4\r\n\r\n* Add missing dependency on future (#6146)\r\n\r\nFixes #6145\r\n\r\n* ElasticSearch: Retry index if document was deleted between index and update (#6140)\r\n\r\n* ElasticSearch: Retry index if document was deleted between index and update\r\n\r\n* Elasticsearch increase coverage to 100%\r\n\r\n* Fix pydocstyle\r\n\r\n* Specify minimum version of Sphinx for Celery extension (#6150)\r\n\r\nThe Sphinx extension requires Sphinx 2 or later due to #6032.\r\n\r\n* fix windows build\r\n\r\n* fix flake8 error\r\n\r\n* fix multi tests in local\r\n\r\nMock os.mkdir and os.makedirs to avoid creating /var/run/celery and\r\n/var/log/celery during unit tests if run without root priviledges\r\n\r\n* Customize the retry interval of chord_unlock tasks\r\n\r\n* changelog v4.4.5\r\n\r\n* v4.4.5\r\n\r\n* Fix typo in comment.\r\n\r\n* Remove autoscale force_scale methods (#6085)\r\n\r\n* Remove autoscale force_scale methods\r\n\r\n* Remove unused variable in test\r\n\r\n* Pass ping destination to request\r\n\r\nThe destination argument worked fine from CLI but didn't get used when calling ping from Python.\r\n\r\n* Fix autoscale test\r\n\r\n* chord: merge init options with run options\r\n\r\n* put back KeyValueStoreBackend.set method without state\r\n\r\nIt turns out it was breaking some other projects.\r\nwrapping set method with _set_with_state, this way it will not break existing Backend.\r\nwhile enabling this feature for other Backend.\r\n\r\nCurrently, only ElasticsearchBackend supports this feature.\r\n\r\nIt protects concurrent update to corrupt state in the backend.\r\nExisting success cannot be overriden, nor a ready state by a non ready state.\r\ni.e. a Retry state cannot override a Success or Failure.\r\nAs a result, chord_unlock task will not loop forever due to missing ready state on the backend.\r\n\r\n* added --range-prefix option to `celery multi` (#6180)\r\n\r\n* added --range-prefix option to `celery multi`\r\n\r\nAdded option for overriding default range prefix when running\r\nmultiple workers prividing range with `celery multy` command.\r\n\r\n* covered multi --range-prefix with tests\r\n\r\n* fixed --range-prefix test\r\n\r\n* Added as_list function to AsyncResult class (#6179)\r\n\r\n* Add as_list method to return task IDs as a list\r\n\r\n* Add a test for as_list method\r\n\r\n* Add docstring for as_list method\r\n\r\n* Fix CassandraBackend error in threads or gevent pool (#6147)\r\n\r\n* Fix CassandraBackend error in threads or gevent pool\r\n        * remove CassandraBackend.process_cleanup\r\n\r\n* Add test case\r\n\r\n* Add test case\r\n\r\n* Add comments test_as_uri\r\n\r\nCo-authored-by: baixue <baixue@wecash.net>\r\n\r\n* changelog for v4.4.6\r\n\r\n* v4.4.6\r\n\r\n* Update Wiki link in \"resources\"\r\n\r\nIn the page linked below, the link to wiki is outdated. Fixed that. \r\n\r\nhttps://docs.celeryproject.org/en/stable/getting-started/resources.html\r\n\r\n* test_canvas: Add test for chord-in-chain\r\n\r\nAdd test case for the issue where a chord in a chain does not\r\nwork when using .apply(). This works fine with .apply_async().\r\n\r\n* Trying to fix flaky tests in ci\r\n\r\n* fix pydocstyle errors\r\n\r\n* fix pydocstyle\r\n\r\n* Drainer tests, put a lower constraint on number of intervals\r\n\r\nliveness should iterate 10 times per interval while drain_events only\r\nonce. However, as it may use thread that may be scheduled out of\r\norder, we may end up in some situation where liveness and drain_events\r\nwere called the same amount of time.\r\n\r\nLowering the constraint from < to <= to avoid failing the tests.\r\n\r\n* pyupgrade.\r\n\r\n* Fix merge error.\r\n\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <root@grassfish.net>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: spengjie <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: whuji <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Xtreak <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\nCo-authored-by: Alex Riina <alex.riina@gmail.com>\r\nCo-authored-by: Joon Hwan \uae40\uc900\ud658 <xncbf12@gmail.com>\r\nCo-authored-by: Prabakaran Kumaresshan <k_prabakaran+github@hotmail.com>\r\nCo-authored-by: Martey Dodoo <martey@mobolic.com>\r\nCo-authored-by: Konstantin Seleznev <4374093+Seleznev-nvkz@users.noreply.github.com>\r\nCo-authored-by: Prodge <Prodge@users.noreply.github.com>\r\nCo-authored-by: Abdelhadi Dyouri <raryat@gmail.com>\r\nCo-authored-by: Ixiodor <Ixiodor@users.noreply.github.com>\r\nCo-authored-by: abhishekakamai <47558404+abhishekakamai@users.noreply.github.com>\r\nCo-authored-by: Allan Lei <allanlei@helveticode.com>\r\nCo-authored-by: M1ha Shvn <work_shvein_mihail@mail.ru>\r\nCo-authored-by: Salih Caglar Ispirli <caglarispirli@gmail.com>\r\nCo-authored-by: Micha Moskovic <michamos@gmail.com>\r\nCo-authored-by: Chris Burr <chrisburr@users.noreply.github.com>\r\nCo-authored-by: Dave King <tildedave@gmail.com>\r\nCo-authored-by: Dmitry Nikulin <v.dmitry.nikulin@gmail.com>\r\nCo-authored-by: Michael Gaddis <mgaddis@ancestry.com>\r\nCo-authored-by: epwalsh <epwalsh10@gmail.com>\r\nCo-authored-by: TalRoni <tal.inon.16@gmail.com>\r\nCo-authored-by: Leo Singer <leo.singer@ligo.org>\r\nCo-authored-by: Stephen Tomkinson <neonbunny@users.noreply.github.com>\r\nCo-authored-by: Abhishek <abhishek.shukla@xeneta.com>\r\nCo-authored-by: theirix <theirix@gmail.com>\r\nCo-authored-by: yukihira1992 <hirayama@cancerscan.jp>\r\nCo-authored-by: jpays <jerome.pays@cnp.fr>\r\nCo-authored-by: Greg Ward <greg@gerg.ca>\r\nCo-authored-by: Alexa Griffith <agriffith@bluecore.com>\r\nCo-authored-by: heedong <63043496+heedong-jung@users.noreply.github.com>\r\nCo-authored-by: heedong.jung <heedong.jung@samsung.com>\r\nCo-authored-by: Shreyansh Khajanchi <shreyanshk@users.noreply.github.com>\r\nCo-authored-by: Sam Thompson <georgedorn@users.noreply.github.com>\r\nCo-authored-by: Alphadelta14 <alpha@pokesplash.net>\r\nCo-authored-by: Azimjon Pulatov <azimjohn@yahoo.com>\r\nCo-authored-by: ysde <ysde108@gmail.com>\r\nCo-authored-by: AmirMohammad Ziaei <amir_zia@outlook.com>\r\nCo-authored-by: Ben Nadler <ben.nadler@gusto.com>\r\nCo-authored-by: Harald Nezbeda <hn@nezhar.com>\r\nCo-authored-by: Chris Frisina <github@specialorange.org>\r\nCo-authored-by: Adam Eijdenberg <adam.eijdenberg@digital.gov.au>\r\nCo-authored-by: rafaelreuber <rafaelreuber@gmail.com>\r\nCo-authored-by: Noah Kantrowitz <noah@coderanger.net>\r\nCo-authored-by: Ben Nadler <jbennadler@gmail.com>\r\nCo-authored-by: Clement Michaud <c.michaud@criteo.com>\r\nCo-authored-by: Mathieu Chataigner <m.chataigner@criteo.com>\r\nCo-authored-by: eugeneyalansky <65346459+eugeneyalansky@users.noreply.github.com>\r\nCo-authored-by: Leonard Lu <leonard@socialcodeinc.com>\r\nCo-authored-by: XinYang <yangxinhust@hotmail.com>\r\nCo-authored-by: Ingolf Becker <ingolf.becker@googlemail.com>\r\nCo-authored-by: Anuj Chauhan <an12ch98@gmail.com>\r\nCo-authored-by: shaoziwei <ziwei.shao@cloudchef.io>\r\nCo-authored-by: Mathieu Chataigner <mathieu.chataigner@gmail.com>\r\nCo-authored-by: Anakael <shemeldima2@yandex.ru>\r\nCo-authored-by: Danny Chan <danny.chan@c-k.dev>\r\nCo-authored-by: Sebastiaan ten Pas <sebastiaan@diggimedia.nl>\r\nCo-authored-by: David TILLOY <d.tilloy@criteo.com>\r\nCo-authored-by: Anthony N. Simon <anthonynsimon@users.noreply.github.com>\r\nCo-authored-by: lironhl <liron.lavy@gmail.com>\r\nCo-authored-by: Raphael Cohen <raphael.cohen@sekoia.fr>\r\nCo-authored-by: JaeyoungHeo <jay.jaeyoung@gmail.com>\r\nCo-authored-by: singlaive <singlaive@gmail.com>\r\nCo-authored-by: Murphy Meng <mmeng@mirriad.com>\r\nCo-authored-by: Wu Haotian <whtsky@gmail.com>\r\nCo-authored-by: Kwist <velnik@gmail.com>\r\nCo-authored-by: Laurentiu Dragan <ldragan@bloomberg.net>\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: Radim S\u00fcckr <radim.suckr@gmail.com>\r\nCo-authored-by: Artem Vasilyev <artem.v.vasilyev@gmail.com>\r\nCo-authored-by: kakakikikeke-fork <kakakikikeke_new@yahoo.co.jp>\r\nCo-authored-by: Pysaoke <pysaoke@gmail.com>\r\nCo-authored-by: baixue <baixue@wecash.net>\r\nCo-authored-by: Prashant Sinha <prashantsinha@outlook.com>\r\nCo-authored-by: AbdealiJK <abdealikothari@gmail.com>\r\n\r\n* Remove Python 2 compatibility code from Celery (#6221)\r\n\r\n* Remove five from celery/__init__.py\r\n\r\n* Remove five from celery/beat.py\r\n\r\n* Remove five from celery/bootsteps.py\r\n\r\n* Remove five from celery/exceptions.py\r\n\r\n* Remove five from celery/local.py\r\n\r\n* Remove five from celery/platforms.py\r\n\r\n* Remove five from celery/result.py\r\n\r\n* Remove five from celery/schedules.py\r\n\r\n* Remove five from celery/app/amqp.py\r\n\r\n* Remove five from celery/app/annotations.py\r\n\r\n* Remove five from celery/app/backends.py\r\n\r\n* Remove five from celery/app/base.py\r\n\r\n* Remove five from celery/app/control.py\r\n\r\n* Remove five from celery/app/defaults.py\r\n\r\n* Remove five from celery/app/log.py\r\n\r\n* Remove five from celery/app/registry.py\r\n\r\n* Remove five from celery/app/routes.py\r\n\r\n* Remove five from celery/app/task.py\r\n\r\n* Remove five from celery/app/trace.py\r\n\r\n* Remove five from celery/app/utils.py\r\n\r\n* Remove five from celery/apps/beat.py\r\n\r\n* Remove five from celery/apps/multi.py\r\n\r\n* Remove five from celery/apps/worker.py\r\n\r\n* Remove five from celery/backends/database/__init__.py\r\n\r\n* Remove five from celery/backends/amqp.py\r\n\r\n* Remove five from celery/backends/asynchronous.py\r\n\r\n* Remove five from celery/backends/base.py\r\n\r\n* Remove five from celery/backends/dynamodb.py\r\n\r\n* Remove five from celery/backends/elasticsearch.py\r\n\r\n* Remove five from celery/backends/mongodb.py\r\n\r\n* Remove five from celery/backends/redis.py\r\n\r\n* Remove five from celery/backends/rpc.py\r\n\r\n* Remove five from celery/concurrency/asynpool.py\r\n\r\n* Remove five from celery/concurrency/base.py\r\n\r\n* Remove five from celery/concurrency/prefork.py\r\n\r\n* Remove five from celery/contrib/testing/manager.py\r\n\r\n* Remove five from celery/contrib/migrate.py\r\n\r\n* Remove five from celery/contrib/rdb.py\r\n\r\n* Remove five from celery/events/cursesmon.py\r\n\r\n* Remove five from celery/events/dispatcher.py\r\n\r\n* Remove five from celery/events/state.py\r\n\r\n* Remove five from celery/loaders/base.py\r\n\r\n* Remove five from celery/security/certificate.py\r\n\r\n* Remove five from celery/security/utils.py\r\n\r\n* Remove five from celery/task/base.py\r\n\r\n* Remove five from celery/utils/dispatch/signal.py\r\n\r\n* Remove five from celery/utils/abstract.py\r\n\r\n* Remove five from celery/utils/collections.py\r\n\r\n* Remove five from celery/utils/debug.py\r\n\r\n* Remove five from celery/utils/functional.py\r\n\r\n* Remove five from celery/utils/graph.py\r\n\r\n* Remove five from celery/utils/imports.py\r\n\r\n* Remove five from celery/utils/log.py\r\n\r\n* Remove five from celery/utils/saferepr.py\r\n\r\n* Remove five from celery/utils/serialization.py\r\n\r\n* Remove five from celery/utils/term.py\r\n\r\n* Remove five from celery/utils/text.py\r\n\r\n* Remove five from celery/utils/threads.py\r\n\r\n* Remove five from celery/utils/time.py\r\n\r\n* Remove five from celery/utils/timer2.py\r\n\r\n* Remove five from celery/consumer/consumer.py\r\n\r\n* Remove five from celery/consumer/gossip.py\r\n\r\n* Remove five from celery/consumer/mingle.py\r\n\r\n* Remove five from celery/worker/autoscale.py\r\n\r\n* Remove five from celery/worker/components.py\r\n\r\n* Remove five from celery/worker/control.py\r\n\r\n* Remove five from celery/worker/request.py\r\n\r\n* Remove five from celery/worker/state.py\r\n\r\n* Remove five from celery/worker/worker.py\r\n\r\n* Remove five from celery/t/benchmarks/bench_worker.py\r\n\r\n* Remove five from celery/t/integration/test_canvas.py\r\n\r\n* Remove five from celery/t/unit/app\r\n\r\n* Remove five from celery/t/unit/backends\r\n\r\n* Remove five from celery/t/unit/compat_modules\r\n\r\n* Remove five from celery/t/unit/concurrency\r\n\r\n* Remove five from celery/t/unit/contrib\r\n\r\n* Remove five from celery/t/unit/events\r\n\r\n* Remove five from celery/t/unit/security\r\n\r\n* Remove five from celery/t/unit/tasks\r\n\r\n* Remove five from celery/t/unit/utils\r\n\r\n* Remove five from celery/t/unit/worker\r\n\r\n* Sort imports.\r\n\r\n* Comment out PyPy for now.\r\n\r\n* Remove flakeplus.\r\n\r\n* Happify linter.\r\n\r\n* Fix merge problems.\r\n\r\n* Delete backport.\r\n\r\n* Remove unused import.\r\n\r\n* Remove logic that notifies user that the Python version isn't supported from setup.py.\r\n\r\npip already does that for us.\r\n\r\n* Add a trove classifier to indicate Celery only supports Python 3.\r\n\r\n* Restore usage of `reraise` for consistency with the kombu port.\r\n\r\n* Drop Python 2 compatibility code from our Sphinx extension.\r\n\r\n* Remove mention of flakeplus from tox.ini.\r\n\r\n* Remove mention of flakeplus from our CONTRIBUTING guide.\r\n\r\n* Bump Sphinx requirement.\r\n\r\n* Remove Python 2 compatibility code from our custom Sphinx extension.\r\n\r\n* Resolve Sphinx warning due to removed section in 32ff7b45aa3d78aedca61b6554a9db39122924fd.\r\n\r\n* Remove pydocstyle from build matrix as it was removed from master.\r\n\r\nSee #6278.\r\n\r\n* Bump version: 4.4.7 \u2192 5.0.0-alpha1\r\n\r\n* Final touches.\r\n\r\n* Fix README.\r\n\r\n* Bump Kombu to 5.0.0.\r\n\r\n* Bump version: 5.0.0-alpha1 \u2192 5.0.0a2\r\n\r\n* Fix wrong version.\r\n\r\n* Remove autodoc for removed module.\r\n\r\n* Remove documentation for removed methods.\r\n\r\n* Remove the riak backend since riak is no longer maintained.\r\n\r\n* Remove riak backend since riak is no longer maintained.\r\n\r\n* Start fresh.\r\n\r\n* Added all arguments for the celery worker command.\r\n\r\nStill needs more documentation and improvements...\r\n\r\n* Load the application and execute a worker.\r\n\r\n* Added the rest of the global options.\r\n\r\nIf an app is not specified we now use the default app.\r\n\r\nIn addition, we now exit with the correct status code.\r\n\r\n* Extract validation into parameter types.\r\n\r\n* Restructure and document.\r\n\r\n* Allow to pass worker configuration options from command line.\r\n\r\n* Implement the beat command.\r\n\r\n* Allow to configure celery options through the CLI.\r\n\r\n* Implement the `celery call` command.\r\n\r\n* Implement the `celery list bindings` command.\r\n\r\n* Implement the `celery purge` command.\r\n\r\n* Implement the `celery result` command.\r\n\r\n* Implement the `celery migrate` task.\r\n\r\n* Implemented the celery@thedrow: OK\r\n\r\n1 node online. command.\r\n\r\n* Take --no-color in consideration when outputting to stdout.\r\n\r\n* Ensure `celery worker` takes `--no-color` into consideration.\r\n\r\n* Use the preformatted OK string.\r\n\r\n* Adopt the NO_COLOR standard.\r\n\r\nSee https://no-color.org/ for details.\r\n\r\n* Split commands into separate files.\r\n\r\n* Added 'did you mean' messages.\r\n\r\n* Implement the `celery events` command.\r\n\r\n* Text style should take --no-color into consideration as well.\r\n\r\n* Implement the basic `celery inspect` command.\r\n\r\n* Improve UI.\r\n\r\n* Organize the code.\r\n\r\n* Implement the `celery graph bootsteps` command.\r\n\r\n* Implement the `celery graph workers` command.\r\n\r\n* Implement the `celery upgrade settings` command.\r\n\r\n* Implement the `celery report` command.\r\n\r\n* Delete former unit tests.\r\n\r\n* Implement the `celery logtool` command.\r\n\r\n* Pass the quiet argument to the CLI context.\r\n\r\n* Limit inspect to existing actions.\r\n\r\n* Implement the `celery control` command.\r\n\r\n* Basic scaffold for the `celery amqp` shell command.\r\n\r\n* Start implementing the shell commands.\r\n\r\n* Implement basic.publish and basic.get.\r\n\r\n* Echo OK after acknowledgement.\r\n\r\n* Reformat Code.\r\n\r\n* Implement the exchange.declare command.\r\n\r\n* Implement the exchange.delete command.\r\n\r\n* Implement the queue.bind command.\r\n\r\n* Implement the queue.declare command.\r\n\r\n* Implement the queue.delete command.\r\n\r\n* Echo queue.declare result to screen.\r\n\r\n* Echo queue.delete result to screen.\r\n\r\n* Implement the queue.purge command.\r\n\r\n* Fix color support for error().\r\n\r\n* Report errors and continue.\r\n\r\n* Handle connection errors and reconnect on error.\r\n\r\n* Refactor.\r\n\r\n* Implement the `celery shell` command.\r\n\r\n* Isort.\r\n\r\n* Add documentation.\r\n\r\n* Correct argument types.\r\n\r\n* Implement detach for `celery worker`.\r\n\r\n* Documentation.\r\n\r\n* Implement detach for `celery beat`.\r\n\r\n* Documentation.\r\n\r\n* Implement the `celery multi` command.\r\n\r\n* Documentation.\r\n\r\n* Implement user options.\r\n\r\n* Collect command actions from the correct registry.\r\n\r\n* Isort.\r\n\r\n* Fix access to app.\r\n\r\n* Match arguments for control.\r\n\r\n* Start fresh.\r\n\r\n* Added all arguments for the celery worker command.\r\n\r\nStill needs more documentation and improvements...\r\n\r\n* Load the application and execute a worker.\r\n\r\n* Added the rest of the global options.\r\n\r\nIf an app is not specified we now use the default app.\r\n\r\nIn addition, we now exit with the correct status code.\r\n\r\n* Extract validation into parameter types.\r\n\r\n* Restructure and document.\r\n\r\n* Allow to pass worker configuration options from command line.\r\n\r\n* Implement the beat command.\r\n\r\n* Allow to configure celery options through the CLI.\r\n\r\n* Implement the `celery call` command.\r\n\r\n* Implement the `celery list bindings` command.\r\n\r\n* Implement the `celery purge` command.\r\n\r\n* Implement the `celery result` command.\r\n\r\n* Implement the `celery migrate` task.\r\n\r\n* Implemented the celery@thedrow: OK\r\n\r\n1 node online. command.\r\n\r\n* Take --no-color in consideration when outputting to stdout.\r\n\r\n* Ensure `celery worker` takes `--no-color` into consideration.\r\n\r\n* Use the preformatted OK string.\r\n\r\n* Adopt the NO_COLOR standard.\r\n\r\nSee https://no-color.org/ for details.\r\n\r\n* Split commands into separate files.\r\n\r\n* Added 'did you mean' messages.\r\n\r\n* Implement the `celery events` command.\r\n\r\n* Text style should take --no-color into consideration as well.\r\n\r\n* Implement the basic `celery inspect` command.\r\n\r\n* Improve UI.\r\n\r\n* Organize the code.\r\n\r\n* Implement the `celery graph bootsteps` command.\r\n\r\n* Implement the `celery graph workers` command.\r\n\r\n* Implement the `celery upgrade settings` command.\r\n\r\n* Implement the `celery report` command.\r\n\r\n* Implement the `celery logtool` command.\r\n\r\n* Pass the quiet argument to the CLI context.\r\n\r\n* Limit inspect to existing actions.\r\n\r\n* Implement the `celery control` command.\r\n\r\n* Basic scaffold for the `celery amqp` shell command.\r\n\r\n* Start implementing the shell commands.\r\n\r\n* Implement basic.publish and basic.get.\r\n\r\n* Echo OK after acknowledgement.\r\n\r\n* Reformat Code.\r\n\r\n* Implement the exchange.declare command.\r\n\r\n* Implement the exchange.delete command.\r\n\r\n* Implement the queue.bind command.\r\n\r\n* Implement the queue.declare command.\r\n\r\n* Implement the queue.delete command.\r\n\r\n* Echo queue.declare result to screen.\r\n\r\n* Echo queue.delete result to screen.\r\n\r\n* Implement the queue.purge command.\r\n\r\n* Fix color support for error().\r\n\r\n* Report errors and continue.\r\n\r\n* Handle connection errors and reconnect on error.\r\n\r\n* Refactor.\r\n\r\n* Implement the `celery shell` command.\r\n\r\n* Isort.\r\n\r\n* Add documentation.\r\n\r\n* Correct argument types.\r\n\r\n* Implement detach for `celery worker`.\r\n\r\n* Documentation.\r\n\r\n* Implement detach for `celery beat`.\r\n\r\n* Documentation.\r\n\r\n* Implement the `celery multi` command.\r\n\r\n* Documentation.\r\n\r\n* Implement user options.\r\n\r\n* Collect command actions from the correct registry.\r\n\r\n* Isort.\r\n\r\n* Fix access to app.\r\n\r\n* Match arguments for control.\r\n\r\n* added --range-prefix option to `celery multi` (#6180)\r\n\r\n* added --range-prefix option to `celery multi`\r\n\r\nAdded option for overriding default range prefix when running\r\nmultiple workers prividing range with `celery multy` command.\r\n\r\n* covered multi --range-prefix with tests\r\n\r\n* fixed --range-prefix test\r\n\r\n* multi: fixed handling unknown options, fixed doc example\r\n\r\n* removed debug print\r\n\r\n* Fix click.style usage.\r\n\r\n* Remove app.start() and app.worker_main() since they are never used.\r\n\r\n* autopep8.\r\n\r\n* Record new bandit profile.\r\n\r\n* Fix pep8 and docstyle errors.\r\n\r\n* Happify flake8.\r\n\r\n* Happify linters.\r\n\r\n* Remove typo.\r\n\r\n* Added the documentation for the CLI.\r\n\r\n* There's no return value so there's no point returning it.\r\n\r\n* Remove redundant assignment.\r\n\r\n* Use pformat and echo with click.\r\n\r\n* Finishing touches for the CLI.\r\n\r\n* More finishing touches.\r\n\r\n* Happify linters.\r\n\r\nCo-authored-by: tothegump <tothegump@gmail.com>\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: ptitpoulpe <ptitpoulpe@ptitpoulpe.fr>\r\nCo-authored-by: Didi Bar-Zev <didi@hiredscore.com>\r\nCo-authored-by: Santos Solorzano <santosjavier22@gmail.com>\r\nCo-authored-by: manlix <manlix@yandex.ru>\r\nCo-authored-by: Jimmy <54828848+sckhg1367@users.noreply.github.com>\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <caoyu97@hotmail.com>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: Pengjie Song (\u5b8b\u9e4f\u6377) <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: as <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Karthikeyan Singaravelan <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\nCo-authored-by: gsfish <root@grassfish.net>\r\nCo-authored-by: Alex Riina <alex.riina@gmail.com>\r\nCo-authored-by: Joon Hwan \uae40\uc900\ud658 <xncbf12@gmail.com>\r\nCo-authored-by: Prabakaran Kumaresshan <k_prabakaran+github@hotmail.com>\r\nCo-authored-by: Martey Dodoo <martey@mobolic.com>\r\nCo-authored-by: Konstantin Seleznev <4374093+Seleznev-nvkz@users.noreply.github.com>\r\nCo-authored-by: Prodge <Prodge@users.noreply.github.com>\r\nCo-authored-by: Abdelhadi Dyouri <raryat@gmail.com>\r\nCo-authored-by: Ixiodor <Ixiodor@users.noreply.github.com>\r\nCo-authored-by: abhishekakamai <47558404+abhishekakamai@users.noreply.github.com>\r\nCo-authored-by: Allan Lei <allanlei@helveticode.com>\r\nCo-authored-by: M1ha Shvn <work_shvein_mihail@mail.ru>\r\nCo-authored-by: Salih Caglar Ispirli <caglarispirli@gmail.com>\r\nCo-authored-by: Micha Moskovic <michamos@gmail.com>\r\nCo-authored-by: Chris Burr <chrisburr@users.noreply.github.com>\r\nCo-authored-by: Dave King <tildedave@gmail.com>\r\nCo-authored-by: Dmitry Nikulin <v.dmitry.nikulin@gmail.com>\r\nCo-authored-by: Michael Gaddis <mgaddis@ancestry.com>\r\nCo-authored-by: epwalsh <epwalsh10@gmail.com>\r\nCo-authored-by: TalRoni <tal.inon.16@gmail.com>\r\nCo-authored-by: Leo Singer <leo.singer@ligo.org>\r\nCo-authored-by: Stephen Tomkinson <neonbunny@users.noreply.github.com>\r\nCo-authored-by: Abhishek <abhishek.shukla@xeneta.com>\r\nCo-authored-by: theirix <theirix@gmail.com>\r\nCo-authored-by: yukihira1992 <hirayama@cancerscan.jp>\r\nCo-authored-by: jpays <jerome.pays@cnp.fr>\r\nCo-authored-by: Greg Ward <greg@gerg.ca>\r\nCo-authored-by: Alexa Griffith <agriffith@bluecore.com>\r\nCo-authored-by: heedong <63043496+heedong-jung@users.noreply.github.com>\r\nCo-authored-by: heedong.jung <heedong.jung@samsung.com>\r\nCo-authored-by: Shreyansh Khajanchi <shreyanshk@users.noreply.github.com>\r\nCo-authored-by: Sam Thompson <georgedorn@users.noreply.github.com>\r\nCo-authored-by: Alphadelta14 <alpha@pokesplash.net>\r\nCo-authored-by: Azimjon Pulatov <azimjohn@yahoo.com>\r\nCo-authored-by: ysde <ysde108@gmail.com>\r\nCo-authored-by: AmirMohammad Ziaei <amir_zia@outlook.com>\r\nCo-authored-by: Ben Nadler <ben.nadler@gusto.com>\r\nCo-authored-by: Harald Nezbeda <hn@nezhar.com>\r\nCo-authored-by: Chris Frisina <github@specialorange.org>\r\nCo-authored-by: Adam Eijdenberg <adam.eijdenberg@digital.gov.au>\r\nCo-authored-by: rafaelreuber <rafaelreuber@gmail.com>\r\nCo-authored-by: Noah Kantrowitz <noah@coderanger.net>\r\nCo-authored-by: Ben Nadler <jbennadler@gmail.com>\r\nCo-authored-by: Clement Michaud <c.michaud@criteo.com>\r\nCo-authored-by: Mathieu Chataigner <m.chataigner@criteo.com>\r\nCo-authored-by: eugeneyalansky <65346459+eugeneyalansky@users.noreply.github.com>\r\nCo-authored-by: Leonard Lu <leonard@socialcodeinc.com>\r\nCo-authored-by: XinYang <yangxinhust@hotmail.com>\r\nCo-authored-by: Ingolf Becker <ingolf.becker@googlemail.com>\r\nCo-authored-by: Anuj Chauhan <an12ch98@gmail.com>\r\nCo-authored-by: shaoziwei <ziwei.shao@cloudchef.io>\r\nCo-authored-by: Mathieu Chataigner <mathieu.chataigner@gmail.com>\r\nCo-authored-by: Anakael <shemeldima2@yandex.ru>\r\nCo-authored-by: Danny Chan <danny.chan@c-k.dev>\r\nCo-authored-by: Sebastiaan ten Pas <sebastiaan@diggimedia.nl>\r\nCo-authored-by: David TILLOY <d.tilloy@criteo.com>\r\nCo-authored-by: Anthony N. Simon <anthonynsimon@users.noreply.github.com>\r\nCo-authored-by: lironhl <liron.lavy@gmail.com>\r\nCo-authored-by: Raphael Cohen <raphael.cohen@sekoia.fr>\r\nCo-authored-by: JaeyoungHeo <jay.jaeyoung@gmail.com>\r\nCo-authored-by: singlaive <singlaive@gmail.com>\r\nCo-authored-by: Murphy Meng <mmeng@mirriad.com>\r\nCo-authored-by: Wu Haotian <whtsky@gmail.com>\r\nCo-authored-by: Kwist <velnik@gmail.com>\r\nCo-authored-by: Laurentiu Dragan <ldragan@bloomberg.net>\r\nCo-authored-by: Radim S\u00fcckr <radim.suckr@gmail.com>\r\nCo-authored-by: Artem Vasilyev <artem.v.vasilyev@gmail.com>\r\nCo-authored-by: kakakikikeke-fork <kakakikikeke_new@yahoo.co.jp>\r\nCo-authored-by: Pysaoke <pysaoke@gmail.com>\r\nCo-authored-by: baixue <baixue@wecash.net>\r\nCo-authored-by: Prashant Sinha <prashantsinha@outlook.com>\r\nCo-authored-by: AbdealiJK <abdealikothari@gmail.com>"}}, "url": "https://api.github.com/repos/celery/celery/commits/01651d2f5d9ad20dfb9812d92831510147974b23", "html_url": "https://github.com/celery/celery/commit/01651d2f5d9ad20dfb9812d92831510147974b23", "comments_url": "https://api.github.com/repos/celery/celery/commits/01651d2f5d9ad20dfb9812d92831510147974b23/comments", "author": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f154d31308893980941874238da857d68708e11f", "url": "https://api.github.com/repos/celery/celery/commits/f154d31308893980941874238da857d68708e11f", "html_url": "https://github.com/celery/celery/commit/f154d31308893980941874238da857d68708e11f"}]}, {"sha": "f154d31308893980941874238da857d68708e11f", "node_id": "MDY6Q29tbWl0MTg0NDYwOmYxNTRkMzEzMDg4OTM5ODA5NDE4NzQyMzhkYTg1N2Q2ODcwOGUxMWY=", "commit": {"author": {"name": "Asif Saif Uddin (Auvi)", "email": "auvipy@gmail.com", "date": "2020-08-19T05:05:54Z"}, "committer": {"name": "Asif Saif Uddin (Auvi)", "email": "auvipy@gmail.com", "date": "2020-08-19T05:05:54Z"}, "message": "fixed isort 5 errors in tests", "tree": {"sha": "efe4d6be4da081adfd9544f647b7bd7b1276f09e", "url": "https://api.github.com/repos/celery/celery/git/trees/efe4d6be4da081adfd9544f647b7bd7b1276f09e"}, "url": "https://api.github.com/repos/celery/celery/git/commits/f154d31308893980941874238da857d68708e11f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/f154d31308893980941874238da857d68708e11f", "html_url": "https://github.com/celery/celery/commit/f154d31308893980941874238da857d68708e11f", "comments_url": "https://api.github.com/repos/celery/celery/commits/f154d31308893980941874238da857d68708e11f/comments", "author": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2f6fe6365a76edd4db822a7fde34007aff098f1c", "url": "https://api.github.com/repos/celery/celery/commits/2f6fe6365a76edd4db822a7fde34007aff098f1c", "html_url": "https://github.com/celery/celery/commit/2f6fe6365a76edd4db822a7fde34007aff098f1c"}]}, {"sha": "2f6fe6365a76edd4db822a7fde34007aff098f1c", "node_id": "MDY6Q29tbWl0MTg0NDYwOjJmNmZlNjM2NWE3NmVkZDRkYjgyMmE3ZmRlMzQwMDdhZmYwOThmMWM=", "commit": {"author": {"name": "Asif Saif Uddin (Auvi)", "email": "auvipy@gmail.com", "date": "2020-08-19T05:05:17Z"}, "committer": {"name": "Asif Saif Uddin (Auvi)", "email": "auvipy@gmail.com", "date": "2020-08-19T05:05:17Z"}, "message": "fixed isort 5 errors", "tree": {"sha": "5f87d86922b669fe256b01ca30cc3df56fc67ce3", "url": "https://api.github.com/repos/celery/celery/git/trees/5f87d86922b669fe256b01ca30cc3df56fc67ce3"}, "url": "https://api.github.com/repos/celery/celery/git/commits/2f6fe6365a76edd4db822a7fde34007aff098f1c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/2f6fe6365a76edd4db822a7fde34007aff098f1c", "html_url": "https://github.com/celery/celery/commit/2f6fe6365a76edd4db822a7fde34007aff098f1c", "comments_url": "https://api.github.com/repos/celery/celery/commits/2f6fe6365a76edd4db822a7fde34007aff098f1c/comments", "author": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "541a009507cfeed5ea23d16a543a14a3102cefd4", "url": "https://api.github.com/repos/celery/celery/commits/541a009507cfeed5ea23d16a543a14a3102cefd4", "html_url": "https://github.com/celery/celery/commit/541a009507cfeed5ea23d16a543a14a3102cefd4"}]}, {"sha": "541a009507cfeed5ea23d16a543a14a3102cefd4", "node_id": "MDY6Q29tbWl0MTg0NDYwOjU0MWEwMDk1MDdjZmVlZDVlYTIzZDE2YTU0M2ExNGEzMTAyY2VmZDQ=", "commit": {"author": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-08-18T16:47:59Z"}, "committer": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-08-18T16:47:59Z"}, "message": "Changelog & whats new.", "tree": {"sha": "9f599b1db7847a4684151045eb199014337c2a09", "url": "https://api.github.com/repos/celery/celery/git/trees/9f599b1db7847a4684151045eb199014337c2a09"}, "url": "https://api.github.com/repos/celery/celery/git/commits/541a009507cfeed5ea23d16a543a14a3102cefd4", "comment_count": 4, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/541a009507cfeed5ea23d16a543a14a3102cefd4", "html_url": "https://github.com/celery/celery/commit/541a009507cfeed5ea23d16a543a14a3102cefd4", "comments_url": "https://api.github.com/repos/celery/celery/commits/541a009507cfeed5ea23d16a543a14a3102cefd4/comments", "author": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c4f97ad0be60d90479ee819326b4289dae3448e2", "url": "https://api.github.com/repos/celery/celery/commits/c4f97ad0be60d90479ee819326b4289dae3448e2", "html_url": "https://github.com/celery/celery/commit/c4f97ad0be60d90479ee819326b4289dae3448e2"}]}, {"sha": "c4f97ad0be60d90479ee819326b4289dae3448e2", "node_id": "MDY6Q29tbWl0MTg0NDYwOmM0Zjk3YWQwYmU2MGQ5MDQ3OWVlODE5MzI2YjQyODlkYWUzNDQ4ZTI=", "commit": {"author": {"name": "kevinbai", "email": "kevinbai.cn@gmail.com", "date": "2020-08-17T00:30:46Z"}, "committer": {"name": "Asif Saif Uddin", "email": "auvipy@gmail.com", "date": "2020-08-17T04:06:25Z"}, "message": "[Fix #6240]: Correct conf CELERY_RESULT_EXPIRES to CELERY_TASK_RESULT_EXPIRES in docs", "tree": {"sha": "1d2052d4ada0a48ed976fbeafe9afb88c0683cac", "url": "https://api.github.com/repos/celery/celery/git/trees/1d2052d4ada0a48ed976fbeafe9afb88c0683cac"}, "url": "https://api.github.com/repos/celery/celery/git/commits/c4f97ad0be60d90479ee819326b4289dae3448e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/c4f97ad0be60d90479ee819326b4289dae3448e2", "html_url": "https://github.com/celery/celery/commit/c4f97ad0be60d90479ee819326b4289dae3448e2", "comments_url": "https://api.github.com/repos/celery/celery/commits/c4f97ad0be60d90479ee819326b4289dae3448e2/comments", "author": {"login": "kevinbai-cn", "id": 14137961, "node_id": "MDQ6VXNlcjE0MTM3OTYx", "avatar_url": "https://avatars1.githubusercontent.com/u/14137961?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinbai-cn", "html_url": "https://github.com/kevinbai-cn", "followers_url": "https://api.github.com/users/kevinbai-cn/followers", "following_url": "https://api.github.com/users/kevinbai-cn/following{/other_user}", "gists_url": "https://api.github.com/users/kevinbai-cn/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinbai-cn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinbai-cn/subscriptions", "organizations_url": "https://api.github.com/users/kevinbai-cn/orgs", "repos_url": "https://api.github.com/users/kevinbai-cn/repos", "events_url": "https://api.github.com/users/kevinbai-cn/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinbai-cn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "29c63d2f0446384aace5e48c6f949b6e24c1a184", "url": "https://api.github.com/repos/celery/celery/commits/29c63d2f0446384aace5e48c6f949b6e24c1a184", "html_url": "https://github.com/celery/celery/commit/29c63d2f0446384aace5e48c6f949b6e24c1a184"}]}, {"sha": "29c63d2f0446384aace5e48c6f949b6e24c1a184", "node_id": "MDY6Q29tbWl0MTg0NDYwOjI5YzYzZDJmMDQ0NjM4NGFhY2U1ZTQ4YzZmOTQ5YjZlMjRjMWExODQ=", "commit": {"author": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-08-16T10:50:20Z"}, "committer": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-08-16T10:50:20Z"}, "message": "Remove riak from the list of extensions.", "tree": {"sha": "fcf4cfba10d0f8ac3f00c1476edec80a477d7480", "url": "https://api.github.com/repos/celery/celery/git/trees/fcf4cfba10d0f8ac3f00c1476edec80a477d7480"}, "url": "https://api.github.com/repos/celery/celery/git/commits/29c63d2f0446384aace5e48c6f949b6e24c1a184", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/29c63d2f0446384aace5e48c6f949b6e24c1a184", "html_url": "https://github.com/celery/celery/commit/29c63d2f0446384aace5e48c6f949b6e24c1a184", "comments_url": "https://api.github.com/repos/celery/celery/commits/29c63d2f0446384aace5e48c6f949b6e24c1a184/comments", "author": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5b86b35c81ea5a1fbfd439861f4fee6813148d16", "url": "https://api.github.com/repos/celery/celery/commits/5b86b35c81ea5a1fbfd439861f4fee6813148d16", "html_url": "https://github.com/celery/celery/commit/5b86b35c81ea5a1fbfd439861f4fee6813148d16"}]}, {"sha": "5b86b35c81ea5a1fbfd439861f4fee6813148d16", "node_id": "MDY6Q29tbWl0MTg0NDYwOjViODZiMzVjODFlYTVhMWZiZmQ0Mzk4NjFmNGZlZTY4MTMxNDhkMTY=", "commit": {"author": {"name": "Asif Saif Uddin", "email": "auvipy@gmail.com", "date": "2020-08-12T13:36:59Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-12T13:36:59Z"}, "message": "[WIP] - Work in progress PR for Celery version 5 (#5686)\n\n* 'abstractproperty' is deprecated. Use 'property' with 'abstractmethod' instead\r\n\r\n* Fix #2849 - Initial work of celery 5.0.0 alpha1 series by dropping python below 3.6 from marix & remove import from __future__ (#5684)\r\n\r\n* initial work of celery 5.0.0 alpha-1 series by dropping python below 3.6\r\n\r\n* i-5651(ut): add ut for ResultSet.join_native (#5679)\r\n\r\n* dropped python versions below 3.6 from tox\r\n\r\n* dropped python versions below 3.6 from travis\r\n\r\n* dropped python versions below 3.6 from appveyor\r\n\r\n* dropped python2 compat __future__ imports from tests\r\n\r\n* Fixed a bug where canvases with a group and tasks in the middle followed by a group fails to complete and indefinitely hangs. (#5681)\r\n\r\nFixes #5512, fixes #5354, fixes #2573.\r\n\r\n* dropped python2 compat __future__ imports from celery\r\n\r\n* dropped python2 compat code from init\r\n\r\n* revert readme change about version\r\n\r\n* removed python 2 object inheritance (#5687)\r\n\r\n* removed python 2 object inheritance\r\n\r\n* removed python 2 object inheritance\r\n\r\n* removed python 2 compatibility decorator (#5689)\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* Remove unused imports.\r\n\r\n* Remove unused imports of python_2_unicode_compatible.\r\n\r\nAlso removed leftover useage of them where they were still used.\r\n\r\n* Run pyupgrade on codebase (#5726)\r\n\r\n* Run pyupgrade on codebase.\r\n\r\n* Use format strings where possible.\r\n\r\n* pyupgrade examples.\r\n\r\n* pyupgrade on celerydocs extension.\r\n\r\n* pyupgrade on updated code.\r\n\r\n* Address code review comments.\r\n\r\n* Address code review comments.\r\n\r\n* Remove unused imports.\r\n\r\n* Fix indentation.\r\n\r\n* Address code review comments.\r\n\r\n* Fix syntax error.\r\n\r\n* Fix syntax error.\r\n\r\n* Fix syntax error.\r\n\r\n* pytest 5.x for celery 5 (#5791)\r\n\r\n* Port latest changes from master to v5-dev (#5942)\r\n\r\n* Fix serialization and deserialization of nested exception classes (#5717)\r\n\r\n* Fix #5597: chain priority (#5759)\r\n\r\n* adding `worker_process_shutdown` to __all__ (#5762)\r\n\r\n* Fix typo (#5769)\r\n\r\n* Reformat code.\r\n\r\n* Simplify commands to looking for celery worker processes (#5778)\r\n\r\n* update doc- celery supports storage list. (#5776)\r\n\r\n* Update introduction.rst\r\n\r\n* Update introduction.rst\r\n\r\n* Fail xfailed tests if the failure is unexpected.\r\n\r\n* Added integration coverage for link_error (#5373)\r\n\r\n* Added coverage for link_error.\r\n\r\n* Use pytest-rerunfailed plugin instead of rolling our own custom implementation.\r\n\r\n* Added link_error with retries. This currently fails.\r\n\r\n* Remove unused import.\r\n\r\n* Fix import on Python 2.7.\r\n\r\n* retries in link_error do not hang the worker anymore.\r\n\r\n* Run error callbacks eagerly when the task itself is run eagerly.\r\n\r\nFixes #4899.\r\n\r\n* Adjust unit tests accordingly.\r\n\r\n* Grammar in documentation (#5780)\r\n\r\n* Grammar in documentation\r\n\r\n* Address review.\r\n\r\n* pypy 7.2 matrix (#5790)\r\n\r\n* removed extra slashes in CELERY_BROKER_URL (#5792)\r\n\r\nThe Celery broker URL in settings.py had 2 slashes in the end which are not required and can be misleading.\r\nso I changed :-\r\nCELERY_BROKER_URL = 'amqp://guest:guest@localhost//' to CELERY_BROKER_URL = 'amqp://guest:guest@localhost'\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work (#5773)\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work\r\n\r\n* Add unit test: test_setting_default_exchange\r\n\r\n* Move default_exchange test to standalone class\r\n\r\n* Run integration suite with memcached results backend. (#5739)\r\n\r\n* Fix hanging forever when fetching results from a group(chain(group)) canvas. (#5744)\r\n\r\nPR #5739 uncovered multiple problems with the cache backend.\r\nThis PR should resolve one of them.\r\n\r\nPR #5638 fixed the same test case for our async results backends that support native join.\r\nHowever, it did not fix the test case for sync results backends that support native join.\r\n\r\n* Fix regression in PR #5681. (#5753)\r\n\r\nSee comment in the diff for details.\r\n\r\n* Grammatical fix to CONTRIBUTING.rst doc (#5794)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs (#5795)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs\r\n\r\n* Add unit test: test_get_connection_with_authmechanism\r\n\r\n* Add unit test: test_get_connection_with_authmechanism_no_username\r\n\r\n* Fix errors in Python 2.7\r\n\r\nRemove \",\" after \"**\" operator\r\n\r\n* Revert \"Revert \"Revert \"Added handle of SIGTERM in BaseTask in celery/task.py to prevent kill the task\" (#5577)\" (#5586)\" (#5797)\r\n\r\nThis reverts commit f79894e0a2c7156fd0ca5e8e3b652b6a46a7e8e7.\r\n\r\n* Add Python 3.8 Support (#5785)\r\n\r\n* Added Python 3.8 to the build matrix.\r\n\r\n* Ensure a supported tblib version is installed for Python 3.8 and above.\r\n\r\nIn addition, modernize the relevant tests.\r\n\r\n* Workaround patching problem in test.\r\n\r\n* py 3.8 in clasifier\r\n\r\n* ubuntu bionic (#5799)\r\n\r\n* ubuntu bionic\r\n\r\n* fast finish\r\n\r\n* sync bumversion with pypi release\r\n\r\n* Dev.req (#5803)\r\n\r\n* update  docker config\r\n\r\n\r\n\r\n* undo hardpin\r\n\r\n* devr req install from github master\r\n\r\n* update  docker config (#5801)\r\n\r\n* update  docker config\r\n\r\n* make dockerfile to install from github master dev branch by default\r\n\r\n* update download link\r\n\r\n* Isort.\r\n\r\n* Grammatical & punctuation fixes for CONTRIBUTING.rst document (#5804)\r\n\r\n* update dockerfile\r\n\r\n* switched to ubuntu bionic\r\n\r\n* update docker\r\n\r\n* keep it empty until we reconfigure it again with autopep8\r\n\r\n* Fixed Dockerfile (#5809)\r\n\r\n* Update document CONTRIBUTING.rst & fix Dockerfile typo (#5813)\r\n\r\n* Added an issue template for minor releases.\r\n\r\n* reference gocelery Go Client/Server for Celery (#5815)\r\n\r\n* Add enterprise language (#5818)\r\n\r\n* Fix/correct minor doc typos (#5825)\r\n\r\n* Correct a small typo\r\n\r\n* Correct bad contributing documentation links\r\n\r\n* Preserve the task priority in case of a retry (#5820)\r\n\r\n* Preserve the task priority in case of a retry\r\n\r\n* Created test case for retried tasks with priority\r\n\r\n* Implement an integration test for retried tasks with priorities\r\n\r\n* bump kombu\r\n\r\n* basic changelog for celery 4.4.0rc4\r\n\r\n* bump celery 4.4.0rc4\r\n\r\n* events bootstep disabled if no events (#5807)\r\n\r\n* events bootstep disabled if no events\r\n\r\n* Added unit tests.\r\n\r\n* update bug report template\r\n\r\n* fixing ascii art to look nicer (#5831)\r\n\r\n* Only rerun flaky tests when failures can be intermediary.\r\n\r\n* Rename Changelog to Changelog.rst\r\n\r\n* The test_nested_group_chain test can run without native_join support. (#5838)\r\n\r\n* Run integration tests with Cassandra (#5834)\r\n\r\n* Run integration tests with Cassandra.\r\n\r\n* Configure cassandra result backend\r\n\r\n* Pre-create keyspace and table\r\n\r\n* Fix deprecation warning.\r\n\r\n* Fix path to cqlsh.\r\n\r\n* Increase connection timeout.\r\n\r\n* Wait until the cluster is available.\r\n\r\n* SQS - Reject on failure (#5843)\r\n\r\n* reject on failure\r\n\r\n* add documentation\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* Add a concurrency model with ThreadPoolExecutor (#5099)\r\n\r\n* Add a concurrency model with ThreadPoolExecutor\r\n\r\n* thread model test for pypy\r\n\r\n* Chain primitive's code example fix in canvas documentation (Regression PR#4444) (#5845)\r\n\r\n* Changed multi-line string (#5846)\r\n\r\nThis string wasn't rendering properly and was printing the python statement too. Although the change isn't as pretty code-wise, it gets rid of an annoyance for the user.\r\n\r\n* Add auto expiry for DynamoDB backend (#5805)\r\n\r\n* Add auto expiry for DynamoDB backend\r\n\r\nThis adds auto-expire support for the DynamoDB backend, via the DynamoDB\r\nTime to Live feature.\r\n\r\n* Require boto3>=1.9.178 for DynamoDB TTL support\r\n\r\nboto3 version 1.9.178 requires botocore>=1.12.178.\r\n\r\nbotocore version 1.12.178 introduces support for the DynamoDB\r\nUpdateTimeToLive call.\r\n\r\nThe UpdateTimeToLive call is used by the DynamoDB backend to enable TTL\r\nsupport on a newly created table.\r\n\r\n* Separate TTL handling from table creation\r\n\r\nHandle TTL enabling/disabling separately from the table get-or-create\r\nfunction.\r\n\r\nImprove handling of cases where the TTL is already set to the desired\r\nstate.\r\n\r\nDynamoDB only allows a single TTL update action within a fairly long\r\ntime window, so some problematic cases (changing the TTL attribute,\r\nenabling/disabling TTL when it was recently modified) will raise\r\nexceptions that have to be dealt with.\r\n\r\n* Handle older boto3 versions\r\n\r\nIf the boto3 TTL methods are not found, log an informative error. If the\r\nuser wants to enable TTL, raise an exception; if TTL should be disabled,\r\nsimply return.\r\n\r\n* Improve logging\r\n\r\n- Handle exceptions by logging the error and re-raising\r\n\r\n- Log (level debug) when the desired TTL state is already in place\r\n\r\n* Add and use _has_ttl() convenience method\r\n\r\nAdditional changes:\r\n\r\n- Handle exceptions when calling boto3's describe_time_to_live()\r\n\r\n- Fix test cases for missing TTL methods\r\n\r\n* Update ttl_seconds documentation\r\n\r\n* Log invalid TTL; catch and raise ValueError\r\n\r\n* Separate method _get_table_ttl_description\r\n\r\n* Separate ttl method validation function\r\n\r\n* Clarify tri-state TTL value\r\n\r\n* Improve test coverage\r\n\r\n* Fix minor typo in comment\r\n\r\n* Mark test as xfail when using the cache backend. (#5851)\r\n\r\n* [Fix #5436] Store extending result in all backends (#5661)\r\n\r\n* [Fix #5436] Store extending result in all backends\r\n\r\n* Fix sqlalchemy\r\n\r\n* More fixu\r\n\r\n* Fixing tests\r\n\r\n* removing not necessary import\r\n\r\n* Removing debug code\r\n\r\n* Removing debug code\r\n\r\n* Add tests for get_result_meta in base and database\r\n\r\n* Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\r\n\r\nThis reverts commit f7f5bcfceca692d0e78c742a7c09c424f53d915b.\r\n\r\n* Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\r\n\r\nThis reverts commit 1b303c2968836245aaa43c3d0ff9249dd8bf9ed2.\r\n\r\n* docs: Document Redis commands used by celery (#5853)\r\n\r\n* remove cache back end integrtion test. (#5856)\r\n\r\n* Fix a race condition when publishing a very large chord header (#5850)\r\n\r\n* Added a test case which artificially introduces a delay to group.save().\r\n\r\n* Fix race condition by delaying the task only after saving the group.\r\n\r\n* update tox\r\n\r\n* Remove duplicate boto dependency. (#5858)\r\n\r\n* Revert \"remove cache back end integrtion test. (#5856)\" (#5859)\r\n\r\nThis reverts commit e0ac7a19a745dd5a52a615c1330bd67f2cef4d00.\r\n\r\n* Revert \"Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\" (#5857)\r\n\r\nThis reverts commit 4ddc605392d7694760f23069c34ede34b3e582c3.\r\n\r\n* Revert \"update tox\"\r\n\r\nThis reverts commit 49427f51049073e38439ea9b3413978784a24999.\r\n\r\n* Fix the test_simple_chord_with_a_delay_in_group_save test.\r\n\r\n* Revert \"Revert \"Skip unsupported canvas when using the cache backend\"\" (#5860)\r\n\r\n* Revert \"Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\"\r\n\r\nThis reverts commit fc101c61c1912c4dafa661981f8b865c011e8a55.\r\n\r\n* Make the xfail condition stricter.\r\n\r\n* Fix the xfail condition.\r\n\r\n* Linters should use Python 3.8.\r\n\r\n* Move pypy unit tests to the correct stage.\r\n\r\n* Temporarily allow PyPy to fail since it is unavailable in Travis.\r\n\r\n* Remove unused variables.\r\n\r\n* Fix unused imports.\r\n\r\n* Fix pydocstyle errors in dynamodb.\r\n\r\n* Fix pydocstyle errors in redis backend.\r\n\r\n* bump kombu to 4.6.7\r\n\r\n* celery 4.4.0rc5 changelog\r\n\r\n* celery 4.4.0rc5\r\n\r\n* rm redundant code (#5864)\r\n\r\n* isort.\r\n\r\n* Document the threads task pool in the CLI.\r\n\r\n* Removed the paragraph about using librabbitmq. Refer to #5872 (#5873)\r\n\r\n* Task class definitions can have retry attributes (#5869)\r\n\r\n* autoretry_for\r\n* retry_kwargs\r\n* retry_backoff\r\n* retry_backoff_max\r\n* retry_jitter\r\ncan now be defined as cls attributes.\r\n\r\nAll of these can be overriden from the @task decorator\r\n\r\nhttps://github.com/celery/celery/issues/4684\r\n\r\n* whatsnew in Celery 4.4 as per projects standard (#5817)\r\n\r\n* 4.4 whatsnew\r\n\r\n* update\r\n\r\n* update\r\n\r\n* Move old whatsnew to history.\r\n\r\n* Remove old news & fix markers.\r\n\r\n* Added a section notifying Python 3.4 has been dropped.\r\n\r\n* Added a note about ElasticSearch basic auth.\r\n\r\n* Added a note about being able to replace eagerly run tasks.\r\n\r\n* Update index.\r\n\r\n* Address comment.\r\n\r\n* Described boto3 version updates.\r\n\r\n* Fix heading.\r\n\r\n* More news.\r\n\r\n* Thread pool.\r\n\r\n* Add Django and Config changes\r\n\r\n* Bump version 4.4.0\r\n\r\n* upate readme\r\n\r\n* Update docs regarding Redis Message Priorities (#5874)\r\n\r\n* Update docs regarding Redis Message Priorities\r\n\r\n* fixup! Update docs regarding Redis Message Priorities\r\n\r\n* Update 4.4.0 docs (#5875)\r\n\r\n* Update 4.4 release changelog\r\n\r\n* Update whatsnew-4.4\r\n\r\n* Update tasks docs\r\n\r\n* Fix recent tasks doc file update (#5879)\r\n\r\n* Include renamed Changelog.rst in source releases. (#5880)\r\n\r\nChangelog.rst was renamed from Changelog in\r\nfd023ec174bedc2dc65c63a0dc7c85e425ac00c6 but MANIFEST.in was not updated to\r\ninclude the new name. This fixes the file name so Changelog.rst will show up\r\nin future source releases again.\r\n\r\n* Reorganised project_urls and classifiers. (#5884)\r\n\r\n* Use safequote in SQS Getting Started doc (#5885)\r\n\r\n* Have appveyor build relevant versions of Python. (#5887)\r\n\r\n* Have appveyor build relevant and buildable versions of Python.\r\n\r\n* Appveyor is missing CI requirements to build.\r\n\r\n* Pin pycurl to version that will build with appveyor (because wheels files exist)\r\n\r\n* Restrict python 2.7 64 bit version of python-dateutil for parse.\r\n\r\n* Use is_alive instead of isAlive for Python 3.9 compatibility. (#5898)\r\n\r\n* Very minor tweak to commen to improve docs (#5900)\r\n\r\nAs discussed here: \r\nhttps://stackoverflow.com/questions/58816271/celery-task-asyncresult-takes-task-id-but-is-documented-to-get-asyncresult-inst\r\nthis comment seems to flow to a very confusing and misleading piece of documentation here:\r\nhttps://docs.celeryproject.org/en/latest/reference/celery.app.task.html#celery.app.task.Task.AsyncResult\r\n\r\n* Support configuring schema of a PostgreSQL database (#5910)\r\n\r\n* Support configuring schema of a PostgreSQL database\r\n\r\n* Add unit test\r\n\r\n* Remove blank line\r\n\r\n* Fix raise issue to make exception message more friendly (#5912)\r\n\r\nSigned-off-by: Chenyang Yan <memory.yancy@gmail.com>\r\n\r\n* Add progress for retry connections (#5915)\r\n\r\nThis will show current retry progress so it will clear confusion about how many retries will be tried for connecting to broker.\r\nCloses #4556\r\n\r\n* chg: change xrange to range (#5926)\r\n\r\n* update docs for json serializer and add note for int keys serialization (#5932)\r\n\r\n* fix indentation for note block in calling.rst (#5933)\r\n\r\n* Added links to other issue trackers. (#5939)\r\n\r\n* Add labels automatically for issues. (#5938)\r\n\r\n* Run pyupgrade.\r\n\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: ptitpoulpe <ptitpoulpe@ptitpoulpe.fr>\r\nCo-authored-by: Didi Bar-Zev <didi@hiredscore.com>\r\nCo-authored-by: Santos Solorzano <santosjavier22@gmail.com>\r\nCo-authored-by: manlix <manlix@yandex.ru>\r\nCo-authored-by: Jimmy <54828848+sckhg1367@users.noreply.github.com>\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <caoyu97@hotmail.com>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: Pengjie Song (\u5b8b\u9e4f\u6377) <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: as <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Karthikeyan Singaravelan <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\n\r\n* Remove fallback code for Python 2 support marked with TODOs. (#5953)\r\n\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\n\r\n* Remove PY3 conditionals (#5954)\r\n\r\n* Added integration coverage for link_error (#5373)\r\n\r\n* Added coverage for link_error.\r\n\r\n* Use pytest-rerunfailed plugin instead of rolling our own custom implementation.\r\n\r\n* Added link_error with retries. This currently fails.\r\n\r\n* Remove unused import.\r\n\r\n* Fix import on Python 2.7.\r\n\r\n* retries in link_error do not hang the worker anymore.\r\n\r\n* Run error callbacks eagerly when the task itself is run eagerly.\r\n\r\nFixes #4899.\r\n\r\n* Adjust unit tests accordingly.\r\n\r\n* Grammar in documentation (#5780)\r\n\r\n* Grammar in documentation\r\n\r\n* Address review.\r\n\r\n* pypy 7.2 matrix (#5790)\r\n\r\n* removed extra slashes in CELERY_BROKER_URL (#5792)\r\n\r\nThe Celery broker URL in settings.py had 2 slashes in the end which are not required and can be misleading.\r\nso I changed :-\r\nCELERY_BROKER_URL = 'amqp://guest:guest@localhost//' to CELERY_BROKER_URL = 'amqp://guest:guest@localhost'\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work (#5773)\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work\r\n\r\n* Add unit test: test_setting_default_exchange\r\n\r\n* Move default_exchange test to standalone class\r\n\r\n* Run integration suite with memcached results backend. (#5739)\r\n\r\n* Fix hanging forever when fetching results from a group(chain(group)) canvas. (#5744)\r\n\r\nPR #5739 uncovered multiple problems with the cache backend.\r\nThis PR should resolve one of them.\r\n\r\nPR #5638 fixed the same test case for our async results backends that support native join.\r\nHowever, it did not fix the test case for sync results backends that support native join.\r\n\r\n* Fix regression in PR #5681. (#5753)\r\n\r\nSee comment in the diff for details.\r\n\r\n* Grammatical fix to CONTRIBUTING.rst doc (#5794)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs (#5795)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs\r\n\r\n* Add unit test: test_get_connection_with_authmechanism\r\n\r\n* Add unit test: test_get_connection_with_authmechanism_no_username\r\n\r\n* Fix errors in Python 2.7\r\n\r\nRemove \",\" after \"**\" operator\r\n\r\n* Revert \"Revert \"Revert \"Added handle of SIGTERM in BaseTask in celery/task.py to prevent kill the task\" (#5577)\" (#5586)\" (#5797)\r\n\r\nThis reverts commit f79894e0a2c7156fd0ca5e8e3b652b6a46a7e8e7.\r\n\r\n* Add Python 3.8 Support (#5785)\r\n\r\n* Added Python 3.8 to the build matrix.\r\n\r\n* Ensure a supported tblib version is installed for Python 3.8 and above.\r\n\r\nIn addition, modernize the relevant tests.\r\n\r\n* Workaround patching problem in test.\r\n\r\n* py 3.8 in clasifier\r\n\r\n* ubuntu bionic (#5799)\r\n\r\n* ubuntu bionic\r\n\r\n* fast finish\r\n\r\n* sync bumversion with pypi release\r\n\r\n* Dev.req (#5803)\r\n\r\n* update  docker config\r\n\r\n\r\n\r\n* undo hardpin\r\n\r\n* devr req install from github master\r\n\r\n* update  docker config (#5801)\r\n\r\n* update  docker config\r\n\r\n* make dockerfile to install from github master dev branch by default\r\n\r\n* update download link\r\n\r\n* Isort.\r\n\r\n* Grammatical & punctuation fixes for CONTRIBUTING.rst document (#5804)\r\n\r\n* update dockerfile\r\n\r\n* switched to ubuntu bionic\r\n\r\n* update docker\r\n\r\n* keep it empty until we reconfigure it again with autopep8\r\n\r\n* Fixed Dockerfile (#5809)\r\n\r\n* Update document CONTRIBUTING.rst & fix Dockerfile typo (#5813)\r\n\r\n* Added an issue template for minor releases.\r\n\r\n* reference gocelery Go Client/Server for Celery (#5815)\r\n\r\n* Add enterprise language (#5818)\r\n\r\n* Fix/correct minor doc typos (#5825)\r\n\r\n* Correct a small typo\r\n\r\n* Correct bad contributing documentation links\r\n\r\n* Preserve the task priority in case of a retry (#5820)\r\n\r\n* Preserve the task priority in case of a retry\r\n\r\n* Created test case for retried tasks with priority\r\n\r\n* Implement an integration test for retried tasks with priorities\r\n\r\n* bump kombu\r\n\r\n* basic changelog for celery 4.4.0rc4\r\n\r\n* bump celery 4.4.0rc4\r\n\r\n* events bootstep disabled if no events (#5807)\r\n\r\n* events bootstep disabled if no events\r\n\r\n* Added unit tests.\r\n\r\n* update bug report template\r\n\r\n* fixing ascii art to look nicer (#5831)\r\n\r\n* Only rerun flaky tests when failures can be intermediary.\r\n\r\n* Rename Changelog to Changelog.rst\r\n\r\n* The test_nested_group_chain test can run without native_join support. (#5838)\r\n\r\n* Run integration tests with Cassandra (#5834)\r\n\r\n* Run integration tests with Cassandra.\r\n\r\n* Configure cassandra result backend\r\n\r\n* Pre-create keyspace and table\r\n\r\n* Fix deprecation warning.\r\n\r\n* Fix path to cqlsh.\r\n\r\n* Increase connection timeout.\r\n\r\n* Wait until the cluster is available.\r\n\r\n* SQS - Reject on failure (#5843)\r\n\r\n* reject on failure\r\n\r\n* add documentation\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* Add a concurrency model with ThreadPoolExecutor (#5099)\r\n\r\n* Add a concurrency model with ThreadPoolExecutor\r\n\r\n* thread model test for pypy\r\n\r\n* Chain primitive's code example fix in canvas documentation (Regression PR#4444) (#5845)\r\n\r\n* Changed multi-line string (#5846)\r\n\r\nThis string wasn't rendering properly and was printing the python statement too. Although the change isn't as pretty code-wise, it gets rid of an annoyance for the user.\r\n\r\n* Add auto expiry for DynamoDB backend (#5805)\r\n\r\n* Add auto expiry for DynamoDB backend\r\n\r\nThis adds auto-expire support for the DynamoDB backend, via the DynamoDB\r\nTime to Live feature.\r\n\r\n* Require boto3>=1.9.178 for DynamoDB TTL support\r\n\r\nboto3 version 1.9.178 requires botocore>=1.12.178.\r\n\r\nbotocore version 1.12.178 introduces support for the DynamoDB\r\nUpdateTimeToLive call.\r\n\r\nThe UpdateTimeToLive call is used by the DynamoDB backend to enable TTL\r\nsupport on a newly created table.\r\n\r\n* Separate TTL handling from table creation\r\n\r\nHandle TTL enabling/disabling separately from the table get-or-create\r\nfunction.\r\n\r\nImprove handling of cases where the TTL is already set to the desired\r\nstate.\r\n\r\nDynamoDB only allows a single TTL update action within a fairly long\r\ntime window, so some problematic cases (changing the TTL attribute,\r\nenabling/disabling TTL when it was recently modified) will raise\r\nexceptions that have to be dealt with.\r\n\r\n* Handle older boto3 versions\r\n\r\nIf the boto3 TTL methods are not found, log an informative error. If the\r\nuser wants to enable TTL, raise an exception; if TTL should be disabled,\r\nsimply return.\r\n\r\n* Improve logging\r\n\r\n- Handle exceptions by logging the error and re-raising\r\n\r\n- Log (level debug) when the desired TTL state is already in place\r\n\r\n* Add and use _has_ttl() convenience method\r\n\r\nAdditional changes:\r\n\r\n- Handle exceptions when calling boto3's describe_time_to_live()\r\n\r\n- Fix test cases for missing TTL methods\r\n\r\n* Update ttl_seconds documentation\r\n\r\n* Log invalid TTL; catch and raise ValueError\r\n\r\n* Separate method _get_table_ttl_description\r\n\r\n* Separate ttl method validation function\r\n\r\n* Clarify tri-state TTL value\r\n\r\n* Improve test coverage\r\n\r\n* Fix minor typo in comment\r\n\r\n* Mark test as xfail when using the cache backend. (#5851)\r\n\r\n* [Fix #5436] Store extending result in all backends (#5661)\r\n\r\n* [Fix #5436] Store extending result in all backends\r\n\r\n* Fix sqlalchemy\r\n\r\n* More fixu\r\n\r\n* Fixing tests\r\n\r\n* removing not necessary import\r\n\r\n* Removing debug code\r\n\r\n* Removing debug code\r\n\r\n* Add tests for get_result_meta in base and database\r\n\r\n* Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\r\n\r\nThis reverts commit f7f5bcfceca692d0e78c742a7c09c424f53d915b.\r\n\r\n* Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\r\n\r\nThis reverts commit 1b303c2968836245aaa43c3d0ff9249dd8bf9ed2.\r\n\r\n* docs: Document Redis commands used by celery (#5853)\r\n\r\n* remove cache back end integrtion test. (#5856)\r\n\r\n* Fix a race condition when publishing a very large chord header (#5850)\r\n\r\n* Added a test case which artificially introduces a delay to group.save().\r\n\r\n* Fix race condition by delaying the task only after saving the group.\r\n\r\n* update tox\r\n\r\n* Remove duplicate boto dependency. (#5858)\r\n\r\n* Revert \"remove cache back end integrtion test. (#5856)\" (#5859)\r\n\r\nThis reverts commit e0ac7a19a745dd5a52a615c1330bd67f2cef4d00.\r\n\r\n* Revert \"Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\" (#5857)\r\n\r\nThis reverts commit 4ddc605392d7694760f23069c34ede34b3e582c3.\r\n\r\n* Revert \"update tox\"\r\n\r\nThis reverts commit 49427f51049073e38439ea9b3413978784a24999.\r\n\r\n* Fix the test_simple_chord_with_a_delay_in_group_save test.\r\n\r\n* Revert \"Revert \"Skip unsupported canvas when using the cache backend\"\" (#5860)\r\n\r\n* Revert \"Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\"\r\n\r\nThis reverts commit fc101c61c1912c4dafa661981f8b865c011e8a55.\r\n\r\n* Make the xfail condition stricter.\r\n\r\n* Fix the xfail condition.\r\n\r\n* Linters should use Python 3.8.\r\n\r\n* Move pypy unit tests to the correct stage.\r\n\r\n* Temporarily allow PyPy to fail since it is unavailable in Travis.\r\n\r\n* Remove unused variables.\r\n\r\n* Fix unused imports.\r\n\r\n* Fix pydocstyle errors in dynamodb.\r\n\r\n* Fix pydocstyle errors in redis backend.\r\n\r\n* bump kombu to 4.6.7\r\n\r\n* celery 4.4.0rc5 changelog\r\n\r\n* celery 4.4.0rc5\r\n\r\n* rm redundant code (#5864)\r\n\r\n* isort.\r\n\r\n* Document the threads task pool in the CLI.\r\n\r\n* Removed the paragraph about using librabbitmq. Refer to #5872 (#5873)\r\n\r\n* Task class definitions can have retry attributes (#5869)\r\n\r\n* autoretry_for\r\n* retry_kwargs\r\n* retry_backoff\r\n* retry_backoff_max\r\n* retry_jitter\r\ncan now be defined as cls attributes.\r\n\r\nAll of these can be overriden from the @task decorator\r\n\r\nhttps://github.com/celery/celery/issues/4684\r\n\r\n* whatsnew in Celery 4.4 as per projects standard (#5817)\r\n\r\n* 4.4 whatsnew\r\n\r\n* update\r\n\r\n* update\r\n\r\n* Move old whatsnew to history.\r\n\r\n* Remove old news & fix markers.\r\n\r\n* Added a section notifying Python 3.4 has been dropped.\r\n\r\n* Added a note about ElasticSearch basic auth.\r\n\r\n* Added a note about being able to replace eagerly run tasks.\r\n\r\n* Update index.\r\n\r\n* Address comment.\r\n\r\n* Described boto3 version updates.\r\n\r\n* Fix heading.\r\n\r\n* More news.\r\n\r\n* Thread pool.\r\n\r\n* Add Django and Config changes\r\n\r\n* Bump version 4.4.0\r\n\r\n* upate readme\r\n\r\n* Update docs regarding Redis Message Priorities (#5874)\r\n\r\n* Update docs regarding Redis Message Priorities\r\n\r\n* fixup! Update docs regarding Redis Message Priorities\r\n\r\n* Update 4.4.0 docs (#5875)\r\n\r\n* Update 4.4 release changelog\r\n\r\n* Update whatsnew-4.4\r\n\r\n* Update tasks docs\r\n\r\n* Fix recent tasks doc file update (#5879)\r\n\r\n* Include renamed Changelog.rst in source releases. (#5880)\r\n\r\nChangelog.rst was renamed from Changelog in\r\nfd023ec174bedc2dc65c63a0dc7c85e425ac00c6 but MANIFEST.in was not updated to\r\ninclude the new name. This fixes the file name so Changelog.rst will show up\r\nin future source releases again.\r\n\r\n* Reorganised project_urls and classifiers. (#5884)\r\n\r\n* Use safequote in SQS Getting Started doc (#5885)\r\n\r\n* Have appveyor build relevant versions of Python. (#5887)\r\n\r\n* Have appveyor build relevant and buildable versions of Python.\r\n\r\n* Appveyor is missing CI requirements to build.\r\n\r\n* Pin pycurl to version that will build with appveyor (because wheels files exist)\r\n\r\n* Restrict python 2.7 64 bit version of python-dateutil for parse.\r\n\r\n* Use is_alive instead of isAlive for Python 3.9 compatibility. (#5898)\r\n\r\n* Very minor tweak to commen to improve docs (#5900)\r\n\r\nAs discussed here: \r\nhttps://stackoverflow.com/questions/58816271/celery-task-asyncresult-takes-task-id-but-is-documented-to-get-asyncresult-inst\r\nthis comment seems to flow to a very confusing and misleading piece of documentation here:\r\nhttps://docs.celeryproject.org/en/latest/reference/celery.app.task.html#celery.app.task.Task.AsyncResult\r\n\r\n* Support configuring schema of a PostgreSQL database (#5910)\r\n\r\n* Support configuring schema of a PostgreSQL database\r\n\r\n* Add unit test\r\n\r\n* Remove blank line\r\n\r\n* Fix raise issue to make exception message more friendly (#5912)\r\n\r\nSigned-off-by: Chenyang Yan <memory.yancy@gmail.com>\r\n\r\n* Add progress for retry connections (#5915)\r\n\r\nThis will show current retry progress so it will clear confusion about how many retries will be tried for connecting to broker.\r\nCloses #4556\r\n\r\n* chg: change xrange to range (#5926)\r\n\r\n* update docs for json serializer and add note for int keys serialization (#5932)\r\n\r\n* fix indentation for note block in calling.rst (#5933)\r\n\r\n* Added links to other issue trackers. (#5939)\r\n\r\n* Add labels automatically for issues. (#5938)\r\n\r\n* remove redundant raise from docstring (#5941)\r\n\r\n`throw` is True by default so the Retry exception will already get raised by calling `self.retry(countdown=60 * 5, exc=exc)`\r\n\r\n* Run pyupgrade.\r\n\r\n* Fix typo (#5943)\r\n\r\n* Remove fallback code for Python 2 support.\r\n\r\n* docs: fixes Rabbits and Warrens link in routing userguide (#4007) (#5949)\r\n\r\n* Fix labels on Github issue templates. (#5955)\r\n\r\nUse quotation marks to escape labels on Github issue templates. This\r\nprevents the colon from breaking the template.\r\n\r\n* added retry_on_timeout and socket_keepalive to config and doc (#5952)\r\n\r\n* Fixed event capture from building infinite list (#5870)\r\n\r\n* Fix error propagation example (#5966)\r\n\r\n* update range (#5971)\r\n\r\n* update setup.cfg\r\n\r\n* bump billiard to 3.6.3.0\r\n\r\n* Update __init__.py (#5951)\r\n\r\n* Update __init__.py\r\n\r\nFixed issue for object with result_backend=True (decode fails on multiple None request)\r\n\r\n* Update __init__.py\r\n\r\nsuggested changeds\r\n\r\n* Update __init__.py\r\n\r\n* Use configured db schema also for sequences (#5972)\r\n\r\n* Added a default value for retries in worker.strategy. (#5945)\r\n\r\n* Added a default value for retries in worker.strategy.\r\n\r\nI was facing an issue when adding tasks directly to rabbitmq\r\nusing pika instead of calling task.apply_async. The issue was\r\nthe self.retry mechanisum was failing. In app/tasks.py the line\r\n`retries = request.retries + 1` was causing the issue. On further\r\ntracing I figured out that it was because the default .get value\r\n(None) was getting passed through this function and was raising\r\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'int'\r\n\r\n* Add test cases for default and custom retries value\r\n\r\n* pypy 7.3 (#5980)\r\n\r\n* Pass `interval` to `get_many` (#5931)\r\n\r\n* Pass `interval` to `get_many`\r\n\r\n* Fix: Syntax error for py2.7\r\n\r\n* Fix: Syntax error for py2.7\r\n\r\n* Fixed problem with conflicting autoretry_for task parameter and Task.replace() (#5934)\r\n\r\n* Fix #5917 (#5918)\r\n\r\n* Fix changelog (#5881)\r\n\r\n* merge in place the apps beat schedule in the default Schedule class. (#5908)\r\n\r\n* Handle Redis connection errors in result consumer (#5921)\r\n\r\n* Handle Redis connection errors in result consumer\r\n\r\n* Closes #5919.\r\n\r\n* Use context manager for Redis conusmer reconnect\r\n\r\n* Log error when result backend reconnection fails\r\n\r\n* Fix inspect_command documentation (#5983)\r\n\r\n* Use gevent and eventlet wait() functions to remove busy-wait (#5974)\r\n\r\n* Use gevent and eventlet wait() functions to remove busy-wait\r\n\r\nFixes issue #4999.\r\n\r\nCalling AsyncResult.get() in a gevent context would cause the async Drainer to repeatedly call wait_for until the result was completed.  I've updated the code to have a specific implementation for gevent and eventlet that will cause wait_for to only return every \"timeout\" # of seconds, rather than repeatedly returning.\r\n\r\nSome things I'd like some feedback on:\r\n* Where's the best place to add test coverage for this?  It doesn't look like there are any tests that directly exercised the Drainer yet so I would probably look to add some of these to the backends/ unit tests.\r\n* The way I did this for the Eventlet interface was to rely on the private _exit_event member of the GreenThread instance; to do this without relying on a private member would require some additional changes to the backend Drainer interface so that we could wait for an eventlet-specific event in wait_for().  I can do this, just wanted to get some feedback before.\r\n\r\n* Add unit tests for Drainer classes\r\n\r\nIn order for this to work without monkeypatching in the tests, I needed to call sleep(0) to let the gevent/eventlet greenlets to yield control back to the calling thread.  I also made the check interval configurable in the drainer so that we didn't need to sleep multiples of 1 second in the tests.\r\n\r\n* Weaken asserts since they don't pass on CI\r\n\r\n* Fix eventlet auto-patching DNS resolver module on import\r\n\r\nBy default it looks like \"import eventlet\" imports the greendns module unless the environment EVENTLET_NO_GREENDNS is set to true.  This broke a pymongo test.\r\n\r\n* Add tests ensuring that the greenlet loop isn't blocked\r\n\r\nThese tests make sure that while drain_events_until is running that other gevent/eventlet concurrency can run.\r\n\r\n* Clean up tests and make sure they wait for all the threads to stop\r\n\r\n* Fix chords with chained groups (#5947)\r\n\r\n* kombu 4.6.8\r\n\r\n* update setup\r\n\r\n* updated version 4.4.1\r\n\r\n* Fix: Accept and swallow `kwargs` to handle unexpected keyword arguments\r\n\r\n* Allow boto to look for credentials in S3Backend\r\n\r\n* add reference to Rusty Celery\r\n\r\n* Update document of revoke method in Control class\r\n\r\n* Fix copy-paste error in result_compression docs\r\n\r\n* Make 'socket_keepalive' optional variable (#6000)\r\n\r\n* update connection params - socket_keepalive is optional now\r\n\r\n* update readme - added versionadded 4.4.1 and fixed `redis_socket_keepalive`\r\n\r\n* added check of socket_keepalive in arguments for UnixSocketConnect\r\n\r\n* Fixed incorrect setting name in documentation (#6002)\r\n\r\n* updated version 4.4.2\r\n\r\n* Fix backend utf-8 encoding in s3 backend\r\n\r\nCelery backend uses utf-8 to deserialize results,\r\nwhich would fail for some serializations like pickle.\r\n\r\n* Fix typo in celery.bin.multi document\r\n\r\n* Upgraded pycurl to the latest version that supports wheel.\r\n\r\n* pytest 5.3.5 max\r\n\r\n* Add uptime to the stats inspect command\r\n\r\n* Doc tweaks: mostly grammar and punctuation (#6016)\r\n\r\n* Fix a bunch of comma splices in the docs\r\n\r\n* Remove some unnecessary words from next-steps doc\r\n\r\n* Tweak awkward wording; fix bad em-dash\r\n\r\n* Fix a bunch more comma splices in next-steps doc\r\n\r\n* Miscellaneous grammar/punctuation/wording fixes\r\n\r\n* Link to task options in task decorator docs\r\n\r\n* Fixing issue #6019: unable to use mysql SSL parameters when getting mysql engine (#6020)\r\n\r\n* Fixing issue #6019: unable to use mysql SSL parametes in create_engine()\r\n\r\n* adding test for get_engine when self.forked is False and engine args are passed in for create_engine()\r\n\r\n* Clean TraceBack to reduce memory leaks for exception task (#6024)\r\n\r\n* Clean TraceBack to reduce memory leaks\r\n\r\n* add unit test\r\n\r\n* add unit test\r\n\r\n* reject unittest\r\n\r\n* Patch For Python 2.7 compatibility\r\n\r\n* update unittest\r\n\r\n* Register to the garbage collector by explicitly referring to f_locals.\r\n\r\n* need more check\r\n\r\n* update code coverage\r\n\r\n* update Missing unit test\r\n\r\n* 3.4 -> 3.5\r\n\r\nCo-authored-by: heedong.jung <heedong.jung@samsung.com>\r\n\r\n* exceptions: NotRegistered: fix up language\r\n\r\nMinor fix to the language.\r\n\r\n* Note about autodiscover_tasks and periodic tasks\r\n\r\nThis is particularly important for Django projects that put periodic tasks into each app's `tasks.py` and want to use one as a periodic task.  By the time `autodiscover_tasks()` loads those tasks, the `on_after_configure` Signal has already come and gone, so anything decorated with `@app.on_after_finalize.connect` will never be called.\r\n\r\nIf there's other documentation on this subject, I could not find it.\r\n\r\n* Avoid PyModulelevel, deprecated in Sphinx 4\r\n\r\nUse `PyFunction` instead of `PyModulelevel` to avoid this\r\ndeprecation warning:\r\n\r\n    RemovedInSphinx40Warning: PyModulelevel is deprecated.\r\n    Please check the implementation of\r\n    <class 'celery.contrib.sphinx.TaskDirective'>\r\n\r\nThis replacement is one of the options listed in the Sphinx docs\r\n(https://www.sphinx-doc.org/en/master/extdev/deprecated.html).\r\n\r\n* Give up sending a worker-offline message if transport is not connected (#6039)\r\n\r\n* If worker-offline event fails to send, give up and die peacefully\r\n\r\n* Add test for retry= and msgs in heartbeat\r\n\r\n* Fix the build and all documentation warnings.\r\n\r\nI finally upgraded our theme to 2.0.\r\nAs a result we've upgraded Sphinx to 2.0.\r\nWork to upgrade Sphinx to 3.0 will proceed in a different PR.\r\n\r\nThis upgrade also fixes our build issues caused by #6032.\r\nWe don't support Sphinx 1.x as a result of that patch.\r\n\r\nI've also included the missing 4.3 changelog to our history.\r\n\r\n* Support both Sphinx 2 and 3.\r\n\r\n* Add Task to __all__ in celery.__init__.py\r\n\r\n* Add missing parenthesis to example in docs\r\n\r\n* Ensure a single chain object in a chain does not raise MaximumRecursionError.\r\n\r\nPreviously chain([chain(sig)]) would crash.\r\nWe now ensure it doesn't.\r\n\r\nFixes #5973.\r\n\r\n* update setup.py\r\n\r\n* fix typo\r\n\r\nmissing quote at the end of line\r\n\r\n* Fix a typo in monitoring doc\r\n\r\n* update travis\r\n\r\n* update ubuntu to focal foss\r\n\r\n20.04 LTS\r\n\r\n* Fix autoscale when prefetch_multiplier is 1\r\n\r\n* Allow start_worker to function without ping task\r\n\r\n* Update celeryd.conf\r\n\r\nMove the directory of the program before the execution of the command/script\r\n\r\n* Add documentation for \"predefined_queue_urls\"\r\n\r\n* [Fix #6074]: Add missing documentation for MongoDB as result backend.\r\n\r\n* update funding\r\n\r\n* \ud83d\udc1b Correctly handle configuring the serializer for always_eager mode. (#6079)\r\n\r\n* \ud83d\udc1b Correctly handle configuring the serializer for always_eager mode.\r\n\r\noptions['serializer'] will always exist, because it is initialized from an mattrgetter. Even if unset, it will be present in the options with a value of None.\r\n\r\n* \ud83d\udc1b Add a test for new always_eager + task_serializer behavior.\r\n\r\n* \u270f\ufe0f Whoops missed a :\r\n\r\n* Remove doubling of prefetch_count increase when prefetch_multiplier gt 1 (#6081)\r\n\r\n* try ubuntu focal (#6088)\r\n\r\n* Fix eager function not returning result after retries.\r\n\r\nUsing apply function does not return correct results after at least one\r\nretry because the return value of successive call is not going back to\r\nthe original caller.\r\n\r\n* return retry result if not throw and is_eager\r\n\r\nif throw is false, we would be interested by the result of retry and\r\nnot the current result which will be an exception.\r\n\r\nThis way it does not break the logic of `raise self.retry`\r\n\r\nThis should be used like `return self.retry(..., throw=False)` in an\r\nexcept statement.\r\n\r\n* revert formatting change\r\n\r\n* Add tests for eager retry without throw\r\n\r\n* update predefined-queues documentation\r\n\r\nSuggested version of configuration does not work. \r\nAdditionally I'd like to mention, that `access_key_id` and `secret_access_key` are mandatory fields and not allowing you to go with defaults AWS_* env variables.\r\nI can contribute for this variables to be optional\r\n\r\nAlso I'm not sure if security token will apply, could you please advice how to do it?\r\n\r\n* Fix couchbase version < 3.0.0 as API changed\r\n\r\n* Remove reference to -O fair in optimizations\r\n\r\n-O fair was made the default in Celery 4.0\r\nhttps://docs.celeryproject.org/en/stable/history/whatsnew-4.0.html#ofair-is-now-the-default-scheduling-strategy\r\n\r\n* pytest ranges\r\n\r\n* pypy3\r\n\r\n* revert to bionic\r\n\r\n* do not load docs.txt requirements for python 2.7\r\n\r\nAs it requires Sphinx >= 2.0.0 and there is no such version compatible\r\nwith python 2.7\r\n\r\n* update cassandra travis integration test configuration\r\n\r\ncassandra:latest docker image changed location of cqlsh program\r\n\r\n* pin cassandra-driver\r\n\r\nCI get stuck after all cassandra integration tests\r\n\r\n* Fix all flake8 lint errors\r\n\r\n* Fix all pydocstyle lint errors\r\n\r\n* Fix all configcheck lint errors\r\n\r\n* Always requeue while worker lost regardless of the redelivered flag (#6103)\r\n\r\n* #5598 fix, always redelivery while WorkerLostError\r\n\r\n* fix, change the requeue flag so the task will remain PENDING\r\n\r\n* Allow relative paths in the filesystem backend (#6070)\r\n\r\n* Allow relative paths in the filesystem backend\r\n\r\n* fix order of if statements\r\n\r\n* [Fixed Issue #6017]\r\n--> Added Multi default logfiles and pidfiles paths\r\n\r\n[Description]:\r\n--> Changed the default paths for log files & pid files to be '/var/log/celery' and '/var/run/celery'\r\n--> Handled by creating the respective paths if not exist.\r\n--> Used os.makedir(path,if_exists=True)\r\n\r\n[Unit Test Added]:\r\n--> .travis.yml - config updated with 'before install'.\r\n--> t/unit/apps/test_multi.py - Changed the default log files & pid files paths wherever required.\r\n\r\n* Avoid race condition due to task duplication.\r\n\r\nIn some circumstances like a network partitioning, some tasks might\r\nbe duplicated. Sometimes, this lead to a race condition where a lost\r\ntask overwrites the result of the last successful task in the backend.\r\n\r\nIn order to avoid this race condition we prevent updating the result if\r\nit's already in successful state.\r\n\r\nThis fix has been done for KV backends only and therefore won't work\r\nwith other backends.\r\n\r\n* adding tests\r\n\r\n* Exceptions must be old-style classes or derived from BaseException,\r\nbut here self.result may not subclass of BaseException.\r\n\r\n* update fund link\r\n\r\n* Fix windows build (#6104)\r\n\r\n* do not load memcache nor couchbase lib during windows build\r\n\r\nthose libraries depends on native libraries libcouchbase and libmemcached\r\nthat are not installed on Appveyor.\r\nAs only unit tests runs on Appveyor, it should be fine\r\n\r\n* Add python 3.8 workaround for app trap\r\n\r\n* skip tests file_descriptor_safety tests on windows\r\n\r\nAsyncPool is not supported on Windows so Pool does have _fileno_to_outq\r\nattribute, making the test fail\r\n\r\n* Fix crossplatform log and pid files in multi mode\r\n\r\nit relates to #6017\r\n\r\n* Use tox to build and test on windows\r\n\r\n* remove tox_install_command\r\n\r\n* drop python 2.7 from windows build\r\n\r\n* Add encode to meta task in base.py (#5894)\r\n\r\n* Add encode to base.py meta result\r\n\r\nFix bug with impossibility to load None from task meta\r\n\r\n* Add tests for None. Remove exceed encode.\r\n\r\n* Update base.py\r\n\r\nAdd return payload if None\r\n\r\n* Update time.py to solve the microsecond issues (#5199)\r\n\r\nWhen `relative` is set to True, the day, hour, minutes second will be round to the nearest one, however, the original program do not update the microsecond (reset it). As a result, the run-time offset on the microsecond will then be accumulated. \r\nFor example, given the interval is 15s and relative is set to True\r\n1.    2018-11-27T15:01:30.123236+08:00\r\n2.    2018-11-27T15:01:45.372687+08:00\r\n3.    2018-11-27T15:02:00.712601+08:00\r\n4.    2018-11-27T15:02:15.987720+08:00\r\n5.    2018-11-27T15:02:31.023670+08:00\r\n\r\n* Change backend _ensure_not_eager error to warning\r\n\r\n* Add priority support for 'celery.chord_unlock' task (#5766)\r\n\r\n* Change eager retry behaviour\r\n\r\neven with raise self.retry, it should return the eventual value\r\nor MaxRetriesExceededError.\r\nif return value of eager apply is Retry exception, retry eagerly\r\nthe task signature\r\n\r\n* Order supported Python versions\r\n\r\n* Avoid race condition in elasticsearch backend\r\n\r\nif a task is retried, the task retry may work concurrently to current task.\r\nstore_result may come out of order.\r\nit may cause a non ready state (Retry) to override a ready state (Success, Failure).\r\nIf this happens, it will block indefinitely pending any chord depending on this task.\r\n\r\nthis change makes document updates safe for concurrent writes.\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/optimistic-concurrency-control.html\r\n\r\n* backends base get_many pass READY_STATES arg\r\n\r\n* test backends base get_many pass READY_STATES arg\r\n\r\n* Add integration tests for Elasticsearch and fix _update\r\n\r\n* Revert \"revert to bionic\"\r\n\r\nThis reverts commit 6e091573f2ab0d0989b8d7c26b677c80377c1721.\r\n\r\n* remove jython check\r\n\r\n* feat(backend): Adds cleanup to ArangoDB backend\r\n\r\n* Delete Document Known Issue with CONN_MAX_AGE in 4.3\r\n\r\n* issue 6108 fix filesystem backend cannot not be serialized by picked (#6120)\r\n\r\n* issue 6108 fix filesystem backend cannot not be serialized by picked\r\n\r\nhttps://github.com/celery/celery/issues/6108\r\n\r\n* issue-6108 fix unit test failure\r\n\r\n* issue-6108 fix flake8 warning\r\n\r\nCo-authored-by: Murphy Meng <mmeng@mirriad.com>\r\n\r\n* kombu==4.6.9 (#6133)\r\n\r\n* changelog for 4.4.3\r\n\r\n* v 4.4.3\r\n\r\n* remove un supported classifier\r\n\r\n* Fix autoretry_for with explicit retry (#6138)\r\n\r\n* Add tests for eager task retry\r\n\r\n* Fixes #6135\r\n\r\nIf autoretry_for is set too broad on Exception, then autoretry may get a Retry\r\nif that's the case, rethrow directly instead of wrapping it in another Retry\r\nto avoid loosing new args\r\n\r\n* Use Django DB max age connection setting (fixes #4116)\r\n\r\n* Add retry on recoverable exception for the backend (#6122)\r\n\r\n* Add state to KeyValueStoreBackend.set method\r\n\r\nThis way, a backend implementation is able to take decisions based on\r\ncurrent state to store meta in case of failures.\r\n\r\n* Add retry on recoverable exception for the backend\r\n\r\nacks.late makes celery acknowledge messages only after processing and\r\nstoring result on the backend.\r\n\r\nHowever, in case of backend unreachable, it will shadow a Retry\r\nexception and put the task as failed in the backend not retrying the\r\ntask and acknoledging it on the broker.\r\n\r\nWith this new result_backend_always_retry setting, if the backend\r\nexception is recoverable (to be defined per backend implementation),\r\nit will retry the backend operation with an exponential backoff.\r\n\r\n* Make elasticsearch backward compatible with 6.x\r\n\r\n* Make ES retry storing updates in a better way\r\n\r\nif existing value in the backend is success, then do nothing.\r\nif it is a ready status, then update it only if new value is a ready status as well.\r\nelse update it.\r\n\r\nThis way, a SUCCESS cannot be overriden so that we do not loose\r\nresults but any ready state other than success (FAILURE, REVOKED) can\r\nbe overriden by another ready status (i.e. a SUCCESS)\r\n\r\n* Add test for value not found in ES backend\r\n\r\n* Fix random distribution of jitter for exponential backoff\r\n\r\nrandom.randrange should be called with the actual so that all numbers\r\nhave equivalent probability, otherwise maximum value does have a way\r\nhigher probability of occuring.\r\n\r\n* fix unit test if extra modules are not present\r\n\r\n* ElasticSearch: add setting to save meta as json\r\n\r\n* fix #6136. celery 4.4.3 always trying create /var/run/celery directory (#6142)\r\n\r\n* fix #6136. celery 4.4.3 always trying create /var/run/celery directory, even if it's not needed.\r\n\r\n* fix #6136. cleanup\r\n\r\n* Add task_internal_error signal (#6049)\r\n\r\n* Add internal_error signal\r\n\r\nThere is no special signal for an out of body error which can be the\r\nresult of a bad result backend.\r\n\r\n* Fix syntax error.\r\n\r\n* Document the task_internal_error signal.\r\n\r\nCo-authored-by: Laurentiu Dragan <ldragan@bloomberg.net>\r\n\r\n* changelog for v4.4.4\r\n\r\n* kombu 4.6.10 (#6144)\r\n\r\n* v4.4.4\r\n\r\n* Add missing dependency on future (#6146)\r\n\r\nFixes #6145\r\n\r\n* ElasticSearch: Retry index if document was deleted between index and update (#6140)\r\n\r\n* ElasticSearch: Retry index if document was deleted between index and update\r\n\r\n* Elasticsearch increase coverage to 100%\r\n\r\n* Fix pydocstyle\r\n\r\n* Specify minimum version of Sphinx for Celery extension (#6150)\r\n\r\nThe Sphinx extension requires Sphinx 2 or later due to #6032.\r\n\r\n* fix windows build\r\n\r\n* fix flake8 error\r\n\r\n* fix multi tests in local\r\n\r\nMock os.mkdir and os.makedirs to avoid creating /var/run/celery and\r\n/var/log/celery during unit tests if run without root priviledges\r\n\r\n* Customize the retry interval of chord_unlock tasks\r\n\r\n* changelog v4.4.5\r\n\r\n* v4.4.5\r\n\r\n* Fix typo in comment.\r\n\r\n* Remove autoscale force_scale methods (#6085)\r\n\r\n* Remove autoscale force_scale methods\r\n\r\n* Remove unused variable in test\r\n\r\n* Pass ping destination to request\r\n\r\nThe destination argument worked fine from CLI but didn't get used when calling ping from Python.\r\n\r\n* Fix autoscale test\r\n\r\n* chord: merge init options with run options\r\n\r\n* put back KeyValueStoreBackend.set method without state\r\n\r\nIt turns out it was breaking some other projects.\r\nwrapping set method with _set_with_state, this way it will not break existing Backend.\r\nwhile enabling this feature for other Backend.\r\n\r\nCurrently, only ElasticsearchBackend supports this feature.\r\n\r\nIt protects concurrent update to corrupt state in the backend.\r\nExisting success cannot be overriden, nor a ready state by a non ready state.\r\ni.e. a Retry state cannot override a Success or Failure.\r\nAs a result, chord_unlock task will not loop forever due to missing ready state on the backend.\r\n\r\n* added --range-prefix option to `celery multi` (#6180)\r\n\r\n* added --range-prefix option to `celery multi`\r\n\r\nAdded option for overriding default range prefix when running\r\nmultiple workers prividing range with `celery multy` command.\r\n\r\n* covered multi --range-prefix with tests\r\n\r\n* fixed --range-prefix test\r\n\r\n* Added as_list function to AsyncResult class (#6179)\r\n\r\n* Add as_list method to return task IDs as a list\r\n\r\n* Add a test for as_list method\r\n\r\n* Add docstring for as_list method\r\n\r\n* Fix CassandraBackend error in threads or gevent pool (#6147)\r\n\r\n* Fix CassandraBackend error in threads or gevent pool\r\n        * remove CassandraBackend.process_cleanup\r\n\r\n* Add test case\r\n\r\n* Add test case\r\n\r\n* Add comments test_as_uri\r\n\r\nCo-authored-by: baixue <baixue@wecash.net>\r\n\r\n* changelog for v4.4.6\r\n\r\n* v4.4.6\r\n\r\n* Update Wiki link in \"resources\"\r\n\r\nIn the page linked below, the link to wiki is outdated. Fixed that. \r\n\r\nhttps://docs.celeryproject.org/en/stable/getting-started/resources.html\r\n\r\n* test_canvas: Add test for chord-in-chain\r\n\r\nAdd test case for the issue where a chord in a chain does not\r\nwork when using .apply(). This works fine with .apply_async().\r\n\r\n* Trying to fix flaky tests in ci\r\n\r\n* fix pydocstyle errors\r\n\r\n* fix pydocstyle\r\n\r\n* Drainer tests, put a lower constraint on number of intervals\r\n\r\nliveness should iterate 10 times per interval while drain_events only\r\nonce. However, as it may use thread that may be scheduled out of\r\norder, we may end up in some situation where liveness and drain_events\r\nwere called the same amount of time.\r\n\r\nLowering the constraint from < to <= to avoid failing the tests.\r\n\r\n* pyupgrade.\r\n\r\n* Fix merge error.\r\n\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <root@grassfish.net>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: spengjie <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: whuji <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Xtreak <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\nCo-authored-by: Alex Riina <alex.riina@gmail.com>\r\nCo-authored-by: Joon Hwan \uae40\uc900\ud658 <xncbf12@gmail.com>\r\nCo-authored-by: Prabakaran Kumaresshan <k_prabakaran+github@hotmail.com>\r\nCo-authored-by: Martey Dodoo <martey@mobolic.com>\r\nCo-authored-by: Konstantin Seleznev <4374093+Seleznev-nvkz@users.noreply.github.com>\r\nCo-authored-by: Prodge <Prodge@users.noreply.github.com>\r\nCo-authored-by: Abdelhadi Dyouri <raryat@gmail.com>\r\nCo-authored-by: Ixiodor <Ixiodor@users.noreply.github.com>\r\nCo-authored-by: abhishekakamai <47558404+abhishekakamai@users.noreply.github.com>\r\nCo-authored-by: Allan Lei <allanlei@helveticode.com>\r\nCo-authored-by: M1ha Shvn <work_shvein_mihail@mail.ru>\r\nCo-authored-by: Salih Caglar Ispirli <caglarispirli@gmail.com>\r\nCo-authored-by: Micha Moskovic <michamos@gmail.com>\r\nCo-authored-by: Chris Burr <chrisburr@users.noreply.github.com>\r\nCo-authored-by: Dave King <tildedave@gmail.com>\r\nCo-authored-by: Dmitry Nikulin <v.dmitry.nikulin@gmail.com>\r\nCo-authored-by: Michael Gaddis <mgaddis@ancestry.com>\r\nCo-authored-by: epwalsh <epwalsh10@gmail.com>\r\nCo-authored-by: TalRoni <tal.inon.16@gmail.com>\r\nCo-authored-by: Leo Singer <leo.singer@ligo.org>\r\nCo-authored-by: Stephen Tomkinson <neonbunny@users.noreply.github.com>\r\nCo-authored-by: Abhishek <abhishek.shukla@xeneta.com>\r\nCo-authored-by: theirix <theirix@gmail.com>\r\nCo-authored-by: yukihira1992 <hirayama@cancerscan.jp>\r\nCo-authored-by: jpays <jerome.pays@cnp.fr>\r\nCo-authored-by: Greg Ward <greg@gerg.ca>\r\nCo-authored-by: Alexa Griffith <agriffith@bluecore.com>\r\nCo-authored-by: heedong <63043496+heedong-jung@users.noreply.github.com>\r\nCo-authored-by: heedong.jung <heedong.jung@samsung.com>\r\nCo-authored-by: Shreyansh Khajanchi <shreyanshk@users.noreply.github.com>\r\nCo-authored-by: Sam Thompson <georgedorn@users.noreply.github.com>\r\nCo-authored-by: Alphadelta14 <alpha@pokesplash.net>\r\nCo-authored-by: Azimjon Pulatov <azimjohn@yahoo.com>\r\nCo-authored-by: ysde <ysde108@gmail.com>\r\nCo-authored-by: AmirMohammad Ziaei <amir_zia@outlook.com>\r\nCo-authored-by: Ben Nadler <ben.nadler@gusto.com>\r\nCo-authored-by: Harald Nezbeda <hn@nezhar.com>\r\nCo-authored-by: Chris Frisina <github@specialorange.org>\r\nCo-authored-by: Adam Eijdenberg <adam.eijdenberg@digital.gov.au>\r\nCo-authored-by: rafaelreuber <rafaelreuber@gmail.com>\r\nCo-authored-by: Noah Kantrowitz <noah@coderanger.net>\r\nCo-authored-by: Ben Nadler <jbennadler@gmail.com>\r\nCo-authored-by: Clement Michaud <c.michaud@criteo.com>\r\nCo-authored-by: Mathieu Chataigner <m.chataigner@criteo.com>\r\nCo-authored-by: eugeneyalansky <65346459+eugeneyalansky@users.noreply.github.com>\r\nCo-authored-by: Leonard Lu <leonard@socialcodeinc.com>\r\nCo-authored-by: XinYang <yangxinhust@hotmail.com>\r\nCo-authored-by: Ingolf Becker <ingolf.becker@googlemail.com>\r\nCo-authored-by: Anuj Chauhan <an12ch98@gmail.com>\r\nCo-authored-by: shaoziwei <ziwei.shao@cloudchef.io>\r\nCo-authored-by: Mathieu Chataigner <mathieu.chataigner@gmail.com>\r\nCo-authored-by: Anakael <shemeldima2@yandex.ru>\r\nCo-authored-by: Danny Chan <danny.chan@c-k.dev>\r\nCo-authored-by: Sebastiaan ten Pas <sebastiaan@diggimedia.nl>\r\nCo-authored-by: David TILLOY <d.tilloy@criteo.com>\r\nCo-authored-by: Anthony N. Simon <anthonynsimon@users.noreply.github.com>\r\nCo-authored-by: lironhl <liron.lavy@gmail.com>\r\nCo-authored-by: Raphael Cohen <raphael.cohen@sekoia.fr>\r\nCo-authored-by: JaeyoungHeo <jay.jaeyoung@gmail.com>\r\nCo-authored-by: singlaive <singlaive@gmail.com>\r\nCo-authored-by: Murphy Meng <mmeng@mirriad.com>\r\nCo-authored-by: Wu Haotian <whtsky@gmail.com>\r\nCo-authored-by: Kwist <velnik@gmail.com>\r\nCo-authored-by: Laurentiu Dragan <ldragan@bloomberg.net>\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: Radim S\u00fcckr <radim.suckr@gmail.com>\r\nCo-authored-by: Artem Vasilyev <artem.v.vasilyev@gmail.com>\r\nCo-authored-by: kakakikikeke-fork <kakakikikeke_new@yahoo.co.jp>\r\nCo-authored-by: Pysaoke <pysaoke@gmail.com>\r\nCo-authored-by: baixue <baixue@wecash.net>\r\nCo-authored-by: Prashant Sinha <prashantsinha@outlook.com>\r\nCo-authored-by: AbdealiJK <abdealikothari@gmail.com>\r\n\r\n* Remove Python 2 compatibility code from Celery (#6221)\r\n\r\n* Remove five from celery/__init__.py\r\n\r\n* Remove five from celery/beat.py\r\n\r\n* Remove five from celery/bootsteps.py\r\n\r\n* Remove five from celery/exceptions.py\r\n\r\n* Remove five from celery/local.py\r\n\r\n* Remove five from celery/platforms.py\r\n\r\n* Remove five from celery/result.py\r\n\r\n* Remove five from celery/schedules.py\r\n\r\n* Remove five from celery/app/amqp.py\r\n\r\n* Remove five from celery/app/annotations.py\r\n\r\n* Remove five from celery/app/backends.py\r\n\r\n* Remove five from celery/app/base.py\r\n\r\n* Remove five from celery/app/control.py\r\n\r\n* Remove five from celery/app/defaults.py\r\n\r\n* Remove five from celery/app/log.py\r\n\r\n* Remove five from celery/app/registry.py\r\n\r\n* Remove five from celery/app/routes.py\r\n\r\n* Remove five from celery/app/task.py\r\n\r\n* Remove five from celery/app/trace.py\r\n\r\n* Remove five from celery/app/utils.py\r\n\r\n* Remove five from celery/apps/beat.py\r\n\r\n* Remove five from celery/apps/multi.py\r\n\r\n* Remove five from celery/apps/worker.py\r\n\r\n* Remove five from celery/backends/database/__init__.py\r\n\r\n* Remove five from celery/backends/amqp.py\r\n\r\n* Remove five from celery/backends/asynchronous.py\r\n\r\n* Remove five from celery/backends/base.py\r\n\r\n* Remove five from celery/backends/dynamodb.py\r\n\r\n* Remove five from celery/backends/elasticsearch.py\r\n\r\n* Remove five from celery/backends/mongodb.py\r\n\r\n* Remove five from celery/backends/redis.py\r\n\r\n* Remove five from celery/backends/rpc.py\r\n\r\n* Remove five from celery/concurrency/asynpool.py\r\n\r\n* Remove five from celery/concurrency/base.py\r\n\r\n* Remove five from celery/concurrency/prefork.py\r\n\r\n* Remove five from celery/contrib/testing/manager.py\r\n\r\n* Remove five from celery/contrib/migrate.py\r\n\r\n* Remove five from celery/contrib/rdb.py\r\n\r\n* Remove five from celery/events/cursesmon.py\r\n\r\n* Remove five from celery/events/dispatcher.py\r\n\r\n* Remove five from celery/events/state.py\r\n\r\n* Remove five from celery/loaders/base.py\r\n\r\n* Remove five from celery/security/certificate.py\r\n\r\n* Remove five from celery/security/utils.py\r\n\r\n* Remove five from celery/task/base.py\r\n\r\n* Remove five from celery/utils/dispatch/signal.py\r\n\r\n* Remove five from celery/utils/abstract.py\r\n\r\n* Remove five from celery/utils/collections.py\r\n\r\n* Remove five from celery/utils/debug.py\r\n\r\n* Remove five from celery/utils/functional.py\r\n\r\n* Remove five from celery/utils/graph.py\r\n\r\n* Remove five from celery/utils/imports.py\r\n\r\n* Remove five from celery/utils/log.py\r\n\r\n* Remove five from celery/utils/saferepr.py\r\n\r\n* Remove five from celery/utils/serialization.py\r\n\r\n* Remove five from celery/utils/term.py\r\n\r\n* Remove five from celery/utils/text.py\r\n\r\n* Remove five from celery/utils/threads.py\r\n\r\n* Remove five from celery/utils/time.py\r\n\r\n* Remove five from celery/utils/timer2.py\r\n\r\n* Remove five from celery/consumer/consumer.py\r\n\r\n* Remove five from celery/consumer/gossip.py\r\n\r\n* Remove five from celery/consumer/mingle.py\r\n\r\n* Remove five from celery/worker/autoscale.py\r\n\r\n* Remove five from celery/worker/components.py\r\n\r\n* Remove five from celery/worker/control.py\r\n\r\n* Remove five from celery/worker/request.py\r\n\r\n* Remove five from celery/worker/state.py\r\n\r\n* Remove five from celery/worker/worker.py\r\n\r\n* Remove five from celery/t/benchmarks/bench_worker.py\r\n\r\n* Remove five from celery/t/integration/test_canvas.py\r\n\r\n* Remove five from celery/t/unit/app\r\n\r\n* Remove five from celery/t/unit/backends\r\n\r\n* Remove five from celery/t/unit/compat_modules\r\n\r\n* Remove five from celery/t/unit/concurrency\r\n\r\n* Remove five from celery/t/unit/contrib\r\n\r\n* Remove five from celery/t/unit/events\r\n\r\n* Remove five from celery/t/unit/security\r\n\r\n* Remove five from celery/t/unit/tasks\r\n\r\n* Remove five from celery/t/unit/utils\r\n\r\n* Remove five from celery/t/unit/worker\r\n\r\n* Sort imports.\r\n\r\n* Comment out PyPy for now.\r\n\r\n* Remove flakeplus.\r\n\r\n* Happify linter.\r\n\r\n* Fix merge problems.\r\n\r\n* Delete backport.\r\n\r\n* Remove unused import.\r\n\r\n* Remove logic that notifies user that the Python version isn't supported from setup.py.\r\n\r\npip already does that for us.\r\n\r\n* Add a trove classifier to indicate Celery only supports Python 3.\r\n\r\n* Restore usage of `reraise` for consistency with the kombu port.\r\n\r\n* Drop Python 2 compatibility code from our Sphinx extension.\r\n\r\n* Remove mention of flakeplus from tox.ini.\r\n\r\n* Remove mention of flakeplus from our CONTRIBUTING guide.\r\n\r\n* Bump Sphinx requirement.\r\n\r\n* Remove Python 2 compatibility code from our custom Sphinx extension.\r\n\r\n* Resolve Sphinx warning due to removed section in 32ff7b45aa3d78aedca61b6554a9db39122924fd.\r\n\r\n* Remove pydocstyle from build matrix as it was removed from master.\r\n\r\nSee #6278.\r\n\r\n* Bump version: 4.4.7 \u2192 5.0.0-alpha1\r\n\r\n* Final touches.\r\n\r\n* Fix README.\r\n\r\n* Bump Kombu to 5.0.0.\r\n\r\n* Bump version: 5.0.0-alpha1 \u2192 5.0.0a2\r\n\r\n* Fix wrong version.\r\n\r\n* Remove autodoc for removed module.\r\n\r\n* Remove documentation for removed methods.\r\n\r\n* Remove the riak backend since riak is no longer maintained.\r\n\r\nCo-authored-by: tothegump <tothegump@gmail.com>\r\nCo-authored-by: Omer Katz <omer.drow@gmail.com>\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: ptitpoulpe <ptitpoulpe@ptitpoulpe.fr>\r\nCo-authored-by: Didi Bar-Zev <didi@hiredscore.com>\r\nCo-authored-by: Santos Solorzano <santosjavier22@gmail.com>\r\nCo-authored-by: manlix <manlix@yandex.ru>\r\nCo-authored-by: Jimmy <54828848+sckhg1367@users.noreply.github.com>\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <caoyu97@hotmail.com>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: Pengjie Song (\u5b8b\u9e4f\u6377) <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: as <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Karthikeyan Singaravelan <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\nCo-authored-by: gsfish <root@grassfish.net>\r\nCo-authored-by: Alex Riina <alex.riina@gmail.com>\r\nCo-authored-by: Joon Hwan \uae40\uc900\ud658 <xncbf12@gmail.com>\r\nCo-authored-by: Prabakaran Kumaresshan <k_prabakaran+github@hotmail.com>\r\nCo-authored-by: Martey Dodoo <martey@mobolic.com>\r\nCo-authored-by: Konstantin Seleznev <4374093+Seleznev-nvkz@users.noreply.github.com>\r\nCo-authored-by: Prodge <Prodge@users.noreply.github.com>\r\nCo-authored-by: Abdelhadi Dyouri <raryat@gmail.com>\r\nCo-authored-by: Ixiodor <Ixiodor@users.noreply.github.com>\r\nCo-authored-by: abhishekakamai <47558404+abhishekakamai@users.noreply.github.com>\r\nCo-authored-by: Allan Lei <allanlei@h\u2026", "tree": {"sha": "f5afec6cccc04179a2e95dbc0528f1333b1a173c", "url": "https://api.github.com/repos/celery/celery/git/trees/f5afec6cccc04179a2e95dbc0528f1333b1a173c"}, "url": "https://api.github.com/repos/celery/celery/git/commits/5b86b35c81ea5a1fbfd439861f4fee6813148d16", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfM/B7CRBK7hj4Ov3rIwAAdHIIAJa4QVDRGn/DByS2etrxMaeU\nFKaCDDMn5/vwa6XhI9UVjlrx1Kgj6E4kDg+bvKDYnGKZr8YwZodutuKk5MIRn8gy\nOxbYXmvlnUJwyILaOlbtnEaIYRgQat62tjtiFvZLHSvk/8Yv2sMdjmIkU1Q3jFJh\nw4FdHqfKCciawLEH8YjBJgQflNedQdh25naG2N94dhqKqCtjv0fCPVbSpYMgTFis\ng8IymsixK1d+9fH6Oe+gYc9yZ+EAZnosA1/qqwBymTdtWk/g0D1L78meseyeenqt\nic5apzM2rTOfIEh7Qr/hcqB4g6PxhRSEypq9CvoQ35SQN0moB9tqWkEytxOiVQM=\n=8lQa\n-----END PGP SIGNATURE-----\n", "payload": "tree f5afec6cccc04179a2e95dbc0528f1333b1a173c\nparent 9a6c2923e859b6993227605610255bd632c1ae68\nauthor Asif Saif Uddin <auvipy@gmail.com> 1597239419 +0600\ncommitter GitHub <noreply@github.com> 1597239419 +0600\n\n[WIP] - Work in progress PR for Celery version 5 (#5686)\n\n* 'abstractproperty' is deprecated. Use 'property' with 'abstractmethod' instead\r\n\r\n* Fix #2849 - Initial work of celery 5.0.0 alpha1 series by dropping python below 3.6 from marix & remove import from __future__ (#5684)\r\n\r\n* initial work of celery 5.0.0 alpha-1 series by dropping python below 3.6\r\n\r\n* i-5651(ut): add ut for ResultSet.join_native (#5679)\r\n\r\n* dropped python versions below 3.6 from tox\r\n\r\n* dropped python versions below 3.6 from travis\r\n\r\n* dropped python versions below 3.6 from appveyor\r\n\r\n* dropped python2 compat __future__ imports from tests\r\n\r\n* Fixed a bug where canvases with a group and tasks in the middle followed by a group fails to complete and indefinitely hangs. (#5681)\r\n\r\nFixes #5512, fixes #5354, fixes #2573.\r\n\r\n* dropped python2 compat __future__ imports from celery\r\n\r\n* dropped python2 compat code from init\r\n\r\n* revert readme change about version\r\n\r\n* removed python 2 object inheritance (#5687)\r\n\r\n* removed python 2 object inheritance\r\n\r\n* removed python 2 object inheritance\r\n\r\n* removed python 2 compatibility decorator (#5689)\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* removed python 2 compatibility decorator\r\n\r\n* Remove unused imports.\r\n\r\n* Remove unused imports of python_2_unicode_compatible.\r\n\r\nAlso removed leftover useage of them where they were still used.\r\n\r\n* Run pyupgrade on codebase (#5726)\r\n\r\n* Run pyupgrade on codebase.\r\n\r\n* Use format strings where possible.\r\n\r\n* pyupgrade examples.\r\n\r\n* pyupgrade on celerydocs extension.\r\n\r\n* pyupgrade on updated code.\r\n\r\n* Address code review comments.\r\n\r\n* Address code review comments.\r\n\r\n* Remove unused imports.\r\n\r\n* Fix indentation.\r\n\r\n* Address code review comments.\r\n\r\n* Fix syntax error.\r\n\r\n* Fix syntax error.\r\n\r\n* Fix syntax error.\r\n\r\n* pytest 5.x for celery 5 (#5791)\r\n\r\n* Port latest changes from master to v5-dev (#5942)\r\n\r\n* Fix serialization and deserialization of nested exception classes (#5717)\r\n\r\n* Fix #5597: chain priority (#5759)\r\n\r\n* adding `worker_process_shutdown` to __all__ (#5762)\r\n\r\n* Fix typo (#5769)\r\n\r\n* Reformat code.\r\n\r\n* Simplify commands to looking for celery worker processes (#5778)\r\n\r\n* update doc- celery supports storage list. (#5776)\r\n\r\n* Update introduction.rst\r\n\r\n* Update introduction.rst\r\n\r\n* Fail xfailed tests if the failure is unexpected.\r\n\r\n* Added integration coverage for link_error (#5373)\r\n\r\n* Added coverage for link_error.\r\n\r\n* Use pytest-rerunfailed plugin instead of rolling our own custom implementation.\r\n\r\n* Added link_error with retries. This currently fails.\r\n\r\n* Remove unused import.\r\n\r\n* Fix import on Python 2.7.\r\n\r\n* retries in link_error do not hang the worker anymore.\r\n\r\n* Run error callbacks eagerly when the task itself is run eagerly.\r\n\r\nFixes #4899.\r\n\r\n* Adjust unit tests accordingly.\r\n\r\n* Grammar in documentation (#5780)\r\n\r\n* Grammar in documentation\r\n\r\n* Address review.\r\n\r\n* pypy 7.2 matrix (#5790)\r\n\r\n* removed extra slashes in CELERY_BROKER_URL (#5792)\r\n\r\nThe Celery broker URL in settings.py had 2 slashes in the end which are not required and can be misleading.\r\nso I changed :-\r\nCELERY_BROKER_URL = 'amqp://guest:guest@localhost//' to CELERY_BROKER_URL = 'amqp://guest:guest@localhost'\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work (#5773)\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work\r\n\r\n* Add unit test: test_setting_default_exchange\r\n\r\n* Move default_exchange test to standalone class\r\n\r\n* Run integration suite with memcached results backend. (#5739)\r\n\r\n* Fix hanging forever when fetching results from a group(chain(group)) canvas. (#5744)\r\n\r\nPR #5739 uncovered multiple problems with the cache backend.\r\nThis PR should resolve one of them.\r\n\r\nPR #5638 fixed the same test case for our async results backends that support native join.\r\nHowever, it did not fix the test case for sync results backends that support native join.\r\n\r\n* Fix regression in PR #5681. (#5753)\r\n\r\nSee comment in the diff for details.\r\n\r\n* Grammatical fix to CONTRIBUTING.rst doc (#5794)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs (#5795)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs\r\n\r\n* Add unit test: test_get_connection_with_authmechanism\r\n\r\n* Add unit test: test_get_connection_with_authmechanism_no_username\r\n\r\n* Fix errors in Python 2.7\r\n\r\nRemove \",\" after \"**\" operator\r\n\r\n* Revert \"Revert \"Revert \"Added handle of SIGTERM in BaseTask in celery/task.py to prevent kill the task\" (#5577)\" (#5586)\" (#5797)\r\n\r\nThis reverts commit f79894e0a2c7156fd0ca5e8e3b652b6a46a7e8e7.\r\n\r\n* Add Python 3.8 Support (#5785)\r\n\r\n* Added Python 3.8 to the build matrix.\r\n\r\n* Ensure a supported tblib version is installed for Python 3.8 and above.\r\n\r\nIn addition, modernize the relevant tests.\r\n\r\n* Workaround patching problem in test.\r\n\r\n* py 3.8 in clasifier\r\n\r\n* ubuntu bionic (#5799)\r\n\r\n* ubuntu bionic\r\n\r\n* fast finish\r\n\r\n* sync bumversion with pypi release\r\n\r\n* Dev.req (#5803)\r\n\r\n* update  docker config\r\n\r\n\r\n\r\n* undo hardpin\r\n\r\n* devr req install from github master\r\n\r\n* update  docker config (#5801)\r\n\r\n* update  docker config\r\n\r\n* make dockerfile to install from github master dev branch by default\r\n\r\n* update download link\r\n\r\n* Isort.\r\n\r\n* Grammatical & punctuation fixes for CONTRIBUTING.rst document (#5804)\r\n\r\n* update dockerfile\r\n\r\n* switched to ubuntu bionic\r\n\r\n* update docker\r\n\r\n* keep it empty until we reconfigure it again with autopep8\r\n\r\n* Fixed Dockerfile (#5809)\r\n\r\n* Update document CONTRIBUTING.rst & fix Dockerfile typo (#5813)\r\n\r\n* Added an issue template for minor releases.\r\n\r\n* reference gocelery Go Client/Server for Celery (#5815)\r\n\r\n* Add enterprise language (#5818)\r\n\r\n* Fix/correct minor doc typos (#5825)\r\n\r\n* Correct a small typo\r\n\r\n* Correct bad contributing documentation links\r\n\r\n* Preserve the task priority in case of a retry (#5820)\r\n\r\n* Preserve the task priority in case of a retry\r\n\r\n* Created test case for retried tasks with priority\r\n\r\n* Implement an integration test for retried tasks with priorities\r\n\r\n* bump kombu\r\n\r\n* basic changelog for celery 4.4.0rc4\r\n\r\n* bump celery 4.4.0rc4\r\n\r\n* events bootstep disabled if no events (#5807)\r\n\r\n* events bootstep disabled if no events\r\n\r\n* Added unit tests.\r\n\r\n* update bug report template\r\n\r\n* fixing ascii art to look nicer (#5831)\r\n\r\n* Only rerun flaky tests when failures can be intermediary.\r\n\r\n* Rename Changelog to Changelog.rst\r\n\r\n* The test_nested_group_chain test can run without native_join support. (#5838)\r\n\r\n* Run integration tests with Cassandra (#5834)\r\n\r\n* Run integration tests with Cassandra.\r\n\r\n* Configure cassandra result backend\r\n\r\n* Pre-create keyspace and table\r\n\r\n* Fix deprecation warning.\r\n\r\n* Fix path to cqlsh.\r\n\r\n* Increase connection timeout.\r\n\r\n* Wait until the cluster is available.\r\n\r\n* SQS - Reject on failure (#5843)\r\n\r\n* reject on failure\r\n\r\n* add documentation\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* Add a concurrency model with ThreadPoolExecutor (#5099)\r\n\r\n* Add a concurrency model with ThreadPoolExecutor\r\n\r\n* thread model test for pypy\r\n\r\n* Chain primitive's code example fix in canvas documentation (Regression PR#4444) (#5845)\r\n\r\n* Changed multi-line string (#5846)\r\n\r\nThis string wasn't rendering properly and was printing the python statement too. Although the change isn't as pretty code-wise, it gets rid of an annoyance for the user.\r\n\r\n* Add auto expiry for DynamoDB backend (#5805)\r\n\r\n* Add auto expiry for DynamoDB backend\r\n\r\nThis adds auto-expire support for the DynamoDB backend, via the DynamoDB\r\nTime to Live feature.\r\n\r\n* Require boto3>=1.9.178 for DynamoDB TTL support\r\n\r\nboto3 version 1.9.178 requires botocore>=1.12.178.\r\n\r\nbotocore version 1.12.178 introduces support for the DynamoDB\r\nUpdateTimeToLive call.\r\n\r\nThe UpdateTimeToLive call is used by the DynamoDB backend to enable TTL\r\nsupport on a newly created table.\r\n\r\n* Separate TTL handling from table creation\r\n\r\nHandle TTL enabling/disabling separately from the table get-or-create\r\nfunction.\r\n\r\nImprove handling of cases where the TTL is already set to the desired\r\nstate.\r\n\r\nDynamoDB only allows a single TTL update action within a fairly long\r\ntime window, so some problematic cases (changing the TTL attribute,\r\nenabling/disabling TTL when it was recently modified) will raise\r\nexceptions that have to be dealt with.\r\n\r\n* Handle older boto3 versions\r\n\r\nIf the boto3 TTL methods are not found, log an informative error. If the\r\nuser wants to enable TTL, raise an exception; if TTL should be disabled,\r\nsimply return.\r\n\r\n* Improve logging\r\n\r\n- Handle exceptions by logging the error and re-raising\r\n\r\n- Log (level debug) when the desired TTL state is already in place\r\n\r\n* Add and use _has_ttl() convenience method\r\n\r\nAdditional changes:\r\n\r\n- Handle exceptions when calling boto3's describe_time_to_live()\r\n\r\n- Fix test cases for missing TTL methods\r\n\r\n* Update ttl_seconds documentation\r\n\r\n* Log invalid TTL; catch and raise ValueError\r\n\r\n* Separate method _get_table_ttl_description\r\n\r\n* Separate ttl method validation function\r\n\r\n* Clarify tri-state TTL value\r\n\r\n* Improve test coverage\r\n\r\n* Fix minor typo in comment\r\n\r\n* Mark test as xfail when using the cache backend. (#5851)\r\n\r\n* [Fix #5436] Store extending result in all backends (#5661)\r\n\r\n* [Fix #5436] Store extending result in all backends\r\n\r\n* Fix sqlalchemy\r\n\r\n* More fixu\r\n\r\n* Fixing tests\r\n\r\n* removing not necessary import\r\n\r\n* Removing debug code\r\n\r\n* Removing debug code\r\n\r\n* Add tests for get_result_meta in base and database\r\n\r\n* Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\r\n\r\nThis reverts commit f7f5bcfceca692d0e78c742a7c09c424f53d915b.\r\n\r\n* Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\r\n\r\nThis reverts commit 1b303c2968836245aaa43c3d0ff9249dd8bf9ed2.\r\n\r\n* docs: Document Redis commands used by celery (#5853)\r\n\r\n* remove cache back end integrtion test. (#5856)\r\n\r\n* Fix a race condition when publishing a very large chord header (#5850)\r\n\r\n* Added a test case which artificially introduces a delay to group.save().\r\n\r\n* Fix race condition by delaying the task only after saving the group.\r\n\r\n* update tox\r\n\r\n* Remove duplicate boto dependency. (#5858)\r\n\r\n* Revert \"remove cache back end integrtion test. (#5856)\" (#5859)\r\n\r\nThis reverts commit e0ac7a19a745dd5a52a615c1330bd67f2cef4d00.\r\n\r\n* Revert \"Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\" (#5857)\r\n\r\nThis reverts commit 4ddc605392d7694760f23069c34ede34b3e582c3.\r\n\r\n* Revert \"update tox\"\r\n\r\nThis reverts commit 49427f51049073e38439ea9b3413978784a24999.\r\n\r\n* Fix the test_simple_chord_with_a_delay_in_group_save test.\r\n\r\n* Revert \"Revert \"Skip unsupported canvas when using the cache backend\"\" (#5860)\r\n\r\n* Revert \"Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\"\r\n\r\nThis reverts commit fc101c61c1912c4dafa661981f8b865c011e8a55.\r\n\r\n* Make the xfail condition stricter.\r\n\r\n* Fix the xfail condition.\r\n\r\n* Linters should use Python 3.8.\r\n\r\n* Move pypy unit tests to the correct stage.\r\n\r\n* Temporarily allow PyPy to fail since it is unavailable in Travis.\r\n\r\n* Remove unused variables.\r\n\r\n* Fix unused imports.\r\n\r\n* Fix pydocstyle errors in dynamodb.\r\n\r\n* Fix pydocstyle errors in redis backend.\r\n\r\n* bump kombu to 4.6.7\r\n\r\n* celery 4.4.0rc5 changelog\r\n\r\n* celery 4.4.0rc5\r\n\r\n* rm redundant code (#5864)\r\n\r\n* isort.\r\n\r\n* Document the threads task pool in the CLI.\r\n\r\n* Removed the paragraph about using librabbitmq. Refer to #5872 (#5873)\r\n\r\n* Task class definitions can have retry attributes (#5869)\r\n\r\n* autoretry_for\r\n* retry_kwargs\r\n* retry_backoff\r\n* retry_backoff_max\r\n* retry_jitter\r\ncan now be defined as cls attributes.\r\n\r\nAll of these can be overriden from the @task decorator\r\n\r\nhttps://github.com/celery/celery/issues/4684\r\n\r\n* whatsnew in Celery 4.4 as per projects standard (#5817)\r\n\r\n* 4.4 whatsnew\r\n\r\n* update\r\n\r\n* update\r\n\r\n* Move old whatsnew to history.\r\n\r\n* Remove old news & fix markers.\r\n\r\n* Added a section notifying Python 3.4 has been dropped.\r\n\r\n* Added a note about ElasticSearch basic auth.\r\n\r\n* Added a note about being able to replace eagerly run tasks.\r\n\r\n* Update index.\r\n\r\n* Address comment.\r\n\r\n* Described boto3 version updates.\r\n\r\n* Fix heading.\r\n\r\n* More news.\r\n\r\n* Thread pool.\r\n\r\n* Add Django and Config changes\r\n\r\n* Bump version 4.4.0\r\n\r\n* upate readme\r\n\r\n* Update docs regarding Redis Message Priorities (#5874)\r\n\r\n* Update docs regarding Redis Message Priorities\r\n\r\n* fixup! Update docs regarding Redis Message Priorities\r\n\r\n* Update 4.4.0 docs (#5875)\r\n\r\n* Update 4.4 release changelog\r\n\r\n* Update whatsnew-4.4\r\n\r\n* Update tasks docs\r\n\r\n* Fix recent tasks doc file update (#5879)\r\n\r\n* Include renamed Changelog.rst in source releases. (#5880)\r\n\r\nChangelog.rst was renamed from Changelog in\r\nfd023ec174bedc2dc65c63a0dc7c85e425ac00c6 but MANIFEST.in was not updated to\r\ninclude the new name. This fixes the file name so Changelog.rst will show up\r\nin future source releases again.\r\n\r\n* Reorganised project_urls and classifiers. (#5884)\r\n\r\n* Use safequote in SQS Getting Started doc (#5885)\r\n\r\n* Have appveyor build relevant versions of Python. (#5887)\r\n\r\n* Have appveyor build relevant and buildable versions of Python.\r\n\r\n* Appveyor is missing CI requirements to build.\r\n\r\n* Pin pycurl to version that will build with appveyor (because wheels files exist)\r\n\r\n* Restrict python 2.7 64 bit version of python-dateutil for parse.\r\n\r\n* Use is_alive instead of isAlive for Python 3.9 compatibility. (#5898)\r\n\r\n* Very minor tweak to commen to improve docs (#5900)\r\n\r\nAs discussed here: \r\nhttps://stackoverflow.com/questions/58816271/celery-task-asyncresult-takes-task-id-but-is-documented-to-get-asyncresult-inst\r\nthis comment seems to flow to a very confusing and misleading piece of documentation here:\r\nhttps://docs.celeryproject.org/en/latest/reference/celery.app.task.html#celery.app.task.Task.AsyncResult\r\n\r\n* Support configuring schema of a PostgreSQL database (#5910)\r\n\r\n* Support configuring schema of a PostgreSQL database\r\n\r\n* Add unit test\r\n\r\n* Remove blank line\r\n\r\n* Fix raise issue to make exception message more friendly (#5912)\r\n\r\nSigned-off-by: Chenyang Yan <memory.yancy@gmail.com>\r\n\r\n* Add progress for retry connections (#5915)\r\n\r\nThis will show current retry progress so it will clear confusion about how many retries will be tried for connecting to broker.\r\nCloses #4556\r\n\r\n* chg: change xrange to range (#5926)\r\n\r\n* update docs for json serializer and add note for int keys serialization (#5932)\r\n\r\n* fix indentation for note block in calling.rst (#5933)\r\n\r\n* Added links to other issue trackers. (#5939)\r\n\r\n* Add labels automatically for issues. (#5938)\r\n\r\n* Run pyupgrade.\r\n\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: ptitpoulpe <ptitpoulpe@ptitpoulpe.fr>\r\nCo-authored-by: Didi Bar-Zev <didi@hiredscore.com>\r\nCo-authored-by: Santos Solorzano <santosjavier22@gmail.com>\r\nCo-authored-by: manlix <manlix@yandex.ru>\r\nCo-authored-by: Jimmy <54828848+sckhg1367@users.noreply.github.com>\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <caoyu97@hotmail.com>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: Pengjie Song (\u5b8b\u9e4f\u6377) <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: as <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Karthikeyan Singaravelan <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\n\r\n* Remove fallback code for Python 2 support marked with TODOs. (#5953)\r\n\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\n\r\n* Remove PY3 conditionals (#5954)\r\n\r\n* Added integration coverage for link_error (#5373)\r\n\r\n* Added coverage for link_error.\r\n\r\n* Use pytest-rerunfailed plugin instead of rolling our own custom implementation.\r\n\r\n* Added link_error with retries. This currently fails.\r\n\r\n* Remove unused import.\r\n\r\n* Fix import on Python 2.7.\r\n\r\n* retries in link_error do not hang the worker anymore.\r\n\r\n* Run error callbacks eagerly when the task itself is run eagerly.\r\n\r\nFixes #4899.\r\n\r\n* Adjust unit tests accordingly.\r\n\r\n* Grammar in documentation (#5780)\r\n\r\n* Grammar in documentation\r\n\r\n* Address review.\r\n\r\n* pypy 7.2 matrix (#5790)\r\n\r\n* removed extra slashes in CELERY_BROKER_URL (#5792)\r\n\r\nThe Celery broker URL in settings.py had 2 slashes in the end which are not required and can be misleading.\r\nso I changed :-\r\nCELERY_BROKER_URL = 'amqp://guest:guest@localhost//' to CELERY_BROKER_URL = 'amqp://guest:guest@localhost'\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work (#5773)\r\n\r\n* Fix #5772 task_default_exchange & task_default_exchange_type not work\r\n\r\n* Add unit test: test_setting_default_exchange\r\n\r\n* Move default_exchange test to standalone class\r\n\r\n* Run integration suite with memcached results backend. (#5739)\r\n\r\n* Fix hanging forever when fetching results from a group(chain(group)) canvas. (#5744)\r\n\r\nPR #5739 uncovered multiple problems with the cache backend.\r\nThis PR should resolve one of them.\r\n\r\nPR #5638 fixed the same test case for our async results backends that support native join.\r\nHowever, it did not fix the test case for sync results backends that support native join.\r\n\r\n* Fix regression in PR #5681. (#5753)\r\n\r\nSee comment in the diff for details.\r\n\r\n* Grammatical fix to CONTRIBUTING.rst doc (#5794)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs (#5795)\r\n\r\n* Fix #5734 Celery does not consider authMechanism on mongodb backend URLs\r\n\r\n* Add unit test: test_get_connection_with_authmechanism\r\n\r\n* Add unit test: test_get_connection_with_authmechanism_no_username\r\n\r\n* Fix errors in Python 2.7\r\n\r\nRemove \",\" after \"**\" operator\r\n\r\n* Revert \"Revert \"Revert \"Added handle of SIGTERM in BaseTask in celery/task.py to prevent kill the task\" (#5577)\" (#5586)\" (#5797)\r\n\r\nThis reverts commit f79894e0a2c7156fd0ca5e8e3b652b6a46a7e8e7.\r\n\r\n* Add Python 3.8 Support (#5785)\r\n\r\n* Added Python 3.8 to the build matrix.\r\n\r\n* Ensure a supported tblib version is installed for Python 3.8 and above.\r\n\r\nIn addition, modernize the relevant tests.\r\n\r\n* Workaround patching problem in test.\r\n\r\n* py 3.8 in clasifier\r\n\r\n* ubuntu bionic (#5799)\r\n\r\n* ubuntu bionic\r\n\r\n* fast finish\r\n\r\n* sync bumversion with pypi release\r\n\r\n* Dev.req (#5803)\r\n\r\n* update  docker config\r\n\r\n\r\n\r\n* undo hardpin\r\n\r\n* devr req install from github master\r\n\r\n* update  docker config (#5801)\r\n\r\n* update  docker config\r\n\r\n* make dockerfile to install from github master dev branch by default\r\n\r\n* update download link\r\n\r\n* Isort.\r\n\r\n* Grammatical & punctuation fixes for CONTRIBUTING.rst document (#5804)\r\n\r\n* update dockerfile\r\n\r\n* switched to ubuntu bionic\r\n\r\n* update docker\r\n\r\n* keep it empty until we reconfigure it again with autopep8\r\n\r\n* Fixed Dockerfile (#5809)\r\n\r\n* Update document CONTRIBUTING.rst & fix Dockerfile typo (#5813)\r\n\r\n* Added an issue template for minor releases.\r\n\r\n* reference gocelery Go Client/Server for Celery (#5815)\r\n\r\n* Add enterprise language (#5818)\r\n\r\n* Fix/correct minor doc typos (#5825)\r\n\r\n* Correct a small typo\r\n\r\n* Correct bad contributing documentation links\r\n\r\n* Preserve the task priority in case of a retry (#5820)\r\n\r\n* Preserve the task priority in case of a retry\r\n\r\n* Created test case for retried tasks with priority\r\n\r\n* Implement an integration test for retried tasks with priorities\r\n\r\n* bump kombu\r\n\r\n* basic changelog for celery 4.4.0rc4\r\n\r\n* bump celery 4.4.0rc4\r\n\r\n* events bootstep disabled if no events (#5807)\r\n\r\n* events bootstep disabled if no events\r\n\r\n* Added unit tests.\r\n\r\n* update bug report template\r\n\r\n* fixing ascii art to look nicer (#5831)\r\n\r\n* Only rerun flaky tests when failures can be intermediary.\r\n\r\n* Rename Changelog to Changelog.rst\r\n\r\n* The test_nested_group_chain test can run without native_join support. (#5838)\r\n\r\n* Run integration tests with Cassandra (#5834)\r\n\r\n* Run integration tests with Cassandra.\r\n\r\n* Configure cassandra result backend\r\n\r\n* Pre-create keyspace and table\r\n\r\n* Fix deprecation warning.\r\n\r\n* Fix path to cqlsh.\r\n\r\n* Increase connection timeout.\r\n\r\n* Wait until the cluster is available.\r\n\r\n* SQS - Reject on failure (#5843)\r\n\r\n* reject on failure\r\n\r\n* add documentation\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* test fix\r\n\r\n* Add a concurrency model with ThreadPoolExecutor (#5099)\r\n\r\n* Add a concurrency model with ThreadPoolExecutor\r\n\r\n* thread model test for pypy\r\n\r\n* Chain primitive's code example fix in canvas documentation (Regression PR#4444) (#5845)\r\n\r\n* Changed multi-line string (#5846)\r\n\r\nThis string wasn't rendering properly and was printing the python statement too. Although the change isn't as pretty code-wise, it gets rid of an annoyance for the user.\r\n\r\n* Add auto expiry for DynamoDB backend (#5805)\r\n\r\n* Add auto expiry for DynamoDB backend\r\n\r\nThis adds auto-expire support for the DynamoDB backend, via the DynamoDB\r\nTime to Live feature.\r\n\r\n* Require boto3>=1.9.178 for DynamoDB TTL support\r\n\r\nboto3 version 1.9.178 requires botocore>=1.12.178.\r\n\r\nbotocore version 1.12.178 introduces support for the DynamoDB\r\nUpdateTimeToLive call.\r\n\r\nThe UpdateTimeToLive call is used by the DynamoDB backend to enable TTL\r\nsupport on a newly created table.\r\n\r\n* Separate TTL handling from table creation\r\n\r\nHandle TTL enabling/disabling separately from the table get-or-create\r\nfunction.\r\n\r\nImprove handling of cases where the TTL is already set to the desired\r\nstate.\r\n\r\nDynamoDB only allows a single TTL update action within a fairly long\r\ntime window, so some problematic cases (changing the TTL attribute,\r\nenabling/disabling TTL when it was recently modified) will raise\r\nexceptions that have to be dealt with.\r\n\r\n* Handle older boto3 versions\r\n\r\nIf the boto3 TTL methods are not found, log an informative error. If the\r\nuser wants to enable TTL, raise an exception; if TTL should be disabled,\r\nsimply return.\r\n\r\n* Improve logging\r\n\r\n- Handle exceptions by logging the error and re-raising\r\n\r\n- Log (level debug) when the desired TTL state is already in place\r\n\r\n* Add and use _has_ttl() convenience method\r\n\r\nAdditional changes:\r\n\r\n- Handle exceptions when calling boto3's describe_time_to_live()\r\n\r\n- Fix test cases for missing TTL methods\r\n\r\n* Update ttl_seconds documentation\r\n\r\n* Log invalid TTL; catch and raise ValueError\r\n\r\n* Separate method _get_table_ttl_description\r\n\r\n* Separate ttl method validation function\r\n\r\n* Clarify tri-state TTL value\r\n\r\n* Improve test coverage\r\n\r\n* Fix minor typo in comment\r\n\r\n* Mark test as xfail when using the cache backend. (#5851)\r\n\r\n* [Fix #5436] Store extending result in all backends (#5661)\r\n\r\n* [Fix #5436] Store extending result in all backends\r\n\r\n* Fix sqlalchemy\r\n\r\n* More fixu\r\n\r\n* Fixing tests\r\n\r\n* removing not necessary import\r\n\r\n* Removing debug code\r\n\r\n* Removing debug code\r\n\r\n* Add tests for get_result_meta in base and database\r\n\r\n* Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\r\n\r\nThis reverts commit f7f5bcfceca692d0e78c742a7c09c424f53d915b.\r\n\r\n* Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\r\n\r\nThis reverts commit 1b303c2968836245aaa43c3d0ff9249dd8bf9ed2.\r\n\r\n* docs: Document Redis commands used by celery (#5853)\r\n\r\n* remove cache back end integrtion test. (#5856)\r\n\r\n* Fix a race condition when publishing a very large chord header (#5850)\r\n\r\n* Added a test case which artificially introduces a delay to group.save().\r\n\r\n* Fix race condition by delaying the task only after saving the group.\r\n\r\n* update tox\r\n\r\n* Remove duplicate boto dependency. (#5858)\r\n\r\n* Revert \"remove cache back end integrtion test. (#5856)\" (#5859)\r\n\r\nThis reverts commit e0ac7a19a745dd5a52a615c1330bd67f2cef4d00.\r\n\r\n* Revert \"Revert \"Add auto expiry for DynamoDB backend (#5805)\" (#5855)\" (#5857)\r\n\r\nThis reverts commit 4ddc605392d7694760f23069c34ede34b3e582c3.\r\n\r\n* Revert \"update tox\"\r\n\r\nThis reverts commit 49427f51049073e38439ea9b3413978784a24999.\r\n\r\n* Fix the test_simple_chord_with_a_delay_in_group_save test.\r\n\r\n* Revert \"Revert \"Skip unsupported canvas when using the cache backend\"\" (#5860)\r\n\r\n* Revert \"Revert \"Mark test as xfail when using the cache backend. (#5851)\" (#5854)\"\r\n\r\nThis reverts commit fc101c61c1912c4dafa661981f8b865c011e8a55.\r\n\r\n* Make the xfail condition stricter.\r\n\r\n* Fix the xfail condition.\r\n\r\n* Linters should use Python 3.8.\r\n\r\n* Move pypy unit tests to the correct stage.\r\n\r\n* Temporarily allow PyPy to fail since it is unavailable in Travis.\r\n\r\n* Remove unused variables.\r\n\r\n* Fix unused imports.\r\n\r\n* Fix pydocstyle errors in dynamodb.\r\n\r\n* Fix pydocstyle errors in redis backend.\r\n\r\n* bump kombu to 4.6.7\r\n\r\n* celery 4.4.0rc5 changelog\r\n\r\n* celery 4.4.0rc5\r\n\r\n* rm redundant code (#5864)\r\n\r\n* isort.\r\n\r\n* Document the threads task pool in the CLI.\r\n\r\n* Removed the paragraph about using librabbitmq. Refer to #5872 (#5873)\r\n\r\n* Task class definitions can have retry attributes (#5869)\r\n\r\n* autoretry_for\r\n* retry_kwargs\r\n* retry_backoff\r\n* retry_backoff_max\r\n* retry_jitter\r\ncan now be defined as cls attributes.\r\n\r\nAll of these can be overriden from the @task decorator\r\n\r\nhttps://github.com/celery/celery/issues/4684\r\n\r\n* whatsnew in Celery 4.4 as per projects standard (#5817)\r\n\r\n* 4.4 whatsnew\r\n\r\n* update\r\n\r\n* update\r\n\r\n* Move old whatsnew to history.\r\n\r\n* Remove old news & fix markers.\r\n\r\n* Added a section notifying Python 3.4 has been dropped.\r\n\r\n* Added a note about ElasticSearch basic auth.\r\n\r\n* Added a note about being able to replace eagerly run tasks.\r\n\r\n* Update index.\r\n\r\n* Address comment.\r\n\r\n* Described boto3 version updates.\r\n\r\n* Fix heading.\r\n\r\n* More news.\r\n\r\n* Thread pool.\r\n\r\n* Add Django and Config changes\r\n\r\n* Bump version 4.4.0\r\n\r\n* upate readme\r\n\r\n* Update docs regarding Redis Message Priorities (#5874)\r\n\r\n* Update docs regarding Redis Message Priorities\r\n\r\n* fixup! Update docs regarding Redis Message Priorities\r\n\r\n* Update 4.4.0 docs (#5875)\r\n\r\n* Update 4.4 release changelog\r\n\r\n* Update whatsnew-4.4\r\n\r\n* Update tasks docs\r\n\r\n* Fix recent tasks doc file update (#5879)\r\n\r\n* Include renamed Changelog.rst in source releases. (#5880)\r\n\r\nChangelog.rst was renamed from Changelog in\r\nfd023ec174bedc2dc65c63a0dc7c85e425ac00c6 but MANIFEST.in was not updated to\r\ninclude the new name. This fixes the file name so Changelog.rst will show up\r\nin future source releases again.\r\n\r\n* Reorganised project_urls and classifiers. (#5884)\r\n\r\n* Use safequote in SQS Getting Started doc (#5885)\r\n\r\n* Have appveyor build relevant versions of Python. (#5887)\r\n\r\n* Have appveyor build relevant and buildable versions of Python.\r\n\r\n* Appveyor is missing CI requirements to build.\r\n\r\n* Pin pycurl to version that will build with appveyor (because wheels files exist)\r\n\r\n* Restrict python 2.7 64 bit version of python-dateutil for parse.\r\n\r\n* Use is_alive instead of isAlive for Python 3.9 compatibility. (#5898)\r\n\r\n* Very minor tweak to commen to improve docs (#5900)\r\n\r\nAs discussed here: \r\nhttps://stackoverflow.com/questions/58816271/celery-task-asyncresult-takes-task-id-but-is-documented-to-get-asyncresult-inst\r\nthis comment seems to flow to a very confusing and misleading piece of documentation here:\r\nhttps://docs.celeryproject.org/en/latest/reference/celery.app.task.html#celery.app.task.Task.AsyncResult\r\n\r\n* Support configuring schema of a PostgreSQL database (#5910)\r\n\r\n* Support configuring schema of a PostgreSQL database\r\n\r\n* Add unit test\r\n\r\n* Remove blank line\r\n\r\n* Fix raise issue to make exception message more friendly (#5912)\r\n\r\nSigned-off-by: Chenyang Yan <memory.yancy@gmail.com>\r\n\r\n* Add progress for retry connections (#5915)\r\n\r\nThis will show current retry progress so it will clear confusion about how many retries will be tried for connecting to broker.\r\nCloses #4556\r\n\r\n* chg: change xrange to range (#5926)\r\n\r\n* update docs for json serializer and add note for int keys serialization (#5932)\r\n\r\n* fix indentation for note block in calling.rst (#5933)\r\n\r\n* Added links to other issue trackers. (#5939)\r\n\r\n* Add labels automatically for issues. (#5938)\r\n\r\n* remove redundant raise from docstring (#5941)\r\n\r\n`throw` is True by default so the Retry exception will already get raised by calling `self.retry(countdown=60 * 5, exc=exc)`\r\n\r\n* Run pyupgrade.\r\n\r\n* Fix typo (#5943)\r\n\r\n* Remove fallback code for Python 2 support.\r\n\r\n* docs: fixes Rabbits and Warrens link in routing userguide (#4007) (#5949)\r\n\r\n* Fix labels on Github issue templates. (#5955)\r\n\r\nUse quotation marks to escape labels on Github issue templates. This\r\nprevents the colon from breaking the template.\r\n\r\n* added retry_on_timeout and socket_keepalive to config and doc (#5952)\r\n\r\n* Fixed event capture from building infinite list (#5870)\r\n\r\n* Fix error propagation example (#5966)\r\n\r\n* update range (#5971)\r\n\r\n* update setup.cfg\r\n\r\n* bump billiard to 3.6.3.0\r\n\r\n* Update __init__.py (#5951)\r\n\r\n* Update __init__.py\r\n\r\nFixed issue for object with result_backend=True (decode fails on multiple None request)\r\n\r\n* Update __init__.py\r\n\r\nsuggested changeds\r\n\r\n* Update __init__.py\r\n\r\n* Use configured db schema also for sequences (#5972)\r\n\r\n* Added a default value for retries in worker.strategy. (#5945)\r\n\r\n* Added a default value for retries in worker.strategy.\r\n\r\nI was facing an issue when adding tasks directly to rabbitmq\r\nusing pika instead of calling task.apply_async. The issue was\r\nthe self.retry mechanisum was failing. In app/tasks.py the line\r\n`retries = request.retries + 1` was causing the issue. On further\r\ntracing I figured out that it was because the default .get value\r\n(None) was getting passed through this function and was raising\r\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'int'\r\n\r\n* Add test cases for default and custom retries value\r\n\r\n* pypy 7.3 (#5980)\r\n\r\n* Pass `interval` to `get_many` (#5931)\r\n\r\n* Pass `interval` to `get_many`\r\n\r\n* Fix: Syntax error for py2.7\r\n\r\n* Fix: Syntax error for py2.7\r\n\r\n* Fixed problem with conflicting autoretry_for task parameter and Task.replace() (#5934)\r\n\r\n* Fix #5917 (#5918)\r\n\r\n* Fix changelog (#5881)\r\n\r\n* merge in place the apps beat schedule in the default Schedule class. (#5908)\r\n\r\n* Handle Redis connection errors in result consumer (#5921)\r\n\r\n* Handle Redis connection errors in result consumer\r\n\r\n* Closes #5919.\r\n\r\n* Use context manager for Redis conusmer reconnect\r\n\r\n* Log error when result backend reconnection fails\r\n\r\n* Fix inspect_command documentation (#5983)\r\n\r\n* Use gevent and eventlet wait() functions to remove busy-wait (#5974)\r\n\r\n* Use gevent and eventlet wait() functions to remove busy-wait\r\n\r\nFixes issue #4999.\r\n\r\nCalling AsyncResult.get() in a gevent context would cause the async Drainer to repeatedly call wait_for until the result was completed.  I've updated the code to have a specific implementation for gevent and eventlet that will cause wait_for to only return every \"timeout\" # of seconds, rather than repeatedly returning.\r\n\r\nSome things I'd like some feedback on:\r\n* Where's the best place to add test coverage for this?  It doesn't look like there are any tests that directly exercised the Drainer yet so I would probably look to add some of these to the backends/ unit tests.\r\n* The way I did this for the Eventlet interface was to rely on the private _exit_event member of the GreenThread instance; to do this without relying on a private member would require some additional changes to the backend Drainer interface so that we could wait for an eventlet-specific event in wait_for().  I can do this, just wanted to get some feedback before.\r\n\r\n* Add unit tests for Drainer classes\r\n\r\nIn order for this to work without monkeypatching in the tests, I needed to call sleep(0) to let the gevent/eventlet greenlets to yield control back to the calling thread.  I also made the check interval configurable in the drainer so that we didn't need to sleep multiples of 1 second in the tests.\r\n\r\n* Weaken asserts since they don't pass on CI\r\n\r\n* Fix eventlet auto-patching DNS resolver module on import\r\n\r\nBy default it looks like \"import eventlet\" imports the greendns module unless the environment EVENTLET_NO_GREENDNS is set to true.  This broke a pymongo test.\r\n\r\n* Add tests ensuring that the greenlet loop isn't blocked\r\n\r\nThese tests make sure that while drain_events_until is running that other gevent/eventlet concurrency can run.\r\n\r\n* Clean up tests and make sure they wait for all the threads to stop\r\n\r\n* Fix chords with chained groups (#5947)\r\n\r\n* kombu 4.6.8\r\n\r\n* update setup\r\n\r\n* updated version 4.4.1\r\n\r\n* Fix: Accept and swallow `kwargs` to handle unexpected keyword arguments\r\n\r\n* Allow boto to look for credentials in S3Backend\r\n\r\n* add reference to Rusty Celery\r\n\r\n* Update document of revoke method in Control class\r\n\r\n* Fix copy-paste error in result_compression docs\r\n\r\n* Make 'socket_keepalive' optional variable (#6000)\r\n\r\n* update connection params - socket_keepalive is optional now\r\n\r\n* update readme - added versionadded 4.4.1 and fixed `redis_socket_keepalive`\r\n\r\n* added check of socket_keepalive in arguments for UnixSocketConnect\r\n\r\n* Fixed incorrect setting name in documentation (#6002)\r\n\r\n* updated version 4.4.2\r\n\r\n* Fix backend utf-8 encoding in s3 backend\r\n\r\nCelery backend uses utf-8 to deserialize results,\r\nwhich would fail for some serializations like pickle.\r\n\r\n* Fix typo in celery.bin.multi document\r\n\r\n* Upgraded pycurl to the latest version that supports wheel.\r\n\r\n* pytest 5.3.5 max\r\n\r\n* Add uptime to the stats inspect command\r\n\r\n* Doc tweaks: mostly grammar and punctuation (#6016)\r\n\r\n* Fix a bunch of comma splices in the docs\r\n\r\n* Remove some unnecessary words from next-steps doc\r\n\r\n* Tweak awkward wording; fix bad em-dash\r\n\r\n* Fix a bunch more comma splices in next-steps doc\r\n\r\n* Miscellaneous grammar/punctuation/wording fixes\r\n\r\n* Link to task options in task decorator docs\r\n\r\n* Fixing issue #6019: unable to use mysql SSL parameters when getting mysql engine (#6020)\r\n\r\n* Fixing issue #6019: unable to use mysql SSL parametes in create_engine()\r\n\r\n* adding test for get_engine when self.forked is False and engine args are passed in for create_engine()\r\n\r\n* Clean TraceBack to reduce memory leaks for exception task (#6024)\r\n\r\n* Clean TraceBack to reduce memory leaks\r\n\r\n* add unit test\r\n\r\n* add unit test\r\n\r\n* reject unittest\r\n\r\n* Patch For Python 2.7 compatibility\r\n\r\n* update unittest\r\n\r\n* Register to the garbage collector by explicitly referring to f_locals.\r\n\r\n* need more check\r\n\r\n* update code coverage\r\n\r\n* update Missing unit test\r\n\r\n* 3.4 -> 3.5\r\n\r\nCo-authored-by: heedong.jung <heedong.jung@samsung.com>\r\n\r\n* exceptions: NotRegistered: fix up language\r\n\r\nMinor fix to the language.\r\n\r\n* Note about autodiscover_tasks and periodic tasks\r\n\r\nThis is particularly important for Django projects that put periodic tasks into each app's `tasks.py` and want to use one as a periodic task.  By the time `autodiscover_tasks()` loads those tasks, the `on_after_configure` Signal has already come and gone, so anything decorated with `@app.on_after_finalize.connect` will never be called.\r\n\r\nIf there's other documentation on this subject, I could not find it.\r\n\r\n* Avoid PyModulelevel, deprecated in Sphinx 4\r\n\r\nUse `PyFunction` instead of `PyModulelevel` to avoid this\r\ndeprecation warning:\r\n\r\n    RemovedInSphinx40Warning: PyModulelevel is deprecated.\r\n    Please check the implementation of\r\n    <class 'celery.contrib.sphinx.TaskDirective'>\r\n\r\nThis replacement is one of the options listed in the Sphinx docs\r\n(https://www.sphinx-doc.org/en/master/extdev/deprecated.html).\r\n\r\n* Give up sending a worker-offline message if transport is not connected (#6039)\r\n\r\n* If worker-offline event fails to send, give up and die peacefully\r\n\r\n* Add test for retry= and msgs in heartbeat\r\n\r\n* Fix the build and all documentation warnings.\r\n\r\nI finally upgraded our theme to 2.0.\r\nAs a result we've upgraded Sphinx to 2.0.\r\nWork to upgrade Sphinx to 3.0 will proceed in a different PR.\r\n\r\nThis upgrade also fixes our build issues caused by #6032.\r\nWe don't support Sphinx 1.x as a result of that patch.\r\n\r\nI've also included the missing 4.3 changelog to our history.\r\n\r\n* Support both Sphinx 2 and 3.\r\n\r\n* Add Task to __all__ in celery.__init__.py\r\n\r\n* Add missing parenthesis to example in docs\r\n\r\n* Ensure a single chain object in a chain does not raise MaximumRecursionError.\r\n\r\nPreviously chain([chain(sig)]) would crash.\r\nWe now ensure it doesn't.\r\n\r\nFixes #5973.\r\n\r\n* update setup.py\r\n\r\n* fix typo\r\n\r\nmissing quote at the end of line\r\n\r\n* Fix a typo in monitoring doc\r\n\r\n* update travis\r\n\r\n* update ubuntu to focal foss\r\n\r\n20.04 LTS\r\n\r\n* Fix autoscale when prefetch_multiplier is 1\r\n\r\n* Allow start_worker to function without ping task\r\n\r\n* Update celeryd.conf\r\n\r\nMove the directory of the program before the execution of the command/script\r\n\r\n* Add documentation for \"predefined_queue_urls\"\r\n\r\n* [Fix #6074]: Add missing documentation for MongoDB as result backend.\r\n\r\n* update funding\r\n\r\n* \ud83d\udc1b Correctly handle configuring the serializer for always_eager mode. (#6079)\r\n\r\n* \ud83d\udc1b Correctly handle configuring the serializer for always_eager mode.\r\n\r\noptions['serializer'] will always exist, because it is initialized from an mattrgetter. Even if unset, it will be present in the options with a value of None.\r\n\r\n* \ud83d\udc1b Add a test for new always_eager + task_serializer behavior.\r\n\r\n* \u270f\ufe0f Whoops missed a :\r\n\r\n* Remove doubling of prefetch_count increase when prefetch_multiplier gt 1 (#6081)\r\n\r\n* try ubuntu focal (#6088)\r\n\r\n* Fix eager function not returning result after retries.\r\n\r\nUsing apply function does not return correct results after at least one\r\nretry because the return value of successive call is not going back to\r\nthe original caller.\r\n\r\n* return retry result if not throw and is_eager\r\n\r\nif throw is false, we would be interested by the result of retry and\r\nnot the current result which will be an exception.\r\n\r\nThis way it does not break the logic of `raise self.retry`\r\n\r\nThis should be used like `return self.retry(..., throw=False)` in an\r\nexcept statement.\r\n\r\n* revert formatting change\r\n\r\n* Add tests for eager retry without throw\r\n\r\n* update predefined-queues documentation\r\n\r\nSuggested version of configuration does not work. \r\nAdditionally I'd like to mention, that `access_key_id` and `secret_access_key` are mandatory fields and not allowing you to go with defaults AWS_* env variables.\r\nI can contribute for this variables to be optional\r\n\r\nAlso I'm not sure if security token will apply, could you please advice how to do it?\r\n\r\n* Fix couchbase version < 3.0.0 as API changed\r\n\r\n* Remove reference to -O fair in optimizations\r\n\r\n-O fair was made the default in Celery 4.0\r\nhttps://docs.celeryproject.org/en/stable/history/whatsnew-4.0.html#ofair-is-now-the-default-scheduling-strategy\r\n\r\n* pytest ranges\r\n\r\n* pypy3\r\n\r\n* revert to bionic\r\n\r\n* do not load docs.txt requirements for python 2.7\r\n\r\nAs it requires Sphinx >= 2.0.0 and there is no such version compatible\r\nwith python 2.7\r\n\r\n* update cassandra travis integration test configuration\r\n\r\ncassandra:latest docker image changed location of cqlsh program\r\n\r\n* pin cassandra-driver\r\n\r\nCI get stuck after all cassandra integration tests\r\n\r\n* Fix all flake8 lint errors\r\n\r\n* Fix all pydocstyle lint errors\r\n\r\n* Fix all configcheck lint errors\r\n\r\n* Always requeue while worker lost regardless of the redelivered flag (#6103)\r\n\r\n* #5598 fix, always redelivery while WorkerLostError\r\n\r\n* fix, change the requeue flag so the task will remain PENDING\r\n\r\n* Allow relative paths in the filesystem backend (#6070)\r\n\r\n* Allow relative paths in the filesystem backend\r\n\r\n* fix order of if statements\r\n\r\n* [Fixed Issue #6017]\r\n--> Added Multi default logfiles and pidfiles paths\r\n\r\n[Description]:\r\n--> Changed the default paths for log files & pid files to be '/var/log/celery' and '/var/run/celery'\r\n--> Handled by creating the respective paths if not exist.\r\n--> Used os.makedir(path,if_exists=True)\r\n\r\n[Unit Test Added]:\r\n--> .travis.yml - config updated with 'before install'.\r\n--> t/unit/apps/test_multi.py - Changed the default log files & pid files paths wherever required.\r\n\r\n* Avoid race condition due to task duplication.\r\n\r\nIn some circumstances like a network partitioning, some tasks might\r\nbe duplicated. Sometimes, this lead to a race condition where a lost\r\ntask overwrites the result of the last successful task in the backend.\r\n\r\nIn order to avoid this race condition we prevent updating the result if\r\nit's already in successful state.\r\n\r\nThis fix has been done for KV backends only and therefore won't work\r\nwith other backends.\r\n\r\n* adding tests\r\n\r\n* Exceptions must be old-style classes or derived from BaseException,\r\nbut here self.result may not subclass of BaseException.\r\n\r\n* update fund link\r\n\r\n* Fix windows build (#6104)\r\n\r\n* do not load memcache nor couchbase lib during windows build\r\n\r\nthose libraries depends on native libraries libcouchbase and libmemcached\r\nthat are not installed on Appveyor.\r\nAs only unit tests runs on Appveyor, it should be fine\r\n\r\n* Add python 3.8 workaround for app trap\r\n\r\n* skip tests file_descriptor_safety tests on windows\r\n\r\nAsyncPool is not supported on Windows so Pool does have _fileno_to_outq\r\nattribute, making the test fail\r\n\r\n* Fix crossplatform log and pid files in multi mode\r\n\r\nit relates to #6017\r\n\r\n* Use tox to build and test on windows\r\n\r\n* remove tox_install_command\r\n\r\n* drop python 2.7 from windows build\r\n\r\n* Add encode to meta task in base.py (#5894)\r\n\r\n* Add encode to base.py meta result\r\n\r\nFix bug with impossibility to load None from task meta\r\n\r\n* Add tests for None. Remove exceed encode.\r\n\r\n* Update base.py\r\n\r\nAdd return payload if None\r\n\r\n* Update time.py to solve the microsecond issues (#5199)\r\n\r\nWhen `relative` is set to True, the day, hour, minutes second will be round to the nearest one, however, the original program do not update the microsecond (reset it). As a result, the run-time offset on the microsecond will then be accumulated. \r\nFor example, given the interval is 15s and relative is set to True\r\n1.    2018-11-27T15:01:30.123236+08:00\r\n2.    2018-11-27T15:01:45.372687+08:00\r\n3.    2018-11-27T15:02:00.712601+08:00\r\n4.    2018-11-27T15:02:15.987720+08:00\r\n5.    2018-11-27T15:02:31.023670+08:00\r\n\r\n* Change backend _ensure_not_eager error to warning\r\n\r\n* Add priority support for 'celery.chord_unlock' task (#5766)\r\n\r\n* Change eager retry behaviour\r\n\r\neven with raise self.retry, it should return the eventual value\r\nor MaxRetriesExceededError.\r\nif return value of eager apply is Retry exception, retry eagerly\r\nthe task signature\r\n\r\n* Order supported Python versions\r\n\r\n* Avoid race condition in elasticsearch backend\r\n\r\nif a task is retried, the task retry may work concurrently to current task.\r\nstore_result may come out of order.\r\nit may cause a non ready state (Retry) to override a ready state (Success, Failure).\r\nIf this happens, it will block indefinitely pending any chord depending on this task.\r\n\r\nthis change makes document updates safe for concurrent writes.\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/optimistic-concurrency-control.html\r\n\r\n* backends base get_many pass READY_STATES arg\r\n\r\n* test backends base get_many pass READY_STATES arg\r\n\r\n* Add integration tests for Elasticsearch and fix _update\r\n\r\n* Revert \"revert to bionic\"\r\n\r\nThis reverts commit 6e091573f2ab0d0989b8d7c26b677c80377c1721.\r\n\r\n* remove jython check\r\n\r\n* feat(backend): Adds cleanup to ArangoDB backend\r\n\r\n* Delete Document Known Issue with CONN_MAX_AGE in 4.3\r\n\r\n* issue 6108 fix filesystem backend cannot not be serialized by picked (#6120)\r\n\r\n* issue 6108 fix filesystem backend cannot not be serialized by picked\r\n\r\nhttps://github.com/celery/celery/issues/6108\r\n\r\n* issue-6108 fix unit test failure\r\n\r\n* issue-6108 fix flake8 warning\r\n\r\nCo-authored-by: Murphy Meng <mmeng@mirriad.com>\r\n\r\n* kombu==4.6.9 (#6133)\r\n\r\n* changelog for 4.4.3\r\n\r\n* v 4.4.3\r\n\r\n* remove un supported classifier\r\n\r\n* Fix autoretry_for with explicit retry (#6138)\r\n\r\n* Add tests for eager task retry\r\n\r\n* Fixes #6135\r\n\r\nIf autoretry_for is set too broad on Exception, then autoretry may get a Retry\r\nif that's the case, rethrow directly instead of wrapping it in another Retry\r\nto avoid loosing new args\r\n\r\n* Use Django DB max age connection setting (fixes #4116)\r\n\r\n* Add retry on recoverable exception for the backend (#6122)\r\n\r\n* Add state to KeyValueStoreBackend.set method\r\n\r\nThis way, a backend implementation is able to take decisions based on\r\ncurrent state to store meta in case of failures.\r\n\r\n* Add retry on recoverable exception for the backend\r\n\r\nacks.late makes celery acknowledge messages only after processing and\r\nstoring result on the backend.\r\n\r\nHowever, in case of backend unreachable, it will shadow a Retry\r\nexception and put the task as failed in the backend not retrying the\r\ntask and acknoledging it on the broker.\r\n\r\nWith this new result_backend_always_retry setting, if the backend\r\nexception is recoverable (to be defined per backend implementation),\r\nit will retry the backend operation with an exponential backoff.\r\n\r\n* Make elasticsearch backward compatible with 6.x\r\n\r\n* Make ES retry storing updates in a better way\r\n\r\nif existing value in the backend is success, then do nothing.\r\nif it is a ready status, then update it only if new value is a ready status as well.\r\nelse update it.\r\n\r\nThis way, a SUCCESS cannot be overriden so that we do not loose\r\nresults but any ready state other than success (FAILURE, REVOKED) can\r\nbe overriden by another ready status (i.e. a SUCCESS)\r\n\r\n* Add test for value not found in ES backend\r\n\r\n* Fix random distribution of jitter for exponential backoff\r\n\r\nrandom.randrange should be called with the actual so that all numbers\r\nhave equivalent probability, otherwise maximum value does have a way\r\nhigher probability of occuring.\r\n\r\n* fix unit test if extra modules are not present\r\n\r\n* ElasticSearch: add setting to save meta as json\r\n\r\n* fix #6136. celery 4.4.3 always trying create /var/run/celery directory (#6142)\r\n\r\n* fix #6136. celery 4.4.3 always trying create /var/run/celery directory, even if it's not needed.\r\n\r\n* fix #6136. cleanup\r\n\r\n* Add task_internal_error signal (#6049)\r\n\r\n* Add internal_error signal\r\n\r\nThere is no special signal for an out of body error which can be the\r\nresult of a bad result backend.\r\n\r\n* Fix syntax error.\r\n\r\n* Document the task_internal_error signal.\r\n\r\nCo-authored-by: Laurentiu Dragan <ldragan@bloomberg.net>\r\n\r\n* changelog for v4.4.4\r\n\r\n* kombu 4.6.10 (#6144)\r\n\r\n* v4.4.4\r\n\r\n* Add missing dependency on future (#6146)\r\n\r\nFixes #6145\r\n\r\n* ElasticSearch: Retry index if document was deleted between index and update (#6140)\r\n\r\n* ElasticSearch: Retry index if document was deleted between index and update\r\n\r\n* Elasticsearch increase coverage to 100%\r\n\r\n* Fix pydocstyle\r\n\r\n* Specify minimum version of Sphinx for Celery extension (#6150)\r\n\r\nThe Sphinx extension requires Sphinx 2 or later due to #6032.\r\n\r\n* fix windows build\r\n\r\n* fix flake8 error\r\n\r\n* fix multi tests in local\r\n\r\nMock os.mkdir and os.makedirs to avoid creating /var/run/celery and\r\n/var/log/celery during unit tests if run without root priviledges\r\n\r\n* Customize the retry interval of chord_unlock tasks\r\n\r\n* changelog v4.4.5\r\n\r\n* v4.4.5\r\n\r\n* Fix typo in comment.\r\n\r\n* Remove autoscale force_scale methods (#6085)\r\n\r\n* Remove autoscale force_scale methods\r\n\r\n* Remove unused variable in test\r\n\r\n* Pass ping destination to request\r\n\r\nThe destination argument worked fine from CLI but didn't get used when calling ping from Python.\r\n\r\n* Fix autoscale test\r\n\r\n* chord: merge init options with run options\r\n\r\n* put back KeyValueStoreBackend.set method without state\r\n\r\nIt turns out it was breaking some other projects.\r\nwrapping set method with _set_with_state, this way it will not break existing Backend.\r\nwhile enabling this feature for other Backend.\r\n\r\nCurrently, only ElasticsearchBackend supports this feature.\r\n\r\nIt protects concurrent update to corrupt state in the backend.\r\nExisting success cannot be overriden, nor a ready state by a non ready state.\r\ni.e. a Retry state cannot override a Success or Failure.\r\nAs a result, chord_unlock task will not loop forever due to missing ready state on the backend.\r\n\r\n* added --range-prefix option to `celery multi` (#6180)\r\n\r\n* added --range-prefix option to `celery multi`\r\n\r\nAdded option for overriding default range prefix when running\r\nmultiple workers prividing range with `celery multy` command.\r\n\r\n* covered multi --range-prefix with tests\r\n\r\n* fixed --range-prefix test\r\n\r\n* Added as_list function to AsyncResult class (#6179)\r\n\r\n* Add as_list method to return task IDs as a list\r\n\r\n* Add a test for as_list method\r\n\r\n* Add docstring for as_list method\r\n\r\n* Fix CassandraBackend error in threads or gevent pool (#6147)\r\n\r\n* Fix CassandraBackend error in threads or gevent pool\r\n        * remove CassandraBackend.process_cleanup\r\n\r\n* Add test case\r\n\r\n* Add test case\r\n\r\n* Add comments test_as_uri\r\n\r\nCo-authored-by: baixue <baixue@wecash.net>\r\n\r\n* changelog for v4.4.6\r\n\r\n* v4.4.6\r\n\r\n* Update Wiki link in \"resources\"\r\n\r\nIn the page linked below, the link to wiki is outdated. Fixed that. \r\n\r\nhttps://docs.celeryproject.org/en/stable/getting-started/resources.html\r\n\r\n* test_canvas: Add test for chord-in-chain\r\n\r\nAdd test case for the issue where a chord in a chain does not\r\nwork when using .apply(). This works fine with .apply_async().\r\n\r\n* Trying to fix flaky tests in ci\r\n\r\n* fix pydocstyle errors\r\n\r\n* fix pydocstyle\r\n\r\n* Drainer tests, put a lower constraint on number of intervals\r\n\r\nliveness should iterate 10 times per interval while drain_events only\r\nonce. However, as it may use thread that may be scheduled out of\r\norder, we may end up in some situation where liveness and drain_events\r\nwere called the same amount of time.\r\n\r\nLowering the constraint from < to <= to avoid failing the tests.\r\n\r\n* pyupgrade.\r\n\r\n* Fix merge error.\r\n\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Asif Saif Uddin <auvipy@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <root@grassfish.net>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: spengjie <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: whuji <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Xtreak <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\nCo-authored-by: Alex Riina <alex.riina@gmail.com>\r\nCo-authored-by: Joon Hwan \uae40\uc900\ud658 <xncbf12@gmail.com>\r\nCo-authored-by: Prabakaran Kumaresshan <k_prabakaran+github@hotmail.com>\r\nCo-authored-by: Martey Dodoo <martey@mobolic.com>\r\nCo-authored-by: Konstantin Seleznev <4374093+Seleznev-nvkz@users.noreply.github.com>\r\nCo-authored-by: Prodge <Prodge@users.noreply.github.com>\r\nCo-authored-by: Abdelhadi Dyouri <raryat@gmail.com>\r\nCo-authored-by: Ixiodor <Ixiodor@users.noreply.github.com>\r\nCo-authored-by: abhishekakamai <47558404+abhishekakamai@users.noreply.github.com>\r\nCo-authored-by: Allan Lei <allanlei@helveticode.com>\r\nCo-authored-by: M1ha Shvn <work_shvein_mihail@mail.ru>\r\nCo-authored-by: Salih Caglar Ispirli <caglarispirli@gmail.com>\r\nCo-authored-by: Micha Moskovic <michamos@gmail.com>\r\nCo-authored-by: Chris Burr <chrisburr@users.noreply.github.com>\r\nCo-authored-by: Dave King <tildedave@gmail.com>\r\nCo-authored-by: Dmitry Nikulin <v.dmitry.nikulin@gmail.com>\r\nCo-authored-by: Michael Gaddis <mgaddis@ancestry.com>\r\nCo-authored-by: epwalsh <epwalsh10@gmail.com>\r\nCo-authored-by: TalRoni <tal.inon.16@gmail.com>\r\nCo-authored-by: Leo Singer <leo.singer@ligo.org>\r\nCo-authored-by: Stephen Tomkinson <neonbunny@users.noreply.github.com>\r\nCo-authored-by: Abhishek <abhishek.shukla@xeneta.com>\r\nCo-authored-by: theirix <theirix@gmail.com>\r\nCo-authored-by: yukihira1992 <hirayama@cancerscan.jp>\r\nCo-authored-by: jpays <jerome.pays@cnp.fr>\r\nCo-authored-by: Greg Ward <greg@gerg.ca>\r\nCo-authored-by: Alexa Griffith <agriffith@bluecore.com>\r\nCo-authored-by: heedong <63043496+heedong-jung@users.noreply.github.com>\r\nCo-authored-by: heedong.jung <heedong.jung@samsung.com>\r\nCo-authored-by: Shreyansh Khajanchi <shreyanshk@users.noreply.github.com>\r\nCo-authored-by: Sam Thompson <georgedorn@users.noreply.github.com>\r\nCo-authored-by: Alphadelta14 <alpha@pokesplash.net>\r\nCo-authored-by: Azimjon Pulatov <azimjohn@yahoo.com>\r\nCo-authored-by: ysde <ysde108@gmail.com>\r\nCo-authored-by: AmirMohammad Ziaei <amir_zia@outlook.com>\r\nCo-authored-by: Ben Nadler <ben.nadler@gusto.com>\r\nCo-authored-by: Harald Nezbeda <hn@nezhar.com>\r\nCo-authored-by: Chris Frisina <github@specialorange.org>\r\nCo-authored-by: Adam Eijdenberg <adam.eijdenberg@digital.gov.au>\r\nCo-authored-by: rafaelreuber <rafaelreuber@gmail.com>\r\nCo-authored-by: Noah Kantrowitz <noah@coderanger.net>\r\nCo-authored-by: Ben Nadler <jbennadler@gmail.com>\r\nCo-authored-by: Clement Michaud <c.michaud@criteo.com>\r\nCo-authored-by: Mathieu Chataigner <m.chataigner@criteo.com>\r\nCo-authored-by: eugeneyalansky <65346459+eugeneyalansky@users.noreply.github.com>\r\nCo-authored-by: Leonard Lu <leonard@socialcodeinc.com>\r\nCo-authored-by: XinYang <yangxinhust@hotmail.com>\r\nCo-authored-by: Ingolf Becker <ingolf.becker@googlemail.com>\r\nCo-authored-by: Anuj Chauhan <an12ch98@gmail.com>\r\nCo-authored-by: shaoziwei <ziwei.shao@cloudchef.io>\r\nCo-authored-by: Mathieu Chataigner <mathieu.chataigner@gmail.com>\r\nCo-authored-by: Anakael <shemeldima2@yandex.ru>\r\nCo-authored-by: Danny Chan <danny.chan@c-k.dev>\r\nCo-authored-by: Sebastiaan ten Pas <sebastiaan@diggimedia.nl>\r\nCo-authored-by: David TILLOY <d.tilloy@criteo.com>\r\nCo-authored-by: Anthony N. Simon <anthonynsimon@users.noreply.github.com>\r\nCo-authored-by: lironhl <liron.lavy@gmail.com>\r\nCo-authored-by: Raphael Cohen <raphael.cohen@sekoia.fr>\r\nCo-authored-by: JaeyoungHeo <jay.jaeyoung@gmail.com>\r\nCo-authored-by: singlaive <singlaive@gmail.com>\r\nCo-authored-by: Murphy Meng <mmeng@mirriad.com>\r\nCo-authored-by: Wu Haotian <whtsky@gmail.com>\r\nCo-authored-by: Kwist <velnik@gmail.com>\r\nCo-authored-by: Laurentiu Dragan <ldragan@bloomberg.net>\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: Radim S\u00fcckr <radim.suckr@gmail.com>\r\nCo-authored-by: Artem Vasilyev <artem.v.vasilyev@gmail.com>\r\nCo-authored-by: kakakikikeke-fork <kakakikikeke_new@yahoo.co.jp>\r\nCo-authored-by: Pysaoke <pysaoke@gmail.com>\r\nCo-authored-by: baixue <baixue@wecash.net>\r\nCo-authored-by: Prashant Sinha <prashantsinha@outlook.com>\r\nCo-authored-by: AbdealiJK <abdealikothari@gmail.com>\r\n\r\n* Remove Python 2 compatibility code from Celery (#6221)\r\n\r\n* Remove five from celery/__init__.py\r\n\r\n* Remove five from celery/beat.py\r\n\r\n* Remove five from celery/bootsteps.py\r\n\r\n* Remove five from celery/exceptions.py\r\n\r\n* Remove five from celery/local.py\r\n\r\n* Remove five from celery/platforms.py\r\n\r\n* Remove five from celery/result.py\r\n\r\n* Remove five from celery/schedules.py\r\n\r\n* Remove five from celery/app/amqp.py\r\n\r\n* Remove five from celery/app/annotations.py\r\n\r\n* Remove five from celery/app/backends.py\r\n\r\n* Remove five from celery/app/base.py\r\n\r\n* Remove five from celery/app/control.py\r\n\r\n* Remove five from celery/app/defaults.py\r\n\r\n* Remove five from celery/app/log.py\r\n\r\n* Remove five from celery/app/registry.py\r\n\r\n* Remove five from celery/app/routes.py\r\n\r\n* Remove five from celery/app/task.py\r\n\r\n* Remove five from celery/app/trace.py\r\n\r\n* Remove five from celery/app/utils.py\r\n\r\n* Remove five from celery/apps/beat.py\r\n\r\n* Remove five from celery/apps/multi.py\r\n\r\n* Remove five from celery/apps/worker.py\r\n\r\n* Remove five from celery/backends/database/__init__.py\r\n\r\n* Remove five from celery/backends/amqp.py\r\n\r\n* Remove five from celery/backends/asynchronous.py\r\n\r\n* Remove five from celery/backends/base.py\r\n\r\n* Remove five from celery/backends/dynamodb.py\r\n\r\n* Remove five from celery/backends/elasticsearch.py\r\n\r\n* Remove five from celery/backends/mongodb.py\r\n\r\n* Remove five from celery/backends/redis.py\r\n\r\n* Remove five from celery/backends/rpc.py\r\n\r\n* Remove five from celery/concurrency/asynpool.py\r\n\r\n* Remove five from celery/concurrency/base.py\r\n\r\n* Remove five from celery/concurrency/prefork.py\r\n\r\n* Remove five from celery/contrib/testing/manager.py\r\n\r\n* Remove five from celery/contrib/migrate.py\r\n\r\n* Remove five from celery/contrib/rdb.py\r\n\r\n* Remove five from celery/events/cursesmon.py\r\n\r\n* Remove five from celery/events/dispatcher.py\r\n\r\n* Remove five from celery/events/state.py\r\n\r\n* Remove five from celery/loaders/base.py\r\n\r\n* Remove five from celery/security/certificate.py\r\n\r\n* Remove five from celery/security/utils.py\r\n\r\n* Remove five from celery/task/base.py\r\n\r\n* Remove five from celery/utils/dispatch/signal.py\r\n\r\n* Remove five from celery/utils/abstract.py\r\n\r\n* Remove five from celery/utils/collections.py\r\n\r\n* Remove five from celery/utils/debug.py\r\n\r\n* Remove five from celery/utils/functional.py\r\n\r\n* Remove five from celery/utils/graph.py\r\n\r\n* Remove five from celery/utils/imports.py\r\n\r\n* Remove five from celery/utils/log.py\r\n\r\n* Remove five from celery/utils/saferepr.py\r\n\r\n* Remove five from celery/utils/serialization.py\r\n\r\n* Remove five from celery/utils/term.py\r\n\r\n* Remove five from celery/utils/text.py\r\n\r\n* Remove five from celery/utils/threads.py\r\n\r\n* Remove five from celery/utils/time.py\r\n\r\n* Remove five from celery/utils/timer2.py\r\n\r\n* Remove five from celery/consumer/consumer.py\r\n\r\n* Remove five from celery/consumer/gossip.py\r\n\r\n* Remove five from celery/consumer/mingle.py\r\n\r\n* Remove five from celery/worker/autoscale.py\r\n\r\n* Remove five from celery/worker/components.py\r\n\r\n* Remove five from celery/worker/control.py\r\n\r\n* Remove five from celery/worker/request.py\r\n\r\n* Remove five from celery/worker/state.py\r\n\r\n* Remove five from celery/worker/worker.py\r\n\r\n* Remove five from celery/t/benchmarks/bench_worker.py\r\n\r\n* Remove five from celery/t/integration/test_canvas.py\r\n\r\n* Remove five from celery/t/unit/app\r\n\r\n* Remove five from celery/t/unit/backends\r\n\r\n* Remove five from celery/t/unit/compat_modules\r\n\r\n* Remove five from celery/t/unit/concurrency\r\n\r\n* Remove five from celery/t/unit/contrib\r\n\r\n* Remove five from celery/t/unit/events\r\n\r\n* Remove five from celery/t/unit/security\r\n\r\n* Remove five from celery/t/unit/tasks\r\n\r\n* Remove five from celery/t/unit/utils\r\n\r\n* Remove five from celery/t/unit/worker\r\n\r\n* Sort imports.\r\n\r\n* Comment out PyPy for now.\r\n\r\n* Remove flakeplus.\r\n\r\n* Happify linter.\r\n\r\n* Fix merge problems.\r\n\r\n* Delete backport.\r\n\r\n* Remove unused import.\r\n\r\n* Remove logic that notifies user that the Python version isn't supported from setup.py.\r\n\r\npip already does that for us.\r\n\r\n* Add a trove classifier to indicate Celery only supports Python 3.\r\n\r\n* Restore usage of `reraise` for consistency with the kombu port.\r\n\r\n* Drop Python 2 compatibility code from our Sphinx extension.\r\n\r\n* Remove mention of flakeplus from tox.ini.\r\n\r\n* Remove mention of flakeplus from our CONTRIBUTING guide.\r\n\r\n* Bump Sphinx requirement.\r\n\r\n* Remove Python 2 compatibility code from our custom Sphinx extension.\r\n\r\n* Resolve Sphinx warning due to removed section in 32ff7b45aa3d78aedca61b6554a9db39122924fd.\r\n\r\n* Remove pydocstyle from build matrix as it was removed from master.\r\n\r\nSee #6278.\r\n\r\n* Bump version: 4.4.7 \u2192 5.0.0-alpha1\r\n\r\n* Final touches.\r\n\r\n* Fix README.\r\n\r\n* Bump Kombu to 5.0.0.\r\n\r\n* Bump version: 5.0.0-alpha1 \u2192 5.0.0a2\r\n\r\n* Fix wrong version.\r\n\r\n* Remove autodoc for removed module.\r\n\r\n* Remove documentation for removed methods.\r\n\r\n* Remove the riak backend since riak is no longer maintained.\r\n\r\nCo-authored-by: tothegump <tothegump@gmail.com>\r\nCo-authored-by: Omer Katz <omer.drow@gmail.com>\r\nCo-authored-by: Michal \u010ciha\u0159 <michal@cihar.com>\r\nCo-authored-by: ptitpoulpe <ptitpoulpe@ptitpoulpe.fr>\r\nCo-authored-by: Didi Bar-Zev <didi@hiredscore.com>\r\nCo-authored-by: Santos Solorzano <santosjavier22@gmail.com>\r\nCo-authored-by: manlix <manlix@yandex.ru>\r\nCo-authored-by: Jimmy <54828848+sckhg1367@users.noreply.github.com>\r\nCo-authored-by: \u0411\u043e\u0440\u0438\u0441 \u0412\u0435\u0440\u0445\u043e\u0432\u0441\u043a\u0438\u0439 <boris.verk@gmail.com>\r\nCo-authored-by: Jainal Gosaliya <jainal09gosalia@gmail.com>\r\nCo-authored-by: gsfish <caoyu97@hotmail.com>\r\nCo-authored-by: Dipankar Achinta <di.punk.car19@gmail.com>\r\nCo-authored-by: Pengjie Song (\u5b8b\u9e4f\u6377) <spengjie@sina.com>\r\nCo-authored-by: Chris Griffin <chris-griffin@users.noreply.github.com>\r\nCo-authored-by: Muhammad Hewedy <mhewedy@gmail.com>\r\nCo-authored-by: Blaine Bublitz <blaine.bublitz@gmail.com>\r\nCo-authored-by: Tamu <tamsanh@gmail.com>\r\nCo-authored-by: Erik Tews <erik@datenzone.de>\r\nCo-authored-by: abhinav nilaratna <anilaratna2@bloomberg.net>\r\nCo-authored-by: Wyatt Paul <wpaul@hearsaycorp.com>\r\nCo-authored-by: gal cohen <gal.nevis@gmail.com>\r\nCo-authored-by: as <alfred@huji.fr>\r\nCo-authored-by: Param Kapur <paramkapur2002@gmail.com>\r\nCo-authored-by: Sven Ulland <sven.ulland@gmail.com>\r\nCo-authored-by: Safwan Rahman <safwan.rahman15@gmail.com>\r\nCo-authored-by: Aissaoui Anouar <tobia@crossbone.cc>\r\nCo-authored-by: Neal Wang <qdzzyb2015@gmail.com>\r\nCo-authored-by: Alireza Amouzadeh <alireza@amouzadeh.net>\r\nCo-authored-by: Marcos Moyano <marcos@anue.biz>\r\nCo-authored-by: Stepan Henek <stepan+github@henek.name>\r\nCo-authored-by: Andrew Sklyarov <AndrewPix@users.noreply.github.com>\r\nCo-authored-by: Michael Fladischer <michael@fladi.at>\r\nCo-authored-by: Dejan Lekic <dejan.lekic@gmail.com>\r\nCo-authored-by: Yannick Schuchmann <yannick.schuchmann@googlemail.com>\r\nCo-authored-by: Matt Davis <matteius@gmail.com>\r\nCo-authored-by: Karthikeyan Singaravelan <tir.karthi@gmail.com>\r\nCo-authored-by: Bernd Wechner <bernd-wechner@users.noreply.github.com>\r\nCo-authored-by: S\u00f6ren Oldag <soeren_oldag@freenet.de>\r\nCo-authored-by: uddmorningsun <memory.yancy@gmail.com>\r\nCo-authored-by: Amar Fadil <34912365+marfgold1@users.noreply.github.com>\r\nCo-authored-by: woodenrobot <woodenrobot1993@gmail.com>\r\nCo-authored-by: Sardorbek Imomaliev <sardorbek.imomaliev@gmail.com>\r\nCo-authored-by: gsfish <root@grassfish.net>\r\nCo-authored-by: Alex Riina <alex.riina@gmail.com>\r\nCo-authored-by: Joon Hwan \uae40\uc900\ud658 <xncbf12@gmail.com>\r\nCo-authored-by: Prabakaran Kumaresshan <k_prabakaran+github@hotmail.com>\r\nCo-authored-by: Martey Dodoo <martey@mobolic.com>\r\nCo-authored-by: Konstantin Seleznev <4374093+Seleznev-nvkz@users.noreply.github.com>\r\nCo-authored-by: Prodge <Prodge@users.noreply.github.com>\r\nCo-authored-by: Abdelhadi Dyouri <raryat@gmail.com>\r\nCo-authored-by: Ixiodor <Ixiodor@users.noreply.github.com>\r\nCo-authored-by: abhishekakamai <47558404+abhishekakamai@users.noreply.github.com>\r\nCo-authored-by: Allan Lei <allanlei@helveticode.com>\r\nCo-authored-by: M1ha Shvn <work_shvein_mihail@mail.ru>\r\nCo-authored-by: Salih Caglar Ispirli <caglarispirli@gmail.com>\r\nCo-authored-by: Micha Moskovic <michamos@gmail.com>\r\nCo-authored-by: Chris Burr <chrisburr@users.noreply.github.com>\r\nCo-authored-by: Dave King <tildedave@gmail.com>\r\nCo-authored-by: Dmitry Nikulin <v.dmitry.nikulin@gmail.com>\r\nCo-authored-by: Michael Gaddis <mgaddis@ancestry.com>\r\nCo-authored-by: epwalsh <epwalsh10@gmail.com>\r\nCo-authored-by: TalRoni <tal.inon.16@gmail.com>\r\nCo-authored-by: Leo Singer <leo.singer@ligo.org>\r\nCo-authored-by: Stephen Tomkinson <neonbunny@users.noreply.github.com>\r\nCo-authored-by: Abhishek <abhishek.shukla@xeneta.com>\r\nCo-authored-by: theirix <theirix@gmail.com>\r\nCo-authored-by: yukihira1992 <hirayama@cancerscan.jp>\r\nCo-authored-by: jpays <jerome.pays@cnp.fr>\r\nCo-authored-by: Greg Ward <greg@gerg.ca>\r\nCo-authored-by: Alexa Griffith <agriffith@bluecore.com>\r\nCo-authored-by: heedong <63043496+heedong-jung@users.noreply.github.com>\r\nCo-authored-by: heedong.jung <heedong.jung@samsung.com>\r\nCo-authored-by: Shreyansh Khajanchi <shreyanshk@users.noreply.github.com>\r\nCo-authored-by: Sam Thompson <georgedorn@users.noreply.github.com>\r\nCo-authored-by: Alphadelta14 <alpha@pokesplash.net>\r\nCo-authored-by: Azimjon Pulatov <azimjohn@yahoo.com>\r\nCo-authored-by: ysde <ysde108@gmail.com>\r\nCo-authored-by: AmirMohammad Ziaei <amir_zia@outlook.com>\r\nCo-authored-by: Ben Nadler <ben.nadler@gusto.com>\r\nCo-authored-by: Harald Nezbeda <hn@nezhar.com>\r\nCo-authored-by: Chris Frisina <github@specialorange.org>\r\nCo-authored-by: Adam Eijdenberg <adam.eijdenberg@digital.gov.au>\r\nCo-authored-by: rafaelreuber <rafaelreuber@gmail.com>\r\nCo-authored-by: Noah Kantrowitz <noah@coderanger.net>\r\nCo-authored-by: Ben Nadler <jbennadler@gmail.com>\r\nCo-authored-by: Clement Michaud <c.michaud@criteo.com>\r\nCo-authored-by: Mathieu Chataigner <m.chataigner@criteo.com>\r\nCo-authored-by: eugeneyalansky <65346459+eugeneyalansky@users.noreply.github.com>\r\nCo-authored-by: Leonard Lu <leonard@socialcodeinc.com>\r\nCo-authored-by: XinYang <yangxinhust@hotmail.com>\r\nCo-authored-by: Ingolf Becker <ingolf.becker@googlemail.com>\r\nCo-authored-by: Anuj Chauhan <an12ch98@gmail.com>\r\nCo-authored-by: shaoziwei <ziwei.shao@cloudchef.io>\r\nCo-authored-by: Mathieu Chataigner <mathieu.chataigner@gmail.com>\r\nCo-authored-by: Anakael <shemeldima2@yandex.ru>\r\nCo-authored-by: Danny Chan <danny.chan@c-k.dev>\r\nCo-authored-by: Sebastiaan ten Pas <sebastiaan@diggimedia.nl>\r\nCo-authored-by: David TILLOY <d.tilloy@criteo.com>\r\nCo-authored-by: Anthony N. Simon <anthonynsimon@users.noreply.github.com>\r\nCo-authored-by: lironhl <liron.lavy@gmail.com>\r\nCo-authored-by: Raphael Cohen <raphael.cohen@sekoia.fr>\r\nCo-authored-by: JaeyoungHeo <jay.jaeyoung@gmail.com>\r\nCo-authored-by: singlaive <singlaive@gmail.com>\r\nCo-authored-by: Murphy Meng <mmeng@mirriad.com>\r\nCo-authored-by: Wu Haotian <whtsky@gmail.com>\r\nCo-authored-by: Kwist <velnik@gmail.com>\r\nCo-authored-by: Laurentiu Dragan <ldragan@bloomberg.net>\r\nCo-authored-by: Radim S\u00fcckr <radim.suckr@gmail.com>\r\nCo-authored-by: Artem Vasilyev <artem.v.vasilyev@gmail.com>\r\nCo-authored-by: kakakikikeke-fork <kakakikikeke_new@yahoo.co.jp>\r\nCo-authored-by: Pysaoke <pysaoke@gmail.com>\r\nCo-authored-by: baixue <baixue@wecash.net>\r\nCo-authored-by: Prashant Sinha <prashantsinha@outlook.com>\r\nCo-authored-by: AbdealiJK <abdealikothari@gmail.com>"}}, "url": "https://api.github.com/repos/celery/celery/commits/5b86b35c81ea5a1fbfd439861f4fee6813148d16", "html_url": "https://github.com/celery/celery/commit/5b86b35c81ea5a1fbfd439861f4fee6813148d16", "comments_url": "https://api.github.com/repos/celery/celery/commits/5b86b35c81ea5a1fbfd439861f4fee6813148d16/comments", "author": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a6c2923e859b6993227605610255bd632c1ae68", "url": "https://api.github.com/repos/celery/celery/commits/9a6c2923e859b6993227605610255bd632c1ae68", "html_url": "https://github.com/celery/celery/commit/9a6c2923e859b6993227605610255bd632c1ae68"}]}, {"sha": "9a6c2923e859b6993227605610255bd632c1ae68", "node_id": "MDY6Q29tbWl0MTg0NDYwOjlhNmMyOTIzZTg1OWI2OTkzMjI3NjA1NjEwMjU1YmQ2MzJjMWFlNjg=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-08-05T11:32:34Z"}, "committer": {"name": "Asif Saif Uddin", "email": "auvipy@gmail.com", "date": "2020-08-05T12:21:07Z"}, "message": "do not enable celery.contrib.pytest by default\n\nFixes #6280", "tree": {"sha": "03bc9e2c5aceb08281a80e81f4a431764aa5cc77", "url": "https://api.github.com/repos/celery/celery/git/trees/03bc9e2c5aceb08281a80e81f4a431764aa5cc77"}, "url": "https://api.github.com/repos/celery/celery/git/commits/9a6c2923e859b6993227605610255bd632c1ae68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/9a6c2923e859b6993227605610255bd632c1ae68", "html_url": "https://github.com/celery/celery/commit/9a6c2923e859b6993227605610255bd632c1ae68", "comments_url": "https://api.github.com/repos/celery/celery/commits/9a6c2923e859b6993227605610255bd632c1ae68/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0df06a87dc4658edcf155a6dafb4ed34d9751cc9", "url": "https://api.github.com/repos/celery/celery/commits/0df06a87dc4658edcf155a6dafb4ed34d9751cc9", "html_url": "https://github.com/celery/celery/commit/0df06a87dc4658edcf155a6dafb4ed34d9751cc9"}]}, {"sha": "0df06a87dc4658edcf155a6dafb4ed34d9751cc9", "node_id": "MDY6Q29tbWl0MTg0NDYwOjBkZjA2YTg3ZGM0NjU4ZWRjZjE1NWE2ZGFmYjRlZDM0ZDk3NTFjYzk=", "commit": {"author": {"name": "Harry Moreno", "email": "morenoh149@gmail.com", "date": "2020-08-04T15:13:12Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-04T15:13:12Z"}, "message": "improve phrasing (#6286)", "tree": {"sha": "40cf7de83ba19082c0f7c460283181c03f23215b", "url": "https://api.github.com/repos/celery/celery/git/trees/40cf7de83ba19082c0f7c460283181c03f23215b"}, "url": "https://api.github.com/repos/celery/celery/git/commits/0df06a87dc4658edcf155a6dafb4ed34d9751cc9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfKXsICRBK7hj4Ov3rIwAAdHIIABHKBT8OYGlnrDobp2X+uw51\nURCGPyItLe2g/FgaBjEhzFxdd6/u+gOWaLVclccqmIY+7U8OVl9qs+J7YteARRDS\nMKC6z4ViyEf7pXy38jRwaxQM2PupigP7KxOFB9j1sfKeLr9WSNmCAiDXySak9wyB\n5rB1teDa4mc6sCURVwip1Nzw4IyjG7ue363Te3xNl/ruJrt+GKtim0R0kBYn/03B\nZvCYl5vWgXb8Jj/9QS6YhGlyxN+ImmOVo/QiMAxX3e2vYLbuJuT9UTNBvtKY4Ory\n+C1x7l5CAyVSt6/YnlzZIFVdUxLZti77s5zFrk5GgyAwBfn9wuFJs1D6V5N8z7g=\n=aQAd\n-----END PGP SIGNATURE-----\n", "payload": "tree 40cf7de83ba19082c0f7c460283181c03f23215b\nparent 1b32dd6b6ce70af39a8bd4d869dd0d4166806866\nauthor Harry Moreno <morenoh149@gmail.com> 1596553992 -0400\ncommitter GitHub <noreply@github.com> 1596553992 +0300\n\nimprove phrasing (#6286)\n\n"}}, "url": "https://api.github.com/repos/celery/celery/commits/0df06a87dc4658edcf155a6dafb4ed34d9751cc9", "html_url": "https://github.com/celery/celery/commit/0df06a87dc4658edcf155a6dafb4ed34d9751cc9", "comments_url": "https://api.github.com/repos/celery/celery/commits/0df06a87dc4658edcf155a6dafb4ed34d9751cc9/comments", "author": {"login": "morenoh149", "id": 587438, "node_id": "MDQ6VXNlcjU4NzQzOA==", "avatar_url": "https://avatars2.githubusercontent.com/u/587438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/morenoh149", "html_url": "https://github.com/morenoh149", "followers_url": "https://api.github.com/users/morenoh149/followers", "following_url": "https://api.github.com/users/morenoh149/following{/other_user}", "gists_url": "https://api.github.com/users/morenoh149/gists{/gist_id}", "starred_url": "https://api.github.com/users/morenoh149/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/morenoh149/subscriptions", "organizations_url": "https://api.github.com/users/morenoh149/orgs", "repos_url": "https://api.github.com/users/morenoh149/repos", "events_url": "https://api.github.com/users/morenoh149/events{/privacy}", "received_events_url": "https://api.github.com/users/morenoh149/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b32dd6b6ce70af39a8bd4d869dd0d4166806866", "url": "https://api.github.com/repos/celery/celery/commits/1b32dd6b6ce70af39a8bd4d869dd0d4166806866", "html_url": "https://github.com/celery/celery/commit/1b32dd6b6ce70af39a8bd4d869dd0d4166806866"}]}, {"sha": "1b32dd6b6ce70af39a8bd4d869dd0d4166806866", "node_id": "MDY6Q29tbWl0MTg0NDYwOjFiMzJkZDZiNmNlNzBhZjM5YThiZDRkODY5ZGQwZDQxNjY4MDY4NjY=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-08-03T12:15:50Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-03T12:15:50Z"}, "message": "lower max-line-length to 117 (#6282)\n\n* flake8: lower max-line-length to 128\r\n\r\n* flake8: lower max-line-length to 125\r\n\r\n* flake8: lower max-line-length to 124\r\n\r\n* flake8: lower max-line-length to 124\r\n\r\n* flake8: lower max-line-length to 117", "tree": {"sha": "9c4e056c5a4dc1a11727e621b6eee13fbe7f7bcf", "url": "https://api.github.com/repos/celery/celery/git/trees/9c4e056c5a4dc1a11727e621b6eee13fbe7f7bcf"}, "url": "https://api.github.com/repos/celery/celery/git/commits/1b32dd6b6ce70af39a8bd4d869dd0d4166806866", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfJ//2CRBK7hj4Ov3rIwAAdHIIAFtrJ3GYLhNUvPUKjNPKp7NB\nJyS42roTkOTx1LD+uKJl+VJw7FAjTTLlLB1lygY0+6btTa2EhyYVoJSt/nA1lGOG\nYOrcS9FlxvSZdwPEBK5L6qBifcOzRTu7wB7Io5RHl+RDwmFapxlf6tZtV7EPLTH6\n9tMi3fwDu7DqBo7VrJbrvOuUi0eVtRRMw/1Y4jycsO9clRXAvQblp3RhPRE5ojqN\neK1rViW5hr9rzbhg1DGy5au7tiNc5PSwxTbtD48eq7++8G8s52I8s8C5DtaTxCEH\nMf7N1LtHnpL3wXPW+8XExS58kQSUncbl/ZzlrOWGGwXWN9985OX5nSaeO5bcy3M=\n=i8pf\n-----END PGP SIGNATURE-----\n", "payload": "tree 9c4e056c5a4dc1a11727e621b6eee13fbe7f7bcf\nparent 11f073271d42a890c57516b0c44992ea6b4e7c99\nauthor Thomas Grainger <tagrain@gmail.com> 1596456950 +0100\ncommitter GitHub <noreply@github.com> 1596456950 +0600\n\nlower max-line-length to 117 (#6282)\n\n* flake8: lower max-line-length to 128\r\n\r\n* flake8: lower max-line-length to 125\r\n\r\n* flake8: lower max-line-length to 124\r\n\r\n* flake8: lower max-line-length to 124\r\n\r\n* flake8: lower max-line-length to 117"}}, "url": "https://api.github.com/repos/celery/celery/commits/1b32dd6b6ce70af39a8bd4d869dd0d4166806866", "html_url": "https://github.com/celery/celery/commit/1b32dd6b6ce70af39a8bd4d869dd0d4166806866", "comments_url": "https://api.github.com/repos/celery/celery/commits/1b32dd6b6ce70af39a8bd4d869dd0d4166806866/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "11f073271d42a890c57516b0c44992ea6b4e7c99", "url": "https://api.github.com/repos/celery/celery/commits/11f073271d42a890c57516b0c44992ea6b4e7c99", "html_url": "https://github.com/celery/celery/commit/11f073271d42a890c57516b0c44992ea6b4e7c99"}]}, {"sha": "11f073271d42a890c57516b0c44992ea6b4e7c99", "node_id": "MDY6Q29tbWl0MTg0NDYwOjExZjA3MzI3MWQ0MmE4OTBjNTc1MTZiMGM0NDk5MmVhNmI0ZTdjOTk=", "commit": {"author": {"name": "Artem Vasilyev", "email": "artem.v.vasilyev@gmail.com", "date": "2020-08-03T07:13:02Z"}, "committer": {"name": "Asif Saif Uddin", "email": "auvipy@gmail.com", "date": "2020-08-03T09:29:24Z"}, "message": "fixed `--range-refix` example in `multi` doc", "tree": {"sha": "23ebe7e9790986890c245df155f43982bb669147", "url": "https://api.github.com/repos/celery/celery/git/trees/23ebe7e9790986890c245df155f43982bb669147"}, "url": "https://api.github.com/repos/celery/celery/git/commits/11f073271d42a890c57516b0c44992ea6b4e7c99", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/11f073271d42a890c57516b0c44992ea6b4e7c99", "html_url": "https://github.com/celery/celery/commit/11f073271d42a890c57516b0c44992ea6b4e7c99", "comments_url": "https://api.github.com/repos/celery/celery/commits/11f073271d42a890c57516b0c44992ea6b4e7c99/comments", "author": {"login": "art-vasilyev", "id": 17820623, "node_id": "MDQ6VXNlcjE3ODIwNjIz", "avatar_url": "https://avatars3.githubusercontent.com/u/17820623?v=4", "gravatar_id": "", "url": "https://api.github.com/users/art-vasilyev", "html_url": "https://github.com/art-vasilyev", "followers_url": "https://api.github.com/users/art-vasilyev/followers", "following_url": "https://api.github.com/users/art-vasilyev/following{/other_user}", "gists_url": "https://api.github.com/users/art-vasilyev/gists{/gist_id}", "starred_url": "https://api.github.com/users/art-vasilyev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/art-vasilyev/subscriptions", "organizations_url": "https://api.github.com/users/art-vasilyev/orgs", "repos_url": "https://api.github.com/users/art-vasilyev/repos", "events_url": "https://api.github.com/users/art-vasilyev/events{/privacy}", "received_events_url": "https://api.github.com/users/art-vasilyev/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "445c2aca8abe5547f401fee094102f71ff8ce14b", "url": "https://api.github.com/repos/celery/celery/commits/445c2aca8abe5547f401fee094102f71ff8ce14b", "html_url": "https://github.com/celery/celery/commit/445c2aca8abe5547f401fee094102f71ff8ce14b"}]}, {"sha": "445c2aca8abe5547f401fee094102f71ff8ce14b", "node_id": "MDY6Q29tbWl0MTg0NDYwOjQ0NWMyYWNhOGFiZTU1NDdmNDAxZmVlMDk0MTAyZjcxZmY4Y2UxNGI=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-08-03T01:17:44Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-03T01:17:44Z"}, "message": "run lint jobs with tox --parallel (#6276)\n\n* run lint jobs with tox --parallel\r\n\r\nrather than parellel travis builds, to save a few concurrent jobs\r\n\r\n* fix default CELERY_TOX_PARALLEL typo\r\n\r\n* actually enable --parallel-live", "tree": {"sha": "055e8b7f9cdf16970a2b4c5b6685942a1034d95d", "url": "https://api.github.com/repos/celery/celery/git/trees/055e8b7f9cdf16970a2b4c5b6685942a1034d95d"}, "url": "https://api.github.com/repos/celery/celery/git/commits/445c2aca8abe5547f401fee094102f71ff8ce14b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfJ2W4CRBK7hj4Ov3rIwAAdHIIAIoVod5FxmIciBTrPkgoo71R\n6noeK6ZhnBMagkO+rXi44oN1VxIsvPpKvJrXXLoC0JqXl1VPWVjn9yQuWzdMQkMz\niuvn7ZNOLeLQsGaD3RhJdBtUN+zlIHs9RP/fGR7K3Xsu49+aoLriECpGaZBnZtuC\n+vLSF8w6qEbFl4E7J2i/rTvs1BPhiy3QF3HxXALG373gmF85jFLlKiql1eSY0Wpr\nfxhSlHnX5vxD2H/k/9ze2QIbHTchr4z1Q/sHkqXN/JJEWOuVupLxPr1t9E7ZIRAX\nr4vDyKsmWGmXTB9A4YWAaYMRvzLw8L8FXMEXBGDI0Sl0uuy+ba0zplwUZdIVIJg=\n=FnZF\n-----END PGP SIGNATURE-----\n", "payload": "tree 055e8b7f9cdf16970a2b4c5b6685942a1034d95d\nparent c12e0888814781e40ce251bfa9b9d0133540b3fb\nauthor Thomas Grainger <tagrain@gmail.com> 1596417464 +0100\ncommitter GitHub <noreply@github.com> 1596417464 +0600\n\nrun lint jobs with tox --parallel (#6276)\n\n* run lint jobs with tox --parallel\r\n\r\nrather than parellel travis builds, to save a few concurrent jobs\r\n\r\n* fix default CELERY_TOX_PARALLEL typo\r\n\r\n* actually enable --parallel-live"}}, "url": "https://api.github.com/repos/celery/celery/commits/445c2aca8abe5547f401fee094102f71ff8ce14b", "html_url": "https://github.com/celery/celery/commit/445c2aca8abe5547f401fee094102f71ff8ce14b", "comments_url": "https://api.github.com/repos/celery/celery/commits/445c2aca8abe5547f401fee094102f71ff8ce14b/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c12e0888814781e40ce251bfa9b9d0133540b3fb", "url": "https://api.github.com/repos/celery/celery/commits/c12e0888814781e40ce251bfa9b9d0133540b3fb", "html_url": "https://github.com/celery/celery/commit/c12e0888814781e40ce251bfa9b9d0133540b3fb"}]}, {"sha": "c12e0888814781e40ce251bfa9b9d0133540b3fb", "node_id": "MDY6Q29tbWl0MTg0NDYwOmMxMmUwODg4ODE0NzgxZTQwY2UyNTFiZmE5YjlkMDEzMzU0MGIzZmI=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-08-02T07:14:01Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-02T07:14:01Z"}, "message": "use install to mkdir and chown simultaneously (#6274)\n\n* use install to mkdir and chown simultaneously\r\n\r\n* create /var/.../celery dirs with travis owner, not group", "tree": {"sha": "a5aa385b94d4370b7fade30ab4285f47305388b1", "url": "https://api.github.com/repos/celery/celery/git/trees/a5aa385b94d4370b7fade30ab4285f47305388b1"}, "url": "https://api.github.com/repos/celery/celery/git/commits/c12e0888814781e40ce251bfa9b9d0133540b3fb", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfJme5CRBK7hj4Ov3rIwAAdHIIAIGyqKm7urSXoCi4hd3yqB0w\nlq9nLeK9Bb5DiWAnKvHSTV4Ch2VPEn5IdyWN3GuXafjyizXYBI1faF6aN+D6LH9q\n6CK2rrpbQRmVeGgS9DJ2eIhIG2HQorzdsha1N2G9MpOZNU2A0ttwOIwEsM2yt5Zo\nF14uQGFFH6ppwLi6cUgXTCYm3OLXKDiu/QKWIcRjHdej0zvNK3b5skH3kWBlmE4H\nZIC4A8ht/S15e9Ps4zwno9BlaMZYSHo6S1Od9M+zwaiAxrvxy1x44Cf9aQR2/37E\nHiOGuN5G5efnKXxaJYDRwAxKIxWuxZ9FmGugqW8I+q6Crgz2OdDROcvFMqT+Y9M=\n=NyHR\n-----END PGP SIGNATURE-----\n", "payload": "tree a5aa385b94d4370b7fade30ab4285f47305388b1\nparent 27dd7a4fab84e2145389181df89c4f00000c2536\nauthor Thomas Grainger <tagrain@gmail.com> 1596352441 +0100\ncommitter GitHub <noreply@github.com> 1596352441 +0600\n\nuse install to mkdir and chown simultaneously (#6274)\n\n* use install to mkdir and chown simultaneously\r\n\r\n* create /var/.../celery dirs with travis owner, not group"}}, "url": "https://api.github.com/repos/celery/celery/commits/c12e0888814781e40ce251bfa9b9d0133540b3fb", "html_url": "https://github.com/celery/celery/commit/c12e0888814781e40ce251bfa9b9d0133540b3fb", "comments_url": "https://api.github.com/repos/celery/celery/commits/c12e0888814781e40ce251bfa9b9d0133540b3fb/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "27dd7a4fab84e2145389181df89c4f00000c2536", "url": "https://api.github.com/repos/celery/celery/commits/27dd7a4fab84e2145389181df89c4f00000c2536", "html_url": "https://github.com/celery/celery/commit/27dd7a4fab84e2145389181df89c4f00000c2536"}]}, {"sha": "27dd7a4fab84e2145389181df89c4f00000c2536", "node_id": "MDY6Q29tbWl0MTg0NDYwOjI3ZGQ3YTRmYWI4NGUyMTQ1Mzg5MTgxZGY4OWM0ZjAwMDAwYzI1MzY=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-08-02T03:01:08Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-02T03:01:08Z"}, "message": "pytest-timeout fixes - apply only to flaky tests, ignore pytest_timeout in lingering thread check (#6272)\n\n* ignore pytest_timeout threads in threads_not_lingering\r\n\r\n* enable --strict-markers\r\n\r\n* remove undefined marks\r\n\r\n* only apply timeout to flaky tests", "tree": {"sha": "f6539143cd227abb1ed09b4205a19ebdf576468d", "url": "https://api.github.com/repos/celery/celery/git/trees/f6539143cd227abb1ed09b4205a19ebdf576468d"}, "url": "https://api.github.com/repos/celery/celery/git/commits/27dd7a4fab84e2145389181df89c4f00000c2536", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfJix0CRBK7hj4Ov3rIwAAdHIIADNE7xETrH9P3VVNHjQbtne1\nKZsdSRnyj1Vx/Tlx9Z1Ky1g7nct0087cGG9P3gH23oaIrmiEIDO5qQGvlC1yknHB\nqKOEzwLgQuqzAbjRlBWMeb5xF6OThUbket+PdwPNVWhDOt4IG3wUf+2taoErqi3d\nYIOK6OiEBE4k3M+SxkyagOLUBBcXNagFgJG+kpYbYE6ncaBiVizMjMItY4DrVIgg\nXzeK9z9Xc/EDPMD3svB6LMs/r5wrjK9llZNmUliTFIK2nGVd2JPloWACWY/mHofN\nW4614LoOtu1/PkuaiQWtQRbF94V6Ph/6y5mtkykg58NfptvKW3dVwb77e5cldxs=\n=W0gk\n-----END PGP SIGNATURE-----\n", "payload": "tree f6539143cd227abb1ed09b4205a19ebdf576468d\nparent 0032fa3c99464b001ec9ae83e81d96f5ab5b7301\nauthor Thomas Grainger <tagrain@gmail.com> 1596337268 +0100\ncommitter GitHub <noreply@github.com> 1596337268 +0600\n\npytest-timeout fixes - apply only to flaky tests, ignore pytest_timeout in lingering thread check (#6272)\n\n* ignore pytest_timeout threads in threads_not_lingering\r\n\r\n* enable --strict-markers\r\n\r\n* remove undefined marks\r\n\r\n* only apply timeout to flaky tests"}}, "url": "https://api.github.com/repos/celery/celery/commits/27dd7a4fab84e2145389181df89c4f00000c2536", "html_url": "https://github.com/celery/celery/commit/27dd7a4fab84e2145389181df89c4f00000c2536", "comments_url": "https://api.github.com/repos/celery/celery/commits/27dd7a4fab84e2145389181df89c4f00000c2536/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0032fa3c99464b001ec9ae83e81d96f5ab5b7301", "url": "https://api.github.com/repos/celery/celery/commits/0032fa3c99464b001ec9ae83e81d96f5ab5b7301", "html_url": "https://github.com/celery/celery/commit/0032fa3c99464b001ec9ae83e81d96f5ab5b7301"}]}, {"sha": "0032fa3c99464b001ec9ae83e81d96f5ab5b7301", "node_id": "MDY6Q29tbWl0MTg0NDYwOjAwMzJmYTNjOTk0NjRiMDAxZWM5YWU4M2U4MWQ5NmY1YWI1YjczMDE=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-08-01T17:40:58Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-01T17:40:58Z"}, "message": "configure 300 second timeout to prevent CI hanging (#6270)\n\n* remove pytest-sugar\r\n\r\nas it currently does not support pytest-timeout: https://github.com/Teemu/pytest-sugar/pull/203\r\n\r\n* enable pytest-timeout to prevent CI hanging\r\n\r\nshould get a nice stacktrace instead\r\n\r\n* flake8: fix E128 continuation line under-indented for visual indent", "tree": {"sha": "14e6caf65a10f808dd0e7a74695a30da1dbbe19a", "url": "https://api.github.com/repos/celery/celery/git/trees/14e6caf65a10f808dd0e7a74695a30da1dbbe19a"}, "url": "https://api.github.com/repos/celery/celery/git/commits/0032fa3c99464b001ec9ae83e81d96f5ab5b7301", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfJakqCRBK7hj4Ov3rIwAAdHIIABxGnlVFmZwXF0V21gYq8ZyO\nwMJMrsvAUYRz0EmrRXNTIMZEvoCOY0eqtWvK2UVxEBG0ulJN1TAjZqJzfBHq7jcu\nirDh82lc5hoCh3V7yjx4GFRM6bpHzP4E2SzWLnbeK3/0CNTMJN26znx/KzRDRzxm\noK50/asl0vMDuGmkox8VdrS9Ufr0PahH79EOycOD7QSCM3k5uoikyFFgqZVM6rCs\nb9c2nYYJy/jIQrrq2Yl4hStfPPSrl15zpvDPaC2M+O/8FRQ9Y9XFRbtp31Fof0MA\njdQvUH6y54QsSQttgVvHjjAb+WHCdSUFPr0pC0OSRxO1jGAASYxJBjJSW14DsAE=\n=Kg88\n-----END PGP SIGNATURE-----\n", "payload": "tree 14e6caf65a10f808dd0e7a74695a30da1dbbe19a\nparent 762ec190934ea53381796e9bf1a8d57be499746d\nauthor Thomas Grainger <tagrain@gmail.com> 1596303658 +0100\ncommitter GitHub <noreply@github.com> 1596303658 +0600\n\nconfigure 300 second timeout to prevent CI hanging (#6270)\n\n* remove pytest-sugar\r\n\r\nas it currently does not support pytest-timeout: https://github.com/Teemu/pytest-sugar/pull/203\r\n\r\n* enable pytest-timeout to prevent CI hanging\r\n\r\nshould get a nice stacktrace instead\r\n\r\n* flake8: fix E128 continuation line under-indented for visual indent"}}, "url": "https://api.github.com/repos/celery/celery/commits/0032fa3c99464b001ec9ae83e81d96f5ab5b7301", "html_url": "https://github.com/celery/celery/commit/0032fa3c99464b001ec9ae83e81d96f5ab5b7301", "comments_url": "https://api.github.com/repos/celery/celery/commits/0032fa3c99464b001ec9ae83e81d96f5ab5b7301/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "762ec190934ea53381796e9bf1a8d57be499746d", "url": "https://api.github.com/repos/celery/celery/commits/762ec190934ea53381796e9bf1a8d57be499746d", "html_url": "https://github.com/celery/celery/commit/762ec190934ea53381796e9bf1a8d57be499746d"}]}, {"sha": "762ec190934ea53381796e9bf1a8d57be499746d", "node_id": "MDY6Q29tbWl0MTg0NDYwOjc2MmVjMTkwOTM0ZWE1MzM4MTc5NmU5YmYxYThkNTdiZTQ5OTc0NmQ=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-08-01T12:37:41Z"}, "committer": {"name": "Asif Saif Uddin", "email": "auvipy@gmail.com", "date": "2020-08-01T15:40:19Z"}, "message": "fix truncated changelog line", "tree": {"sha": "320c0a187c5d375bb0af903cab80a3a58adbd326", "url": "https://api.github.com/repos/celery/celery/git/trees/320c0a187c5d375bb0af903cab80a3a58adbd326"}, "url": "https://api.github.com/repos/celery/celery/git/commits/762ec190934ea53381796e9bf1a8d57be499746d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/762ec190934ea53381796e9bf1a8d57be499746d", "html_url": "https://github.com/celery/celery/commit/762ec190934ea53381796e9bf1a8d57be499746d", "comments_url": "https://api.github.com/repos/celery/celery/commits/762ec190934ea53381796e9bf1a8d57be499746d/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d50c6cfc448e9e31384190b23f285254cb44e8a2", "url": "https://api.github.com/repos/celery/celery/commits/d50c6cfc448e9e31384190b23f285254cb44e8a2", "html_url": "https://github.com/celery/celery/commit/d50c6cfc448e9e31384190b23f285254cb44e8a2"}]}, {"sha": "d50c6cfc448e9e31384190b23f285254cb44e8a2", "node_id": "MDY6Q29tbWl0MTg0NDYwOmQ1MGM2Y2ZjNDQ4ZTllMzEzODQxOTBiMjNmMjg1MjU0Y2I0NGU4YTI=", "commit": {"author": {"name": "Asif Saif Uddin (Auvi)", "email": "auvipy@gmail.com", "date": "2020-07-31T17:39:24Z"}, "committer": {"name": "Asif Saif Uddin (Auvi)", "email": "auvipy@gmail.com", "date": "2020-07-31T17:39:24Z"}, "message": "Tagged v4.4.7", "tree": {"sha": "1984e5978f4a0a071d3a138acfad5996d885c7fd", "url": "https://api.github.com/repos/celery/celery/git/trees/1984e5978f4a0a071d3a138acfad5996d885c7fd"}, "url": "https://api.github.com/repos/celery/celery/git/commits/d50c6cfc448e9e31384190b23f285254cb44e8a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/d50c6cfc448e9e31384190b23f285254cb44e8a2", "html_url": "https://github.com/celery/celery/commit/d50c6cfc448e9e31384190b23f285254cb44e8a2", "comments_url": "https://api.github.com/repos/celery/celery/commits/d50c6cfc448e9e31384190b23f285254cb44e8a2/comments", "author": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "832738298e1efdbd292c33f35333c499453c46ae", "url": "https://api.github.com/repos/celery/celery/commits/832738298e1efdbd292c33f35333c499453c46ae", "html_url": "https://github.com/celery/celery/commit/832738298e1efdbd292c33f35333c499453c46ae"}]}, {"sha": "832738298e1efdbd292c33f35333c499453c46ae", "node_id": "MDY6Q29tbWl0MTg0NDYwOjgzMjczODI5OGUxZWZkYmQyOTJjMzNmMzUzMzNjNDk5NDUzYzQ2YWU=", "commit": {"author": {"name": "Asif Saif Uddin (Auvi)", "email": "auvipy@gmail.com", "date": "2020-07-31T17:35:44Z"}, "committer": {"name": "Asif Saif Uddin (Auvi)", "email": "auvipy@gmail.com", "date": "2020-07-31T17:35:44Z"}, "message": "Merge branch 'master' of https://github.com/celery/celery", "tree": {"sha": "a149fe8e17d7dc4705928eeac38d238aaf42605b", "url": "https://api.github.com/repos/celery/celery/git/trees/a149fe8e17d7dc4705928eeac38d238aaf42605b"}, "url": "https://api.github.com/repos/celery/celery/git/commits/832738298e1efdbd292c33f35333c499453c46ae", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/832738298e1efdbd292c33f35333c499453c46ae", "html_url": "https://github.com/celery/celery/commit/832738298e1efdbd292c33f35333c499453c46ae", "comments_url": "https://api.github.com/repos/celery/celery/commits/832738298e1efdbd292c33f35333c499453c46ae/comments", "author": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a9b86c95460c4548ec480adbee07ccff7a80bd60", "url": "https://api.github.com/repos/celery/celery/commits/a9b86c95460c4548ec480adbee07ccff7a80bd60", "html_url": "https://github.com/celery/celery/commit/a9b86c95460c4548ec480adbee07ccff7a80bd60"}, {"sha": "cc0bc2122e0f07f76b6ade1c828fb089c3f7ce5e", "url": "https://api.github.com/repos/celery/celery/commits/cc0bc2122e0f07f76b6ade1c828fb089c3f7ce5e", "html_url": "https://github.com/celery/celery/commit/cc0bc2122e0f07f76b6ade1c828fb089c3f7ce5e"}]}, {"sha": "a9b86c95460c4548ec480adbee07ccff7a80bd60", "node_id": "MDY6Q29tbWl0MTg0NDYwOmE5Yjg2Yzk1NDYwYzQ1NDhlYzQ4MGFkYmVlMDdjY2ZmN2E4MGJkNjA=", "commit": {"author": {"name": "Asif Saif Uddin (Auvi)", "email": "auvipy@gmail.com", "date": "2020-07-31T17:35:33Z"}, "committer": {"name": "Asif Saif Uddin (Auvi)", "email": "auvipy@gmail.com", "date": "2020-07-31T17:35:33Z"}, "message": "Changelog for v4.4.7", "tree": {"sha": "ba8d828fcc34fb382f7cc7cc06f0b256f062a930", "url": "https://api.github.com/repos/celery/celery/git/trees/ba8d828fcc34fb382f7cc7cc06f0b256f062a930"}, "url": "https://api.github.com/repos/celery/celery/git/commits/a9b86c95460c4548ec480adbee07ccff7a80bd60", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/a9b86c95460c4548ec480adbee07ccff7a80bd60", "html_url": "https://github.com/celery/celery/commit/a9b86c95460c4548ec480adbee07ccff7a80bd60", "comments_url": "https://api.github.com/repos/celery/celery/commits/a9b86c95460c4548ec480adbee07ccff7a80bd60/comments", "author": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "390a8ed9bec3231443d031f2b24b5e819955f136", "url": "https://api.github.com/repos/celery/celery/commits/390a8ed9bec3231443d031f2b24b5e819955f136", "html_url": "https://github.com/celery/celery/commit/390a8ed9bec3231443d031f2b24b5e819955f136"}]}, {"sha": "cc0bc2122e0f07f76b6ade1c828fb089c3f7ce5e", "node_id": "MDY6Q29tbWl0MTg0NDYwOmNjMGJjMjEyMmUwZjA3Zjc2YjZhZGUxYzgyOGZiMDg5YzNmN2NlNWU=", "commit": {"author": {"name": "maybe-sybr", "email": "58414429+maybe-sybr@users.noreply.github.com", "date": "2020-07-28T00:24:27Z"}, "committer": {"name": "Asif Saif Uddin", "email": "auvipy@gmail.com", "date": "2020-07-31T17:33:26Z"}, "message": "improv: Make use of ordered sets in Redis opt-in\n\nThis should ensure that there is no breakage between workers with the\ncode from #6218 and those without, unless the cluster owner specifically\nopts into the new behaviour.", "tree": {"sha": "12ef95ba42070704757f131495046fd6b3eeb488", "url": "https://api.github.com/repos/celery/celery/git/trees/12ef95ba42070704757f131495046fd6b3eeb488"}, "url": "https://api.github.com/repos/celery/celery/git/commits/cc0bc2122e0f07f76b6ade1c828fb089c3f7ce5e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/cc0bc2122e0f07f76b6ade1c828fb089c3f7ce5e", "html_url": "https://github.com/celery/celery/commit/cc0bc2122e0f07f76b6ade1c828fb089c3f7ce5e", "comments_url": "https://api.github.com/repos/celery/celery/commits/cc0bc2122e0f07f76b6ade1c828fb089c3f7ce5e/comments", "author": {"login": "maybe-sybr", "id": 58414429, "node_id": "MDQ6VXNlcjU4NDE0NDI5", "avatar_url": "https://avatars3.githubusercontent.com/u/58414429?v=4", "gravatar_id": "", "url": "https://api.github.com/users/maybe-sybr", "html_url": "https://github.com/maybe-sybr", "followers_url": "https://api.github.com/users/maybe-sybr/followers", "following_url": "https://api.github.com/users/maybe-sybr/following{/other_user}", "gists_url": "https://api.github.com/users/maybe-sybr/gists{/gist_id}", "starred_url": "https://api.github.com/users/maybe-sybr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/maybe-sybr/subscriptions", "organizations_url": "https://api.github.com/users/maybe-sybr/orgs", "repos_url": "https://api.github.com/users/maybe-sybr/repos", "events_url": "https://api.github.com/users/maybe-sybr/events{/privacy}", "received_events_url": "https://api.github.com/users/maybe-sybr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1f4af2d6c19ba83ec751fa2d71adc3ea232d0c21", "url": "https://api.github.com/repos/celery/celery/commits/1f4af2d6c19ba83ec751fa2d71adc3ea232d0c21", "html_url": "https://github.com/celery/celery/commit/1f4af2d6c19ba83ec751fa2d71adc3ea232d0c21"}]}, {"sha": "1f4af2d6c19ba83ec751fa2d71adc3ea232d0c21", "node_id": "MDY6Q29tbWl0MTg0NDYwOjFmNGFmMmQ2YzE5YmE4M2VjNzUxZmEyZDcxYWRjM2VhMjMyZDBjMjE=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-07-30T10:21:27Z"}, "committer": {"name": "Asif Saif Uddin", "email": "auvipy@gmail.com", "date": "2020-07-31T17:32:03Z"}, "message": "fix flaky test_add_chord_to_chord\n\nFixes #6256\nrelated https://github.com/celery/celery/pull/6218/files#diff-2ae8afebeb9ba0fd1534a70264a2ac68R621", "tree": {"sha": "0690ac16eb5c8cb4da880b0a05cf002a483f4a7c", "url": "https://api.github.com/repos/celery/celery/git/trees/0690ac16eb5c8cb4da880b0a05cf002a483f4a7c"}, "url": "https://api.github.com/repos/celery/celery/git/commits/1f4af2d6c19ba83ec751fa2d71adc3ea232d0c21", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/1f4af2d6c19ba83ec751fa2d71adc3ea232d0c21", "html_url": "https://github.com/celery/celery/commit/1f4af2d6c19ba83ec751fa2d71adc3ea232d0c21", "comments_url": "https://api.github.com/repos/celery/celery/commits/1f4af2d6c19ba83ec751fa2d71adc3ea232d0c21/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "390a8ed9bec3231443d031f2b24b5e819955f136", "url": "https://api.github.com/repos/celery/celery/commits/390a8ed9bec3231443d031f2b24b5e819955f136", "html_url": "https://github.com/celery/celery/commit/390a8ed9bec3231443d031f2b24b5e819955f136"}]}, {"sha": "390a8ed9bec3231443d031f2b24b5e819955f136", "node_id": "MDY6Q29tbWl0MTg0NDYwOjM5MGE4ZWQ5YmVjMzIzMTQ0M2QwMzFmMmIyNGI1ZTgxOTk1NWYxMzY=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-07-29T16:33:38Z"}, "committer": {"name": "Asif Saif Uddin", "email": "auvipy@gmail.com", "date": "2020-07-31T10:35:24Z"}, "message": "apply flake8 to all py files", "tree": {"sha": "42f26f75f75718584472e9aed0117be7b774c2a7", "url": "https://api.github.com/repos/celery/celery/git/trees/42f26f75f75718584472e9aed0117be7b774c2a7"}, "url": "https://api.github.com/repos/celery/celery/git/commits/390a8ed9bec3231443d031f2b24b5e819955f136", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/390a8ed9bec3231443d031f2b24b5e819955f136", "html_url": "https://github.com/celery/celery/commit/390a8ed9bec3231443d031f2b24b5e819955f136", "comments_url": "https://api.github.com/repos/celery/celery/commits/390a8ed9bec3231443d031f2b24b5e819955f136/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c6eef1b339f57296c7d94130c1083b945e39e567", "url": "https://api.github.com/repos/celery/celery/commits/c6eef1b339f57296c7d94130c1083b945e39e567", "html_url": "https://github.com/celery/celery/commit/c6eef1b339f57296c7d94130c1083b945e39e567"}]}, {"sha": "c6eef1b339f57296c7d94130c1083b945e39e567", "node_id": "MDY6Q29tbWl0MTg0NDYwOmM2ZWVmMWIzMzlmNTcyOTZjN2Q5NDEzMGMxMDgzYjk0NWUzOWU1Njc=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-07-31T08:42:38Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-31T08:42:38Z"}, "message": "fix LTGM Alert: Module '...' is imported with both 'import' and 'imp\u2026 (#6264)\n\n* fix LTGM Alert: Module 'riak' is imported with both 'import' and 'import from'\r\n\r\n* fix LGTM Alert: Module 'gevent' is imported with both 'import' and 'import from'\r\n\r\n* fix LGTM Alert: Module 'redis' is imported with both 'import' and 'import from'", "tree": {"sha": "6f32e54bbc0acd894cceb9ce14369f7ede0b2edd", "url": "https://api.github.com/repos/celery/celery/git/trees/6f32e54bbc0acd894cceb9ce14369f7ede0b2edd"}, "url": "https://api.github.com/repos/celery/celery/git/commits/c6eef1b339f57296c7d94130c1083b945e39e567", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfI9l+CRBK7hj4Ov3rIwAAdHIIAA/AZsFy8TeZq1irihXMPwcP\nki0UOuD9hCpGTlxrUlVirqJXdPmV+z5jD9IHp+ux2BBoC2zLseDMzHQSr+jxs0a6\ncpe5In50B31qQlYnfaxZqREjxaJdV7IOmjJp2ObcBwwmHA8gG9pzgfCUuzmY+OU7\nzn49wRwWcLvtKGB/B3a8Dd0fhS8ZSxKXuVf9HG3GB3/4/dRNzBjz7/7pBisLylFT\nf5ML6Sl6yFA2cgZ8iSMbfTCypSbgD1u1PkVi1mx8T7BXq3+cfs+5FvSAml4u7Nl/\nIxx6u1uBXoTARlTJLM06c+y0X0iya4C5zlQFYSEtpFyLUxiFyo7nTKiR93WQqjI=\n=tsWN\n-----END PGP SIGNATURE-----\n", "payload": "tree 6f32e54bbc0acd894cceb9ce14369f7ede0b2edd\nparent ced5826162cbd74a7da5774c665a759aa4863433\nauthor Thomas Grainger <tagrain@gmail.com> 1596184958 +0100\ncommitter GitHub <noreply@github.com> 1596184958 +0600\n\nfix LTGM Alert: Module '...' is imported with both 'import' and 'imp\u2026 (#6264)\n\n* fix LTGM Alert: Module 'riak' is imported with both 'import' and 'import from'\r\n\r\n* fix LGTM Alert: Module 'gevent' is imported with both 'import' and 'import from'\r\n\r\n* fix LGTM Alert: Module 'redis' is imported with both 'import' and 'import from'"}}, "url": "https://api.github.com/repos/celery/celery/commits/c6eef1b339f57296c7d94130c1083b945e39e567", "html_url": "https://github.com/celery/celery/commit/c6eef1b339f57296c7d94130c1083b945e39e567", "comments_url": "https://api.github.com/repos/celery/celery/commits/c6eef1b339f57296c7d94130c1083b945e39e567/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ced5826162cbd74a7da5774c665a759aa4863433", "url": "https://api.github.com/repos/celery/celery/commits/ced5826162cbd74a7da5774c665a759aa4863433", "html_url": "https://github.com/celery/celery/commit/ced5826162cbd74a7da5774c665a759aa4863433"}]}, {"sha": "ced5826162cbd74a7da5774c665a759aa4863433", "node_id": "MDY6Q29tbWl0MTg0NDYwOmNlZDU4MjYxNjJjYmQ3NGE3ZGE1Nzc0YzY2NWE3NTlhYTQ4NjM0MzM=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-07-31T04:58:24Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-31T04:58:24Z"}, "message": "switch to official amazon/dynamodb-local, use httping/expect to verify service statuses (#6268)\n\n* switch to official amazon dynamodb-local\r\n\r\nhttps://github.com/dwmkerr/docker-dynamodb/pull/18\r\n\r\n* check dynamodb alive with httping\r\n\r\n* amazon/dynamodb-local defaults to -inMemory\r\n\r\nCMD [\"-jar\" \"DynamoDBLocal.jar\" \"-inMemory\"]\r\n\r\nhttps://web.archive.org/web/20200730220017/https://microbadger.com/images/amazon/dynamodb-local\r\n\r\n* use httping to check for http service startup\r\n\r\nnc passed even when dynamodb wasn't ready\r\n\r\n* run the management version of rabbitmq\r\n\r\n* check if memcached is running with expect", "tree": {"sha": "1476bb058268b40b3399540ef1cc3cf68a1e1a67", "url": "https://api.github.com/repos/celery/celery/git/trees/1476bb058268b40b3399540ef1cc3cf68a1e1a67"}, "url": "https://api.github.com/repos/celery/celery/git/commits/ced5826162cbd74a7da5774c665a759aa4863433", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfI6TwCRBK7hj4Ov3rIwAAdHIIAHBs02C4s36+kIAMMrSWOUFF\nxdZCoDNvlkyJ5933Z1uDqAgp4xh2OR+xrHa8d3ta7la2Bjc45BdWywCBoEhxX7zk\nEEygwM95Oe93E2QkK03SeuAvAt8STBUTHwVHNdGy4lPA7NdaqvJRejVK6GTK4MIU\nkFpERw+TWRLEXy2uJlsfJIEWr0uhwnNUOso5WC1GSw3PITxXT3aXEXAxoZNgjI3K\ngaGGLb3TCXYjCyTf7hAvvhrwp8vTsykgBcwqBLgs5zj11N9gopvkJhI1RhbBNRyc\nuvgMkamcKLNTmyMtXAzcYrlztsAkXcnCmJ+dOtb38XwZeCHAE4x9/0I0EQFlKbg=\n=OwN4\n-----END PGP SIGNATURE-----\n", "payload": "tree 1476bb058268b40b3399540ef1cc3cf68a1e1a67\nparent 6f514ce7b2f0ce586e183e5dfa59032da03c97dc\nauthor Thomas Grainger <tagrain@gmail.com> 1596171504 +0100\ncommitter GitHub <noreply@github.com> 1596171504 +0600\n\nswitch to official amazon/dynamodb-local, use httping/expect to verify service statuses (#6268)\n\n* switch to official amazon dynamodb-local\r\n\r\nhttps://github.com/dwmkerr/docker-dynamodb/pull/18\r\n\r\n* check dynamodb alive with httping\r\n\r\n* amazon/dynamodb-local defaults to -inMemory\r\n\r\nCMD [\"-jar\" \"DynamoDBLocal.jar\" \"-inMemory\"]\r\n\r\nhttps://web.archive.org/web/20200730220017/https://microbadger.com/images/amazon/dynamodb-local\r\n\r\n* use httping to check for http service startup\r\n\r\nnc passed even when dynamodb wasn't ready\r\n\r\n* run the management version of rabbitmq\r\n\r\n* check if memcached is running with expect"}}, "url": "https://api.github.com/repos/celery/celery/commits/ced5826162cbd74a7da5774c665a759aa4863433", "html_url": "https://github.com/celery/celery/commit/ced5826162cbd74a7da5774c665a759aa4863433", "comments_url": "https://api.github.com/repos/celery/celery/commits/ced5826162cbd74a7da5774c665a759aa4863433/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6f514ce7b2f0ce586e183e5dfa59032da03c97dc", "url": "https://api.github.com/repos/celery/celery/commits/6f514ce7b2f0ce586e183e5dfa59032da03c97dc", "html_url": "https://github.com/celery/celery/commit/6f514ce7b2f0ce586e183e5dfa59032da03c97dc"}]}, {"sha": "6f514ce7b2f0ce586e183e5dfa59032da03c97dc", "node_id": "MDY6Q29tbWl0MTg0NDYwOjZmNTE0Y2U3YjJmMGNlNTg2ZTE4M2U1ZGZhNTkwMzJkYTAzYzk3ZGM=", "commit": {"author": {"name": "Maksym Shalenyi", "email": "supamaxy@gmail.com", "date": "2020-07-30T16:14:44Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-30T16:14:44Z"}, "message": "(Fixes #6258) MongoDB: fix for serialization issue  (#6259)\n\n* MongoDB: fix serialization issue\r\n\r\n* make python2.7 happy\r\n\r\n* make python2.7 happy\r\n\r\n* make flake8 happy\r\n\r\n* use pytest.importorskip\r\n\r\n* add myself to CONTRIBUTORS.txt\r\n\r\nCo-authored-by: Maksym Shalenyi <mshalenyi@localhost.localdomain>", "tree": {"sha": "b5a7b1ceed6da9f99f09d84bc8f9126140f9a292", "url": "https://api.github.com/repos/celery/celery/git/trees/b5a7b1ceed6da9f99f09d84bc8f9126140f9a292"}, "url": "https://api.github.com/repos/celery/celery/git/commits/6f514ce7b2f0ce586e183e5dfa59032da03c97dc", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfIvH0CRBK7hj4Ov3rIwAAdHIIAJmAbHGzogBvXJXIt03Qtrz4\nLWX9UdxHE8OR6zAwyaGPLpeVmkB2qzpJb2kr6P8XLVOwvDXqhtTtYGLXsz1Syczb\n6RvN07cipJtqgJDK6U7J7Hj1zd1XzVKOT7T++2+nD1dwvemZlrXepOHeMCBdUPiJ\nY9CKOEqwKpCphrN2afhh6uL9cSrousinJZ4heyo9yVaUHJn3iYLYUqTStnzzDQxH\nOn5GPFE0v/EGV5g8hRGEaNKKqCNsK95yUukXR8qr8jy397b0h7n/kcyjOfKst5PR\ncnTYzU1pXUJHGOc/7nXA3uO+FbOecrFG6M/PdwuMlCRgmc4p98DB6Sv3X0P+QL8=\n=05so\n-----END PGP SIGNATURE-----\n", "payload": "tree b5a7b1ceed6da9f99f09d84bc8f9126140f9a292\nparent edf36d1855b8eed20c3784393a06d25909fd885d\nauthor Maksym Shalenyi <supamaxy@gmail.com> 1596125684 -0700\ncommitter GitHub <noreply@github.com> 1596125684 +0600\n\n(Fixes #6258) MongoDB: fix for serialization issue  (#6259)\n\n* MongoDB: fix serialization issue\r\n\r\n* make python2.7 happy\r\n\r\n* make python2.7 happy\r\n\r\n* make flake8 happy\r\n\r\n* use pytest.importorskip\r\n\r\n* add myself to CONTRIBUTORS.txt\r\n\r\nCo-authored-by: Maksym Shalenyi <mshalenyi@localhost.localdomain>"}}, "url": "https://api.github.com/repos/celery/celery/commits/6f514ce7b2f0ce586e183e5dfa59032da03c97dc", "html_url": "https://github.com/celery/celery/commit/6f514ce7b2f0ce586e183e5dfa59032da03c97dc", "comments_url": "https://api.github.com/repos/celery/celery/commits/6f514ce7b2f0ce586e183e5dfa59032da03c97dc/comments", "author": {"login": "enkidulan", "id": 963412, "node_id": "MDQ6VXNlcjk2MzQxMg==", "avatar_url": "https://avatars2.githubusercontent.com/u/963412?v=4", "gravatar_id": "", "url": "https://api.github.com/users/enkidulan", "html_url": "https://github.com/enkidulan", "followers_url": "https://api.github.com/users/enkidulan/followers", "following_url": "https://api.github.com/users/enkidulan/following{/other_user}", "gists_url": "https://api.github.com/users/enkidulan/gists{/gist_id}", "starred_url": "https://api.github.com/users/enkidulan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/enkidulan/subscriptions", "organizations_url": "https://api.github.com/users/enkidulan/orgs", "repos_url": "https://api.github.com/users/enkidulan/repos", "events_url": "https://api.github.com/users/enkidulan/events{/privacy}", "received_events_url": "https://api.github.com/users/enkidulan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "edf36d1855b8eed20c3784393a06d25909fd885d", "url": "https://api.github.com/repos/celery/celery/commits/edf36d1855b8eed20c3784393a06d25909fd885d", "html_url": "https://github.com/celery/celery/commit/edf36d1855b8eed20c3784393a06d25909fd885d"}]}, {"sha": "edf36d1855b8eed20c3784393a06d25909fd885d", "node_id": "MDY6Q29tbWl0MTg0NDYwOmVkZjM2ZDE4NTViOGVlZDIwYzM3ODQzOTNhMDZkMjU5MDlmZDg4NWQ=", "commit": {"author": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-07-30T13:35:56Z"}, "committer": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-07-30T13:35:56Z"}, "message": "Improve template.", "tree": {"sha": "4c67aa01e0355e78fe0403fc5fa2e02c992d13a6", "url": "https://api.github.com/repos/celery/celery/git/trees/4c67aa01e0355e78fe0403fc5fa2e02c992d13a6"}, "url": "https://api.github.com/repos/celery/celery/git/commits/edf36d1855b8eed20c3784393a06d25909fd885d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/edf36d1855b8eed20c3784393a06d25909fd885d", "html_url": "https://github.com/celery/celery/commit/edf36d1855b8eed20c3784393a06d25909fd885d", "comments_url": "https://api.github.com/repos/celery/celery/commits/edf36d1855b8eed20c3784393a06d25909fd885d/comments", "author": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "79f2d2f02beff26b64e0f7f6924312038219bc92", "url": "https://api.github.com/repos/celery/celery/commits/79f2d2f02beff26b64e0f7f6924312038219bc92", "html_url": "https://github.com/celery/celery/commit/79f2d2f02beff26b64e0f7f6924312038219bc92"}]}, {"sha": "79f2d2f02beff26b64e0f7f6924312038219bc92", "node_id": "MDY6Q29tbWl0MTg0NDYwOjc5ZjJkMmYwMmJlZmYyNmI2NGUwZjdmNjkyNDMxMjAzODIxOWJjOTI=", "commit": {"author": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-07-30T12:28:55Z"}, "committer": {"name": "Omer Katz", "email": "omer.drow@gmail.com", "date": "2020-07-30T12:28:55Z"}, "message": "Added a new template for releasing a new version.", "tree": {"sha": "c6062a348f66b43bdd88d89a8d99e728c3389d66", "url": "https://api.github.com/repos/celery/celery/git/trees/c6062a348f66b43bdd88d89a8d99e728c3389d66"}, "url": "https://api.github.com/repos/celery/celery/git/commits/79f2d2f02beff26b64e0f7f6924312038219bc92", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/79f2d2f02beff26b64e0f7f6924312038219bc92", "html_url": "https://github.com/celery/celery/commit/79f2d2f02beff26b64e0f7f6924312038219bc92", "comments_url": "https://api.github.com/repos/celery/celery/commits/79f2d2f02beff26b64e0f7f6924312038219bc92/comments", "author": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thedrow", "id": 48936, "node_id": "MDQ6VXNlcjQ4OTM2", "avatar_url": "https://avatars2.githubusercontent.com/u/48936?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thedrow", "html_url": "https://github.com/thedrow", "followers_url": "https://api.github.com/users/thedrow/followers", "following_url": "https://api.github.com/users/thedrow/following{/other_user}", "gists_url": "https://api.github.com/users/thedrow/gists{/gist_id}", "starred_url": "https://api.github.com/users/thedrow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thedrow/subscriptions", "organizations_url": "https://api.github.com/users/thedrow/orgs", "repos_url": "https://api.github.com/users/thedrow/repos", "events_url": "https://api.github.com/users/thedrow/events{/privacy}", "received_events_url": "https://api.github.com/users/thedrow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "54a5e491eec9b6afb6cfc6633646fea3ef53dcde", "url": "https://api.github.com/repos/celery/celery/commits/54a5e491eec9b6afb6cfc6633646fea3ef53dcde", "html_url": "https://github.com/celery/celery/commit/54a5e491eec9b6afb6cfc6633646fea3ef53dcde"}]}, {"sha": "54a5e491eec9b6afb6cfc6633646fea3ef53dcde", "node_id": "MDY6Q29tbWl0MTg0NDYwOjU0YTVlNDkxZWVjOWI2YWZiNmNmYzY2MzM2NDZmZWEzZWY1M2RjZGU=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-07-29T17:29:52Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-29T17:29:52Z"}, "message": "pin pytest versions to semver range appropriate for python_version + upgrade pytest to v6 on py3 (#6257)\n\n* pin pytest versions to semver range appropriate for python_version\r\n\r\n* upgrade to pytest 6 on py3\r\n\r\n* catch the new Failed exception raised by fnmatch_lines_random", "tree": {"sha": "19976933a721433d5c70d874565d82c9c928379a", "url": "https://api.github.com/repos/celery/celery/git/trees/19976933a721433d5c70d874565d82c9c928379a"}, "url": "https://api.github.com/repos/celery/celery/git/commits/54a5e491eec9b6afb6cfc6633646fea3ef53dcde", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfIbIQCRBK7hj4Ov3rIwAAdHIIAFJ3/XT0hjJh+1M7zEsDAcIn\npGVg3oX3WFaA7OQqIrJLyX19cRjBnJIvNyVMIKQcvsp3CjpQwukGSRyD0fjM7Rrs\nH3nC0lQVeo9bCnsRZwS2qQm5wHoqdErAWPQ3UfimJwts85LzeGBB7gYeLaMGSh2s\nWhviTo/ldldXjRKH9SlqMnQXV0Ih5xsKGe73KkixiAr2x78UhbSRKselP4UVirw0\nDEraRCpS8DzoTK0BgsKysDq7lhfz9RDX5zpZUbQYAmdIZRH8EOTyhfT1Rc4dDeND\nvsuVbm+8MZSm+yDvsUPiFFuTGgPm8sBu3FbIr6t6SzTscvRrDq2npUe2gu4tEDk=\n=QAZZ\n-----END PGP SIGNATURE-----\n", "payload": "tree 19976933a721433d5c70d874565d82c9c928379a\nparent c57100beb179621f4f8f4f33098d0d748ad54a0e\nauthor Thomas Grainger <tagrain@gmail.com> 1596043792 +0100\ncommitter GitHub <noreply@github.com> 1596043792 +0600\n\npin pytest versions to semver range appropriate for python_version + upgrade pytest to v6 on py3 (#6257)\n\n* pin pytest versions to semver range appropriate for python_version\r\n\r\n* upgrade to pytest 6 on py3\r\n\r\n* catch the new Failed exception raised by fnmatch_lines_random"}}, "url": "https://api.github.com/repos/celery/celery/commits/54a5e491eec9b6afb6cfc6633646fea3ef53dcde", "html_url": "https://github.com/celery/celery/commit/54a5e491eec9b6afb6cfc6633646fea3ef53dcde", "comments_url": "https://api.github.com/repos/celery/celery/commits/54a5e491eec9b6afb6cfc6633646fea3ef53dcde/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars3.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c57100beb179621f4f8f4f33098d0d748ad54a0e", "url": "https://api.github.com/repos/celery/celery/commits/c57100beb179621f4f8f4f33098d0d748ad54a0e", "html_url": "https://github.com/celery/celery/commit/c57100beb179621f4f8f4f33098d0d748ad54a0e"}]}, {"sha": "c57100beb179621f4f8f4f33098d0d748ad54a0e", "node_id": "MDY6Q29tbWl0MTg0NDYwOmM1NzEwMGJlYjE3OTYyMWY0ZjhmNGYzMzA5OGQwZDc0OGFkNTRhMGU=", "commit": {"author": {"name": "Thomas Grainger", "email": "tagrain@gmail.com", "date": "2020-07-29T14:43:18Z"}, "committer": {"name": "Asif Saif Uddin", "email": "auvipy@gmail.com", "date": "2020-07-29T16:07:08Z"}, "message": "reduce timeout in test canvas\n\nTravis will timout a CI build job that emits no lines for 10 minutes,\nand because when TIMEOUT=120,reruns=5: TIMEOUT*reruns = 10 minutes\nthe whole build is terminated\n\n```\nt/integration/test_canvas.py::test_chain::test_group_result_not_has_cache\n+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++\n\n~~~~~~~~~~~~~~~~~~~~~ Stack of Thread-1 (139735813543680) ~~~~~~~~~~~~~~~~~~~~~~\n  File \"/opt/python/3.8.3/lib/python3.8/threading.py\", line 890, in _bootstrap\n    self._bootstrap_inner()\n  File \"/opt/python/3.8.3/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\n    self.run()\n  File \"/opt/python/3.8.3/lib/python3.8/threading.py\", line 870, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/home/travis/build/celery/celery/celery/worker/worker.py\", line 208, in start\n    self.blueprint.start(self)\n  File \"/home/travis/build/celery/celery/celery/bootsteps.py\", line 119, in start\n    step.start(parent)\n  File \"/home/travis/build/celery/celery/celery/bootsteps.py\", line 369, in start\n    return self.obj.start()\n  File \"/home/travis/build/celery/celery/celery/worker/consumer/consumer.py\", line 318, in start\n    blueprint.start(self)\n  File \"/home/travis/build/celery/celery/celery/bootsteps.py\", line 119, in start\n    step.start(parent)\n  File \"/home/travis/build/celery/celery/celery/worker/consumer/consumer.py\", line 599, in start\n    c.loop(*c.loop_args())\n  File \"/home/travis/build/celery/celery/celery/worker/loops.py\", line 83, in asynloop\n    next(loop)\n  File \"/home/travis/build/celery/celery/.tox/3.8-integration-rabbitmq/lib/python3.8/site-packages/kombu/asynchronous/hub.py\", line 308, in create_loop\n    events = poll(poll_timeout)\n  File \"/home/travis/build/celery/celery/.tox/3.8-integration-rabbitmq/lib/python3.8/site-packages/kombu/utils/eventio.py\", line 84, in poll\n    return self._epoll.poll(timeout if timeout is not None else -1)\n\n~~~~~~~~~~~~~~~~~~~~~ Stack of <unknown> (139735944996608) ~~~~~~~~~~~~~~~~~~~~~\n  File \"/home/travis/build/celery/celery/.tox/3.8-integration-rabbitmq/lib/python3.8/site-packages/execnet/gateway_base.py\", line 285, in _perform_spawn\n    reply.run()\n  File \"/home/travis/build/celery/celery/.tox/3.8-integration-rabbitmq/lib/python3.8/site-packages/execnet/gateway_base.py\", line 220, in run\n    self._result = func(*args, **kwargs)\n  File \"/home/travis/build/celery/celery/.tox/3.8-integration-rabbitmq/lib/python3.8/site-packages/execnet/gateway_base.py\", line 967, in _thread_receiver\n    msg = Message.from_io(io)\n  File \"/home/travis/build/celery/celery/.tox/3.8-integration-rabbitmq/lib/python3.8/site-packages/execnet/gateway_base.py\", line 432, in from_io\n    header = io.read(9)  # type 1, channel 4, payload 4\n  File \"/home/travis/build/celery/celery/.tox/3.8-integration-rabbitmq/lib/python3.8/site-packages/execnet/gateway_base.py\", line 400, in read\n    data = self._read(numbytes - len(buf))\n\n+++++++++++++++++++++++++++++++++++ Timeout ++++++++++++++++++++++++++++++++++++\n\n[gw0] \u001b[33mRERUN\u001b[0m t/integration/test_canvas.py::test_chain::test_group_result_not_has_cache\n```", "tree": {"sha": "e93a0cda6df00b5381fc1a7baaad34a7b4afa76f", "url": "https://api.github.com/repos/celery/celery/git/trees/e93a0cda6df00b5381fc1a7baaad34a7b4afa76f"}, "url": "https://api.github.com/repos/celery/celery/git/commits/c57100beb179621f4f8f4f33098d0d748ad54a0e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/celery/celery/commits/c57100beb179621f4f8f4f33098d0d748ad54a0e", "html_url": "https://github.com/celery/celery/commit/c57100beb179621f4f8f4f33098d0d748ad54a0e", "comments_url": "https://api.github.com/repos/celery/celery/commits/c57100beb179621f4f8f4f33098d0d748ad54a0e/comments", "author": {"login": "graingert", "id": 413772, "node_id": "MDQ6VXNlcjQxMzc3Mg==", "avatar_url": "https://avatars3.githubusercontent.com/u/413772?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graingert", "html_url": "https://github.com/graingert", "followers_url": "https://api.github.com/users/graingert/followers", "following_url": "https://api.github.com/users/graingert/following{/other_user}", "gists_url": "https://api.github.com/users/graingert/gists{/gist_id}", "starred_url": "https://api.github.com/users/graingert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graingert/subscriptions", "organizations_url": "https://api.github.com/users/graingert/orgs", "repos_url": "https://api.github.com/users/graingert/repos", "events_url": "https://api.github.com/users/graingert/events{/privacy}", "received_events_url": "https://api.github.com/users/graingert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "auvipy", "id": 6212603, "node_id": "MDQ6VXNlcjYyMTI2MDM=", "avatar_url": "https://avatars1.githubusercontent.com/u/6212603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/auvipy", "html_url": "https://github.com/auvipy", "followers_url": "https://api.github.com/users/auvipy/followers", "following_url": "https://api.github.com/users/auvipy/following{/other_user}", "gists_url": "https://api.github.com/users/auvipy/gists{/gist_id}", "starred_url": "https://api.github.com/users/auvipy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/auvipy/subscriptions", "organizations_url": "https://api.github.com/users/auvipy/orgs", "repos_url": "https://api.github.com/users/auvipy/repos", "events_url": "https://api.github.com/users/auvipy/events{/privacy}", "received_events_url": "https://api.github.com/users/auvipy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "792515b4340253e944ed4a1709c9dbee337644c0", "url": "https://api.github.com/repos/celery/celery/commits/792515b4340253e944ed4a1709c9dbee337644c0", "html_url": "https://github.com/celery/celery/commit/792515b4340253e944ed4a1709c9dbee337644c0"}]}]